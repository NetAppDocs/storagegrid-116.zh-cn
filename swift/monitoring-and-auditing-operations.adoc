---
permalink: swift/monitoring-and-auditing-operations.html 
sidebar: sidebar 
keywords: monitor operations, audit operations 
summary: 您可以通过查看整个网格或特定节点的事务趋势来监控客户端操作的工作负载和效率。您可以使用审核消息监控客户端操作和事务。 
---
= 监控和审核操作
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以通过查看整个网格或特定节点的事务趋势来监控客户端操作的工作负载和效率。您可以使用审核消息监控客户端操作和事务。



== 监控对象载入和检索速率

您可以监控对象载入和检索速率，以及对象计数，查询和验证的指标。您可以查看客户端应用程序在 StorageGRID 系统中成功尝试读取，写入和修改对象的次数和失败的尝试次数。

.步骤
. 使用登录到网格管理器 xref:../admin/web-browser-requirements.adoc[支持的 Web 浏览器]。
. 在信息板上，找到协议操作部分。
+
本节总结了 StorageGRID 系统执行的客户端操作的数量。协议速率是过去两分钟的平均值。

. 选择 * 节点 * 。
. 从节点主页（部署级别）中，单击 * 负载平衡器 * 选项卡。
+
这些图表显示了定向到网格中负载平衡器端点的所有客户端流量的趋势。您可以选择以小时，天，周，月或年为单位的时间间隔， 或者，您也可以应用自定义间隔。

. 从节点主页（部署级别）中，单击 * 对象 * 选项卡。
+
此图表显示了整个 StorageGRID 系统的载入和检索速率，以每秒字节数和总字节数为单位。您可以选择以小时，天，周，月或年为单位的时间间隔， 或者，您也可以应用自定义间隔。

. 要查看特定存储节点的信息，请从左侧列表中选择该节点，然后单击 * 对象 * 选项卡。
+
此图表显示了此存储节点的对象载入速率和检索速率。此选项卡还包括对象计数，查询和验证的指标。您可以单击这些标签以查看这些指标的定义。

+
image::../media/nodes_storage_node_objects_help.png[节点 >_Storage Nodge_ > 对象 > 属性帮助的屏幕截图]

. 如果您需要更多详细信息：
+
.. 选择 * 支持 * > * 工具 * > * 网格拓扑 * 。
.. 选择 * 站点 _* > * 概述 * > * 主要 * 。
+
API Operations 部分显示整个网格的摘要信息。

.. 选择 * 存储节点 _* > * LDR* > * 客户端应用程序 _* > * 概述 * > * 主 *
+
操作部分显示选定存储节点的摘要信息。







== 访问和查看审核日志

审核消息由 StorageGRID 服务生成并存储在文本日志文件中。审核日志中特定于 API 的审核消息提供关键的安全性，操作和性能监控数据，可帮助您评估系统的运行状况。

.您需要什么？ #8217 ；将需要什么
* 您必须具有特定的访问权限。
* 您必须具有 `passwords.txt` 文件。
* 您必须知道管理节点的 IP 地址。


活动审核日志文件名为 `audit.log` ，并存储在管理节点上。

每天保存一次活动的 audit.log 文件，并启动一个新的 audit.log 文件。已保存文件的名称以 `yyyy-mm-dd.txt` 格式指示其保存时间。

一天之后，保存的文件将被压缩并重命名，格式为 `yyyy-mm-dd.txt.gz` ，从而保留原始日期。

此示例显示了活动的 audit.log 文件，前一天的文件（ 2018-04-15.txt ）以及前一天的压缩文件（`2018-04-14.txt.gz` ）。

[listing]
----
audit.log
2018-04-15.txt
2018-04-14.txt.gz
----
.步骤
. 登录到管理节点：
+
.. 输入以下命令： `ssh _admin@primary_Admin_Node_IP_`
.. 输入 `passwords.txt` 文件中列出的密码。


. 转到包含审核日志文件的目录：``cd /var/local/audit/export``
. 根据需要查看当前审核日志文件或已保存的审核日志文件。


xref:../audit/index.adoc[查看审核日志]



=== 审核日志中跟踪的 Swift 操作

所有成功的存储删除， GET ， HEAD ， POST 和 PUT 操作都会在 StorageGRID 审核日志中进行跟踪。不会记录故障，也不会记录信息，身份验证或选项请求。

有关为以下 Swift 操作跟踪的信息的详细信息，请参见 _ 了解审核消息 _ 。



==== 帐户操作

* 获取帐户
* 主帐户




==== 容器操作

* 删除容器
* 获取容器
* 机头容器
* 放入容器




==== 对象操作

* 删除对象
* 获取对象
* head 对象
* PUT 对象


xref:../audit/index.adoc[查看审核日志]

xref:account-operations.adoc[帐户操作]

xref:container-operations.adoc[容器操作]

xref:object-operations.adoc[对象操作]
