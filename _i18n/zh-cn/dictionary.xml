<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="8d375e9cbd91fd8211f2544d2c6b901f" category="summary">您必须将两个控制器彼此连接，连接每个控制器上的管理端口，并将 E5700SG 控制器上的 10/25/GbE 端口连接到网格网络和适用于 StorageGRID 的可选客户端网络。</block>
  <block id="f04a293a1824c897570164410da2fb8b" category="doc">缆线设备（ SG5700 ）</block>
  <block id="a711863513c11f3a6d86294acc7be0ba" category="list-title">您需要什么？ #8217 ；将需要什么</block>
  <block id="2232e409a421d74689d60e7c21b0e09f" category="list-text">您已解压缩设备附带的以下物品：</block>
  <block id="ffeb9cac079030f830b769ebeaa775af" category="list-text">两根电源线。</block>
  <block id="b012b53dea773668529055d6897ecad6" category="list-text">两根光缆用于控制器上的 FC 互连端口。</block>
  <block id="bf748d3abfe241aa37a21d0b46138c77" category="list-text">八个 SFP+ 收发器，支持 10-GbE 或 16-Gbps FC 。如果您希望网络端口使用 10-GbE 链路速度，则可以将收发器与两个控制器上的两个互连端口以及 E5700SG 控制器上的四个 10/25GbE 网络端口结合使用。</block>
  <block id="74a490fc2df0e53e927967ac5b2356ab" category="list-text">您已获取以下项目，但这些项目不包含在设备中：</block>
  <block id="a829bdfa7828f6c8c5e3babbbcddca76" category="list-text">一到四根光缆，用于您计划使用的 10/225-GbE 端口。</block>
  <block id="ef5f6d11898d5e411128597fb86ae533" category="list-text">如果您计划使用 25 GbE 链路速度，则需要一到四个 SFP28 收发器。</block>
  <block id="e5e351b4147df79cc7937228d6a42118" category="list-text">用于连接管理端口的以太网缆线。</block>
  <block id="a46689998f984e419518238d0a239bba" category="admonition">* 受到激光辐射的风险 * —请勿拆卸或卸下 SFP 收发器的任何部件。您可能受到激光辐射的影响。</block>
  <block id="b2dc3a594576757454287f3ae8b82a4b" category="paragraph">此图显示了 SG5760 中的两个控制器，其中 E2800 控制器位于顶部， E5700SG 控制器位于底部。在 SG5712 中，从背面查看时， E2800 控制器位于 E5700SG 控制器的左侧。</block>
  <block id="801d31158f0f254a66c589d9076fac05" category="image-alt">SG5760 设备上的连接</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="cell"></block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">Port</block>
  <block id="3672cca688eb0474cd3fee2add1a2067" category="cell">端口类型</block>
  <block id="86408593c34af77fdd90df932f8b5261" category="cell">功能</block>
  <block id="c4ca4238a0b923820dcc509a6f75849b" category="paragraph">1.</block>
  <block id="443794dd25504cd14d1a41212627c99c" category="paragraph">每个控制器上两个互连端口</block>
  <block id="3951fbfd8eb148930d016851943e4494" category="paragraph">16 GB/s FC 光纤 SFP+</block>
  <block id="06e35e2b6a0f027f295915008d7db2f3" category="paragraph">将两个控制器彼此连接。</block>
  <block id="c81e728d9d4c2f636f067f89cc14862c" category="paragraph">2.</block>
  <block id="031d856041fc345ac0035abedf8b82f0" category="paragraph">E2800 控制器上的管理端口 1</block>
  <block id="34d8fc0662ae876f7c4e30491ff7405d" category="paragraph">1-GbE （ RJ-45 ）</block>
  <block id="365414ce7b6c8ee52156b5d4f425fbed" category="paragraph">连接到访问 SANtricity System Manager 的网络。您可以使用适用于 StorageGRID 的管理网络或独立的管理网络。</block>
  <block id="28c9460900938706f88b6b113ba25ddc" category="paragraph">E2800 控制器上的管理端口 2</block>
  <block id="409518502f498e2f7386c13c28afd133" category="paragraph">为技术支持预留。</block>
  <block id="eccbc87e4b5ce2fe28308fd9f2a7baf3" category="paragraph">3.</block>
  <block id="ba1f4da88448cc8647660eeab4dbd963" category="paragraph">E5700SG 控制器上的管理端口 1</block>
  <block id="7fa07aed74cb77854312626d61bb5205" category="paragraph">将 E5700SG 控制器连接到 StorageGRID 管理网络。</block>
  <block id="afa220906d6055bcbe452e0ad31a314c" category="paragraph">E5700SG 控制器上的管理端口 2</block>
  <block id="eba5fb90416b4d1ec056dd96b4b9a9bb" category="list-text">如果要与管理网络建立冗余连接，则可以与管理端口 1 绑定。</block>
  <block id="f55678255533f6cfac0ae4062160782e" category="list-text">可以保持未连接状态，并可用于临时本地访问（ IP 169.254.0.1 ）。</block>
  <block id="ea4b912933a3e54554c789b8771c1021" category="list-text">在安装期间，如果 DHCP 分配的 IP 地址不可用，则可以使用将 E5700SG 控制器连接到服务笔记本电脑。</block>
  <block id="a87ff679a2f3e71d9181a67b7542122c" category="paragraph">4.</block>
  <block id="14f1f542685410fabd83cd71e8241d92" category="paragraph">E5700SG 控制器上的 10/225-GbE 端口 1-4</block>
  <block id="823e505b560ce7d482715e1c8247646b" category="paragraph">10-GbE 或 25-GbE</block>
  <block id="d849ba432f48c3e9235c7de48f326c91" category="paragraph">* 注： * 设备附带的 SFP+ 收发器支持 10-GbE 链路速度。如果要对四个网络端口使用 25 GbE 链路速度，则必须提供 SFP28 收发器。</block>
  <block id="beb1f11be7eac334c7f86d46dfcd2d45" category="paragraph">连接到网格网络和 StorageGRID 客户端网络。请参见 " E5700SG 控制器的`10/225-GbE 端口连接 " 。`</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">步骤</block>
  <block id="c4efe044b7a09cca37a3758891a43edb" category="list-text">使用两根光缆和八个 SFP+ 收发器中的四根光缆将 E2800 控制器连接到 E5700SG 控制器。</block>
  <block id="59de8493dd561ec0379eb8f9a6bf24e3" category="cell">连接此端口 ...</block>
  <block id="c1a9328374a646ff57baf9370880e039" category="cell">到此端口 ...</block>
  <block id="bbacd2077a7120434e8167fb07622364" category="paragraph">E2800 控制器上的互连端口 1</block>
  <block id="62ce03395ad8386bcdd1c7c659c0fed2" category="paragraph">E5700SG 控制器上的互连端口 1</block>
  <block id="517ec6e01c9b3e02d33a596bd9cdd9fa" category="paragraph">E2800 控制器上的互连端口 2</block>
  <block id="183c7f950ccd9a6ab6f594cfa8f17704" category="paragraph">E5700SG 控制器上的互连端口 2</block>
  <block id="18ef407c9b99b3e6daca422161c803ba" category="list-text">如果您计划使用 SANtricity System Manager ，请使用以太网缆线将 E2800 控制器上的管理端口 1 （ P1 ）（左侧的 RJ-45 端口）连接到 SANtricity System Manager 的管理网络。</block>
  <block id="cd79e54e2cbae4d6646314f76f0818b3" category="paragraph">请勿使用 E2800 控制器上的管理端口 2 （ P2 ）（右侧的 RJ-45 端口）。此端口是为技术支持预留的。</block>
  <block id="65fe10776a2b410e156a66ac24fd92f2" category="list-text">如果您计划使用 StorageGRID 管理网络，请使用以太网缆线将 E5700SG 控制器上的管理端口 1 （左侧的 RJ-45 端口）连接到管理网络。</block>
  <block id="2c3de8a16bd150ecf81df3b5571ffbe7" category="paragraph">如果您计划对管理网络使用主动备份网络绑定模式，请使用以太网缆线将 E5700SG 控制器上的管理端口 2 （右侧的 RJ-45 端口）连接到管理网络。</block>
  <block id="d09fe0103e227e76d8fd0f509b9eca2a" category="list-text">使用光缆和 SFP+ 或 SFP28 收发器将 E5700SG 控制器上的 10/225-GbE 端口连接到相应的网络交换机。</block>
  <block id="bbd3e3eacd124ca50c0f5f54242d8c53" category="admonition">所有端口都必须使用相同的链路速度。如果您计划使用 10-GbE 链路速度，请安装 SFP+ 收发器。如果您计划使用 25 GbE 链路速度，请安装 SFP28 收发器。</block>
  <block id="77ae2fbab949e6050a23de85ad5e8f91" category="list-text">如果您计划使用固定端口绑定模式（默认），请将端口连接到 StorageGRID 网格和客户端网络，如表所示。</block>
  <block id="471335d7a6a8f425c044f77aae7d33ca" category="cell">连接到 ...</block>
  <block id="1ae5b9974d788514643767806604b61a" category="paragraph">端口 1</block>
  <block id="85a563332e11fd2e07d7f7116b1471c1" category="paragraph">客户端网络（可选）</block>
  <block id="62d82bceefeb802dfe6a9de3005c6d51" category="paragraph">端口 2</block>
  <block id="29b4bc14189f39f937bf408bd39e60cf" category="paragraph">网格网络</block>
  <block id="0785daded6100e49f5c9a56ddf23aa94" category="paragraph">端口 3</block>
  <block id="72e0914866fe33a6cc62235f3edeb7e9" category="paragraph">端口 4</block>
  <block id="bd32d7832e93b5c0c55218737631f149" category="list-text">如果您计划使用聚合端口绑定模式，请将一个或多个网络端口连接到一个或多个交换机。您应至少连接四个端口中的两个，以避免发生单点故障。如果在一个 LACP 绑定中使用多个交换机，则这些交换机必须支持 MLAG 或等效项。</block>
  <block id="d9eed14fc7b66e99ca0a9535fc8de32c" category="inline-xref-macro">访问 StorageGRID 设备安装程序</block>
  <block id="09c604f05c12dca8e66106e0831ec72c" category="paragraph"><block ref="09c604f05c12dca8e66106e0831ec72c" category="inline-xref-macro-rx"></block></block>
  <block id="a5ac1dd7e1f4ce87996e89fb74443a38" category="inline-xref-macro">E5700SG 控制器端口的端口绑定模式</block>
  <block id="ab79da9b9d1a2ed35c8a5c7318a1a763" category="paragraph"><block ref="ab79da9b9d1a2ed35c8a5c7318a1a763" category="inline-xref-macro-rx"></block></block>
  <block id="4297adb78ebb5e5a6c38ffa5dc3a72c4" category="summary">如果 StorageGRID 设备安装程序无法与 SANtricity 操作系统软件同步，则计算控制器上的七段显示会显示一个错误代码。</block>
  <block id="c481ae325a00656aa1ba65df3c20afd5" category="doc">he error ： Error synchronating with SANtricity OS Software</block>
  <block id="cf7a088ff2604eda20f28b562dfe05de" category="paragraph">如果显示错误代码，请执行此更正操作。</block>
  <block id="de9e2fc191b9929e0b8c5ed00432de14" category="list-text">检查两个控制器之间的两根互连缆线，并确认缆线和 SFP+ 收发器已牢固连接。</block>
  <block id="43211af2971d45de4ca0da2db1bedaf1" category="list-text">根据需要，更换一根或两根缆线或 SFP+ 收发器，然后重试。</block>
  <block id="95b668160cdba261ae790b75887a7068" category="list-text">如果无法解决问题描述 问题，请联系技术支持。</block>
  <block id="2609fdbea8fd72f29d8e113203eb0af0" category="summary">清除密钥管理服务器（ KMS\ ）配置将禁用设备上的节点加密。清除 KMS 配置后，设备上的数据将被永久删除，并且无法再访问。此数据不可恢复。</block>
  <block id="ad996a3ac119eed96220b474615ff46c" category="doc">清除密钥管理服务器配置</block>
  <block id="f624e9fd4edd47905ef494348501fe37" category="paragraph">清除密钥管理服务器（ KMS ）配置将禁用设备上的节点加密。清除 KMS 配置后，设备上的数据将被永久删除，并且无法再访问。此数据不可恢复。</block>
  <block id="d9744099bf6539e9413b885aa8b82a8b" category="paragraph">如果需要保留设备上的数据，则必须先执行节点停用操作步骤 或克隆节点，然后才能清除 KMS 配置。</block>
  <block id="d87465c58386df7fcac3df78509842b5" category="admonition">清除 KMS 后，设备上的数据将被永久删除，并且无法再访问。此数据不可恢复。</block>
  <block id="9b6d5caacf9a5a2c0276599c5f09a29f" category="inline-xref-macro">停用节点</block>
  <block id="ae82a65b1082d2b53e07024536a539a6" category="paragraph"><block ref="5f1270af3eb9626d6a9ee716741f937c" category="inline-xref-macro-rx"></block> 将其包含的任何数据移动到 StorageGRID 中的其他节点。</block>
  <block id="c762395981e13d0b10056b687639d0b2" category="paragraph">清除设备 KMS 配置将禁用节点加密，从而删除设备节点与 StorageGRID 站点的 KMS 配置之间的关联。然后，设备上的数据将被删除，并且设备将保持预安装状态。此过程不能逆转。</block>
  <block id="1167f3d404dbe49b0ea77711d0270d7f" category="paragraph">必须清除 KMS 配置：</block>
  <block id="d0fa678397c6ce5dd9fa67cff3137f5d" category="list-text">在将设备安装到不使用 KMS 或使用其他 KMS 的其他 StorageGRID 系统之前，请先安装此设备。</block>
  <block id="6e7449e39388c70e089a2f3db2ad240d" category="admonition">如果您计划在使用相同 KMS 密钥的 StorageGRID 系统中重新安装设备节点，请勿清除 KMS 配置。</block>
  <block id="d9250059f2e6a3a0886a966474c0dbd3" category="list-text">在恢复和重新安装 KMS 配置丢失且 KMS 密钥不可恢复的节点之前。</block>
  <block id="13d59202c4fe4b227b0ffea4ffc47fde" category="list-text">在退回您的站点上先前使用的任何设备之前。</block>
  <block id="78e2d755d0c3ee81563f0a9e1d1d1118" category="list-text">停用已启用节点加密的设备后。</block>
  <block id="a4acd8f362ef69e75aa7c275c2284a9e" category="admonition">在清除 KMS 以将其数据移动到 StorageGRID 系统中的其他节点之前，请停用此设备。在停用设备之前清除 KMS 将导致数据丢失，并可能导致设备无法运行。</block>
  <block id="bce65269f41e11f840ba14739e9745a3" category="list-text">打开浏览器，然后输入设备计算控制器的 IP 地址之一。+ ` * https://_Controller_IP_:8443*`</block>
  <block id="d6037c87870edda3b6af0ad1f10e8dfb" category="paragraph">` Controller_IP_` 是三个 StorageGRID 网络中任意一个网络上计算控制器（而不是存储控制器）的 IP 地址。</block>
  <block id="cc4b72eaf68a56e3751756225ce52133" category="paragraph">此时将显示 StorageGRID 设备安装程序主页页面。</block>
  <block id="cd2916f9f46b3e024123c6c0202b8d14" category="list-text">选择 * 配置硬件 * &gt; * 节点加密 * 。</block>
  <block id="60c896bdd4a0f80aba9556a7b4ddc643" category="image-alt">Kms 清除配置</block>
  <block id="cd80975d288452eb565f7e329099c92f" category="admonition">如果清除了 KMS 配置，则设备上的数据将被永久删除。此数据不可恢复。</block>
  <block id="643d4b2a6dadfc29d1e4dbda9839b995" category="list-text">在窗口底部，选择 * 清除 KMS 密钥和删除数据 * 。</block>
  <block id="cd75643290ab0c007874c83c2bbee530" category="list-text">如果确实要清除 KMS 配置，请键入 + ` * clear*` + 并选择 * 清除 KMS 密钥和删除数据 * 。</block>
  <block id="a65bec68d20ab76774b15c77fe6e76aa" category="image-alt">kms clear 确认</block>
  <block id="05ef98a9646843a8a3468143a3db462d" category="paragraph">KMS 加密密钥和所有数据将从节点中删除，设备将重新启动。这可能需要长达 20 分钟。</block>
  <block id="d02998317920f8f7ad0339e0f94f8513" category="list-text">验证是否已禁用节点加密，以及是否已从窗口中删除 * 密钥管理服务器详细信息 * 和 * 清除 KMS 密钥和删除数据 * 控件中的密钥和证书信息。</block>
  <block id="d0ddc6bbe872b9f7d4552da32ec0fe8e" category="paragraph">在将设备重新安装到网格中之前，无法在设备上重新启用节点加密。</block>
  <block id="59f06e927b3cafede02a2961d075cc84" category="inline-xref-macro">准备要重新安装的设备</block>
  <block id="d0dd20cfd87eeb75cfc0a30af461cc61" category="paragraph">在设备重新启动并确认 KMS 已清除且设备处于预安装状态后，您可以从 StorageGRID 系统中物理删除此设备。有关的信息，请参见恢复和维护说明 <block ref="a3056ab810365ea1553fbcbdcb1da227" category="inline-xref-macro-rx"></block>。</block>
  <block id="b65133bd67bc300bc21f0c7bd8db4a95" category="inline-xref-macro">管理 StorageGRID</block>
  <block id="17ca69142de7a1be9c13ab3a575873bc" category="paragraph"><block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block></block>
  <block id="0de1a3196dd60bc820a86bf37f8d4fa1" category="summary">您可以为用于将设备连接到网格网络，客户端网络和管理网络的端口配置网络链路。您可以设置链路速度以及端口和网络绑定模式。</block>
  <block id="04e54736519a2d22dcc78573c4653d47" category="doc">配置网络链路（ SG5700 ）</block>
  <block id="223dcbc69a72bd165f4aa0614e5ffc93" category="paragraph">如果您计划对 10/25/GbE 端口使用 25-GbE 链路速度：</block>
  <block id="3f6663bc5c4b504be1ebf9c5efa1b2e4" category="list-text">您已在计划使用的端口中安装 SFP28 收发器。</block>
  <block id="7194bed13143a9cb01566988ed0e94c9" category="list-text">您已将端口连接到可支持这些功能的交换机。</block>
  <block id="bbe66b75e31559ca00622d2d4cbf1722" category="list-text">您了解如何配置交换机以使用此较高的速度。</block>
  <block id="723ab9c3e05e795a1145ad0970aff2eb" category="paragraph">如果您计划对 10/225-GbE 端口使用聚合端口绑定模式， LACP 网络绑定模式或 VLAN 标记：</block>
  <block id="978fa99f06183f41238432afe9f9a384" category="list-text">您已将设备上的端口连接到可支持 VLAN 和 LACP 的交换机。</block>
  <block id="0bd1ebb8adfbf1e090886b61a44fa183" category="list-text">如果多个交换机参与 LACP 绑定，则这些交换机支持多机箱链路聚合组（ MLAG ）或等效项。</block>
  <block id="7a16b458f081a864eaec46c995f71a14" category="list-text">您了解如何将交换机配置为使用 VLAN ， LACP 和 MLAG 或等效项。</block>
  <block id="cbf86ac3f1d65bf121f658300bdf8d03" category="list-text">您知道要用于每个网络的唯一 VLAN 标记。此 VLAN 标记将添加到每个网络数据包中，以确保网络流量路由到正确的网络。</block>
  <block id="8f554d39d27a51e1b5016ba0f84dec2d" category="list-text">如果您计划对管理网络使用主动备份模式，则已将以太网缆线连接到控制器上的两个管理端口。</block>
  <block id="cf041b6517b392ae7522663baaa61875" category="paragraph">此图显示了在固定端口绑定模式（默认配置）下四个 10/225-GbE 端口的绑定方式。</block>
  <block id="1041f3ff488701a55f78e87aaead1bb2" category="image-alt">图中显示了 E5700SG 控制器上的 10/225-GbE 端口如何在固定模式下绑定</block>
  <block id="1eaf6bb9a4bb96ff81a5d26a4cc0314c" category="cell">Callout</block>
  <block id="c40d08edd780d3079d30734fec63c2e4" category="cell">哪些端口已绑定</block>
  <block id="0d61f8370cad1d412f80b84d143e1257" category="paragraph">C</block>
  <block id="fd5168811b98a7c7e102ef6fcfa43078" category="paragraph">如果使用此网络，则端口 1 和 3 将绑定到客户端网络。</block>
  <block id="dfcf28d0734569a6a693bc8194de62bf" category="paragraph">g</block>
  <block id="9a0b20aa83e4ff54db1dc65d7fffc81a" category="paragraph">网格网络的端口 2 和 4 绑定在一起。</block>
  <block id="19d6d931726fa8ddf06039394351abdc" category="paragraph">此图显示了四个 10/25GbE 端口在聚合端口绑定模式下的绑定方式。</block>
  <block id="0380dc87c3cfc071cba7cb59f54212c7" category="image-alt">图中显示了 E5700SG 控制器上的 10/225-GbE 端口如何在聚合模式下绑定</block>
  <block id="3284c42f52e72b4662091694d50f10f0" category="paragraph">所有四个端口都分组在一个 LACP 绑定中，从而允许所有端口用于网格网络和客户端网络流量。</block>
  <block id="d1fe20fa0a1385c3518fbf42f3d7e07c" category="paragraph">下表总结了用于配置四个 10/225-GbE 端口的选项。默认设置以粗体显示。只有在要使用非默认设置时，才需要在链路配置页面上配置设置。</block>
  <block id="c543e567593bf5152e41e60ef790e5ad" category="list-text">* 固定（默认）端口绑定模式 *</block>
  <block id="4b84000763275ea1d2ea187f1e5ef461" category="cell">网络绑定模式</block>
  <block id="0bb5bc8c343d548791adf82612aa51eb" category="cell">客户端网络已禁用（默认）</block>
  <block id="9aa23effe1b468678525d6ee79604d14" category="cell">已启用客户端网络</block>
  <block id="6c3b66c95bb75951ca92ec6bfbafdae9" category="paragraph">Active-Backup （默认）</block>
  <block id="cbebcb15dfcbdd917c675bf0c49bc313" category="list-text">端口 2 和 4 对网格网络使用主动备份绑定。</block>
  <block id="d8d5ed3fafb70356c7242720bb7fced0" category="list-text">不使用端口 1 和 3 。</block>
  <block id="53c6d9c61520fb97dd3815222265a764" category="list-text">VLAN 标记是可选的。</block>
  <block id="89de35ec460d437441c65fd1770b485c" category="list-text">端口 1 和 3 对客户端网络使用主动备份绑定。</block>
  <block id="1c0542c4db19ca662378da27945f72c5" category="list-text">为了方便网络管理员，可以为两个网络指定 VLAN 标记。</block>
  <block id="9b15f75fa33e9c18f38225511d3db03b" category="paragraph">LACP （ 802.3ad ）</block>
  <block id="88b97b86b06db5bac8a14b0d9154ccec" category="list-text">端口 2 和 4 对网格网络使用 LACP 绑定。</block>
  <block id="447779c22cc004aae03c5ae57e09b932" category="list-text">端口 1 和 3 对客户端网络使用 LACP 绑定。</block>
  <block id="f65b65e1fe8f2d7dba41b1c373929ddd" category="list-text">* 聚合端口绑定模式 *</block>
  <block id="7b033b80342bc2d56d11872510db35d5" category="paragraph">仅 LACP （ 802.3ad ）</block>
  <block id="80dc7034cde5ef70d4232cd18523d9aa" category="list-text">端口 1-4 对网格网络使用一个 LACP 绑定。</block>
  <block id="a150f0f0248f25408f6ed62fb986dd86" category="list-text">一个 VLAN 标记用于标识网格网络数据包。</block>
  <block id="8b111108ed2af54a26cbec63e0e1476f" category="list-text">端口 1-4 对网格网络和客户端网络使用一个 LACP 绑定。</block>
  <block id="7a45436a54a32f48c6ee470635f1a4c0" category="list-text">通过两个 VLAN 标记，可以将网格网络数据包与客户端网络数据包隔离。</block>
  <block id="26b275e8b8eb5a79777270693e707aef" category="paragraph">有关端口绑定和网络绑定模式的详细信息，请参见 E5700SG 控制器的 10/225-GbE 端口连接信息。</block>
  <block id="f1a99b7fad676873aef7b273a5342b1e" category="paragraph">此图显示了 E5700SG 控制器上的两个 1-GbE 管理端口如何在管理网络的主动备份网络绑定模式下绑定。</block>
  <block id="ea9ff03a4fb78bdc6ed3e2a8ddb87786" category="image-alt">SG6000 绑定管理端口</block>
  <block id="0739ae8aa2b43e4e7e5a0617281bed7e" category="list-text">从 StorageGRID 设备安装程序的菜单栏中，单击 * 配置网络连接 * &gt; * 链接配置 * 。</block>
  <block id="243a7c2280790d37c7a538bdc19d52a0" category="paragraph">" 网络链路配置 " 页面显示设备示意图，其中包含编号为的网络和管理端口。</block>
  <block id="77d979e54d3376c4d38f1bfa6cf9de42" category="image-alt">SG5712 网络和管理端口</block>
  <block id="3f27fc20f8f9a241b6fd87891d79470a" category="paragraph">链路状态表列出了已编号端口的链路状态（启动 / 关闭）和速度（ 1/25/40/100 Gbps ）。</block>
  <block id="56e01017fd00f54f83374ab44576344a" category="image-alt">SG5712 链路状态</block>
  <block id="0a8523a5bf4cee11579c89bb72ef61bd" category="paragraph">首次访问此页面时：</block>
  <block id="06b313d03bc9392b80c7663422e47690" category="list-text">* 链路速度 * 设置为 * 10GbE 。</block>
  <block id="ee3ab223aa68cc0a434098c1bf72ce26" category="list-text">* 端口绑定模式 * 设置为 * 固定 * 。</block>
  <block id="b8011ea02248c43c026a313aef998e2e" category="list-text">网格网络的 * 网络绑定模式 * 设置为 * 主动备份 * 。</block>
  <block id="4484337f5eb57c24be5343405ae5d3ac" category="list-text">此时将启用 * 管理网络 * ，并将网络绑定模式设置为 * 独立 * 。</block>
  <block id="db11999d9ac559043dba87eeefc4ba89" category="list-text">已禁用 * 客户端网络 * 。</block>
  <block id="5094363aadcf924d16eeee6e52badd21" category="image-alt">显示默认链路配置设置的屏幕截图</block>
  <block id="816068cc0e45ef88c20daeeffae0dd0a" category="list-text">如果您计划对 10/25 GbE 端口使用 25-GbE 链路速度，请从链路速度下拉列表中选择 * 25GbE* 。</block>
  <block id="45e37084bd0fda11a3456be49496c8d6" category="paragraph">您用于网格网络和客户端网络的网络交换机也必须支持此速度并为此速度进行配置。SFP28 收发器必须安装在端口中。</block>
  <block id="293039487f4ff4fec5ef4f4e1f81a512" category="list-text">启用或禁用计划使用的 StorageGRID 网络。</block>
  <block id="00ff9476ca56c71a23618693eb2e9cab" category="paragraph">网格网络为必填项。您不能禁用此网络。</block>
  <block id="3e9f408ad73fc7cd826fb72bcc84ef55" category="list-text">如果设备未连接到管理网络，请取消选中管理网络的 * 启用网络 * 复选框。</block>
  <block id="de719d486fca29338c2be75202da0627" category="image-alt">显示用于启用或禁用管理网络的复选框的屏幕截图</block>
  <block id="d646fc70f6cd20203c1f5b95bd8d8725" category="list-text">如果设备已连接到客户端网络，请选中客户端网络的 * 启用网络 * 复选框。</block>
  <block id="140646e176b2d3b0492b0056489348f8" category="paragraph">现在，将显示 10/225-GbE 端口的客户端网络设置。</block>
  <block id="25c899868c0ab58b54991ab4e420ba6d" category="list-text">请参见表，并配置端口绑定模式和网络绑定模式。</block>
  <block id="2ccb0b801baf3f312bdb548c830407e3" category="paragraph">示例显示：</block>
  <block id="88a89d57ee8c8e6de43897fa4594e363" category="list-text">为网格和客户端网络选择了 * 聚合 * 和 * LACP * 。您必须为每个网络指定唯一的 VLAN 标记。您可以选择 0 到 4095 之间的值。</block>
  <block id="628b5c26ad127e5f7b4637ec9133ff2d" category="list-text">已为管理网络选择 * 主动备份 * 。</block>
  <block id="27843c207a5503a200c2f911dff68338" category="image-alt">显示聚合模式的链路配置设置的屏幕截图</block>
  <block id="4e698c28b5c8e98091f28f6026135279" category="list-text">对所做的选择感到满意后，单击 * 保存 * 。</block>
  <block id="efa7b3e98fc44a6e47ee913492fb7540" category="admonition">如果更改了所连接的网络或链路，则可能会断开连接。如果 1 分钟内未重新连接，请使用分配给 StorageGRID 设备的其他 IP 地址之一重新输入此设备安装程序的 URL ： + ` * https://_E5700SG_Controller_IP_:8443*`</block>
  <block id="1e477928f87cca71c1816d1b7d4509d6" category="summary">您可以在首次部署 StorageGRID 时安装一个或多个 StorageGRID 设备，也可以稍后在扩展过程中添加设备存储节点。在恢复操作中，您可能还需要安装设备存储节点。</block>
  <block id="96e1a5a82d70a24f161f0adb6e19ac8d" category="doc">安装和部署概述</block>
  <block id="899d0fde53d218a0414b0247bca2bedd" category="paragraph">将 StorageGRID 存储设备添加到 StorageGRID 系统包括四个主要步骤：</block>
  <block id="1b00cc38ce0c774b584551475c441a42" category="list-text">准备安装：</block>
  <block id="da5a49fe571d1dae82b3904be30447a5" category="list-text">正在准备安装站点</block>
  <block id="19b77a3e7155f867bf7abd6a5efa98ea" category="list-text">打开包装箱的包装并检查包装箱中的物品</block>
  <block id="5654a586be15ed9fd56b375ed6987c25" category="list-text">获取其他设备和工具</block>
  <block id="4ad4bbb9b0f62a18eded6ec00e67478e" category="list-text">收集 IP 地址和网络信息</block>
  <block id="58ba4de78bd4a7609b29a7314488dd9f" category="list-text">可选：如果您计划对所有设备数据进行加密，请配置外部密钥管理服务器（ KMS ）。有关外部密钥管理的详细信息，请参见 StorageGRID 管理说明。</block>
  <block id="16e1117abef56b58ddb23dce7feb76f6" category="list-text">安装硬件：</block>
  <block id="cb3ab4d950351b5ba82abd97c4c0e6dc" category="list-text">注册硬件</block>
  <block id="fbaa0994226effcd6fc5fd620094524b" category="list-text">将设备安装到机柜或机架中</block>
  <block id="ef3760896c7373dce83905ced7594d84" category="list-text">安装驱动器（仅限 SG5760 ）</block>
  <block id="3aeb8bfaa023c8d47a7d26ce066ed2ab" category="list-text">为设备布线</block>
  <block id="e49c0c6dbc37df5e348c45549f65efa1" category="list-text">连接电源线并接通电源</block>
  <block id="42fbe1a334327d065ed77a176a45cee9" category="list-text">查看启动状态代码</block>
  <block id="a6d8553f8b307f587c64120b05b56304" category="list-text">配置硬件：</block>
  <block id="5cbb2892041082d99ff865fb4c1177b3" category="list-text">访问 SANtricity 系统管理器，为 E2800 控制器上的管理端口 1 设置静态 IP 地址以及配置 SANtricity 系统管理器设置</block>
  <block id="aba8c439397dbc332c2a68a4e017db11" category="list-text">访问 StorageGRID 设备安装程序并配置连接到 StorageGRID 网络所需的链路和网络 IP 设置</block>
  <block id="e8ef019fbd94ad9c715550a7cb4a68fb" category="list-text">可选：如果您计划使用外部 KMS 对设备数据进行加密，请启用节点加密。</block>
  <block id="6aabaa7025c320ee506ac18769cfc5b2" category="list-text">可选：更改 RAID 模式。</block>
  <block id="46e4740028ca85df7206aad62ec0a11e" category="list-text">将设备部署为存储节点：</block>
  <block id="eaeb30f9f18e0c50b178676f3eaef45f" category="cell">任务</block>
  <block id="49cc8e6220245b65cd7d20fc6ccc74f5" category="cell">说明</block>
  <block id="f912dd27e2c0132e2faa5e06e7a05888" category="paragraph">在新的 StorageGRID 系统中部署设备存储节点</block>
  <block id="34fa5050343060315a25cd328438a2ce" category="inline-xref-macro">部署设备存储节点</block>
  <block id="d680343bf62c2a71b75f96ba5a395aef" category="paragraph"><block ref="d680343bf62c2a71b75f96ba5a395aef" category="inline-xref-macro-rx"></block></block>
  <block id="e608869a0dcd71aa6b9b2a55b7744abf" category="paragraph">将设备存储节点添加到现有 StorageGRID 系统</block>
  <block id="1a3b57f3f476495d290864831787b5b7" category="paragraph">有关扩展 StorageGRID 系统的说明</block>
  <block id="d26d8bb452e861e7dfef184c06ba01f8" category="paragraph">在存储节点恢复操作中部署设备存储节点</block>
  <block id="b6cf2558dde685f3dd02721c57dcbb19" category="paragraph">恢复和维护说明</block>
  <block id="fbc1239347ff916ef39573ac7817dd8c" category="inline-xref-macro">准备安装（ SG5700 ）</block>
  <block id="ed5ab2f5c7444afa2325c26abc8981b5" category="paragraph"><block ref="ed5ab2f5c7444afa2325c26abc8981b5" category="inline-xref-macro-rx"></block></block>
  <block id="543e6a3c9b07a3642afb462fba582642" category="inline-xref-macro">安装硬件</block>
  <block id="56da6a21427d4a97e806aa04e68bd3af" category="paragraph"><block ref="56da6a21427d4a97e806aa04e68bd3af" category="inline-xref-macro-rx"></block></block>
  <block id="43b16b9086cb39b7acc1e48b70ce437d" category="inline-xref-macro">配置硬件（ SG5700 ）</block>
  <block id="b5c4f3098c86152883a841ce20c9b311" category="paragraph"><block ref="b5c4f3098c86152883a841ce20c9b311" category="inline-xref-macro-rx"></block></block>
  <block id="60e151467efa7b00c96b8109068cede2" category="inline-xref-macro">安装 VMware</block>
  <block id="54851ad18b8892c3a3880e03edd382f7" category="paragraph"><block ref="54851ad18b8892c3a3880e03edd382f7" category="inline-xref-macro-rx"></block></block>
  <block id="5d90c80465d7c50ee05d821750951f94" category="inline-xref-macro">安装 Red Hat Enterprise Linux 或 CentOS</block>
  <block id="31e91752aae586f8c6da49e997cd64cb" category="paragraph"><block ref="31e91752aae586f8c6da49e997cd64cb" category="inline-xref-macro-rx"></block></block>
  <block id="20acc9da0fb861293ccc4a4d1508f49a" category="inline-xref-macro">安装 Ubuntu 或 Debian</block>
  <block id="fabe204add6b5598ca6039156413caf8" category="paragraph"><block ref="fabe204add6b5598ca6039156413caf8" category="inline-xref-macro-rx"></block></block>
  <block id="0213b0a6597af3144c55566e76cf215e" category="inline-xref-macro">SG100 和 SG1000 服务设备</block>
  <block id="dd50f4d2c586b9e4942aea6ba44d6c74" category="paragraph"><block ref="dd50f4d2c586b9e4942aea6ba44d6c74" category="inline-xref-macro-rx"></block></block>
  <block id="4a2e3c8ae392685e5edd103ced86805c" category="inline-xref-macro">扩展网格</block>
  <block id="00f53a1c07e278d2ecb7e620c7725966" category="paragraph"><block ref="00f53a1c07e278d2ecb7e620c7725966" category="inline-xref-macro-rx"></block></block>
  <block id="b614fd76b9d3a3dff921e91e18863124" category="inline-xref-macro">恢复和维护</block>
  <block id="a0762e2dd5f1d14d4710e6c0139de3cc" category="paragraph"><block ref="a0762e2dd5f1d14d4710e6c0139de3cc" category="inline-xref-macro-rx"></block></block>
  <block id="9235845f8da4ce3e2aeec9e8f098984b" category="summary">如果硬件故障或布线错误导致 E5700SG 控制器无法完成启动处理，则 StorageGRID 设备安装程序可能不可用。</block>
  <block id="70516986978965bfb078dd4ac2e4a5ba" category="doc">硬件设置似乎挂起（ SG5700 ）</block>
  <block id="248081fd50b4ae4cffbc44b6bd41c119" category="list-text">查看七段显示器上的代码。</block>
  <block id="5391c0b0347152004a4a0494e6964642" category="paragraph">在启动期间初始化硬件时，两个七段显示一系列代码。硬件成功启动后，七段显示会为每个控制器显示不同的代码。</block>
  <block id="2f6ab6c8e743b11d15c0b1697882d2d5" category="list-text">查看 E5700SG 控制器的七段显示屏上的代码。</block>
  <block id="d103a38776f8beb2b54844cccb9ae25f" category="admonition">安装和配置需要一些时间。某些安装阶段在几分钟内不会向 StorageGRID 设备安装程序报告更新。</block>
  <block id="2b9f1b494db77d6427199619b2682968" category="paragraph">如果发生错误，七段显示屏将按顺序闪烁，例如， "he" 。</block>
  <block id="7668bac75cd392ea27ac65da70d53e9f" category="list-text">要了解这些代码的含义，请参见以下资源：</block>
  <block id="9bbf373797bf7cf7ba62c80023682e25" category="cell">控制器</block>
  <block id="63d5049791d9d79d86e9a108b0a999ca" category="cell">参考</block>
  <block id="356c40df1967b1859a23208452454779" category="paragraph">E5700SG 控制器</block>
  <block id="cfe59c227dfe684e52f601e9e51ecb41" category="list-text">" `s5700SG 控制器上的状态指示符` "</block>
  <block id="6c61b5fe9103b0488e47a4514855f171" category="list-text">"`错误：与 SANtricity OS 软件同步时出错` "</block>
  <block id="063a1ac04dd3c75bb22fbc7e6044d63a" category="paragraph">E2800 控制器</block>
  <block id="efbb40d0cee95c17a9ffe79dbb34d4ef" category="paragraph">_E5700 和 E2800 系统监控指南 _</block>
  <block id="d9733d87f761dbbc1c0a9af93a7db854" category="paragraph">* 注： * 为 E 系列 E5700 控制器描述的代码不适用于设备中的 E5700SG 控制器。</block>
  <block id="0eb7dc709521dd4645ae9770d3f75fac" category="inline-xref-macro">E5700SG 控制器上的状态指示灯</block>
  <block id="60bf9d69d518a05b004229ce6c2d7a63" category="paragraph"><block ref="60bf9d69d518a05b004229ce6c2d7a63" category="inline-xref-macro-rx"></block></block>
  <block id="ad74b698623ede0870096f4a1574ba3a" category="paragraph"><block ref="ad74b698623ede0870096f4a1574ba3a" category="inline-xref-macro-rx"></block></block>
  <block id="f8b90d96568b5e455a92272a8f48020b" category="inline-link">NetApp E 系列系统文档站点</block>
  <block id="75491f732985b7a2a5168dd19e83a632" category="paragraph"><block ref="75491f732985b7a2a5168dd19e83a632" category="inline-link-rx"></block></block>
  <block id="b6a03853768241dadcde62d65e479d70" category="summary">您必须在机柜或机架中安装导轨，然后将设备滑入导轨。如果您使用的是 SG5760 ，则还必须在安装设备后安装驱动器。</block>
  <block id="da7d50f88c9654ff08fb5d36af2e4fda" category="doc">在机柜或机架中安装设备（ SG5700 ）</block>
  <block id="68dfe6c342417b20bb690f11deb80f37" category="list-text">您已查看包装盒中的安全通知文档，并了解移动和安装硬件的预防措施。</block>
  <block id="11647aec414507136a081808dc1a184c" category="list-text">导轨套件随附了相关说明。</block>
  <block id="3ddf42445c811733729093a5b9883cc4" category="list-text">您已获得此设备的 _Installation and Setup Instructions_。</block>
  <block id="a3fb9b2daf645756d6501bfa13038922" category="admonition">从机架，机柜或机架的底部安装硬件，以防止设备发生倾翻。</block>
  <block id="c99ac308fdb6f977b4a863f54139957d" category="admonition">在装满驱动器后， SG5712 的重约为 64 磅（ 29 千克）。要安全移动 SG5712 ，需要两个人或一台机械升降机。</block>
  <block id="2dab10438f5e4074223e07b1c23387d1" category="admonition">SG5760 重约 132 磅（ 60 千克），未安装驱动器。要安全移动空 SG5760 ，需要四个人或一台机械升降机。</block>
  <block id="054a664ac7dc6504fb9c6ae95defb7a5" category="admonition">为避免损坏硬件，如果安装了驱动器，请勿移动 SG5760 。移动磁盘架之前，必须先卸下所有驱动器。</block>
  <block id="e0226b31d854fbd4e1cac6c67058ab4c" category="list-text">请仔细按照导轨套件的说明在机柜或机架中安装导轨。</block>
  <block id="0702eccba6be1f733daa937e172102aa" category="list-text">如果您使用的是 SG5760 ，请按照以下步骤准备移动设备。</block>
  <block id="e867649fe9893f6c700cc2d16d558ebb" category="list-text">拆下外包装箱。然后，向下折叠内箱上的挡板。</block>
  <block id="a75408d926c1c3dc442ea3bc8c6d8b61" category="list-text">如果您要用手提起 SG5760 ，请将四个手柄连接到机箱两侧。</block>
  <block id="5f49506297c11986a51b463c59976a67" category="paragraph">将设备滑入导轨时，请取下这些手柄。</block>
  <block id="0845e856c99426e80bcf3599138d3e99" category="list-text">请参见 _Installation and Setup Instructions_、 并将设备滑入机柜或机架中。</block>
  <block id="d94ac5f1542a92cd43eef727719a5e0c" category="list-text">请参见 _Installation and Setup Instructions_、 并将设备固定到机柜或机架上。</block>
  <block id="480cfd738a396d8b479c1d84ece62cfa" category="paragraph">如果您使用的是 SG5760 ，请使用后支架将设备固定到机架或机柜的背面。如果机架或机柜有方形孔，请使用固定框架螺母。</block>
  <block id="011a16f405dbcbbf09925f5f58009d56" category="list-text">如果您使用的是 SG5760 ，请在 5 个驱动器抽盒中的每个抽盒中安装 12 个驱动器。</block>
  <block id="78380a5cecb9fe8c52f1254cff46a4bd" category="paragraph">您必须安装全部 60 个驱动器，以确保正常运行。</block>
  <block id="e508c45b58bfdc5340aa7768cdb1d85e" category="list-text">戴上 ESD 腕带，然后将驱动器从其包装中取出。</block>
  <block id="f5c0dd5fb56e9e89ffbb227cac5398a8" category="list-text">释放顶部驱动器抽盒上的拉杆，然后使用拉杆将抽盒滑出。</block>
  <block id="ce69c669437f37988a687c7f9a153404" category="list-text">将驱动器把手提起至垂直位置，并将驱动器上的按钮与抽盒上的缺口对齐。</block>
  <block id="a5876bc4669052a7d8f68dfd4f29bdd5" category="image-alt">在 60 驱动器设备中安装驱动器</block>
  <block id="f94247b1b26ce374719cdad4fd70f59e" category="list-text">轻按驱动器顶部，向下旋转驱动器把手，直到驱动器卡入到位。</block>
  <block id="60b8ced56b242b43efe07a671368d5a7" category="list-text">安装前 12 个驱动器后，通过推动中间并轻轻合上两个拉杆，将抽盒滑回原位。</block>
  <block id="3202a3d2f21835931c6e615b4e441dec" category="list-text">对其他四个抽盒重复上述步骤。</block>
  <block id="f0e4d108bd327aa0295d08fc98aaafd0" category="list-text">连接前挡板。</block>
  <block id="cf943f0ace829dd7b9efa5f610574371" category="summary">准备安装 StorageGRID 设备需要准备站点并获取所有必需的硬件，缆线和工具。您还应收集 IP 地址和网络信息。</block>
  <block id="c1ed048791176afc0254edb31158ccb2" category="inline-xref-macro">Web 浏览器要求</block>
  <block id="535e3961b5616a107e07e257ffe82904" category="paragraph"><block ref="535e3961b5616a107e07e257ffe82904" category="inline-xref-macro-rx"></block></block>
  <block id="86d7fb5d76c1587dd87627d5f5993a18" category="summary">为了确保存储控制器能够以最佳方式运行，您必须升级到适用于您的 StorageGRID 设备的最新 SANtricity 操作系统维护版本。请参阅 NetApp 互操作性表工具（ IMT ）以确定应使用的版本。如果需要帮助，请联系技术支持。</block>
  <block id="caff72d0e2c3e37ad045f03285930c9e" category="doc">升级存储控制器上的 SANtricity 操作系统</block>
  <block id="b22ab35dc5ba98de0c170cd0b62acceb" category="paragraph">为了确保存储控制器能够以最佳方式运行，您必须升级到适用于您的 StorageGRID 设备的最新 SANtricity 操作系统维护版本。请参考 NetApp 互操作性表工具（ IMT ）来确定应使用的版本。如果需要帮助，请联系技术支持。</block>
  <block id="74ceff9053279940581d22d040771644" category="list-text">如果存储控制器使用的是 SANtricity OS 08.42.20.00 （ 11.42 ）或更高版本，请使用网格管理器执行升级。</block>
  <block id="7dbd4dd394c1310cb2070a16138705a0" category="inline-xref-macro">使用网格管理器升级存储控制器上的 SANtricity 操作系统</block>
  <block id="9a62143ba81697afd35cfcbc5137fbe2" category="paragraph"><block ref="9a62143ba81697afd35cfcbc5137fbe2" category="inline-xref-macro-rx"></block></block>
  <block id="459b2d61785b202f6e87131bca916dcc" category="list-text">如果存储控制器使用的 SANtricity 操作系统版本早于 08.42.20.00 （ 11.42 ），请使用维护模式执行升级。</block>
  <block id="c29cf29a2bce34e5013e1a82ec72ef4a" category="inline-xref-macro">使用维护模式升级 E2800 控制器上的 SANtricity 操作系统</block>
  <block id="ff5044be89e351491cca144cdf35e242" category="paragraph"><block ref="ff5044be89e351491cca144cdf35e242" category="inline-xref-macro-rx"></block></block>
  <block id="9ed4a475dd3705157a9fed8811f63ce2" category="inline-link">NetApp 互操作性表工具</block>
  <block id="29c81145f8df4c302d2a5db797d28b64" category="paragraph"><block ref="29c81145f8df4c302d2a5db797d28b64" category="inline-link-rx"></block></block>
  <block id="a8a8e708dfd14dea18ffcb1a9c813144" category="inline-link">NetApp 下载： SANtricity OS</block>
  <block id="b1d0274e66532eae9009c0329979bbe7" category="paragraph"><block ref="b1d0274e66532eae9009c0329979bbe7" category="inline-link-rx"></block></block>
  <block id="c92fd6dfa1ebcbb5ce13cfab3f7b0905" category="inline-xref-macro">监控和故障排除</block>
  <block id="52835fa2e95dc83a0d2224948b0d7781" category="paragraph"><block ref="52835fa2e95dc83a0d2224948b0d7781" category="inline-xref-macro-rx"></block></block>
  <block id="e058799232ae8d33466721568ac7007a" category="summary">注册设备硬件具有支持优势。</block>
  <block id="5a4d04406745c2904f6018d2e497f94e" category="doc">注册硬件</block>
  <block id="98baf1f385726e432605d7bba46c247e" category="list-text">找到机箱序列号。</block>
  <block id="ad378d13a25060b034dd7edf024bc628" category="paragraph">您可以在装箱单上，确认电子邮件中或打开设备包装后在设备上找到此编号。</block>
  <block id="3c05344cb7e95d3d6df4a369dcfb2edc" category="image-alt">标签，包括序列号</block>
  <block id="0373910e51252c7b97dcbea9f4942604" category="inline-link">mysupport.netapp.com</block>
  <block id="8a7ac8ffae90ca0a1caaddb0f33069c2" category="list-text">访问 NetApp 支持站点，网址为<block ref="28649c93049a329043d206ec7fa0c6f8" category="inline-link-rx"></block>。</block>
  <block id="90ed358c469bf87198e7e8c7b3e6f8c3" category="list-text">确定是否需要注册硬件：</block>
  <block id="8f45a9f1fcb944bee42c078bdeacd8ac" category="cell">如果您是 ...</block>
  <block id="e3df4624e4d36502b5d044730eab97cc" category="cell">请按照以下步骤操作 ...</block>
  <block id="d3f2dc7623074c370346f082b621f2db" category="paragraph">现有 NetApp 客户</block>
  <block id="8a55a5b89690f6046e6de8dd649ff837" category="list-text">使用您的用户名和密码登录。</block>
  <block id="a735ff49f9e24ed4b1722feaea7377fd" category="list-text">选择 * 产品 * &gt; * 我的产品 * 。</block>
  <block id="8cc04c4151dd22af84b31cd55d6c5f57" category="list-text">确认新序列号已列出。</block>
  <block id="d193a53b34315bee1bed499f665686ce" category="list-text">如果不是，请按照适用于新 NetApp 客户的说明进行操作。</block>
  <block id="daee797d0bf63a91fe069e1df88d7923" category="paragraph">NetApp 新客户</block>
  <block id="12dc2a66a130388ec482398caa6ce95b" category="list-text">单击 * 立即注册 * ，然后创建帐户。</block>
  <block id="0df389b7550743cad89b0d3a81b21437" category="list-text">选择 * 产品 * &gt; * 注册产品 * 。</block>
  <block id="455af4fdfc1650d3bb3aa40d5212412a" category="list-text">输入产品序列号和请求的详细信息。</block>
  <block id="9fcab783d1ffadeafb84de00efe883d9" category="paragraph">注册获得批准后，您可以下载所需的任何软件。审批过程可能需要长达 24 小时。</block>
  <block id="5de42bbee7ead1d6edca50bd265907c7" category="summary">您可以升级驱动器固件，以确保具有所有最新功能和错误修复。</block>
  <block id="873b100e9a6f8ed042c76735435554a9" category="doc">使用 SANtricity 系统管理器升级驱动器固件</block>
  <block id="b10621ed96edfed5cdab0c30e0006f79" category="list-text">存储设备处于最佳状态。</block>
  <block id="fe21a4b4c7370b73210cfa79500a95c9" category="list-text">所有驱动器均处于最佳状态。</block>
  <block id="9d79fd2a808d6d51325f70313848f133" category="list-text">您已安装与您的 SANtricity 版本兼容的最新版本 StorageGRID System Manager 。</block>
  <block id="1c9ef5ad4adc306f45a966145f1b3b1f" category="inline-xref-macro">已将 StorageGRID 设备置于维护模式</block>
  <block id="31f10aa9a8ab7caebcc90feaeb49b7b2" category="list-text">您已拥有 <block ref="e1babdd7aaf700b689ceb7f9123f9764" category="inline-xref-macro-rx"></block>。</block>
  <block id="e8dc381a3fddf821ed93a5a12ae750e7" category="admonition">维护模式会中断与存储控制器的连接，停止所有 I/O 活动并使所有驱动器脱机。</block>
  <block id="4e2b08723d48e8672a6c1c720184efcd" category="admonition">请勿一次升级多个 StorageGRID 设备上的驱动器固件。这样做可能会导致发生原因 数据不可用，具体取决于您的部署模式和 ILM 策略。</block>
  <block id="3533a2b46e125d041913c72fd9f48d9b" category="list-text">使用以下方法之一访问 SANtricity System Manager ：</block>
  <block id="d88448093f00932101bdf21de1585cc1" category="list-text">使用 StorageGRID 设备安装程序并选择 * 高级 * &gt; * SANtricity 系统管理器 *</block>
  <block id="c59447485ddcd454e0e9b781e0be3a75" category="list-text">通过浏览到存储控制器 IP ： + ` * https://_Storage_Controller_IP_*` 来使用 SANtricity 系统管理器</block>
  <block id="f5ee914d9142f81b048a6516338e60ca" category="list-text">如果需要，输入 SANtricity System Manager 管理员用户名和密码。</block>
  <block id="f81fb88b20f58263d5a52f1cbfbe31e3" category="list-text">验证存储设备中当前安装的驱动器固件版本：</block>
  <block id="07319dd8bf09119fbc5d52b0bb6984e9" category="list-text">在 SANtricity 系统管理器中，选择 * 支持 * &gt; * 升级中心 * 。</block>
  <block id="2ce1d065d49ef4963820a3b6e96217ca" category="list-text">在驱动器固件升级下，选择 * 开始升级 * 。</block>
  <block id="9726a620998c3627e4af2675d208cce0" category="paragraph">升级驱动器固件将显示当前安装的驱动器固件文件。</block>
  <block id="aea5435be3fdddfc55771f3504287bdf" category="list-text">请在当前驱动器固件列中记下当前驱动器固件版本和驱动器标识符。</block>
  <block id="10fb2f0905f8f50ffcda0ab8cd8b495a" category="image-alt">升级驱动器固件</block>
  <block id="be118fb1d0e987a9d25c71312374ffdf" category="paragraph">在此示例中：</block>
  <block id="50be38458773485fc552f7c73674e5bc" category="list-text">驱动器固件修订版为 * 。 MS02* 。</block>
  <block id="1e65ceb903b6c0d0ea6efb4bc31d2db0" category="list-text">驱动器标识符为 * 。 KPM51 VVG800G* 。</block>
  <block id="1b1d36ec2862cd1e5d04a1c16d8a5593" category="paragraph">在关联驱动器列中选择 * 查看驱动器 * ，以显示这些驱动器在存储设备中的安装位置。</block>
  <block id="042b10bf318c1717c8199d0d526116a7" category="list-text">关闭升级驱动器固件窗口。</block>
  <block id="7042585c22b6891ec2b7ecbc6b059af1" category="list-text">下载并准备可用的驱动器固件升级：</block>
  <block id="1ee469190901198511667b4078647940" category="list-text">在驱动器固件升级下，选择 * NetApp 支持 * 。</block>
  <block id="6ac083087cf6ad304a3ba732f2a1d51d" category="list-text">在 NetApp 支持网站上，选择 * 下载 * 选项卡，然后选择 * E 系列磁盘驱动器固件 * 。</block>
  <block id="943446ac4f9a829879038a0b778eb3a3" category="paragraph">此时将显示 E 系列磁盘固件页面。</block>
  <block id="379be5d3ecd424e1622f797356fcb305" category="list-text">搜索存储设备中安装的每个 * 驱动器标识符 * ，并验证每个驱动器标识符是否具有最新的固件版本。</block>
  <block id="2599532ccbb66fc8bc5a00a290481306" category="list-text">如果固件版本不是链接，则此驱动器标识符的固件版本为最新。</block>
  <block id="7ced5be750e4cd6b0026da8baea13fef" category="list-text">如果为驱动器标识符列出了一个或多个驱动器部件号，则可以对这些驱动器进行固件升级。您可以选择任何链接来下载固件文件。</block>
  <block id="e478bc64965517f71c79a9cff62df68a" category="image-alt">E 系列磁盘固件页面</block>
  <block id="251e99b0f535c215133df1c9ad9e37f9" category="list-text">如果列出了更高版本的固件，请选择固件修订版中的链接（ download ）列以下载包含固件文件的 ` .zip` 归档。</block>
  <block id="70afb6373ca822a5d554b17549d99768" category="list-text">提取（解压缩）从支持站点下载的驱动器固件归档文件。</block>
  <block id="593f83d9cf94fc9e4031f35b23f927cf" category="list-text">安装驱动器固件升级：</block>
  <block id="6bb75f0716ac77d29c4d070efd7a3b0e" category="list-text">在 SANtricity 系统管理器的驱动器固件升级下，选择 * 开始升级 * 。</block>
  <block id="9cf2ba623b48d0e58d46e28f82bf71ca" category="list-text">选择 * 浏览 * ，然后选择从支持站点下载的新驱动器固件文件。</block>
  <block id="603cfd807dbffed1049bb61ba573fd01" category="paragraph">驱动器固件文件的文件名类似于 + `D HUC101212CS600_30602291_MS01_2800_0002.DLP`</block>
  <block id="7afa0bc9a63233cfb2803e627f142755" category="paragraph">您最多可以选择四个驱动器固件文件，一次一个。如果多个驱动器固件文件与同一驱动器兼容，则会收到文件冲突错误。确定要用于升级的驱动器固件文件，然后删除另一个驱动器固件文件。</block>
  <block id="e6cd86d61f4639c8a27006c6c29b3e9f" category="list-text">选择 * 下一步 * 。</block>
  <block id="a1703a841c581af0f963bfddf68f1b1f" category="paragraph">* 选择驱动器 * 列出了可使用选定固件文件进行升级的驱动器。</block>
  <block id="b1ef9db159b982facfd06f4136b894a6" category="paragraph">仅显示兼容的驱动器。</block>
  <block id="9f3b703d7eda860208cd0b1dc22fc9e7" category="paragraph">为驱动器选择的固件将显示在 * 建议的固件 * 中。如果必须更改此固件，请选择 * 返回 * 。</block>
  <block id="bdf30886d1999579ffb28f16d2c48fd8" category="list-text">选择 * 脱机（并行） * 升级。</block>
  <block id="c941244450613bb0e0ca1cf97ef726e5" category="paragraph">您可以使用脱机升级方法，因为设备处于维护模式，此时所有驱动器和所有卷的 I/O 活动都将停止。</block>
  <block id="0bd58f2ad5f34161735e69bc65b8a2e7" category="admonition">除非您确定设备处于维护模式，否则请勿继续。如果在启动脱机驱动器固件更新之前未将设备置于维护模式，则可能会丢失发生原因 数据。</block>
  <block id="d6b31a472516977ccb3c97418ca027ec" category="list-text">在表的第一列中，选择要升级的一个或多个驱动器。</block>
  <block id="18e0166f6fb63b8861ab4f3da8ca0e7a" category="paragraph">最佳实践是，将所有相同型号的驱动器升级到相同的固件修订版。</block>
  <block id="01db6b6cafc122985bef22e35b9155e1" category="list-text">选择 * 开始 * ，然后确认要执行升级。</block>
  <block id="1f446d8464a1479a90be1e7cd75850ca" category="paragraph">如果需要停止升级，请选择 * 停止 * 。当前正在进行的所有固件下载均已完成。已取消所有尚未启动的固件下载。</block>
  <block id="a9ff48bbddf3556580ff1235b8cf5255" category="admonition">停止驱动器固件升级可能会导致数据丢失或驱动器不可用。</block>
  <block id="374d6314a1686bfc77fd70aa617d4603" category="list-text">（可选）要查看已升级内容的列表，请选择 * 保存日志 * 。</block>
  <block id="965c5385647c1db79a963fc0e272b417" category="paragraph">此日志文件将保存在浏览器的下载文件夹中，名称为 `latest-upgrade-log-timestamp.txt` 。</block>
  <block id="b91fa802062f28fac56759ae259d9238" category="paragraph">如果在升级操作步骤期间出现以下任何错误，请采取适当的建议操作。</block>
  <block id="8cb89ad108e36babae43be3f4185a474" category="list-text">* 已分配的驱动器出现故障 *</block>
  <block id="4f9ee96ae43fa01d3e278eb1f74f4ff2" category="paragraph">出现此故障的一个原因可能是驱动器没有相应的签名。确保受影响的驱动器为授权驱动器。有关详细信息，请联系技术支持。</block>
  <block id="ac4c4beee0bb0fda6868f9f6414e4055" category="paragraph">更换驱动器时，请确保更换驱动器的容量等于或大于要更换的故障驱动器。</block>
  <block id="7788fb87bcfeb5bf0a4758af403844bd" category="paragraph">您可以在存储阵列接收 I/O 时更换故障驱动器</block>
  <block id="882b1a02fbd8d8eea1d92c606946e960" category="list-text">* 检查存储阵列 *</block>
  <block id="7133eafc3fa0b089dbfc51b222a703ff" category="list-text">确保已为每个控制器分配 IP 地址。</block>
  <block id="f631ede8b5cd140a2200e083bc338c42" category="list-text">确保连接到控制器的所有缆线均未损坏。</block>
  <block id="1e1fa44604156f17c626ce76458d0183" category="list-text">确保所有缆线均已紧密连接。</block>
  <block id="b8fadeb973b915706f46919ab5c56369" category="list-text">* 集成热备用驱动器 *</block>
  <block id="08ee56735fe196207b3f936ae3a0b154" category="paragraph">必须先更正此错误情况，然后才能升级固件。</block>
  <block id="71097b09d5fe4cd9707a2e544d398d63" category="list-text">* 卷组不完整 *</block>
  <block id="361abf07d138d7aa09b6812b37f359c3" category="paragraph">如果一个或多个卷组或磁盘池不完整，则必须更正此错误情况，然后才能升级固件。</block>
  <block id="c8949fc6c23009353a086723b896e67e" category="list-text">* 当前正在任何卷组上运行的独占操作（后台介质 / 奇偶校验扫描除外） *</block>
  <block id="de1eeb2a593939ed7b8af18b14a00732" category="paragraph">如果正在执行一个或多个独占操作，则必须先完成这些操作，然后才能升级固件。使用 System Manager 监控操作进度。</block>
  <block id="ebc805370af011468ce65fcb39e09af9" category="list-text">* 缺少卷 *</block>
  <block id="8b896b7cc102db0f6e258b5142f9b1f0" category="paragraph">您必须先更正缺少的卷情况，然后才能升级固件。</block>
  <block id="a4f70264952000ef7155eee8687e80d9" category="list-text">* 任一控制器处于非最佳状态 *</block>
  <block id="f76948e7b90d4bee1e9fd1fae752295a" category="paragraph">其中一个存储阵列控制器需要注意。必须先更正此情况，然后才能升级固件。</block>
  <block id="0b4bdbb600475a74295b587a941b1582" category="list-text">控制器对象图形之间的存储分区信息不匹配 *</block>
  <block id="6ab9e3e006c165d7689e6c1a951a1c30" category="paragraph">验证控制器上的数据时出错。请联系技术支持以解决此问题描述。</block>
  <block id="c1f5b059dbb688e435840705523af58a" category="list-text">* SPM 验证数据库控制器检查失败 *</block>
  <block id="e6aff9282aa1685275e855e1937c6944" category="paragraph">控制器上发生存储分区映射数据库错误。请联系技术支持以解决此问题描述。</block>
  <block id="427e455b817ad2fdcb074982fa7447f4" category="list-text">* 配置数据库验证（如果存储阵列的控制器版本支持） *</block>
  <block id="c945129db1c32fb80aae66eb0f1daf74" category="paragraph">控制器上发生配置数据库错误。请联系技术支持以解决此问题描述。</block>
  <block id="5bf1c4d765b519b62e3d82a6b1be7831" category="list-text">* 与 MEL 相关的检查 *</block>
  <block id="05af24810d3ef758ca40fb5d2ad55801" category="paragraph">请联系技术支持以解决此问题描述。</block>
  <block id="bb24d7414c7474cc5440217b0e65116e" category="list-text">* 在过去 7 天内报告了 10 个以上的 DDN 信息性或严重 MEL 事件 *</block>
  <block id="4dcf00638af3c697ee6b99e40e1f9bfb" category="list-text">* 过去 7 天报告了 2 页以上的 2C 严重 MEL 事件 *</block>
  <block id="fd136850ef1b651365146688fa8d9610" category="list-text">* 过去 7 天报告了 2 个以上的 " 降级驱动器通道 " 严重 MEL 事件 *</block>
  <block id="235328827141e650f44c482c6868c490" category="list-text">* 过去 7 天内 4 个以上的关键 MEL 条目 *</block>
  <block id="a0a2a506ef5b8549a01d9709f6eb7101" category="list-text">。如果此操作步骤 已成功完成，并且您在节点处于维护模式时还需要执行其他过程，请立即执行。完成后，或者如果遇到任何故障并希望重新启动，请选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择以下选项之一：</block>
  <block id="f76e5ff7f783155137650b19cbdc07e1" category="list-text">选择 * 重新启动到 StorageGRID *</block>
  <block id="63842e9ce414fd5ee413e3082d8d6932" category="list-text">选择 * 重新启动至维护模式 * 以重新启动控制器，同时使节点仍处于维护模式。如果您在操作步骤 期间遇到任何故障并希望重新启动，请选择此选项。节点重新启动至维护模式后，从出现故障的操作步骤 中的相应步骤重新启动。</block>
  <block id="abae4054ff73709d783731ccc01cb620" category="image-alt">在维护模式下重新启动控制器</block>
  <block id="69049d4e571c51a3a614f0fa0335f2af" category="paragraph">设备重新启动并重新加入网格可能需要长达 20 分钟的时间。要确认重新启动已完成且节点已重新加入网格，请返回网格管理器。节点页面应显示设备节点的正常状态（节点名称左侧没有图标），表示没有处于活动状态的警报，并且节点已连接到网格。</block>
  <block id="4a7717f111c2730f0f856e7f7bce4120" category="image-alt">设备节点已重新加入网格</block>
  <block id="b8e3d71c021f7d550be093f57e729981" category="inline-xref-macro">升级存储控制器上的 SANtricity 操作系统</block>
  <block id="07dcb91d30dc4ba47d4b4d5ff7ed4a6c" category="paragraph"><block ref="07dcb91d30dc4ba47d4b4d5ff7ed4a6c" category="inline-xref-macro-rx"></block></block>
  <block id="76443ae8ee1dcedc1c0275a8f31e1692" category="summary">在安装完成之前， StorageGRID 设备安装程序会提供状态。软件安装完成后，设备将重新启动。</block>
  <block id="4a34f839c2dec66435225ae808cd8c15" category="doc">监控存储设备安装</block>
  <block id="2294b3e981e790cc87d4da57bd1cbbfb" category="list-text">要监控安装进度，请单击 * 监控安装 * 。</block>
  <block id="5180436222e4cab27793145585243c85" category="paragraph">"Monitor Installation" 页面将显示安装进度。</block>
  <block id="137110384a36d8791ecfd822e2cec069" category="image-alt">此图通过周围的文本进行了说明。</block>
  <block id="de54811cbfae5b1dad2e97b4d2bc5d37" category="paragraph">蓝色状态栏指示当前正在进行的任务。绿色状态条表示已成功完成的任务。</block>
  <block id="bee77befde7516dbc606c23d714b2e65" category="admonition">安装程序可确保在先前安装中完成的任务不会重新运行。如果您要重新运行安装，则不需要重新运行的任何任务都会显示绿色状态条和状态 `Skipped 。`</block>
  <block id="500b135abdc51d28fdb66659c88a91cb" category="list-text">查看前两个安装阶段的进度。</block>
  <block id="59ecaa1370ef1505338540a23b25015c" category="paragraph">* 。配置存储 *</block>
  <block id="585a8c0cdcfd85ad6c7d4bc99c097551" category="paragraph">在此阶段，安装程序将连接到存储控制器，清除任何现有配置，与 SANtricity 软件通信以配置卷以及配置主机设置。</block>
  <block id="7b2b31935da0a65fbd06d5fbbae7f12b" category="paragraph">* 。安装 OS*</block>
  <block id="a8a61bc10862f2fc629995eddcfede77" category="paragraph">在此阶段，安装程序会将 StorageGRID 的基本操作系统映像复制到设备。</block>
  <block id="1f487bf7f1e15720d6787034da97a50c" category="list-text">继续监控安装进度，直到 * 安装 StorageGRID 网格管理器 * 阶段暂停，并且嵌入式控制台上显示一条消息，提示您使用网格管理器在管理节点上批准此节点。继续执行下一步。</block>
  <block id="1e866556514b57a6ca20673afcdd0c95" category="list-text">转至主管理节点的网格管理器，批准待定存储节点并完成 StorageGRID 安装过程。</block>
  <block id="ed66fdbdee04e5bd00ff3d6705a14d8f" category="paragraph">在网格管理器中单击 * 安装 * 后，第 3 阶段完成，第 4 阶段 * 完成安装 * 开始。阶段 4 完成后，控制器将重新启动。</block>
  <block id="066e55e7e1c84f08925cd52856fb53b5" category="summary">您应确认可以从设备访问所使用的 StorageGRID 网络。要验证通过网络网关的路由，您应测试 StorageGRID 设备安装程序与不同子网上的 IP 地址之间的连接。您还可以验证 MTU 设置。</block>
  <block id="2ebf210000257f92489fc857f0a17e39" category="doc">验证网络连接</block>
  <block id="26402c5857d6789e24bbd4321a204213" category="list-text">从 StorageGRID 设备安装程序的菜单栏中，单击 * 配置网络连接 * &gt; * Ping 和 MTU 测试 * 。</block>
  <block id="3c0a4cd6fff077ca9dfc20c1f1608752" category="paragraph">此时将显示 Ping 和 MTU 测试页面。</block>
  <block id="6d7f2752312c0c72f0b4a8ec9320c075" category="image-alt">StorageGRID 设备安装程序中的 Ping 和 MTU 测试选项的屏幕截图</block>
  <block id="989961d88e80002ba54e15ceeb5a8848" category="list-text">从 * 网络 * 下拉框中，选择要测试的网络：网格，管理员或客户端。</block>
  <block id="a463579ad768fa90aa8e48b3112897f0" category="list-text">输入该网络上某个主机的 IPv4 地址或完全限定域名（ FQDN ）。</block>
  <block id="69274deb0d907f50897a3d7cadce87c4" category="paragraph">例如，您可能需要对网络或主管理节点上的网关执行 ping 操作。</block>
  <block id="583362546bb5a019d32761f4c49587f5" category="list-text">或者，选中 * 测试 MTU* 复选框以验证通过网络到目标的整个路径的 MTU 设置。</block>
  <block id="9faa5f32fa9c79795fce93a0477e6036" category="paragraph">例如，您可以测试设备节点与其他站点的节点之间的路径。</block>
  <block id="3042ee61d33b4d3bb987ef8d189f1c84" category="list-text">单击 * 测试连接 * 。</block>
  <block id="a86ce482981834e0bbcc54755bde4f04" category="paragraph">如果网络连接有效，则会显示 "Ping test passed" 消息，并列出 ping 命令输出。</block>
  <block id="645dec9b79a5bdef727721ed35439f34" category="image-alt">StorageGRID Webscale 设备安装程序中的 ping 测试结果屏幕截图</block>
  <block id="c5e6f1cf466753146a28b17d9bd5e92b" category="paragraph"><block ref="c5e6f1cf466753146a28b17d9bd5e92b" category="inline-xref-macro-rx"></block></block>
  <block id="b885d9cf5b831999956568cb8e05db9b" category="inline-xref-macro">更改 MTU 设置</block>
  <block id="56da63f5e57e76b59f96a6ff7e34fb93" category="paragraph"><block ref="56da63f5e57e76b59f96a6ff7e34fb93" category="inline-xref-macro-rx"></block></block>
  <block id="61781e904419d0ca3e48179b7b7cfa09" category="summary">您可能需要访问存储控制器上的 SANtricity 系统管理器来监控存储控制器架中的硬件或配置 E 系列 AutoSupport 。</block>
  <block id="cbc817df49c13d2739e53c6f3ab21240" category="doc">设置并访问 SANtricity 系统管理器</block>
  <block id="5f3a27ea8c400c6170dfd23f8f4ad06a" category="inline-xref-macro">支持的 Web 浏览器</block>
  <block id="665c55b7602051fedf105ba80df8075d" category="list-text">您正在使用 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="77fea5621269a38317155818b4353214" category="list-text">要通过网格管理器访问 SANtricity 系统管理器，您必须已安装 StorageGRID ，并且必须具有存储设备管理员权限或根访问权限。</block>
  <block id="8e5cc6d6f91e62236aef35600fdb82c5" category="list-text">要使用 StorageGRID 设备安装程序访问 SANtricity 系统管理器，您必须具有 SANtricity 系统管理器管理员用户名和密码。</block>
  <block id="39d7cd4bc56d58ceb0fa01190d46a922" category="list-text">要使用 Web 浏览器直接访问 SANtricity System Manager ，您必须具有 SANtricity System Manager 管理员用户名和密码。</block>
  <block id="cd25db7da11abbedbdf721c8ad223b42" category="admonition">要使用网格管理器或 StorageGRID 设备安装程序访问 SANtricity 系统管理器，您必须安装 SANtricity 固件 8.70 或更高版本。您可以使用 StorageGRID 设备安装程序并选择 * 帮助 * &gt; * 关于 * 来检查固件版本。</block>
  <block id="8adbc2936523251730b767083e003cf5" category="admonition">从网格管理器或设备安装程序访问 SANtricity 系统管理器通常仅用于监控硬件和配置 E 系列 AutoSupport 。SANtricity System Manager 中的许多功能和操作（例如升级固件）不适用于监控 StorageGRID 设备。为避免出现问题，请始终按照适用于您的设备的硬件安装和维护说明进行操作。</block>
  <block id="01bf03a6ca303abb28b8faeaa86f6180" category="paragraph">根据您所处的安装和配置过程的阶段，有三种方法可以访问 SANtricity System Manager ：</block>
  <block id="c2f6ec62034ae446f23432e88a345521" category="list-text">如果此设备尚未部署为 StorageGRID 系统中的节点，则应使用 StorageGRID 设备安装程序中的高级选项卡。</block>
  <block id="7086a51e6f28f38c331b8d48faa2b323" category="admonition">部署节点后，您将无法再使用 StorageGRID 设备安装程序访问 SANtricity 系统管理器。</block>
  <block id="c98488892d53e5f027b7f8905bc08c54" category="list-text">如果此设备已部署为 StorageGRID 系统中的节点，请使用网格管理器中节点页面上的 SANtricity 系统管理器选项卡。</block>
  <block id="1c6be4d4867d7473cc75deb8b25f1282" category="list-text">如果无法使用 StorageGRID 设备安装程序或网格管理器，则可以使用连接到管理端口的 Web 浏览器直接访问 SANtricity 系统管理器。</block>
  <block id="a07a3aa6fae52a1bb4a64339bb9e1c0e" category="inline-xref">配置硬件警报</block>
  <block id="51e16ed2f955f8d7f9395ab322b9b4f8" category="paragraph">此操作步骤 包含首次访问 SANtricity System Manager 的步骤。如果您已设置 SANtricity 系统管理器，请转到 <block ref="14b431f6add018e45ff7c1b8451d7b43" category="inline-xref-macro-rx"></block> 步骤。</block>
  <block id="9ba2b1b0b75b7ea58a7bba4589354ced" category="admonition">使用网格管理器或 StorageGRID 设备安装程序，您可以访问 SANtricity 系统管理器，而无需配置或连接设备的管理端口。</block>
  <block id="6511b9e43cd05b8e65dd56fc0dc4a78a" category="paragraph">您可以使用 SANtricity 系统管理器监控以下内容：</block>
  <block id="1e8cb69e66dd1bf962176581300a0f59" category="list-text">存储阵列级别性能， I/O 延迟， CPU 利用率和吞吐量等性能数据</block>
  <block id="1742c2fedd6e75647a7b0ebf72633612" category="list-text">硬件组件状态</block>
  <block id="3fca2d92b7134d4827a70636fbb9ebcf" category="list-text">支持的功能包括查看诊断数据</block>
  <block id="ccff858e243f2d310a8c9501d4e241f9" category="paragraph">您可以使用 SANtricity 系统管理器配置以下设置：</block>
  <block id="7480b3d5b96758e9706895f9f09074a6" category="list-text">存储控制器架中组件的电子邮件警报， SNMP 警报或系统日志警报</block>
  <block id="2afb5eeba8ea3c04fefb11c5aac8aaa0" category="list-text">存储控制器架中组件的 E 系列 AutoSupport 设置。</block>
  <block id="6037173f151fc4f70766bbd20444e64a" category="paragraph">有关 E 系列 AutoSupport 的更多详细信息，请参见 E 系列文档中心。</block>
  <block id="0d50ff542a20edfdc030f87225abed8a" category="list-text">驱动器安全密钥，用于解锁安全驱动器（如果启用了驱动器安全功能，则需要执行此步骤）</block>
  <block id="ee9d34135078ea9745c7862276886545" category="list-text">用于访问 SANtricity 系统管理器的管理员密码</block>
  <block id="365d382b2d9ecca9b0d40171c69b38ff" category="list-text">执行以下操作之一：</block>
  <block id="32c8911c995f3548a4815bb4434f84a2" category="list-text">使用网格管理器并选择 * 节点 * &gt; ` * 设备存储节点 _*` &gt; * SANtricity 系统管理器 *</block>
  <block id="9aec0a45ed25a33468078cb056d0a5bb" category="admonition">如果这些选项不可用或未显示登录页面，则必须使用存储控制器的 IP 地址。浏览到存储控制器 IP ： + ` * https://_Storage_Controller_IP_*` 以访问 SANtricity System Manager</block>
  <block id="95c189b6ad50b77bc56d97253f5404f0" category="paragraph">此时将显示 SANtricity 系统管理器的登录页面。</block>
  <block id="7a9ef045ad6de293124a342c7a3c3465" category="list-text">设置或输入管理员密码。</block>
  <block id="2038a0f5717dd6ac6dd9c550c1620381" category="admonition">SANtricity 系统管理器使用一个管理员密码，该密码在所有用户之间共享。</block>
  <block id="24f11f7f6f9373951c7ba7234d8d98bb" category="paragraph">此时将显示设置向导。</block>
  <block id="0154e23c6e143eb0eedca615bc843908" category="image-alt">显示设置向导的取消按钮的屏幕截图</block>
  <block id="36754a6dff4d1ab3a6505f46f9705233" category="list-text">选择 * 取消 * 以关闭向导。</block>
  <block id="9a869ce86f8b99be70dbd7a90e875be5" category="admonition">请勿完成 StorageGRID 设备的设置向导。</block>
  <block id="8e66e7ccbc38da5582efb548c335fec9" category="paragraph">此时将显示 SANtricity System Manager 主页。</block>
  <block id="00d085f12f6402740bc025ad685834f5" category="image-alt">SANtricity System Manager 主页的屏幕截图</block>
  <block id="166f9e205ffb97c0dff46a15ec52eb32" category="list-text">【 config_hardware_alerts_sg5700 ， start=4]] 配置硬件警报。</block>
  <block id="7b5e5d31f9aada535ca72308adcb55fe" category="list-text">选择 * 帮助 * 以访问 SANtricity 系统管理器的联机帮助。</block>
  <block id="cfaf1af9fc55f81b5081c5492733d8a7" category="list-text">使用联机帮助的 * 设置 * &gt; * 警报 * 部分了解警报。</block>
  <block id="9e6afa86f701eb359073f56c80879757" category="list-text">按照 "`如何` " 说明设置电子邮件警报， SNMP 警报或系统日志警报。</block>
  <block id="a166c9f026ec4da8283c70605e00ace9" category="list-text">管理存储控制器架中组件的 AutoSupport 。</block>
  <block id="61e433e53a32c40d973d908b38f4ca93" category="list-text">使用联机帮助的 * 支持 * &gt; * 支持中心 * 部分了解 AutoSupport 功能。</block>
  <block id="5aa00be3ad448a2ed48c323ac961c4b9" category="list-text">按照 "`如何` " 说明管理 AutoSupport 。</block>
  <block id="6e36f823160d00f5b405a54cde502337" category="paragraph">有关配置 StorageGRID 代理以在不使用管理端口的情况下发送 E 系列 AutoSupport 消息的具体说明，请转至 StorageGRID 管理说明并搜索 "E 系列 AutoSupport 的代理设置 " 。</block>
  <block id="aac4810e3f8c8188aa452c67fec614a8" category="list-text">如果为设备启用了驱动器安全功能，请创建并管理安全密钥。</block>
  <block id="3fc6d456ccf489281c9c2361f35f8701" category="list-text">使用联机帮助的 * 设置 * &gt; * 系统 * &gt; * 安全密钥管理 * 部分了解驱动器安全性。</block>
  <block id="7db12020fee27b780f4c5f155b24e026" category="list-text">按照 "`如何` " 说明创建和管理安全密钥。</block>
  <block id="8079c27884feb1d3043cc71127616cb8" category="list-text">也可以更改管理员密码。</block>
  <block id="a4942a1fef1513691f788747dfb0e3a5" category="list-text">使用联机帮助的 * 主页 * &gt; * 存储阵列管理 * 部分了解管理员密码。</block>
  <block id="4bac37f8970a5d2769750c84d0f2aa72" category="list-text">按照 " 操作 " 说明更改密码。</block>
  <block id="c17a0d860e8d944f933cc322a08a4556" category="summary">您可以使用 configure-sga.py 脚本自动执行 StorageGRID 设备节点的许多安装和配置任务，包括安装和配置主管理节点。如果要配置大量设备，此脚本可能会很有用。您也可以使用此脚本生成包含设备配置信息的 JSON 文件。</block>
  <block id="8ceaac433c796dd1a1a39d4e2caf2937" category="doc">使用 configure-sga.py 脚本自动安装和配置设备节点</block>
  <block id="1c5027977a349852479018a6aa35d607" category="paragraph">您可以使用 `configure-sGa.py` 脚本自动执行 StorageGRID 设备节点的许多安装和配置任务，包括安装和配置主管理节点。如果要配置大量设备，此脚本可能会很有用。您也可以使用此脚本生成包含设备配置信息的 JSON 文件。</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="list-title">关于此任务</block>
  <block id="50d937a00009c6c6b4bf6fe8178e25a6" category="list-text">此设备已安装在机架中，并已连接到您的网络并已启动。</block>
  <block id="0af46d959f0a1ed0eb96ed057cbed9c5" category="list-text">已使用 StorageGRID 设备安装程序为主管理节点配置网络链路和 IP 地址。</block>
  <block id="fff0aff8d5279e79f78f597c92b51ee8" category="list-text">如果要安装主管理节点，则您知道其 IP 地址。</block>
  <block id="6611e776d4e983317049cb76ec2d1eb4" category="list-text">如果要安装和配置其他节点，则已部署主管理节点，并且您知道其 IP 地址。</block>
  <block id="7cf942969713fd9baafd4ddb91235da6" category="list-text">对于主管理节点以外的所有节点，已在主管理节点上的网格网络子网列表中定义 StorageGRID 设备安装程序的 IP 配置页面上列出的所有网格网络子网。</block>
  <block id="e5210ece7e15c3cbe0b3d03870bf95e7" category="list-text">您已下载 `configure-sGA .py` 文件。该文件包含在安装归档中，您也可以通过单击 StorageGRID 设备安装程序中的 * 帮助 * &gt; * 设备安装脚本 * 来访问该文件。</block>
  <block id="229ec837e1e7b0d423b18d71a52dcc5c" category="inline-xref-macro">使用 StorageGRID 设备安装程序自动配置设备</block>
  <block id="3883c61c3dcacda289f3dc501ff4af07" category="admonition">此操作步骤 适用于在使用命令行界面方面具有一定经验的高级用户。或者，您也可以使用 StorageGRID 设备安装程序自动执行配置。+<block ref="ade30789ba57ac5b87acf65f32b1f74c" category="inline-xref-macro-rx"></block></block>
  <block id="5d3f46c7420d25fb13852810bd645302" category="list-text">登录到用于运行 Python 脚本的 Linux 计算机。</block>
  <block id="74bd098b433c919f72ee54bccffe6e84" category="list-text">要获得有关脚本语法的一般帮助以及查看可用参数列表，请输入以下内容：</block>
  <block id="2efecfb938c1a3ac4b6cdeb2bb3eaed7" category="paragraph">`configure-sGa.py` 脚本使用五个子命令：</block>
  <block id="118fb9adc3a4711a7218e7ef81cc8562" category="list-text">`高级` 用于高级 StorageGRID 设备交互，包括 BMC 配置和创建包含设备当前配置的 JSON 文件</block>
  <block id="033785e97b19bd24030a1e530c4fb3d1" category="list-text">`configure` 用于配置 RAID 模式，节点名称和网络参数</block>
  <block id="ace910911ef51c55674dbf6f48ce7fcd" category="list-text">`install` 用于开始 StorageGRID 安装</block>
  <block id="6d7f123732611773aab7984540e31afb" category="list-text">`m` 监控 StorageGRID 安装</block>
  <block id="1ef8ccf581606e90386c341184ef576d" category="list-text">`reboot` 用于重新启动设备</block>
  <block id="f13b14db9b01252edf0db47324d40bf1" category="paragraph">如果输入子命令（ advanced ， configure ， install ， monitor 或 reboot ）参数，然后输入 ` -help` 选项，则会收到其他帮助文本，其中提供了有关该子命令中可用选项的更多详细信息： + `configure-sga.py _subcommand_ -help`</block>
  <block id="e63a4de5bedcea740d5b296365adc4b6" category="list-text">要确认设备节点的当前配置，请输入以下内容，其中 ` _SGA-install-IP_` 是设备节点的任一 IP 地址： + `configure-sga.py configure _SGA-install-IP_`</block>
  <block id="b93f3c962c043bc12c18889a1269cb5a" category="paragraph">结果将显示设备的当前 IP 信息，包括主管理节点的 IP 地址以及有关管理，网格和客户端网络的信息。</block>
  <block id="ee6e4739141dc2ef5e5f8d1d3313cf85" category="list-text">如果需要更改当前配置中的任何值，请使用 `configure` 子命令对其进行更新。例如，如果要将设备用于连接到主管理节点的 IP 地址更改为 `172.16.2.99` ，请输入以下内容： + `configure-sga.py configure -admin-IP 172.16.2.99 _sGA-install-ip_`</block>
  <block id="8154133ba9e6a3c63bf28747d6a10a77" category="list-text">如果要将设备配置备份到 JSON 文件，请使用 `advanced` 和 `backup-file` 子命令。例如，如果要将 IP 地址为 ` SGA-install-ip_` 的设备配置备份到名为 `appliance-SG1000.json` 的文件中，请输入以下命令： + `configure-sga.py advanced -backup-file appliance-SG1000.json _SGA-install-IP_`</block>
  <block id="e53aecfa06819693ed2430744f8362d7" category="paragraph">包含配置信息的 JSON 文件将写入执行脚本的同一目录。</block>
  <block id="74ca2da1b03de8e26851a8e53896f281" category="admonition">检查生成的 JSON 文件中的顶级节点名称是否与设备名称匹配。请勿对此文件进行任何更改，除非您是经验丰富的用户并全面了解 StorageGRID API 。</block>
  <block id="4c7861efb51e2ffd5c6238cbfd8aa793" category="list-text">如果对设备配置满意，请使用 `install` 和 `monitor` 子命令安装此设备： + `configure-sga.py install -monitor _sGA-install-ip_`</block>
  <block id="68a5e627b481792d9346927bcbb09b79" category="list-text">如果要重新启动设备，请输入以下内容： + `configure-sga.py reboot _sGA-install-ip_`</block>
  <block id="aa91301685926dd0c6c99a07550217f5" category="summary">您可以使用 SANtricity 系统管理器监控存储控制器，存储磁盘和存储控制器架中其他硬件组件的状态。此外，您还可以为 E 系列 AutoSupport 配置代理，使您能够在不使用管理端口的情况下从设备发送 AutoSupport 消息。</block>
  <block id="67292fb9fad46465796116af53111dc4" category="doc">访问和配置 SANtricity System Manager （ SG5700 ）</block>
  <block id="a3df0062397be17195ff52262605dd3f" category="summary">您可以检查并临时更改此设备节点当前正在使用的域名系统 \ （ DNS\ ）服务器。</block>
  <block id="4e58046ced9ebc6552387c2267a5e683" category="doc">检查 DNS 服务器配置</block>
  <block id="98669e4a846b5dde89fc39fa60fe9199" category="paragraph">您可以检查并临时更改此设备节点当前正在使用的域名系统（ DNS ）服务器。</block>
  <block id="d0e2b01c55d6145ba7a5e301667aa5b0" category="inline-xref-macro">已置于维护模式</block>
  <block id="4c14352577e821c3a7916d148b29060a" category="paragraph">此设备已运行 <block ref="7faa1fdee3dba898a88c7ff5fad45e02" category="inline-xref-macro-rx"></block>。</block>
  <block id="03577213087479446da15c0a05b0fbbd" category="paragraph">如果加密设备无法连接到密钥管理服务器（ Key Management Server ， KMS ）或 KMS 集群，则可能需要更改 DNS 服务器设置，因为 KMS 的主机名指定为域名，而不是 IP 地址。对设备的 DNS 设置所做的任何更改都是临时的，在退出维护模式时将丢失。要使这些更改永久生效，请在网格管理器中指定 DNS 服务器（ * 维护 * &gt; * 网络 * &gt; * DNS 服务器 * ）。</block>
  <block id="c55e53840ec1b1211fb2f33f61af3d18" category="list-text">只有在节点加密的设备中，使用完全限定域名（而不是 IP 地址）为主机名定义 KMS 服务器时，才需要临时更改 DNS 配置。</block>
  <block id="9ed767f89b3a2642c32263d2cf9bce2a" category="list-text">当节点加密设备使用域名连接到 KMS 时，它必须连接到为网格定义的一个 DNS 服务器。然后，其中一个 DNS 服务器会将域名转换为 IP 地址。</block>
  <block id="12747746e7819067c763eb669a569af9" category="list-text">如果节点无法访问网格的 DNS 服务器，或者您在节点加密设备节点脱机时更改了网格范围的 DNS 设置，则节点将无法连接到 KMS 。在解析 DNS 问题描述 之前，无法解密设备上的加密数据。</block>
  <block id="1c3e8bf79e91b838aa19f7e5dccc8a90" category="paragraph">要解决 DNS 问题描述 阻止 KMS 连接的问题，请在 StorageGRID 设备安装程序中指定一个或多个 DNS 服务器的 IP 地址。通过这些临时 DNS 设置，设备可以连接到 KMS 并对节点上的数据进行解密。</block>
  <block id="9f5e27216e0d9b16379c4af350409446" category="paragraph">例如，如果在加密节点脱机时网格的 DNS 服务器发生更改，则该节点将无法在重新联机时访问 KMS ，因为它仍在使用先前的 DNS 值。在 StorageGRID 设备安装程序中输入新的 DNS 服务器 IP 地址后，可以通过临时 KMS 连接对节点数据进行解密。</block>
  <block id="77e44278c570e6245333c2ea64457cf4" category="list-text">从 StorageGRID 设备安装程序中，选择 * 配置网络连接 * &gt; * DNS 配置 * 。</block>
  <block id="6ac429bf1799aaad72126c9d0ac16655" category="list-text">验证指定的 DNS 服务器是否正确。</block>
  <block id="489f99357e51540f388c06988f7d5a29" category="image-alt">DNS 配置</block>
  <block id="ae2b8854f0c06f1c19bdd3547a7bb3a6" category="list-text">如果需要，请更改 DNS 服务器。</block>
  <block id="0899cb9af703e4172b04d218a2b5090d" category="admonition">对 DNS 设置所做的更改是临时的，当您退出维护模式时，这些更改将丢失。</block>
  <block id="f0060746134f73b65262cb9c42d134f3" category="list-text">对临时 DNS 设置感到满意后，请选择 * 保存 * 。</block>
  <block id="6a49438c015c34f86329ca7e14f47e78" category="paragraph">节点使用此页面上指定的 DNS 服务器设置重新连接到 KMS ，从而可以解密节点上的数据。</block>
  <block id="003a3a50592ca892e5b17ceecbbce6e1" category="list-text">解密节点数据后，重新启动节点。在 StorageGRID 设备安装程序中，选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择以下选项之一：</block>
  <block id="a452636b12293b1064300f8550209aa0" category="list-text">选择 * 重新启动到 StorageGRID * 以在节点重新加入网格的情况下重新启动控制器。如果您已完成维护模式下的工作并准备好将节点恢复正常运行，请选择此选项。</block>
  <block id="16e036b76973c9fbae0f82be319571c0" category="list-text">选择 * 重新启动至维护模式 * 以重新启动控制器，同时使节点仍处于维护模式。（只有当控制器处于维护模式时，此选项才可用。） 如果在重新加入网格之前需要对节点执行其他维护操作，请选择此选项。</block>
  <block id="cb02f4023f02205e69c560f950d726d5" category="admonition">当节点重新启动并重新加入网格时，它将使用网格管理器中列出的系统范围的 DNS 服务器。重新加入网格后，在设备处于维护模式时，设备将不再使用 StorageGRID 设备安装程序中指定的临时 DNS 服务器。</block>
  <block id="104abc05b484b07d97cb63ecd0af71f8" category="paragraph">设备重新启动并重新加入网格可能需要长达 20 分钟的时间。要确认重新启动已完成且节点已重新加入网格，请返回网格管理器。"*nodes* " 页面应显示设备节点的正常状态（无图标），表示没有处于活动状态的警报，并且节点已连接到网格。</block>
  <block id="43036268f8f8f794b0b3907415b6a448" category="summary">您可能需要升级 E2800 控制器上的 SANtricity 操作系统软件，更改 E5700SG 控制器的以太网链路配置，更换 E2800 控制器或 E5700SG 控制器或更换特定组件。本节中的过程假定设备已部署为 StorageGRID 系统中的存储节点。</block>
  <block id="93d3f6eb9501413ec1870e64b9c76218" category="doc">维护 SG5700 设备</block>
  <block id="c0dcb6db5300484aab9ea95a8e1d1bdd" category="summary">安装 StorageGRID 设备之前，请打开所有包装箱的包装，并将包装箱上的物品与包装清单上的物品进行比较。</block>
  <block id="133c928ea808a33c204692a0f912fa63" category="doc">打开包装箱（ SG5700 ）</block>
  <block id="6d374e1b8ac0bc209bb4425de1a73b63" category="list-text">* 已安装 12 个驱动器的 SG5712 设备 *</block>
  <block id="17cd1d46c2debefa4d5943937245fd0c" category="image-alt">SG5712 2U 设备</block>
  <block id="4e3c1a90b974c381d9ef611b87c45b8b" category="list-text">* 未安装驱动器的 SG5760 设备 *</block>
  <block id="ae28839139c772160e8d9fc0eb97e337" category="image-alt">SG5760 4U 设备</block>
  <block id="3674931ea492af590146ccad100e7661" category="list-text">* 设备前挡板 *</block>
  <block id="626ac0e337b12f2c500c48dd3e10f755" category="image-alt">SG5712 和 SG5760 的挡板</block>
  <block id="9cdaa6b4f0f0ec99278745cb3d05665c" category="list-text">* 导轨套件及说明 *</block>
  <block id="19e3c7abdb4edbb788c3668a46222a21" category="image-alt">导轨套件</block>
  <block id="1c1398ecbfe93b444d3455a1f364d968" category="list-text">* SG5760 ： 60 个驱动器 *</block>
  <block id="f2c6151d6c0d99f3666129b97e2100f5" category="image-alt">驱动器</block>
  <block id="e3a1c659129fbe7adb42f2401fdb636c" category="list-text">* SG5760 ：句柄 *</block>
  <block id="3e0d28512ece0698c2445c1c04a63887" category="image-alt">SG5760 句柄</block>
  <block id="fe26919dbb0f7bebbc7941b9d14c5526" category="list-text">* SG5760 ：用于方孔机架安装的背面支架和固定框架螺母 *</block>
  <block id="196d4902e0e04586843c15fde1c04cdd" category="image-alt">SG5760 的背面支架和锁紧螺母</block>
  <block id="b43ca4a26497345dbce113412af35fed" category="section-title">缆线和连接器</block>
  <block id="3e3bd289bde81e56d230c1e0b435cbce" category="paragraph">StorageGRID 设备的发货包括以下缆线和连接器：</block>
  <block id="72997d443d2f5b889667e54b7d8467b9" category="list-text">* 您所在国家或地区有两条电源线 *</block>
  <block id="7ceeb9e2de47574891152d45e033aea1" category="image-alt">电源线</block>
  <block id="2c5e871beeb82dd16604c3151f1f525a" category="paragraph">您的机柜可能使用专用电源线，而不是设备随附的电源线。</block>
  <block id="fdd6a37c7d2d7e405f4585ef0adb57bd" category="list-text">* 光缆和 SFP 收发器 *</block>
  <block id="584b31818a25f9f46d878053240ee635" category="image-alt">光缆和 SFP</block>
  <block id="d321d6062beaaf6195606b9a8f652ed5" category="paragraph">用于 FC 互连端口的两根光缆</block>
  <block id="ec044552a411804d9bdf44f96149a1e3" category="paragraph">八个 SFP+ 收发器，与四个 16Gb/s FC 互连端口和四个 10-GbE 网络端口兼容</block>
  <block id="6870a9a980761f324012c472262be729" category="summary">在安装和配置 StorageGRID 设备时，您必须做出决策并收集有关以太网交换机端口， IP 地址以及端口和网络绑定模式的信息。</block>
  <block id="6f4952a9c6944875f629d30e226144ff" category="doc">收集安装信息（ SG5700 ）</block>
  <block id="d22f841676fa5c9611f611f4a000b965" category="paragraph">您可以使用下表记录连接到设备的每个网络的所需信息。安装和配置硬件需要这些值。</block>
  <block id="468b735b6f1e19374d5c566b43572deb" category="section-title">连接到 E2800 控制器上的 SANtricity System Manager 所需的信息</block>
  <block id="35a3f37db3be8bbeb6f80acad7f14fa4" category="paragraph">您必须将 E2800 控制器连接到要用于 SANtricity System Manager 的管理网络。</block>
  <block id="9d5a474aaa552210ff0298949aeb6c0a" category="cell">所需信息</block>
  <block id="d9fa81fca11f55d9fd9f33b399ab9cd6" category="cell">您的价值</block>
  <block id="c37a36ddc292d2306b34a1c0b1fdd9bb" category="paragraph">要连接到管理端口 1 的以太网交换机端口</block>
  <block id="eddc8105e840d7ae26ec050f09f897ef" category="paragraph">管理端口 1 的 MAC 地址（印在端口 P1 附近的标签上）</block>
  <block id="53eefedb101fd4f19fdf75b67e7f7778" category="paragraph">DHCP 为管理端口 1 分配的 IP 地址（如果在启动后可用）</block>
  <block id="12212c8774f6e144f7ba433c1d58855d" category="paragraph">* 注： * 如果要连接到 E2800 控制器的网络包含 DHCP 服务器，则网络管理员可以使用 MAC 地址确定 DHCP 服务器分配的 IP 地址。</block>
  <block id="5012a2f61725cef4a79c7d74fdd1aba1" category="paragraph">速度和双工模式</block>
  <block id="408f77f9f1167b840191b7c09cde414f" category="paragraph">* 注： * 您必须确保 SANtricity System Manager 管理网络的以太网交换机设置为自动协商。</block>
  <block id="0eec4c498736fec39e7d4ad5926deeff" category="paragraph">必须为：</block>
  <block id="c61d332a8c89c4d12f9085ee349944c5" category="list-text">自动协商（默认）</block>
  <block id="5627da3ca55e76e969d1b576fead8699" category="paragraph">IP 地址格式</block>
  <block id="4c0349a30e44fe2e3989a278d0a1f1e1" category="paragraph">选择一项：</block>
  <block id="42a9137a05a60eb752dcdf982e717626" category="list-text">IPv4</block>
  <block id="fdb7cb8f657426e7c409bfd6d1a36ce4" category="list-text">IPv6</block>
  <block id="a1df5a9f110a75a99a149442d0c0698a" category="paragraph">您计划在管理网络上用于设备的静态 IP 地址</block>
  <block id="605541ad2d4fd75b9dc1e38934053f7d" category="paragraph">对于 IPv4 ：</block>
  <block id="df32fd1b540b1dfd0d9bf0d7ef11c0bd" category="list-text">IPv4 地址：</block>
  <block id="6440e2b0c012f1cf9e7da1bb8f67bd2d" category="list-text">子网掩码：</block>
  <block id="a1597eef17a0b33aa445029bb9795dc4" category="list-text">网关</block>
  <block id="a11fabca4fe359039000beb946fa7335" category="paragraph">对于 IPv6 ：</block>
  <block id="08d4bec71cdb129ef5d260218178cb87" category="list-text">IPv6 地址：</block>
  <block id="16ea766325533374a41a97a2ec095602" category="list-text">可路由的 IP 地址：</block>
  <block id="f46b554395b562b3d307ef34b40a9b19" category="list-text">E2800 控制器路由器 IP 地址：</block>
  <block id="63aea37fda8f056f56bca0464d215417" category="section-title">将 E5700SG 控制器连接到管理网络所需的信息</block>
  <block id="5f48e757ed191ffc20124cedb4ffb745" category="paragraph">StorageGRID 管理网络是一个可选网络，用于系统管理和维护。此设备使用 E5700SG 控制器上的 1-GbE 管理端口连接到管理网络。</block>
  <block id="bbff4498c53d54e4edb5574fcceb81a6" category="paragraph">已启用管理网络</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="list-text">否</block>
  <block id="7aae22088072740b827e9f671e64d38c" category="list-text">是（默认）</block>
  <block id="e9e003c325eec6946ed1d23c6ac90a21" category="list-text">独立</block>
  <block id="406ca1eb665b209703d4685268a92a20" category="list-text">主动备份</block>
  <block id="6d4c606f543002496db92133f8c77067" category="paragraph">端口 1 的交换机端口</block>
  <block id="e3c65e4330d493b9b0818a0fb2bfbaf3" category="paragraph">端口 2 的交换机端口（仅限主动备份网络绑定模式）</block>
  <block id="9b91c6ad6dc26a459d31e87fcdf92e9f" category="paragraph">* 注： * 如果管理网络包含 DHCP 服务器，则 E5700SG 控制器会在启动后在其七段显示器上显示 DHCP 分配的 IP 地址。您还可以使用 MAC 地址查找分配的 IP ，从而确定 DHCP 分配的 IP 地址。</block>
  <block id="a1614e196481bae4e8e8b35a07e10739" category="list-text">IPv4 地址（ CIDR ）：</block>
  <block id="c11d17852c7356317980e67e6abfc069" category="paragraph">您计划在管理网络上用于设备存储节点的静态 IP 地址</block>
  <block id="ec042754a3deb00d49f397050be17465" category="paragraph">* 注： * 如果您的网络没有网关，请为此网关指定相同的静态 IPv4 地址。</block>
  <block id="8463b5a7085cd08b9e93773d3c709e1f" category="paragraph">管理网络子网（ CIDR ）</block>
  <block id="9b4f8adad52a505671108b1aab89f15b" category="section-title">在 E5700SG 控制器上连接和配置 10/25/GbE 端口所需的信息</block>
  <block id="637a0928569b87a95624ffdc49c56a35" category="paragraph">E5700SG 控制器上的四个 10/225-GbE 端口连接到 StorageGRID 网格网络和客户端网络。</block>
  <block id="85e7e5083c5d139ea982034a4dcbac32" category="admonition">有关这些端口选项的详细信息，请参见 "E5700SG 控制器的 10/225-GbE 端口连接 " 。</block>
  <block id="52a3afb75aa5f11739e6052eeafef8ba" category="paragraph">链路速度</block>
  <block id="109a41f1eb9f00ee46640209e6c2385f" category="paragraph">* 注： * 如果选择 25 GbE ，则必须安装 SPF28 收发器。不支持自动协商，因此您还必须为 25GbE 配置端口和连接的交换机。</block>
  <block id="c7aba73123b62a86c01c1cce2989543d" category="list-text">10 GbE （默认）</block>
  <block id="fc3a2ebf23f49d31d4cc8ebf98f3d78d" category="list-text">25 GbE</block>
  <block id="4e1b3f5ec0db7c49d2e52adeaf029e3a" category="paragraph">端口绑定模式</block>
  <block id="3946ee04c5da960e60fc8ec1faad3397" category="list-text">FIXED （默认）</block>
  <block id="2ee34178bb8415b7d7234cd27b83aed6" category="list-text">聚合</block>
  <block id="f7d6ba7a00317febefb8ed7201913eae" category="paragraph">端口 1 的交换机端口（客户端网络）</block>
  <block id="fe0723fbfcf8b3d0f8df36e458f4db2c" category="paragraph">端口 2 的交换机端口（网格网络）</block>
  <block id="aa44a656cb47486845ce82b368bb3384" category="paragraph">端口 3 的交换机端口（客户端网络）</block>
  <block id="ba62f1cd3fdd142040bd2b027c275f69" category="paragraph">端口 4 的交换机端口（网格网络）</block>
  <block id="d00e2ee9b43be198a48b9382325ab63d" category="section-title">将 E5700SG 控制器连接到网格网络所需的信息</block>
  <block id="134dfa0efcbc2eb2d5d11d931a7e8cba" category="paragraph">适用于 StorageGRID 的网格网络是一个必需的网络，用于所有内部 StorageGRID 流量。此设备使用 E5700SG 控制器上的 10/225-GbE 端口连接到网格网络。</block>
  <block id="68240966c1d519ae42ad33d397a93403" category="admonition">有关这些端口选项的详细信息，请参见 "E5700SG 控制器的 10/225-GbE 端口连接 " 。</block>
  <block id="ee0707637b4cd9a60b559a22e3ef371a" category="paragraph">已启用 VLAN 标记</block>
  <block id="34ba6fe92bd3442e28614da7804133f7" category="list-text">否（默认）</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="list-text">是的。</block>
  <block id="d96faa3d987703978fcbe242df4026b8" category="paragraph">VLAN 标记（如果启用了 VLAN 标记）</block>
  <block id="a00ea80cab1b311d9976d081472953c4" category="paragraph">输入一个介于 0 到 4095 之间的值：</block>
  <block id="140fe236f16e71ce1b6b652f805f7b6c" category="paragraph">DHCP 为网格网络分配的 IP 地址（如果在启动后可用）</block>
  <block id="4f6b240b06bb0d4f209f2489a6c49dbb" category="paragraph">* 注： * 如果网格网络包含 DHCP 服务器，则 E5700SG 控制器会在启动后在其七段显示中显示为网格网络分配的 DHCP IP 地址。</block>
  <block id="0e44a0a65ca372aaf2cdca90231220c1" category="paragraph">您计划用于网格网络上设备存储节点的静态 IP 地址</block>
  <block id="cd1eeb6e9fbdc976dd2aacdd9e6f5d67" category="paragraph">网格网络子网（ CIDR ）</block>
  <block id="3d82568e8acac62deae91beefbffb6b4" category="paragraph">* 注： * 如果未启用客户端网络，则控制器上的默认路由将使用此处指定的网关。</block>
  <block id="5f079af2122889f1bc83016e924f78fc" category="section-title">将 E5700SG 控制器连接到客户端网络所需的信息</block>
  <block id="ec59fcb5cb2e9d58bf0958754a8baae9" category="paragraph">适用于 StorageGRID 的客户端网络是一个可选网络，通常用于提供对网格的客户端协议访问。设备使用 E5700SG 控制器上的 10/225-GbE 端口连接到客户端网络。</block>
  <block id="9522932e0fbd63ff9b109746dc171cb9" category="paragraph">VLAN 标记</block>
  <block id="9536a8cfc0fc9b430b66b03262af7a40" category="paragraph">（如果启用了 VLAN 标记）</block>
  <block id="d005d81994f4a96e4df41e7cba4f805d" category="paragraph">DHCP 为客户端网络分配的 IP 地址（如果在启动后可用）</block>
  <block id="b40101551c3300da03ea71e7bfdb218e" category="paragraph">您计划在客户端网络上用于设备存储节点的静态 IP 地址</block>
  <block id="fb43928a0e1036a3302083fed4a55efb" category="paragraph">* 注： * 如果启用了客户端网络，则控制器上的默认路由将使用此处指定的网关。</block>
  <block id="1b3f062887c8667d4c115a252471dc9c" category="inline-xref-macro">查看设备网络连接（ SG5700 ）</block>
  <block id="0f5bafab77a9a94fdfa3c8763f0ebffc" category="paragraph"><block ref="0f5bafab77a9a94fdfa3c8763f0ebffc" category="inline-xref-macro-rx"></block></block>
  <block id="f838b84263c45aeb4f1be3728754e3ad" category="summary">如果 E5700SG 控制器运行不正常或出现故障，您可能需要更换它。</block>
  <block id="d62fd98c837de91ddeac94ce1452212c" category="doc">更换 E5700SG 控制器</block>
  <block id="65499790690d2c454fcef420d0986cd2" category="list-text">您的更换控制器的部件号与要更换的控制器相同。</block>
  <block id="3113d1c6db21b6292b515b6f9d7ab0b1" category="list-text">您已下载有关更换发生故障的 E5700 控制器的 E 系列说明。</block>
  <block id="e8bf6c04592dae86ebc88dcc1af8b218" category="admonition">仅当您需要执行特定步骤的更多详细信息时，才可参考 E 系列说明。请勿依赖 E 系列说明来更换 StorageGRID 设备中的控制器，因为这些过程是不同的。例如， E5700 控制器的 E 系列说明介绍了如何从发生故障的控制器中取出电池和主机接口卡（ HIC ）并将其安装到更换控制器中。这些步骤不适用于 E5700SG 控制器。</block>
  <block id="2bb86ccc72619207d683e45635d07991" category="list-text">您可以通过标签来识别连接到控制器的每个缆线。</block>
  <block id="e9bd290e03f625f6bed79c79fb12c3af" category="paragraph">更换控制器后，无法访问设备存储节点。如果 E5700SG 控制器运行正常，则可以在此操作步骤 开始时执行受控关闭。</block>
  <block id="6bc35b53d8ff03c84be10f55c0f6c1ea" category="admonition">如果在安装 StorageGRID 软件之前更换控制器，则在完成此操作步骤 后，您可能无法立即访问 StorageGRID 设备安装程序。虽然您可以从与设备位于同一子网上的其他主机访问 StorageGRID 设备安装程序，但不能从其他子网上的主机访问它。此情况应在 15 分钟内自行解决（当原始控制器的任何 ARP 缓存条目超时），或者您也可以通过手动从本地路由器或网关清除任何旧的 ARP 缓存条目来立即清除此情况。</block>
  <block id="7b324529e039d23cb408e940ead6be79" category="list-text">将设备置于维护模式后，关闭 E5700SG 控制器。</block>
  <block id="5834baa2fe4ab4ce2655efdf374ed340" category="list-text">登录到网格节点：</block>
  <block id="c7aa9be1c8fd37c075edba3a4073253f" category="list-text">输入以下命令： `ssh admin@ grid_node_ip_`</block>
  <block id="700a38780f22dd0bcf544970e8d449e6" category="list-text">输入 `passwords.txt` 文件中列出的密码。</block>
  <block id="aacfb09e5ff36425a74a452ef6b304fb" category="list-text">输入以下命令切换到 root ： `su -`</block>
  <block id="e5b5f07b79e121570ecaaae949e99ae1" category="paragraph">以 root 用户身份登录时，提示符将从 ` $` 更改为 ` #` 。</block>
  <block id="9f714fb482b7d712fa442c1dab434e88" category="list-text">关闭 E5700SG 控制器： + ` * shutdown -h now*`</block>
  <block id="259104854fc640bc8bfcb5a5cd5dcd2e" category="list-text">等待缓存中的所有数据写入驱动器。</block>
  <block id="44e448e3a5af541365e863371be367f4" category="paragraph">当需要将缓存数据写入驱动器时， E2800 控制器背面的绿色缓存活动 LED 亮起。您必须等待此 LED 关闭。</block>
  <block id="a98148bc0629a67d04a5611ffa983a30" category="list-text">关闭电源。</block>
  <block id="01d4dba33c39acfee6527a2ef4d297b1" category="list-text">从 SANtricity 系统管理器的主页中，选择 * 查看正在执行的操作 * 。</block>
  <block id="dafaf0a6048f2a1255d9943179457c24" category="list-text">确认所有操作均已完成。</block>
  <block id="6a6bfe27b15a61b35332bb4233f19126" category="list-text">关闭设备上的两个电源开关。</block>
  <block id="e470e0b7859ee1ee16564cc7e8e48968" category="list-text">等待所有 LED 熄灭。</block>
  <block id="fa0330fb59f572dc8b0652440bf2f86a" category="list-text">如果连接到控制器的 StorageGRID 网络使用 DHCP 服务器：</block>
  <block id="7e795510f2694b9daa8917105ed0bcd0" category="list-text">记下替代控制器上端口的 MAC 地址（位于控制器上的标签上）。</block>
  <block id="629e8c407c41e21d4d31deb818491b1c" category="list-text">请网络管理员更新原始控制器的 IP 地址设置，以反映替代控制器的 MAC 地址。</block>
  <block id="57a094478e00a6f3f3c0f7a2235135da" category="admonition">在为替代控制器接通电源之前，您必须确保已更新原始控制器的 IP 地址。否则，控制器将在启动时获取新的 DHCP IP 地址，并且可能无法重新连接到 StorageGRID 。此步骤将对连接到控制器的所有 StorageGRID 网络执行适用场景 。</block>
  <block id="b45afbec52f534783a03eff995ab7c60" category="list-text">从设备中删除控制器：</block>
  <block id="cf53429bbb1adc08633a9a45088a58f5" category="list-text">戴上 ESD 腕带或采取其他防静电预防措施。</block>
  <block id="901be424bced93384bed30ffebbad97d" category="list-text">为缆线贴上标签，然后断开缆线和 SFP 的连接。</block>
  <block id="a8f84b584f326bb48cbda73cc904bb0e" category="admonition">To prevent degraded performance, do not twist, fold, pinch, or step on the cables.</block>
  <block id="72e8a3fccf59843ed1adb5b4438f2ff5" category="list-text">通过挤压凸轮把手上的闩锁，直到其释放，然后打开右侧的凸轮把手，将控制器从设备中释放。</block>
  <block id="95a7fd6638ee2fa5159797abf42e0865" category="list-text">用两只手和凸轮把手将控制器滑出设备。</block>
  <block id="6c0d67a526c49ebe0d1597f94ab18ff8" category="admonition">请始终用双手支撑控制器的重量。</block>
  <block id="04803538074d9bd9b55f9adc380717f2" category="list-text">将替代控制器安装到设备中。</block>
  <block id="fe69546640a5330ecd9f461f1cdbd1ee" category="list-text">将控制器翻转，使可拆卸盖朝下。</block>
  <block id="f5b18529473e7fbcbdcf4601ffe30597" category="list-text">在凸轮把手处于打开位置的情况下，将控制器完全滑入设备中。</block>
  <block id="0dc7aaae2ab89a4fa299f4f2e42c1646" category="list-text">将凸轮把手移至左侧，将控制器锁定到位。</block>
  <block id="e2b6c2d150654177459808ffbc11c406" category="list-text">更换缆线和 SFP 。</block>
  <block id="8f3cbfc24bf8320bd71da8013c93640b" category="list-text">打开设备电源，并监控控制器 LED 和七段显示器。</block>
  <block id="c55c2810ba6c5c4a4fc9c1538acd29bc" category="paragraph">成功启动控制器后，七段显示屏应显示以下内容：</block>
  <block id="78593a9c8e7c751367531c8e53a5aa33" category="list-text">E2800 控制器：</block>
  <block id="bdfd83c6f7ad247022830d70be061223" category="paragraph">最终状态为 `99` 。</block>
  <block id="5e3d5a8322a4cbda882ebea3fafa9c14" category="list-text">E5700SG 控制器：</block>
  <block id="24b2276b0b6b2a1cee60625fbdf5cb8d" category="paragraph">最终状态为 `HA` 。</block>
  <block id="f506cf75a2431e6747fee271be2cabd2" category="list-text">确认设备存储节点显示在网格管理器中且未显示任何警报。</block>
  <block id="7649e6365d298d56533e7e91edafd96e" category="summary">为设备通电后，两个控制器都会启动。</block>
  <block id="fdfe6ea55a0d64fadc7e1dcea5bcd3fd" category="doc">连接电源线并接通电源（ SG5700 ）</block>
  <block id="9da371b05c9595deddee5d96c4444581" category="paragraph">在连接电源之前，两个设备电源开关都必须关闭。</block>
  <block id="e432e9d77213722c7c0a29d05016690a" category="admonition">* 电击风险 * —在连接电源线之前，请确保设备上的两个电源开关均已关闭。</block>
  <block id="ce64376b7bf1863b00de2396b5ecf14e" category="list-text">确认设备上的两个电源开关均已关闭。</block>
  <block id="e88f7587b5b9ad21a655e6b2fa3eab90" category="list-text">将两根电源线连接到设备。</block>
  <block id="ec630c162f718b82081f6cfba7602128" category="list-text">将两条电源线连接到机柜或机架中的不同配电单元（ PDU ）。</block>
  <block id="8dd118395dd27d84b111f70a89c0d3f6" category="list-text">打开设备上的两个电源开关。</block>
  <block id="e04bb52f7d531022a0e124e6981264c1" category="list-text">请勿在启动过程中关闭电源开关。</block>
  <block id="9be08f0e92561f1906cf031901ee8288" category="list-text">首次启动时，风扇声音很大。启动期间发出较大的噪音是正常的。</block>
  <block id="488ea4cf86a7d904a5f72d10930e6319" category="list-text">启动控制器后，检查其七段显示内容。</block>
  <block id="7a1f742aaa9139851b4c3369a510539c" category="summary">在为 E5700SG 控制器端口配置网络链路时，您可以对连接到网格网络和可选客户端网络的 10/25/GbE 端口以及连接到可选管理网络的 1-GbE 管理端口使用端口绑定。端口绑定可在 StorageGRID 网络和设备之间提供冗余路径，从而有助于保护数据。</block>
  <block id="a562d34acb24ad135035e9baaf390b10" category="summary">E5700SG 控制器上的 10/225-GbE 网络端口支持网格网络和客户端网络连接的固定端口绑定模式或聚合端口绑定模式。</block>
  <block id="f9b020944ff08ab3cbccc6ae7dc75425" category="doc">10/225-GbE 端口的网络绑定模式</block>
  <block id="af478134b68d57f3e08f8a29bc178c5b" category="section-title">固定端口绑定模式</block>
  <block id="dae179bf100c6f7c4f3dc636fbfc6000" category="paragraph">固定模式是 10/225-GbE 网络端口的默认配置。</block>
  <block id="f57c93bbddc52b3d9feea67a337292dc" category="image-alt">用于固定端口绑定模式的端口</block>
  <block id="cb59b896ae43c3678ca13d2aa6a6dcae" category="paragraph">使用固定端口绑定模式时，您可以使用两种网络绑定模式之一：主动备份或链路聚合控制协议（ LACP ）。</block>
  <block id="fca1e2aed852a783885f5f9eb300bb34" category="list-text">在主动备份模式（默认）下，一次只有一个端口处于活动状态。如果活动端口发生故障，其备份端口会自动提供故障转移连接。端口 4 为端口 2 （网格网络）提供备份路径，端口 3 为端口 1 （客户端网络）提供备份路径。</block>
  <block id="fde258998679307142db266f7359fa1c" category="list-text">在 LACP 模式下，每对端口在控制器和网络之间形成一个逻辑通道，从而提高吞吐量。如果一个端口发生故障，另一个端口将继续提供通道。吞吐量会降低，但连接不会受到影响。</block>
  <block id="9d9f23fd8539269769a8f85f9cb75674" category="admonition">如果不需要冗余连接，则每个网络只能使用一个端口。但是，请注意，安装 StorageGRID 后，网格管理器中将发出警报，指示已拔下缆线。您可以安全地确认此警报以将其清除。</block>
  <block id="011775952f48650e6e2c553bdfc70783" category="section-title">聚合端口绑定模式</block>
  <block id="fcab7e89a34b4039ef3fb142c9949719" category="paragraph">聚合端口绑定模式可显著提高每个 StorageGRID 网络的吞吐量，并提供额外的故障转移路径。</block>
  <block id="8944128f3553980e58c012c3985700fb" category="image-alt">用于聚合端口绑定模式的端口</block>
  <block id="aff79d28b632c02204ecfa744ce4895a" category="paragraph">所有连接的端口都分组在一个 LACP 绑定中，从而允许所有端口用于网格网络和客户端网络流量。</block>
  <block id="0fdae50d1f77713dccf4b0fc863a6a37" category="paragraph">如果您计划使用聚合端口绑定模式：</block>
  <block id="84b2266dd5dac9711d4f260122e952ab" category="list-text">您必须使用 LACP 网络绑定模式。</block>
  <block id="49b48136498765c64c3e79bb6cc0f213" category="list-text">您必须为每个网络指定唯一的 VLAN 标记。此 VLAN 标记将添加到每个网络数据包中，以确保网络流量路由到正确的网络。</block>
  <block id="54b58242f2a6a31473e76a836db666ad" category="list-text">这些端口必须连接到可支持 VLAN 和 LACP 的交换机。如果多个交换机参与 LACP 绑定，则这些交换机必须支持多机箱链路聚合组（ MLAG ）或等效项。</block>
  <block id="e0a4d2cdf3b6c960fcd2d76366354c4c" category="list-text">您必须了解如何将交换机配置为使用 VLAN ， LACP 和 MLAG 或等效项。</block>
  <block id="c2017bfb7b84b941fb7976f4f2cc959f" category="paragraph">如果您不想使用全部四个 10/225-GbE 端口，则可以使用一个，两个或三个端口。如果使用多个端口，则在一个 10/225-GbE 端口出现故障时，某些网络连接将保持可用的可能性最大。</block>
  <block id="af2e3242feee86b6549b33877817f173" category="admonition">如果您选择使用的端口少于四个，请注意，安装 StorageGRID 后，网格管理器中将发出一个或多个警报，指示缆线已拔出。您可以安全地确认警报以将其清除。</block>
  <block id="5fd26df00c5c2e02df1a040c220ec70a" category="summary">StorageGRID 提供了两个用于执行安装任务的 REST API ： StorageGRID 安装 API 和 StorageGRID 设备安装程序 API 。</block>
  <block id="44d47f020ff9d16d73d372ff145430e7" category="doc">安装 REST API 概述</block>
  <block id="7e3e0775b0e7bec01423476dbebfedc8" category="paragraph">这两个 API 都使用 Swagger 开源 API 平台来提供 API 文档。Swagger 允许开发人员和非开发人员在用户界面中与 API 进行交互，以说明 API 如何响应参数和选项。本文档假定您熟悉标准 Web 技术和 JSON （ JavaScript 对象表示法）数据格式。</block>
  <block id="d9f3e6f1cc75d29e54b9da946dcaf0d0" category="admonition">使用 API 文档网页执行的任何 API 操作均为实时操作。请注意，不要错误地创建，更新或删除配置数据或其他数据。</block>
  <block id="242a13ca9e284551b1a16e097d844059" category="paragraph">每个 REST API 命令都包括 API 的 URL ， HTTP 操作，任何必需或可选的 URL 参数以及预期的 API 响应。</block>
  <block id="dc153891132121f7f9b2a576ec2a7c07" category="section-title">StorageGRID 安装 API</block>
  <block id="da0f4b87a22161f64493cedbbbd1e9e1" category="paragraph">只有在首次配置 StorageGRID 系统时，以及在需要执行主管理节点恢复时， StorageGRID 安装 API 才可用。可以从网格管理器通过 HTTPS 访问安装 API 。</block>
  <block id="6d0b38e9135e145fb72e4906ab763116" category="paragraph">要访问 API 文档，请转到主管理节点上的安装网页，然后从菜单栏中选择 * 帮助 * &gt; * API 文档 * 。</block>
  <block id="4ad7c47337f296217ed0c934afc7ba18" category="paragraph">StorageGRID 安装 API 包括以下部分：</block>
  <block id="7ba25c3800a11742e4f5e6350f951dab" category="list-text">*config* —与 API 的产品版本相关的操作。您可以列出该版本支持的产品版本和主要 API 版本。</block>
  <block id="a8996698f789d6e02c04e79f852e71e0" category="list-text">* 网格 * - 网格级配置操作。您可以获取和更新网格设置，包括网格详细信息，网格网络子网，网格密码以及 NTP 和 DNS 服务器 IP 地址。</block>
  <block id="d4cfb5f7a9c4f8d84d710c9163feea7a" category="list-text">"*Nodes* - 节点级别的配置操作 " 。您可以检索网格节点列表，删除网格节点，配置网格节点，查看网格节点以及重置网格节点的配置。</block>
  <block id="c700d1557e8ba2998bb86a1e3248e592" category="list-text">* 配置 * —配置操作。您可以启动配置操作并查看配置操作的状态。</block>
  <block id="5de5349892981cd070e01a8a27b790fa" category="list-text">* 恢复 * —主管理节点恢复操作。您可以重置信息，上传恢复软件包，启动恢复以及查看恢复操作的状态。</block>
  <block id="fe46b152908185b8d222caaaf167a8d8" category="list-text">*recovery-package* —下载恢复软件包的操作。</block>
  <block id="22d9f557eecf75420b058731b88d1433" category="list-text">* 站点 * —站点级配置操作。您可以创建，查看，删除和修改站点。</block>
  <block id="6e056c8c28c2d8ca542111fe4814acad" category="section-title">StorageGRID 设备安装程序 API</block>
  <block id="730403381bbad3ee3b64bab2f8c4ba56" category="paragraph">StorageGRID 设备安装程序 API 可通过 HTTPS 从 ` Controller_IP_ ： 8443` 访问。</block>
  <block id="cf044a27a40c12faa07475d6c92d1c93" category="paragraph">要访问 API 文档，请转到设备上的 StorageGRID 设备安装程序，然后从菜单栏中选择 * 帮助 * &gt; * API 文档 * 。</block>
  <block id="c9a246094a3f0ddf1fca26edf0919c6d" category="paragraph">StorageGRID 设备安装程序 API 包括以下部分：</block>
  <block id="aadc5dd8ca37c83e381ce497577d5946" category="list-text">* 克隆 * —用于配置和控制节点克隆的操作。</block>
  <block id="bfeb95dd5fdae16b9c323803f5bab96a" category="list-text">* 加密 * —用于管理加密和查看加密状态的操作。</block>
  <block id="ab7bba8129d5c473d77b9260e63e588c" category="list-text">* 硬件配置 * —用于在连接的硬件上配置系统设置的操作。</block>
  <block id="db0292c49a08031248b5c7a81b96e8ba" category="list-text">* 安装 * —用于开始设备安装和监控安装状态的操作。</block>
  <block id="bdb05bc842ccc4625643a85258de3fa9" category="list-text">* 网络连接 * - 与 StorageGRID 设备的网格，管理和客户端网络配置以及设备端口设置相关的操作。</block>
  <block id="a38445122d019a7732093027f8ea60e5" category="list-text">* 设置 * —用于帮助初始设备安装设置的操作，包括请求获取有关系统的信息并更新主管理节点 IP 。</block>
  <block id="fef29c2a904bcd2b62784ffb6674062d" category="list-text">* 支持 * —用于重新启动控制器和获取日志的操作。</block>
  <block id="3966d62047674844f56ca6b20a7c940d" category="list-text">* 升级 * —与升级设备固件相关的操作。</block>
  <block id="ae2d173f7ec0f52c6c9be959748752c7" category="list-text">*uploadsg* —用于上传 StorageGRID 安装文件的操作。</block>
  <block id="e3aa43005ae3b1ded4d42a1af73f701e" category="summary">如果您在 StorageGRID 设备安装期间遇到连接问题，应执行列出的更正操作步骤。</block>
  <block id="88964b6c455acceff19e86c16f957ec3" category="doc">对连接问题进行故障排除（ SG5700 ）</block>
  <block id="547b06139dd197110695d8ca314800b8" category="section-title">无法连接到设备</block>
  <block id="01070aa1e0b6b8d8b5ae7ef45f09b3b2" category="paragraph">如果无法连接到设备，则可能存在网络问题描述 ，或者硬件安装可能未成功完成。</block>
  <block id="659f007945e6b9f1820ddfe54467ca68" category="list-text">如果无法连接到 SANtricity 系统管理器：</block>
  <block id="e9dfe8b908e0865c2e7fedbb2ed99afc" category="list-text">尝试使用管理网络上 E2800 控制器的 IP 地址对设备执行 ping 操作，以查看 SANtricity System Manager ： + ` * ping _E2800_Controller_IP_*`</block>
  <block id="3da1cad833bd9244500cbdcc6aa5f940" category="list-text">如果 ping 未收到任何响应，请确认您使用的 IP 地址正确无误。</block>
  <block id="cab46c5e18dc3aa509ac2980ed947ce9" category="paragraph">使用 E2800 控制器上管理端口 1 的 IP 地址。</block>
  <block id="2cdbcb515828bcb4d3aee03f2217f4f5" category="list-text">如果 IP 地址正确，请检查设备布线和网络设置。</block>
  <block id="10392e3860e18e02d47a6ada7c6c15f3" category="paragraph">如果无法解决问题描述 问题，请联系技术支持。</block>
  <block id="156048415ce45243ad6f1710c1614c03" category="list-text">如果 ping 成功，请打开 Web 浏览器。</block>
  <block id="dfc2e59c914698cb70bf3e3c92f7d99e" category="list-text">输入 SANtricity 系统管理器的 URL ： + ` * https://_E2800_Controller_IP_*`</block>
  <block id="14bedca486927de52e359d7e10cdf3f4" category="paragraph">此时将显示 SANtricity 系统管理器的登录页面。</block>
  <block id="c30d53c2078c8886dea9ecaf5450b7a0" category="list-text">如果无法连接到 E5700SG 控制器：</block>
  <block id="9c96901da3d17e3e10f3c23a1e1c71e3" category="list-text">尝试使用 E5700SG 控制器的 IP 地址对设备执行 ping 操作： + ` * ping _E5700SG_Controller_IP_*`</block>
  <block id="48c15b02077cea390cec936b9e492900" category="paragraph">您可以使用网格网络，管理网络或客户端网络上设备的 IP 地址。</block>
  <block id="c63d127f756361be7092284f469fbb5a" category="list-text">如果 IP 地址正确，请检查设备布线， SFP 收发器和网络设置。</block>
  <block id="6bfd1b54b661f39469e57e831dcc848e" category="list-text">输入 StorageGRID 设备安装程序的 URL ： + ` * https://_E5700SG_Controller_IP_:8443*`</block>
  <block id="3ed49d1cad2712572eb4271acc0a33d2" category="paragraph">此时将显示主页页面。</block>
  <block id="1a86f8f53cf047d54209edb143ab5e51" category="summary">您必须访问 StorageGRID 设备安装程序以配置设备与三个 StorageGRID 网络之间的连接：网格网络，管理网络 \ （可选 \ ）和客户端网络 \ （可选 \ ）。</block>
  <block id="a84876934c1a9811dba618148e59198a" category="paragraph">您必须访问 StorageGRID 设备安装程序来配置设备与三个 StorageGRID 网络之间的连接：网格网络，管理网络（可选）和客户端网络（可选）。</block>
  <block id="f92d154a744f15f829e77baccc4cd638" category="list-text">此设备已连接到您计划使用的所有 StorageGRID 网络。</block>
  <block id="09c537cff63d1fee6f8810eb044bfeaf" category="list-text">您知道这些网络上设备的 IP 地址，网关和子网。</block>
  <block id="345d106a637952d5d6c78c87d1bd9d01" category="list-text">您已配置计划使用的网络交换机。</block>
  <block id="3557db45094641976f0a6921955a17a8" category="paragraph">首次访问 StorageGRID 设备安装程序时，您可以使用管理网络的 DHCP 分配的 IP 地址（假设设备已连接到管理网络）或网格网络的 DHCP 分配的 IP 地址。首选使用管理网络的 IP 地址。否则，如果使用网格网络的 DHCP 地址访问 StorageGRID 设备安装程序，则在更改链接设置和输入静态 IP 时，可能会与 StorageGRID 设备安装程序断开连接。</block>
  <block id="be14117dbea650ec4f9397e623761b06" category="list-text">在管理网络（如果已连接）或网格网络（如果未连接管理网络）上获取设备的 DHCP 地址。</block>
  <block id="ccc18c5d0a3f629048616b4de3f1da75" category="paragraph">您可以执行以下任一操作：</block>
  <block id="f1d5e65ef979e2d30d58e61adb3b2090" category="list-text">查看 E5700SG 控制器上的七段显示器。如果 E5700SG 控制器上的管理端口 1 和 10/25GbE 端口 2 和 4 连接到使用 DHCP 服务器的网络，则控制器会在打开机箱电源时尝试获取动态分配的 IP 地址。控制器完成启动过程后，其七段显示屏将显示 * HO* ，然后是两个数字的重复序列。</block>
  <block id="5d1435a0c8419a077e1d37ac90cbbcc5" category="paragraph">顺序：</block>
  <block id="4bbaabc0cd877e011f03f9b99a10a3ba" category="list-text">第一组数字是管理网络上设备存储节点的 DHCP 地址（如果已连接）。此 IP 地址将分配给 E5700SG 控制器上的管理端口 1 。</block>
  <block id="dc715fdd3804115e37aadad289a8e829" category="list-text">第二组数字是网格网络上设备存储节点的 DHCP 地址。首次为设备接通电源时，此 IP 地址将分配给 10/225-GbE 端口 2 和 4 。</block>
  <block id="3009f1390fc9fe719c6a6a820ac3add5" category="admonition">如果无法使用 DHCP 分配 IP 地址，则会显示 0.0.0.0 。</block>
  <block id="1bc1e0e5c4ed8c1909a1442a92cf0a60" category="list-text">将管理端口 1 的 MAC 地址提供给网络管理员，以便他们可以在管理网络上查找此端口的 DHCP 地址。MAC 地址印在 E5700SG 控制器上端口旁边的标签上。</block>
  <block id="72b2f8075f0eac6529108763dec9e533" category="list-text">如果您能够获取任一 DHCP 地址：</block>
  <block id="1c4b9b6350e316afa31b9075e23bb1f7" category="list-text">在服务笔记本电脑上打开 Web 浏览器。</block>
  <block id="da9f2dd2935add05f059fc0d158f9f39" category="list-text">输入 StorageGRID 设备安装程序的 URL ： + ` * https://_E5700SG_Controller_IP_:8443*`</block>
  <block id="285481546855f594bfd2b359616fc7d7" category="paragraph">对于 ` _E5700SG_Controller_IP_` ，请使用控制器的 DHCP 地址（如果有，请使用管理网络的 IP 地址）。</block>
  <block id="d40e4c2c3b0ff5d04fa853b79879165f" category="list-text">如果系统提示您显示安全警报，请使用浏览器的安装向导查看并安装证书。</block>
  <block id="43cf1947f202ecdcb542c175852a5fb8" category="paragraph">下次访问此 URL 时，不会显示此警报。</block>
  <block id="e658e68c5a2726a1c4438533ca6fc194" category="paragraph">此时将显示 StorageGRID 设备安装程序主页页面。首次访问此页面时显示的信息和消息取决于设备当前与 StorageGRID 网络的连接方式。可能会显示错误消息，这些消息将在后续步骤中解决。</block>
  <block id="3e2959dd5329eedea2ff0811ae1465d2" category="image-alt">StorageGRID Webscale 设备安装程序主页顶部的屏幕截图</block>
  <block id="db276568f873b6516549288c9ba43e6c" category="list-text">如果 E5700SG 控制器无法使用 DHCP 获取 IP 地址：</block>
  <block id="175e6e939c506cdc0647deea73003e40" category="list-text">使用以太网缆线将服务笔记本电脑连接到 E5700SG 控制器上的管理端口 2 。</block>
  <block id="003eec4d0b4a4ee6ba4f6015688a7aef" category="image-alt">管理端口 2 在 E5700SG 控制器上的位置</block>
  <block id="85ec9e05929d89490be4d40c684f63d0" category="list-text">输入 StorageGRID 设备安装程序的 URL ： + ` * \https://169.254.0.1:8443*`</block>
  <block id="ee1a433d12e6b818a4d91486ce4b3386" category="paragraph">此时将显示 StorageGRID 设备安装程序主页页面。首次访问此页面时显示的信息和消息取决于设备当前的连接方式。</block>
  <block id="73cb2eaea2c47999c2287bfd39558782" category="admonition">如果无法通过链路本地连接访问主页，请将服务笔记本电脑 IP 地址配置为 `169.254.0.2` ，然后重试。</block>
  <block id="50c804f5a1e7c8d08871af4b8d2fad89" category="list-text">查看主页页面上显示的所有消息，并根据需要配置链路配置和 IP 配置。</block>
  <block id="c529dc6bdd0e3119dcb50fae08002932" category="summary">您可以使用 SANtricity 系统管理器监控和管理存储控制器架中的各个硬件组件，并查看硬件诊断和环境信息，例如组件温度以及与驱动器相关的问题。</block>
  <block id="1f8ef647eb7454b535c5f38cc21488f4" category="doc">在 SANtricity System Manager 中查看硬件状态</block>
  <block id="bce6d3b3da9998b7deb7b98df1b7bb6f" category="list-text">要通过网格管理器访问 SANtricity 系统管理器，您必须具有存储设备管理员权限或 root 访问权限。</block>
  <block id="32164cf6cc5885fb6a0cb31ceedad995" category="admonition">要使用网格管理器或 StorageGRID 设备安装程序访问 SANtricity 系统管理器，您必须安装 SANtricity 固件 8.70 或更高版本。</block>
  <block id="79824353f55849980d7968388ca015fe" category="list-text">访问 SANtricity 系统管理器。</block>
  <block id="fb331b52b57c8e02d72db6c5292c7e3e" category="paragraph"><block ref="fb331b52b57c8e02d72db6c5292c7e3e" category="inline-xref-macro-rx"></block></block>
  <block id="c394400400cc39bf6a8f359ea9467601" category="list-text">如果需要，请输入管理员用户名和密码。</block>
  <block id="19a1d132d1062cf2e9d60ca84e298f9b" category="list-text">单击 * 取消 * 以关闭设置向导并显示 SANtricity 系统管理器主页。</block>
  <block id="58880934cebef645aede3e8ff722fed9" category="paragraph">此时将显示 SANtricity System Manager 主页。在 SANtricity 系统管理器中，控制器架称为存储阵列。</block>
  <block id="1b8c63bdd76ff366f6d27c28e888fb00" category="list-text">查看显示的设备硬件信息，并确认所有硬件组件的状态均为最佳。</block>
  <block id="7d4e0533de6f7ac5881b28b917cbae0c" category="list-text">单击 * 硬件 * 选项卡。</block>
  <block id="82fb049996ed08731ade2dea44f39cca" category="list-text">单击 * 显示磁盘架的背面 * 。</block>
  <block id="c34b6887b70e5e720539d764281f610b" category="image-alt">SANtricity 系统管理器中的硬件状态选项卡</block>
  <block id="df6330ad4209d858445ba7f800c25b3b" category="paragraph">从磁盘架背面，您可以查看两个存储控制器，每个存储控制器中的电池，两个电源箱，两个风扇箱和扩展架（如果有）。您还可以查看组件温度。</block>
  <block id="f47dd98f71464d74c772878d6fb7ef16" category="list-text">要查看每个存储控制器的设置，请选择控制器，然后从上下文菜单中选择 * 查看设置 * 。</block>
  <block id="fe2d39777b365079043f1c3374424de1" category="list-text">要查看磁盘架背面其他组件的设置，请选择要查看的组件。</block>
  <block id="1691f4ab4e0f03964febf49bb7f29675" category="list-text">单击 * 显示磁盘架正面 * ，然后选择要查看的组件。</block>
  <block id="179029bb498225a1ea1c5a2f4181bc77" category="paragraph">从磁盘架正面，您可以查看存储控制器磁盘架或扩展磁盘架（如果有）的驱动器和驱动器抽盒。</block>
  <block id="6c6b7abab4fea4154885a1dc19c6a673" category="paragraph">如果需要关注任何组件的状态，请按照 Recovery Guru 中的步骤解决问题描述 或联系技术支持。</block>
  <block id="9742999f9fee77777cbda7af8a8b8ebc" category="summary">对于当前使用 SANtricity OS 08.42.20.00 （ 11.42\ ）或更高版本的存储控制器，您必须使用网格管理器应用升级。</block>
  <block id="be5478803b1a452fb672a118c66f1f8e" category="paragraph">对于当前使用 SANtricity OS 08.42.20.00 （ 11.42 ）或更高版本的存储控制器，您必须使用网格管理器应用升级。</block>
  <block id="4f44ba1e9b4f7ae03dfb1d6174aa98ab" category="list-text">您已查阅 NetApp 互操作性表工具（ IMT ）以确认用于升级的 SANtricity 操作系统版本与您的设备兼容。</block>
  <block id="46ad593183a599e1091c8906d5951ade" category="list-text">您具有维护或 root 访问权限。</block>
  <block id="8558033c3793575310529f905f9b45ab" category="list-text">您将使用登录到网格管理器 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="9a4832beec51f38ad760c485e07c9b9c" category="list-text">您具有配置密码短语。</block>
  <block id="2e3049217ee5810ed3314c09b487b710" category="list-text">您可以访问 SANtricity 操作系统的 NetApp 下载页面。</block>
  <block id="8bf15fad717507103221ea4a33ab4133" category="paragraph">在完成 SANtricity 操作系统升级过程之前，您无法执行其他软件更新（ StorageGRID 软件升级或修补程序）。如果您尝试在 SANtricity 操作系统升级过程完成之前启动修补程序或 StorageGRID 软件升级，则系统会重定向到 SANtricity 操作系统升级页面。</block>
  <block id="de5a91c2ac9b9a7062c60421980905de" category="paragraph">只有在 SANtricity 操作系统升级成功应用于已选择进行升级的所有适用节点之后，操作步骤 才会完成。在每个节点上（按顺序）加载 SANtricity 操作系统可能需要 30 分钟以上的时间，并且最多需要 90 分钟来重新启动每个 StorageGRID 存储设备。</block>
  <block id="3a0f4c1c5260f0d5583521992f96fdba" category="admonition">只有在使用网格管理器执行升级时，以下步骤才适用。如果设备中的存储控制器使用的 SANtricity 操作系统版本早于 08.42.20.00 （ 11.42 ），则无法使用网格管理器进行升级。</block>
  <block id="0c5473a9ab48d63b4b55ddbb45baa471" category="admonition">此操作步骤 会自动将 NVSRAM 升级到与 SANtricity 操作系统升级相关的最新版本。您无需应用单独的 NVSRAM 升级文件。</block>
  <block id="cb6b1abca50c09f5c5248b94294f2bd6" category="list-text">【下载 _SANtricity 操作系统】从 NetApp 支持站点下载新的 SANtricity 操作系统软件文件。</block>
  <block id="a2e0fe599ce2640e2f1503063be0609a" category="paragraph">请务必为存储控制器选择 SANtricity 操作系统版本。</block>
  <block id="7daa4593875eaec3bb3ad0aa81b013a8" category="list-text">选择 * 维护 * &gt; * 系统 * &gt; * 软件更新 * 。</block>
  <block id="87104bef25a5392dec6522792de0b376" category="image-alt">软件更新登录页面</block>
  <block id="0307a7db9f4d72baff253e1322580ca2" category="list-text">在 SANtricity OS update 部分中，选择 * 更新 * 。</block>
  <block id="b1517c973cb601560138cf9cf6809496" category="paragraph">此时将显示 SANtricity OS 升级页面。</block>
  <block id="17ea75727a9b44532624e53344c23672" category="image-alt">显示 StorageGRID First SANtricity OS 页面的屏幕截图</block>
  <block id="edb6b506e8c2f2e4e221ad43b0d07aad" category="list-text">选择从 NetApp 支持站点下载的 SANtricity OS 升级文件。</block>
  <block id="a51e70f6e141783b70399579cac21424" category="list-text">选择 * 浏览 * 。</block>
  <block id="20e52d3db61da72e5ef679c6520a0a56" category="list-text">找到并选择文件。</block>
  <block id="91dd66dbbc7bcb9ff2accc62e548e2fa" category="list-text">选择 * 打开 * 。</block>
  <block id="c0a00301a07d21d3776a069d2507b350" category="paragraph">已上传并验证此文件。验证过程完成后，文件名会显示在 * 浏览 * 按钮旁边。</block>
  <block id="a35acaa56f5aa1ef0ae7cce1c17c61db" category="admonition">请勿更改文件名，因为它是验证过程的一部分。</block>
  <block id="7868f61447922d514bcc52acb5335a6f" category="list-text">输入配置密码短语。</block>
  <block id="1c2d44830614548dbd0143c6debec474" category="paragraph">已启用 * 开始 * 按钮。</block>
  <block id="cc99cd6550a548e2a6a10be11a7acf67" category="list-text">选择 * 开始 * 。</block>
  <block id="527e1bdd459e06d2bcdcc2b013aeff23" category="paragraph">此时将显示一个警告框，指出在重新启动已升级的节点上的服务时，浏览器的连接可能会暂时断开。</block>
  <block id="78da6677c4279903c5709e2bb6b9ad3f" category="image-alt">显示连接将暂时丢失对话框的屏幕截图</block>
  <block id="34d85cc845b441cb99182b01e3c782e8" category="list-text">选择 * 确定 * 将 SANtricity 操作系统升级文件暂存到主管理节点。</block>
  <block id="2f5d22d8cccba46ddff5b65644829145" category="paragraph">SANtricity 操作系统升级开始时：</block>
  <block id="31f839d31314d5349e2abeeb3b87a493" category="list-text">运行状况检查已运行。此过程会检查是否没有节点的状态为 "Needs Attention （需要注意） " 。</block>
  <block id="597f99632d3221be2e6c86f0f75841f8" category="admonition">如果报告了任何错误，请解决这些错误并再次选择 * 启动 * 。</block>
  <block id="50ebb42883f4b956d6d1f5ffc2553356" category="list-text">此时将显示 SANtricity 操作系统升级进度表。此表显示了网格中的所有存储节点以及每个节点的当前升级阶段。</block>
  <block id="270d0198270fb30ad34e61d0d13ec6c5" category="admonition">此表显示了所有设备存储节点。不会显示基于软件的存储节点。对于需要升级的所有节点，请选择 * 批准 * 。</block>
  <block id="74968529beca0b2da991914b56c61fb7" category="image-alt">屏幕截图显示了 SANtricity 操作系统升级页面的 SANtricity 操作系统升级进度部分</block>
  <block id="636f1e7c36777dd17e1dd780718bb09c" category="list-text">或者，也可以按 * 站点 * ， * 名称 * ， * 进度 * ， * 阶段 * ， * 详细信息 * 按升序或降序对节点列表进行排序。 或 * 当前控制器固件版本 * 。或者，在 * 搜索 * 框中输入一个术语以搜索特定节点。</block>
  <block id="965fc31c1db242998410b015e44d0358" category="paragraph">您可以使用此部分右下角的左箭头和右箭头滚动浏览节点列表。</block>
  <block id="f1c7a234f44278d3322413be44d78fc4" category="list-text">批准已准备好添加到升级队列的网格节点。相同类型的已批准节点将一次升级一个。</block>
  <block id="374adc9492e855a5ed0f1ee1eea663db" category="admonition">请勿批准设备存储节点的 SANtricity 操作系统升级，除非您确定该节点已做好停止和重新启动的准备。在某个节点上批准 SANtricity 操作系统升级后，该节点上的服务将停止，升级过程将开始。稍后，当节点完成升级后，设备节点将重新启动。对于与节点通信的客户端，这些操作可能会导致发生原因 服务中断。</block>
  <block id="9dda08d2e3e90aafa7d9cdc9b09a3f69" category="list-text">选择 * 全部批准 * 按钮之一，将所有存储节点添加到 SANtricity 操作系统升级队列。</block>
  <block id="a115f8041de83d9d299372280b386d02" category="admonition">如果节点升级顺序非常重要，请一次批准一个节点或一组节点，并等待每个节点完成升级，然后再批准下一个节点。</block>
  <block id="e946c5dabbf82ec8db0a197c97d0ab5d" category="list-text">选择一个或多个 * 批准 * 按钮将一个或多个节点添加到 SANtricity OS 升级队列。</block>
  <block id="13952cc92824707df0e25ebab97c5de5" category="paragraph">选择 * 批准 * 后，升级过程将确定是否可以升级此节点。如果某个节点可以升级，则会将其添加到升级队列中。</block>
  <block id="92d06672abb8289e7821db299e1ddce0" category="paragraph">对于某些节点，不会有意应用选定的升级文件，您可以在不升级这些特定节点的情况下完成升级过程。有意未升级的节点会显示完成阶段（已尝试升级），并在详细信息列中列出未升级此节点的原因。</block>
  <block id="b793cf0bde93631ecd8495ed79a314ac" category="list-text">如果需要从 SANtricity 操作系统升级队列中删除一个或所有节点，请选择 * 删除 * 或 * 全部删除 * 。</block>
  <block id="6aaa4adbf22ba64d289bda3710e42099" category="paragraph">当此阶段超过已排队时， * 删除 * 按钮将处于隐藏状态，您无法再从 SANtricity 操作系统升级过程中删除此节点。</block>
  <block id="ab9a304a22d08ed14f0cc1459491d6da" category="list-text">等待 SANtricity 操作系统升级应用于每个批准的网格节点。</block>
  <block id="238679c217350a2b8556e7b6a42688ae" category="list-text">如果在应用 SANtricity 操作系统升级期间任何节点显示错误阶段，则此节点的升级将失败。在技术支持的协助下，您可能需要将设备置于维护模式才能进行恢复。</block>
  <block id="f7ac094b3e3caecbc193f9ab020145ea" category="list-text">如果节点上的固件版本太旧，无法使用网格管理器进行升级，则节点将显示错误阶段并提供详细信息： "`您必须使用维护模式升级此节点上的 SANtricity OS 。请参见适用于您的设备的安装和维护说明。升级后，您可以使用此实用程序进行将来的升级。` 要解决此错误，请执行以下操作：</block>
  <block id="c039bd568fc126825cba845a807fc9a4" category="list-text">使用维护模式升级显示 " 错误 " 阶段的节点上的 SANtricity OS 。</block>
  <block id="5639f393c62233d0d97bcb7208d037d3" category="list-text">使用网格管理器重新启动并完成 SANtricity 操作系统升级。</block>
  <block id="29b291eeb34011b44acc4f5e8e3f3ccc" category="paragraph">在所有已批准的节点上完成 SANtricity 操作系统升级后， SANtricity 操作系统升级进度表将关闭，绿色横幅将显示 SANtricity 操作系统升级完成的日期和时间。</block>
  <block id="8fd1fad867c0775e5acd70316d398dc3" category="image-alt">升级完成后 SANtricity OS 升级页面的屏幕截图</block>
  <block id="d4aeb7039085870c2e166be471c66151" category="list-text">如果节点无法升级，请记下 "Details" 列中显示的原因并采取相应的措施：</block>
  <block id="9519be18b98330a7b0ad3727291daa34" category="list-text">" `s存储节点已升级。` " 无需执行进一步操作。</block>
  <block id="43a15500fdab4393d23e3bf506a10384" category="list-text">"`SANtricity 操作系统升级不适用于此节点。` " 此节点没有可由 StorageGRID 系统管理的存储控制器。完成升级过程，而不升级显示此消息的节点。</block>
  <block id="e5e483f0ecb28cfe7e7577bd4c7026b6" category="list-text">"`SANtricity OS 文件与此节点不兼容。` " 节点所需的 SANtricity 操作系统文件与您选择的文件不同。完成当前升级后，下载适用于此节点的正确 SANtricity OS 文件，然后重复升级过程。</block>
  <block id="a2134f4c2c4b8a396881779b4ea114ab" category="admonition">只有在所有列出的存储节点上批准 SANtricity 操作系统升级后， SANtricity 操作系统升级过程才会完成。</block>
  <block id="c80c9765fb19df07c4305690d35efa54" category="list-text">如果要结束节点批准并返回到 SANtricity OS 页面以允许上传新的 SANtricity OS 文件，请执行以下操作：</block>
  <block id="7bb52cabfc34e79271f6fcaf96662bbf" category="list-text">选择 * 跳过节点并完成 * 。</block>
  <block id="66e3df408c6d73fe99411d593b76df48" category="paragraph">此时将显示一条警告，询问您是否确实要在不升级所有节点的情况下完成升级过程。</block>
  <block id="8470eaddcaa2b7c8c63f14650b316ec2" category="list-text">选择 * 确定 * 返回到 * SANtricity OS* 页面。</block>
  <block id="a32bccced35a4e19329e374adcb4f3e0" category="inline-xref">下载 SANtricity 操作系统</block>
  <block id="b4f496d50803403180532bf8e251bc8f" category="list-text">准备好继续批准节点后，请转至 <block ref="abf2c322795d9b79df9a28ae3ab0187a" category="inline-xref-macro-rx"></block> 重新启动升级过程。</block>
  <block id="b55351ef221e1f7c56efb85a5e93ea93" category="admonition">已批准并升级的节点仍保持升级状态，而不会出现错误。</block>
  <block id="47554527e3caf2ef5673dd817216a7b4" category="list-text">对处于完成阶段且需要其他 SANtricity 操作系统升级文件的所有节点重复此升级操作步骤 。</block>
  <block id="40e6ec0ba08691f8bf73f78bc177c657" category="admonition">对于状态为 "Needs Attenance" 的任何节点，请使用维护模式执行升级。</block>
  <block id="78a8134fbe13c8146754345f269098d5" category="admonition">重复升级操作步骤 时，您必须批准先前升级的节点。</block>
  <block id="f00812ca2e0779546bd7c23ba2fa5875" category="summary">设备启动时，每个控制器上的七段显示状态和错误代码。</block>
  <block id="1fd1611160e9422ab9637dbd8cf4d8d1" category="doc">查看 SG5700 启动状态代码</block>
  <block id="3131eb91760a58a27e5b46ed560faf10" category="paragraph">E2800 控制器和 E5700SG 控制器显示不同的状态和错误代码。</block>
  <block id="e1de07f3ce4ec55b5e98fe891f0ef504" category="paragraph">* 注： * 为 E 系列 E5700 控制器列出的代码不适用于设备中的 E5700SG 控制器。</block>
  <block id="95d3acee6118503c472ccba94af3d695" category="list-text">在启动期间，通过查看七段显示器上显示的代码来监控进度。</block>
  <block id="2698ed9e67a6af9070496b11593279ab" category="list-text">E2800 控制器上的七段显示会显示重复序列 * 操作系统 * ， * 可持续发展 * ， ` * 空白 _*` ，以指示它正在执行每日开始处理。</block>
  <block id="104878c88817fea4182979f9a16ba292" category="list-text">E5700SG 控制器上的七段显示屏显示一系列代码，以 * AA* 和 * FF* 结尾。</block>
  <block id="7f9343ee0db1bb19288fdc67d168e10e" category="list-text">控制器启动后，确认七段显示内容如下：</block>
  <block id="141351bd3dc9f87a5413659cbdd752b8" category="image-alt">控制器启动后，将显示七段。</block>
  <block id="d6bbd344fa80571279e880b792035e47" category="cell">七段式显示</block>
  <block id="db80a880001b2c98dc2b6d11817ab710" category="paragraph">显示 99 ，这是 E 系列控制器架的默认 ID 。</block>
  <block id="aa5107101c9a2da4199ca71eddbe32fc" category="paragraph">显示了 * 何 * ，后跟两个数字的重复序列。</block>
  <block id="b3731220969a61f2eec4d74ad2355d4f" category="paragraph">在此序列中，第一组数字是为控制器的管理端口 1 分配的 DHCP IP 地址。此地址用于将控制器连接到 StorageGRID 的管理网络。第二组数字是 DHCP 分配的 IP 地址，用于将设备连接到用于 StorageGRID 的网格网络。</block>
  <block id="47dcf5f062ff30b13df8e2c2065be2e2" category="paragraph">* 注： * 如果无法使用 DHCP 分配 IP 地址，则会显示 0.0.0.0 。</block>
  <block id="72fa9bf378fd3cb967bab4fca7de600e" category="inline-xref-macro">硬件安装故障排除（ SG5700 ）</block>
  <block id="a19d66186b435355cd53d86d0c268ea5" category="list-text">如果显示的七段显示其他值，请参见 <block ref="7d5df89b58032a575ff0df1ae85a5bd8" category="inline-xref-macro-rx"></block> 并确认您已正确完成安装步骤。如果无法解决此问题，请联系技术支持。</block>
  <block id="8f0c76cbf2565c3f558e1149bb7dc37a" category="inline-link">《 E5700 和 E2800 系统监控指南》</block>
  <block id="b45c2bf745964b6901b9e3143c5e3673" category="paragraph"><block ref="b45c2bf745964b6901b9e3143c5e3673" category="inline-link-rx"></block></block>
  <block id="cf565a2361946e7a26ba45e6c86ed908" category="summary">安装和配置存储设备后，您可以将其部署为 StorageGRID 系统中的存储节点。将设备部署为存储节点时，您可以使用设备上随附的 StorageGRID 设备安装程序。</block>
  <block id="d832dfdce2d54da8fe623cc67bfd6fb4" category="list-text">如果要克隆设备节点，请继续执行恢复和维护过程。</block>
  <block id="c3c0c5e67f70ef84a493ef3942629e66" category="list-text">此设备已安装在机架或机柜中，并已连接到您的网络并已启动。</block>
  <block id="f2c92a34032f7d433f7be68580f796da" category="list-text">已使用 StorageGRID 设备安装程序为此设备配置网络链路， IP 地址和端口重新映射（如果需要）。</block>
  <block id="52cfed4cd6bd4be0cb055eeef7280b37" category="list-text">您知道分配给设备计算控制器的一个 IP 地址。您可以对任何已连接的 StorageGRID 网络使用此 IP 地址。</block>
  <block id="01a94e6dd5af1a532f8ec5407ed9ae7f" category="list-text">已部署 StorageGRID 系统的主管理节点。</block>
  <block id="096f6ba989f7c21df95d18912d408f16" category="list-text">StorageGRID 设备安装程序的 IP 配置页面上列出的所有网格网络子网均已在主管理节点上的网格网络子网列表中定义。</block>
  <block id="6e6aacabd40b51e8652fdf9b6a1641c7" category="list-text">您的服务笔记本电脑具有受支持的 Web 浏览器。</block>
  <block id="af9fa98e864bb3ef2396288fa7a9d6b8" category="paragraph">每个存储设备都用作一个存储节点。任何设备都可以连接到网格网络，管理网络和客户端网络</block>
  <block id="cdad3e4a8e8cfce161f5a83dd2c7a1a1" category="paragraph">要在 StorageGRID 系统中部署设备存储节点，请访问 StorageGRID 设备安装程序并执行以下步骤：</block>
  <block id="39477ba4c8468b4da04da4f855e9785e" category="list-text">您可以指定或确认主管理节点的 IP 地址以及存储节点的名称。</block>
  <block id="d5c1f2658aaba7f3605752bb1f4cfa22" category="list-text">您可以开始部署，并等待卷配置完毕并安装软件。</block>
  <block id="26ea01749d8fe9ba54d34006d7b711eb" category="list-text">当安装暂停完成设备安装任务后，您可以通过登录到网格管理器，批准所有网格节点并完成 StorageGRID 安装和部署过程来恢复安装。</block>
  <block id="4e4a7a07939d8db1c2a9cc0463cd01b6" category="admonition">如果您需要一次部署多个设备节点，则可以使用 `configure-sGa.py` Appliance Installation 脚本自动执行安装过程。</block>
  <block id="3da6a7d0bb47cd64f8de58da564ed961" category="list-text">如果要执行扩展或恢复操作，请按照相应说明进行操作：</block>
  <block id="e5867f3a79d3fd5037c12105fb7f06ae" category="list-text">要将设备存储节点添加到现有 StorageGRID 系统，请参见有关扩展 StorageGRID 系统的说明。</block>
  <block id="8a0e5f2a9fdc4a2e732fd9a781369ac7" category="list-text">要在恢复操作中部署设备存储节点，请参见有关恢复和维护的说明。</block>
  <block id="74338052fed8244d69eb24f9f847adee" category="image-alt">其他节点类型的设备安装程序主页（管理节点除外）</block>
  <block id="5d3ae9fd20ce11abbf1c69e5e5ba2dbb" category="list-text">在 * 主管理节点连接 * 部分中，确定是否需要指定主管理节点的 IP 地址。</block>
  <block id="8e1fcda48ab8f007fc6666daf186cb68" category="paragraph">如果先前已在此数据中心中安装了其他节点，则 StorageGRID 设备安装程序可以自动发现此 IP 地址，前提是主管理节点或至少一个配置了 admin_IP 的其他网格节点位于同一子网上。</block>
  <block id="9d682587a08c8869c50166273def450f" category="list-text">如果未显示此 IP 地址或您需要更改此 IP 地址，请指定地址：</block>
  <block id="054b4f3ea543c990f6b125f41af6ebf7" category="cell">选项</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">Description</block>
  <block id="5d7e93aee4e23fa21c6d3a7c39a2dc9e" category="paragraph">手动输入 IP</block>
  <block id="41debe9e09da60c87a31635828c965da" category="list-text">取消选中 * 启用管理节点发现 * 复选框。</block>
  <block id="f83abd2ae376ab0df5391f96094fd3fe" category="list-text">手动输入 IP 地址。</block>
  <block id="4cc186df234138a57b2e8c5d8e5f7f8d" category="list-text">单击 * 保存 * 。</block>
  <block id="0ef1beb7b58a661ee5ffd8eb66685151" category="list-text">等待连接状态，使新 IP 地址准备就绪。</block>
  <block id="f77889528f53872b42f2d777226ac0d7" category="paragraph">自动发现所有已连接的主管理节点</block>
  <block id="1aa533695cd3155f33cbf5a641f450a3" category="list-text">选中 * 启用管理节点发现 * 复选框。</block>
  <block id="58f5281bfc13f45500c73e000e05f9ca" category="list-text">等待显示发现的 IP 地址列表。</block>
  <block id="1922214d107424462c42cf882e7de7fc" category="list-text">为要部署此设备存储节点的网格选择主管理节点。</block>
  <block id="d7c99a466590be433c468b480bbc9ec0" category="list-text">在 * 节点名称 * 字段中，输入要用于此设备节点的名称，然后单击 * 保存 * 。</block>
  <block id="2d667a65d5d3fc0d7d98a7834d29a717" category="paragraph">节点名称将分配给 StorageGRID 系统中的此设备节点。它显示在网格管理器的节点页面（概述选项卡）上。如果需要，您可以在批准节点时更改名称。</block>
  <block id="73231881e6fea0c98729cd77e6d2cc87" category="list-text">在 * 安装 * 部分中，确认当前状态为 "Ready to start installation of ` node_node name_` into grid with primary Admin Node ` _admin_IP_` " ，并且 * 开始安装 * 按钮已启用。</block>
  <block id="ce53743b718318d4a2a087a634db233d" category="paragraph">如果未启用 * 开始安装 * 按钮，则可能需要更改网络配置或端口设置。有关说明，请参见设备的安装和维护说明。</block>
  <block id="9fa5931cf0ab39e948e2bb72b6576426" category="admonition">如果要将存储节点设备部署为节点克隆目标，请在此停止部署过程，然后继续执行节点克隆操作步骤 的恢复和维护。</block>
  <block id="78f0e03ec13f92327369d4737eac3530" category="list-text">在 StorageGRID 设备安装程序主页中，单击 * 开始安装 * 。</block>
  <block id="21880bccf04609cb32fd02b3492c1c70" category="paragraph">当前状态将更改为 "`Installation is in progress ，` " ，此时将显示监控器安装页面。</block>
  <block id="0205d951b300647dabcd3e7f7910a010" category="admonition">如果需要手动访问监控器安装页面，请单击 * 监控安装 * 。</block>
  <block id="6782fad0edf81ef678da67ab11346ff5" category="list-text">如果网格包含多个设备存储节点，请对每个设备重复这些步骤。</block>
  <block id="4e2e50dcffb626790688f13c3a94265b" category="admonition">如果您需要一次部署多个设备存储节点，则可以使用 `configure-sGa.py` Appliance Installation 脚本自动执行安装过程。</block>
  <block id="51c6c75f0ae6b021f73184159fb5bf3c" category="summary">您可能需要将设备存储节点上的内部端口重新映射到不同的外部端口。例如，由于使用了防火墙问题描述 ，您可能需要重新映射端口。</block>
  <block id="a80345b07ff6f31d32eea0e7a8662cd5" category="doc">可选：重新映射设备的网络端口</block>
  <block id="e90a0912e7b857d931e7475bb0ba5ed0" category="list-text">您先前已访问 StorageGRID 设备安装程序。</block>
  <block id="6514a0c7fbfbf4afa9e2897f8336fa2d" category="list-text">您尚未配置，也不打算配置负载平衡器端点。</block>
  <block id="848e39eb47ccc59c68034fb5231b5793" category="inline-xref-macro">删除端口重新映射</block>
  <block id="1d3792d43f58b825cee4b6114ba46319" category="admonition">如果重新映射任何端口，则不能使用相同的端口来配置负载平衡器端点。如果要配置负载平衡器端点且已重新映射端口，请按照中的步骤进行操作 <block ref="7e6cc8450c7e11816aa6b60a132d2925" category="inline-xref-macro-rx"></block>。</block>
  <block id="e591dbdc6f384a536d0a83a2a9261e5f" category="list-text">从 StorageGRID 设备安装程序的菜单栏中，单击 * 配置网络连接 * &gt; * 删除端口 * 。</block>
  <block id="fb5e82922f1a41cc1cdad9c4675eb592" category="paragraph">此时将显示 Remap Port 页面。</block>
  <block id="ca17720cd81c640ab82bfdd670d867a4" category="list-text">从 * 网络 * 下拉框中，为要重新映射的端口选择网络：网格，管理员或客户端。</block>
  <block id="99857ab5e13940f074512c4e34c09017" category="list-text">从 * 协议 * 下拉框中，选择 IP 协议： TCP 或 UDP 。</block>
  <block id="a2547f122a75b0860ac2ed2c5f0f3019" category="list-text">从 * 映射方向 * 下拉框中，选择要为此端口重新映射的流量方向：入站，出站或双向。</block>
  <block id="5cf46c01d6003b77274905617ac7c62d" category="list-text">对于 * 原始端口 * ，输入要重新映射的端口的编号。</block>
  <block id="230853e05ac918c0b14f3e29a372a7c6" category="list-text">对于 * 映射到端口 * ，请输入要使用的端口编号。</block>
  <block id="541b410bf2e70562e4ae98527a156f68" category="list-text">单击 * 添加规则 * 。</block>
  <block id="b54fb0daf1cf1e76af94e028c07484fb" category="paragraph">此时，新端口映射将添加到表中，重新映射将立即生效。</block>
  <block id="0cf4752aa598df94c997b46a3a6faab7" category="image-alt">屏幕截图显示了 StorageGRID Webscale 设备安装程序中的 "Remap Ports" 选项</block>
  <block id="74f80642e226d57ffa9e967143506727" category="list-text">要删除端口映射，请选择要删除的规则对应的单选按钮，然后单击 * 删除选定规则 * 。</block>
  <block id="8a45423f8adbe098ac885748535aaf6f" category="summary">设备上的 StorageGRID 设备安装程序版本必须与 StorageGRID 系统上安装的软件版本匹配，以确保所有 StorageGRID 功能均受支持。</block>
  <block id="b836395e2ae90393d394fc272be4bac5" category="doc">验证并升级 StorageGRID 设备安装程序版本</block>
  <block id="606e00686a271ec524993d6d2cb4c972" category="paragraph">您已访问 StorageGRID 设备安装程序。</block>
  <block id="3a80b8476efec1a81aee27516564f0d0" category="paragraph">StorageGRID 设备出厂时预安装了 StorageGRID 设备安装程序。如果要将设备添加到最近升级的 StorageGRID 系统，则可能需要先手动升级 StorageGRID 设备安装程序，然后再将设备安装为新节点。</block>
  <block id="fa8664c9272e7f67a39c4ebf9dd62fc0" category="paragraph">升级到新的 StorageGRID 版本时， StorageGRID 设备安装程序会自动升级。您无需升级已安装设备节点上的 StorageGRID 设备安装程序。只有在安装包含早期版本的 StorageGRID 设备安装程序的设备时，才需要此操作步骤 。</block>
  <block id="d7f2a0465ab2ab35fa9ebaae47487be8" category="list-text">从 StorageGRID 设备安装程序中，选择 * 高级 * &gt; * 升级固件 * 。</block>
  <block id="903e1527e19be4df9c4bd666ece1cb13" category="list-text">将当前固件版本与 StorageGRID 系统上安装的软件版本进行比较。（从网格管理器的顶部，选择帮助图标并选择 * 关于 * 。）</block>
  <block id="4b0e2759588b4734dc2913ad0077702f" category="paragraph">两个版本中的第二位数字应匹配。例如，如果您的 StorageGRID 系统运行的是 11.* 6* 。 _x_._y_ ，则 StorageGRID 设备安装程序版本应为 3.* 6* 。 _z_ 。</block>
  <block id="1893d21b3674a2084b330d4c84aa45c2" category="list-text">如果设备安装了 StorageGRID 设备安装程序的低级版本，请转到 StorageGRID 的 "NetApp 下载 " 页面。</block>
  <block id="08f1abb5178bd37fc6e2a13d8dcd8107" category="inline-link">NetApp 下载： StorageGRID</block>
  <block id="f40a09f3e194689e4082cf7a66952b7f" category="paragraph"><block ref="f40a09f3e194689e4082cf7a66952b7f" category="inline-link-rx"></block></block>
  <block id="d6aa373ef73e5efc5061936104d29d95" category="paragraph">使用您的 NetApp 帐户的用户名和密码登录。</block>
  <block id="a662a1f621c8bd2ce1cbba14407fa0f5" category="list-text">下载适当版本的 * StorageGRID Appliances * 支持文件以及相应的校验和文件。</block>
  <block id="b4137cc5ea9eaea75d4fa3554061a3f9" category="paragraph">StorageGRID 设备的支持文件是一个 ` .zip` 归档文件，其中包含所有 StorageGRID 设备型号的当前和先前固件版本，位于每种控制器类型的子目录中。</block>
  <block id="af59888a4b9cdc78aea1237a98e0c68b" category="paragraph">下载 StorageGRID 设备的支持文件后，解压缩 ` .zip` 归档并查看 README 文件，以了解有关安装 StorageGRID 设备安装程序的重要信息。</block>
  <block id="cc6161e011b8dfbf68b830aebdf3f8d9" category="list-text">按照 StorageGRID 设备安装程序的 " 升级固件 " 页面上的说明执行以下步骤：</block>
  <block id="a519faf59e721dc92cc1b94cfce8fa4a" category="list-text">上传适用于您的控制器类型的相应支持文件（固件映像）和校验和文件。</block>
  <block id="c7eee3edc2087ab2cf5a3c896e27ba9e" category="list-text">升级非活动分区。</block>
  <block id="85a1fc65d4602468539a24655043aaa5" category="list-text">重新启动和交换分区。</block>
  <block id="b826785d32c3192cf0f13a86019afc38" category="list-text">升级第二个（非活动）分区。</block>
  <block id="483a98d2556fb3016ca713f748465ec4" category="summary">在将 StorageGRID 设备部署为 StorageGRID 网格中的存储节点之前，必须先配置设备与计划使用的网络之间的连接。您可以通过浏览到 StorageGRID 设备安装程序来配置网络连接，该安装程序包含在 E5700SG 控制器 \ （设备中的计算控制器 \ ）中。</block>
  <block id="b0a76274f08923f302e6f98e676f509b" category="doc">配置 StorageGRID 连接（ SG5700 ）</block>
  <block id="fc2bef84336cd811fc89323fa2b9b364" category="paragraph">在将 StorageGRID 设备部署为 StorageGRID 网格中的存储节点之前，必须先配置设备与计划使用的网络之间的连接。您可以通过浏览到 StorageGRID 设备安装程序来配置网络连接，该安装程序包含在 E5700SG 控制器（设备中的计算控制器）上。</block>
  <block id="86eb182409750ba87b0a37eace75181c" category="list-text"><block ref="86eb182409750ba87b0a37eace75181c" category="inline-xref-macro-rx"></block></block>
  <block id="c77d692e06ad8616c501cb9af8254ec9" category="inline-xref-macro">设置 IP 配置</block>
  <block id="8e358d0670c08b8d2e379efb0229ed9c" category="list-text"><block ref="8e358d0670c08b8d2e379efb0229ed9c" category="inline-xref-macro-rx"></block></block>
  <block id="1d8d5ab62c7b4067c383dd42130eec35" category="list-text"><block ref="1d8d5ab62c7b4067c383dd42130eec35" category="inline-xref-macro-rx"></block></block>
  <block id="259f7ff6cc8d64b66cba93a17304c3d6" category="inline-xref-macro">验证端口级别的网络连接</block>
  <block id="107c2c030e8c0cbb25a7a4203adac190" category="list-text"><block ref="107c2c030e8c0cbb25a7a4203adac190" category="inline-xref-macro-rx"></block></block>
  <block id="e485a2bb58eff1a96bc2f6c877e4c6e8" category="summary">如果您在安装期间为设备启用了节点加密，则可以监控每个设备节点的节点加密状态，包括节点加密状态和密钥管理服务器 \ （ KMS\ ）详细信息。</block>
  <block id="f9065233fe53725082e0861e57eb2764" category="doc">在维护模式下监控节点加密（ SG5700 ）</block>
  <block id="a7a12ea1a4c80643b85cc22b459bd606" category="paragraph">如果您在安装期间为设备启用了节点加密，则可以监控每个设备节点的节点加密状态，包括节点加密状态和密钥管理服务器（ KMS ）详细信息。</block>
  <block id="47acc6749312696e63d56ba96ed16781" category="list-text">必须在安装期间为设备启用节点加密。安装设备后，您无法启用节点加密。</block>
  <block id="b31809e3f7d33e5925e52cc690f45bc7" category="inline-xref-macro">置于维护模式</block>
  <block id="bbca829576d8648429eb97f0608b93ef" category="list-text">此设备已运行 <block ref="ecd594c197233059b271b6563d2a7ce1" category="inline-xref-macro-rx"></block>。</block>
  <block id="b25287ab8cd241c0615caa9ee3977f49" category="list-text">从 StorageGRID 设备安装程序中，选择 * 配置硬件 * &gt; * 节点加密 * 。</block>
  <block id="04fdea5b2447cc658eb06898f7b797f5" category="paragraph">节点加密页面包括以下三个部分：</block>
  <block id="02f3eed45638835e6c2a74a9381b7d99" category="list-text">" 加密状态 " 显示设备是启用还是禁用了节点加密。</block>
  <block id="58af1337eff937c1778b18fc1d2d04ea" category="list-text">密钥管理服务器详细信息显示了有关用于对设备进行加密的 KMS 的信息。您可以展开服务器和客户端证书部分以查看证书详细信息和状态。</block>
  <block id="bf97ec55d6a95229d71999d72d532e0e" category="list-text">要解决证书本身的问题，例如续订已过期的证书，请参见管理 StorageGRID 的说明中有关 KMS 的信息。</block>
  <block id="ca718f147afed620ba8cab14f3c0613a" category="list-text">如果连接到 KMS 主机时出现意外问题，请验证域名系统（ DNS ）服务器是否正确以及设备网络连接是否配置正确。</block>
  <block id="937dc9a3e16cbb1df41ec957fb374a0a" category="paragraph"><block ref="937dc9a3e16cbb1df41ec957fb374a0a" category="inline-xref-macro-rx"></block></block>
  <block id="834e50a85a45b91c1b340b0023585846" category="list-text">如果无法解决证书问题，请联系技术支持。</block>
  <block id="7d37eb3a25096c783b36bc9273df0a94" category="list-text">清除 KMS 密钥会禁用设备的节点加密，删除设备与为 StorageGRID 站点配置的密钥管理服务器之间的关联，并删除设备中的所有数据。在将此设备安装到另一个 StorageGRID 系统之前，必须清除 KMS 密钥。</block>
  <block id="8d8cd9b2b3c11baa79d52b7803a257b6" category="paragraph"><block ref="8d8cd9b2b3c11baa79d52b7803a257b6" category="inline-xref-macro-rx"></block></block>
  <block id="a2493515acb849d47ffddffd2c8922a2" category="admonition">清除 KMS 配置将从设备中删除数据，从而使其永远无法访问。此数据不可恢复。</block>
  <block id="8ca010fbcf11fcb492dec8e9d0d68760" category="list-text">检查完节点加密状态后，重新启动节点。在 StorageGRID 设备安装程序中，选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择以下选项之一：</block>
  <block id="690f16106254d6825ab94e99d275b00a" category="summary">在安装设备之前，您必须确保要使用的站点和机柜或机架符合 StorageGRID 设备的规格。</block>
  <block id="743690c30e3b249ecd87dfc2ea6cc768" category="doc">准备站点（ SG5700 ）</block>
  <block id="780c82cf9171fcbbb9a83c17287328f1" category="list-text">确认站点满足温度，湿度，海拔范围，气流，散热， 布线，电源和接地。有关详细信息，请参见 NetApp Hardware Universe 。</block>
  <block id="e133333f382fe7d75acbc1bf2f8c60d7" category="list-text">如果要安装 SG5760 型号，请确认您所在位置提供 240 伏交流电源。</block>
  <block id="8d45166848dc28d7e42196c3c3a51e74" category="list-text">获取一个 19 英寸（ 48.3 厘米）的机柜或机架，以适合此大小的磁盘架（不带缆线）：</block>
  <block id="00ec8f127da0050fa2408f6db65abc45" category="cell">设备型号</block>
  <block id="eec6c4bdbd339edf8cbea68becb85244" category="cell">高度</block>
  <block id="32954654ac8fe66a1d09be19001de2d4" category="cell">宽度</block>
  <block id="675056ad1441b6375b2c5abd48c27ef1" category="cell">深度</block>
  <block id="3bd42002762e6e88eec5962eb5ef601d" category="cell">最大重量</block>
  <block id="d23f070363a51bb19a371740717fb008" category="paragraph">SG5712</block>
  <block id="87090213b23dc3e56d43ecae375fb0d2" category="paragraph">（ 12 个驱动器）</block>
  <block id="4f2d4dbd6f5221fc56123b1c641d9a8b" category="paragraph">3.41 英寸</block>
  <block id="99d2af1430edfb0fd7b811627d7be811" category="paragraph">（ 8.68 厘米）</block>
  <block id="cd4e29b11ab10c409586e101cfd3da11" category="paragraph">17.6 英寸</block>
  <block id="fd57a88cce65d70aa77d15b5c1740c55" category="paragraph">（ 44.7 厘米）</block>
  <block id="651f99ad27484567781fa7396055d95b" category="paragraph">21.1 英寸</block>
  <block id="4faf1bff165ac22d01b6e9310fc77137" category="paragraph">（ 53.6 厘米）</block>
  <block id="f278784a6e83c76d31297ae1e663819c" category="paragraph">63.9 磅</block>
  <block id="a36794a26ff4a70aafd0d26221fc4581" category="paragraph">（ 29.0 千克）</block>
  <block id="08737855a7278096a93baafac39de5b0" category="paragraph">SG5760</block>
  <block id="1e978eb421819aa0e6f37987911f97ce" category="paragraph">（ 60 个驱动器）</block>
  <block id="91c119dc3baab07ea9338f59154cf133" category="paragraph">6.87 英寸</block>
  <block id="ce745f36c27891e6816a8a4a04abb16d" category="paragraph">（ 17.46 厘米）</block>
  <block id="5b0e97c808157e0a790dbff913020b4d" category="paragraph">17.66 英寸</block>
  <block id="35c151822cc87e4473d1673c97429aed" category="paragraph">（ 44.86 厘米）</block>
  <block id="415cbf672fdda7232c5589589a6d2f63" category="paragraph">38.25 英寸</block>
  <block id="6b1a7dc8f8a1a0c47c227317e62fd536" category="paragraph">（ 97.16 厘米）</block>
  <block id="9057eb9d9e203e1179c85f0d459da1a0" category="paragraph">250 磅</block>
  <block id="83ac744d90c9db108d6fb33daa178c94" category="paragraph">（ 113 千克）</block>
  <block id="ca8feadddb27b98c14d06d18c9c10fdb" category="list-text">安装所需的任何网络交换机。有关兼容性信息，请参见 NetApp 互操作性表工具。</block>
  <block id="e5e09031843479ef9ef8cbbd4c2f404c" category="inline-link">NetApp Hardware Universe</block>
  <block id="7c5ee56a01b06b00d2d910cc295d8c56" category="paragraph"><block ref="7c5ee56a01b06b00d2d910cc295d8c56" category="inline-link-rx"></block></block>
  <block id="2bbf86188fe07b268a56b1f7f87bf661" category="summary">如果您的 SG5760 包含 60 个驱动器，则可以更改为其他 RAID 模式以满足存储和恢复要求。您只能在部署 StorageGRID 设备存储节点之前更改此模式。</block>
  <block id="fa6ab98c9f29b90e5820783f3f52c506" category="doc">可选：更改 RAID 模式（仅限 SG5760 ）</block>
  <block id="d63313bcebfc541f4c017b61fade2c45" category="list-text">您已安装 SG5760 。如果您使用的是 SG5712 ，则必须使用 DDP 模式。</block>
  <block id="99d42fc5dc10f749a2048142ea5def8c" category="list-text">您正在使用可以连接到 StorageGRID 的任何客户端。</block>
  <block id="3b01dcb46fb77585a0bd8e2dde1e0e56" category="list-text">客户端具有 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="53769303446b0c624d15b0080d0fedd0" category="paragraph">在将 SG5760 设备部署为存储节点之前，您可以选择以下卷配置选项之一：</block>
  <block id="76a71e22b245634592c4ddb1c95ee742" category="list-text">* DDP * ：此模式每八个数据驱动器使用两个奇偶校验驱动器。这是所有设备的默认和建议模式。与 RAID6 相比， DDP 可提高系统性能，缩短驱动器发生故障后的重建时间，并简化管理。DDP 还可在 60 驱动器设备中提供抽盒丢失保护。</block>
  <block id="5f35d077be30399fb8872a0458c89525" category="list-text">* DDP16* ：此模式每 16 个数据驱动器使用两个奇偶校验驱动器，因此与 DDP 相比，存储效率更高。与 RAID6 相比， DDP16 可提高系统性能，缩短驱动器故障后的重建时间，简化管理并提供同等的存储效率。要使用 DDP16 模式，您的配置必须至少包含 20 个驱动器。DDP16 不提供抽盒丢失保护。</block>
  <block id="1e994e77d9d82ba4110779e089b87adc" category="list-text">* RAID6* ：此模式每 16 个或更多数据驱动器使用两个奇偶校验驱动器。要使用 RAID 6 模式，您的配置必须至少包含 20 个驱动器。虽然与 DDP 相比， RAID6 可以提高设备的存储效率，但不建议在大多数 StorageGRID 环境中使用。</block>
  <block id="b796cc0a751a74024ed8fce1cada225c" category="admonition">如果已配置任何卷或先前已安装 StorageGRID ，则更改 RAID 模式会删除和更换这些卷。这些卷上的所有数据都将丢失。</block>
  <block id="3e64f994ec0b627c0d555b08876e3c52" category="list-text">使用服务笔记本电脑打开 Web 浏览器并访问 StorageGRID 设备安装程序： + ` * https://_E5700SG_Controller_IP_:8443*`</block>
  <block id="d4478243cc0b93aac668f030ac3e5673" category="paragraph">其中， ` _E5700SG_Controller_IP_` 是 E5700SG 控制器的任何 IP 地址。</block>
  <block id="ead65ee0d5026af449d4c30c565225ea" category="list-text">选择 * 高级 * &gt; * RAID 模式 * 。</block>
  <block id="1819ccab2ff2adb23392fc1927874be2" category="list-text">在 * 配置 RAID 模式 * 页面上，从模式下拉列表中选择所需的 RAID 模式。</block>
  <block id="78c43d469c133b7dfbfba9ad0ed00449" category="summary">要确保 StorageGRID 设备安装程序与其他节点之间的访问不会受到防火墙的阻碍，请确认 StorageGRID 设备安装程序可以连接到指定 IP 地址或地址范围内的特定 TCP 端口或端口集。</block>
  <block id="0167c112190737841a7ea1f6e738f5a1" category="paragraph">使用 StorageGRID 设备安装程序中提供的端口列表，您可以测试设备与网格网络中其他节点之间的连接。</block>
  <block id="e9ae90efa73016f01f290ce34fe21b4e" category="paragraph">此外，您还可以在管理和客户端网络以及 UDP 端口上测试连接，例如用于外部 NFS 或 DNS 服务器的端口。有关这些端口的列表，请参见 StorageGRID 网络连接准则中的端口参考。</block>
  <block id="54281d7d1e72bd3f1161237aff1d2729" category="admonition">端口连接表中列出的网格网络端口仅适用于 StorageGRID 11.6.0 版。要验证每种节点类型的端口是否正确，您应始终参考适用于您的 StorageGRID 版本的网络连接准则。</block>
  <block id="f087314807378665fcdf2fee64364906" category="list-text">在 StorageGRID 设备安装程序中，单击 * 配置网络连接 * &gt; * 端口连接测试（ nmap ） * 。</block>
  <block id="61d74d33db48b2a546cb5b31093e26ec" category="paragraph">此时将显示端口连接测试页面。</block>
  <block id="7b940fdd0fc044a70abf19e87a459209" category="paragraph">端口连接表列出了网格网络上需要 TCP 连接的节点类型。对于每种节点类型，此表列出了设备应可访问的网格网络端口。</block>
  <block id="38357ded564177fb36b2b799380256cf" category="paragraph">您可以测试表中列出的设备端口与网格网络中的其他节点之间的连接。</block>
  <block id="2520b2e6b1e66cf4dcc5e7768ed2138d" category="list-text">从 * 网络 * 下拉列表中，选择要测试的网络： * 网格 * ， * 管理 * 或 * 客户端 * 。</block>
  <block id="dd201c3f227a0121f5e2907ddbf37c73" category="list-text">为该网络上的主机指定一个 IPv4 地址范围。</block>
  <block id="5359019b8c8e32b86dd7464c746c1a3d" category="paragraph">例如，您可能需要探测网络或主管理节点上的网关。</block>
  <block id="65d201a132f8c3e8fb910e37dca0c0a6" category="paragraph">使用连字符指定一个范围，如示例所示。</block>
  <block id="6315d4dcaeb6a486d2c53cfe457a5e80" category="list-text">输入 TCP 端口号，以逗号分隔的端口列表或端口范围。</block>
  <block id="5cca6d6df455588f713f290c0cc69689" category="image-alt">端口连接测试</block>
  <block id="06aea9a6ad1453aa35cb81733b621111" category="list-text">如果选定的端口级别网络连接有效，则绿色横幅中会显示 "`Port connectivity test passed` " 消息。nmap 命令输出列在横幅下方。</block>
  <block id="818a0bcc63d36b242c6fcea3b66987d2" category="image-alt">端口连接测试通过</block>
  <block id="4fafb503a1c0ce677c0070efc8d2b387" category="list-text">如果与远程主机建立了端口级网络连接，但主机未侦听一个或多个选定端口，则黄色横幅中会显示 "`Port connectivity test failed` " 消息。nmap 命令输出列在横幅下方。</block>
  <block id="4c78df6ef51ca57ddfc4d17dcf9591ac" category="paragraph">主机未侦听的任何远程端口的状态为 "`closed" 。` 例如，当您尝试连接的节点处于预安装状态且 StorageGRID NMS 服务尚未在该节点上运行时，您可能会看到此黄色横幅。</block>
  <block id="643ce849ab48920fd2983239cbe5d7ea" category="image-alt">nmap 测试黄色横幅</block>
  <block id="f7e934d1e411b7bb99c48e569f22058d" category="list-text">如果无法为一个或多个选定端口建立端口级别网络连接，则红色横幅中会显示 "`Port connectivity test failed` " 消息。nmap 命令输出列在横幅下方。</block>
  <block id="f282870d442edda2838250457b055810" category="paragraph">红色横幅表示已尝试通过 TCP 连接到远程主机上的某个端口，但未向发送方返回任何内容。如果未返回任何响应，则此端口的状态为 " 已筛选 " ，并且可能会被防火墙阻止。</block>
  <block id="0f99e277940b266478422badbb16b8d6" category="admonition">此外，还会列出带有 "`closed` " 的端口。</block>
  <block id="d9e8f46e28922211f8d74a14b7249d3a" category="image-alt">nmap 测试红色横幅</block>
  <block id="5fd0ea78f1f4110e6a664eae5cf78486" category="inline-xref-macro">网络连接准则</block>
  <block id="e1bf2b8082914814aefb3dd546569f4d" category="paragraph"><block ref="e1bf2b8082914814aefb3dd546569f4d" category="inline-xref-macro-rx"></block></block>
  <block id="c6fb9c1aef7dadb44645ef83c118a607" category="summary">您可以更改 E5700SG 控制器的以太网链路配置。您可以更改端口绑定模式，网络绑定模式和链路速度。</block>
  <block id="3bc9739fb1ae01b436987dec08ebf8f9" category="doc">更改 E5700SG 控制器的链路配置</block>
  <block id="423726e022040b4101ea8004e28b0c53" category="inline-xref-macro">将 E5700SG 控制器置于维护模式</block>
  <block id="7b88feff16840e5123184214864b7689" category="paragraph"><block ref="e14267271e18fccc3d212a45b36c9fde" category="inline-xref-macro-rx"></block>。</block>
  <block id="0ec7e0cba7787e8f2eeb75c25d9c4747" category="admonition">在极少数情况下，将 StorageGRID 设备置于维护模式可能会使该设备无法进行远程访问。</block>
  <block id="491c3ab836441e2d4b443d2ff3c9b398" category="paragraph">更改 E5700SG 控制器的以太网链路配置的选项包括：</block>
  <block id="01f662367dcc3cc4bd87d4ea5694bee4" category="list-text">将 * 端口绑定模式 * 从 " 固定 " 更改为 " 聚合 " 或从 " 聚合 " 更改为 " 固定 "</block>
  <block id="f9482b14635721bf57c8eaa18e61e86c" category="list-text">将 * 网络绑定模式 * 从主动备份更改为 LACP 或从 LACP 更改为主动备份</block>
  <block id="2e4857def79dce4eaa2a904bc762cc06" category="list-text">启用或禁用 VLAN 标记，或者更改 VLAN 标记的值</block>
  <block id="e1a28a2444c5e02c8251b67c234b5b29" category="list-text">将链路速度从 10-GbE 更改为 25-GbE ，或从 25-GbE 更改为 10-GbE</block>
  <block id="03c12afc0d552d3ab6e79099e519ac86" category="list-text">从菜单中选择 * 配置网络连接 * &gt; * 链路配置 * 。</block>
  <block id="884c9ef72af2e78c7b74cf8d6e2b4c99" category="image-alt">链路配置</block>
  <block id="a812c56861eb1287d3e1fcd816266491" category="list-text">【 change_link_configuration_sg5700 ， start=2]] 对链路配置进行所需的更改。</block>
  <block id="04471258f5c6066cf93ba9aa5da0a774" category="paragraph">有关这些选项的详细信息，请参见 "`配置网络链路 " 。`</block>
  <block id="e2ed9a3f2b8c4046f337f8f346ed76b9" category="inline-xref-macro">设置 IP 配置</block>
  <block id="f2875854b573bb0b5fe172e929890634" category="paragraph">如果更改了 VLAN 设置，则设备的子网可能已更改。如果需要更改设备的 IP 地址，请按照执行操作 <block ref="42f705c2fe1fd58cb3589459ca4e82b4" category="inline-xref-macro-rx"></block> 说明。</block>
  <block id="eaaf4ada7611ccb58c1f793918996f6f" category="list-text">从 StorageGRID 设备安装程序中，选择 * 配置网络连接 * &gt; * Ping 测试 * 。</block>
  <block id="16e4e09d4655e48e5440b1223a768bcc" category="inline-xref">更改链路配置</block>
  <block id="1652d3ef680f0a24a213e53a3684a726" category="list-text">使用 Ping 测试工具检查可能受中所做链路配置更改影响的任何网络上的 IP 地址连接 <block ref="251a79c2543cfdb5bc7318665d28751a" category="inline-xref-macro-rx"></block> 步骤。</block>
  <block id="ec7d8a941260858e7a2c615bc0712041" category="paragraph">除了您选择执行的任何其他测试之外，请确认您可以对主管理节点的网格 IP 地址以及至少一个其他存储节点的网格 IP 地址执行 ping 操作。如有必要，请更正任何链路配置问题。</block>
  <block id="f692cc6109248f1a2005c9e0d4276b6a" category="list-text">在您确信链路配置更改正常运行后，请重新启动节点。在 StorageGRID 设备安装程序中，选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择以下选项之一：</block>
  <block id="15fc084d966018f488147ca0db1d5ec1" category="summary">如果启用节点加密，则可以通过安全密钥管理服务器 \ （ KMS\ ）加密保护设备中的磁盘，防止物理丢失或从站点中删除。您必须在设备安装期间选择并启用节点加密，并且在 KMS 加密过程开始后，不能取消选择节点加密。</block>
  <block id="ae69b34f4fd6e6f42dd374325ebfaf43" category="doc">可选：启用节点加密</block>
  <block id="719e5bc184354c7e332d6c295de986ea" category="paragraph">如果启用了节点加密，则可以通过安全密钥管理服务器（ KMS ）加密来保护设备中的磁盘，防止物理丢失或从站点中删除。您必须在设备安装期间选择并启用节点加密，并且在 KMS 加密过程开始后，不能取消选择节点加密。</block>
  <block id="27fc87152b7b62f95f106c04c271304d" category="paragraph">查看有关管理 StorageGRID 的说明中有关 KMS 的信息。</block>
  <block id="2d45ca949e89f1cdd1768b30b0448d87" category="paragraph">启用了节点加密的设备将连接到为 StorageGRID 站点配置的外部密钥管理服务器（ KMS ）。每个 KMS （或 KMS 集群）负责管理站点上所有设备节点的加密密钥。这些密钥对启用了节点加密的设备中每个磁盘上的数据进行加密和解密。</block>
  <block id="5c71973a7592fd31c81277cf8963c0b1" category="paragraph">可以在 StorageGRID 中安装 KMS 之前或之后在网格管理器中设置此设备。有关更多详细信息，请参见管理 StorageGRID 的说明中有关 KMS 和设备配置的信息。</block>
  <block id="22afb557c864e79c1c8fa5b7e0197010" category="list-text">如果在安装设备之前设置了 KMS ，则在设备上启用节点加密并将其添加到配置了 KMS 的 StorageGRID 站点时， KMS 控制的加密将开始。</block>
  <block id="9828b5fcc2aa0853e81224385cf7be51" category="list-text">如果在安装此设备之前未设置 KMS ，则在为包含此设备节点的站点配置了 KMS 并可使用此 KMS 后，将对启用了节点加密的每个设备执行 KMS 控制的加密。</block>
  <block id="233b4562a07a9b9fbd2c5dac5a253d7a" category="admonition">在连接到启用了节点加密的设备上的 KMS 之前存在的数据将使用不安全的临时密钥进行加密。除非将密钥设置为 KMS 提供的值，否则设备不会受到删除或被盗的保护。</block>
  <block id="694c765fadb5958bdf8938801a8e0122" category="paragraph">如果没有对磁盘进行解密所需的 KMS 密钥，则无法检索设备上的数据，并且数据实际上会丢失。如果无法从 KMS 中检索到解密密钥，则会出现这种情况。如果客户清除 KMS 配置， KMS 密钥过期，与 KMS 的连接断开或从安装了 KMS 密钥的 StorageGRID 系统中删除设备，则无法访问此密钥。</block>
  <block id="add448bb11f0b3f49f3a9fa76f670d83" category="admonition">使用 KMS 密钥对设备加密后，如果不使用相同的 KMS 密钥，则无法对设备磁盘进行解密。</block>
  <block id="acacb8cd31572a3bc3d65a66ee2c76d9" category="image-alt">已启用 Kms FDE</block>
  <block id="6052e60019e6274827bcda1319890602" category="list-text">选择 * 启用节点加密 * 。</block>
  <block id="6ca5b939c1e0d6027872538c6d8caeed" category="paragraph">在安装设备之前，您可以取消选择 * 启用节点加密 * ，而不会有数据丢失的风险。安装开始后，设备节点将访问 StorageGRID 系统中的 KMS 加密密钥并开始磁盘加密。安装设备后，您无法禁用节点加密。</block>
  <block id="940115ee18381bccb2e95dab187b7c60" category="admonition">将启用了节点加密的设备添加到具有 KMS 的 StorageGRID 站点后，您无法停止对此节点使用 KMS 加密。</block>
  <block id="10492389e94efdebbb66f7b0cd8a1324" category="list-text">选择 * 保存 * 。</block>
  <block id="cac7ea2f379eef415456aaffe0b8e05c" category="list-text">将设备部署为 StorageGRID 系统中的节点。</block>
  <block id="44c94723906bb0f5e161c46c7386add2" category="paragraph">当设备访问为 StorageGRID 站点配置的 KMS 密钥时，便会开始使用由 KMS 控制的加密。安装程序会在 KMS 加密过程中显示进度消息，此过程可能需要几分钟时间，具体取决于设备中的磁盘卷数。</block>
  <block id="ba0ecb8ca50d0a071c2da3a1974578b8" category="admonition">设备最初会配置一个随机的非 KMS 加密密钥，该密钥会分配给每个磁盘卷。磁盘会使用此临时加密密钥进行加密，这种加密密钥不安全，直到启用了节点加密的设备访问为 StorageGRID 站点配置的 KMS 密钥为止。</block>
  <block id="a96eee5859ae65672e6e8a86de8b6182" category="paragraph">您可以查看节点加密状态， KMS 详细信息以及设备节点处于维护模式时正在使用的证书。</block>
  <block id="acb41925bef15e0b7637ce6541cb77fb" category="paragraph"><block ref="acb41925bef15e0b7637ce6541cb77fb" category="inline-xref-macro-rx"></block></block>
  <block id="2e6dc05059ddb444d228b9c9a7b18beb" category="summary">在安装 StorageGRID 设备之前，请确认您拥有所需的所有附加设备和工具。</block>
  <block id="5981ca3eb903f6d7d1c602793c5ac31d" category="doc">获取其他设备和工具（ SG5700 ）</block>
  <block id="f33c707e465e0613a95ea5156548fb2f" category="paragraph">要安装和配置硬件，您需要使用以下附加设备：</block>
  <block id="24d994d3d90f90a1986247b484d3b0ae" category="list-text">* 螺丝刀 *</block>
  <block id="9dbfad721c6137edda979069f771a3b7" category="image-alt">两个螺丝刀</block>
  <block id="3497afa35cf82886114440ff6d4c3677" category="paragraph">十字线编号2 把螺丝刀</block>
  <block id="17c89986cb8138bb328ac945a600d943" category="paragraph">中型平口螺丝刀</block>
  <block id="d8d06d15e16071ff365894f5a2f48557" category="list-text">* ESD 腕带 *</block>
  <block id="f5facf78cd580be6cde15b363186372d" category="image-alt">ESD 腕带</block>
  <block id="3c0a6884a35a56348e0b0941a5bb6491" category="image-alt">光缆和 SFP+ 收发器</block>
  <block id="f9277610a93fe3f64b25ed9df8efe0b4" category="paragraph">您计划使用的 10/25/GbE 端口的光缆</block>
  <block id="82305f5e264e8116818568589eb867c4" category="paragraph">可选：如果要使用 25 GbE 链路速度，请使用 SFP28 收发器</block>
  <block id="ed1e086285982e77cd961f3c4f8d551b" category="list-text">* 以太网缆线 *</block>
  <block id="85a0ed4d50f5478333f445a609b07902" category="image-alt">以太网缆线</block>
  <block id="e71df7a5add71913d8aa41f7c018dbbd" category="list-text">* 服务笔记本电脑 *</block>
  <block id="62715b1df64a67b740fd02965ae708e9" category="image-alt">服务笔记本电脑</block>
  <block id="c415834f3a2736a528e1cf60b3d0601c" category="inline-xref-macro">支持的 Web 浏览器</block>
  <block id="dce1c7f3a5458930d9286753365f351d" category="paragraph"><block ref="dce1c7f3a5458930d9286753365f351d" category="inline-xref-macro-rx"></block></block>
  <block id="c7dc3f6e76727117a01a4abf420b9c2f" category="paragraph">SSH 客户端，例如 PuTTY</block>
  <block id="3301e493d1d40f936585bfe4dc8780b0" category="paragraph">1 Gb （ RJ-45 ）以太网端口</block>
  <block id="c4263d7db6197acf3a8b83b0cb25eb82" category="list-text">* 可选工具 *</block>
  <block id="c48c08db4130b86b351b7046abf3367b" category="image-alt">电钻和手电筒</block>
  <block id="d6f86c03e52147d94eb9bef88990b428" category="paragraph">带十字头的电钻</block>
  <block id="75b0ae11d26c806413ef6e8aed1ece4f" category="paragraph">Flashlight</block>
  <block id="1868389ea5d5d7e89ad94a8e689f1bdb" category="paragraph">SG5760 的机械升降机</block>
  <block id="614fefba2fdcda2fd63b4d03a80ade61" category="summary">为设备接通电源后，您必须配置 SANtricity 系统管理器，该软件将用于监控硬件。您还必须配置 StorageGRID 要使用的网络连接。</block>
  <block id="06e5332a28f46a8e6ab95d914db7e6bf" category="summary">硬件安装需要将设备安装到机柜或机架中，连接缆线并接通电源。</block>
  <block id="66bbafbd2ea13b5ecff77d3c9c40d885" category="doc">安装硬件（ SG5700 ）</block>
  <block id="0fd8dced8569dc13467a05c7de71a29b" category="summary">在设备启动和硬件初始化期间， E5700SG 控制器上的七段显示屏和 LED 会显示状态和错误代码。您可以使用这些显示来确定状态并对错误进行故障排除。</block>
  <block id="5d784848eb6f75afaa44bf98314c1ea0" category="doc">E5700SG 控制器上的状态指示灯</block>
  <block id="5311990d11ce04c305ae16573408967a" category="paragraph">启动 StorageGRID 设备安装程序后，您应定期查看 E5700SG 控制器上的状态指示灯。</block>
  <block id="b9987a246a537f4fe86f1f2e3d10dbdb" category="cell">显示</block>
  <block id="3a641b14c69164f20fbb63f6b02dff8d" category="paragraph">警示 LED</block>
  <block id="cf55f56aecf52d29bcab4f9df8a67b71" category="paragraph">琥珀色：控制器出现故障，需要操作员注意，或者未找到安装脚本。</block>
  <block id="62d8d02c60565c7df092954d5574859e" category="paragraph">off ：控制器运行正常。</block>
  <block id="dc7abf3a51e7acf50607191ed70b0e1d" category="paragraph">显示诊断代码</block>
  <block id="47445db624517b550fa43d65d5770b40" category="paragraph">通过七段显示序列，您可以了解设备的错误和运行状态。</block>
  <block id="7b843d6bb18c00df8163f46644f82e29" category="paragraph">扩展端口警示 LED</block>
  <block id="7d86958e4eb07deeabea61177438bd7a" category="paragraph">琥珀色：这些 LED 始终为琥珀色（未建立链路），因为设备不使用扩展端口。</block>
  <block id="fcf9c8688364637df96389d5a75b1e50" category="paragraph">主机端口链路状态 LED</block>
  <block id="128c22ccf1a6792386eb1180e60c9cef" category="paragraph">绿色：链路已启动。</block>
  <block id="2bba6d73456d7df64ee7cc4ba039686f" category="paragraph">off ：链路已关闭。</block>
  <block id="e4da3b7fbbce2345d7772b0674a318d5" category="paragraph">5.</block>
  <block id="2282e836fdf020dc25c393aaf4798b1b" category="paragraph">以太网链路状态 LED</block>
  <block id="60ea75cf755206d107ae4ac529943ed3" category="paragraph">绿色：已建立链路。</block>
  <block id="ed41fd53f57cd4dd1291eb7a51caf82b" category="paragraph">off ：未建立任何链路。</block>
  <block id="1679091c5a880faf6fb5e6087eb1b2dc" category="paragraph">6.</block>
  <block id="3a156ffb7aa4bfa50feac8ed97b05d8f" category="paragraph">以太网活动 LED</block>
  <block id="874c5125ed87ec2a8b00bfee9bb91aff" category="paragraph">绿色：管理端口与其连接的设备（例如以太网交换机）之间的链路已启动。</block>
  <block id="b152697dd4d22f7e8b99a1b493ab91fc" category="paragraph">off ：控制器与连接的设备之间没有链路。</block>
  <block id="60b2aec317f1ad157f354bbb4c83a1b4" category="paragraph">呈绿色闪烁：存在以太网活动。</block>
  <block id="3cc42c71f343c7f45d7cafd9cc4974a7" category="section-title">常规启动代码</block>
  <block id="dd53c7262b6d0de565adb32f45c5ac54" category="paragraph">在启动期间或设备硬重置后，将发生以下情况：</block>
  <block id="f0dc7fce29203f4b82dc4cb44876b1e8" category="list-text">E5700SG 控制器上的七段显示显示了一个常规代码序列，这些代码不是特定于控制器的。常规序列以代码 AA 和 FF 结尾。</block>
  <block id="fe1f87e4e6800e33464e195885a4235a" category="list-text">此时将显示特定于 E5700SG 控制器的启动代码。</block>
  <block id="9d21b866ad06fd7ff0e9461ad32379a2" category="section-title">E5700SG 控制器启动代码</block>
  <block id="070e5bcbb83592873857587cf23629bc" category="paragraph">在设备正常启动期间， E5700SG 控制器上的七段显示屏将按所列顺序显示以下代码：</block>
  <block id="ca0dbad92a874b2f69b549293387925e" category="cell">代码</block>
  <block id="eeca84d51df188de9abdf06c2bd4e3cd" category="cell">表示</block>
  <block id="bf8c144140b15befb8ce662632a7b76e" category="paragraph">您好</block>
  <block id="0f1a80c6f41842e32270fad3e4d13dfa" category="paragraph">主启动脚本已启动。</block>
  <block id="4baee84af7a92177c9064ddc2fc010ce" category="paragraph">p</block>
  <block id="bc78d54351db25c70bbf190cd5cce0bc" category="paragraph">系统正在检查是否需要更新 FPGA 。</block>
  <block id="e6fc8ce107f2bdf0955f021a391514ce" category="paragraph">HP</block>
  <block id="a50bd6b8f5a70f37f51dbb04e060e1f9" category="paragraph">系统正在检查 10/225-GbE 控制器固件是否需要更新。</block>
  <block id="c8ee22e1fc2165dfd3d2b04aef93b2f2" category="paragraph">RB</block>
  <block id="fcee55c22478418ee3dcc6e1114804ab" category="paragraph">应用固件更新后，系统正在重新启动。</block>
  <block id="4ebada6a2af2bcba53ded1d7b414f081" category="paragraph">FP</block>
  <block id="6704e1545a5b17933264a2214032376a" category="paragraph">硬件子系统固件更新检查已完成。控制器间通信服务正在启动。</block>
  <block id="bc781c76baf5589eef4fb7b9247b89a0" category="paragraph">他</block>
  <block id="be05a6621520248adf8b22056a146956" category="paragraph">系统正在等待与 E2800 控制器建立连接并与 SANtricity 操作系统同步。</block>
  <block id="8172420e5bba33b5988a2769e7965a80" category="paragraph">* 注： * 如果此启动操作步骤 在此阶段未进行，请检查两个控制器之间的连接。</block>
  <block id="f4a5f77dbc261a64bd853d05f8410365" category="paragraph">HC</block>
  <block id="fc5c428f7817d7b81c8e3368e2f8d384" category="paragraph">系统正在检查现有 StorageGRID 安装数据。</block>
  <block id="3969dc7ec85ba96faa4cc7c446f7401c" category="paragraph">好的</block>
  <block id="0157d190f869c2f97221de4f6bb05f54" category="paragraph">StorageGRID 设备安装程序正在运行。</block>
  <block id="594c16ca0695f6665d7cf4971707adf6" category="paragraph">HA</block>
  <block id="dcc5169074d0d5a456ef3db5c8c66312" category="paragraph">StorageGRID 正在运行。</block>
  <block id="0558b01e91d7e0aed7dc12204b976e45" category="section-title">E5700SG 控制器错误代码</block>
  <block id="6dd15856edb8448de7c14871bc55334b" category="paragraph">这些代码表示设备启动时 E5700SG 控制器上可能显示的错误情况。如果发生特定的低级硬件错误，则会显示其他两位十六进制代码。如果其中任何一个代码持续一两秒以上，或者您无法通过执行规定的故障排除过程之一来解决此错误，请联系技术支持。</block>
  <block id="b6d767d2f8ed5d21a44b0e5886680cb9" category="paragraph">22.</block>
  <block id="7127ba44fe991a9ecceed92d977c591d" category="paragraph">在任何启动设备上均未找到主启动记录。</block>
  <block id="37693cfc748049e45d87b8c7d8b9aacd" category="paragraph">23</block>
  <block id="40c115d4bb8c43032188e63060105364" category="paragraph">内部闪存磁盘未连接。</block>
  <block id="c6a4254a6d38874fbef0af2c5307f244" category="paragraph">2A ， 2B</block>
  <block id="9fa6265e8d2d6347ea02063f383d0b8b" category="paragraph">总线卡滞，无法读取 DIMM SPD 数据。</block>
  <block id="d645920e395fedad7bbbed0eca3fe2e0" category="paragraph">40</block>
  <block id="ff34e08d5d0b41cb3f216fb2f3eb52e8" category="paragraph">DIMM 无效。</block>
  <block id="3416a75f4cea9109507cacd8e2f2aefc" category="paragraph">41.</block>
  <block id="a1d0c6e83f027327d8461063f4ac58a6" category="paragraph">42</block>
  <block id="b6f35c76f19476f6bf0ecae875da96a1" category="paragraph">内存测试失败。</block>
  <block id="2838023a778dfaecdc212708f721b788" category="paragraph">51</block>
  <block id="38c95a9cc4681c62f0087bbe622f0b35" category="paragraph">SPD 读取失败。</block>
  <block id="2a38b7af6916e63e6cde6a8c5f79225f" category="paragraph">92 到 96</block>
  <block id="58eb851f6e486b16b666580701437fe6" category="paragraph">PCI 总线初始化。</block>
  <block id="db31e0ffa3cbd2840dc55f04108e4cfe" category="paragraph">A0 到 A3</block>
  <block id="c2e5ee65d4d74a477ab61f7d18cb5fd3" category="paragraph">SATA 驱动器初始化。</block>
  <block id="b86fc6b051f63d73de262d4c34e3a0a9" category="paragraph">AB</block>
  <block id="4a0d2a65243738222077e72eecdb349c" category="paragraph">备用启动代码。</block>
  <block id="ea8a1a99f6c94c275a58dcd78f418c1f" category="paragraph">AE</block>
  <block id="7012afbb905dcbe94b59f79e2f2468c1" category="paragraph">正在启动操作系统。</block>
  <block id="96140e1425e9ae5a3dce3927751527d0" category="paragraph">EA</block>
  <block id="2d059fae40d96f0c28806f479c2dce9a" category="paragraph">DDR4 训练失败。</block>
  <block id="b1a82c958451a0a4f0f7373dad43ca67" category="paragraph">E8.</block>
  <block id="fb353ddc66344f84ffad31ca86be6ea1" category="paragraph">未安装内存。</block>
  <block id="f2e6e3b9bff59f293f0e9019a1ecabc5" category="paragraph">欧盟</block>
  <block id="4658c8652e9fe298d064a8057e2bb45a" category="paragraph">未找到安装脚本。</block>
  <block id="078401532866081dddda6744220b4c75" category="paragraph">EP</block>
  <block id="0707d624b0b12a1b72cb641d749e3039" category="paragraph">安装 E2800 控制器或与 E2800 控制器通信失败。</block>
  <block id="7d5df89b58032a575ff0df1ae85a5bd8" category="paragraph"><block ref="7d5df89b58032a575ff0df1ae85a5bd8" category="inline-xref-macro-rx"></block></block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link">NetApp 支持</block>
  <block id="f4d1718476f238773172cc8143587c05" category="paragraph"><block ref="f4d1718476f238773172cc8143587c05" category="inline-link-rx"></block></block>
  <block id="7158d0b342b9df748aabed9724a46956" category="summary">如果您在安装期间遇到问题，查看与硬件设置和连接问题相关的故障排除信息可能会很有帮助。</block>
  <block id="fcf672ea93cdf70821fc498932b88f50" category="summary">SG5700 StorageGRID 设备是一个集成的存储和计算平台，作为 StorageGRID 网格中的存储节点运行。此设备可在混合网格环境中使用，该环境将设备存储节点与虚拟 \ （基于软件的 \ ）存储节点相结合。</block>
  <block id="9d71d6b900c96ba6f4dc22b9866589be" category="doc">SG5700 设备：概述</block>
  <block id="9988d2e8cbe0869dd21d6284c017b853" category="paragraph">SG5700 StorageGRID 设备是一个集成的存储和计算平台，作为 StorageGRID 网格中的存储节点运行。此设备可在混合网格环境中使用，该环境将设备存储节点与虚拟（基于软件的）存储节点相结合。</block>
  <block id="80abdff94418ab0ccda75d2dde5983c6" category="paragraph">StorageGRID SG5700 设备具有以下功能：</block>
  <block id="b76ce93bf6ca287234a665e92353fb93" category="list-text">集成 StorageGRID 存储节点的存储和计算要素。</block>
  <block id="1c081deed581bb5340c5d00274870fc1" category="list-text">包括 StorageGRID 设备安装程序，用于简化存储节点部署和配置。</block>
  <block id="96393d74a649423d693f5e06c4157321" category="list-text">包括用于硬件管理和监控的 E 系列 SANtricity System Manager 。</block>
  <block id="a38674a00d77eee3881fa291c32107a9" category="list-text">最多支持四个连接到 StorageGRID 网格网络和客户端网络的 10-GbE 或 25-GbE 连接。</block>
  <block id="2e321a94e05b366057a7c8951c900e84" category="list-text">支持全磁盘加密（ Full Disk Encryption ， FDE ）驱动器或联邦信息处理标准（ Federal Information Processing Standard ， FIPS ）驱动器。如果将这些驱动器与 SANtricity 系统管理器中的驱动器安全功能结合使用，则会阻止未经授权的数据访问。</block>
  <block id="4cb2bced02c9a829944cd9256c6209f7" category="paragraph">SG5700 设备有两种型号： SG5712 和 SG5760 。这两种型号都包括以下组件：</block>
  <block id="2cb05e4bb7830be982f0922fed86b4cd" category="cell">组件</block>
  <block id="21cef5e1ce3b19bcab3e93102369d983" category="paragraph">计算控制器</block>
  <block id="bb43878952414106e66a5d3e8902dd46" category="paragraph">存储控制器</block>
  <block id="580cb28c51a3bc277b9d878675bf9644" category="paragraph">E 系列 E2800 控制器</block>
  <block id="51bdc8bf999c93768e182fae54e64934" category="paragraph">机箱</block>
  <block id="3bac47f2e4ef797156124cc2df91419b" category="paragraph">E 系列 DE212C 机箱，一个双机架单元（ 2U ）机箱</block>
  <block id="64f3905196f62ed25095397b0c397a43" category="paragraph">E 系列 DE460C 机箱，一个四机架单元（ 4U ）机箱</block>
  <block id="63a6b9b3b5de50d32228700cfe042610" category="paragraph">驱动器</block>
  <block id="1da7d294d178867647fb072b67c6d8b6" category="paragraph">12 个 NL-SAS 驱动器（ 3.5 英寸）</block>
  <block id="168e1064411f8aa784f24891cf9b24fa" category="paragraph">60 个 NL-SAS 驱动器（ 3.5 英寸）</block>
  <block id="25cb755f9f6a313f7fabdaf6f5e4503d" category="paragraph">冗余电源和风扇</block>
  <block id="f04f95b489c53a851205bf70f9c0a331" category="paragraph">两个电源风扇箱</block>
  <block id="822ea64cfed7cef35f57dca3db991901" category="paragraph">两个电源箱和两个风扇箱</block>
  <block id="abbed7d5e19f3930b6ea8578da1bcfb7" category="paragraph">根据每个机箱中的驱动器数量， StorageGRID 设备中可用的最大原始存储空间是固定的。您不能通过添加具有额外驱动器的磁盘架来扩展可用存储。</block>
  <block id="72f5f7924baa8706dc17ed6067b5c157" category="section-title">型号 SG5712</block>
  <block id="dfb23b6edc46eddbca3885a1c46f8492" category="paragraph">此图显示了 SG5712 型号的正面和背面，该型号是一个 2U 机箱，可容纳 12 个驱动器。</block>
  <block id="5c7f1072e6e9e2a97ff18fb325e8e84c" category="image-alt">SG5712 设备的正面和背面</block>
  <block id="669a764a55be4f6cfd3f6e1a79d32d55" category="paragraph">SG5712 包括两个控制器和两个电源风扇箱。</block>
  <block id="e4f504ed6363cd76ba06284983f19b58" category="image-alt">SG5712 设备中的控制器和电源风扇箱</block>
  <block id="517841a60c074f701d0c53b31b081dc7" category="paragraph">E2800 控制器（存储控制器）</block>
  <block id="1321a34d52b099e7c1a3d640f51c0d40" category="paragraph">E5700SG 控制器（计算控制器）</block>
  <block id="c73c1c72adb52d933750f764e4f52fff" category="paragraph">电源风扇箱</block>
  <block id="277ae7a5f5de2a629c91214a778013dc" category="section-title">型号 SG5760</block>
  <block id="80306540ceabea3c58c593a2578e0aa8" category="paragraph">此图显示了 SG5760 型号的正面和背面，这是一个 4U 机箱，在 5 个驱动器抽盒中容纳 60 个驱动器。</block>
  <block id="0e152e55698c28ee0f75725b3f0f1f3a" category="image-alt">SG5760 设备的正面和背面</block>
  <block id="cee3e5c26f498528ac4a0236cc79321a" category="paragraph">SG5760 包括两个控制器，两个风扇箱和两个电源箱。</block>
  <block id="cbfb14f470701bf93424d757c624369a" category="image-alt">控制器</block>
  <block id="e14810f3f4c905323dafce88216fa5cc" category="paragraph">风扇箱（第 1 页，共 2 页）</block>
  <block id="a063d58fb5fae2bdfac1676614f7ee07" category="paragraph">电源箱（第 1 页，共 2 页）</block>
  <block id="6332b1da97ca0c75c0a7cecdd32404e5" category="summary">部署网格节点后，您可以自动配置 StorageGRID 系统。</block>
  <block id="f13a3299b6482b48c3fc38d859196ac2" category="doc">自动配置 StorageGRID</block>
  <block id="b8cb767b6fdae1386ae4afb50465e070" category="list-text">您可以从安装归档中了解以下文件的位置。</block>
  <block id="1351017ac6423911223bc19a8cb7c653" category="cell">文件名</block>
  <block id="ff6ce45612e94a422801958e372bb1c5" category="paragraph">`configure-storaggrid.py`</block>
  <block id="55a6763744558ca949010e1255fe34a4" category="paragraph">用于自动配置的 Python 脚本</block>
  <block id="c027f7ffd717eee8f4d947877d634ddf" category="paragraph">`configure-storaggrid.sample.json`</block>
  <block id="9a71ff8b12d1781c86e9a22a56d5372e" category="paragraph">用于脚本的示例配置文件</block>
  <block id="f6f16cff345129812705bcf58001ecb3" category="paragraph">`configure-storaggrid.blank.json`</block>
  <block id="0fc09387967444be53bba699852c6e6a" category="paragraph">用于脚本的空配置文件</block>
  <block id="541e4aa6243e5f255e1d116322b8d820" category="list-text">您已创建 `configure-storaggrid.json` 配置文件。要创建此文件，您可以修改示例配置文件（`configure-storaggrid.sample.json` ）或空白配置文件（`config-storaggrid.blank.json` ）。</block>
  <block id="3372b21cc5906955ba38346b8206fac3" category="paragraph">您可以使用 `configure-storaggrid.py` Python 脚本和 `configure-storaggrid.json` 配置文件来自动配置 StorageGRID 系统。</block>
  <block id="45125de7f222f5b1a21bcd91a60c0e19" category="admonition">您也可以使用网格管理器或安装 API 配置系统。</block>
  <block id="91e4d99fdfc5bddf43cc25c3cc260ff4" category="list-text">更改为提取安装归档的目录。</block>
  <block id="67412df734f463a9dbfeb08c102473fa" category="paragraph">例如： + `cd StorageGRID-Webscale -_version/platform_`</block>
  <block id="c432843c569d7c3f7c69b4b7db76d04d" category="paragraph">其中， ` _platform_` 是 `dEBS` ， `rpms` 或 `vSphere` 。</block>
  <block id="ae92fea89a6a3a285f4670804bc30a1d" category="list-text">运行 Python 脚本并使用您创建的配置文件。</block>
  <block id="506c2c0c7f5b70af3df68c45c46f45a7" category="paragraph">例如：</block>
  <block id="fea71569a16745f17b4b85f98336aa4b" category="paragraph">在配置过程中会生成一个恢复包 ` .zip` 文件，该文件将下载到运行安装和配置过程的目录中。您必须备份恢复软件包文件，以便在一个或多个网格节点发生故障时恢复 StorageGRID 系统。例如，将其复制到安全的备份网络位置和安全的云存储位置。</block>
  <block id="f4d8ae80d397e410789e20f2792f3323" category="admonition">恢复包文件必须受到保护，因为它包含可用于从 StorageGRID 系统获取数据的加密密钥和密码。</block>
  <block id="10e8fa7b7653bb0d57d69395ba793980" category="paragraph">如果您指定应生成随机密码，则需要提取 `passwords.txt` 文件并查找访问 StorageGRID 系统所需的密码。</block>
  <block id="8465fa05b3a68e7face3aa8db68b1560" category="paragraph">系统会在显示确认消息时安装并配置 StorageGRID 系统。</block>
  <block id="9a77a2c8d9db108d7cbfb3bcf3330a82" category="summary">您可以自动安装和配置设备以及配置整个 StorageGRID 系统。</block>
  <block id="4514b9b555873f68ac99ebf145d5de90" category="doc">自动化设备安装和配置（ SG5700 ）</block>
  <block id="fbe89fae81058dd018eeb4ee3943e064" category="paragraph">自动化安装和配置对于部署多个 StorageGRID 实例或一个大型复杂的 StorageGRID 实例非常有用。</block>
  <block id="ff8140755d804866df0a86282d49f3ed" category="paragraph">要自动执行安装和配置，请使用以下一个或多个选项：</block>
  <block id="45709e1633e4b38218a0aa27321f5b00" category="list-text">创建一个 JSON 文件，用于指定设备的配置设置。使用 StorageGRID 设备安装程序上传 JSON 文件。</block>
  <block id="26bb43a51fec4792dda9d2752f8f60b7" category="admonition">您可以使用同一文件配置多个设备。</block>
  <block id="83494e7e214803f7c4631f0cc4ad8f5d" category="list-text">使用 StorageGRID``configure-sGa.py`` Python 脚本自动配置设备。</block>
  <block id="346f6afb8bd819c90673a6e53a7ceba9" category="list-text">使用其他 Python 脚本配置整个 StorageGRID 系统的其他组件（ " 网格 " ）。</block>
  <block id="ff7cf14f8cb80fe5e854050d8a52ba67" category="inline-xref-macro">下载并提取 StorageGRID 安装文件</block>
  <block id="247203b084c08348bd4f037691393d9e" category="admonition">您可以直接使用 StorageGRID 自动化 Python 脚本，也可以使用它们作为示例，说明如何在您自己开发的网格部署和配置工具中使用 StorageGRID 安装 REST API 。请参见有关的信息 <block ref="2cdb92fea73ee89cc9e8188edd172d5c" category="inline-xref-macro-rx"></block> 在恢复和维护说明中。</block>
  <block id="d1bb1de66e65ddf766b2dc80cb3a706c" category="summary">对于当前使用 SANtricity 操作系统版本早于 08.42.20.00 的存储控制器 \ （ 11.42\ ），您必须使用维护模式操作步骤 应用升级。</block>
  <block id="fe39b5535f4e6df2b9e600318b2459d3" category="paragraph">对于当前使用的 SANtricity 操作系统版本早于 08.42.20.00 （ 11.42 ）的存储控制器，您必须使用维护模式操作步骤 来应用升级。</block>
  <block id="682118804e8fe8772c5523ba12387001" category="list-text">您必须将 E5700SG 控制器置于维护模式，从而中断与 E2800 控制器的连接。</block>
  <block id="85966ca661094a59ef94674386ba506e" category="inline-xref-macro">将设备置于维护模式</block>
  <block id="ab1e9d144caf07ff98de277c96f86346" category="paragraph"><block ref="ab1e9d144caf07ff98de277c96f86346" category="inline-xref-macro-rx"></block></block>
  <block id="c089b0642de83a5fb6c8f74f88e49071" category="paragraph">请勿一次在多个 StorageGRID 设备上升级 E 系列控制器中的 SANtricity 操作系统或 NVSRAM 。</block>
  <block id="cf2d583b199a7aa0bf6fffa24fb71603" category="admonition">一次升级多个 StorageGRID 设备可能会导致发生原因 数据不可用，具体取决于您的部署模式和 ILM 策略。</block>
  <block id="03b15347a8cf60a45420c125f92ebb93" category="list-text">从服务笔记本电脑访问 SANtricity 系统管理器并登录。</block>
  <block id="f219ab9608ffcd4c442c0818b110936c" category="list-text">将新的 SANtricity OS 软件文件和 NVSRAM 文件下载到管理客户端。</block>
  <block id="3d9ae28d2198023aa3a9b51d7b1706b3" category="admonition">NVSRAM 是特定于 StorageGRID 设备的。请勿使用标准 NVSRAM 下载。</block>
  <block id="ccb1df2c12036c342b870e4c64ece899" category="list-text">按照 _E2800 和 E5700 SANtricity 软件和固件升级指南 _ 或 SANtricity 系统管理器联机帮助中的说明升级 E2800 控制器的固件和 NVSRAM 。</block>
  <block id="5cdffd2577ebd1dc07fa763547f5f0a3" category="admonition">立即激活升级文件。请勿延迟激活。</block>
  <block id="0406f5c687409501fa4e50536e17b7a9" category="list-text">如果此操作步骤 已成功完成，并且您在节点处于维护模式时还需要执行其他过程，请立即执行。完成后，或者如果遇到任何故障并希望重新启动，请选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择以下选项之一：</block>
  <block id="76139fd62644e42b86c5b06a4f1ce82e" category="summary">如果 E2800 控制器运行不正常或出现故障，您可能需要更换它。</block>
  <block id="c31a26014f9a67e24824ee6cdc16c82b" category="doc">更换 E2800 控制器</block>
  <block id="cf0a6e4e9796e34ffdf4acf1b069b41a" category="list-text">您已下载有关更换出现故障的 E2800 控制器箱的单工配置的说明。</block>
  <block id="c64e7d6d3a0833d29bbf406c8e79d9ec" category="admonition">请仅在收到指示时或需要执行特定步骤的更多详细信息时才参考 E 系列说明。请勿依赖 E 系列说明来更换 StorageGRID 设备中的控制器，因为这些过程是不同的。</block>
  <block id="01ee0b96a4c1b2212af6b860ec63a8ca" category="list-text">如果所有驱动器都受到保护，您已查看单工 E2800 控制器更换操作步骤 中的步骤，其中包括从 NetApp 支持站点下载并安装 E 系列 SANtricity 存储管理器，然后在更换控制器后使用企业管理窗口（ EMW ）解锁受保护的驱动器。</block>
  <block id="822f3e8582776cbafa8007c1adb5ec11" category="admonition">只有在使用已保存的密钥解锁驱动器后，才能使用此设备。</block>
  <block id="b865bb98d9b0550e0a993612bafda00d" category="list-text">您必须具有特定的访问权限。</block>
  <block id="f8d85346e58f1120564d6a1b54110cb7" category="list-text">您必须使用登录到网格管理器 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="ed685b27fc1f2fa59a4dd9211c2e329c" category="paragraph">您可以通过以下两种方式确定控制器箱是否发生故障：</block>
  <block id="f7e01d9dca1569b4e2686ae3201b9f37" category="list-text">SANtricity System Manager 中的恢复 Guru 可指示您更换控制器。</block>
  <block id="f8e24f4f8665beda2711e14f280abf35" category="list-text">控制器上的琥珀色警示 LED 亮起，表示控制器出现故障。</block>
  <block id="5be10958b956108293e9959ecc34a8a3" category="inline-xref-macro">将 E5700SG 控制器置于维护模式</block>
  <block id="97dc54fdc120bc2c839f32f1422915f8" category="paragraph">更换控制器后，无法访问设备存储节点。如果 E2800 控制器运行正常，您可以 <block ref="c5c1d16206778ef9be475ea2d2e0b6f3" category="inline-xref-macro-rx"></block>。</block>
  <block id="58af910ee0462789eb4763caa8268371" category="paragraph">更换控制器时，您必须从原始控制器中取出电池，然后将其安装到替代控制器中。</block>
  <block id="87166c459001e9422ec9d8d4211ff93d" category="admonition">设备中的 E2800 控制器不包括主机接口卡（ HIC ）。</block>
  <block id="c1873ea87bdf996ede9990c97f3270e4" category="list-text">按照 E2800 控制器更换操作步骤 中的说明准备卸下控制器。</block>
  <block id="55c892922ea20ac558136aea5a263d6a" category="paragraph">您可以使用 SANtricity 系统管理器执行这些步骤。</block>
  <block id="2ecfec7bfa276afdd11c54d5abaab7fa" category="list-text">记下控制器上当前安装的 SANtricity OS 软件版本。</block>
  <block id="b8813be0069959617e6f40c3a22df0fc" category="list-text">记下当前安装的 NVSRAM 版本。</block>
  <block id="ba155e9172d5994c57e93fb656141227" category="list-text">如果启用了驱动器安全功能，请确保存在已保存的密钥，并且您知道安装该密钥所需的密码短语。</block>
  <block id="34b19b7b9e0b87b9eb7a896007f6fb5b" category="admonition">* 可能会丢失数据访问机会 -* 如果设备中的所有驱动器均已启用安全性，则新控制器将无法访问此设备，除非您使用 SANtricity 存储管理器中的企业管理窗口解锁受保护的驱动器。</block>
  <block id="0a9b72bbe9787ce3500d5017f9c62a54" category="list-text">备份配置数据库。</block>
  <block id="7a96ab4cc5d58598488f7e2fdcea9df9" category="paragraph">如果删除控制器时出现问题，您可以使用保存的文件还原配置。</block>
  <block id="fd4061a4924f1e0bf98462757a83fc33" category="list-text">收集设备的支持数据。</block>
  <block id="3aecc7fc7309bc291da70b4f45786d33" category="admonition">在更换组件之前和之后收集支持数据可确保在更换组件无法解决问题时，您可以向技术支持发送一整套日志。</block>
  <block id="ddedddac85243a53300a7ce9832a01f2" category="list-text">如果 StorageGRID 设备正在 StorageGRID 系统中运行， <block ref="c5c1d16206778ef9be475ea2d2e0b6f3" category="inline-xref-macro-rx"></block>。</block>
  <block id="b479d08d9995967f3e39eb8f8dda7580" category="list-text">如果 E2800 控制器运行充分，可以进行可控的关闭，请确认所有操作均已完成。</block>
  <block id="e8a260bb5b3251f85e6e082c763767ce" category="list-text">将控制器放在无静电的平面上，可拆卸盖朝上。</block>
  <block id="3cdc2b9a3f88a2901d8dc858523af60b" category="list-text">向下按按钮并滑动外盖，以卸下外盖。</block>
  <block id="d708815fa74d85cd087786cef2ab1cd6" category="list-text">从发生故障的控制器中取出电池，然后将其安装到替代控制器中：</block>
  <block id="e764e0e5854c6f45b3f893be8ea63ed7" category="list-text">确认控制器（电池和 DIMM 之间）中的绿色 LED 熄灭。</block>
  <block id="997a0d6eac5c38e607fa8951b2a2b74c" category="paragraph">如果此绿色 LED 亮起，则表示控制器仍在使用电池电源。您必须等待此 LED 熄灭，然后才能卸下任何组件。</block>
  <block id="8fea29345b9eb8aa445923cdf359f5ba" category="image-alt">E2800 上的绿色 LED</block>
  <block id="7d74f3b92b19da5e606d737d339a9679" category="cell">项目</block>
  <block id="5de2d39c0297fe09fc266cf3a197dcb3" category="paragraph">内部缓存活动 LED</block>
  <block id="d67c92867cc3d7fdf47f32cf70ab1b24" category="paragraph">电池</block>
  <block id="48d7c3ba8530908ecb5b9d5d1b2715c5" category="list-text">找到电池的蓝色释放闩锁。</block>
  <block id="66bb2c9c1cd0ee8817f2b156b82a62d0" category="list-text">向下推动释放闩锁并将其从控制器中移出，以解锁电池。</block>
  <block id="2b0158404e1c0202b534260eb15ae2a4" category="image-alt">电池闩锁</block>
  <block id="549d8182bc971afe008a694e8e807773" category="paragraph">电池释放闩锁</block>
  <block id="789d70124278601c1eabfafc5dd6711f" category="list-text">抬起电池，将其滑出控制器。</block>
  <block id="3dd6672c319a0e3d2937d281a0970939" category="list-text">从更换用的控制器上卸下盖板。</block>
  <block id="1d199c10c9e3fd126d277ea412813230" category="list-text">调整更换控制器的方向，使电池插槽面向您。</block>
  <block id="4488f7be23dcb41292c649a9434ed6bc" category="list-text">将电池略微向下插入控制器。</block>
  <block id="452511d97b441d38479ca141d0329e37" category="paragraph">您必须将电池前部的金属法兰插入控制器底部的插槽中，然后将电池顶部滑入控制器左侧的小对齐销下。</block>
  <block id="919a28c07e5dbee6de688f6142099f85" category="list-text">向上移动电池闩锁以固定电池。</block>
  <block id="f818ed85bf1e2c7130516abec5a92b96" category="paragraph">当闩锁卡入到位时，闩锁的底部会挂到机箱上的金属插槽中。</block>
  <block id="9d993e819eaef630a3634defa3dad95d" category="list-text">将控制器翻转，以确认电池安装正确。</block>
  <block id="c8d0b6bcf0343be12622f3c186af570c" category="admonition">* 可能的硬件损坏 * —电池正面的金属法兰必须完全插入控制器上的插槽（如第一图所示）。如果电池安装不正确（如图 2 所示），则金属法兰可能会接触控制器板，从而导致损坏。</block>
  <block id="5e03ca265bd7deb1ba78db3662725f6e" category="list-text">* 正确—电池的金属法兰已完全插入控制器上的插槽： *</block>
  <block id="8dc2189038ed3bc5bd51b4d6ff94f189" category="image-alt">电池法兰正确</block>
  <block id="8c73c18001d5e9a4a28df726c004c9bc" category="list-text">* 不正确 - 电池的金属法兰未插入控制器上的插槽： *</block>
  <block id="473975a2bdc231dbf000d9bea6e90947" category="image-alt">电池法兰不正确</block>
  <block id="7ba73c849e6911d28aae51804c103303" category="list-text">更换控制器盖板。</block>
  <block id="3892dd7cd5cb0ca4cedc19db7cb372b7" category="list-text">等待 E2800 控制器重新启动。验证七段显示屏是否显示状态 `99` 。</block>
  <block id="257858a722c44ea9c8fd109d25a4ddde" category="list-text">确定如何为替代控制器分配 IP 地址。</block>
  <block id="bbf06bd64da322a2c25cd223f9cf114a" category="admonition">为替代控制器分配 IP 地址的步骤取决于您是否已将管理端口 1 连接到使用 DHCP 服务器的网络，以及所有驱动器是否都安全。</block>
  <block id="5fd1096cfd1a095ea9071acc3cf3a7ab" category="list-text">如果管理端口 1 连接到使用 DHCP 服务器的网络，则新控制器将从 DHCP 服务器获取其 IP 地址。此值可能与原始控制器的 IP 地址不同。</block>
  <block id="f64bfad24d753356352751976af8f163" category="list-text">如果所有驱动器都受到保护，则必须使用 SANtricity 存储管理器中的企业管理窗口（ EMW ）解锁受保护的驱动器。只有在使用已保存的密钥解锁驱动器后，才能访问新控制器。有关更换单工 E2800 控制器的信息，请参见 E 系列说明。</block>
  <block id="1be34202b319195e2c39be4cd2b94536" category="list-text">如果设备使用安全驱动器，请按照 E2800 控制器更换操作步骤 中的说明导入驱动器安全密钥。</block>
  <block id="d795e8cd8371a6b73f2b41ac93cd4af7" category="list-text">将设备恢复到正常运行模式。在 StorageGRID 设备安装程序中，选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择 * 重新启动至 StorageGRID * 。</block>
  <block id="dfc1cfd9dbf39e4090597f7558e6b53b" category="paragraph">在重新启动期间，将显示以下屏幕：</block>
  <block id="b11bc5a26d977fddc5db9ef3d58338f1" category="image-alt">正在重新启动</block>
  <block id="8086a95cfc7eadf19603caa0b59c297b" category="paragraph">设备将重新启动并重新加入网格。此过程可能需要长达 20 分钟。</block>
  <block id="6dc65b53a4bf2b9bae745abbd00310eb" category="list-text">确认重新启动已完成，并且节点已重新加入网格。在网格管理器中，验证节点页面是否显示设备节点的正常状态（节点名称左侧没有图标），表示没有活动警报且节点已连接到网格。</block>
  <block id="f2c451e5cfa0cef9d6f648da8cc4b64d" category="list-text">从 SANtricity 系统管理器中，确认新控制器处于最佳状态，然后收集支持数据。</block>
  <block id="8855951c54bcd9d3862d12f2de3a85e0" category="summary">您可以使用 StorageGRID 设备安装程序在 StorageGRID 网格，管理和客户端网络上配置设备存储节点所使用的 IP 地址和路由信息。</block>
  <block id="20194938d092aada3894d91f974635b1" category="paragraph">您必须为每个已连接网络上的设备分配一个静态 IP ，或者为 DHCP 服务器上的地址分配一个永久租约。</block>
  <block id="66f07d67afdae8d889d941a1252159a2" category="paragraph">如果要更改链路配置，请参见有关更改 E5700SG 控制器的链路配置的说明。</block>
  <block id="c7bda52b89759b00cb8ad65f67df014c" category="list-text">在 StorageGRID 设备安装程序中，选择 * 配置网络连接 * &gt; * IP 配置 * 。</block>
  <block id="3e1955c43a21db08b53694f46adc7b87" category="paragraph">此时将显示 "IP Configuration" 页面。</block>
  <block id="393c626884d6951f668d66e9fb0e53b2" category="list-text">要配置网格网络，请在页面的 * 网格网络 * 部分中选择 * 静态 * 或 * DHCP * 。</block>
  <block id="9f2002452d4c2a57b5b9c073bfb0bc60" category="image-alt">网格网络 IP</block>
  <block id="2cb7413cf8ab9a1ebb5ebf4c70da43cb" category="list-text">如果选择 * 静态 * ，请按照以下步骤配置网格网络：</block>
  <block id="f6b5a4b458f38afdd04b463403cd5dd2" category="list-text">使用 CIDR 表示法输入静态 IPv4 地址。</block>
  <block id="b99c484862b0a5adea755d7f7256436c" category="list-text">输入网关。</block>
  <block id="3adacbfff6fae330987997d141264526" category="paragraph">如果您的网络没有网关，请重新输入相同的静态 IPv4 地址。</block>
  <block id="314ed6c55eeacd1e713d6f52be63f769" category="list-text">如果要使用巨型帧，请将 MTU 字段更改为适用于巨型帧的值，例如 9000 。否则，请保留默认值 1500 。</block>
  <block id="04938e14d1f775e97dfba27850ca31b5" category="admonition">网络的 MTU 值必须与节点所连接的交换机端口上配置的值匹配。否则，可能会发生网络性能问题或数据包丢失。</block>
  <block id="580a54550b1287fb6e1d51d0a500b231" category="admonition">为了获得最佳网络性能，应在所有节点的网格网络接口上配置类似的 MTU 值。如果网格网络在各个节点上的 MTU 设置有明显差异，则会触发 * 网格网络 MTU 不匹配 * 警报。并非所有网络类型的 MTU 值都相同。</block>
  <block id="895a63a01c80117e80b82727b1487bc7" category="paragraph">更改 IP 地址时，网关和子网列表可能也会发生更改。</block>
  <block id="6effc8d33f85ad7ae61dfc0eb8bbd543" category="paragraph">如果与 StorageGRID 设备安装程序的连接断开，请使用您刚刚分配的新静态 IP 地址重新输入 URL 。例如， + ` * https://_services_appliance_IP_:8443*`</block>
  <block id="a2b64f6433d021f997a563b2aea815e4" category="list-text">确认网格网络子网列表正确无误。</block>
  <block id="1e5525a7408a5f05eab0a28d87fbf2b2" category="paragraph">如果您有网格子网，则需要网格网络网关。指定的所有网格子网都必须可通过此网关访问。启动 StorageGRID 安装时，还必须在主管理节点上的网格网络子网列表中定义这些网格网络子网。</block>
  <block id="95c601a1b60eb13cd59109591804d00a" category="admonition">未列出默认路由。如果未启用客户端网络，则默认路由将使用网格网络网关。</block>
  <block id="408ea845582fc67ccb1d6fd994905d7e" category="inline-image-macro">插入图标</block>
  <block id="625b1517f7fc50c8790976add6a30b85" category="list-text">要添加子网，请单击插入图标 <block ref="0e4a78bb3476d4c9221dc56813d32390" category="inline-image-macro-rx" type="image"></block> 最后一个条目右侧。</block>
  <block id="5f11c7889df3330ff1f653f5e5702931" category="inline-image-macro">删除图标</block>
  <block id="20d1f9afba77fd8b189e95eebc04fa3c" category="list-text">要删除未使用的子网，请单击删除图标 <block ref="ae4b0d0edca14814d378e9b1121d1fb3" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="a46bbb4dd037b68158879e9e446ba4ab" category="list-text">如果选择了 * DHCP * ，请按照以下步骤配置网格网络：</block>
  <block id="140b4bda6d38a9f86842d22758d11a13" category="list-text">选择 * DHCP * 单选按钮后，单击 * 保存 * 。</block>
  <block id="a1563c17c233f64f135160e3aaf751c8" category="paragraph">系统会自动填充 * IPv4 地址 * ， * 网关 * 和 * 子网 * 字段。如果 DHCP 服务器设置为分配 MTU 值，则 * MTU * 字段将填充该值，并且该字段将变为只读。</block>
  <block id="d80e86a8c3f205ac96b864dcc1056511" category="paragraph">您的 Web 浏览器会自动重定向到 StorageGRID 设备安装程序的新 IP 地址。</block>
  <block id="bb266a0e8f6f74fb9cbf9bb7d2df9916" category="list-text">要配置管理网络，请在页面的管理网络部分中选择 * 静态 * 或 * DHCP * 。</block>
  <block id="55edf4ecf09be79003b9b8cc17ceb5af" category="admonition">要配置管理网络，必须在链路配置页面上启用管理网络。</block>
  <block id="ad0a07da1eeff182337b6cc902cd13bb" category="image-alt">管理网络 IP</block>
  <block id="b4f7e2ebad529279712b23b3df07afab" category="list-text">如果选择 * 静态 * ，请按照以下步骤配置管理网络：</block>
  <block id="5e2079034a2848cbc791631cddb60f79" category="list-text">使用 CIDR 表示法为设备上的管理端口 1 输入静态 IPv4 地址。</block>
  <block id="ac050aef24047fa3166dfc10edfa2633" category="paragraph">管理端口 1 位于设备右端的两个 1-GbE RJ45 端口的左侧。</block>
  <block id="37b6dcc6873b8ab23143ae595da628dc" category="paragraph">如果与 StorageGRID 设备安装程序的连接断开，请使用您刚刚分配的新静态 IP 地址重新输入 URL 。例如， + ` * https://_services_appliance_:8443*`</block>
  <block id="4a1d3b11657f7d9a2d739b6acca26d15" category="list-text">确认管理网络子网列表正确无误。</block>
  <block id="4bacb0355ac4f24ed8c6141dd090b579" category="paragraph">您必须验证是否可以使用提供的网关访问所有子网。</block>
  <block id="cbce9b695b129d2930fb11e1bbc3e225" category="admonition">无法使用默认路由来使用管理网络网关。</block>
  <block id="87bc58fa5e6cd0ff86a6bc8e4178b739" category="list-text">如果选择了 * DHCP * ，请按照以下步骤配置管理网络：</block>
  <block id="0c82965c220124f54856d4d5f199a9b8" category="list-text">要配置客户端网络，请在页面的 * 客户端网络 * 部分中选择 * 静态 * 或 * DHCP * 。</block>
  <block id="ac2353107a73479c32002a137894e78e" category="admonition">要配置客户端网络，必须在链路配置页面上启用客户端网络。</block>
  <block id="6a3ad34c43a331480ed0cf6934a31adb" category="image-alt">客户端网络 IP</block>
  <block id="7ddda42e329a10ce8363fbec77be26b2" category="list-text">如果选择 * 静态 * ，请按照以下步骤配置客户端网络：</block>
  <block id="7b2db1150f4e5ccf99360a2c6d7d4eb4" category="list-text">确认客户端网络网关的 IP 地址正确无误。</block>
  <block id="c8296450ee8c071dbcb90868f307ba09" category="admonition">如果启用了客户端网络，则会显示默认路由。默认路由使用客户端网络网关，并且在启用客户端网络时无法移至其他接口。</block>
  <block id="05da532ab893fe35781cf6f2b75bf763" category="list-text">如果选择了 * DHCP * ，请按照以下步骤配置客户端网络：</block>
  <block id="c66bca512904c85a57880fa47eaa3ce9" category="paragraph">系统会自动填充 * IPv4 地址 * 和 * 网关 * 字段。如果 DHCP 服务器设置为分配 MTU 值，则 * MTU * 字段将填充该值，并且该字段将变为只读。</block>
  <block id="d80dcce5a45b36200579b2180aa0d922" category="list-text">确认网关是否正确。</block>
  <block id="6141ffb867b1efe81e5e69a5c89b8a99" category="inline-xref-macro">更改 E5700SG 控制器的链路配置</block>
  <block id="259902450134d5c5807a77852572d332" category="paragraph"><block ref="259902450134d5c5807a77852572d332" category="inline-xref-macro-rx"></block></block>
  <block id="859b0500b1a30591587d9d70dec16f54" category="summary">对于 E5700SG 控制器上的两个 1-GbE 管理端口，您可以选择独立网络绑定模式或主动备份网络绑定模式来连接到可选的管理网络。</block>
  <block id="db0b467bb016a8e446b933b958c95cad" category="doc">1-GbE 管理端口的网络绑定模式</block>
  <block id="b41651ec124045231d4b8ab680393b5d" category="paragraph">在独立模式下，只有管理端口 1 连接到管理网络。此模式不提供冗余路径。管理端口 2 未连接，可用于临时本地连接（使用 IP 地址 169.254.0.1 ）</block>
  <block id="fe00ff853ab49b0e240fe0b0eb4e4714" category="paragraph">在主动备份模式下，管理端口 1 和 2 均连接到管理网络。一次只有一个端口处于活动状态。如果活动端口发生故障，其备份端口会自动提供故障转移连接。将这两个物理端口绑定到一个逻辑管理端口可提供指向管理网络的冗余路径。</block>
  <block id="e5536f94e2a6bf49bd8a9683bf167fcd" category="admonition">如果在将 1-GbE 管理端口配置为主动备份模式后需要临时本地连接到 E5700SG 控制器，请从两个管理端口拔下缆线，将临时缆线插入管理端口 2 ，然后使用 IP 地址 169.254.0.1 访问此设备。</block>
  <block id="a2db8f53d50d94626b7ef7c693f3e83f" category="image-alt">E5700SG 绑定管理端口</block>
  <block id="42fe9ad0d1bbfe8ea085d8e5955d29e7" category="doc">StorageGRID SG5700 设备概述</block>
  <block id="20145658ea802eba7489d76c2eccb4ed" category="summary">您可以更改在为设备节点配置 IP 地址时分配的 MTU 设置。</block>
  <block id="b70bb7ceeb11d97c10297430b5e98808" category="inline-xref">使用更改 IP 工具</block>
  <block id="a1677671d199d2d1a1f100c491a2509f" category="paragraph">要在不重新启动设备节点的情况下更改 MTU 设置， <block ref="643a99033afcb6b904d10375cb789042" category="inline-xref-macro-rx"></block>。</block>
  <block id="9e0c288a11775e7b4ceb075f44dce750" category="inline-xref">使用维护模式更改 MTU 设置</block>
  <block id="9c7cfb84b355373a80b917c27b27795f" category="paragraph">如果在初始安装期间未在 StorageGRID 设备安装程序中配置客户端或管理网络， <block ref="24d026a5ef99e258c17eca07046f8eba" category="inline-xref-macro-rx"></block>。</block>
  <block id="629f71aaa22e2c436012eb1ba4640efe" category="section-title">使用更改 IP 工具更改 MTU 设置</block>
  <block id="55f0a36e8001f5a40768044169b8038d" category="paragraph">您有 `passwords.txt` 文件可用于更改 IP 工具。</block>
  <block id="fc09154f621c355dcaaf65ce69981b52" category="inline-xref-macro">更改节点网络配置</block>
  <block id="afb4c2162216afd822ee88607337ba1c" category="paragraph">访问更改 IP 工具并按中所述更新 MTU 设置 <block ref="9bb959854abe57d7c15a6cf43e29909d" category="inline-xref-macro-rx"></block>。</block>
  <block id="54a74c2628c753d91428e7a61b1f07cc" category="section-title">使用维护模式更改 MTU 设置</block>
  <block id="e4e0d35e946a7f92ce7c9ae138d1014b" category="paragraph">如果无法使用更改 IP 工具访问这些设置，请使用维护模式更改 MTU 设置。</block>
  <block id="24b04df373b4bf251204fe297f26ead1" category="list-text">从 StorageGRID 设备安装程序中，选择 * 配置网络连接 * &gt; * IP 配置 * 。</block>
  <block id="01a75051b25170e1f0a6852ca4d0164e" category="list-text">对网格网络，管理网络和客户端网络的 MTU 设置进行所需的更改。</block>
  <block id="d933c679cd1109ec2248d255d579ae27" category="list-text">如果对设置感到满意，请选择 * 保存 * 。</block>
  <block id="78b4e35b5cc2253d226d8d120b871988" category="summary">您可以使用包含配置信息的 JSON 文件自动配置设备。您可以使用 StorageGRID 设备安装程序上传文件。</block>
  <block id="2f6524e643e89b3c5c42506760def26c" category="list-text">您的设备必须使用与 StorageGRID 11.5 或更高版本兼容的最新固件。</block>
  <block id="c7d3e129e00af87c1e471a2f20458877" category="list-text">您必须连接到要使用配置的设备上的 StorageGRID 设备安装程序 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="ad357bb1b5a3d1c1cefe03a7261b869f" category="paragraph">您可以自动执行设备配置任务，例如配置以下内容：</block>
  <block id="15b35b6087af36b50521f5db3db14d25" category="list-text">网格网络，管理网络和客户端网络 IP 地址</block>
  <block id="32deaa4eda793fa59eb2170068fc29c5" category="list-text">BMC 接口</block>
  <block id="aacd71e0d092194b3da8180e0d564bb9" category="list-text">网络链路</block>
  <block id="10790e6f76cc823ce0ce269ee556e44f" category="paragraph">使用上传的 JSON 文件配置设备通常比在 StorageGRID 设备安装程序中使用多个页面手动执行配置效率更高，尤其是在需要配置多个节点时。您必须一次应用一个节点的配置文件。</block>
  <block id="6cb3053e59324ef3d33eb0e624618b2e" category="admonition">有经验的用户如果希望自动安装和配置其设备，可以使用 `configure-sGA .py` 脚本。+<block ref="52c1f5341946ea85ea72a94fc7b0c7be" category="inline-xref-macro-rx"></block></block>
  <block id="4bd0aa5c9515189de000b24b61eadd72" category="list-text">使用以下方法之一生成 JSON 文件：</block>
  <block id="2954a277378750b5fbb5eb4ef02ecad3" category="list-text">ConfigBuilder 应用程序</block>
  <block id="ff24c18bb7f62559ad2f72e26197affe" category="inline-link">ConfigBuilder.netapp.com</block>
  <block id="84cc3aac03cd14c52c71c45b8f82d475" category="paragraph"><block ref="84cc3aac03cd14c52c71c45b8f82d475" category="inline-link-rx"></block></block>
  <block id="40f695c6197c25a959eae597c6c82bf2" category="list-text">`configure-sGa.py` 设备配置脚本。您可以从 StorageGRID 设备安装程序（ * 帮助 * &gt; * 设备配置脚本 * ）下载此脚本。请参见有关使用 configure-sga.py 脚本自动配置的说明。</block>
  <block id="52c1f5341946ea85ea72a94fc7b0c7be" category="paragraph"><block ref="52c1f5341946ea85ea72a94fc7b0c7be" category="inline-xref-macro-rx"></block></block>
  <block id="4b6ab71f7135e240a274259d461ceec9" category="paragraph">JSON 文件中的节点名称必须符合以下要求：</block>
  <block id="36c34701993c746e153c0097177b4a86" category="list-text">必须是一个有效的主机名，至少包含 1 个字符，并且不超过 32 个字符</block>
  <block id="6148ed42a73958e8936d4ebd6ac63909" category="list-text">可以使用字母，数字和连字符</block>
  <block id="1c3ce4cf984c1b0c7ce14e8bfa7766f5" category="list-text">不能以连字符开头或结尾</block>
  <block id="32e5d64f0519653d6452f55e04908ff6" category="list-text">不能或仅包含数字</block>
  <block id="1baadad19bb4f993a888a3809df207ef" category="admonition">请确保 JSON 文件中的节点名称（顶级名称）是唯一的，否则您将无法使用 JSON 文件配置多个节点。</block>
  <block id="56d86f6491159008f6fb5fcf496c19c3" category="list-text">选择 * 高级 * &gt; * 更新设备配置 * 。</block>
  <block id="4a595c6ff8b2cc4c1dd329479fba9cbd" category="paragraph">此时将显示更新设备配置页面。</block>
  <block id="3935b7623a0d0261f8faecfb57fa912d" category="image-alt">更新设备配置页面</block>
  <block id="2d512e012288929356b1976453c46d26" category="list-text">选择包含要上传的配置的 JSON 文件。</block>
  <block id="d46a96ea002a2622b5221351849dc6b1" category="paragraph">已上传并验证此文件。验证过程完成后，文件名会显示在绿色复选标记旁边。</block>
  <block id="7af5ed4cd7712c0dbb5e36ecad7e2480" category="admonition">如果 JSON 文件中的配置包含 "link_config" ， "networks" 或这两者的部分，则可能会断开与设备的连接。如果 1 分钟内未重新连接，请使用分配给设备的其他 IP 地址之一重新输入设备 URL 。</block>
  <block id="96916133d9ba89b1f760d8b0b4fcb081" category="image-alt">已上传更新设备配置 JSON</block>
  <block id="8e0735294c657cc50de7b9a561384c96" category="paragraph">此时将使用 JSON 文件中定义的顶级节点名称填充 * 节点名称 * 下拉列表。</block>
  <block id="5522d29c76693256a59d26120c18b54f" category="admonition">如果文件无效，则文件名将显示为红色，并在黄色横幅中显示一条错误消息。此无效文件不会应用于此设备。您可以使用 ConfigBuilder 来确保具有有效的 JSON 文件。</block>
  <block id="849df754ceb7398c2f1dcb1f6669d5e6" category="list-text">从 * 节点名称 * 下拉列表中选择一个节点。</block>
  <block id="1ab1260450f36961e4fc4a98800b79e4" category="paragraph">此时将启用 * 应用 JSON 配置 * 按钮。</block>
  <block id="05e166ae057a360ea1cf9f9b01fb0550" category="image-alt">已启用更新设备配置应用按钮</block>
  <block id="14f7c5870ea891f8ab5b84e12feea5b7" category="list-text">选择 * 应用 JSON 配置 * 。</block>
  <block id="aff1a9cd18d1c8872049e44ce860f6c9" category="paragraph">此配置将应用于选定节点。</block>
  <block id="ebf56c890453ea712b16d711e234b8e7" category="summary">在 StorageGRID 设备安装程序运行期间，您可能需要重新启动计算控制器。例如，如果安装失败，您可能需要重新启动控制器。</block>
  <block id="5688ac3218592b6ce9f474e6b2e06ce5" category="doc">在 StorageGRID 设备安装程序运行期间重新启动控制器</block>
  <block id="bc939f5b8f18bb96a298f9507c82a70d" category="paragraph">只有当计算控制器运行 StorageGRID 设备安装程序时，此操作步骤 才适用。安装完成后，此步骤将不再起作用，因为 StorageGRID 设备安装程序不再可用。</block>
  <block id="02216cbac729ad477642e5a027c8218f" category="list-text">在 StorageGRID 设备安装程序中，单击 * 高级 * &gt; * 重新启动控制器 * ，然后选择以下选项之一：</block>
  <block id="ae74654ba3cc97d8dfa7433cdffc35ea" category="paragraph">SG6000-CN 控制器将重新启动。</block>
  <block id="04a0a78c131163ba84325558530f8e35" category="summary">在安装 StorageGRID 设备之前，您应了解可以将哪些网络连接到设备，以及如何使用每个控制器上的端口。</block>
  <block id="f6745ade428d72e087793fef5774e2a5" category="section-title">StorageGRID 设备网络</block>
  <block id="c6f68814ff73b3847a2cf06a2e7c8447" category="paragraph">将 StorageGRID 设备部署为 StorageGRID 网格中的存储节点时，您可以将其连接到以下网络：</block>
  <block id="d64650c12bf02a6d6b6e1ac4dbdeafd4" category="list-text">* 适用于 StorageGRID 的网格网络 * ：网格网络用于所有内部 StorageGRID 流量。它可以在网格中的所有节点之间以及所有站点和子网之间建立连接。网格网络为必填项。</block>
  <block id="edc8f42c5d3c1c2a2922bf75112aa76a" category="list-text">* 适用于 StorageGRID 的管理网络 * ：管理网络是一个用于系统管理和维护的封闭网络。管理网络通常是一个专用网络，不需要在站点之间进行路由。管理网络是可选的。</block>
  <block id="fa8de948b6f2ba673c2e65a84d5caa5c" category="list-text">* 适用于 StorageGRID 的客户端网络： * 客户端网络是一种开放网络，用于访问包括 S3 和 Swift 在内的客户端应用程序。客户端网络可提供对网格的客户端协议访问，从而可以隔离和保护网格网络。客户端网络是可选的。</block>
  <block id="c1c137e1c4fc8cdda7f8aa71528f277a" category="list-text">* 适用于 SANtricity System Manager* 的管理网络（可选）：通过此网络，您可以访问 E2800 控制器上的 SANtricity System Manager ，从而监控和管理设备中的硬件组件。此管理网络可以与 StorageGRID 的管理网络相同，也可以是一个独立的管理网络。</block>
  <block id="7f7f2a66e515d932f9c82cb70006d933" category="paragraph">如果未连接可选的 SANtricity System Manager 网络，则可能无法使用某些 SANtricity 功能。</block>
  <block id="6352ef9702e3242be94b85c39b9875a6" category="admonition">有关 StorageGRID 网络的详细信息，请参见 _Grid Primer_ 。</block>
  <block id="dabaffc0175694b5f9d72a17a5136a9c" category="section-title">StorageGRID 设备连接</block>
  <block id="7d80a6bffa2319015728804e51da2bbf" category="paragraph">安装 StorageGRID 设备时，必须将两个控制器彼此连接并连接到所需的网络。此图显示了 SG5760 中的两个控制器，其中 E2800 控制器位于顶部， E5700SG 控制器位于底部。在 SG5712 中， E2800 控制器位于 E5700SG 控制器的左侧。</block>
  <block id="7a3c10496fde3ad14125c2b160d72016" category="image-alt">SG5760 设备上的连接</block>
  <block id="f24c816d039dce845526bac66c138e0d" category="paragraph"><block ref="f24c816d039dce845526bac66c138e0d" category="inline-xref-macro-rx"></block></block>
  <block id="8fc60b431e14ce44da0c549a7d6e4a55" category="paragraph"><block ref="8fc60b431e14ce44da0c549a7d6e4a55" category="inline-xref-macro-rx"></block></block>
  <block id="1d221ef196bea04df4f33c1471535610" category="summary">在执行特定维护过程之前，您必须将设备置于维护模式。</block>
  <block id="804d4bf5723067ccea76dfcffb183837" category="list-text">您具有维护或 root 访问权限。有关详细信息，请参见有关管理 StorageGRID 的说明。</block>
  <block id="0ea286d15fceefbf9be9203ff1fe67c5" category="admonition">处于维护模式的 StorageGRID 设备的管理员帐户密码和 SSH 主机密钥与该设备运行时的密码和主机密钥保持不变。</block>
  <block id="148193913819a2de02a7a3709d403e30" category="list-text">在网格管理器中，选择 * 节点 * 。</block>
  <block id="e7b74f7ab1dc446d5a97088b03345775" category="list-text">从节点页面的树视图中，选择设备存储节点。</block>
  <block id="7ccde638d8865480cafade66fca9367b" category="list-text">选择 * 任务 * 。</block>
  <block id="8b50d9ccfedda7af5d66308431da1737" category="image-alt">设备的维护模式按钮</block>
  <block id="4800de8db11b28ec728a2166caaf142e" category="list-text">选择 * 维护模式 * 。</block>
  <block id="9968a0f0e2c1cfe231eb4fa8fa6a1ae4" category="paragraph">此时将显示确认对话框。</block>
  <block id="2c0e80c24f4a43b01b73c0adc2e2acd0" category="image-alt">维护模式确认对话框</block>
  <block id="651431ce9c9ba5ed40a729d384a68b4b" category="list-text">输入配置密码短语，然后选择 * 确定 * 。</block>
  <block id="5fe4ad46296699562ebb72b1ba0a143e" category="paragraph">进度条和一系列消息（包括 " 已发送请求 " ， " 正在停止 StorageGRID " 和 " 正在重新启动 " ）表示设备正在完成进入维护模式的步骤。</block>
  <block id="e069270636a87b33edd33a14ffe9a71d" category="image-alt">维护模式进度条</block>
  <block id="3cd107fa7674f1655dbce19c69ecf791" category="paragraph">设备处于维护模式时，会显示一条确认消息，其中列出了可用于访问 StorageGRID 设备安装程序的 URL 。</block>
  <block id="69af7832cb27918818203772ebd69dc4" category="image-alt">维护模式 URL</block>
  <block id="bd67721dead94902b176d145e0f85d42" category="list-text">要访问 StorageGRID 设备安装程序，请浏览到显示的任何 URL 。</block>
  <block id="ff8c6259f98e7b3f90427e2a9c6125ca" category="paragraph">如果可能，请使用包含设备管理网络端口 IP 地址的 URL 。</block>
  <block id="ca465ef8ceac31201abde2daa0806e70" category="admonition">如果您直接连接到设备的管理端口，请使用 ` +https://169.254.0.1:8443+` 访问 StorageGRID 设备安装程序页面。</block>
  <block id="32a9ef313cf9ae0754ab603da718fff0" category="list-text">在 StorageGRID 设备安装程序中，确认设备处于维护模式。</block>
  <block id="b23b30ba9f90923e06f3b9134c82773f" category="image-alt">维护模式消息</block>
  <block id="996d9c44c18058f46f19f8b08f2b7ef1" category="list-text">执行任何必要的维护任务。</block>
  <block id="38f1d0318b55a509ae2295dc98a1e2a4" category="list-text">完成维护任务后，退出维护模式并恢复正常节点操作。在 StorageGRID 设备安装程序中，选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择 * 重新启动至 StorageGRID * 。</block>
  <block id="995987ebbc472d22e2d7254b73719763" category="image-alt">节点页面正常状态</block>
  <block id="8f480a3bbae8ee5c31f1bfd95ddfa725" category="summary">您可能需要更换 StorageGRID 设备中的控制器电池，驱动器，风扇或电源。</block>
  <block id="20d0c8c63ccb67cd86f204b9e52007b4" category="doc">更换其他硬件组件</block>
  <block id="e4e19baff9c13982046ee79bb64ebc39" category="list-text">您已安装 E 系列硬件更换操作步骤 。</block>
  <block id="0ecfc88378e7ad89c0f0ad495af17f50" category="list-text">此设备已运行 <block ref="7faa1fdee3dba898a88c7ff5fad45e02" category="inline-xref-macro-rx"></block> 如果组件更换操作步骤 要求您关闭设备。</block>
  <block id="e7d70334d37ecb7cb1d59e017b550946" category="paragraph">要更换 E2800 控制器中的电池，请参见这些说明中有关更换 E2800 控制器的说明。这些说明介绍了如何从设备中卸下控制器，从控制器中取出电池，安装电池以及更换控制器。</block>
  <block id="ead903cdb4b3f4e8cd3dd807942098e0" category="paragraph">要更换设备中的驱动器，电源风扇箱，风扇箱，电源箱或驱动器抽屉，请访问 E 系列维护 E2800 硬件的过程。</block>
  <block id="460e3df6135602b462c67bd8cfc3bfca" category="section-title">SG5712 组件更换说明</block>
  <block id="c19f6f3bf60ec1c67dea7fd48493e085" category="cell">FRU</block>
  <block id="8a241f77eb8c1ca141cc3dce253f97de" category="cell">请参见 E 系列说明</block>
  <block id="81b7c89ff04079fa9496908974c006f4" category="paragraph">更换 E2800 12 驱动器或 24 驱动器磁盘架中的驱动器</block>
  <block id="93246f23b3aa862c6c59cf99eb8b5998" category="paragraph">电源风扇箱</block>
  <block id="b4e32e296f099e26c005a8f0fcbc9515" category="paragraph">更换 E2800 磁盘架中的电源风扇箱</block>
  <block id="5271501c5382aa57375d78b9af50bb73" category="section-title">SG5760 组件更换说明</block>
  <block id="3306cd4cfb49254985a2a0f95f855819" category="paragraph">更换 E2860 磁盘架中的驱动器</block>
  <block id="688714fee0cd85d00af5a7638fc4feef" category="paragraph">动力箱</block>
  <block id="520b5a15552823f270837a450754bb3c" category="paragraph">更换 E2860 磁盘架中的电源箱</block>
  <block id="b97e6624511dcff3e3b1e17113d66f09" category="paragraph">风扇箱</block>
  <block id="d8f08eaf9980d787f7dd551baea70066" category="paragraph">更换 E2860 磁盘架中的风扇箱</block>
  <block id="5914f1ca7493235755e6e8677094a44a" category="paragraph">Drive drawer</block>
  <block id="821f23bb34ca6720e0560e47e913ee58" category="paragraph">更换 E2860 磁盘架中的驱动器抽盒</block>
  <block id="8120bb0485b7bb6c8e72567a06637a49" category="paragraph"><block ref="8120bb0485b7bb6c8e72567a06637a49" category="inline-xref-macro-rx"></block></block>
  <block id="dcbc5d0c944205d099154e6e8d408209" category="summary">StorageGRID 设备的 SG5712 和 SG5760 型号都包括一个 E5700SG 控制器和一个 E2800 控制器。您应查看这些图表以了解控制器之间的差异。</block>
  <block id="852ff65bf0c8e77378ffb071f6a80ea6" category="doc">StorageGRID 设备中的控制器</block>
  <block id="7a8f42210e6845d6d3ce7c817a5d4af6" category="list-text">用作设备的计算服务器。</block>
  <block id="7d941403b146890d1043a70440bfce03" category="list-text">包括 StorageGRID 设备安装程序。</block>
  <block id="a4386ee35acf936292b016728242a1bb" category="admonition">设备上未预安装 StorageGRID 软件。部署设备时，可从管理节点访问此软件。</block>
  <block id="a2870e7112cdd77e5894ce018795aa64" category="list-text">可以连接到所有三个 StorageGRID 网络，包括网格网络，管理网络和客户端网络。</block>
  <block id="782f8c3975ff459ca2bc8301e6744161" category="list-text">连接到 E2800 控制器并作为启动程序运行。</block>
  <block id="57c53efbaf89b986cf0eee490d82c4c7" category="paragraph">此图显示了 E5700SG 控制器背面的连接器。</block>
  <block id="ecc25a4e30fb90825e5e4fea13dd0c5c" category="image-alt">E5700SG 控制器上的连接器</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">Type</block>
  <block id="ad8783089f828b927473fb61d51940ec" category="cell">使用 ...</block>
  <block id="c16cd9f6a477fd3374e7ffc6623519fb" category="paragraph">互连端口 1 和 2</block>
  <block id="70d00bbaeafe9c51500b66f6c79165c6" category="paragraph">16GB/s 光纤通道（ FC ），光纤 SFPa</block>
  <block id="497a1089e2f6d58f65b71e4cd559ef69" category="cell">将 E5700SG 控制器连接到 E2800 控制器。</block>
  <block id="f4abdb02993b70c9068d4ab56e3bd5d1" category="paragraph">诊断和支持端口</block>
  <block id="f6a7cad1ef5c769f96d5a4099f54bb66" category="list-text">RJ-45 串行端口</block>
  <block id="7ee4dc8cf663d3f95ca133e6cf1d4227" category="list-text">微型 USB 串行端口</block>
  <block id="996988afbc56055b3cb8e67794baae3f" category="list-text">USB 端口</block>
  <block id="a3c2e9c3b48291bc9734d0c1b885aa30" category="paragraph">驱动器扩展端口</block>
  <block id="aa0bafdae785d4f2422dc1a6a888f4b7" category="paragraph">12 Gb/ 秒 SAS</block>
  <block id="0f9557212f313f0ea32edba69c6deced" category="paragraph">未使用。StorageGRID 设备不支持扩展驱动器架。</block>
  <block id="c2f8f7f4e960ed15b6e908c69c32c60b" category="paragraph">网络端口 1-4</block>
  <block id="06ed9ee45aab646d00c6a47ee8b90ffe" category="paragraph">10-GbE 或 25-GbE ，取决于 SFP 收发器类型，交换机速度和已配置的链路速度</block>
  <block id="15df0bae3497f67d0beca4c56a31895e" category="paragraph">连接到网格网络和 StorageGRID 客户端网络。</block>
  <block id="4e2b09a1fa9fcd053bbdc5ebae541ca0" category="paragraph">管理端口 1</block>
  <block id="4aa8083b084b160ad8827a22e670a4d9" category="paragraph">1 Gb （ RJ-45 ）以太网</block>
  <block id="ed2c8f4ba067bb81374e12cf28c77955" category="paragraph">连接到 StorageGRID 的管理网络。</block>
  <block id="aea3507086a4325b5e6703291e041505" category="paragraph">管理端口 2</block>
  <block id="ebcc39462e6620a8cf432194084a5483" category="paragraph">选项：</block>
  <block id="f444f676031a0a298e04a8bc2b8ffa29" category="list-text">与管理端口 1 绑定，以便与 StorageGRID 的管理网络建立冗余连接。</block>
  <block id="0df63ff7fa006c41f11c967df8dce730" category="list-text">保持未连接状态，并可用于临时本地访问（ IP 169.254.0.1 ）。</block>
  <block id="01c3c9c0362c84e7840be1e7e0ef1648" category="list-text">安装期间，如果 DHCP 分配的 IP 地址不可用，请使用端口 2 进行 IP 配置。</block>
  <block id="198a037d99482842c28625967058359d" category="list-text">用作设备的存储控制器。</block>
  <block id="c1392d526bbfd5a81789261a796460d1" category="list-text">管理驱动器上的数据存储。</block>
  <block id="b88eed3db165223c66676a0c9552a90f" category="list-text">在单工模式下用作标准 E 系列控制器。</block>
  <block id="30ac903e4e908a97ba78fd2609038d17" category="list-text">包括 SANtricity 操作系统软件（控制器固件）。</block>
  <block id="df183ad79534b970250a167bc600b6a1" category="list-text">包括用于监控设备硬件和管理警报的 SANtricity System Manager ， AutoSupport 功能和驱动器安全功能。</block>
  <block id="8a5b9f41eb79d9b023e08c4c6daccdd9" category="list-text">连接到 E5700SG 控制器并作为目标运行。</block>
  <block id="14abfb440bd7d4045e0214ed42bac244" category="paragraph">此图显示了 E2800 控制器背面的连接器。</block>
  <block id="c7031ad57f9901544d65ca5371e914ea" category="image-alt">E2800 控制器上的连接器</block>
  <block id="469a0b97247020b5041eb92b074c5852" category="paragraph">16 GB/s FC 光纤 SFPa</block>
  <block id="80bfc35d2ae473b678a5c53aa8446774" category="cell">将 E2800 控制器连接到 E5700SG 控制器。</block>
  <block id="1502133888ca1a046c43773f1575521a" category="paragraph">管理端口 1 和 2</block>
  <block id="36226a7a2a27e4f84f1ed99d92fa07cf" category="list-text">端口 1 选项：</block>
  <block id="f85698500a7a113f4e9140593482c3a1" category="list-text">连接到管理网络以启用对 SANtricity 系统管理器的直接 TCP/IP 访问</block>
  <block id="ac518f9824218a27c509c57c01a096e5" category="list-text">保持未连接状态以保存交换机端口和 IP 地址。使用网格管理器或存储网格设备安装程序 UI 访问 SANtricity System Manager 。</block>
  <block id="1cec8ae87e0bd505bcf105a15eb2c06f" category="paragraph">* 注 * ：如果您选择使端口 1 保持未连接状态，则某些可选的 SANtricity 功能（例如 NTP 同步以获得准确的日志时间戳）将不可用。</block>
  <block id="62ae5513520dd9eba331169cfd4484f8" category="paragraph">* 注 * ：如果不对端口 1 布线，则需要 StorageGRID 11.5 或更高版本以及 SANtricity 11.70 或更高版本。</block>
  <block id="54d7ecac4234801a52c82cee53356b93" category="list-text">端口 2 预留用于技术支持。</block>
  <block id="9aabb97f2bc02ceee6766a32fd96327e" category="paragraph">保留供技术支持使用。</block>
  <block id="575f5da1297a9d208194e631fe305bac" category="paragraph">驱动器扩展端口。</block>
  <block id="2780431afb4939e3af46833c3ce3376d" category="summary">每个存储控制器上的管理端口 1 用于将设备连接到 SANtricity System Manager 的管理网络。如果无法从 StorageGRID 设备安装程序访问 SANtricity 系统管理器，则必须为每个存储控制器设置一个静态 IP 地址，以确保不会丢失与控制器架中的硬件和控制器固件的管理连接。</block>
  <block id="a834e0bc1ff2be17b538cab1434e6540" category="doc">使用 StorageGRID 设备安装程序设置存储控制器的 IP 地址</block>
  <block id="08ad58d795ef3d74c9c32074712d8727" category="list-text">您正在使用可以连接到 StorageGRID 管理网络的任何管理客户端，或者您使用的是服务笔记本电脑。</block>
  <block id="f76c7c160e37e13d7b01d0f17fb975ce" category="list-text">客户端或服务笔记本电脑具有受支持的 Web 浏览器。</block>
  <block id="301483ab0674bc73d87da93da80f88eb" category="paragraph">DHCP 分配的地址可以随时更改。为控制器分配静态 IP 地址，以确保一致的可访问性。</block>
  <block id="09976e1d5a6f6dfaf13c11f18c2f708c" category="admonition">只有当您无法从 StorageGRID 设备安装程序（ * 高级 * &gt; * SANtricity 系统管理器 * ）或网格管理器（ * 节点 * &gt; * SANtricity 系统管理器 * ）访问 SANtricity 系统管理器时，才应遵循此操作步骤 。</block>
  <block id="7eeeb79d5bdf9a19704d7b2893c38036" category="list-text">在客户端中，输入 StorageGRID 设备安装程序的 URL ： + ` * https://_Appliance_Controller_IP_:8443*`</block>
  <block id="94502bd290a24de6a1fea0ddd015fdcc" category="paragraph">对于 ` 设备控制器 IP` ，请在任何 StorageGRID 网络上使用设备的 IP 地址。</block>
  <block id="fb51b3efd6ec944f2850b6b0fd461142" category="list-text">选择 * 配置硬件 * &gt; * 存储控制器网络配置 * 。</block>
  <block id="3bc75824d3e7bdf3bf66b8132a0f4bda" category="paragraph">此时将显示存储控制器网络配置页面。</block>
  <block id="310876d6d704d7fd23805a69ddf1795a" category="list-text">根据您的网络配置，对于 IPv4 ， IPv6 或这两者，请选择 * 已启用 * 。</block>
  <block id="6ab1dd1f72b54c2d536817b45836991c" category="list-text">记下自动显示的 IPv4 地址。</block>
  <block id="eab33d5476faed22151b1e5a3cc5aeec" category="paragraph">DHCP 是为存储控制器管理端口分配 IP 地址的默认方法。</block>
  <block id="329881d8ef653446f40f711e4fc8fd15" category="admonition">显示 DHCP 值可能需要几分钟的时间。</block>
  <block id="2478b72df9b3df0d12bdb93bc30b1581" category="image-alt">存储控制器网络配置 IPv4</block>
  <block id="f604fb9581a7125a29e81a338cdf6ab7" category="list-text">（可选）设置存储控制器管理端口的静态 IP 地址。</block>
  <block id="13b980687862811535e502373a89cc85" category="admonition">您应该为管理端口分配静态 IP ，或者为 DHCP 服务器上的地址分配永久租约。</block>
  <block id="ef629ab48bf286b5597c22d0257a9354" category="list-text">选择 * 静态 * 。</block>
  <block id="e7531855a45d79108e15469d6937761e" category="list-text">使用 CIDR 表示法输入 IPv4 地址。</block>
  <block id="79658e10ca015f24acdccf34e6840296" category="list-text">输入默认网关。</block>
  <block id="ffed8e091cbdcd40a6509d0b896ebf40" category="image-alt">存储控制器网络配置 IPv4 和默认网关</block>
  <block id="3c7ae12db7024ffd08d2bca474f5ed35" category="paragraph">应用所做的更改可能需要几分钟的时间。</block>
  <block id="fa819e302c806f17c39d49ed55f0265d" category="paragraph">连接到 SANtricity 系统管理器时，您将使用新的静态 IP 地址作为 URL ： + ` * https://_Storage_Controller_IP_*`</block>
  <block id="6e6556290a47ba098795f49e7c40b955" category="summary">您必须确保网络基础架构能够在网格内的节点之间以及与外部客户端和服务之间提供内部和外部通信。您可能需要跨内部和外部防火墙，交换系统和路由系统进行访问。</block>
  <block id="b5dc2dc4254cc20f1c4795b65f08eb92" category="doc">网络端口参考</block>
  <block id="792321f2a8294935eefc4ae715c00f04" category="inline-xref-macro">内部网格节点通信</block>
  <block id="ce278086cedd4583340ec80eaccd048d" category="inline-xref-macro">外部通信</block>
  <block id="5654e7d6cc7732343e41c7cff8856b22" category="paragraph">请使用为提供的详细信息 <block ref="255f7985cdefed9c63041707a618ac9a" category="inline-xref-macro-rx"></block> 和 <block ref="b47fbf8659e8d6d012e35985b274d938" category="inline-xref-macro-rx"></block> 以确定如何配置所需的每个端口。</block>
  <block id="81a8741ace867f3e96788b3056697692" category="summary">对于网络网关或路由器，请遵循以下要求和准则。</block>
  <block id="0c98e088a861dc8e19a8fb602e47df4e" category="doc">网络网关要求</block>
  <block id="4d517e0fbf0a98419b10ae637eda1646" category="list-text">如果设置了此值，则给定网络的网关必须位于特定网络的子网内。</block>
  <block id="9717fb98550800d403872501d3a1d5df" category="list-text">如果使用静态寻址配置接口，则必须指定 0.0.0.0 以外的网关地址。</block>
  <block id="d61090bec78f4f98c4d0914cc7dd63e7" category="list-text">如果您没有网关，则最佳做法是将网关地址设置为网络接口的 IP 地址。</block>
  <block id="b3fb044dabb59a84061066cdecbada53" category="summary">完成网格节点部署和配置后，请按照以下准则更改 DHCP 地址和网络配置。</block>
  <block id="36508122ff438cd89c5d44141ef7b21c" category="doc">安装后准则</block>
  <block id="d045f7c13f9db300fc8ec36ec3d3753b" category="list-text">如果使用 DHCP 分配 IP 地址，请为所使用网络上的每个 IP 地址配置 DHCP 预留。</block>
  <block id="8a74c5fe855ae65e7a732837a01f9c42" category="paragraph">您只能在部署阶段设置 DHCP 。您不能在配置期间设置 DHCP 。</block>
  <block id="9f18c69d8a11052cbf844d495a3500a1" category="admonition">当节点的 IP 地址发生更改时，节点会重新启动，如果 DHCP 地址更改同时影响多个节点，则发生原因 可能会中断。</block>
  <block id="9578cffd970cec1182dcb54a4d3f788f" category="inline-xref-macro">配置 IP 地址</block>
  <block id="9801b89b7a1cb37feec02f84fd68c8c5" category="list-text">如果要更改网格节点的 IP 地址，子网掩码和默认网关，必须使用更改 IP 过程。请参见 <block ref="ac1a58a36221f73caf2a601dd8628b55" category="inline-xref-macro-rx"></block>。</block>
  <block id="09e29edb7223c9412d0de9fdb0fa8ce4" category="list-text">如果更改网络配置，包括更改路由和网关，则客户端与主管理节点和其他网格节点的连接可能会断开。根据应用的网络更改，您可能需要重新建立这些连接。</block>
  <block id="cd14c094a9ba870ac65e6b2875460f13" category="summary">请遵循这些网格网络要求和准则。</block>
  <block id="62966b62dbb49566c7d067902abea8aa" category="doc">网格网络要求</block>
  <block id="02f316bf2f136dc51a8cf68c1c42bdb5" category="list-text">在部署时，每个网格节点都必须连接到网格网络，并且必须能够使用部署节点时指定的网络配置与主管理节点进行通信。</block>
  <block id="bd5917bedccac0ae34819a66d4f1bbe7" category="list-text">在正常网格操作期间，每个网格节点都必须能够通过网格网络与所有其他网格节点进行通信。</block>
  <block id="76ff2c82c5b02141dd7bebea6022a7dd" category="admonition">网格网络必须在每个节点之间直接可路由。不支持节点之间的网络地址转换（ Network Address Translation ， NAT ）。</block>
  <block id="70ca24fcf2bcbf54ef7f034cf3a0a156" category="list-text">如果网格网络包含多个子网，请将其添加到网格网络子网列表（ GSLL ）中。在 GNSL 中的每个子网的所有节点上创建静态路由。</block>
  <block id="e9422e9a73e610128050f2fccce56423" category="summary">所有 StorageGRID 部署都必须能够支持以下连接。</block>
  <block id="f3f4e51b0cf0f4b4fe2ad29e5a8ba019" category="doc">一般网络连接要求</block>
  <block id="94a6c5bb3d93df816038b14f5c236f98" category="paragraph">这些连接可以通过网格网络，管理网络或客户端网络进行，也可以通过这些网络的组合进行，如网络拓扑示例所示。</block>
  <block id="dfff1323b4505dbc49b6536ad2dd78d2" category="list-text">* 管理连接 * ：管理员到节点的入站连接，通常通过 SSH 。通过 Web 浏览器访问网格管理器，租户管理器和 StorageGRID 设备安装程序。</block>
  <block id="e26ce636206fa47802a7defe28ca540d" category="list-text">* NTP 服务器连接 * ：接收入站 UDP 响应的出站 UDP 连接。</block>
  <block id="57fa4ea8b8244d02527f43671df358ef" category="paragraph">主管理节点必须至少可访问一个 NTP 服务器。</block>
  <block id="e12c8530ba5c891f64b10bf8ff6aaa83" category="list-text">* DNS 服务器连接 * ：接收入站 UDP 响应的出站 UDP 连接。</block>
  <block id="bad63385e19106194f9f52b9a0c903b5" category="list-text">* LDAP/Active Directory 服务器连接 * ：从存储节点上的身份服务发出的出站 TCP 连接。</block>
  <block id="5da67bd3c04886f9238b9316f21b3c93" category="list-text">* AutoSupport ：从管理节点到 `support.netapp.com` 或客户配置的代理的出站 TCP 连接。</block>
  <block id="b0ef551725d2e7f3bbc3ba10c2e9e933" category="list-text">* 外部密钥管理服务器 * ：启用节点加密的每个设备节点的出站 TCP 连接。</block>
  <block id="fb3d35225bd6948f8bbef835b79ba02f" category="list-text">来自 S3 和 Swift 客户端的入站 TCP 连接。</block>
  <block id="99e52e57360e85a87373c2de05ecd595" category="list-text">来自 StorageGRID 平台服务（例如 CloudMirror 复制）或云存储池的出站请求。</block>
  <block id="65bac77def0176652feef6a6209f3924" category="paragraph">如果 StorageGRID 无法使用默认路由规则与任何已配置的 NTP 或 DNS 服务器建立联系，则只要指定了 DNS 和 NTP 服务器的 IP 地址，它就会自动尝试在所有网络（网格，管理员和客户端）上进行联系。如果可以在任何网络上访问 NTP 或 DNS 服务器， StorageGRID 将自动创建其他路由规则，以确保将来尝试连接到该网络时都使用该网络。</block>
  <block id="963fe965bbd5ba097faafeccefbfd0e8" category="admonition">虽然您可以使用这些自动发现的主机路由，但通常应手动配置 DNS 和 NTP 路由，以确保在自动发现失败时连接。</block>
  <block id="d6b40287ee110a9df71792fa740d1ad0" category="paragraph">如果您尚未准备好在部署期间配置可选的管理和客户端网络，则可以在配置步骤期间批准网格节点时配置这些网络。此外，您还可以使用更改 IP 工具在安装完成后配置这些网络（请参见 <block ref="ac1a58a36221f73caf2a601dd8628b55" category="inline-xref-macro-rx"></block>）。</block>
  <block id="8c5f2012636c1cf6dec81d3ae51caf2f" category="section-title">管理节点和网关节点的连接</block>
  <block id="1530692a24b29a8d776eb4d57f76792f" category="paragraph">管理节点必须始终受到不可信客户端的保护，例如在开放式 Internet 上的客户端。您必须确保任何不可信的客户端都不能访问网格网络，管理网络或客户端网络上的任何管理节点。</block>
  <block id="bb90c06100534e142b5730632849453d" category="inline-xref-macro">管理高可用性组</block>
  <block id="7350d9db6fd6404ff320848013df3e94" category="paragraph">要添加到高可用性组的管理节点和网关节点必须使用静态 IP 地址进行配置。请参见 <block ref="7c042b583b4a8c8b70f06d1bda9eab33" category="inline-xref-macro-rx"></block>。</block>
  <block id="e0e79dd14e3a04cb380e14d22436eff3" category="section-title">使用网络地址转换（ Network Address Translation ， NAT ）</block>
  <block id="a3de4ff7fda939a64a3cce5808420898" category="paragraph">请勿在网格节点之间或 StorageGRID 站点之间的网格网络上使用网络地址转换（ Network Address Translation ， NAT ）。如果您对网格网络使用专用 IPv4 地址，则这些地址必须可从每个站点的每个网格节点直接路由。但是，您可以根据需要在外部客户端和网格节点之间使用 NAT ，例如为网关节点提供公有 IP 地址。只有在使用对网格中的所有节点都透明的通道应用程序时，才支持使用 NAT 桥接公有 网段，这意味着网格节点不需要了解公有 IP 地址。</block>
  <block id="c5a5015224165ffbda047b1b270fef84" category="summary">您必须验证当前的网络基础架构和配置是否可以支持计划的 StorageGRID 网络设计。</block>
  <block id="9251700e586dc1a410f2e755a8643751" category="doc">网络要求</block>
  <block id="71cc95d586244e7a9b5a34aed353fe86" category="paragraph">如果您尚未准备好在部署期间配置可选的管理和客户端网络，则可以在配置步骤期间批准网格节点时配置这些网络。此外，您还可以在安装后使用更改 IP 工具配置这些网络（请参见 <block ref="ac1a58a36221f73caf2a601dd8628b55" category="inline-xref-macro-rx"></block>）。</block>
  <block id="04c11fbfc2ca6bad7bc0a30450feb4af" category="paragraph">VLAN 接口仅支持 S3 和 Swift 客户端连接以及 SSH ， Grid Manager 和租户管理连接。出站连接，例如与 NTP ， DNS ， LDAP ， AutoSupport 和 KMS 服务器的连接， 必须直接通过客户端，管理员或网格网络接口。如果将接口配置为支持 VLAN 接口的中继，则此流量将按交换机上的配置通过接口的原生 VLAN 进行传输。</block>
  <block id="76bcd47baf55dc92bef4a34b2bbe1364" category="section-title">适用于多个站点的广域网（ WAN ）</block>
  <block id="5edd724552a577bcb679b96fca1a66b1" category="paragraph">在为 StorageGRID 系统配置多个站点时，在计算客户端流量之前，站点之间的 WAN 连接的每个方向的最小带宽必须为 25 Mbit/ 秒。站点之间，节点或站点扩展，节点恢复以及其他操作或配置之间的数据复制或纠删编码需要额外的带宽。</block>
  <block id="f268d2ca90d0253ef54fc90933acd81b" category="inline-xref-macro">管理高可用性组</block>
  <block id="0238c46c1552b4404e688b9839f93980" category="paragraph">要添加到高可用性组的管理节点和网关节点必须使用静态 IP 地址进行配置。有关详细信息，请参见 <block ref="deb53d6ec4b9923d520c1ccf0f97a95d" category="inline-xref-macro-rx"></block>。</block>
  <block id="6be6c9f24f59861f991709559df1d55f" category="summary">可以选择使用管理网络。使用管理网络和网格网络的一种方法是，为每个节点配置可路由的网格网络和有限制的管理网络。</block>
  <block id="37964952b211c46445c88b293adcaf6f" category="doc">管理网络拓扑</block>
  <block id="2087163d83c2ce80590ffa0e025ef9dd" category="paragraph">配置管理网络时，您需要为每个网格节点的 eth1 接口建立主机 IP 地址，子网掩码和网关 IP 地址。</block>
  <block id="f7a8be2c64672a9b809d8d453bf633c6" category="paragraph">管理网络对于每个节点都是唯一的，并且可以包含多个子网。可以为每个节点配置一个管理外部子网列表（ Admin External Subnet List ， AESL ）。AESL 列出了每个节点可通过管理网络访问的子网。AESL 还必须包括网格通过管理网络访问的任何服务的子网，例如 NTP ， DNS ， KMS 和 LDAP 。AESL 中的每个子网都应用静态路由。</block>
  <block id="1f62199a8cda6d26620cb7ac972e2f1e" category="paragraph">在此示例中，网格网络用于处理与 S3 和 Swift 客户端请求以及对象管理相关的流量。而管理网络则用于管理功能。</block>
  <block id="2869411460d54460e96d1d151ec242d5" category="image-alt">网格管理网络</block>
  <block id="80b193a425859241aa42bcaf1eb3bf48" category="image-alt">网格管理网络 IP</block>
  <block id="9f6353da86fa1f6ae96f6a022e88709b" category="summary">StorageGRID 内部防火墙仅允许传入网格网络上的特定端口，但端口 22 ， 80 ， 123 和 443 除外 \ （请参见有关外部通信的信息 \ ）。负载平衡器端点定义的端口也接受连接。</block>
  <block id="b1514cdee03f914e9f4e8941f197cae2" category="paragraph">StorageGRID 内部防火墙仅允许传入网格网络上的特定端口，但端口 22 ， 80 ， 123 和 443 除外（请参见有关外部通信的信息）。负载平衡器端点定义的端口也接受连接。</block>
  <block id="f04f60a651d8300b8c2af1635baeed52" category="admonition">NetApp 建议您在网格节点之间启用 Internet 控制消息协议（ Internet Control Message Protocol ， ICMP ）流量。如果无法访问网格节点，则允许 ICMP 流量可以提高故障转移性能。</block>
  <block id="9bc21390021a5ef6871628f6cb9e8f1c" category="inline-xref-macro">高可用性组</block>
  <block id="0d3bc480cebbaf72e4445be59ba9e812" category="paragraph">除了 ICMP 和表中列出的端口之外， StorageGRID 还使用虚拟路由器冗余协议（ VRRP ）。VRRP 是一种使用 IP 协议编号 112 的 Internet 协议。StorageGRID 仅在单播模式下使用 VRRP 。只有在满足条件时才需要 VRRP <block ref="79fe82f7543303e2bd4acc88106a18da" category="inline-xref-macro-rx"></block> 已配置。</block>
  <block id="b1ffc1ee23877a6a74a3904b0ed946dd" category="section-title">基于 Linux 的节点的准则</block>
  <block id="6c7ce4c371fd0e840b00a69966e3af02" category="paragraph">如果企业网络策略限制对其中任何端口的访问，则可以在部署时使用部署配置参数重新映射端口。有关端口重新映射和部署配置参数的详细信息，请参见：</block>
  <block id="ca1aa0e8dff547544650dbe522ee957f" category="section-title">基于 VMware 的节点的准则</block>
  <block id="aa10a3a4ebf816285be72f0f8e65cc38" category="paragraph">只有在需要定义 VMware 网络外部的防火墙限制时，才配置以下端口。</block>
  <block id="af6e13108b264b7421f459e308372e00" category="paragraph">如果企业网络策略限制对其中任何端口的访问，则可以在使用 VMware vSphere Web Client 部署节点时重新映射端口，也可以在自动部署网格节点时使用配置文件设置重新映射端口。有关端口重新映射和部署配置参数的详细信息，请参见<block ref="54851ad18b8892c3a3880e03edd382f7" category="inline-xref-macro-rx"></block>。</block>
  <block id="f7065794b7305c42ea605eac7c825e02" category="section-title">设备节点准则</block>
  <block id="56a9d9b706f26aa9460eecbeb4a45933" category="paragraph">如果企业网络策略限制对其中任何端口的访问，则可以使用 StorageGRID 设备安装程序重新映射端口。有关设备端口重新映射的详细信息，请参见：</block>
  <block id="f7a682e5190f72fc74656c0d9aa3fc71" category="inline-xref-macro">SG6000 存储设备</block>
  <block id="2ae0e9de90707ec918c22fd6081dcddb" category="list-text"><block ref="2ae0e9de90707ec918c22fd6081dcddb" category="inline-xref-macro-rx"></block></block>
  <block id="e779f92ce3680c812c26f8bab62627f1" category="inline-xref-macro">SG5700 存储设备</block>
  <block id="b8d47566601b3a65ce8986403e9fd113" category="list-text"><block ref="b8d47566601b3a65ce8986403e9fd113" category="inline-xref-macro-rx"></block></block>
  <block id="a0dc4d892dcd1ed2e826ae3eb0e9785d" category="inline-xref-macro">SG5600 存储设备</block>
  <block id="28923638959066305de7a4e71744907c" category="list-text"><block ref="28923638959066305de7a4e71744907c" category="inline-xref-macro-rx"></block></block>
  <block id="70c3f988cf9246a2be359ddc5e63ede3" category="section-title">StorageGRID 内部端口</block>
  <block id="66e3a431364f0e6e5a36ceb2c680f844" category="cell">TCP 或 UDP</block>
  <block id="5da618e8e4b89c66fe86e32cdafde142" category="cell">from</block>
  <block id="e12167aa0a7698e6ebc92b4ce3909b53" category="cell">收件人：</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">详细信息</block>
  <block id="b136ef5f6a01d816991fe3cf7a6ac763" category="paragraph">TCP</block>
  <block id="3efc4be7afb7d96d5addeeb756cc4b82" category="paragraph">主管理节点</block>
  <block id="8e904560a3c56737b02e33efac1b72b5" category="paragraph">所有节点</block>
  <block id="a5663c9be12c5e17565893f02984165c" category="paragraph">在维护过程中，主管理节点必须能够通过端口 22 上的 SSH 与所有其他节点进行通信。允许来自其他节点的 SSH 流量是可选的。</block>
  <block id="f033ab37c30201f73f142449d037028d" category="paragraph">80</block>
  <block id="f107640fe4fa1d1df0ddf6d307b7ae9f" category="paragraph">设备</block>
  <block id="77ca5cf05f49773705c05e2489b4e82e" category="paragraph">StorageGRID 设备使用此节点与主管理节点进行通信以启动安装。</block>
  <block id="202cb962ac59075b964b07152d234b70" category="paragraph">123.</block>
  <block id="f5ef036b4d8b630721e51fe23489fbc9" category="paragraph">UDP</block>
  <block id="786ce9e481e044f5bcebea96eee1c128" category="paragraph">网络时间协议服务。每个节点都使用 NTP 与其他节点同步其时间。</block>
  <block id="13f3cf8c531952d72e5847c4183e6910" category="paragraph">443.</block>
  <block id="5e4e7907d2e764955b113cd10dcde382" category="paragraph">用于在安装和其他维护过程中与主管理节点进行状态通信。</block>
  <block id="184260348236f9554fe9375772ff966e" category="paragraph">1139.</block>
  <block id="4725a4744390b735ea1bb4e3fc99b686" category="paragraph">存储节点</block>
  <block id="7707584be3b58830bea1a4038d7ae549" category="paragraph">存储节点之间的内部流量。</block>
  <block id="5cbdfd0dfa22a3fca7266376887f549b" category="paragraph">1501</block>
  <block id="6bb314305b7377a98effd77ad6620861" category="paragraph">具有模块转换器的存储节点</block>
  <block id="15b3bc74bbfe5f77d72f7e732bcda178" category="paragraph">报告，审核和配置内部流量。</block>
  <block id="77f959f119f4fb2321e9ce801e2f5163" category="paragraph">1502</block>
  <block id="0468dbd9ba4c8ae3f5f72282d257a77d" category="paragraph">与 S3 和 Swift 相关的内部流量。</block>
  <block id="49b8b4f95f02e055801da3b4f58e28b7" category="paragraph">1504</block>
  <block id="c73da097ff90e3c5780a28953a4a9bdb" category="paragraph">管理节点</block>
  <block id="57bb9d4ba44664d01ceddc71245e1b20" category="paragraph">NMS 服务报告和配置内部流量。</block>
  <block id="0c9ebb2ded806d7ffda75cd0b95eb70c" category="paragraph">1505.</block>
  <block id="12f6a9866dc8b0ef29ea7a52b182f071" category="paragraph">AMS 服务内部流量。</block>
  <block id="b5488aeff42889188d03c9895255cecc" category="paragraph">1506.</block>
  <block id="389ecf9b0f5203f9a6f2e2cd7362de37" category="paragraph">服务器状态内部流量。</block>
  <block id="4dcf435435894a4d0972046fc566af76" category="paragraph">1507.</block>
  <block id="74d8e50a81c65ae24643807e2c994915" category="paragraph">网关节点</block>
  <block id="3ec47fa2ec233a6da033d97fb3462232" category="paragraph">负载平衡器内部流量。</block>
  <block id="ebd6d2f5d60ff9afaeda1a81fc53e2d0" category="paragraph">1508.</block>
  <block id="35874a59ec3fde35d01d3335d26edc42" category="paragraph">配置管理内部流量。</block>
  <block id="1cd3882394520876dc88d1472aa2a93f" category="paragraph">1509.</block>
  <block id="3d6ea1a022c11a8db9ac63d4efc7cf43" category="paragraph">归档节点</block>
  <block id="115618caa10eef2f9411cbaf6cecd659" category="paragraph">归档节点内部流量。</block>
  <block id="ebb71045453f38676c40deb9864f811d" category="paragraph">1511</block>
  <block id="f22ffd82f4e476325dbe22b3242021ca" category="paragraph">元数据内部流量。</block>
  <block id="aa0d2a804a3510442f2fd40f2100b054" category="paragraph">5353</block>
  <block id="e1e698e9ff1251e74a67687e1a985d2c" category="paragraph">也可用于在安装，扩展和恢复期间进行全网格 IP 更改以及主管理节点发现。</block>
  <block id="5e9d17e41f784ae361ada1d0817186f6" category="paragraph">7001</block>
  <block id="0758f961ea7c2e577229160790a4325b" category="paragraph">Cassandra TLS 节点间集群通信。</block>
  <block id="4afa19649ae378da31a423bcd78a97c8" category="paragraph">7443</block>
  <block id="78b1e5ee44c98aebaeb45cbb779bc5fc" category="paragraph">所有节点</block>
  <block id="c7172caaf36f2844f31648605cf8f62c" category="paragraph">维护过程和错误报告的内部流量。</block>
  <block id="bfe6caa90f31d889bd773c2eabe70679" category="paragraph">9042</block>
  <block id="776695f57b5e1269c3089f9febb8774c" category="paragraph">Cassandra 客户端端口。</block>
  <block id="fa246d0262c3925617b0c72bb20eeb1d" category="paragraph">9999</block>
  <block id="408fb01ef045d3a1609977a150289796" category="paragraph">多个服务的内部流量。包括维护过程，指标和网络更新。</block>
  <block id="edfccb5cf44f7c2c385f8d4470117a0d" category="paragraph">10226</block>
  <block id="7285c39830b827fd84004e6a67205c4e" category="paragraph">由 StorageGRID 设备使用，用于将 AutoSupport 消息从 E 系列 SANtricity 系统管理器转发到主管理节点。</block>
  <block id="3c7f7c2dae5b4e1dd398cffb26391a58" category="paragraph">11139.</block>
  <block id="00bfb6e1dbdede99952a871db178a2b7" category="paragraph">归档 / 存储节点</block>
  <block id="72841de45713671939372e1dd59bca9a" category="paragraph">存储节点和归档节点之间的内部流量。</block>
  <block id="c92b26f68689c7af56b0b08721897732" category="paragraph">18000</block>
  <block id="6023488444856a0dd26043ede1898793" category="paragraph">管理 / 存储节点</block>
  <block id="6d249a34d935ade196cbe437f35f13ee" category="paragraph">帐户服务内部流量。</block>
  <block id="6cbab356d49502660d99ed767604a327" category="paragraph">18001</block>
  <block id="b4536fadfd3ccfa921747c96b8c587f7" category="paragraph">身份联合内部流量。</block>
  <block id="49b8ba8f9e5b7b260a306c25393a4181" category="paragraph">18002</block>
  <block id="380803ca02c3bcad1945384ac2dba69f" category="paragraph">与对象协议相关的内部 API 流量。</block>
  <block id="6563f4cdc1f2ef1ad710ad6772ea022b" category="paragraph">18003</block>
  <block id="1b0c7b83a6788d4cde6e8032a6128ff1" category="paragraph">平台为内部流量提供服务。</block>
  <block id="a561e7ebcac8441387d4fe143fdef87f" category="paragraph">18017</block>
  <block id="d6e1524c4c10e483d44f0a06f4108de2" category="paragraph">数据移动服务为云存储池提供内部流量。</block>
  <block id="2be1f64cae97e3767efd3c0bef7b0779" category="paragraph">18019</block>
  <block id="82500251962f79307270a5dd450d8b52" category="paragraph">用于纠删编码的区块服务内部流量。</block>
  <block id="ad5db5924e3e97ed8a387a499efa9fa0" category="paragraph">18082</block>
  <block id="e4f94bcb81892395a5a06c9cb8f820e4" category="paragraph">与 S3 相关的内部流量。</block>
  <block id="78b8d6620afcd434a4b7fb41b22e595b" category="paragraph">18083.</block>
  <block id="ba573e66923fcb7cdd3a07254634141d" category="paragraph">与 Swift 相关的内部流量。</block>
  <block id="33ec1f50197cc4f74b3e8dc359ec3280" category="paragraph">18200 年</block>
  <block id="b46a066bb412c1f6ec91676ef56e766b" category="paragraph">有关客户端请求的其他统计信息。</block>
  <block id="e9cf01c03f0979eb59cc770a5b87a542" category="paragraph">19000</block>
  <block id="09d2d11430ba6cfb59f00dd586dbb50b" category="paragraph">Keystone 服务内部流量。</block>
  <block id="d33f2a600ba4fe43084a26e95e4908c0" category="paragraph">* 相关信息 *</block>
  <block id="b47fbf8659e8d6d012e35985b274d938" category="paragraph"><block ref="b47fbf8659e8d6d012e35985b274d938" category="inline-xref-macro-rx"></block></block>
  <block id="5431b0ce0f6df7af20f57873f0b48bfb" category="summary">为了提高效率，可靠性和安全性， StorageGRID 系统在 Linux 上作为一组容器引擎运行。StorageGRID 系统不需要与容器引擎相关的网络配置。</block>
  <block id="b4572d056e120d21cb95d0b4f12cd537" category="doc">Linux 部署</block>
  <block id="a456f4581d9d307eb3af38c1f2f494f1" category="paragraph">使用非绑定设备作为容器网络接口，例如 VLAN 或虚拟以太网（ Veth ）对。在节点配置文件中指定此设备作为网络接口。</block>
  <block id="f12f54168c3e7e4718ef1df22b486687" category="admonition">请勿直接使用绑定或网桥设备作为容器网络接口。这样做可能会由于内核问题描述 在容器命名空间中对绑定和网桥设备使用 macvlan 而阻止节点启动。</block>
  <block id="30a7f557bef8af04d323e0602903106f" category="inline-xref-macro">Red Hat Enterprise Linux 或 CentOS</block>
  <block id="d92ef14a1b7d97c5f6786fa35bf16d13" category="inline-xref-macro">Ubuntu 或 Debian</block>
  <block id="ddcb6a58d5774018091c6ef18b84d7e4" category="paragraph">请参见的安装说明 <block ref="833ad202da239676f837efe847a94942" category="inline-xref-macro-rx"></block> 或 <block ref="1cd7fd0c643f98b4fc316b1baae8d2d0" category="inline-xref-macro-rx"></block> 部署。</block>
  <block id="8e3f1a0c3be427b2be182e678e982a78" category="section-title">用于容器引擎部署的主机网络配置</block>
  <block id="4b768b1d6ffc92ca70b113a3542ec231" category="paragraph">在容器引擎平台上开始 StorageGRID 部署之前，请确定每个节点要使用的网络（网格，管理，客户端）。您必须确保在正确的虚拟或物理主机接口上配置每个节点的网络接口，并且每个网络都有足够的带宽。</block>
  <block id="fb04a8a878080ea8c029ce81da959c55" category="section-title">物理主机</block>
  <block id="73c9bb5d57a3322dec4673a982e959a8" category="paragraph">如果使用物理主机支持网格节点：</block>
  <block id="63d5da7784276f1b41dd4cc1aabb8b43" category="list-text">确保所有主机对每个节点接口使用相同的主机接口。此策略可简化主机配置，并支持将来的节点迁移。</block>
  <block id="be07d708d711c2c7a77eb376e04845c1" category="list-text">获取物理主机本身的 IP 地址。</block>
  <block id="69ca37e61f1601e89890b520e7dc7595" category="admonition">主机本身以及主机上运行的一个或多个节点均可使用主机上的物理接口。分配给使用此接口的主机或节点的任何 IP 地址都必须是唯一的。主机和节点不能共享 IP 地址。</block>
  <block id="5a36f59902ded1f1acabb794a7bf7e91" category="list-text">打开主机所需的端口。</block>
  <block id="4abafbc3b9bc5f196760255510915180" category="list-text">如果要在 StorageGRID 中使用 VLAN 接口，则主机必须具有一个或多个中继接口，以提供对所需 VLAN 的访问。这些接口可以作为 eth0 ， eth2 或其他接口传递到节点容器中。要添加中继或访问接口，请参见以下内容：</block>
  <block id="c041a36ac44d9aeb206ed4f354fac66b" category="inline-xref-macro">创建节点配置文件</block>
  <block id="1ece8e3d34a3d5b9368bd23c7cb17d78" category="list-text">* RHEL 或 CentOS （安装节点之前） * ： <block ref="94029dd11f591f72b6dbed1d7cf2d7ca" category="inline-xref-macro-rx"></block></block>
  <block id="aa7064d74770b6e0db247d176c1a0e6a" category="list-text">* Ubuntu 或 Debian （安装节点之前） * ： <block ref="0001b5296de81489eaf386d61b5a7ca1" category="inline-xref-macro-rx"></block></block>
  <block id="6b64cb9d108312339f07a590580a3788" category="inline-xref-macro">Linux ：向节点添加中继或访问接口</block>
  <block id="436e7df11bd183663cbcaaaa44b0c300" category="list-text">* RHEL ， CentOS ， Ubuntu 或 Debian （安装节点后） * ： <block ref="12b84b2c9c642f51e5c987c0116001b7" category="inline-xref-macro-rx"></block></block>
  <block id="4ef66398cb42345ba127e7cf98ebbd16" category="section-title">最小带宽建议</block>
  <block id="0531c74af7288f0ad9c3a7b5edde915d" category="paragraph">下表提供了每种类型的 StorageGRID 节点和每种网络的最小带宽建议。您必须为每个物理或虚拟主机配置足够的网络带宽，以满足计划在该主机上运行的 StorageGRID 节点总数和类型的聚合最小带宽要求。</block>
  <block id="84d574e626c9caf84d8e3949bd7a2dac" category="cell">节点类型</block>
  <block id="49a2f4a664c6051d6e27dc8a1e984eb7" category="cell">网络类型</block>
  <block id="5174d1309f275ba6f275db3af9eb3e18" category="paragraph">网格</block>
  <block id="e3afed0047b08059d0fada10f400c1e5" category="paragraph">管理员</block>
  <block id="577d7068826de925ea2aec01dbadf5e4" category="paragraph">客户端</block>
  <block id="46f07517d2f7944106b7cc0b8822bda5" category="paragraph">10 Gbps</block>
  <block id="a1b13808af9b6b2c1144427f901d159f" category="paragraph">1 Gbps</block>
  <block id="926dec9494209cb088b4962509df1a91" category="paragraph">网关</block>
  <block id="8c4aa541ee911e8d80451ef8cc304806" category="paragraph">存储</block>
  <block id="e727b00944f81e1d0a95c12886ac4641" category="paragraph">归档</block>
  <block id="43058e55652ea7b85985ad4eea19b6e3" category="admonition">此表不包括访问共享存储所需的 SAN 带宽。如果您使用的是通过以太网（ iSCSI 或 FCoE ）访问的共享存储，则应在每个主机上配置单独的物理接口，以提供足够的 SAN 带宽。为了避免出现瓶颈，给定主机的 SAN 带宽应大致与该主机上运行的所有存储节点的聚合存储节点网络带宽匹配。</block>
  <block id="3552984b3d8385173238318f03dc9fef" category="paragraph">使用下表根据计划在每个主机上运行的 StorageGRID 节点的数量和类型确定要在该主机上配置的最小网络接口数。</block>
  <block id="4b62b26d6e243a339d290fcaad767573" category="paragraph">例如，要在单个主机上运行一个管理节点，一个网关节点和一个存储节点，请执行以下操作：</block>
  <block id="ed91193ed86ea75a66d898a945143e17" category="list-text">连接管理节点上的网格和管理网络（需要 10 + 1 = 11 Gbps ）</block>
  <block id="bce255a3ad6c4af3b82404f52051b121" category="list-text">连接网关节点上的网格和客户端网络（需要 10 + 10 = 20 Gbps ）</block>
  <block id="d531ae98f24adf27f827887c47ebfd0f" category="list-text">在存储节点上连接网格网络（需要 10 Gbps ）</block>
  <block id="7f4f3b0c4fc51d01615f14d348e39947" category="paragraph">在这种情况下，您应至少提供 11 + 20 + 10 = 41 Gbps 的网络带宽， 可通过两个 40 Gbps 接口或五个 10 Gbps 接口来满足，这些接口可能聚合为中继，然后由三个或更多 VLAN 共享，这些 VLAN 承载主机所在物理数据中心的本地网格，管理和客户端子网。</block>
  <block id="5487e78a73bc08035206da4606766048" category="paragraph">有关在 StorageGRID 集群中的主机上配置物理和网络资源以准备 StorageGRID 部署的一些建议方法，请参见以下内容：</block>
  <block id="944d36d0995890646e266b473b7951df" category="inline-xref-macro">配置主机网络（ Red Hat Enterprise Linux 或 CentOS ）</block>
  <block id="d96b9311425bad589f8a9dae2c61bb27" category="list-text"><block ref="d96b9311425bad589f8a9dae2c61bb27" category="inline-xref-macro-rx"></block></block>
  <block id="31afc5505863996363b7a15d0fc87169" category="inline-xref-macro">配置主机网络（ Ubuntu 或 Debian ）</block>
  <block id="10a3890bb2b89b39531bb1202f366322" category="list-text"><block ref="10a3890bb2b89b39531bb1202f366322" category="inline-xref-macro-rx"></block></block>
  <block id="fb17d69e857b39e2a6f166f320c106f9" category="summary">您必须了解在节点部署和网格配置期间如何使用网格网络以及可选的管理和客户端网络。</block>
  <block id="d58c910b814a0834bf500b6494ce79a6" category="doc">网络安装和配置</block>
  <block id="18e7c1832205f95665c1293fa44dfa56" category="section-title">节点的初始部署</block>
  <block id="23e1f7bb64bbce00f74d579047643646" category="paragraph">首次部署节点时，必须将节点连接到网格网络，并确保其能够访问主管理节点。如果网格网络已隔离，则可以在主管理节点上配置管理网络，以便从网格网络外部进行配置和安装访问。</block>
  <block id="db28b238d87b085b05e3c5299387a21a" category="paragraph">配置了网关的网格网络将在部署期间成为节点的默认网关。默认网关允许不同子网上的网格节点在配置网格之前与主管理节点进行通信。</block>
  <block id="c8bf60d3962a3c710e8b5899f713865b" category="paragraph">如有必要，还可以将包含 NTP 服务器或需要访问网格管理器或 API 的子网配置为网格子网。</block>
  <block id="efba7eb7faf5358ee71bd4b975ba38e6" category="section-title">自动向主管理节点注册节点</block>
  <block id="60ba09608c0b1c85598df364b6f56b3b" category="paragraph">部署节点后，它们会使用网格网络向主管理节点注册自己。然后，您可以使用网格管理器， `configure-storaggrid.py` Python 脚本或安装 API 来配置网格并批准注册的节点。在网格配置期间，您可以配置多个网格子网。完成网格配置后，系统将在每个节点上创建通过网格网络网关到这些子网的静态路由。</block>
  <block id="7f47859df8cd3723b9ace72f39302c57" category="section-title">禁用管理网络或客户端网络</block>
  <block id="f84a3af5d4b614c524049c92b886aafd" category="paragraph">如果要禁用管理网络或客户端网络，您可以在节点批准过程中从其中删除配置，也可以在安装完成后使用更改 IP 工具（请参见 <block ref="ac1a58a36221f73caf2a601dd8628b55" category="inline-xref-macro-rx"></block>）。</block>
  <block id="f41e0ff8da06dbeb9d074ac48a4639d9" category="summary">StorageGRID 系统中的网格节点处理网格流量，管理流量和客户端流量。您必须正确配置网络，以管理这三种类型的流量并提供控制和安全性。</block>
  <block id="aeefff382472953c95a40e851dbe0e88" category="doc">StorageGRID 网络类型</block>
  <block id="9438096900c2837405f73b9f8edf547b" category="paragraph">StorageGRID 系统中的网格节点处理 _grid traffic ， _admin traffic _ 和 _client traffic 。您必须正确配置网络，以管理这三种类型的流量并提供控制和安全性。</block>
  <block id="8a9d894eced1fdf569503895ee82be40" category="section-title">流量类型</block>
  <block id="89652e228f31afd994aaf865c5a3cf43" category="cell">流量类型</block>
  <block id="9838905baaf2e32f8e165f39f6247557" category="cell">网络类型</block>
  <block id="293c8018857dd2fa405cf410ed161503" category="paragraph">网格流量</block>
  <block id="f966f648d21b5d375189bff16a617578" category="paragraph">网格中所有节点之间传输的内部 StorageGRID 流量。所有网格节点都必须能够通过此网络与所有其他网格节点进行通信。</block>
  <block id="020c02f0811357d8909421e23e880530" category="paragraph">网格网络（必需）</block>
  <block id="9c7f0e9dee512114b779fa4aaa1a37d7" category="paragraph">管理流量</block>
  <block id="6b81f10a63b927c662feae8fda7bb884" category="paragraph">用于系统管理和维护的流量。</block>
  <block id="5eeb9ef6f0271d44b5b4fa22709b4d3b" category="inline-xref">VLAN 网络（可选）</block>
  <block id="f266e2bef11b86788f271b0d6215f78b" category="paragraph">管理网络（可选）， <block ref="14b26d6cd8cccb6e6f7b1ae01b929dab" category="inline-xref-macro-rx"></block></block>
  <block id="380058341ed943891906f5412d4deb08" category="paragraph">客户端流量</block>
  <block id="a4c59dc32d3ac94df15935e64efa8035" category="paragraph">在外部客户端应用程序和网格之间传输的流量，包括来自 S3 和 Swift 客户端的所有对象存储请求。</block>
  <block id="42373170c7745e38bfc905d9f71fa344" category="paragraph">客户端网络（可选）， <block ref="14b26d6cd8cccb6e6f7b1ae01b929dab" category="inline-xref-macro-rx"></block></block>
  <block id="450ead099861555967362ad65f5e2128" category="paragraph">您可以通过以下方式配置网络：</block>
  <block id="ae42b2da8d3e87af51f2201f7bc7ab08" category="list-text">仅限网格网络</block>
  <block id="3a5108c6bf8dbd3f061bc0b4e3952f71" category="list-text">网格和管理网络</block>
  <block id="97135f969a7ed12e016207675a49f930" category="list-text">网格和客户端网络</block>
  <block id="b7dad6b1411e51a989b09bd7347092a4" category="list-text">网格网络，管理网络和客户端网络</block>
  <block id="992bd30e3766353d750c0b4ad371e22a" category="paragraph">网格网络是必需的，可以管理所有网格流量。管理员和客户端网络可以在安装时包括在内，也可以稍后添加，以适应需求的变化。尽管管理网络和客户端网络是可选的，但在使用这些网络处理管理和客户端流量时，网格网络可以实现隔离和安全。</block>
  <block id="7733bf5a5d8f546c6a4a55c00168d840" category="inline-xref-macro">内部网格节点通信</block>
  <block id="399c4f53685ead3e386f76db4887a566" category="inline-xref-macro">外部通信</block>
  <block id="2011bdd75b2db5c6f93615a8467b237a" category="paragraph">内部端口只能通过网格网络访问。可以从所有网络类型访问外部端口。这种灵活性为设计 StorageGRID 部署以及在交换机和防火墙中设置外部 IP 和端口筛选提供了多种选项。请参见 <block ref="e958369ce8f6c07b84572612caab73bd" category="inline-xref-macro-rx"></block> 和 <block ref="cfdcfff25d722095cc80f2353d579320" category="inline-xref-macro-rx"></block>。</block>
  <block id="d9cc6b84b66475f5674f1dbdb05947a9" category="section-title">网络接口</block>
  <block id="25dbc9e2730b7b0a4d6ae785021f3034" category="paragraph">StorageGRID 节点使用以下特定接口连接到每个网络：</block>
  <block id="eec89088ee408b80387155272b113256" category="cell">网络</block>
  <block id="5fac32c2eeca61586c7080415ce9c0e2" category="cell">接口名称</block>
  <block id="a1a5b3d22e82bbd6f878d26feacc2c7d" category="paragraph">eth0</block>
  <block id="fc42efaf966aceaef365ad3022455f06" category="paragraph">管理网络（可选）</block>
  <block id="6f1799c861ef34376e02156b71030428" category="paragraph">Eth1</block>
  <block id="e120845fb33c7afa08fb9ad8458ac6ce" category="paragraph">Eth2</block>
  <block id="e23f487a7bdf96d675b950a3a753a755" category="paragraph">有关将虚拟或物理端口映射到节点网络接口的详细信息，请参见安装说明：</block>
  <block id="727e3d652829f6294919119de3331e6c" category="list-title">基于软件的节点</block>
  <block id="cec0c4fde5ff431e229d16eb30b9fbfc" category="list-title">设备节点</block>
  <block id="342e7705056710d4f4dc4d1376b2796e" category="section-title">每个节点的网络信息</block>
  <block id="0d39c5dc35237737c507f42b7cdcd381" category="paragraph">您必须为节点上启用的每个网络配置以下内容：</block>
  <block id="75ba8d70e3692ba200f0e0df37b4d2ae" category="list-text">IP 地址</block>
  <block id="3dccf72fe610d6922e392e93335fdb6d" category="list-text">子网掩码</block>
  <block id="c2eec1849e83099bbab1cd0ae936bbf5" category="list-text">网关 IP 地址</block>
  <block id="3efe52dc09ca54da06b7493c852cd877" category="paragraph">您只能为每个网格节点上的三个网络中的每个网络配置一个 IP 地址 / 掩码 / 网关组合。如果不想为网络配置网关，应使用 IP 地址作为网关地址。</block>
  <block id="b0d152ad484756fb2e15ae6d4bb80308" category="section-title">高可用性组</block>
  <block id="23a4257dd6b7fbe57234509b20cfa18e" category="paragraph">通过高可用性（ High Availability ， HA ）组，可以向网格或客户端网络接口添加虚拟 IP （ VIP ）地址。有关详细信息，请参见 <block ref="deb53d6ec4b9923d520c1ccf0f97a95d" category="inline-xref-macro-rx"></block>。</block>
  <block id="49ead3d099b67dcc879ba810c64cf506" category="paragraph">网格网络为必填项。它用于所有内部 StorageGRID 流量。网格网络可在网格中的所有节点之间以及所有站点和子网之间建立连接。网格网络上的所有节点必须能够与所有其他节点进行通信。网格网络可以包含多个子网。包含 NTP 等关键网格服务的网络也可以添加为网格子网。</block>
  <block id="3ab10b38dd4c63985cfafdddf02a1f10" category="admonition">StorageGRID 不支持节点之间的网络地址转换（ Network Address Translation ， NAT ）。</block>
  <block id="c0f6653d11ea70525a6112e42adbe81f" category="paragraph">网格网络可用于所有管理流量和所有客户端流量，即使已配置管理网络和客户端网络也是如此。除非节点配置了客户端网络，否则网格网络网关是节点的默认网关。</block>
  <block id="89356cc00a37d92dd45c11d1f767b47b" category="admonition">在配置网格网络时，您必须确保网络不受不可信客户端的保护，例如在开放式 Internet 上的客户端。</block>
  <block id="18ef62ef16cb21bfba4b4d9d19659d50" category="paragraph">请注意网格网络网关的以下要求和详细信息：</block>
  <block id="63024b484b71139d3f980167fb2451c1" category="list-text">如果存在多个网格子网，则必须配置网格网络网关。</block>
  <block id="0553aef87133971287d53eed5990c7f0" category="list-text">网格网络网关是节点默认网关，直到网格配置完成为止。</block>
  <block id="09f9637fa4653838b2c0350f1b48459e" category="list-text">系统会自动为所有节点生成静态路由，并发送到全局网格网络子网列表中配置的所有子网。</block>
  <block id="d37987db5e432e80eb9ae0eed9088565" category="list-text">如果添加了客户端网络，则在网格配置完成后，默认网关将从网格网络网关切换到客户端网络网关。</block>
  <block id="167932b6c8b8653bf6efc0b5466eca68" category="section-title">管理网络</block>
  <block id="2977b333dab87051beb407f16bac6853" category="paragraph">管理网络是可选的。配置后，它可用于系统管理和维护流量。管理网络通常是一个专用网络，不需要在节点之间进行路由。</block>
  <block id="acc9122d2944bf7ca00a8710b14925ca" category="paragraph">您可以选择应在哪些网格节点上启用管理网络。</block>
  <block id="005873382a28f84e23671871610bf872" category="paragraph">使用管理网络时，管理和维护流量无需通过网格网络传输。管理网络的典型用途包括：</block>
  <block id="74ed7ae464f2a56604a629dbb0dbecfd" category="list-text">访问 Grid Manager 和租户管理器用户界面。</block>
  <block id="e95adbb9cdf85f15019e50ce43f0d174" category="list-text">访问关键服务，例如 NTP 服务器， DNS 服务器，外部密钥管理服务器（ KMS ）和轻型目录访问协议（ LDAP ）服务器。</block>
  <block id="f370f60b439fd3d4226a0b66f427a3f7" category="list-text">访问管理节点上的审核日志。</block>
  <block id="60c2354147a0b708e0035d3b6439f7c8" category="list-text">安全 Shell 协议（ SSH ）访问以进行维护和支持。</block>
  <block id="09f11163201d06168b98af3587873671" category="paragraph">管理网络决不用于内部网格流量。提供了一个管理网络网关，允许管理网络与多个外部子网进行通信。但是，管理网络网关绝不会用作节点默认网关。</block>
  <block id="b67a9b6280f0625731f32a8af5746ff5" category="paragraph">请注意管理网络网关的以下要求和详细信息：</block>
  <block id="e81f0d472e575390946ba654afbd995d" category="list-text">如果要从管理网络子网外部进行连接或配置了多个管理网络子网，则需要使用管理网络网关。</block>
  <block id="9d8d982089830dbf5a5cdb50a6ee87e3" category="list-text">系统会为节点的管理网络子网列表中配置的每个子网创建静态路由。</block>
  <block id="112e9b7e594ba70923f1993e29a99c9c" category="section-title">客户端网络</block>
  <block id="db55a5c3e3cce83896a98f4ee91fd269" category="paragraph">客户端网络是可选的。配置后，它可用于为 S3 和 Swift 等客户端应用程序提供对网格服务的访问。如果您计划使外部资源（例如云存储池或 StorageGRID CloudMirror 复制服务）可以访问 StorageGRID 数据，则外部资源也可以使用客户端网络。网格节点可以与可通过客户端网络网关访问的任何子网进行通信。</block>
  <block id="70d3232b3b357ad3c4806b6cf5e7d92d" category="paragraph">您可以选择应在哪些网格节点上启用客户端网络。所有节点不必位于同一客户端网络上，并且节点永远不会通过客户端网络彼此通信。网格安装完成后，客户端网络才会运行。</block>
  <block id="9f217565ef3f00a9b3509c517c02244f" category="inline-xref-macro">管理不可信的客户端网络</block>
  <block id="9cf41529c4cc576a7f36ece7de59f4cb" category="inline-xref-macro">配置负载平衡器端点</block>
  <block id="78ac8859c7152a776e353aefc4520374" category="paragraph">为了提高安全性，您可以指定节点的客户端网络接口不可信，以便客户端网络在允许的连接方面更具限制性。如果节点的客户端网络接口不可信，则该接口会接受出站连接，例如 CloudMirror 复制使用的连接，但仅接受已明确配置为负载平衡器端点的端口上的入站连接。请参见 <block ref="6647f34c7cf02699d3486fd94b7c47be" category="inline-xref-macro-rx"></block> 和 <block ref="ab412983dcdc2d64f5eb319fec073b1f" category="inline-xref-macro-rx"></block>。</block>
  <block id="e1105eb6b851e4017b4a1fb59149dcba" category="paragraph">使用客户端网络时，客户端流量不需要通过网格网络传输。网格网络流量可以分隔到安全的不可路由网络上。以下节点类型通常配置有客户端网络：</block>
  <block id="1b24ae705d6dd07e0e686ff3e9418a93" category="list-text">网关节点，因为这些节点可提供对 StorageGRID 负载平衡器服务的访问以及 S3 和 Swift 客户端对网格的访问。</block>
  <block id="84ee56a0fb37a559542724c8ab69abd9" category="list-text">存储节点，因为这些节点提供对 S3 和 Swift 协议以及云存储池和 CloudMirror 复制服务的访问。</block>
  <block id="fc31fe5601f64d840e94d395843a9857" category="list-text">管理节点，以确保租户用户无需使用管理网络即可连接到租户管理器。</block>
  <block id="99569b567cd636f79feb2b344e9faf35" category="paragraph">对于客户端网络网关，请注意以下事项：</block>
  <block id="3ce5e9f4f6227a02e2e3d909894b5976" category="list-text">如果配置了客户端网络，则需要客户端网络网关。</block>
  <block id="9c74425a405d7058a99f683594fa2fdc" category="list-text">网格配置完成后，客户端网络网关将成为网格节点的默认路由。</block>
  <block id="e8f5e654564d8899af5c57a71f561df0" category="section-title">可选 VLAN 网络</block>
  <block id="84f65f2df8eb45ee6789f5c8ed6d0410" category="paragraph">根据需要，您可以选择使用虚拟 LAN （ VLAN ）网络来处理客户端流量和某些类型的管理流量。但是，网格流量不能使用 VLAN 接口。节点之间的内部 StorageGRID 流量必须始终使用 eth0 上的网格网络。</block>
  <block id="e82d9a681d68436e22fe14d35bbcf50b" category="paragraph">要支持使用 VLAN ，您必须将节点上的一个或多个接口配置为交换机上的中继接口。您可以将网格网络接口（ eth0 ）或客户端网络接口（ eth2 ）配置为中继，也可以为节点添加其他中继接口。</block>
  <block id="e941d19883942a4881baf5ac97e5c38d" category="paragraph">如果将 eth0 配置为中继，网格网络流量将按交换机上的配置流经中继原生 接口。同样，如果 eth2 配置为中继，并且客户端网络也配置在同一节点上，则客户端网络将使用交换机上配置的中继端口的原生 VLAN 。</block>
  <block id="9c183b9034c8a553f91b6c5e9db5a46f" category="paragraph">VLAN 网络仅支持入站管理流量，例如用于 SSH ， Grid Manager 或租户管理器流量。VLAN 网络不支持出站流量，例如用于 NTP ， DNS ， LDAP ， KMS 和云存储池的流量。</block>
  <block id="e0c739fd0a4711c0dfa5ec73c23ce545" category="admonition">只能将 VLAN 接口添加到管理节点和网关节点。您不能使用 VLAN 接口对存储节点或归档节点进行客户端或管理员访问。</block>
  <block id="c70f458577082c31cf532b41f0d8dc30" category="inline-xref-macro">配置 VLAN 接口</block>
  <block id="bb4aface45f6f3dd4d55854312b40bf3" category="paragraph">请参见 <block ref="4469d71444e4376d8f53ea1c79727026" category="inline-xref-macro-rx"></block> 有关说明和准则，请参见。</block>
  <block id="e8090530088aaad51bd321ff85e5cc42" category="paragraph">VLAN 接口仅用于 HA 组，并在活动节点上分配 VIP 地址。请参见 <block ref="deb53d6ec4b9923d520c1ccf0f97a95d" category="inline-xref-macro-rx"></block> 有关说明和准则，请参见。</block>
  <block id="30f60d67f457bb040dffde52197a54da" category="list-title">相关信息</block>
  <block id="9b2e9a29f78a9fa488ddba9718bf074b" category="list-text"><block ref="9b2e9a29f78a9fa488ddba9718bf074b" category="inline-xref-macro-rx"></block></block>
  <block id="4d17a326a964d03ab1d4883e0135d977" category="summary">请遵循以下网络子网要求和准则。</block>
  <block id="269fb2a67b4c9e0be80da55644e52519" category="doc">子网要求</block>
  <block id="025733bcb41fe88104c24f3e06377735" category="admonition">每个网络都必须连接到其自身的子网，而该子网不会与节点上的任何其他网络重叠。</block>
  <block id="2beffbbafa735f665cad36874aee9240" category="paragraph">网格管理器会在部署期间强制实施以下限制。此处提供这些配置文件，用于协助进行部署前网络规划。</block>
  <block id="2f0de9ad563a17d0e8bd4c66d6637875" category="list-text">任何网络 IP 地址的子网掩码不能为 255.255.255.254 或 255.255.255.255 （ CIDR 表示法为 /31 或 /32 ）。</block>
  <block id="d7b3683585818f8bcd4dafd81f3fb696" category="list-text">网络接口 IP 地址和子网掩码（ CIDR ）定义的子网不能与同一节点上配置的任何其他接口的子网重叠。</block>
  <block id="1b1e3883242cb72f05ee02243d2b96fb" category="list-text">每个节点的网格网络子网必须包含在 GNSL 中。</block>
  <block id="0c52583b522f16ac393867d9bd9800f2" category="list-text">管理网络子网不能与网格网络子网，客户端网络子网或 GNSL 中的任何子网重叠。</block>
  <block id="4fd1afdd314f9251f212eef37bbff284" category="list-text">AESL 中的子网不能与 GNSL 中的任何子网重叠。</block>
  <block id="60be92db7d32d157f00281e4336cb649" category="list-text">客户端网络子网不能与网格网络子网，管理网络子网， GNSL 中的任何子网或 AESL 中的任何子网重叠。</block>
  <block id="45194548d1fdb3874ff0a1bc3f25c17f" category="summary">最简单的网络拓扑只能通过配置网格网络来创建。</block>
  <block id="9685799fb199b53cbc6fd75b37041cec" category="doc">网格网络拓扑</block>
  <block id="6b1bf803e747ddc811507f9e33ecda95" category="paragraph">配置网格网络时，您需要为每个网格节点的 eth0 接口建立主机 IP 地址，子网掩码和网关 IP 地址。</block>
  <block id="b0fcc027226058c309f343d239fe6183" category="paragraph">在配置期间，必须将所有网格网络子网添加到网格网络子网列表（ GSLL ）中。此列表包括所有站点的所有子网，并且可能还包括外部子网，这些子网可提供对 NTP ， DNS 或 LDAP 等关键服务的访问权限。</block>
  <block id="6ea29572fc318bb18706bd18413b3be2" category="paragraph">在安装时，网格网络接口会对 GNSL 中的所有子网应用静态路由，如果配置了网格网络网关，则会将节点的默认路由设置为网格网络网关。如果没有客户端网络，并且网格网络网关是节点的默认路由，则不需要使用 GNSL 。此外，还会生成到网格中所有其他节点的主机路由。</block>
  <block id="9e6fc27187c80f48f408a1b4f1804a3e" category="paragraph">在此示例中，所有流量共享同一网络，包括与 S3 和 Swift 客户端请求以及管理和维护功能相关的流量。</block>
  <block id="d5a03ce1db75e76fd61f7e4ffdc28e0f" category="admonition">此拓扑适用于外部不可用的单站点部署，概念验证或测试部署，或者当第三方负载平衡器充当客户端访问边界时。如果可能，网格网络应专门用于内部流量。管理网络和客户端网络都具有其他防火墙限制，可阻止外部向内部服务发送流量。支持对外部客户端流量使用网格网络，但这种使用可提供更少的保护层。</block>
  <block id="d38fe5498695fa5b1caa5fdaa9413eaf" category="image-alt">网格网络 IP</block>
  <block id="f3eb72227efdf971169a6f83ab1501d8" category="summary">管理网络是可选的。如果您计划配置管理网络，请遵循以下要求和准则。</block>
  <block id="e02f6d888bac4278d616ad9978011524" category="doc">管理网络要求</block>
  <block id="111de97d3cd492aefc53bfba6aa01c44" category="paragraph">管理网络的典型用途包括管理连接， AutoSupport ， KMS 以及与 NTP ， DNS 和 LDAP 等关键服务器的连接（如果这些连接不是通过网格网络或客户端网络提供的）。</block>
  <block id="ae5d714811048f806b7ebbf58e575d18" category="admonition">只要所需的网络服务和客户端可访问，管理网络和 AESL 就可以对每个节点唯一。</block>
  <block id="d9a3b85f6bdf587ce3efd7741feef12d" category="admonition">要从外部子网启用入站连接，必须在管理网络上至少定义一个子网。AESL 中的每个子网都会在每个节点上自动生成静态路由。</block>
  <block id="fb81bbfd2ebf2708a6b4ed885321069b" category="summary">客户端网络是可选的。如果您计划配置客户端网络，请注意以下事项。</block>
  <block id="69c6e00c8ec46d07bb48fcaac32a0939" category="doc">客户端网络要求</block>
  <block id="009326e5d081236907a3ba3549fe824d" category="paragraph">客户端网络用于支持来自 S3 和 Swift 客户端的流量。如果已配置，客户端网络网关将成为节点的默认网关。</block>
  <block id="54806a37712810849e8049ae4825232f" category="paragraph">如果您使用客户端网络，则可以通过仅接受显式配置的负载平衡器端点上的入站客户端流量来帮助保护 StorageGRID 免受恶意攻击。请参见 <block ref="c7fcdcd40e6c0eac37851071027a58d1" category="inline-xref-macro-rx"></block> 和 <block ref="ab412983dcdc2d64f5eb319fec073b1f" category="inline-xref-macro-rx"></block>。</block>
  <block id="4c3e385ae11f176a3b58e9be29822ebd" category="summary">使用以下准则了解 StorageGRID 架构和网络拓扑，并了解网络配置和配置的要求。</block>
  <block id="0822b8a4a8d63e2b47f2b2fce5d2f1d2" category="doc">网络连接准则：概述</block>
  <block id="0eb7986c87b6853bd0db330cbf27b26c" category="section-title">关于这些说明</block>
  <block id="7437b4ef6d701a5c0c4010ae955e9447" category="paragraph">这些准则提供了在部署和配置 StorageGRID 节点之前可用于创建 StorageGRID 网络基础架构的信息。使用这些准则有助于确保网格中的所有节点之间以及网格与外部客户端和服务之间可以进行通信。</block>
  <block id="40e62716f2781149792b22ce2bc03a99" category="paragraph">外部客户端和外部服务需要连接到 StorageGRID 网络才能执行如下功能：</block>
  <block id="3a979e0b028b8f42154e8b9418873a4e" category="list-text">存储和检索对象数据</block>
  <block id="3d164d43179711bcbe6a5a9ccb9bbadf" category="list-text">接收电子邮件通知</block>
  <block id="f9295531c3b80b46d9542ade9020422e" category="list-text">访问 StorageGRID 管理界面（网格管理器和租户管理器）</block>
  <block id="f896f2e902d9f0dc8348b2794805c176" category="list-text">访问审核共享（可选）</block>
  <block id="9bd3a7372afd5989f461273ac67e66d2" category="list-text">提供以下服务：</block>
  <block id="3b4239c631a0569b290e2631c4bf513c" category="list-text">网络时间协议（ NTP ）</block>
  <block id="f8764501b6967e2ec8eb89993d6214e8" category="list-text">域名系统（ DNS ）</block>
  <block id="462d2c8d2c153356871c9b33e09e4f69" category="list-text">密钥管理服务器（ KMS ）</block>
  <block id="10cbb821a59effa5c05fee6df08c682e" category="paragraph">必须正确配置 StorageGRID 网络，才能处理这些功能等的流量。</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="section-title">开始之前</block>
  <block id="f2dbc88792139eb3547e07a71b6c2b71" category="paragraph">为 StorageGRID 系统配置网络需要在以太网交换， TCP/IP 网络，子网，网络路由和防火墙方面具有丰富的经验。</block>
  <block id="56604f2f4cf7b47ad701fe9013358ab4" category="inline-xref-macro">网格入门</block>
  <block id="f19735323edf3cfd48a5e125a6913224" category="paragraph">在配置网络之前，请熟悉 StorageGRID 架构，如中所述 <block ref="9902b9a7d709c233782fc4e59ae778db" category="inline-xref-macro-rx"></block>。</block>
  <block id="b70564d25fb786846519da03726c21f3" category="paragraph">确定要使用的 StorageGRID 网络以及这些网络的配置方式后，您可以按照相应的说明安装和配置 StorageGRID 节点。</block>
  <block id="81d30f27f9c152fce29694383f874d16" category="list-title">安装基于软件的节点</block>
  <block id="cae2c5834beab76610fc6fe4956b23c3" category="list-title">安装设备节点</block>
  <block id="87d88e9d74ad61dbbf65a4432f2119b1" category="list-title">配置和管理 StorageGRID 软件</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="inline-xref-macro">发行说明</block>
  <block id="e2b4a9fa64cf3cb40d7bd519f164ef2f" category="list-text"><block ref="e2b4a9fa64cf3cb40d7bd519f164ef2f" category="inline-xref-macro-rx"></block></block>
  <block id="14a1f48f65ebd26c1f5be108ace52358" category="summary">您可以将所有这三个网络配置为一个网络拓扑，其中包括专用网格网络，特定于特定于站点的受限制管理网络和开放式客户端网络。如果需要，使用负载平衡器端点和不可信的客户端网络可以提供额外的安全性。</block>
  <block id="014569b722de025511dc0d586d270876" category="doc">所有这三个网络的拓扑结构</block>
  <block id="b630fb71ec57f4162971442bc3dd56d8" category="list-text">网格网络用于处理与内部对象管理操作相关的网络流量。</block>
  <block id="39d2e779304a31235f51a051e2e8761f" category="list-text">管理网络用于处理与管理功能相关的流量。</block>
  <block id="8cb91a2c87cc121957231c11f772bebb" category="list-text">客户端网络用于处理与 S3 和 Swift 客户端请求相关的流量。</block>
  <block id="2f89f6c2a173eb4ae47c28393d7e50ed" category="image-alt">网格管理客户端网络</block>
  <block id="bb5303434f12d0d4c026f36bb6297b75" category="summary">如果您计划使用 StorageGRID 平台服务或云存储池，则必须配置网格网络和防火墙以确保可以访问目标端点。</block>
  <block id="252e5171612d5f94f29e90c92b61c2b4" category="doc">用于平台服务和云存储池的网络和端口</block>
  <block id="65c6e58a0e55d799c425efb1a048f86f" category="section-title">平台服务的网络连接</block>
  <block id="c59c94bd691ad0b7a4c832b2d8f639af" category="inline-xref-macro">管理租户的平台服务</block>
  <block id="110f5c1e103a95f521005d2b098ea662" category="inline-xref-macro">什么是平台服务</block>
  <block id="79cbfea051596a9b0dad7e0edfba855f" category="paragraph">如中所述 <block ref="af03c83d9fcf8445614a3c3ce5f7c2db" category="inline-xref-macro-rx"></block> 和 <block ref="0c89b1c91043effe33c1eac8a2a5e356" category="inline-xref-macro-rx"></block>，平台服务包括提供搜索集成，事件通知和 CloudMirror 复制的外部服务。</block>
  <block id="2874fad74b4bfc5864efcd834c351350" category="paragraph">平台服务需要从托管 StorageGRID ADA 服务的存储节点访问外部服务端点。提供访问权限的示例包括：</block>
  <block id="8fda41599d48a0b9992617b9f29b0d97" category="list-text">在具有 ADE 服务的存储节点上，使用路由到目标端点的 AESL 条目配置唯一管理网络。</block>
  <block id="c8834dabae9ae2ef6da98836c7dc4fa0" category="inline-xref-macro">不可信客户端网络功能</block>
  <block id="aabc96b4afb1b46d1abf6d6de9ff6b72" category="list-text">依靠客户端网络提供的默认路由。如果使用默认路由，则可以使用 <block ref="df898ceb15ce3a0e3bb520928c8a4dde" category="inline-xref-macro-rx"></block> 限制入站连接。</block>
  <block id="f1dda716e65756d74a59c6dd4ead4a45" category="section-title">云存储池网络连接</block>
  <block id="30c76451082036181c8573ec10d74aab" category="inline-xref-macro">什么是云存储池</block>
  <block id="18cb58a191e3aa04162194f2947e56c3" category="paragraph">云存储池还需要从存储节点访问所使用的外部服务提供的端点，例如 Amazon S3 Glacier 或 Microsoft Azure Blob 存储。有关信息，请参见 <block ref="f9b783edbfb54cf7c67cf7aa5132afa1" category="inline-xref-macro-rx"></block>。</block>
  <block id="f41e2eedd9037ea88c63102c36ca31cb" category="section-title">用于平台服务和云存储池的端口</block>
  <block id="d324c281995edfabcb985efe03f51f0e" category="paragraph">默认情况下，平台服务和云存储池通信使用以下端口：</block>
  <block id="ae8fe38cba67e86dd647524db1e3c82b" category="list-text">* 80* ：对于以 `http` 开头的端点 URI</block>
  <block id="cbd9ce7525bcb46a37886d65bddc9464" category="list-text">* 443 ：对于以 `https` 开头的端点 URI</block>
  <block id="da564d377cb72617b23092ec86f31f5d" category="paragraph">创建或编辑端点时，可以指定其他端口。请参见 <block ref="2c7e6a616d797f266246b10b5bb9e9cf" category="inline-xref-macro-rx"></block>。</block>
  <block id="8d8614d2cdbca8f87409c0aa93605cc6" category="inline-xref-macro">配置存储代理设置</block>
  <block id="fa481fe01e15bb84a1090242d892aad9" category="paragraph">如果使用非透明代理服务器，则还必须使用 <block ref="b60116f50e413d8b7bc472b01054b848" category="inline-xref-macro-rx"></block> 允许将消息发送到外部端点，例如 Internet 上的端点。</block>
  <block id="0ca03eeb8cb9f93cc897c70f1c788c99" category="section-title">VLAN 和平台服务以及云存储池</block>
  <block id="d00d17a31fa7642a75cc259f6fa6bca7" category="paragraph">您不能将 VLAN 网络用于平台服务或云存储池。目标端点必须可通过网格，管理员或客户端网络访问。</block>
  <block id="062d3952eb27c008edc75ca3fccec4c9" category="summary">您可以将 StorageGRID 设备上的网络端口配置为使用符合吞吐量，冗余和故障转移要求的端口绑定模式。</block>
  <block id="70616959a2cf6909753118deaf1b81e7" category="paragraph">可以在固定或聚合绑定模式下配置 StorageGRID 设备上的 10/225-GbE 端口，以便连接到网格网络和客户端网络。</block>
  <block id="b6ed433dfd908d72f96de4c016fd0e38" category="paragraph">可以在独立或主动备份模式下配置 1-GbE 管理网络端口，以便连接到管理网络。</block>
  <block id="935d3f38b7ff0ba50b89825e24ddff96" category="paragraph">请参见设备安装和维护说明中有关端口绑定模式的信息：</block>
  <block id="765606ccf42f2a5bfb82befa4a4293cb" category="summary">请按照每种 StorageGRID 网络类型的要求进行操作。</block>
  <block id="79047d6fda5c3243b7de3a8861bb7d56" category="doc">网络特定要求</block>
  <block id="377d05f683da5ddc7eb58c679c6e38b5" category="section-title">网络网关和路由器</block>
  <block id="74cd215a46d2bd96fc35dad7ef313283" category="section-title">Subnets</block>
  <block id="f11826128faf2d5ebec2ea36b2b5195a" category="list-text">如果将网格网络接口配置为支持 VLAN 接口的中继，则中继原生 VLAN 必须是用于网格网络流量的 VLAN 。所有网格节点都必须可通过中继原生 VLAN 进行访问。</block>
  <block id="d4ccd0bdce62437cd80d2198583ecc0b" category="list-text">如果您使用客户端网络，则可以通过仅接受显式配置的负载平衡器端点上的入站客户端流量来帮助保护 StorageGRID 免受恶意攻击。请参见 <block ref="ab412983dcdc2d64f5eb319fec073b1f" category="inline-xref-macro-rx"></block>。</block>
  <block id="7de754a71c7710dc64b849cf76c7c362" category="list-text">如果客户端网络接口配置为中继以支持 VLAN 接口，请考虑是否需要配置客户端网络接口（ eth2 ）。如果已配置，则客户端网络流量将按交换机中的配置流经中继原生 VLAN 。</block>
  <block id="4d112414450b840ff969dd82506b757f" category="summary">可以选择使用客户端网络。使用客户端网络可以将客户端网络流量（例如 S3 和 Swift ）与网格内部流量分隔开，从而提高网格网络连接的安全性。如果未配置管理网络，则可通过客户端网络或网格网络处理管理流量。</block>
  <block id="944e265fa7097777bac0db9709454c7c" category="doc">客户端网络拓扑</block>
  <block id="f4094ccfc76d391b38596f37b9b9dd83" category="paragraph">可以选择使用客户端网络。使用客户端网络可以将客户端网络流量（例如 S3 和 Swift ）与网格内部流量分隔开，从而提高网格网络连接的安全性。如果未配置管理网络，则可通过客户端网络或网格网络处理管理流量。</block>
  <block id="f7b9c07610b96220d716f215ef24abed" category="paragraph">配置客户端网络时，您需要为所配置节点的 eth2 接口建立主机 IP 地址，子网掩码和网关 IP 地址。每个节点的客户端网络可以独立于任何其他节点上的客户端网络。</block>
  <block id="3085fd4fa1cd679f6f19ddee5dd0e19b" category="paragraph">如果在安装期间为节点配置客户端网络，则在安装完成后，节点的默认网关将从网格网络网关切换到客户端网络网关。如果稍后添加客户端网络，则节点的默认网关将以相同方式进行切换。</block>
  <block id="1e4a3a73f5115fd07ec501e302e668b8" category="paragraph">在此示例中，客户端网络用于处理 S3 和 Swift 客户端请求以及管理功能，而网格网络则专用于内部对象管理操作。</block>
  <block id="80b32fd70c3901214f377d23fabf21ad" category="image-alt">网格客户端网络</block>
  <block id="f19f14adebfeadb886ebbaf0d9d186d8" category="image-alt">网格客户端网络 IP</block>
  <block id="c147b06cbea310b3bffe40ed95585c93" category="summary">客户端需要与网格节点进行通信才能载入和检索内容。使用的端口取决于所选的对象存储协议。这些端口需要可供客户端访问。</block>
  <block id="6236fc1561e611136fd0a812410dcffe" category="section-title">对端口的访问受限</block>
  <block id="76934104b5431abce5c79f224cfc23ea" category="inline-xref-macro">负载平衡器端点</block>
  <block id="9fe78d175bfe666e1ca248a61704dd3a" category="inline-xref-macro">不可信的客户端网络</block>
  <block id="dd6261dbce0596bec7e58eb85c0854e1" category="paragraph">如果企业网络策略限制对任何端口的访问，您可以使用 <block ref="746eddac88f5aeef6f9d4a5e6c299353" category="inline-xref-macro-rx"></block> 允许对用户定义的端口进行访问。然后，您可以使用 <block ref="669779e4d3be4079d875959127948368" category="inline-xref-macro-rx"></block> 仅允许对负载平衡器端点端口进行访问。</block>
  <block id="92e5be57a1ab95d5a8ec2a3b43907f55" category="section-title">端口重新映射</block>
  <block id="7c163c2f64308f3474825efebb8630e1" category="paragraph">要使用 SMTP ， DNS ， SSH 或 DHCP 等系统和协议，您必须在部署节点时重新映射端口。但是，您不应重新映射负载平衡器端点。有关端口重新映射的信息，请参见适用于您的平台的安装说明：</block>
  <block id="24ef78a95d79f8b8edc159e33f7b43a6" category="section-title">用于外部通信的端口</block>
  <block id="05e9efd66fec7e1f3df4a9f31ba9c171" category="paragraph">下表显示了用于向节点进行流量的端口。</block>
  <block id="15010c1997ad90216ed8b5c9ddf8a7b9" category="admonition">此列表不包括可能配置为的端口 <block ref="746eddac88f5aeef6f9d4a5e6c299353" category="inline-xref-macro-rx"></block>。</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">协议</block>
  <block id="765553e6c7ac8592c389acb9878a050a" category="paragraph">SSH</block>
  <block id="35c2f64fea5237283fe618b046bf96e6" category="paragraph">要执行控制台步骤，需要 SSH 或控制台访问。您也可以选择使用端口 2022 ，而不是 22 。</block>
  <block id="8e296a067a37563370ded05f5a3bf3ec" category="paragraph">25.</block>
  <block id="c2239a92bde29f0a9f9173193cc2fe00" category="paragraph">SMTP</block>
  <block id="eea7a83f7e73b5e081056c24c573393a" category="paragraph">电子邮件服务器</block>
  <block id="dc8d2d2fea14d7dcc8b29fdbf0bc9344" category="paragraph">用于警报和基于电子邮件的 AutoSupport 。您可以使用电子邮件服务器页面覆盖默认端口设置 25 。</block>
  <block id="d82c8d1619ad8176d665453cfb2e55f0" category="paragraph">53.</block>
  <block id="1dae0b66b735f86ac1dbb1a8427c0d5a" category="paragraph">TCP/UDP</block>
  <block id="ed5f2bdecbd4bd349d09412d1ff6a6fb" category="paragraph">DNS</block>
  <block id="8cb02e0989a55415d84d6a664ebaa9c7" category="paragraph">DNS 服务器</block>
  <block id="ad8fa1d4e7d9b250a0314c559792d41b" category="paragraph">用于域名系统。</block>
  <block id="735b90b4568125ed6c3f678819b6e058" category="paragraph">67</block>
  <block id="54201c55d2bdc7a9e19d9e032d8c0ede" category="paragraph">DHCP</block>
  <block id="8307c999e8f9cf0ae9f3e3498c8139d3" category="paragraph">DHCP 服务</block>
  <block id="816f16d4b8f77d9c9501477c75bd3282" category="paragraph">也可用于支持基于 DHCP 的网络配置。dhclient 服务不会对静态配置的网格运行。</block>
  <block id="a3f390d88e4c41f2747bfa2f1b5f87db" category="paragraph">68</block>
  <block id="00228d897e278a5a682065f7e2ba3997" category="paragraph">也可用于支持基于 DHCP 的网络配置。对于使用静态 IP 地址的网格，不会运行 dhclient 服务。</block>
  <block id="293c9ea246ff9985dc6f62a650f78986" category="paragraph">HTTP</block>
  <block id="ef15fd2f45e6bb5ce57587895ba64f93" category="paragraph">浏览器</block>
  <block id="8a2fc5e2f0838375f5d8c0abd1c55352" category="paragraph">端口 80 重定向到管理节点用户界面的端口 443 。</block>
  <block id="b0e1c3aca497bc18bbcaa1b4c354bd49" category="paragraph">端口 80 重定向到 StorageGRID 设备安装程序的端口 8443 。</block>
  <block id="4847e034bb0a55fcbc8a3380d6a3ab80" category="paragraph">AWS</block>
  <block id="63e15e9c8c2aeb6253660685d9706f91" category="paragraph">用于发送到 AWS 或其他使用 HTTP 的外部服务的平台服务消息。创建端点时，租户可以覆盖默认的 HTTP 端口设置 80 。</block>
  <block id="286f47ba1ed5c4afa5223c9ab1cbf67b" category="paragraph">发送到使用 HTTP 的 AWS 目标的云存储池请求。配置云存储池时，网格管理员可以覆盖默认的 HTTP 端口设置 80 。</block>
  <block id="698d51a19d8a121ce581499d7b701668" category="paragraph">111.</block>
  <block id="1c13afa7ed1a3a598355773a00c75a87" category="paragraph">rpcbind</block>
  <block id="63818dd3aa8d82141f8d8abcce7a5435" category="paragraph">NFS 客户端</block>
  <block id="4735e50b859e2e4e43154950f94d787a" category="paragraph">由基于 NFS 的审核导出（ portmap ）使用。</block>
  <block id="76867a68f7af1e901f293e2d1d5463f4" category="paragraph">* 注： * 只有在启用了基于 NFS 的审核导出时，才需要此端口。</block>
  <block id="5c54cb8f927a6c5a90622e1c7bd0bda5" category="paragraph">NTP</block>
  <block id="4fee5fd83e55640688cd1c40842cf58c" category="paragraph">主要 NTP 节点</block>
  <block id="45179cf401f92fa7d8f87f0986a342a7" category="paragraph">外部 NTP</block>
  <block id="beabc84556b4b7fed4603fdc1e11eaac" category="paragraph">网络时间协议服务。选择为主 NTP 源的节点还会将时钟时间与外部 NTP 时间源同步。</block>
  <block id="3988c7f88ebcb58c6ce932b957b6f332" category="paragraph">137.</block>
  <block id="22f948230bc7fd5966c798adcab3cd4c" category="paragraph">NetBIOS</block>
  <block id="8c01665b04bd256fd2ee3ba069f5396e" category="paragraph">SMB 客户端</block>
  <block id="8f62dbc155b253a6512e966b288ab41c" category="paragraph">由基于 SMB 的审核导出用于需要 NetBIOS 支持的客户端。</block>
  <block id="fd4d8fd46379d4fd2b8c9609801eb256" category="paragraph">* 注： * 只有在启用了基于 SMB 的审核导出时，才需要此端口。</block>
  <block id="013d407166ec4fa56eb1e1f8cbe183b9" category="paragraph">138.</block>
  <block id="e00da03b685a0dd18fb6a08af0923de0" category="paragraph">139.</block>
  <block id="b4fdd997b1f33e0d4c6964444c2bf399" category="paragraph">SMB</block>
  <block id="bd4c9ab730f5513206b999ec0d90d1fb" category="paragraph">161.</block>
  <block id="305af65222ed3fff91f5c8bcdfe17162" category="paragraph">SNMP</block>
  <block id="01da98503286ea8fb375dbb3bc5a1da6" category="paragraph">SNMP 客户端</block>
  <block id="9ab5ed11b5920ed76da01beaad5427d8" category="paragraph">用于 SNMP 轮询。所有节点均提供基本信息；管理节点还提供警报和警报数据。配置后，默认为 UDP 端口 161 。</block>
  <block id="513f05f25d93ec186e9d0b966c575dec" category="paragraph">* 注： * 仅需要此端口，只有在配置了 SNMP 的情况下，才会在节点防火墙上打开此端口。如果您计划使用 SNMP ，则可以配置备用端口。</block>
  <block id="777901747d2f784e4b498e45e3fdefd6" category="paragraph">* 注： * 有关将 SNMP 与 StorageGRID 结合使用的信息，请联系您的 NetApp 客户代表。</block>
  <block id="82aa4b0af34c2313a562076992e50aa3" category="paragraph">162.</block>
  <block id="63e4735dadd9616a589d0874fe4b46db" category="paragraph">SNMP 通知</block>
  <block id="1c71a0d54e5d8768803882bf6d4faba1" category="paragraph">通知目标</block>
  <block id="aed93f55593f46d22ec4316fccb4de5c" category="paragraph">出站 SNMP 通知和陷阱默认为 UDP 端口 162 。</block>
  <block id="d5eed49f81ed4ce9fd3b98c103773296" category="paragraph">* 注： * 只有在启用 SNMP 并配置通知目标时，才需要此端口。如果您计划使用 SNMP ，则可以配置备用端口。</block>
  <block id="c86a7ee3d8ef0b551ed58e354a836f2b" category="paragraph">389.</block>
  <block id="2363dee608bcd9f6ce7f980bfdad5789" category="paragraph">LDAP</block>
  <block id="95f6df568e18de42b0f0ca3ecef26398" category="paragraph">Active Directory/LDAP</block>
  <block id="b14ae13aff870b44f247f85fbb36072b" category="paragraph">用于连接到 Active Directory 或 LDAP 服务器以实现身份联合。</block>
  <block id="0e8433f9a404f1f3ba601c14b026d321" category="paragraph">HTTPS</block>
  <block id="b50a9d29fec392329ac0ae4cb0110503" category="paragraph">供 Web 浏览器和管理 API 客户端用于访问 Grid Manager 和租户管理器。</block>
  <block id="4fbbbcdfcdfad5270a20167c67509f0b" category="paragraph">Active Directory</block>
  <block id="5a5371ddb36ba9e3443150cc1f0e644c" category="paragraph">如果启用了单点登录（ SSO ），则由连接到 Active Directory 的管理节点使用。</block>
  <block id="270fcb785810d0206945029bb05f4e97" category="paragraph">Amazon S3</block>
  <block id="8eaaced4886f7f8b0dfef9ba0723e93a" category="paragraph">用于从归档节点访问 Amazon S3 。</block>
  <block id="0064bf2a1c1e8cfbe1976bf6a6fc3f4d" category="paragraph">用于发送到 AWS 或其他使用 HTTPS 的外部服务的平台服务消息。创建端点时，租户可以覆盖默认的 HTTP 端口设置 443 。</block>
  <block id="25a1f82c0c27af93304e2afb69b6b393" category="paragraph">发送到使用 HTTPS 的 AWS 目标的云存储池请求。配置云存储池时，网格管理员可以覆盖默认 HTTPS 端口设置 443 。</block>
  <block id="67f7fb873eaf29526a11a9b7ac33bfac" category="paragraph">445</block>
  <block id="1ba9d4aaefff00ddf134552bbcdd4d8a" category="paragraph">由基于 SMB 的审核导出使用。</block>
  <block id="aa169b49b583a2b5af89203c2b78c67c" category="paragraph">903</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="paragraph">NFS</block>
  <block id="5376e012db49e7f176bc15d483008355" category="paragraph">由基于 NFS 的审核导出使用（`rpc.mountd` ）。</block>
  <block id="3a824154b16ed7dab899bf000b80eeee" category="paragraph">2022 年</block>
  <block id="3ddd70dd183b6e3b2b2ed124e9fe8374" category="paragraph">要执行控制台步骤，需要 SSH 或控制台访问。您也可以选择使用端口 22 ，而不是 2022 。</block>
  <block id="06b1338ba02add2b5d2da67663b19ebe" category="paragraph">2049.</block>
  <block id="6977a85ea238c09708743013d3e3ed13" category="paragraph">由基于 NFS 的审核导出（ NFS ）使用。</block>
  <block id="b8cfbf77a3d250a4523ba67a65a7d031" category="paragraph">5696</block>
  <block id="5a2c55bb167f4f0fcfe52384fe7a4f0b" category="paragraph">KMIP</block>
  <block id="e1ccceb981912f891d16090816e66855" category="paragraph">设备</block>
  <block id="4a4df63c87b4f42081b846d9b9189984" category="paragraph">公里</block>
  <block id="195e8230b873d675a1b57413d9251c7d" category="paragraph">从配置了节点加密的设备到密钥管理服务器（ KMS ）的密钥管理互操作性协议（ Key Management Interoperability Protocol ， KMIP ）外部流量，除非在 StorageGRID 设备安装程序的 KMS 配置页面上指定了其他端口。</block>
  <block id="60c97bef031ec312b512c08565c1868e" category="paragraph">8022</block>
  <block id="0fbf50e9d57ce852b2d1566a445aafde" category="paragraph">端口 8022 上的 SSH 允许访问设备和虚拟节点平台上的基本操作系统，以便进行支持和故障排除。此端口不用于基于 Linux 的（裸机）节点，并且不需要在网格节点之间或在正常操作期间访问。</block>
  <block id="b9e4093f970251d5bcf888b76944a4bc" category="paragraph">8082</block>
  <block id="03b9eaf2e04587c1e364872ef61ddbb9" category="paragraph">S3 客户端</block>
  <block id="9521bb81c4a36162910cd8c3e608f128" category="paragraph">通过网关节点（ HTTPS ）发送到已弃用的 CLB 服务的 S3 客户端流量。</block>
  <block id="20ef119e812e178ecb44efa448b57ebc" category="paragraph">8083.</block>
  <block id="6bf910b57496e39b4ba0afc1dc9076a6" category="paragraph">Swift 客户端</block>
  <block id="3674034f01b41c8722bdc007c17adb25" category="paragraph">在网关节点（ HTTPS ）上发送到已弃用的 CLB 服务的 Swift 客户端流量。</block>
  <block id="f82a944b799eac194ea37a388daa8b19" category="paragraph">8084</block>
  <block id="39c335e4fb05892843d92de523aac208" category="paragraph">通过网关节点（ HTTP ）发送到已弃用的 CLB 服务的 S3 客户端流量。</block>
  <block id="5011bf6d8a37692913fce3a15a51f070" category="paragraph">8085</block>
  <block id="8e828489630a2f505c8b902c97f653a5" category="paragraph">在网关节点（ HTTP ）上传输到已弃用的 CLB 服务的 Swift 客户端流量。</block>
  <block id="7e6b20d014d1c659e4eaf20dc2dcd7eb" category="paragraph">8443</block>
  <block id="94d87e4f3c9ed5ffe553da8dafa1009d" category="paragraph">可选。供 Web 浏览器和管理 API 客户端用于访问网格管理器。可用于分隔网格管理器和租户管理器通信。</block>
  <block id="e6ff107459d435e38b54ad4c06202c33" category="paragraph">9022</block>
  <block id="6739e5a65b4fd9164fd9c2c0f1491a36" category="paragraph">在预配置模式下授予对 StorageGRID 设备的访问权限，以便提供支持和进行故障排除。在网格节点之间或正常操作期间，不需要访问此端口。</block>
  <block id="0a7d7a81e8e3a20e4c34748e98ef45f6" category="paragraph">9091.</block>
  <block id="74c41fbe6c98c5e507b28a2aebe25570" category="paragraph">外部 Grafana 服务</block>
  <block id="910e548fd81fbdae2c38d40cb8be7244" category="paragraph">由外部 Grafana 服务使用，用于安全访问 StorageGRID Prometheus 服务。</block>
  <block id="58a833ec06ec2a42b5297d953cdda135" category="paragraph">* 注： * 只有在启用了基于证书的 Prometheus 访问时，才需要此端口。</block>
  <block id="7dc8b441cf4e6fe9bc806679c4579e68" category="paragraph">9443</block>
  <block id="15b57c7f75b03ed333937acd0e4d1f3a" category="paragraph">可选。供 Web 浏览器和管理 API 客户端用于访问租户管理器。可用于分隔网格管理器和租户管理器通信。</block>
  <block id="11f3cbd93b8d2b94defeeb997681e1bb" category="paragraph">直接发送到存储节点（ HTTPS ）的 S3 客户端流量。</block>
  <block id="7e1d71d372cc3ac91cb54f2bb2ea4c51" category="paragraph">Swift 客户端流量直接发送到存储节点（ HTTPS ）。</block>
  <block id="991ede353063f823ae1d2742f8794221" category="paragraph">18084</block>
  <block id="9305371b1772badc76cdfb1abd639d42" category="paragraph">直接发送到存储节点（ HTTP ）的 S3 客户端流量。</block>
  <block id="35c04340bf1ee3538ee7751f2872b539" category="paragraph">18085</block>
  <block id="7a4faab17f449a601b1b1f40aad632f5" category="paragraph">Swift 客户端流量直接发送到存储节点（ HTTP ）。</block>
  <block id="75a530368ab94da5bd477ccc9a5f17b9" category="summary">您必须了解 StorageGRID 升级的影响，以便可以在升级完成后相应地更新组和用户帐户。</block>
  <block id="7520f3e14a73ed669f95193c7b690e04" category="doc">升级对组和用户帐户的影响</block>
  <block id="bf144411370d9a87b0d3f81281ba9e42" category="section-title">对组权限和选项进行的更改</block>
  <block id="7a03eca9913d0b1f6727d53760d61ea4" category="paragraph">升级到 StorageGRID 11.6 后，可以选择以下更新或新的权限和选项（ * 配置 * &gt; * 访问控制 * &gt; * 管理组 * ）。</block>
  <block id="2b73182d4ca030f6365137886eec6434" category="cell">权限或选项</block>
  <block id="a74033e591e60f51dfcff1c6a2c80a22" category="paragraph">租户帐户</block>
  <block id="977e820cf6b637a5cee6feae7c8355fb" category="paragraph">除了允许用户创建，编辑和删除租户帐户之外，此权限现在还允许管理员用户查看现有流量分类策略（ * 配置 * &gt; * 网络 * &gt; * 流量分类 * ）。</block>
  <block id="78d18cc5a574cb3a3d71c8dfaac6bb98" category="inline-xref-macro">管理管理组</block>
  <block id="a7e49e251b35762373a1f9cb2e42604a" category="paragraph">请参见 <block ref="f2e3014d4701375af6ae4f97f2b74e07" category="inline-xref-macro-rx"></block>。</block>
  <block id="dfc1da060b8d4df1ac3af8e652e3b07b" category="summary">StorageGRID 11.6 使用租户管理 API 版本 3 。版本 3 已弃用版本 2 ；但版本 1 和版本 2 仍受支持。</block>
  <block id="501d64226646e983bf7e708443d6ea52" category="doc">对租户管理 API 进行的更改</block>
  <block id="6e0a056be694f94f59df3386b4a37936" category="admonition">您可以继续在 StorageGRID 11.6 中使用管理 API 版本 1 和版本 2 ；但是，在未来版本的 StorageGRID 中，对这些版本的 API 的支持将被删除。升级到 StorageGRID 11.6 后，可以使用 `put /grid/config/management` API 停用已弃用的 v1 和 v2 API 。</block>
  <block id="9c364698a23ee04478a05c4fdc0fc16d" category="inline-xref-macro">了解租户管理 API</block>
  <block id="33d2d5337f71313f16b09cbba23f7700" category="paragraph">要了解更多信息，请访问 <block ref="b87f3dc0c14a0d88f98bc11192700bd6" category="inline-xref-macro-rx"></block>。</block>
  <block id="9b9b1496b283c0d6805a4bd89e58b256" category="section-title">已弃用修补方法</block>
  <block id="ebda9696bcb81cab1b5e98e6d5d99814" category="paragraph">此修补程序方法现已弃用，并将在未来版本中删除。根据需要，执行 PUT 操作以替换资源，而不是使用修补程序操作来修改资源。</block>
  <block id="1a8831022a64e32c75fef6b67ac15f66" category="summary">升级到新版本的 StorageGRID 软件后，您可能会看到网格管理器或租户管理器出现问题。</block>
  <block id="f150dddf163d323ebeb27c8b490cfa0e" category="doc">对用户界面问题进行故障排除</block>
  <block id="1bd22f34c6d109baa235c629992eb15e" category="section-title">Web 界面未按预期响应</block>
  <block id="32572b13b2d1deb975429476da178d7d" category="paragraph">升级 StorageGRID 软件后，网格管理器或租户管理器可能无法按预期做出响应。</block>
  <block id="0451967edb272320a691e5b45a80f605" category="paragraph">如果您在使用 Web 界面时遇到问题：</block>
  <block id="894719c15683c5ad5840417dddf4eaa3" category="list-text">确保您使用的是 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="1aed8f68c34ca8a4f06137754b4f4ad1" category="admonition">每个 StorageGRID 版本的浏览器支持通常会发生变化。</block>
  <block id="184a6022243fcc640ccc8350bc7aeed6" category="list-text">清除 Web 浏览器缓存。</block>
  <block id="61de54374af35c767351dd7733fdec0a" category="paragraph">清除缓存将删除先前版本的 StorageGRID 软件所使用的过时资源，并允许用户界面再次正常运行。有关说明，请参见 Web 浏览器的文档。</block>
  <block id="13f80ae55da3dc06dfd4977db047d510" category="summary">升级到 StorageGRID 11.6 后，如果存储节点满足 RAM 和可用空间的特定要求，则可以增加元数据预留空间系统设置。</block>
  <block id="bc262af29d5550b05669719db323afca" category="doc">增加元数据预留空间设置</block>
  <block id="df2f1c2d5f5d71189f5373394e812b3a" category="list-text">您必须具有 " 根访问 " 权限或 " 网格拓扑页面配置 " 和 " 其他网格配置 " 权限。</block>
  <block id="dcbeea6bb0a6a55de6e9a855fcd104c5" category="list-text">您已完成 StorageGRID 11.6 升级。</block>
  <block id="7677acabfeb2f442ac85c711d4077473" category="paragraph">升级到 StorageGRID 11.6 后，您可以手动将系统范围的元数据预留空间设置提高到 8 TB 。在升级到 11.6 后预留额外的元数据空间将简化未来的硬件和软件升级。</block>
  <block id="63616db21166263e8ebcacd65472ae47" category="paragraph">只有当以下两项陈述均为 true 时，才能增加系统范围的元数据预留空间设置的值：</block>
  <block id="0bb1d8f712a6a1190d3e0c9190f1d52f" category="list-text">系统中任何站点的存储节点均具有 128 GB 或更多 RAM 。</block>
  <block id="17360e7d83eb02b049d6f45a2f5939cc" category="list-text">系统中任何站点的存储节点在存储卷 0 上都有足够的可用空间。</block>
  <block id="c4ddcd14f73a3df79de5f524712596f1" category="paragraph">请注意，如果增加此设置，则会同时减少所有存储节点的存储卷 0 上可用于对象存储的空间。因此，您可能希望根据预期对象元数据要求将元数据预留空间设置为小于 8 TB 的值。</block>
  <block id="f92076f6b12a9fe7a36432c82ba2a772" category="admonition">一般来说，最好使用较高的值，而不是较低的值。如果 " 元数据预留空间 " 设置过大，您可以稍后减小此设置。相比之下，如果稍后增加该值，系统可能需要移动对象数据以释放空间。</block>
  <block id="e6ae6f0a4a18ef27ea21dbe9449108a4" category="inline-xref-macro">管理对象元数据存储</block>
  <block id="2aaffa256fb6b3f36659d0666c44814f" category="paragraph">有关元数据预留空间设置如何影响特定存储节点上对象元数据存储允许的空间的详细说明，请转至 <block ref="c76c0decba50048c573d214e80846760" category="inline-xref-macro-rx"></block>。</block>
  <block id="de0431b99eda034ff6d0ec44b17208a9" category="list-text">使用登录到网格管理器 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="befe52c082df183990a047c0ee50a910" category="list-text">确定当前的元数据预留空间设置。</block>
  <block id="c47493d4a649fd985e0792524f88e579" category="list-text">选择 * 配置 * &gt; * 系统 * &gt; * 存储选项 * 。</block>
  <block id="5ce2860f3ea93285285388271f4e8cc9" category="list-text">在存储水印部分中，记下 * 元数据预留空间 * 的值。</block>
  <block id="a9fcc883ce9a2f602701d2a139f2bbb3" category="list-text">确保每个存储节点的存储卷 0 上有足够的可用空间来增加此值。</block>
  <block id="c866b60ebcb3398bb669bbbf3b976279" category="list-text">选择 * 节点 * 。</block>
  <block id="bacd0a73987ea1ec34d3b9285316cf42" category="list-text">选择网格中的第一个存储节点。</block>
  <block id="2d532bc8acc8c839f1af783cdd59919a" category="list-text">选择存储选项卡。</block>
  <block id="c6800217c72689ba039cb7c515219f48" category="list-text">在卷部分中，找到 * /var/local/rangedb/0* 条目。</block>
  <block id="a7b3c6d5aaf215094253141165707faa" category="list-text">确认可用值等于或大于要使用的新值与当前元数据预留空间值之间的差值。</block>
  <block id="45feeb886a7cb591f35ebed269f77060" category="paragraph">例如，如果元数据预留空间设置当前为 4 TB ，而您希望将其增加到 6 TB ，则可用值必须为 2 TB 或更大。</block>
  <block id="014f8704842ade874ffbab43ca483cfd" category="list-text">对所有存储节点重复上述步骤。</block>
  <block id="b5697ccc9052ca449a6e54c97ae709b4" category="list-text">如果一个或多个存储节点没有足够的可用空间，则无法增加元数据预留空间值。请勿继续使用此操作步骤。</block>
  <block id="6cac892717d9ace045b0c06755cb96fc" category="list-text">如果每个存储节点在卷 0 上都有足够的可用空间，请转至下一步。</block>
  <block id="39f78b79a843ca5b7d924a0e2379ea31" category="list-text">确保每个存储节点上至少有 128 GB 的 RAM 。</block>
  <block id="d6957eeb81c3e3964dfd713ca445fa4c" category="list-text">选择 * 硬件 * 选项卡。</block>
  <block id="e73624367ad21ffead6601a6a04d70bb" category="list-text">将光标悬停在 " 内存使用量 " 图表上。确保 * 总内存 * 至少为 128 GB 。</block>
  <block id="80ad3d4656d0460565d675bce4a1f722" category="list-text">如果一个或多个存储节点没有足够的可用总内存，则无法增加元数据预留空间值。请勿继续使用此操作步骤。</block>
  <block id="53413d1c45039ee2458ca2ff4b3004d9" category="list-text">如果每个存储节点的总内存至少为 128 GB ，请转至下一步。</block>
  <block id="52709ec43c6ab575a590a6de90336bab" category="list-text">更新元数据预留空间设置。</block>
  <block id="51099784a8f06fc3babf8cc40ce79e8b" category="list-text">选择配置选项卡。</block>
  <block id="0a3a3a7a108e78cc105df1284b4e15c2" category="list-text">在存储水印部分中，选择 * 元数据预留空间 * 。</block>
  <block id="686c58b73f42905b33f2b641183c9ea7" category="list-text">输入新值。</block>
  <block id="ab27d1a48ffef1b632081be10d913646" category="paragraph">例如，要输入 8 TB 作为支持的最大值，请输入 * 80000000000000000* （ 8 ，后跟 12 个零）</block>
  <block id="1607e5feec9d493f9b5e8ad538e91bbb" category="image-alt">元数据预留空间</block>
  <block id="2ce8d1287d5fe484f0fb11eb92e9f79a" category="list-text">选择 * 应用更改 * 。</block>
  <block id="641ebea3e7ce4c804807afab605f43f1" category="summary">此版本的 StorageGRID 引入了以下功能。</block>
  <block id="6247f9c383028c6de7544fe212b2cd0b" category="doc">StorageGRID 11.6.</block>
  <block id="efb9f9f1892a08d93bf37f9c03d85953" category="section-title">可用性增强功能</block>
  <block id="d4d483264b8df86081ded3fc720d3e49" category="paragraph">网格管理器用户界面经过大幅重新设计，可改善用户体验。</block>
  <block id="93cf7acb487949a0987995ae1bec8639" category="list-text">新的边栏取代了旧用户界面中的下拉菜单。</block>
  <block id="80e18b5e65f99f8f4368cc8412c16e20" category="list-text">我们对多个菜单进行了重新组织，以便将相关选项放在一起。例如， * 配置 * 菜单包含一个新的 * 安全性 * 部分，用于 " 证书 " ， " 密钥管理服务器 " ， " 代理 " 设置和 " 不可信客户端网络 " 选项。</block>
  <block id="66e6904a975b49b8d7a373d02abd30c4" category="list-text">标题栏中的 * 搜索 * 字段可用于快速导航到网格管理器页面。</block>
  <block id="9aed3aa0dc32f6652e6ac23ff4e28cf5" category="list-text">"* 节点 * " 页面上的摘要表提供了所有站点和节点的详细信息，例如使用的对象数据和使用的对象元数据，并包含一个新的搜索字段。警报图标会显示在任何具有活动警报的节点旁边。</block>
  <block id="bc32bc2c7b3574aceeb2e1f8088785d0" category="list-text">新向导将引导您完成更复杂的配置，例如管理组，管理员用户，租户，负载平衡器端点和高可用性（ HA ）组的工作流。</block>
  <block id="0c723ff20e241efddb57efecdb9e8e60" category="list-text">所有 UI 页面都会重新显示更新后的字体，按钮样式和表格式。</block>
  <block id="7baf227b085f630fdde92ca7a22cd3b5" category="admonition">除非功能发生更改，否则 StorageGRID 11.6 文档站点中的屏幕截图不会进行更新，以反映新的网格管理器页面样式。</block>
  <block id="8e89ccec40320a1b61989fb275303962" category="paragraph">请参见以下内容：</block>
  <block id="b2590cdd20c22cc3a5cecba177800f3d" category="section-title">多个 VLAN 接口</block>
  <block id="7497f7cc45c74f9d0e95f35f2be3dad4" category="paragraph">现在，您可以为管理节点和网关节点创建虚拟 LAN （ VLAN ）接口。您可以使用 HA 组和负载平衡器端点中的 VLAN 接口隔离客户端流量并对其进行分区，以提高安全性，灵活性和性能。</block>
  <block id="35a264b256cff57320a58486be1134c0" category="list-text">新的 * 创建 VLAN 接口 * 向导将指导您完成输入 VLAN ID 以及在一个或多个节点上选择父接口的过程。父接口可以是网格网络，客户端网络，也可以是 VM 或裸机主机的附加中继接口。请参见 <block ref="297dda300067f383aeea193e54e89fbe" category="inline-xref-macro-rx"></block>。</block>
  <block id="5d7480b9aa638ffbd8fc98e6f1a4f1e8" category="list-text">现在，您可以向节点添加额外的中继或访问接口。如果添加中继接口，则必须配置 VLAN 接口。如果添加访问接口，则可以将该接口直接添加到 HA 组；而无需配置 VLAN 接口。请参见以下内容：</block>
  <block id="f447858b58b2c76f597a50e125152dcf" category="list-text">* Linux （安装节点之前） * ： <block ref="fe9ccf5630f8fd360f2d3819b9b5f609" category="inline-xref-macro-rx"></block></block>
  <block id="5b07af496233e59d99bd6b5d168afc8b" category="list-text">* Linux （安装节点后） * ： <block ref="12b84b2c9c642f51e5c987c0116001b7" category="inline-xref-macro-rx"></block></block>
  <block id="6d78f9894367fbf20848c8a6e78c999c" category="inline-xref-macro">收集有关部署环境的信息</block>
  <block id="668c7c8e67be1a67f8567a6713ecf661" category="list-text">* VMware （安装节点后） * ： <block ref="556ab71fcf1134f7382c71b57b150463" category="inline-xref-macro-rx"></block></block>
  <block id="d558b7543954c8f6978c9fb621d90ef0" category="section-title">可以使用 Azure AD 进行身份联合</block>
  <block id="3c8a381d2187b5751024ceacc9597586" category="inline-xref-macro">使用身份联合</block>
  <block id="161422c0888e4b0c30b13e2bcc9a0818" category="paragraph">现在，在为网格管理器或租户管理器配置身份联合时，您可以选择 Azure Active Directory （ Azure AD ）作为身份源。请参见 <block ref="fbc561afe07e407794c85fdcd15f880d" category="inline-xref-macro-rx"></block>。</block>
  <block id="0161cb96a9aaf98559c4e5bcc5b6fea4" category="section-title">可以使用 Azure AD 和 PingFederate 进行 SSO</block>
  <block id="b925e1c7f5c8d30f4be4b8e54d466785" category="inline-xref-macro">配置单点登录</block>
  <block id="6a30138093aecffc63fe1976494bbb6b" category="paragraph">现在，在为网格配置单点登录（ SSO ）时，您可以选择 Azure AD 或 PingFederate 作为 SSO 类型。然后，您可以使用沙盒模式配置和测试 Azure AD 企业应用程序或 PingFederate 服务提供商（ SP ）与每个 StorageGRID 管理节点的连接。请参见 <block ref="0e8951ef53a76431ce358efd0201ea8c" category="inline-xref-macro-rx"></block>。</block>
  <block id="7f15b5f1dd05364e54e4564467c0e4b6" category="section-title">集中式证书管理</block>
  <block id="c316b28ae297bf156f08f5abd038e061" category="inline-xref-macro">关于安全证书</block>
  <block id="a0ce0ca107c69c0303f82f823035349c" category="list-text">新的 " 证书 " 页面（ * 配置 * &gt; * 安全性 * &gt; * 证书 * ）将有关所有 StorageGRID 安全证书的信息整合到一个位置。您可以从新页面管理 StorageGRID 全局证书，网格 CA 证书和客户端证书，也可以查看有关其他证书的信息，例如用于负载平衡器端点，租户和身份联合的证书。请参见 <block ref="c1bd19208859126268563ea3c992d71b" category="inline-xref-macro-rx"></block>。</block>
  <block id="e83329307b970d59003037862e445797" category="list-text">在此更改中，以下全局证书已重命名：</block>
  <block id="472bb00a91a6a552a4632a4907650ccf" category="list-text">现在， * 管理接口服务器证书 * 是 * 管理接口证书 * 。</block>
  <block id="15ab542c3125b9fba1d96668fa8f39e3" category="list-text">对象存储 API 服务端点服务器证书 * （也称为存储 API 服务器证书）现在是 * S3 和 Swift API 证书 * 。</block>
  <block id="334bb2b6d297f2f03810b76104bba0c5" category="list-text">现在， * 内部 CA 证书 * ， * 系统 CA 证书 * ， * CA 证书 * 和 * 默认 CA 证书 * 始终称为 * 网格 CA 证书 * 。</block>
  <block id="5f8a5f1e1578c75ae30b16645e39685d" category="section-title">其他 Grid Manager 增强功能</block>
  <block id="501d5ce902f32b7e73992643d49610fd" category="inline-xref-macro">配置高可用性组</block>
  <block id="82d765337e6892f9a80846aa9657628d" category="list-text">* 更新高可用性（ HA ）组 * 。现在，向导将指导您完成创建 HA 组的过程。请参见 <block ref="bd3394df58247636537e82fe236871b0" category="inline-xref-macro-rx"></block>。</block>
  <block id="d8e2a29ba7d46c6c6d9d9f029e7840e5" category="list-text">除了选择网格网络（ eth0 ）或客户端网络（ eth2 ）上的接口之外，现在您还可以选择 VLAN 接口或已添加到节点的任何访问接口。</block>
  <block id="18401fc951d21fb450f324bdcbcca76d" category="list-text">现在，您可以为接口指定优先级顺序。您可以选择主接口并按顺序对每个备份接口进行排名。</block>
  <block id="c0ba39d0c9a28e2ffe8ca779653b0beb" category="list-text">如果任何 S3 ， Swift ，管理或租户客户端要从其他子网访问 HA 组的 VIP 地址，您现在可以为此网关提供 IP 地址。</block>
  <block id="7ef672384f928be333740be43d09b0ba" category="list-text">* 更新负载平衡器端点 * 。新向导将指导您完成创建负载平衡器端点的过程。请参见 <block ref="ab412983dcdc2d64f5eb319fec073b1f" category="inline-xref-macro-rx"></block>。</block>
  <block id="3b82e1c3956c52c25cb6d276e58b5630" category="list-text">现在，您可以在首次创建端点时选择客户端类型（ S3 或 Swift ），而不是在创建端点后添加此详细信息。</block>
  <block id="34cfecb3153a3fe016286b71cc73b822" category="list-text">现在，您可以对负载平衡器端点使用全局 * StorageGRID S3 和 Swift 证书 * ，而不是上传或生成单独的证书。</block>
  <block id="701acf1f047c5dc5cff8c45b63443efb" category="admonition">此全局证书以前用于连接到已弃用的 CLB 服务和存储节点。如果要对负载平衡器端点使用全局证书，则必须在 S3 和 Swift API 证书页面上上传自定义证书。</block>
  <block id="f0175c18e7a6eca4268d52016490a52c" category="section-title">新增租户管理器功能</block>
  <block id="434d020d41455ca99500fdaabb3454af" category="inline-xref-macro">使用试验性 S3 控制台</block>
  <block id="06a37bffc95a926f0e1c51e4610cccd0" category="list-text">* 全新的试验性 S3 控制台 * 。新的试验性 S3 控制台可通过租户管理器中的 " 分段 " 页面提供的链接来使 S3 租户用户查看和管理其分段中的对象。请参见 <block ref="a5de2e52b4ef3b99d7c75f79b452b211" category="inline-xref-macro-rx"></block>。</block>
  <block id="f49e9ae96f0da9742dd63fc847c485df" category="admonition">试验性 S3 控制台尚未经过全面测试，不适用于对象批量管理或生产环境。只有在为少数对象执行功能时，或者在使用概念验证网格或非生产网格时，租户才应使用 S3 控制台。</block>
  <block id="ea9d38bacba3d18d3f8e81954e73504d" category="inline-xref-macro">删除 S3 存储分段</block>
  <block id="0cd6dc4a0af2073736e2b2691a0dc86e" category="list-text">* 可以删除多个 S3 存储分段 * 。租户用户现在可以一次删除多个 S3 存储分段。要删除的每个存储分段必须为空。请参见 <block ref="e9ee696524208f1a1be56e1b9237c61c" category="inline-xref-macro-rx"></block>。</block>
  <block id="d29b5572e8e2b2c7c3b72c5b43d6df3b" category="list-text">* 更新租户帐户权限 * 。现在，属于具有租户帐户权限的组的管理员用户可以查看现有流量分类策略。以前，用户必须具有 root 访问权限才能查看这些指标。</block>
  <block id="0b37cb8fdfc16740b89ee596d564e1ee" category="section-title">新的升级和修复过程</block>
  <block id="6a85badca7d1a7e861c2b9d1c61a93ae" category="list-text">重新设计了 * StorageGRID Upgrade* 页面（ * 维护 * &gt; * 系统 * &gt; * 软件更新 * &gt; * StorageGRID upgrade* ）。</block>
  <block id="0aaceea0bc5018b3dbe38247e220e55b" category="list-text">升级到 StorageGRID 11.6 后，您可以使用网格管理器升级到未来版本，并同时应用该版本的修补程序。StorageGRID 升级页面将显示建议的升级路径，并直接链接到正确的下载页面。</block>
  <block id="d399f26bb4b22352a47001a568324ac1" category="inline-xref-macro">配置 AutoSupport 并禁用软件更新检查</block>
  <block id="2273519abd3df0348ab168151e61ec52" category="list-text">通过 AutoSupport 页面（ * 支持 * &gt; * 工具 * &gt; * AutoSupport * ）上的一个新 * 检查软件更新 * 复选框，您可以控制此功能。如果您的系统无法访问 WAN ，则可以禁用对可用软件更新的检查。请参见 <block ref="8accfa30c17ec33bc5171618ff630649" category="inline-xref-macro-rx"></block>。</block>
  <block id="d95dad25d8a0bd8cba76135cf3f01e90" category="inline-link">NetApp 知识库：如何为 StorageGRID 运行组合式主要升级和修补程序脚本</block>
  <block id="cdf5e52786a479d7f8a5038e6db7ffd4" category="admonition">要升级到 StorageGRID 11.6 ，您可以选择使用脚本同时升级和应用修补程序。请参见<block ref="097b7a6eae23b61958499b0c5001ce8a" category="inline-link-rx"></block>。</block>
  <block id="6f7cf0b8e94d65d141fbd09ff9059fa0" category="list-text">现在，如果需要稍后完成升级，您可以暂停 SANtricity 操作系统升级并跳过升级某些节点。请参见适用于您的存储设备的说明：</block>
  <block id="cf3f38d533505f6c790465a0ef458f21" category="inline-xref-macro">使用网格管理器升级存储控制器上的 SANtricity 操作系统（ SG5600 ）</block>
  <block id="87aeab3dd5aa34e88f12b4be409052c3" category="list-text"><block ref="87aeab3dd5aa34e88f12b4be409052c3" category="inline-xref-macro-rx"></block></block>
  <block id="43e1a4f64f5adbae09bac330ced60ea4" category="inline-xref-macro">使用网格管理器升级存储控制器上的 SANtricity 操作系统（ SG5700 ）</block>
  <block id="dee20646492c5452d9d0748e5f934421" category="list-text"><block ref="dee20646492c5452d9d0748e5f934421" category="inline-xref-macro-rx"></block></block>
  <block id="a6ad949965fede8d75e433bb561f1bc2" category="inline-xref-macro">使用网格管理器升级存储控制器上的 SANtricity 操作系统（ SG6000 ）</block>
  <block id="5f524255620e03bf063ceb198cdf9183" category="list-text"><block ref="5f524255620e03bf063ceb198cdf9183" category="inline-xref-macro-rx"></block></block>
  <block id="b72cd5bfb5b5feec777905bb4410c801" category="section-title">外部系统日志服务器支持</block>
  <block id="5d5c961e24f46504b2aae1647ddd7ec9" category="inline-xref-macro">配置审核消息和日志目标</block>
  <block id="60c0220952c795aca67d7f5a869d0b2a" category="list-text">现在，如果要远程保存和管理审核消息以及部分 StorageGRID 日志（ * 配置 * &gt; * 监控 * &gt; * 审核和系统日志服务器 * ），则可以配置外部系统日志服务器。配置外部系统日志服务器后，您可以在本地，远程或同时保存审核消息和某些日志文件。通过配置审核信息的目标，您可以减少管理节点上的网络流量。请参见 <block ref="ae288695ae0d1fa43aff6e30548d4024" category="inline-xref-macro-rx"></block>。</block>
  <block id="6611769f0ffb717c7c1f36c97af288b9" category="inline-xref-macro">收集日志文件和系统数据</block>
  <block id="f3f397641ee1804d4208b27fec7463ee" category="list-text">与此功能相关的是，日志页面（ * 支持 * &gt; * 工具 * &gt; * 日志 * ）上的新复选框可用于指定要收集的日志类型，例如某些应用程序日志，审核日志，用于网络调试的日志以及 Prometheus 数据库日志。请参见 <block ref="723f1d8bb5deda633ef97e568f8fcee0" category="inline-xref-macro-rx"></block>。</block>
  <block id="7559601b4e225904cb20a919f5cfb181" category="section-title">S3 Select</block>
  <block id="e03115699dd2a7e45c3db0f35b4792a7" category="inline-xref-macro">管理租户帐户的 S3 Select</block>
  <block id="ee53030a5bd3b5a7a8cb15fd24f33cc1" category="inline-xref-macro">使用 S3 Select</block>
  <block id="e79cbb40bc8d485b737b2bd3a10aaaa7" category="paragraph">现在，您可以选择允许 S3 租户对单个对象发出问题描述 SelectObjectContent 请求。S3 Select 可以高效地搜索大量数据，而无需部署数据库和相关资源即可启用搜索。它还可以降低检索数据的成本和延迟。请参见 <block ref="c5e28fa1535a4cbab140fadc231ad99a" category="inline-xref-macro-rx"></block> 和 <block ref="869869e8f5471205980236e9c64d27da" category="inline-xref-macro-rx"></block>。</block>
  <block id="277129f128829c53a04936dfd87898b9" category="inline-xref-macro">查看支持指标</block>
  <block id="03a7246ab28d45d27eea6bbd407a8225" category="paragraph">此外，还为 S3 Select 操作添加了 Grafana 图表。请参见 <block ref="c35e7c1f53a1a49fa62a465c5362b3d4" category="inline-xref-macro-rx"></block>。</block>
  <block id="cf706741cd379fbda764c50f5263debc" category="section-title">S3 对象锁定默认存储分段保留期限</block>
  <block id="efba7581d593db1275ac5d0c604ba03d" category="inline-xref-macro">使用 S3 对象锁定</block>
  <block id="c0facfa457bdf73702619051bdd15a1c" category="paragraph">现在，在使用 S3 对象锁定时，您可以为存储分段指定默认保留期限。默认保留期限适用场景 添加到存储分段中但没有自己保留设置的任何对象。请参见 <block ref="50accd69a547c5300024d857f9d8e09c" category="inline-xref-macro-rx"></block>。</block>
  <block id="af6fe8bd26a26cc7137d21490ad5efa9" category="section-title">Google Cloud Platform 支持</block>
  <block id="a79afcbe837dc57e9e3f537471a207ab" category="inline-xref-macro">指定平台服务端点的 URN</block>
  <block id="3c7d69d6d7f736880a559e085e23e1b9" category="inline-xref-macro">创建云存储池</block>
  <block id="b049af27e48bd2dfa01754a8a37c4a9c" category="paragraph">现在，您可以使用 Google Cloud Platform （ GCP ）作为云存储池和 CloudMirror 平台服务的端点。请参见 <block ref="7053a5ba77bc93b1c712ab6d073ec13a" category="inline-xref-macro-rx"></block> 和 <block ref="3f337a7f813650eb4d115504964c39f0" category="inline-xref-macro-rx"></block>。</block>
  <block id="24e7361ed67d0c1fe2b4f24e39909609" category="section-title">AWS C2S 支持</block>
  <block id="99d68568455324a76d67984747b01911" category="inline-xref-macro">创建平台服务端点</block>
  <block id="3b863fbff0573f242acd26e88e3a6e32" category="paragraph">现在，您可以使用 AWS Commercial Cloud Services （ C2S ）端点进行 CloudMirror 复制。请参见 <block ref="7bc05b27d913f3aca6097fd09542e657" category="inline-xref-macro-rx"></block>。</block>
  <block id="e631939373a6ea3d4ab7f30e2beb48bc" category="section-title">其他 S3 更改</block>
  <block id="1285f47a492eb1cdc0e51bbc2e6e2efa" category="list-text">* 获取多部分对象的对象和头对象支持 * 。以前， StorageGRID 在 GET 对象或 HEAD 对象请求中不支持 `partnumber` request 参数。现在，您可以通过问题描述 GET 和 HEAD 请求检索多部件对象的特定部分。GET 和 HEAD 对象还支持 `x-AMZ-MP-parts-count` 响应元素，以指示对象包含的部件数。</block>
  <block id="8b7f17302af3ee7cc8fd6332cfdce408" category="list-text">* 对 " 可用 " 一致性控制的更改 * 。现在， " 可用 " 一致性控制与 " 读后写 " 一致性级别相同，但可为 head 和 get 操作提供最终一致性。如果存储节点不可用，则 " 可用 " 一致性控制可以为 head 和 get 操作提供比 " 读后写入 " 更高的可用性。与 Amazon S3 对机头和 GET 操作的一致性保证不同。</block>
  <block id="14b39671464f995fc154f386051eb0fe" category="inline-xref-macro">使用 S3</block>
  <block id="cb9b6c6687eb7e9e4247c9c2fba460a9" category="paragraph"><block ref="cb9b6c6687eb7e9e4247c9c2fba460a9" category="inline-xref-macro-rx"></block></block>
  <block id="4a02475d909bd7464565a63664e4dc8b" category="section-title">性能增强</block>
  <block id="8e18ded938a17f42c1ff15a331714c74" category="list-text">* 存储节点可支持 20 亿个对象 * 。存储节点上的底层目录结构经过优化，可提高可扩展性和性能。现在，存储节点可以使用额外的子目录来存储多达 20 亿个复制对象，并最大限度地提高性能。升级到 StorageGRID 11.6 时，节点子目录会进行修改，但现有对象不会重新分布到新目录中。</block>
  <block id="5833770df2e4c130a6e04d7f7a63cd7b" category="list-text">* 对于高性能设备， ILM 驱动的删除性能提高 * 。现在，用于执行 ILM 删除操作的资源和吞吐量可根据每个 StorageGRID 设备节点的大小和功能进行调整。对于 SG5600 设备，吞吐量与 StorageGRID 11.5 相同。对于 SG5700 设备， ILM 删除性能略有提高。对于 RAM 较多且 CPU 较多的 SG6000 设备，现在处理 ILM 删除的速度更快。这些改进在全闪存 SGF6024 设备上尤为明显。</block>
  <block id="b8c6122ad2b1950751f02ecb3fddfbe8" category="inline-xref-macro">什么是存储卷水印</block>
  <block id="25fdecdaecadbd55ff6b48a402a757aa" category="list-text">* 存储卷水印已优化 * 。在先前版本中，三个存储卷水印的设置会应用于每个存储节点上的每个存储卷。现在， StorageGRID 可以根据存储节点的大小和卷的相对容量为每个存储卷优化这些水印。请参见 <block ref="01030cfd4355ae366a30f4ae7364aba0" category="inline-xref-macro-rx"></block>。</block>
  <block id="4445dd46c6ca2772aa7eaca9b96c0306" category="paragraph">优化的水印会自动应用于所有新的和升级最广泛的 StorageGRID 11.6 系统。优化的水印将大于先前的默认设置。</block>
  <block id="258644e2341625b82cd5a722f1f85a34" category="inline-xref-macro">对低只读水印覆盖警报进行故障排除</block>
  <block id="1ff6a9b6f1fd5ffabe9c6e7b96fba95f" category="paragraph">如果使用自定义水印，则升级后可能会触发 * 低只读水印覆盖 * 警报。通过此警报，您可以了解自定义水印设置是否太小。请参见 <block ref="2977451317efd4ceab06155fa4f039e1" category="inline-xref-macro-rx"></block>。</block>
  <block id="51ab4a20c9b89fb44bdf8a0f01e10606" category="paragraph">在此更改中，添加了两个 Prometheus 指标：</block>
  <block id="7bbe9407a539c14f6f357a6ec04350c7" category="list-text">`storagegRid_storage_volume_minimum_optimized_soft_readonly_slogm`</block>
  <block id="5f523a6b330b3e7d3697850f12675f87" category="list-text">`storagegRid_storage_volume_max_optimized_soft_readonly_slogm`</block>
  <block id="791765b366930a9beb07ef6a624fc5ab" category="list-text">* 允许的最大元数据空间增加 * 。对于容量较高的节点，存储节点允许的最大元数据空间已增加到 3.96 TB （从 2.64 TB 增加到 3.96 TB ），这些节点是指实际为元数据预留的空间超过 4 TB 的节点。此新值允许在某些存储节点上存储更多对象元数据，并可将 StorageGRID 元数据容量最多增加 50% 。</block>
  <block id="aa348bd412bcdcba2c98ebcd3abc5b8a" category="inline-xref-macro">安装或升级后，手动将元数据预留空间设置提高到 8 TB</block>
  <block id="05413b0e33ac2d58a7b908b04c0c77d3" category="admonition">如果您尚未执行此操作，并且存储节点在卷 0 上具有足够的 RAM 和空间，则可以执行此操作 <block ref="5b10421ce475827189df4b130b47291c" category="inline-xref-macro-rx"></block>。</block>
  <block id="9aeefcc0c6353d5924225c9ef1988008" category="inline-xref-macro">管理对象元数据存储和允许的元数据空间</block>
  <block id="f37a3a6727ca0eaae0c45e0750b34ef5" category="list-text"><block ref="431d107aa4e48fd0f7906d0f704dd656" category="inline-xref-macro-rx"></block></block>
  <block id="d0584aac4f28893ddaf24d6e8b5a5f46" category="list-text"><block ref="d0584aac4f28893ddaf24d6e8b5a5f46" category="inline-xref-macro-rx"></block></block>
  <block id="0c134fe429cf12b96c3c1a78224f8dc0" category="section-title">维护过程和支持工具的增强功能</block>
  <block id="55963a9ba81614251a5c44ec55104e45" category="inline-xref-macro">更改节点控制台密码</block>
  <block id="dbc8d1672cca3b90a33cddc850b2d46f" category="list-text">* 可以更改节点控制台密码 * 。现在，您可以使用网格管理器更改节点控制台密码（ * 配置 * &gt; * 访问控制 * &gt; * 网格密码 * ）。这些密码用于通过 SSH 以 "admin" 身份登录到节点，或者通过 VM/ 物理控制台连接登录到 root 用户。请参见 <block ref="387c4a43cdec3f174d9431780ce64b38" category="inline-xref-macro-rx"></block>。</block>
  <block id="061a942e6f937fcb8ca1625265282afb" category="inline-xref-macro">验证对象完整性</block>
  <block id="345fee19567047d4b84599465bf182c9" category="list-text">* 新建对象存在检查向导 * 。现在，您可以使用易于使用的对象存在检查向导（ * 维护 * &gt; * 任务 * &gt; * 对象存在检查 * ）来验证对象完整性，该向导将取代前台验证操作步骤 。新的操作步骤 所需时间不超过完成时间的三分之一，并且可以同时验证多个节点。请参见 <block ref="4ded36c3c20c6e0d472f4cdb57e7f6e3" category="inline-xref-macro-rx"></block>。</block>
  <block id="23e1874acc22c812ec6cf32eecb42792" category="list-text">"EC 重新平衡和 EC 修复作业的估计完成时间 " 图表 * 。现在，您可以查看当前 EC 重新平衡或 EC 修复作业的估计完成时间和完成百分比。</block>
  <block id="14b432fa6b7866c4ea278517bf36db5d" category="list-text">* 复制数据修复的估计完成百分比 * 。现在，您可以将 `show -repliced-repair-status` 选项添加到 `repair-data` 命令中，以查看复制修复的估计完成百分比。</block>
  <block id="bc96faed099fc1d254c3b7c33952f0ec" category="admonition">在 StorageGRID 11.6 中，可以使用 `show -replicate-repair-status` 选项进行技术预览。此功能正在开发中，返回的值可能不正确或延迟。要确定修复是否已完成，请按照恢复过程中所述，继续使用 * 等待 - 全部 * ， * 尝试修复（ XRPA ）和 * 扫描期限 - 估计（ XSCM ） * 。</block>
  <block id="f8140b5422813cc59a5aa359d2ad493f" category="list-text">诊断页面（ * 支持 * &gt; * 工具 * &gt; * 诊断 * ）上的结果现在按严重性排序，然后按字母顺序排序。</block>
  <block id="aa05d32f887d29202a57de48d54fe33c" category="list-text">Prometheus 和 Grafana 已更新为更新版本，并修改了界面和图表。在此更改过程中，某些指标中的标签也发生了更改。</block>
  <block id="e644f34d844b1e00d2aaf51f1cf3b503" category="list-text">如果您的自定义查询使用了 `node_network_up` 中的标签，则现在应改用 `node_network_info` 中的标签。</block>
  <block id="ed112a85ae9362074594ef1e79bf97a9" category="list-text">如果您还使用了 `node_network` 指标中的标签名称 `interface` ，则现在应改用 `device` 标签。</block>
  <block id="a6e047a24bdb3b18f0c3683c0518bd09" category="list-text">以前， Prometheus 指标存储在管理节点上 31 天。现在，指标会一直存储到为 Prometheus 数据预留的空间已满为止，这会显著延长历史指标的可用时间。</block>
  <block id="90401fc4eb1a56a73e2dd5ff32bb744f" category="paragraph">当 ` /var/local/mysql_ibdata/` 卷达到容量时，首先删除最旧的指标。</block>
  <block id="013efea19f002683e016d90789038d6e" category="section-title">安装增强功能</block>
  <block id="430bd3a3af78d6b5f2e8717fb0353c60" category="list-text">现在，您可以在安装 Red Hat Enterprise Linux 期间选择使用 Podman 作为容器。以前， StorageGRID 仅支持 Docker 容器。</block>
  <block id="2575cd4e20003e5bfd65fe929224b9bb" category="list-text">现在， RedHat Enterprise Linux/CentOS ， Ubuntu 或 Debian 和 VMware 平台的安装归档中包含了适用于 StorageGRID 的 API 架构。提取归档后，您可以在 ` /ExtrS/API-schemas` 文件夹中找到这些模式。</block>
  <block id="45daabb244c725504eabb1d7a10209f1" category="list-text">对于裸机部署，节点配置文件中的 `block_device_RANGEDB` 密钥现在应包含三位数，而不是两位数。也就是说，您应指定 `block_device_RANGEDB_nn` ，而不是 `block_device_RANGEDB_nnn` 。</block>
  <block id="dc300349f380ca8a272dd7bbc0d8f920" category="paragraph">为了与现有部署兼容，升级后的节点仍支持两位数的密钥。</block>
  <block id="5f4f7542777eb77108560ca0b008c09e" category="list-text">您可以选择将新的 `interfaces_target_nnnn` 密钥的一个或多个实例添加到节点配置文件中，以进行裸机部署。每个密钥都提供裸机主机上物理接口的名称和问题描述 ，此名称和将显示在 "VLAN interfaces" 页面和 "HA Groups" 页面上。</block>
  <block id="644420dce10859835e0f6644f50851e0" category="inline-xref-macro">为 Red Hat Enterprise Linux 或 CentOS 部署创建节点配置文件</block>
  <block id="fc91f15df2c9b9fbff9807ad50e98c58" category="list-text"><block ref="fc91f15df2c9b9fbff9807ad50e98c58" category="inline-xref-macro-rx"></block></block>
  <block id="ff863e71b49d68485f22c3bccc07e963" category="inline-xref-macro">为 Ubuntu 或 Debian 部署创建节点配置文件</block>
  <block id="8a69a422862d5764d757b1f04decc1e8" category="list-text"><block ref="8a69a422862d5764d757b1f04decc1e8" category="inline-xref-macro-rx"></block></block>
  <block id="67dd17daad32744923e4d11c2d6688fe" category="section-title">新警报</block>
  <block id="5c3dcc33934a65071d09639ee7afc69c" category="paragraph">为 StorageGRID 11.6 添加了以下新警报：</block>
  <block id="6a0fc6dda5fa5a68c14a2ad429bdb051" category="list-text">正在将审核日志添加到内存队列中</block>
  <block id="210f96e7c48f9f18f3eed98274334848" category="list-text">Cassandra 表损坏</block>
  <block id="b90a948fa578e71f93b1a54635603018" category="list-text">EC 重新平衡失败</block>
  <block id="cf1a65a37e1d2d61fbaa2b6705c4e782" category="list-text">EC 修复失败</block>
  <block id="5e8a71680082f04e5d11338879aaef68" category="list-text">EC 修复已停止</block>
  <block id="72cbca165634da1e37adb69da49e9b94" category="list-text">S3 和 Swift API 的全局服务器证书到期</block>
  <block id="6888af9cd8aa7f319a9a7e596153df33" category="list-text">外部系统日志 CA 证书到期</block>
  <block id="dbee16dcec396e6bcd4b36e838ec2059" category="list-text">外部系统日志客户端证书到期</block>
  <block id="c2a842950526ed509e5e692e175a016c" category="list-text">外部系统日志服务器证书到期</block>
  <block id="0c659fcfa92fbcb2c9d50697cde5e98a" category="list-text">外部系统日志服务器转发错误</block>
  <block id="a7cc68f740c2599c7520933a6395ec2a" category="list-text">租户的身份联合同步失败</block>
  <block id="ee6db140332bb2974636ace5713e4b4b" category="list-text">检测到原有 CLB 负载平衡器活动</block>
  <block id="87274e3316f44e499507c39d49c00a9c" category="list-text">正在将日志添加到磁盘队列中</block>
  <block id="42e748f1461cc231188cd3603421af1d" category="list-text">低只读水印覆盖</block>
  <block id="511079376725d9482ce4e85f3f0d47ae" category="list-text">tmp 目录可用空间不足</block>
  <block id="6f54002900a34d6b4ae6d9cf42d205a3" category="list-text">对象存在检查失败</block>
  <block id="7f11da8d788753b0a72a19c27d759b5e" category="list-text">对象存在检查已停止</block>
  <block id="7d56df563cedf54fb87bd6066b3ddcea" category="list-text">S3 PUT 对象大小太大</block>
  <block id="9db1082585ed7a8d0af9b6b7433193fd" category="inline-xref-macro">警报参考</block>
  <block id="b4f084907909b16578cc1cb782fbe8ac" category="paragraph">请参见 <block ref="094e6bf7bbdaa65eb9e3ed74df88ce84" category="inline-xref-macro-rx"></block>。</block>
  <block id="12524c6d22cc21759b1caa81a5cc13b5" category="section-title">审核消息的更改</block>
  <block id="570b839cff265d35ab2f451113bc3ce6" category="list-text">已向 ORLM ：对象规则已满足审核消息添加一个新的 * BUID* 字段。"BUID* 字段显示用于内部操作的存储分段 ID 。只有当消息状态为 PRGD 时，才会显示新字段。</block>
  <block id="cb9d1393f6065596d65ec97c88e56848" category="list-text">在以下审核消息中添加了一个新的 * SGRP* 字段。只有在删除对象的站点与插入对象的站点不同时， * SGRP* 字段才会显示。</block>
  <block id="8aeace1464a59525a1f8bf49289516d5" category="list-text">idel ： ILM 已启动删除</block>
  <block id="d91c70991435a529af013bba72d7a602" category="list-text">OVWR ：对象覆盖</block>
  <block id="a67939ae68004244fb50ea99914ce53d" category="list-text">SDEL ： S3 delete</block>
  <block id="372f187462ab3f1833f98d485daba8a8" category="list-text">WDEL ： Swift delete</block>
  <block id="22906b56a7e7d40a4a5026acaa4f801a" category="inline-xref-macro">查看审核日志</block>
  <block id="258287fd6e2635667e5568b3d5d9bbe3" category="paragraph">请参见 <block ref="6678ff9ab033a73c5956a0530afa2bed" category="inline-xref-macro-rx"></block>。</block>
  <block id="e50167e804ddcfc07a6d2fc8accb727a" category="section-title">StorageGRID 文档更改</block>
  <block id="1a9ed7c92886c1c710540252660c1749" category="paragraph">StorageGRID 11.6 文档站点的外观已经过修改，现在使用 GitHub 作为底层平台。</block>
  <block id="aa57162b2ca98195976f14424ff656cf" category="paragraph">NetApp 非常感谢对内容的反馈，并鼓励用户利用产品文档每页上提供的新的 " 请求文档更改 " 功能。文档平台还为 GitHub 用户提供嵌入式内容贡献功能。</block>
  <block id="84a56908f335233c70789a8f781ef4f5" category="paragraph">请查看此文档并为其提供帮助。您可以编辑，请求更改或仅发送反馈。</block>
  <block id="c6eceea8859742fda259b70cd1b0f660" category="summary">尝试启动升级过程时，您可能会收到一条错误消息，指出 " Docker 映像可用性检查验证套件发现以下问题。 " 必须先解决所有问题，然后才能完成升级。</block>
  <block id="f3261f0eb7c29b6e2fc932282155ca0a" category="doc">错误消息： Docker 映像可用性检查</block>
  <block id="f812458d290329500296a4107fd7d479" category="paragraph">尝试启动升级过程时，您可能会收到一条错误消息，指出 "`Docker 映像可用性检查验证套件发现以下问题。` 必须先解决所有问题，然后才能完成升级。</block>
  <block id="6c6d7b0c08a41e553b5bc51ed670fd47" category="paragraph">如果您不确定解决所发现问题所需的更改，请联系技术支持。</block>
  <block id="4c2a8fe7eaf24721cc7a9f0175115bd4" category="cell">message</block>
  <block id="50fc9b91746bb8d34fa385d9324741ed" category="cell">发生原因</block>
  <block id="49b21ad0d38942f635877e7bbc5d7a1e" category="cell">解决方案</block>
  <block id="99d3def2c290a06c52150ad0f107ca93" category="paragraph">无法确定升级版本。升级版本信息文件 ` ｛ file_path ｝` 与预期格式不匹配。</block>
  <block id="045726e84090905953beb52d66602623" category="paragraph">升级软件包已损坏。</block>
  <block id="6cf323b703c563054905a53a48c4d04f" category="paragraph">请重新上传升级包，然后重试。如果问题仍然存在，请联系技术支持。</block>
  <block id="d24e3366ba3e66a258a4dea8a64757ee" category="paragraph">未找到升级版本信息文件 ` ｛ file_path ｝` 。无法确定升级版本。</block>
  <block id="f5b0757374dddd113a877868ada4da30" category="paragraph">无法确定 ` ｛ node_name ｝` 上当前安装的版本。</block>
  <block id="f26186c4b3bddccea3fbfba16a9b038d" category="paragraph">节点上的关键文件已损坏。</block>
  <block id="50c2d2087402d2dc8c5767a6ac83e96d" category="paragraph">请联系技术支持。</block>
  <block id="c2f15f5d43a884dc86dd35ff53ffd810" category="paragraph">尝试列出 ` ｛ node_name ｝` 上的版本时出现连接错误</block>
  <block id="3af90a890cdfa0ddf6b27ace250fc066" category="paragraph">节点脱机或连接中断。</block>
  <block id="3d898164095968a720c0520a00dcb1d5" category="paragraph">请检查以确保所有节点均联机并可从主管理节点访问，然后重试。</block>
  <block id="96930d35c8b5982467f0dd8cd293d076" category="paragraph">节点 ` ｛ node_name ｝` 的主机未加载 StorageGRID ` ｛ upgrade_version ｝` 映像。必须先在主机上安装映像和服务，然后才能继续升级。</block>
  <block id="cbb5d5dbf595e26e7ff0dade6a62930f" category="paragraph">用于升级的 RPM 或 Deb 软件包未安装在运行节点的主机上，或者映像仍在导入过程中。</block>
  <block id="4bd4a534a16090e30aa40a9e4c3068e4" category="paragraph">* 注： * 此错误仅适用于在 Linux 上作为容器运行的适用场景 节点。</block>
  <block id="f6459a799c0bc16426a2575c0dd5f6ab" category="paragraph">检查以确保 RPM 或 Deb 软件包已安装在运行节点的所有 Linux 主机上。确保服务和映像文件的版本正确。请稍等几分钟，然后重试。</block>
  <block id="f410c308ffb847c09e44130d4f564019" category="inline-xref-macro">Linux ：在所有主机上安装 RPM 或 Deb 软件包</block>
  <block id="36a21bbf20c4a6a6e184b3cdd2f74529" category="paragraph">请参见 <block ref="f8569d81e4cb9e9973b507cbc120a635" category="inline-xref-macro-rx"></block>。</block>
  <block id="35641b647ec9d14c2485aa2d5798ad42" category="paragraph">检查节点 ` ｛ node_name ｝` 时出错</block>
  <block id="1da2e8106b3a2171fbb7193a24b91526" category="paragraph">发生意外错误。</block>
  <block id="115c55328252d98c743c0d8a30953ade" category="paragraph">请稍等几分钟，然后重试。</block>
  <block id="1ac5d1da185b20c91fe2d053cda75711" category="paragraph">运行预检时出现未捕捉的错误。` ｛ error_string ｝`</block>
  <block id="a79e6499c92a4c50c44a42a71b5a5632" category="summary">如果在 Linux 主机上部署了任何 StorageGRID 节点，则在开始升级之前，必须在每个主机上安装一个额外的 RPM 或 Deb 软件包。</block>
  <block id="8dbfcc1d70ab83d7088081f7b853cbb7" category="doc">Linux ：在所有主机上安装 RPM 或 Deb 软件包</block>
  <block id="3d8fb22addb9e21bca66ba6617e6a1d8" category="paragraph">您必须已从 StorageGRID 的 "NetApp 下载 " 页面下载以下 ` .tgz` 或 ` .zip` 文件之一。</block>
  <block id="631f6672e4fb7635ba4ee71d4c247373" category="admonition">如果您在服务笔记本电脑上运行 Windows ，请使用 ` .zip` 文件。</block>
  <block id="d6066ed8c1bde151f6df1c1af5e5c343" category="cell">Linux 平台</block>
  <block id="8c201a8c98d26b9c40d5f24dca30d76e" category="cell">其他文件（选择一个）</block>
  <block id="b18bd08e5f73e1bc581c5178541e5fa3" category="list-text">`storageGRID-Webscale -_version_-RPM-_uniqueID_.zip`</block>
  <block id="572c72ef48bbf0b9949d98ff8a933a66" category="list-text">`storageGRID-Webscale -_version_-RPM-_uniqueID_.tgz`</block>
  <block id="3112d3f849c69713cba671603380efd0" category="list-text">`storageGRID-Webscale -_version_-Deb-_uniqueID_.zip`</block>
  <block id="343ed0e5126879b087bd7d6114cfa0e8" category="list-text">`storageGRID-Webscale -_version_-Deb-_uniqueID_.tgz`</block>
  <block id="4ebb51c8b09c8b2948d6041d4353f6ca" category="list-text">从安装文件中提取 RPM 或 Deb 软件包。</block>
  <block id="99976bcce45c6874b0e5d9b433c6beca" category="list-text">在所有 Linux 主机上安装 RPM 或 Deb 软件包。</block>
  <block id="5c1e041764a9d0de121f5f8bdb96d240" category="paragraph">请参见适用于您的 Linux 平台的安装说明中有关安装 StorageGRID 主机服务的步骤。</block>
  <block id="35268cf48a2c36936dd7e60d277e8df8" category="paragraph">新软件包将作为附加软件包进行安装。请勿删除现有软件包。</block>
  <block id="79759976bc1f32352d969ff73e63ca0e" category="summary">此版本已删除或弃用某些功能。查看这些项目，了解在升级之前是需要更新客户端应用程序还是修改配置。</block>
  <block id="49bab90fe422a137c501e4fcbba7dea0" category="doc">已删除或已弃用的功能</block>
  <block id="9609bb452a09892dc80c74e54ad3c12f" category="section-title">已弃用警报系统和基于警报的 API</block>
  <block id="47ab9907c0833fa092f86b323b2a096d" category="paragraph">自 StorageGRID 11.6 版起，原有警报系统已弃用。旧警报系统的用户界面和 API 将在未来版本中删除。</block>
  <block id="b33787464dc5f012e3e421d70f67406b" category="inline-xref-macro">管理警报和警报：概述</block>
  <block id="3c29b0ec7cd3c74d8d971664167af31c" category="admonition">如果您仍在使用传统警报，请计划在升级到 StorageGRID 11.6 后完全过渡到警报系统。请参见 <block ref="603a6c1d46524d23c1263b87e2432247" category="inline-xref-macro-rx"></block> 了解有关警报的更多信息。</block>
  <block id="e54144e82d109342607ef9a1d787efde" category="paragraph">11.6 版本会弃用所有基于警报的 API 。以下 API 受此更改影响：</block>
  <block id="8976a3e98818a3f4c1cbb34e7ae7a571" category="list-text">`GET /grid/alarms` ：完全弃用</block>
  <block id="c462cd41b91249d8bbcfb070f9e70c14" category="list-text">`GET /grid/health/topology` ：完全弃用</block>
  <block id="04486ff4d9263c1328b7743e0b7b120b" category="list-text">`get /grid/health` ：响应的 `alarm-counts` 部分已弃用</block>
  <block id="f2b7f2b8d2adc56de29e7a58dda81847" category="section-title">未来版本不支持 PUT 对象的最大对象大小为 5 TiB</block>
  <block id="e94f4b4261b827bd785829315167d054" category="paragraph">在未来的 StorageGRID 版本中，一个 PUT 对象操作的最大大小将为 5 GiB ，而不是 5 TiB 。您可以对大于 5 GiB 的对象使用多部分上传，最大上传量为 5 TiB （ 5 ， 497 ， 556 ， 138 ， 880 字节）。</block>
  <block id="25d5f4de9bcca3edf6254f810b8394b8" category="paragraph">为了帮助您将客户端过渡到在 PUT 对象中使用较小的对象大小，如果 S3 客户端尝试上传超过 5 GiB 的对象，则在 StorageGRID 11.6 中将触发 * S3 PUT 对象大小过大 * 警报。</block>
  <block id="fd8bea83162fac173c5cf65d76f554be" category="section-title">NAS 网桥功能已弃用</block>
  <block id="29ebaf03889bd2d0dd72951a753f518c" category="paragraph">NAS 网桥功能先前在 StorageGRID 11.4 版中进入了有限访问权限。NAS 网桥功能仍受限访问，自 StorageGRID 11.6 之日已弃用。</block>
  <block id="081106a9792a620f4c10e621b90a8476" category="paragraph">NAS 网桥 11.4 仍为最终版本，并将继续与 StorageGRID 11.6 兼容。查看<block ref="0aaf04254af18646f3d246cd4a4b417d" category="inline-link-rx"></block> 确保 NAS 网桥 11.4 和 StorageGRID 版本之间的持续兼容性。</block>
  <block id="a2f05d06722951dd284e3dd7ee10e41c" category="inline-link">NAS 网桥的支持计划</block>
  <block id="4c23f129b6de2e64be8840182fc12b7d" category="paragraph">查看 NetApp 支持站点上的<block ref="618e7ddabd8d2353d302ce89e35ce824" category="inline-link-rx"></block>。</block>
  <block id="975eafe03eb13242720d544b80820680" category="summary">在开始升级之前，您必须确认先前版本的 StorageGRID 当前已安装应用了最新可用的修补程序。</block>
  <block id="c397a44a97e67e80becfb9a5cb88d7ab" category="doc">验证已安装的 StorageGRID 版本</block>
  <block id="457ce0797006d6d03ad37123ef4cc152" category="paragraph">在升级到 StorageGRID 11.5 之前，网格必须安装 StorageGRID 11.5 。如果您当前使用的是早期版本的 StorageGRID ，则必须安装所有先前的升级文件及其最新的修补程序（强烈建议），直到网格的当前版本为 StorageGRID 11.5. _x.y_ 为止。</block>
  <block id="1a79a4d60de6718e8e5b326e338ae533" category="inline-xref">示例</block>
  <block id="0df1f6195eed653546cc6b175f0d8008" category="paragraph">中显示了一个可能的升级路径 <block ref="aa73acd5ae7f4b4ce44decdc224387fc" category="inline-xref-macro-rx"></block>。</block>
  <block id="7f0d2419f0f5dc4bd33bb413d81e3377" category="admonition">NetApp 强烈建议您在升级到下一个版本之前对每个 StorageGRID 版本应用最新的修补程序，同时对安装的每个新版本应用最新的修补程序。在某些情况下，您必须应用修补程序以避免数据丢失的风险。请参见<block ref="3a735a799daac20e9917a1b7027a5825" category="inline-link-rx"></block> 以及每个修补程序的发行说明以了解更多信息。</block>
  <block id="91648f5da7f3899eebf70c8b98f1f09e" category="paragraph">请注意，您可以运行一个脚本，以便一步从 11.3.1.0.3+ 更新到 11.4.0._y_ ，一步从 11.4.0.7+ 更新到 11.5.0._y_ 。请参见<block ref="097b7a6eae23b61958499b0c5001ce8a" category="inline-link-rx"></block>。</block>
  <block id="044ef56e3b7a57fb644cd452bc14b841" category="list-text">从网格管理器的顶部，选择 * 帮助 * &gt; * 关于 * 。</block>
  <block id="143a4310a47b02df504033d04e61e698" category="list-text">验证 * 版本 * 是否为 11.5. _x.y_ 。</block>
  <block id="2289150bdfecb2f21d1385b833e56a83" category="paragraph">在 StorageGRID 11.5. _x.y_ 版本号中：</block>
  <block id="4093b9be50905cfc974c44d724bd98c4" category="list-text">主要版本 * 的 _x_ 值为 0 （ 11.5.0 ）。</block>
  <block id="1b1660c069cead6118623d8b96fd43a7" category="list-text">如果应用了一个 * 热修补程序 * ，则该热修补程序 * 具有 _y_ 值（例如 11.5.0.1 ）。</block>
  <block id="1be5506ac1f371cb8fd791d204a3a276" category="list-text">如果 * 版本 * 不是 11.5. _x.y_ ，请转至<block ref="3a735a799daac20e9917a1b7027a5825" category="inline-link-rx"></block> 下载每个先前版本的文件，包括每个版本的最新修补程序。</block>
  <block id="d77ea80b4b13ca10249b7b0f1ab5b0c9" category="list-text">获取下载的每个版本的升级说明。然后，对该版本执行软件升级操作步骤 ，并应用该版本的最新修补程序（强烈建议）。</block>
  <block id="19ad05ce216828cf31d75db3b5189076" category="inline-xref-macro">StorageGRID 热修补程序操作步骤</block>
  <block id="a818b00c9b363c937368272bd7cd92f2" category="paragraph">请参见 <block ref="859b02908d0c265cb28bff44417a7449" category="inline-xref-macro-rx"></block>。</block>
  <block id="8d11f69aec9a15fe43225a81d21b45bb" category="section-title">示例：从 11.3.0.8 版升级到 StorageGRID 11.5</block>
  <block id="5d6fe1c481be398833fde763551dbe2a" category="paragraph">以下示例显示了从 StorageGRID 11.3.0.8 版升级到 11.5 版以准备 StorageGRID 11.5 版的步骤。</block>
  <block id="7659c4ea94724a06205d24447f58fb80" category="admonition">或者，您也可以运行一个脚本来合并步骤 2 和 3 （从 11.3.1.0.13 更新到 11.4.0._y_ ）以及合并步骤 4 和 5 （从 11.4.0.7+ 更新到 11.5.0._y_ ）。请参见<block ref="097b7a6eae23b61958499b0c5001ce8a" category="inline-link-rx"></block>。</block>
  <block id="44d8c69167834fd1e59ee02c594b04f8" category="paragraph">按以下顺序下载并安装软件，以便为您的系统做好升级准备：</block>
  <block id="fb35e93c6e8abf4536ea6140f6a9970a" category="list-text">应用最新的 StorageGRID 11.3.0._y_ 修补程序。</block>
  <block id="90f8e728ef4339991409b25fe666f243" category="list-text">升级到 StorageGRID 11.4.0 主要版本。</block>
  <block id="c411dedf10c81e00929729ce17b1fe68" category="list-text">应用最新的 StorageGRID 11.4.0._y_ 修补程序。</block>
  <block id="baa4d26b088e1f0192dbb0d1b2a14222" category="list-text">升级到 StorageGRID 11.5.0 主要版本。</block>
  <block id="452313b2ed78932ee7d24adb307506a1" category="list-text">应用最新的 StorageGRID 11.5.0._y_ 修补程序。</block>
  <block id="7f89761b489bc3b57916472f3acc78a9" category="summary">开始升级之前，请查看常规工作流。StorageGRID 升级页面将指导您完成升级步骤。</block>
  <block id="5b416e1633d16aad217a2e0fc2d097f8" category="doc">升级工作流</block>
  <block id="c7c249fc404518540d4161964322cd86" category="paragraph">开始升级之前，请查看常规工作流。StorageGRID 升级页面将指导您完成每个升级步骤。</block>
  <block id="ef07d51a8821907a2d472ecb86251040" category="image-alt">软件升级步骤流程图</block>
  <block id="b020ac293107cb0214911a194116bad1" category="inline-xref-macro">在每个主机上安装 RPM 或 Deb 软件包</block>
  <block id="7428bcc0c31338a09811ea8e40cf23ec" category="list-text">如果在 Linux 主机上部署了任何 StorageGRID 节点， <block ref="fbcca02a391f075a928b8f01b6026d1b" category="inline-xref-macro-rx"></block> 开始升级之前。</block>
  <block id="49c7b270a24b55fc458cc9db75435ccd" category="list-text">在主管理节点上，访问 StorageGRID 升级页面并上传升级文件。</block>
  <block id="0a94f0488e7ef7fddd5c8dfc3da53f22" category="list-text">您也可以在开始实际升级之前运行升级预检来检测和解决任何问题。</block>
  <block id="306631950993d7c8c8d2d95ac7665fb2" category="list-text">启动升级，此过程将自动运行预检并升级主管理节点。在升级主管理节点时，您无法访问网格管理器。审核日志也将不可用。此升级可能需要长达 30 分钟的时间。</block>
  <block id="3b8bb80b2d6a39e07a29769de5c73ded" category="list-text">升级主管理节点后，清除 Web 浏览器的缓存，重新登录并返回 StorageGRID 升级页面。</block>
  <block id="1749ab8e911e64009ac387e4af6f18c3" category="list-text">下载新的恢复软件包。</block>
  <block id="a57f3d2b8485bb70de80967ad961ae1c" category="list-text">批准网格节点。您可以批准单个网格节点，一组网格节点或所有网格节点。</block>
  <block id="06162c8a84e29912c75dc35f38ab71e0" category="admonition">除非您确定网格节点已准备好停止并重新启动，否则请勿批准网格节点的升级。</block>
  <block id="ad39ba3013e9389f0bba9df3bc8c0c2a" category="list-text">恢复操作。升级完所有网格节点后，将启用新功能，您可以恢复操作。您必须等待执行停用或扩展操作步骤 ，直到后台 * 升级数据库 * 任务和 * 最终升级步骤 * 任务完成为止。</block>
  <block id="27d4d8266e168d0a81e98d2c7e512ee8" category="list-text">升级完成后，确认软件版本并应用任何修补程序。</block>
  <block id="4edfc2d7d08b262a4bb3bcbd55a4aff4" category="inline-xref-macro">估计完成升级所需的时间</block>
  <block id="e9f334c47cd8d8fe5103ea18d31254db" category="paragraph"><block ref="e9f334c47cd8d8fe5103ea18d31254db" category="inline-xref-macro-rx"></block></block>
  <block id="717e3efa58ae50b26a9328af08cb94a2" category="summary">在开始软件升级之前，您必须获取所有必需的材料，才能成功完成升级。</block>
  <block id="a7e8d4b81629dcc4383e3564022aeb1b" category="doc">获取软件升级所需的材料</block>
  <block id="f4c6f851b00d5518bf888815de279aba" category="cell">注释：</block>
  <block id="efe9fd16dc3acd3ad0cbd18d9feb4e3c" category="paragraph">StorageGRID 升级文件</block>
  <block id="dfae5780096a25be1291c0e1d42747d3" category="paragraph"><block ref="d328df13aef4760de32bf93e177fd928" category="inline-xref-macro-rx"></block> 连接到您的服务笔记本电脑。</block>
  <block id="43675d62a282c1f5d116d9ce8b3e0559" category="paragraph">服务笔记本电脑必须具有：</block>
  <block id="be04171fb7b83b397693f7f07f3b602b" category="list-text">网络端口</block>
  <block id="dfed0cd9e99c71919a894e91dfd698bb" category="list-text">SSH 客户端（例如 PuTTY ）</block>
  <block id="079dc8e14e2b50b7fade76346400590e" category="paragraph">每个 StorageGRID 版本的浏览器支持通常会发生变化。确保您的浏览器与新的 StorageGRID 版本兼容。</block>
  <block id="83f1a469d3223f1c02df1a62c3282169" category="paragraph">恢复软件包（` .zip` ）文件</block>
  <block id="ddb82569b6a281a183ac1bb5eaba782f" category="paragraph"><block ref="3ac0917f0ce11ed9bdcf6af19815df73" category="inline-xref-macro-rx"></block> 升级之前，请将此文件保存在安全位置。通过恢复包文件，您可以在发生故障时还原系统。</block>
  <block id="6c89eb400dd7b167ff002e4a0b4256ac" category="paragraph">`passwords.txt` file</block>
  <block id="76ecda38f30f18fdb5bd1dfd845cb3e4" category="paragraph">该文件包含在上述软件包中，该软件包是恢复软件包 ` .zip` 文件的一部分。您必须获取最新版本的恢复软件包。</block>
  <block id="6716f93abcdcf09803de0a5727bfa7da" category="paragraph">配置密码短语</block>
  <block id="362747ccad583e1e974ee13a307df535" category="paragraph">首次安装 StorageGRID 系统时，系统会创建并记录密码短语。配置密码短语未列在 `passwords.txt` 文件中。</block>
  <block id="ff85555af8179cc34334b01001630ce6" category="paragraph">相关文档</block>
  <block id="bca5fbd50be162ed77899c645f7fa860" category="list-text"><block ref="e2b4a9fa64cf3cb40d7bd519f164ef2f" category="inline-xref-macro-rx"></block> 对于 StorageGRID 11.6.在开始升级之前，请务必仔细阅读这些内容。</block>
  <block id="5f575b17c0848cb5b53c5ac7775ccddd" category="inline-xref-macro">管理 StorageGRID</block>
  <block id="9fa59d5777d89007018f60309e0e9e12" category="list-text">说明 <block ref="dd980d927a936fff2fa9e281dc8cfb8b" category="inline-xref-macro-rx"></block>。</block>
  <block id="ddef70d3cb011b912779dcc233e86521" category="list-text">如果要升级 Linux 部署，请参见适用于您的 Linux 平台的 StorageGRID 安装说明：</block>
  <block id="510367aa9d0ca9bea034af11bfeb328b" category="list-text">根据需要提供其他 StorageGRID 文档。</block>
  <block id="9a5939287d3c117b13681c53b650ddb9" category="section-title">下载 StorageGRID 升级文件</block>
  <block id="559989e19e0fc9e479ea7ec172a56167" category="paragraph">您必须下载一个或多个文件，具体取决于节点的安装位置。</block>
  <block id="7ee73b036ff4d802be60f4efd32902aa" category="list-text">* 所有平台 * ： ` 。 upgrade` file</block>
  <block id="dd85073173d545585ac6147996c769d8" category="paragraph">如果在 Linux 主机上部署了任何节点，则还必须下载 RPM 或 Deb 归档文件，此文件将在开始升级之前安装：</block>
  <block id="dba0347f4edc7589c5de1f0dbeb8227b" category="list-text">* Red Hat Enterprise Linux 或 CentOS* ：附加 RPM 文件（` .zip` 或 ` .tgz` ）</block>
  <block id="56aef52f46fe0eadbac8e82d3c40f8e2" category="list-text">* Ubuntu 或 Debian * ：一个额外的 Deb 文件（` .zip` 或 ` .tgz` ）</block>
  <block id="ab331a6b501d3acd55fa7bb033c01b31" category="list-text">转至<block ref="3a735a799daac20e9917a1b7027a5825" category="inline-link-rx"></block>。</block>
  <block id="72fc6e18b48d35425b48ea44a785bbe6" category="list-text">选择用于下载最新版本的按钮，或者从下拉菜单中选择其他版本并选择 * 执行 * 。</block>
  <block id="6f2e21322c4d0d051b48ebdf0718621b" category="paragraph">StorageGRID 软件版本采用以下格式： 11._x.y_ 。StorageGRID 修补程序采用以下格式： 11._x.y.z_ 。</block>
  <block id="043a328756cf5955a1542b293dd3530d" category="list-text">如果显示 Caution/MustRead 语句，请阅读该语句并选中复选框。</block>
  <block id="50a51cbb30470ca1b0886732863f3a39" category="paragraph">如果此版本需要修补程序，则会显示此语句。</block>
  <block id="5376befd443d6bdc59ea27e0ebd8af91" category="list-text">阅读最终用户许可协议，选中复选框，然后选择 * 接受并继续 * 。</block>
  <block id="9dc7a4787fdb9bcf2aa50d26933fbf23" category="paragraph">此时将显示选定版本的下载页面。此页面包含三列：</block>
  <block id="e0097f2415f1f3d058c8b27f8bc20b53" category="list-text">安装 StorageGRID</block>
  <block id="0f03a319bd33efc9bc4ac317b9af2f19" category="list-text">升级 StorageGRID</block>
  <block id="f9f134c33f9afb8e715cc4ce9e5d73b4" category="list-text">StorageGRID 设备的支持文件</block>
  <block id="55f8035949107ca5104249f6a7133be0" category="list-text">在 * 升级 StorageGRID * 列中，选择并下载 ` 。 upgrade` archive 。</block>
  <block id="3ba5cf536454fd7765804a52d995d37e" category="paragraph">每个平台都需要 ` 。 upgrade` archive 。</block>
  <block id="d508486e95a9e3b2d8579eb1bef4c9b6" category="list-text">如果在 Linux 主机上部署了任何节点，请同时以 ` .tgz` 或 ` .zip` 格式下载 RPM 或 Deb 归档。如果您在服务笔记本电脑上运行 Windows ，请选择 ` .zip` 文件。</block>
  <block id="e053e6ef1742d4eeda64a2e68e31ad16" category="list-text">Red Hat Enterprise Linux 或 CentOS + `StorageGRID-Webscale -_version_-RPM-_uniqueID_.zip` + `StorageGRID-Webscale -_version_-RPM-_uniqueID_.tgz`</block>
  <block id="8c33835b0659c0bea5dd7c33b92111c2" category="list-text">Ubuntu 或 Debian + `StorageGRID-Webscale -_version_-Deb-_uniqueID_.zip` + `StorageGRID-Webscale -_version_-Deb-_uniqueID_.tgz`</block>
  <block id="22bbb2211c5cef8ab2ec5db3a1007db2" category="admonition">SG100 或 SG1000 不需要其他文件。</block>
  <block id="7b7206a182aeff48efcc75a2be53c4dc" category="section-title">下载恢复包</block>
  <block id="364fd260bf0beb9d5d4455563fec4186" category="paragraph">通过恢复包文件，您可以在发生故障时还原 StorageGRID 系统。在对 StorageGRID 系统进行网格拓扑更改之前或升级软件之前，请下载当前的恢复软件包文件。然后，在更改网格拓扑或升级软件后下载恢复包的新副本。</block>
  <block id="5ede9a3a171e80d1090869e8c69981b3" category="list-text">您必须具有配置密码短语。</block>
  <block id="2ef2ba06aaca49e63f9c52aebc2644d5" category="list-text">选择 * 维护 * &gt; * 系统 * &gt; * 恢复包 * 。</block>
  <block id="9c16e4e4ab555c5b3302e3809a895d02" category="list-text">输入配置密码短语，然后选择 * 开始下载 * 。</block>
  <block id="b0cf7f9b2ee5671779f0bc4c47bf3e2c" category="paragraph">下载将立即开始。</block>
  <block id="57240513fabd205ba7c3adda087ac8a5" category="list-text">下载完成后：</block>
  <block id="21237bb46e0a5109490ffc4aa08e45e4" category="list-text">打开 ` .zip` 文件。</block>
  <block id="64221857d6ebc60084f5a0b9c75e5535" category="list-text">确认其中包含 `gpt-backup` 目录和内侧 ` .zip` 文件。</block>
  <block id="2c4b430dd53316bff988a0176b468bf8" category="list-text">提取内部 ` .zip` 文件。</block>
  <block id="419f27bf95d05f159e3c96390306af14" category="list-text">确认您可以打开 `passwords.txt` 文件。</block>
  <block id="0a8e0e1984f17a44a1b71665989c6247" category="list-text">将下载的恢复软件包文件（` .zip` ）复制到两个安全的单独位置。</block>
  <block id="e2ab4e0b4444bebf0ee80cfcadcb75c5" category="summary">在升级 StorageGRID 系统之前，您必须验证系统是否已准备好进行升级。您必须确保系统正常运行，并且所有网格节点均正常运行。</block>
  <block id="b2a9166e40f9149ea38594ce450ff719" category="doc">检查系统的状况</block>
  <block id="63ad9f1321ea72f5dc487ae12e29613d" category="list-text">检查并解决所有活动警报。</block>
  <block id="5bd74e838baa34f7c0714ce427e640d7" category="paragraph">有关特定警报的信息，请参见 <block ref="094e6bf7bbdaa65eb9e3ed74df88ce84" category="inline-xref-macro-rx"></block>。</block>
  <block id="4b2829e88dabaa48241e84234fd6c4ae" category="list-text">确认没有处于活动状态或待定状态的存在冲突的网格任务。</block>
  <block id="b47e95256653523212cb94b7967fdf54" category="list-text">选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。</block>
  <block id="3952a87ae50221596be13bf9d97450f5" category="list-text">选择 * 站点 _* &gt; * 主管理节点 _* &gt; * CMN* &gt; * 网格任务 * &gt; * 配置 * 。</block>
  <block id="ead937627eead76e017aae44755f4453" category="paragraph">信息生命周期管理评估（ ILME ）任务是唯一可与软件升级同时运行的网格任务。</block>
  <block id="7a55a7c931b8d002c23892e75360cc9b" category="list-text">如果任何其他网格任务处于活动状态或处于待定状态，请等待其完成或释放锁定。</block>
  <block id="bc82afbc36a33e357596b9e9e6ef4643" category="admonition">如果任务未完成或未解除锁定，请联系技术支持。</block>
  <block id="2f6f0fffe64277956d9989b83ee50fbd" category="list-text">请参见 <block ref="e2d5df26028f4dbe070127a8a8282ba2" category="inline-xref-macro-rx"></block> 和 <block ref="b7c26e7a5e3c0adc1cce4b2c9a6cbca1" category="inline-xref-macro-rx"></block> 确保在升级之前打开 StorageGRID 11.6 所需的所有端口。</block>
  <block id="a013a54e6d251129563225fc0fc0d015" category="admonition">如果您已打开任何自定义防火墙端口，则在升级预检期间会收到通知。在继续升级之前，您必须联系技术支持。</block>
  <block id="c8eb0ec9e441a1389bb67c5826982153" category="summary">在计划升级到 StorageGRID 11.6 时，您必须根据升级可能需要的时间考虑何时进行升级。此外，您还必须了解在升级的每个阶段可以执行哪些操作，哪些操作不能执行。</block>
  <block id="450b98a22af1a83ffef59aa02080947a" category="paragraph">完成 StorageGRID 升级所需的时间取决于多种因素，例如客户端负载和硬件性能。</block>
  <block id="e697bced754f831184b42d9e86482490" category="paragraph">下表汇总了主要升级任务，并列出了每个任务所需的大致时间。下表后面的步骤提供了一些说明，您可以使用这些说明来估计系统的升级时间。</block>
  <block id="2018ba7e00bb358d8d63cfd03fe98376" category="cell">升级任务</block>
  <block id="8d4e11f6af4cffd4ea6ab47815c37b36" category="cell">所需大致时间</block>
  <block id="e269ceb4f0e99752a163dbef32784deb" category="cell">执行此任务期间</block>
  <block id="18d172581e1ec74ff5d18384211826d8" category="paragraph">启动升级服务</block>
  <block id="ddbbf70d03d1da141ee0ca4479901440" category="paragraph">运行升级预检，分发软件文件并启动升级服务。</block>
  <block id="d89fbd38ee634798010691e102fda190" category="paragraph">每个网格节点 3 分钟，除非报告验证错误</block>
  <block id="aaed36a3c2688c6deb1ed6c99007291d" category="paragraph">根据需要，您可以在计划的升级维护窗口之前手动运行升级预检。</block>
  <block id="54615bb29658b42963eab936371c2828" category="paragraph">升级网格节点（主管理节点）</block>
  <block id="3a853533e5961b27e324f41f30eeb04d" category="paragraph">主管理节点将停止，升级并重新启动。</block>
  <block id="cb5491e384de74d749c4115eed8437cf" category="paragraph">30 分钟到 1 小时，其中 SG100 和 SG1000 设备节点最需要时间。</block>
  <block id="f6c9b9abbf8768375a57fc173ff8ba02" category="paragraph">您无法访问主管理节点。系统会报告连接错误，您可以忽略这些错误。</block>
  <block id="3e7cf80a33594a406ab4497cef6c69bb" category="paragraph">升级网格节点（所有其他节点）</block>
  <block id="fb77960bab179edc599b1d7346b9d66f" category="paragraph">所有其他网格节点上的软件将按照您批准节点的顺序进行升级。系统中的每个节点将逐个关闭，每个节点将停机几分钟。</block>
  <block id="aa180d16f741bb8eb94c43b57a0d4e8a" category="paragraph">每个节点 15 分钟到 1 小时，设备节点所需时间最多</block>
  <block id="e21a112d5735ef20f2e6063818ab6465" category="paragraph">* 注： * 对于设备节点， StorageGRID 设备安装程序会自动更新到最新版本。</block>
  <block id="a2a9e3e29fdcdde70b0d8b4a13f9895d" category="list-text">请勿更改网格配置。</block>
  <block id="ede66bc3e33bf2a1d3bf8771a437eefd" category="list-text">请勿更改审核级别配置。</block>
  <block id="27117f3f6ad9fdf93261881874ccde40" category="list-text">请勿更新 ILM 配置。</block>
  <block id="e8c4a97e1e057ab126c1927b8d20b6cb" category="list-text">系统会阻止您执行其他维护过程，例如修补程序，停用或扩展。</block>
  <block id="bf076aadf8851c59b60697f0267d2340" category="paragraph">* 注： * 如果需要执行恢复，请联系技术支持。</block>
  <block id="b1133987e025e76279c51654b542caed" category="paragraph">启用功能</block>
  <block id="391d0ce7d9c20dc009ec7334f58c58f6" category="paragraph">新版本的新功能已启用。</block>
  <block id="0e6d9b1f79378ab3534cc9cdaa32863f" category="paragraph">不到 5 分钟</block>
  <block id="e06d757bca5f48c1b4b2f8c43ca2b642" category="list-text">您不能执行其他维护操作步骤 。</block>
  <block id="b8b1c9842c4e699b4e9c5c324cb239c3" category="paragraph">升级数据库</block>
  <block id="4ae82c640dcce815084878343517e814" category="paragraph">升级过程会检查每个节点，以验证不需要更新 Cassandra 数据库。</block>
  <block id="2d30cf6914c66a05e0829b07f06bf6dd" category="paragraph">每个节点 10 秒或整个网格几分钟</block>
  <block id="b6cc0f6ead709b28d4dfb8626c9d1ae9" category="paragraph">从 StorageGRID 11.5 升级到 11.5 不需要升级 Cassandra 数据库；但是， Cassandra 服务将在每个存储节点上停止并重新启动。</block>
  <block id="f60bb8e89ebfe9e9b37ae6879d608054" category="paragraph">对于未来的 StorageGRID 功能版本， Cassandra 数据库更新步骤可能需要几天时间才能完成。</block>
  <block id="6e8f5fa9e8b5e581eed225e335465f55" category="paragraph">最终升级步骤</block>
  <block id="baf546d1079050ac0d416865741fcffd" category="paragraph">此时将删除临时文件，并完成到新版本的升级。</block>
  <block id="4adcc26418f545df76ab44c53fc55702" category="paragraph">5 分钟</block>
  <block id="3310c9db64a1f5b696035614e2a69f2a" category="paragraph">完成 * 最终升级步骤 * 任务后，您可以执行所有维护过程。</block>
  <block id="63afa11d6155aee4d1b7abfd0cd18635" category="list-text">估计升级所有网格节点所需的时间。</block>
  <block id="8db5162a6d0f867cfa0c259f3b7612bc" category="list-text">将 StorageGRID 系统中的节点数乘以每个节点 1 小时。</block>
  <block id="9397b3e2deeb59173c91ee78860b70db" category="paragraph">一般来说，设备节点的升级时间比基于软件的节点要长。</block>
  <block id="a2c0c4728ccb6d78777e1f124b438f07" category="list-text">此时再增加 1 小时，以说明下载 ` 。 upgrade` 文件，运行预检验证以及完成最终升级步骤所需的时间。</block>
  <block id="01c8d2cbda0830de91758a1dcc56d04d" category="list-text">如果您使用的是 Linux 节点，请为每个节点添加 15 分钟的时间，以考虑下载和安装 RPM 或 Deb 软件包所需的时间。</block>
  <block id="b49b27d0fb71009b3d8e2d13384711d7" category="list-text">通过添加步骤 1 和步骤 2 的结果来计算升级的总估计时间。</block>
  <block id="0b5f5124cfbe60ef8db0201ef455b6f5" category="section-title">示例：升级到 StorageGRID 11.6 的估计时间</block>
  <block id="6119f884735ecf24148aae8735162a67" category="paragraph">假设您的系统有 14 个网格节点，其中 8 个是 Linux 节点。</block>
  <block id="adaa2b7bcb4c2d64b58c6d2710f0bfe0" category="list-text">将 14 乘以每个节点 1 小时。</block>
  <block id="e0aae0ba8c5ff0ad694095b8f8f6fb09" category="list-text">另外，还需要 1 小时的时间来说明下载，预检和最终步骤。</block>
  <block id="6d5c8a7b2abbd6764b9321b478cc09e0" category="paragraph">升级所有节点的估计时间为 15 小时。</block>
  <block id="ff04926f1872231f551940e597c3b28a" category="list-text">将每个节点的 8 乘以 15 分钟，以说明在 Linux 节点上安装 RPM 或 Deb 软件包的时间。</block>
  <block id="77a8224fe4179970463aca113ee9fa73" category="paragraph">此步骤的估计时间为 2 小时。</block>
  <block id="3a5770a18b4903bfc39d5e5eea5777ba" category="list-text">将这些值相加。</block>
  <block id="a6d6504746cb1e11793d5bd5cfd285f3" category="paragraph">您应在长达 17 小时的时间内完成系统到 StorageGRID 11.0.0 的升级。</block>
  <block id="27fc8f5128c2b27e5ce1200d3a7d1f36" category="summary">按照以下说明将 StorageGRID 系统升级到新版本。</block>
  <block id="76038d247a602c0245b0f461368bb87c" category="doc">Upgrade StorageGRID software ：概述</block>
  <block id="35eafef427837d3593da573fc1b4575e" category="paragraph">这些说明介绍了 StorageGRID 11.6 中的新增功能，并提供了将 StorageGRID 系统中的所有节点升级到新版本的分步说明。</block>
  <block id="d1c92b40f59966a55410db4db4335d28" category="paragraph">查看这些主题，了解 StorageGRID 11.6 中的新增功能和增强功能，确定是否已弃用或删除任何功能，并了解对 StorageGRID API 所做的更改。</block>
  <block id="0c74dedb4d40c63e5e9c4def54e37eec" category="inline-xref-macro">StorageGRID 11.6.</block>
  <block id="493cab0df5f0070b54fe5b125ab2c429" category="list-text"><block ref="493cab0df5f0070b54fe5b125ab2c429" category="inline-xref-macro-rx"></block></block>
  <block id="7710511b159c430ee112908501f0cd6e" category="list-text"><block ref="7710511b159c430ee112908501f0cd6e" category="inline-xref-macro-rx"></block></block>
  <block id="0c035841669bb7f5710af91739f28602" category="inline-xref-macro">对网格管理 API 进行的更改</block>
  <block id="0242af1e173aec462805c8945fa3a8c0" category="list-text"><block ref="0242af1e173aec462805c8945fa3a8c0" category="inline-xref-macro-rx"></block></block>
  <block id="2e796e6cf6bd338120ca53eab368ba5d" category="list-text"><block ref="2e796e6cf6bd338120ca53eab368ba5d" category="inline-xref-macro-rx"></block></block>
  <block id="2ab2010e4971fefdc8a1624b33c196e7" category="summary">StorageGRID 11.6 使用网格管理 API 版本 3 。版本 3 已弃用版本 2 ；但版本 1 和版本 2 仍受支持。</block>
  <block id="8edcc150a217485965c594d36379af19" category="inline-xref-macro">使用网格管理 API</block>
  <block id="d1ac2ed1f449cd14643c20b2af799cd3" category="paragraph">要了解更多信息，请访问 <block ref="4f5de2111947c6d35d835039aec59bd5" category="inline-xref-macro-rx"></block>。</block>
  <block id="ab279559e0871d7b496b879a81799631" category="section-title">可以访问 Swagger 文档以执行专用 API 操作</block>
  <block id="b0d50e49cf8ee2d90ff96d1b124ef7f0" category="paragraph">现在，您可以从网格管理器访问专用 API 的 Swagger 文档。要查看可用操作，请选择 Grid Manager 帮助图标并选择 * API Documentation" 。然后，从 StorageGRID 管理 API 页面中选择 * 转至专用 API 文档 * 。</block>
  <block id="3ae9d22a16111add6912e6f0737df5fa" category="paragraph">StorageGRID 专用 API 如有更改，恕不另行通知。StorageGRID 私有端点也会忽略此请求的 API 版本。</block>
  <block id="621ac420170b6d63d7e508322f08c4be" category="section-title">已弃用基于警报的 API</block>
  <block id="ce53759a162b6bf372c8ccd786199d1c" category="section-title">可以导入 S3 访问密钥</block>
  <block id="e6adc9ae1bf30419c7d6e5fcc0c809d3" category="paragraph">现在，您可以使用网格管理 API 为租户用户导入 S3 访问密钥。例如，您可以将访问密钥从另一个 S3 提供程序迁移到 StorageGRID ，或者使用此功能在网格之间保持用户凭据相同。</block>
  <block id="a31508e6090a02703053e698af6b4a29" category="admonition">启用此功能后，任何具有更改租户 root 密码权限的 Grid Manager 用户都可以完全访问租户数据。使用此功能后，请立即禁用此功能以保护租户数据。</block>
  <block id="0f53dd9b6b4e3d721bbc5cc74f3111fb" category="section-title">新帐户操作</block>
  <block id="f0429c19a3356ba2fa0c95d0e42ea2d1" category="paragraph">添加了三个新的 `网格 / 帐户` API 操作：</block>
  <block id="27760ead8f44c5c48fbf4f4c75015232" category="list-text">`post /m ü s/account-enable-s3-key-import grid​` ：此请求将启用导入 S3 凭据功能。要启用此功能，您必须具有 root 访问权限。</block>
  <block id="ad0eee2aaee02c20c8bfbfe3252cf8af" category="list-text">`post / grid​ / accounts​ / ｛ id ｝​ / users​ / ｛ user_id ｝​ /s3-access-keys` ：此请求将为租户帐户中的给定用户导入 S3 凭据。您必须具有 root 访问权限或更改租户 root 密码权限，并且必须知道用户 ID 和租户帐户 ID 。</block>
  <block id="0703d912938aeb56c9c89e4e99b485d4" category="list-text">`post /m ü s/account-disable-s3-key-import grid​` ：此请求会禁用导入 S3 凭据功能。要禁用此功能，您必须具有 root 访问权限。</block>
  <block id="07a8bab0ab45ccad7d91cd55118f01f5" category="section-title">添加到网格 / 日志 / 收集端点</block>
  <block id="c5c59b470bfeb39b633cf8205f72171e" category="paragraph">已向 `grid/logs/Collect` 端点添加四个布尔值：</block>
  <block id="fddeb7096e7d119ea907d18f5737f159" category="list-text">`applicationLogs` ：技术支持最常用于故障排除的应用程序特定日志。收集的日志是可用应用程序日志的一部分。默认值为 `true` 。</block>
  <block id="4977940823bae639126f7ee806aae937" category="list-text">`auditLogs` ：包含在正常系统操作期间生成的审核消息的日志。默认值为 `true` 。</block>
  <block id="a376a30ca5a6e273f87005b9d730cbeb" category="list-text">`network跟踪` ：用于网络调试的日志。默认值为 `false` 。</block>
  <block id="53debf7a3fddbe1429bc29133d4433b5" category="list-text">`prometheusDatabase` ：所有节点上的服务的时间序列指标。默认值为 `false` 。</block>
  <block id="102729824fa82e95e03c510ccb2bd1af" category="section-title">新的 ​node 详细信息 / grid​ /service-IDs 端点</block>
  <block id="574aab57b80d582cc646153e35cebeaa" category="paragraph">新的 `​ 或 grid​ /service-IDs` 端点可将节点 UUID 映射到关联节点名称，服务 ID 和服务类型。</block>
  <block id="6028f0d79861580c8688bf3cb012b46f" category="section-title">可以检索网格节点控制台密码</block>
  <block id="923c0d52ed066749ffdd69aa48987ee7" category="paragraph">现在，您可以使用 `POST ​ /node-console 密码 grid​` 来检索网格节点及其关联控制台密码的列表。</block>
  <block id="7f28b20ec16d16baa49274273a1c820c" category="summary">准备好执行升级后，请选择 .upgrade 归档并输入配置密码短语。您可以选择在执行实际升级之前运行升级预检。</block>
  <block id="38b3b3470d2ba6614c3d2aceefd23eb8" category="doc">执行升级</block>
  <block id="b05e38bcf40338ba85022907f548aa47" category="paragraph">准备好执行升级后，请选择 ` .upgrade` archive 并输入配置密码短语。您可以选择在执行实际升级之前运行升级预检。</block>
  <block id="7aaba7fd734fa7bfcf919ba2bfe0f7df" category="paragraph">您已查看所有注意事项并完成所有规划和准备步骤。</block>
  <block id="c6eece511f64241b1d7f5badb5515b6b" category="section-title">上传升级文件</block>
  <block id="15d66ffb79f1d75b192ecef0f24dbb28" category="list-text">选择 * 维护 * &gt; * 系统 * &gt; * 软件更新 * 。</block>
  <block id="54faca37cf7bb066c724d07bd351e8f3" category="paragraph">此时将显示软件更新页面。</block>
  <block id="b42af3a0df84322cc422cb8f99cdfb18" category="list-text">选择 * StorageGRID Upgrade* 。</block>
  <block id="6c8c68e9f1a8d3019732e42281d9f45f" category="list-text">在 StorageGRID 升级页面上，选择 ` .upgrade` archive 。</block>
  <block id="455227cce1ea06b1b8ddaa873de68599" category="list-text">找到并选择文件： `NetApp_StorageGRID_11.6.0_Software_uniqueID.upgrade`</block>
  <block id="da818aae626393990eb20e9da139b941" category="paragraph">已上传并验证此文件。验证过程完成后，升级文件名称旁边会显示一个绿色复选标记。</block>
  <block id="50130afba7b7d12368c34b79b3c437c3" category="list-text">在文本框中输入配置密码短语。</block>
  <block id="578f02069367d90fb5b5d1eaf87fdc4c" category="paragraph">已启用 * 运行预检 * 和 * 开始升级 * 按钮。</block>
  <block id="6cb5af1fb52c22f55e7088285ae5d674" category="image-alt">已启用 StorageGRID 升级按钮</block>
  <block id="cdf49f2ed132514f4d02a743f58df13d" category="section-title">运行预检</block>
  <block id="45a47a5a6eb0cc38a57ddaccad9995f5" category="paragraph">您也可以在开始实际升级之前验证系统的状况。选择 * 运行预检 * 可在开始升级之前检测并解决问题。开始升级时，系统会执行相同的预检。预检失败将停止升级过程，某些问题可能需要技术支持参与才能解决。</block>
  <block id="8f9add9e017dfa5d9eaca311c5c782aa" category="list-text">选择 * 运行预检 * 。</block>
  <block id="99c78972d631b75070776d64b796811f" category="list-text">等待预检完成。</block>
  <block id="7c4cd981969d907a6621705222121112" category="list-text">按照说明解决报告的任何预检错误。</block>
  <block id="2c18c484dff07494e55a8f163433082c" category="admonition">如果您已打开任何自定义防火墙端口，则会在预检验证期间收到通知。在继续升级之前，您必须联系技术支持。</block>
  <block id="88812f96ea88385ca55cc80859ad2567" category="section-title">开始升级并更新主管理节点</block>
  <block id="0bea294da6393edfef0de506d695d452" category="paragraph">升级开始时，系统会执行升级预检，并升级主管理节点，其中包括停止服务，升级软件和重新启动服务。在升级主管理节点时，您无法访问网格管理器。审核日志也将不可用。此升级可能需要长达 30 分钟的时间。</block>
  <block id="169bc567e3ce1f9f3cdd5cdc0f662b5f" category="list-text">准备好执行升级后，请选择 * 开始升级 * 。</block>
  <block id="268750fd9baeb196734898bee0b26a66" category="paragraph">此时将显示一条警告，提醒您在重新启动主管理节点后，浏览器的连接将断开。</block>
  <block id="fb16bf5b9ba99c0cbcb4593797fa9d32" category="image-alt">软件升级连接将丢失</block>
  <block id="303757e75b0d5bb68b74a569d239c889" category="list-text">选择 * 确定 * 确认警告并启动升级过程。</block>
  <block id="e309ecf4ce46213824bb8c0e75ec6293" category="list-text">等待执行升级预检并升级主管理节点。</block>
  <block id="4d14514a97fd9ccef3e5b446e2eddd6f" category="admonition">如果报告了任何预检错误，请解决这些错误，然后再次选择 * 开始升级 * 。</block>
  <block id="2813a6328afcfc401d80730e08c7d322" category="paragraph">在升级主管理节点时，会显示多条 * 503 ： service unavail* 和 * 连接到服务器时出现问题 * 消息，您可以忽略这些消息。</block>
  <block id="c87734e0c1e87ccc621b22ccc167fc15" category="image-alt">软件升级 503 错误</block>
  <block id="8aed802467246a136d50b84256c95c72" category="image-alt">软件升级问题连接错误</block>
  <block id="0b365bc81e015ca5c0527a3e806748ee" category="list-text">当您看到 * 400 ： bad request* 消息时，请转至下一步。管理节点升级已完成。</block>
  <block id="eb4a7eebc78a8813876520ad2548b97b" category="image-alt">软件升级 400 错误</block>
  <block id="228f927ad6a99bc2121059a8d9fbc449" category="section-title">清除浏览器缓存并重新登录</block>
  <block id="431f8baa68ee41bf45432ae228489b8a" category="list-text">升级主管理节点后，清除 Web 浏览器的缓存并重新登录。</block>
  <block id="d9eec59fefbb188c367ab969a468d491" category="paragraph">有关说明，请参见 Web 浏览器的文档。</block>
  <block id="223ed59786b8acdb089ffb7c6acacd35" category="admonition">您必须清除 Web 浏览器的缓存，才能删除先前版本的软件所使用的过时资源。</block>
  <block id="98fea882e3ba7db7cca5db41ea811bc8" category="paragraph">此时将显示经过重新设计的 Grid Manager 界面，表示主管理节点已升级。</block>
  <block id="cefb2092dd7ee3f4811ff94a43944eaf" category="image-alt">网格管理器信息板</block>
  <block id="aac2b79beb2c107844d318f4a765c423" category="list-text">从边栏中，选择 * 维护 * 以打开维护菜单。</block>
  <block id="44148b99d82b5ec0e1b8384cc1fa0a22" category="list-text">在 * 系统 * 部分中，选择 * 软件更新 * 。</block>
  <block id="989de8ce0f0bd1995dd14c7459f7a036" category="list-text">在 * StorageGRID Upgrade* 部分中，选择 * 升级 * 。</block>
  <block id="e0eeb575bdaefbaee3c7393510b377eb" category="list-text">查看 StorageGRID 升级页面上的升级进度部分，其中提供了有关每个主要升级任务的信息。</block>
  <block id="b753c2c7e509f9e7e86ea262a986996c" category="list-text">* 启动升级服务 * 是第一个升级任务。在此任务期间，软件文件将分发到网格节点，并启动升级服务。</block>
  <block id="746c29734cf7b233066ff25d8748041e" category="list-text">完成 * 启动升级服务 * 任务后， * 升级网格节点 * 任务将启动。</block>
  <block id="728f242650a3b0740235c034f4ec4e68" category="list-text">在执行 * 升级网格节点 * 任务期间，将显示网格节点状态表，其中显示了系统中每个网格节点的升级阶段。</block>
  <block id="b28cf5550e82e731e4cdb723e37d671d" category="section-title">下载恢复软件包并升级所有网格节点</block>
  <block id="f6f72ee082eef39feb4a626ee8d802cf" category="inline-xref-macro">下载恢复软件包的新副本</block>
  <block id="2a4a753324776c2b18bf0be5fa229e9e" category="list-text">在网格节点状态表中显示网格节点之后，但在批准任何网格节点之前， <block ref="13425c08767b98fb85ce11b8987d5f84" category="inline-xref-macro-rx"></block>。</block>
  <block id="239091b0d20c78599be4fef77a1b8dcc" category="admonition">升级主管理节点上的软件版本后，必须下载恢复软件包文件的新副本。通过恢复包文件，您可以在发生故障时还原系统。</block>
  <block id="328f66a1d653b0c205e429f01cc68e89" category="list-text">查看网格节点状态表中的信息。网格节点按管理节点， API 网关节点，存储节点和归档节点等类型按部分进行排列。</block>
  <block id="9de6554b4b3e59c0d164f1c910b9ae61" category="image-alt">管理节点完成后升级网格节点的屏幕截图</block>
  <block id="f81c7a42501cb839703ac2bffc24ce24" category="paragraph">首次显示此页面时，网格节点可能处于以下阶段之一：</block>
  <block id="432e336b76f17f39fa2215107dd0c451" category="list-text">Done （完成）（仅限主管理节点）</block>
  <block id="a2f1bfe862b7e71a8116a1ef9a0b6add" category="list-text">正在准备升级</block>
  <block id="4f7001fa8e18cb41c1c85d4dbaaddd90" category="list-text">软件下载已排队</block>
  <block id="c7e71badf20a04f36d11be557ceb7a5b" category="list-text">正在下载</block>
  <block id="ce54178c61146548ca0ab39dd3bd740d" category="list-text">正在等待您批准</block>
  <block id="35a404d100e6b693cec855b7e9306291" category="list-text">批准已准备好添加到升级队列的网格节点。</block>
  <block id="cc5120be3ff72e5ee5a4a1e121c94307" category="admonition">在网格节点上开始升级时，该节点上的服务将停止。稍后，网格节点将重新启动。为避免与节点通信的客户端应用程序出现服务中断，请勿批准节点升级，除非您确定节点已做好停止和重新启动的准备。根据需要计划维护时段或通知客户。</block>
  <block id="c328634de016e870fa5d2a76d627a4fb" category="paragraph">您必须升级 StorageGRID 系统中的所有网格节点，但可以自定义升级顺序。您可以批准单个网格节点，一组网格节点或所有网格节点。</block>
  <block id="61a200f880180deeab647b435d389247" category="paragraph">如果节点升级顺序非常重要，请逐个批准节点或节点组，并等待每个节点完成升级，然后再批准下一个节点或节点组。</block>
  <block id="b05716743799463f6e38ef7f9eda0cc7" category="list-text">选择一个或多个 * 批准 * 按钮将一个或多个单独的节点添加到升级队列。如果您批准多个相同类型的节点，则这些节点将一次升级一个。</block>
  <block id="8f9d760b50ab2e66c41aff688e438604" category="list-text">在每个部分中选择 * 全部批准 * 按钮，将所有相同类型的节点添加到升级队列。</block>
  <block id="da38acf0b2bb5b0ef566d666be7ec072" category="list-text">选择顶级 * 全部批准 * 按钮，将网格中的所有节点添加到升级队列。</block>
  <block id="30c96d1a09590aadc9fa4ed816232252" category="list-text">选择 * 删除 * 或 * 全部删除 * 可从升级队列中删除一个或所有节点。当节点的阶段达到 * 正在停止服务 * 时，您无法删除该节点。此时将隐藏 * 删除 * 按钮。</block>
  <block id="82c62c57c4286ad0e7da924ba8367bba" category="image-alt">显示 Stage 正在停止服务的屏幕截图</block>
  <block id="b7163efff6dcf7d4722920ff31eee15f" category="list-text">等待每个节点继续完成升级阶段，包括已排队，停止服务，停止容器，清理 Docker 映像，升级基础操作系统软件包，重新启动，重新启动后执行步骤，启动服务以及完成。</block>
  <block id="79c5a2c48ff2eb3f82b04937c5c4187f" category="admonition">当设备节点达到升级基本操作系统软件包阶段时，设备上的 StorageGRID 设备安装程序软件将会更新。此自动化过程可确保 StorageGRID 设备安装程序版本与 StorageGRID 软件版本保持同步。</block>
  <block id="e2328b54876f0cd6379d9fcbc5572e87" category="section-title">完成升级</block>
  <block id="3f801d7b150c75b5ac4cdf5779ecd2c6" category="paragraph">当所有网格节点都完成升级阶段后， * 升级网格节点 * 任务将显示为已完成。其余升级任务将在后台自动执行。</block>
  <block id="e591b82885e07416561541fe8d7b4d31" category="list-text">完成 * 启用功能 * 任务后（该任务会很快发生），您可以选择开始使用升级后的 StorageGRID 版本中的新功能。</block>
  <block id="437826dfa5d634ad29289348a888838c" category="list-text">在执行 * 升级数据库 * 任务期间，升级过程会检查每个节点，以确认不需要更新 Cassandra 数据库。</block>
  <block id="f54048dc540ed06e3b7a29d90618262a" category="admonition">从 StorageGRID 11.5 升级到 11.5 不需要升级 Cassandra 数据库；但是， Cassandra 服务将在每个存储节点上停止并重新启动。对于未来的 StorageGRID 功能版本， Cassandra 数据库更新步骤可能需要几天时间才能完成。</block>
  <block id="98e147e89a31bc639e78a1ae65460877" category="list-text">完成 * 升级数据库 * 任务后，请等待几分钟，以完成 * 最终升级步骤 * 任务。</block>
  <block id="7d470036ea4dfa71f875130a46ebfb71" category="paragraph">完成最终升级步骤任务后，将完成升级。</block>
  <block id="691517ce87caa163f5bbd707ce094940" category="section-title">确认升级</block>
  <block id="973b8fccb8ece780101029935a05f1a3" category="list-text">确认升级已成功完成。</block>
  <block id="4d60c0e1ebd6ed67d02ad4c3098c2f62" category="list-text">从网格管理器顶部，选择帮助图标并选择 * 关于 * 。</block>
  <block id="04d0e4de6ceb8c9784efd7ec4a28fd41" category="list-text">确认显示的版本符合您的预期。</block>
  <block id="a7d70da37c6d7fe492487cc3c038a117" category="list-text">在 * StorageGRID upgrade* 部分中，选择 * 升级 * 。</block>
  <block id="d5df2a2ae452ca740f6991523111a0ad" category="list-text">确认绿色横幅显示软件升级已在预期日期和时间完成。</block>
  <block id="e8f6a12f4b8eefe5d25ac4da472b1d09" category="image-alt">软件升级已完成</block>
  <block id="23d3a12a560a5b0ea14d81b799b765c9" category="list-text">在 StorageGRID 升级页面中，确定当前 StorageGRID 版本是否有任何修补程序可用。</block>
  <block id="bf92c58e252d883b1b7d82ecce1053ce" category="admonition">如果未显示更新路径，则您的浏览器可能无法访问 NetApp 支持站点。或者， AutoSupport 页面（ * 支持 * &gt; * 工具 * &gt; * AutoSupport * ）上的 * 检查软件更新 * 复选框可能已禁用。</block>
  <block id="f86413df60dcd3495a30cbf1efc8e722" category="list-text">如果有可用的修补程序，请下载此文件。然后，使用 <block ref="859b02908d0c265cb28bff44417a7449" category="inline-xref-macro-rx"></block> 以应用此修补程序。</block>
  <block id="414c43b5d86d3a77b2604876ddc3a623" category="list-text">验证网格操作是否已恢复正常：</block>
  <block id="c383d7ff9edf7b8f098318653f1f0d84" category="list-text">检查这些服务是否正常运行，以及是否没有意外警报。</block>
  <block id="7bef7467d4cda3267312dd1d85e45f9b" category="list-text">确认客户端与 StorageGRID 系统的连接是否按预期运行。</block>
  <block id="6fbdc5110c6167ebef92e7914869d812" category="summary">您必须了解 StorageGRID 系统在升级期间会受到什么影响。</block>
  <block id="bf17d2c8375079fbb8d2d41a0641a38d" category="doc">升级期间对系统的影响</block>
  <block id="7db77c999b13472e4e30a30fe6dd4e63" category="section-title">StorageGRID 升级不会造成系统中断</block>
  <block id="eba6a125734c2a792909e232a7a3dc82" category="paragraph">StorageGRID 系统可以在整个升级过程中从客户端应用程序载入和检索数据。在升级期间，网格节点会一次关闭一个，因此，目前并非所有网格节点都不可用。</block>
  <block id="419d59fc4215189fa7b04aa62dd774d3" category="paragraph">要保证持续可用性，您必须确保使用适当的 ILM 策略以冗余方式存储对象。此外，您还必须确保将所有外部 S3 或 Swift 客户端配置为向以下客户端之一发送请求：</block>
  <block id="8aa96eeaa0f7d19792ceb504c6fd6a2a" category="list-text">配置为高可用性（ HA ）组的 StorageGRID 端点</block>
  <block id="d4d1fb33b3265947c558db1707293a09" category="list-text">高可用性第三方负载平衡器</block>
  <block id="6f5999293e05e428c0d45e7283b1c10e" category="list-text">每个客户端具有多个网关节点</block>
  <block id="3289a39e8fb6577f472ef7b3fd2be761" category="list-text">每个客户端具有多个存储节点</block>
  <block id="54f51ec7d3d83a5e57eda80d3badfe37" category="section-title">设备固件已升级</block>
  <block id="8f9ae70bd343aab598741e21a636fd75" category="paragraph">在 StorageGRID 11.6 升级期间：</block>
  <block id="75fdcd50c5083d0344f844b60e10f5b2" category="list-text">所有 StorageGRID 设备节点都会自动升级到 StorageGRID 设备安装程序固件版本 3.6 。</block>
  <block id="d751bd3cf7e22a1c19a47355fc41a40a" category="list-text">SG6060 和 SGF6024 设备会自动升级到 BIOS 固件版本 3B07.EX 和 BMC 固件版本 BMC 3.93.07 。</block>
  <block id="d9c3c40bd20811df963711f870122216" category="list-text">SG100 和 SG1000 设备会自动升级到 BIOS 固件版本 3B12.EC 和 BMC 固件版本 4.67.07 。</block>
  <block id="0e9cf7cdb21e4fef366de7acafa41d81" category="section-title">可能会触发警报</block>
  <block id="1b788f87770e13ea015eaf51c093705b" category="paragraph">服务启动和停止以及 StorageGRID 系统作为混合版本环境运行时（某些网格节点运行早期版本，而其他网格节点已升级到更高版本），可能会触发警报。升级完成后，可能会触发其他警报。</block>
  <block id="a8646a574f1beb566dacc1c769dd3377" category="paragraph">例如，服务停止时，您可能会看到 * 无法与节点 * 通信警报；或者，如果某些节点已升级到 StorageGRID 11.6 ，但其他节点仍在运行 StorageGRID 11.5 ，则可能会看到 * Cassandra communication error* 警报。通常，这些警报将在升级完成后清除。</block>
  <block id="588c575f0cddd32576f466258acce621" category="paragraph">在升级到 StorageGRID 11.6 期间停止存储节点时，可能会触发 "ILM placement unableableableable" 警报。升级完成后，此警报可能会持续 1 天。</block>
  <block id="fcd0625db19bd584026862ccd280a422" category="paragraph">如果对存储卷水印使用自定义值，则升级完成后可能会触发 * 低只读水印覆盖 * 警报。请参见 <block ref="2977451317efd4ceab06155fa4f039e1" category="inline-xref-macro-rx"></block> 了解详细信息。</block>
  <block id="f45b4b3c08fc30cb2b9af7a1cbd4e6d9" category="paragraph">升级完成后，您可以从网格管理器信息板中选择 * 最近解决的警报 * 或 * 当前警报 * 来查看任何与升级相关的警报。</block>
  <block id="d676e0189be59e8e626d11bbcc010f07" category="section-title">系统会生成许多 SNMP 通知</block>
  <block id="fba0fac011d021a95815b23262c49534" category="paragraph">请注意，在升级期间停止并重新启动网格节点时，可能会生成大量 SNMP 通知。要避免出现过多通知，请在开始升级之前取消选中 * 启用 SNMP 代理通知 * 复选框（ * 配置 * &gt; * 监控 * &gt; * SNMP 代理 * ）以禁用 SNMP 通知。然后，在升级完成后重新启用通知。</block>
  <block id="3d9c37379b3e5d59ba9cced6a7efad4f" category="section-title">配置更改受限</block>
  <block id="88cde40cde0fad972e40d8c9b1177ca4" category="admonition">受限配置更改的列表可能会随版本而异。升级到另一个 StorageGRID 版本时，请参阅相应升级说明中的列表。</block>
  <block id="a0e73ee239ca1893de6b3c3f22dcafb4" category="paragraph">直到 * 启用新功能 * 任务完成：</block>
  <block id="ce4223e6e7b19bbb72ec7830aa0b594e" category="list-text">请勿更改任何网格配置。</block>
  <block id="40d26dd1a79b6434bb697f9850fe2cfd" category="list-text">请勿更改审核级别配置或配置外部系统日志服务器。</block>
  <block id="5ceba01ee0ed41f532e58cf00afb4ad5" category="list-text">请勿启用或禁用任何新功能。</block>
  <block id="eab5bb308fd8b6adf082d01eca2d5194" category="list-text">请勿更新 ILM 配置。否则，您可能会遇到不一致的意外 ILM 行为。</block>
  <block id="0ccec6114108bc75ceff73e0d6e40a69" category="list-text">请勿应用修补程序或恢复网格节点。</block>
  <block id="34782f9ac5b74ac42694aab88d1cba15" category="list-text">升级到 StorageGRID 11.6 时，您无法管理 HA 组， VLAN 接口或负载平衡器端点。</block>
  <block id="4d1db3909915c8da5e6574473624862c" category="paragraph">完成 * 最终升级步骤 * 任务之前：</block>
  <block id="43164da114f42077e02f12bab58aa379" category="list-text">请勿执行扩展操作步骤 。</block>
  <block id="27210403fca500c3c6f57a364d527cba" category="list-text">请勿执行停用操作步骤 。</block>
  <block id="a6fc216f08074c6aa27406317498cd56" category="section-title">您不能从租户管理器查看存储分段详细信息或管理存储分段</block>
  <block id="cd0ceebab38b6d0d236c925a0cfcec39" category="paragraph">在升级到 StorageGRID 11.6 期间（即，当系统作为混合版本环境运行时），您无法使用租户管理器查看存储分段详细信息或管理存储分段。租户管理器中的 " 分段 " 页面显示以下错误之一：</block>
  <block id="f55ebfa89c2e94f83357108087b3a4da" category="list-text">"`在升级到 11.6. 时不能使用此 API 。` "</block>
  <block id="a150cd313e39a8a8e45e130a10bb3d94" category="list-text">"`升级到 11.6.` 时，您无法在租户管理器中查看存储分段版本控制详细信息。 "</block>
  <block id="00e46ec1e8aec2bd8d95b2dad9b6268d" category="paragraph">升级到 11.6 后，此错误将得以解决。</block>
  <block id="05b056cbf090db9e6ff28d7a3f91490c" category="paragraph">在执行 11.6 升级期间，请使用以下工具查看存储分段详细信息或管理存储分段，而不是使用租户管理器：</block>
  <block id="88345b9f0f4a842d21472c27bba3b9f3" category="list-text">要对存储分段执行标准 S3 操作，请使用 S3 REST API 或租户管理 API 。</block>
  <block id="d0bcd244f72bfeb422a4d08b5961d763" category="list-text">要对存储分段执行 StorageGRID 自定义操作（例如，查看和修改存储分段一致性级别，启用或禁用上次访问时间更新或配置搜索集成），请使用租户管理 API 。</block>
  <block id="c04106900540e36681873d4161068b25" category="inline-xref-macro">了解租户管理 API</block>
  <block id="42edbed3a486e76f35e710799ec92e82" category="paragraph">请参见 <block ref="3696bfa5ac0bd953f651170b1435a639" category="inline-xref-macro-rx"></block> 和 <block ref="cb9b6c6687eb7e9e4247c9c2fba460a9" category="inline-xref-macro-rx"></block> 有关说明，请参见。</block>
  <block id="946dd60b4d67e472a81243aadf3f579f" category="summary">如果升级未成功完成，您可以自行解决问题描述 。如果无法解决问题描述 ，应先收集所需信息，然后再联系技术支持。</block>
  <block id="200931720d1e29c3fab35f33f3322bfa" category="doc">升级未完成</block>
  <block id="cd008ac473d69900d339100f74b388b4" category="paragraph">以下各节介绍如何从升级部分失败的情况中恢复。如果无法解决升级问题描述 ，请联系技术支持。</block>
  <block id="0660160ead75d678c6e57d0ab8547b32" category="section-title">升级预检错误</block>
  <block id="b9267324c79f1f5aa2d6bea138a480b0" category="paragraph">要检测并解决问题，您可以在开始实际升级之前手动运行升级预检。大多数预检错误都提供了有关如何解决问题描述 的信息。如果需要帮助，请联系技术支持。</block>
  <block id="7f45d437ddd6f32a4f93e077050bbad2" category="section-title">配置失败</block>
  <block id="7e4f80285f2c50b038d0156eb99947cb" category="paragraph">如果自动配置过程失败，请联系技术支持。</block>
  <block id="4b189f6fb0332204f21e7c03a5e0dce6" category="section-title">网格节点崩溃或无法启动</block>
  <block id="1f75cd63629bede4e7cd6c483d37c52c" category="paragraph">如果网格节点在升级过程中崩溃或升级完成后无法成功启动，请联系技术支持以调查并更正任何潜在问题。</block>
  <block id="9c26ee68b12efab119f6a2f85edc5a0b" category="section-title">载入或数据检索中断</block>
  <block id="c49494b84f5cc8d94b95eaa3d396992e" category="paragraph">如果在不升级网格节点时数据载入或检索意外中断，请联系技术支持。</block>
  <block id="9ff1cc1085645abb9028e23eb08a240f" category="section-title">数据库升级错误</block>
  <block id="913b1f19c04f9f319b61a911ce0c9976" category="paragraph">如果数据库升级失败并显示错误，请重试此升级。如果故障再次出现，请联系技术支持。</block>
  <block id="6c390f7b0750d4685dcd57a4a503e1a7" category="inline-xref-macro">升级软件前检查系统状况</block>
  <block id="928eaf706dd2de9ba0d7568e5aec3432" category="paragraph"><block ref="928eaf706dd2de9ba0d7568e5aec3432" category="inline-xref-macro-rx"></block></block>
  <block id="092be327ba16f8e934cf790cacad2b5e" category="summary">执行扩展时，新的网格节点将添加到现有 StorageGRID 部署中。</block>
  <block id="17161eae50048ebf2d4cebbb8264f0df" category="doc">执行扩展</block>
  <block id="3e159ee4bbfef3fa4412fe4357a4752d" category="list-text">您已部署要在此扩展中添加的所有网格节点。</block>
  <block id="623611659fc2f924659baaf4c590832d" category="inline-xref-macro">检查数据修复作业</block>
  <block id="cfb5ff1f1c2eeb21972cf77571fec6f5" category="list-text">如果您要添加存储节点，则已确认在恢复过程中执行的所有数据修复操作均已完成。请参见 <block ref="9006503924fd2ab3591a8c0e2c65b2fd" category="inline-xref-macro-rx"></block>。</block>
  <block id="e13587a9ccb55aeaf374da99f54e4a60" category="inline-xref-macro">使用 ILM 管理对象</block>
  <block id="9ee227763eb2f9abdd9072802dd758f4" category="list-text">如果要添加新站点，则必须在启动扩展操作步骤 之前查看和更新 ILM 规则，以确保在扩展完成之前不会将对象副本存储到新站点。例如，如果某个规则使用默认存储池（所有存储节点），则必须创建一个仅包含现有存储节点的新存储池，并更新 ILM 规则以使用新存储池。否则，一旦新站点上的第一个节点变为活动状态，对象就会复制到该站点。请参见的说明 <block ref="d5309287bf71e54b8de7f99511d131e8" category="inline-xref-macro-rx"></block>。</block>
  <block id="418ff6a9ff4ca21296c227fb911125e0" category="paragraph">执行扩展包括以下阶段：</block>
  <block id="cd6d8f111c40c658c29a4e0771d7e235" category="list-text">您可以通过指定是添加新网格节点还是添加新站点并批准要添加的网格节点来配置扩展。</block>
  <block id="41fa138e08882807ac41243fad2ee8c2" category="list-text">开始扩展。</block>
  <block id="5004f6d4a1b143597d36703b951d3490" category="list-text">在扩展过程运行期间，您会下载一个新的恢复软件包文件。</block>
  <block id="6019e1433e82c68d1eb81a6a6a6331d3" category="list-text">您可以监控网格配置阶段的状态，这些配置阶段会自动运行。阶段集取决于要添加的网格节点类型以及是否要添加新站点。</block>
  <block id="228d39b631ce85ec4381619550208320" category="admonition">在大型网格上运行某些阶段可能需要大量时间。例如，如果 Cassandra 数据库为空，则将 Cassandra 流式传输到新存储节点可能只需要几分钟的时间。但是，如果 Cassandra 数据库包含大量对象元数据，则此阶段可能需要数小时或更长时间。请勿在 " 扩展 Cassandra 集群 " 或 " 启动 Cassandra 和流式数据 " 阶段重新启动任何存储节点。</block>
  <block id="51d7d02aa5ea5e884d1fbe295d1103ca" category="list-text">选择 * 维护 * &gt; * 任务 * &gt; * 扩展 * 。</block>
  <block id="e96f221c1daa72e6c6a7f2eec839b831" category="paragraph">此时将显示网格扩展页面。"Pending Nodes" 部分列出了准备添加的所有节点。</block>
  <block id="d91ea793ccb5eaac6dd347f5d984cfdf" category="image-alt">显示网格扩展页面的屏幕截图</block>
  <block id="a77529059f26c1ba061e5fc2ca8074f6" category="list-text">选择 * 配置扩展 * 。</block>
  <block id="9ae1e84639dfaddd1795a2babf33ece6" category="paragraph">此时将显示站点选择对话框。</block>
  <block id="907873db1e18f5f2cf53c693b66ea1f9" category="image-alt">站点选择对话框</block>
  <block id="9fa646a6b43ec04ccd7d71a17e917ba4" category="list-text">选择要启动的扩展类型：</block>
  <block id="a5397ada5c8b4a627f2dd54f4c5d515f" category="list-text">如果要添加新站点，请选择 * 新建 * ，然后输入新站点的名称。</block>
  <block id="753825b1dfdbbb122f9202db8636c5d9" category="list-text">如果要向现有站点添加网格节点，请选择 * 现有 * 。</block>
  <block id="ff09a4e8f366d5898197e650a2d562c9" category="list-text">查看 * 待定节点 * 列表，并确认它显示了您部署的所有网格节点。</block>
  <block id="33e2ee96c87ff1dde51471b899bca357" category="paragraph">根据需要，您可以将光标悬停在节点的 * 网格网络 MAC 地址 * 上以查看有关该节点的详细信息。</block>
  <block id="fe9de729cc1da14c86ad5d38445a8975" category="image-alt">网格节点详细信息的屏幕截图</block>
  <block id="c17a11a7bd7c8fb88cf892fc290c2512" category="admonition">如果缺少网格节点，请确认已成功部署该节点。</block>
  <block id="c831a6d2f03f6e7ce4a756900ee3d998" category="list-text">从待定节点列表中，批准此扩展的网格节点。</block>
  <block id="a2330d38aaa5eb7aa613a599bc2b8aaa" category="list-text">选择要批准的第一个待定网格节点旁边的单选按钮。</block>
  <block id="4272701db107a10a01c1ba04987ecbc3" category="list-text">选择 * 批准 * 。</block>
  <block id="750429bb014fbd13e42a5422fab5136a" category="paragraph">此时将显示网格节点配置表单。</block>
  <block id="7deea0be3e1da8db4dde34e731fc2609" category="image-alt">网格节点配置表</block>
  <block id="0cc64a2af0b36c013d3aba821f5514c7" category="list-text">根据需要修改常规设置：</block>
  <block id="577b3c939b403eb2756005851789c2a4" category="list-text">* 站点 * ：要与网格节点关联的站点的名称。如果要添加多个节点，请确保为每个节点选择正确的站点。如果要添加新站点，则所有节点都将添加到新站点。</block>
  <block id="2fef7af8c18b11f79b2f450ca0848854" category="list-text">* 名称 * ：将分配给节点的主机名以及将在网格管理器中显示的名称。</block>
  <block id="8323d54a91f91fc2362e2d694585be1d" category="list-text">* NTP 角色 * ：网格节点的网络时间协议（ NTP ）角色。选项包括 * 自动 * ， * 主 * 和 * 客户端 * 。选择 * 自动 * 会将主角色分配给管理节点，具有模板转换服务的存储节点，网关节点以及具有非静态 IP 地址的任何网格节点。所有其他网格节点都分配有客户端角色。</block>
  <block id="76e65ad385b5256f7137c97eb42bd443" category="admonition">将主 NTP 角色分配给每个站点上至少两个节点。这样，系统便可对外部计时源进行冗余访问。</block>
  <block id="5f2bf5fe4b2aab6c93f63578f870b429" category="list-text">* ADC* 服务 * （仅限存储节点）：此存储节点是否将运行管理域控制器（ ADC-A ）服务。此 ADA 服务可跟踪网格服务的位置和可用性。每个站点至少有三个存储节点必须包含此 ADC-Service 。在部署此节点后，您不能将此 ADC 服务添加到该节点中。</block>
  <block id="543171d9d4cd5eb304a273f6462b4e67" category="list-text">如果要添加此节点以替换存储节点，请选择 * 是 * ，前提是要替换的节点包含此 ADA 服务。由于如果仍会保留的 ADD 服务太少，则无法停用存储节点，因此，这样可以确保在删除旧服务之前新的 ADD 服务可用。</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-xref-macro">此处</block>
  <block id="41a7d2dce374da5fc1f0866247bdafea" category="list-text">否则，请选择 * 自动 * 以让系统确定此节点是否需要使用此 ADC-Service 。了解有关模数转换器仲裁的信息 <block ref="e70d0d050087b1ca7324efec698be7ff" category="inline-xref-macro-rx"></block>。</block>
  <block id="8d9009b519d5fdc75bdfffb35e18b496" category="list-text">根据需要修改网格网络，管理网络和客户端网络的设置。</block>
  <block id="0bce57acf9683afb45d2d90379b8cac3" category="list-text">* IPv4 地址（ CIDR ） * ：网络接口的 CIDR 网络地址。例如： 172.16.10.100/24</block>
  <block id="ac08b3a7c8f116bebaeb37630981c25b" category="list-text">* 网关 * ：网格节点的默认网关。例如： 172.16.10.1</block>
  <block id="6b197431ff4d451340d0a8922846b623" category="list-text">* 子网（ CIDR ） * ：管理网络的一个或多个子网。</block>
  <block id="67ab8af68d8d9954ecbd596b8fe5368b" category="paragraph">批准的网格节点将移至批准的节点列表。</block>
  <block id="1ed6983fb0255b3849dbf1ed7117dada" category="image-alt">显示已批准节点的屏幕截图</block>
  <block id="2066ea760d1c0469c621d9cc85267210" category="list-text">要修改已批准的网格节点的属性，请选择其单选按钮，然后选择 * 编辑 * 。</block>
  <block id="2e2ce01ad98e26a8c9cfa1b7b856aacb" category="list-text">要将已批准的网格节点移回 "Pending Nodes" 列表，请选择其单选按钮，然后选择 * 重置 * 。</block>
  <block id="df4cf30181b96e5e0a95537daa1c6b8d" category="list-text">要永久删除已批准的网格节点，请关闭此节点。然后，选择其单选按钮并选择 * 删除 * 。</block>
  <block id="683cbb6419327d157a7ea5443ebea87e" category="list-text">对要批准的每个待定网格节点重复上述步骤。</block>
  <block id="fd6155c150cfd1954d22c86994c683b8" category="admonition">如果可能，您应批准所有待定网格注释并执行一次扩展。如果执行多个小型扩展，则需要更多时间。</block>
  <block id="1c1cc70aa3d4963686b9a0811756e778" category="list-text">批准所有网格节点后，输入 * 配置密码短语 * ，然后选择 * 扩展 * 。</block>
  <block id="89f3b1612deaf4851bb31d075fdc4109" category="paragraph">几分钟后，此页面将更新以显示扩展操作步骤 的状态。如果正在执行影响单个网格节点的任务，则网格节点状态部分将列出每个网格节点的当前状态。</block>
  <block id="457fffa1eee2c652b26cc8bfdc4188dd" category="admonition">在此过程中，对于设备， StorageGRID 设备安装程序会显示安装从第 3 阶段移至第 4 阶段 " 完成安装 " 。阶段 4 完成后，控制器将重新启动。</block>
  <block id="5fbfe5f73d4b1ebf6c775d6d86e54956" category="admonition">站点扩展包括一项额外任务，用于为新站点配置 Cassandra 。</block>
  <block id="27ee58a4bf7666e97c85d89f453b8631" category="list-text">显示 * 下载恢复包 * 链接后，立即下载恢复包文件。</block>
  <block id="ccf94613df5779c66b7312e25cc40cb9" category="paragraph">在对 StorageGRID 系统进行网格拓扑更改后，您必须尽快下载恢复包文件的更新副本。通过恢复包文件，您可以在发生故障时还原系统。</block>
  <block id="c409172ebd86408a2cf06638929eff70" category="list-text">选择下载链接。</block>
  <block id="c4ef19ad2cfb3064e6b034f350607939" category="list-text">下载完成后，打开 ` .zip` 文件并确认其中包含 `gpt 备份` 目录和 ` sed_said.zip` 文件。然后，提取 ` sa_sid.zip` 文件，转到 ` /GID* _REV*` 目录，确认您可以打开 `passwords.txt` 文件。</block>
  <block id="b38f1897ec5e0a2c4e1f715d081502f6" category="list-text">将下载的恢复软件包文件（ .zip ）复制到两个安全的单独位置。</block>
  <block id="0b420e4f76800153a48babf33c65dc15" category="list-text">按照说明向现有站点添加存储节点或添加新站点。</block>
  <block id="fa62b0b3fe2ab472e97b0a7495998f0b" category="open-title">将存储节点添加到现有站点</block>
  <block id="d05d69747986ff110be0a2ce896a37b6" category="paragraph">如果要向现有站点添加一个或多个存储节点，请查看状态消息中显示的百分比，以监控 " 启动 Cassandra 和流式传输数据 " 阶段的进度。</block>
  <block id="abc44d274dfc42330edf886142febff6" category="image-alt">网格扩展 &gt; 启动 Cassandra 和流式传输数据</block>
  <block id="e48e36cc261029960264ede69d30f4b2" category="paragraph">此百分比根据可用的 Cassandra 数据总量以及已写入新节点的数据量估计 Cassandra 流操作的完成程度。</block>
  <block id="adb6168ac7b0f0fc88eeec7b63da3393" category="admonition">请勿在 " 扩展 Cassandra 集群 " 或 " 启动 Cassandra 和流式数据 " 阶段重新启动任何存储节点。对于每个新存储节点，这些阶段可能需要花费数小时才能完成，尤其是在现有存储节点包含大量对象元数据的情况下。</block>
  <block id="78c96aa64afd88831f01462151a9f424" category="open-title">添加新站点</block>
  <block id="e672e10078627fba425f9d2685be7854" category="paragraph">如果要添加新站点，请使用 `nodetool status` 监控 Cassandra 流式传输的进度，并查看在 " 扩展 Cassandra 集群 " 阶段已向新站点复制多少元数据。新站点上的总数据负载应介于当前站点总负载的 20% 左右。</block>
  <block id="92625e230cc7eca27b540aba48a99363" category="list-text">继续监控扩展，直到所有任务均完成，并且 * 配置扩展 * 按钮再次出现。</block>
  <block id="49211fb7b3c6383cda6f8afb645aec46" category="inline-xref-macro">扩展后的配置步骤</block>
  <block id="aacaa5ebc676d0fdc61f3e57e7db410d" category="paragraph">根据您添加的网格节点类型，您必须执行其他集成和配置步骤。请参见 <block ref="f180279c545349187d8d2f0e75c9838a" category="inline-xref-macro-rx"></block>。</block>
  <block id="349d0b742690a8cc3f74bfba26b36ecb" category="summary">添加新的管理节点后，您可以选择将 Prometheus 维护的历史指标从主管理节点复制到新的管理节点。复制指标可确保管理节点之间的历史指标一致。</block>
  <block id="5e05bf261af3a3816869f2ddec695507" category="doc">复制 Prometheus 指标</block>
  <block id="0b50ed09d0818476e89380ceba5a58c5" category="list-text">新管理节点已安装并正在运行。</block>
  <block id="98ce71eaeb24ff6fe607f3622952257d" category="list-text">您已有 `passwords.txt` 文件。</block>
  <block id="fea8e740d555ab574c5c8be212579382" category="paragraph">添加管理节点时，软件安装过程会创建一个新的 Prometheus 数据库。您可以通过将 Prometheus 数据库从主管理节点（ _source 管理节点 _ ）复制到新管理节点来保持节点之间的历史指标一致。</block>
  <block id="428f49d8913c52c69458df19f67d7f6d" category="admonition">复制 Prometheus 数据库可能需要一个小时或更长时间。在源管理节点上停止服务时，某些 Grid Manager 功能将不可用。</block>
  <block id="1b4ae41c31c628624c7827bae05b55b5" category="list-text">登录到源管理节点：</block>
  <block id="23f41a4221c4f890cd36995664998b92" category="list-text">从源管理节点中，停止 Prometheus 服务： `sservice Prometheus stop`</block>
  <block id="60cb9d75ae9c78035a26c4b2b6f8a23a" category="list-text">在新管理节点上完成以下步骤：</block>
  <block id="0b9c244fbfa0fb6ee347a3197ffc3ddf" category="list-text">登录到新的管理节点：</block>
  <block id="eb1bae8b12ff11367fe492136473347a" category="list-text">停止 Prometheus 服务： `sservice Prometheus stop`</block>
  <block id="e312a79b518edd4aefd8c797f97b3961" category="list-text">将 SSH 专用密钥添加到 SSH 代理。输入：``ssh-add``</block>
  <block id="c0e5dff85f9da9a642946e884fdc4f4a" category="list-text">输入 `passwords.txt` 文件中列出的 SSH 访问密码。</block>
  <block id="ab9efe02522782f8be2c1da2e92dabc9" category="list-text">将 Prometheus 数据库从源管理节点复制到新的管理节点： ` /usr/local/Prometheus/bin/prometheus-clone-db.sh _Source_Admin_Node_IP_`</block>
  <block id="f5a788a82fe6883ce789bf42ecb9846d" category="list-text">出现提示时，按 * 输入 * 确认要销毁新管理节点上的新 Prometheus 数据库。</block>
  <block id="4cbd53a8f159835db0c95a2d8717abd8" category="paragraph">原始 Prometheus 数据库及其历史数据将复制到新的管理节点。完成复制操作后，此脚本将启动新的管理节点。此时将显示以下状态：</block>
  <block id="c20be283a6f16fc387cc9c89d8639ca1" category="paragraph">`d已克隆数据库，正在启动服务`</block>
  <block id="3d30a63f1f3a56e0fd6165f838563970" category="list-text">如果不再需要对其他服务器进行无密码访问，请从 SSH 代理中删除私钥。输入 ...</block>
  <block id="637ac13e22f5cdfb831af6c6928672c7" category="paragraph">`ssh-add -D`</block>
  <block id="9b78f78bd86b072399fcc9daa79e42c9" category="list-text">在源管理节点上重新启动 Prometheus 服务。</block>
  <block id="6f27da8eeb1e16164d78c1c104f53e09" category="paragraph">`sService Prometheus start`</block>
  <block id="5208ea2d7fef4547592b83bcd81c2e37" category="summary">您可以通过向现有站点添加新的网格节点来为 StorageGRID 系统添加冗余或其他功能。</block>
  <block id="6528e12a81667c9d5b35b16ec0e912e9" category="doc">添加网格节点以向系统添加功能</block>
  <block id="185792dbd120fbedf609d60ac035b07a" category="paragraph">例如，您可以选择添加其他网关节点以支持创建网关节点的高可用性组，也可以在远程站点添加管理节点以允许使用本地节点进行监控。</block>
  <block id="ad0b24a1cac115f79fa6a6f259f8e973" category="paragraph">您可以通过单个扩展操作向一个或多个现有站点添加以下一种或多种类型的节点：</block>
  <block id="4585f898910372d6d566017ddf5f6564" category="list-text">非主管理节点</block>
  <block id="19c10bdc2f483ccce260909628be18a9" category="paragraph">准备添加网格节点时，请注意以下限制：</block>
  <block id="7a729f61b48b87784ff557a45071c262" category="list-text">主管理节点会在初始安装期间部署。在扩展期间，不能添加主管理节点。</block>
  <block id="e96f595ee949405b4569285d32bd10ed" category="list-text">您可以在同一扩展中添加存储节点和其他类型的节点。</block>
  <block id="2fe6d0552b2a2e663c11123d80d13ce5" category="inline-xref-macro">添加对象容量的准则</block>
  <block id="95505d5c39d9b2d0da43ba9dcf30e4c1" category="list-text">添加存储节点时，必须仔细规划新节点的数量和位置。请参见 <block ref="d7cea17fcd1050720a78f4c5d328df76" category="inline-xref-macro-rx"></block>。</block>
  <block id="f85c56d6f8c18d41455aa3e93b5073f8" category="list-text">如果要添加归档节点，请注意，每个归档节点仅通过 Tivoli Storage Manager （ TSM ）中间件支持磁带。</block>
  <block id="30bcde86be3f8883fe5cd175e508697e" category="list-text">如果在不可信客户端网络页面上将 * 新节点客户端网络默认 * 选项设置为 * 不可信 * ，则使用客户端网络连接到扩展节点的客户端应用程序必须使用负载平衡器端点端口（ * 配置 * &gt; * 网络 * &gt; * 不可信客户端网络 * ）进行连接。请参见的说明 <block ref="dd980d927a936fff2fa9e281dc8cfb8b" category="inline-xref-macro-rx"></block> 更改新节点的设置并配置负载平衡器端点。</block>
  <block id="4e91bd37965a4b5ba84778c04e872517" category="summary">如果您在网格扩展过程中遇到无法解决的错误，或者网格任务失败，请联系技术支持。</block>
  <block id="0607bd332350ef193bc31ef1c742c508" category="doc">请联系技术支持</block>
  <block id="53f79d287d8978d2c300e7cd1d09cc11" category="paragraph">联系技术支持时，您必须提供所需的日志文件，以帮助您解决遇到的错误。</block>
  <block id="037734372ecabb81e574fed23c2d4989" category="list-text">连接到发生故障的扩展节点：</block>
  <block id="15dc17fbf38a4fc8a84e3efc54e86df8" category="list-text">输入以下命令：``ssh -p 8022 admin@ grid_node_ip_``</block>
  <block id="041fda65844dc84428fe389892c889b7" category="admonition">端口 8022 是基础操作系统的 SSH 端口，而端口 22 是运行 StorageGRID 的容器引擎的 SSH 端口。</block>
  <block id="ffadd8efc161cbcd0e438129477f0624" category="paragraph">以 root 用户身份登录后，提示符将从 ` $` 更改为 ` #` 。</block>
  <block id="5ef4f27b6d7f7dba937a181c6202362b" category="list-text">根据安装达到的阶段，检索网格节点上提供的以下任何日志：</block>
  <block id="419f3742e6de8e0ec4b22cce005e7630" category="cell">平台</block>
  <block id="b2d37ae1cedf42ff874289b721860af2" category="cell">日志</block>
  <block id="56079badd056a19303cc26e6a4fcc7e0" category="paragraph">VMware</block>
  <block id="a7d9ebebd396c3eb4be4a7d172553997" category="list-text">` /var/log/daemon 。 log`</block>
  <block id="215c008a9ac28f434b720b067788f4c0" category="list-text">` /var/log/storaggrid/daema.log`</block>
  <block id="c999e6056b1e7d954d1d3429b11846c2" category="list-text">` /var/log/storaggrid/nodes/&lt;node-name&gt;.log`</block>
  <block id="edc9f0a5a5d57797bf68e37364743831" category="paragraph">Linux</block>
  <block id="712cbcee85aecc6132d41854f86719ac" category="list-text">` /etc/storaggrid/nodes/&lt;node-name&gt;.conf` （对于每个故障节点）</block>
  <block id="f28e75e27f1f228d1f92b1f1735ec963" category="list-text">` /var/log/storaggrid/nodes/&lt;node-name&gt;.log` （对于每个故障节点，可能不存在）</block>
  <block id="64393a5ecab4ced156df66bfa85466da" category="summary">通过扩展操作步骤 添加管理节点时，您可以选择将数据库从主管理节点复制到新的管理节点。通过复制数据库，您可以保留有关属性，警报和警报的历史信息。</block>
  <block id="609dd6d6881ea957ff87d5c47cd020b6" category="doc">复制管理节点数据库</block>
  <block id="b16e6264422143551def63941c41af0e" category="list-text">您已完成添加管理节点所需的扩展步骤。</block>
  <block id="3ba562bf5d2146e3716264cdd3a31dc2" category="paragraph">StorageGRID 软件激活过程会在扩展管理节点上为 NMS 服务创建一个空数据库。当 NMS 服务在扩展管理节点上启动时，它会记录当前属于系统的服务器和服务的信息或稍后添加的服务器和服务的信息。此管理节点数据库包含以下信息：</block>
  <block id="734fb161cf2f06891febaaba448c958c" category="list-text">警报历史记录</block>
  <block id="5689de503b8448ccfea4f44290f02107" category="list-text">警报历史记录</block>
  <block id="5bc9eb0c4c59ef551138d2ea9ef630b8" category="list-text">历史属性数据，用于 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 页面上的图表和文本报告</block>
  <block id="09c9353a1c6bdbdc18004f16ac743567" category="paragraph">为了确保管理节点数据库在节点之间保持一致，您可以将数据库从主管理节点复制到扩展管理节点。</block>
  <block id="4a1f5c4c0a0b85dfa6b2c5badb17b6f0" category="admonition">将数据库从主管理节点（ _source 管理节点 _ ）复制到扩展管理节点可能需要数小时才能完成。在此期间，无法访问网格管理器。</block>
  <block id="ae2e3a91386d0e0c8455bd4121be816d" category="paragraph">在复制数据库之前，请按照以下步骤停止主管理节点和扩展管理节点上的 MI 服务和管理 API 服务。</block>
  <block id="4316d08ee5c30afd691af81cedfbf621" category="list-text">在主管理节点上完成以下步骤：</block>
  <block id="b49d416c5f1ef8021854b13b24ab8093" category="list-text">登录到管理节点：</block>
  <block id="7497ec41c66c557c70da04515cd7273f" category="list-text">运行以下命令： `re封面访问点`</block>
  <block id="2c8973aa239a13a1a50136e1113e304d" category="list-text">停止 MI 服务： `service mi stop`</block>
  <block id="8ddecd24b5e882a63e0e6369d4836557" category="list-text">停止管理应用程序接口（ mgmt-api ）服务： `service mgmt-api stop`</block>
  <block id="f7df8fb2f0736815c19e23380464ad2d" category="list-text">在扩展管理节点上完成以下步骤：</block>
  <block id="5eaa0fb201a8440d17e19d30e77c0c77" category="list-text">登录到扩展管理节点：</block>
  <block id="b175e1217d85112b960d924deb05d97d" category="list-text">停止 mgmt-api 服务： `service mgmt-api stop`</block>
  <block id="495d805ccdd63897ea2ddd7950ce37e7" category="list-text">将数据库从源管理节点复制到扩展管理节点： ` /usr/local/mi/bin/mi-clone-db.sh _Source_Admin_Node_IP_`</block>
  <block id="530634fe097cfb5806a1fef6f10b7303" category="list-text">出现提示时，确认要覆盖扩展管理节点上的 MI 数据库。</block>
  <block id="d301e8648cd470df38eb73948367602b" category="paragraph">数据库及其历史数据将复制到扩展管理节点。完成复制操作后，此脚本将启动扩展管理节点。</block>
  <block id="22542e65772c2e95c99117404be5356a" category="list-text">如果不再需要对其他服务器进行无密码访问，请从 SSH 代理中删除私钥。输入：``ssh-add -D``</block>
  <block id="251120040cdd02c6f6b3fae73c57373d" category="list-text">在主管理节点上重新启动服务： `service servermanager start`</block>
  <block id="1866752605f992dfd684eef9e628040a" category="summary">如果您的部署的信息生命周期管理 \ （ ILM ）策略包含创建对象的复制副本的规则，则必须考虑要添加的存储容量以及要添加新存储卷或存储节点的位置。</block>
  <block id="e8ccf8c79e9f5487f6b2bf00aa54fd54" category="doc">为复制的对象添加存储容量</block>
  <block id="9a474ffb92665e66f03b21fe04f8e6d3" category="paragraph">如果您的部署的信息生命周期管理（ ILM ）策略包含一条规则，用于创建对象的复制副本，则必须考虑要添加的存储容量以及要添加新存储卷或存储节点的位置。</block>
  <block id="b8d2b8725b2e030a515d72c8a63d952f" category="inline-xref-macro">通过信息生命周期管理管理对象</block>
  <block id="5850e0908a18f916c8c3732cf0eee564" category="paragraph">有关在何处添加额外存储的指导，请查看创建复制副本的 ILM 规则。如果 ILM 规则创建两个或更多对象副本，请计划在创建对象副本的每个位置添加存储。例如，如果您有一个双站点网格和一个 ILM 规则，在每个站点创建一个对象副本，则必须向每个站点添加存储，以增加网格的整体对象容量。请参见的说明 <block ref="31630c9fbc2e405319a335abafc12b71" category="inline-xref-macro-rx"></block>。</block>
  <block id="a7c6a240013b34df3038fdf1d5584a21" category="paragraph">出于性能原因，您应尝试在各个站点之间保持存储容量和计算能力的平衡。因此，在此示例中，您应向每个站点添加相同数量的存储节点或在每个站点添加更多存储卷。</block>
  <block id="25d67f7f44a883bdfecbe153bbe2b83e" category="paragraph">如果您的 ILM 策略更加复杂，其中包括根据存储分段名称等标准将对象放置在不同位置的规则，或者随着时间的推移更改对象位置的规则，则您对扩展所需存储位置的分析将类似，但更为复杂。</block>
  <block id="43e530df34537e96dbedd1c5fa50df18" category="inline-xref-macro">监控 StorageGRID 并对其进行故障排除</block>
  <block id="90e0bef6260978effabdde50b637d881" category="paragraph">绘制整体存储容量的消耗速度图表有助于您了解要在扩展中添加多少存储以及何时需要额外存储空间。您可以使用网格管理器监控和绘制存储容量图表，如的说明所述 <block ref="b9419b8aeaaca1ed05948ee5b33838b9" category="inline-xref-macro-rx"></block>。</block>
  <block id="9e5ee88c5422cac1e5bba5993123e4bd" category="paragraph">在规划扩展的时间时，请务必考虑购买和安装额外存储可能需要多长时间。</block>
  <block id="782ef9c3fa7ef64da03064284de92304" category="summary">您可以按照此操作步骤 向现有站点添加网格节点或添加新站点，但不能同时执行这两种类型的扩展。</block>
  <block id="7852bcc4c709f1891c1a24a5a293ea63" category="doc">向现有站点添加网格节点或添加新站点</block>
  <block id="4b335e9fdf0455a1fd89fb5eae2d9c01" category="list-text">您具有 root 访问权限或维护权限。</block>
  <block id="343020cf54d6c5a811a7aa92964282ca" category="list-text">网格中的所有现有节点在所有站点上均已启动且正在运行。</block>
  <block id="71800a65452dda3f0944473254f7c571" category="list-text">先前的任何扩展，升级，停用或恢复过程均已完成。</block>
  <block id="44a1bd322bfde5ba803010fe7ddfcf3b" category="admonition">如果正在进行另一个扩展，升级，恢复或活动的停用操作步骤 ，则系统将阻止您启动扩展。但是，如有必要，您可以暂停已停用的操作步骤 以启动扩展。</block>
  <block id="d564e82bac1bfa514936d298219964f1" category="inline-xref-macro">更新网格网络的子网</block>
  <block id="6c5df9e9c873ff62534d8fbaca2864cc" category="list-text"><block ref="90888c58b928a85027cda6fe3654acde" category="inline-xref-macro-rx"></block>。</block>
  <block id="4b62501777a6a2c97d3899d7f9c38f36" category="inline-xref-macro">部署新的网格节点</block>
  <block id="79e471e1199b1db13944cf7ef28f9eb4" category="list-text"><block ref="be20ee39e7600c3e4cf3e201c983534c" category="inline-xref-macro-rx"></block>。</block>
  <block id="518ebdaed65e1f5ae5f3edcf1f552c0c" category="list-text"><block ref="9e801ab5cd055e1b82e53d01a8747288" category="inline-xref-macro-rx"></block>。</block>
  <block id="5dda605f4fec27b32d16aa88f0a7ee3c" category="summary">如果要执行扩展以添加存储节点，并且 ILM 策略包含一个或多个用于擦除代码数据的 ILM 规则，则可能需要在扩展完成后执行 EC 重新平衡操作步骤 。</block>
  <block id="81f8120b5a1cdbbad82c371e24d5f3c0" category="doc">重新平衡经过纠删编码的数据的注意事项</block>
  <block id="e16acd8a55f7ddae677143fe2736648b" category="paragraph">例如，如果您无法为所使用的纠删编码方案添加建议数量的存储节点，则可能需要运行 EC 重新平衡操作步骤 以存储其他经过纠删编码的对象。</block>
  <block id="85c5ef50f7085eaef1ac1eb8a1e97be8" category="inline-xref-macro">添加存储节点后重新平衡经过纠删编码的数据</block>
  <block id="3881f82790fc95ee0eda33fa454f26ff" category="paragraph">查看这些注意事项后，请执行扩展，然后转到 <block ref="7189abf47ded1f4a100ea3883aa47060" category="inline-xref-macro-rx"></block> 以运行操作步骤 。</block>
  <block id="433ae8473be4f6ab719f218c2c44f8b2" category="section-title">什么是 EC 重新平衡？</block>
  <block id="d6258aca960a9d23c2e2ad04dc0e5ea2" category="paragraph">EC 重新平衡是扩展存储节点后可能需要的 StorageGRID 操作步骤 。操作步骤 将作为主管理节点上的命令行脚本运行。运行 EC 重新平衡操作步骤 时， StorageGRID 会在站点的现有存储节点和新扩展的存储节点之间重新分布经过擦除编码的片段。</block>
  <block id="ccdecbfd58700cb1df07f3f179af8b98" category="paragraph">EC 重新平衡操作步骤 ：</block>
  <block id="9accfe2f55ee410ebb089661a7e25bff" category="list-text">仅移动经过纠删编码的对象数据。它不会移动复制的对象数据。</block>
  <block id="0a4eadb7582c80af4bb202d6dc4c765c" category="list-text">在站点内重新分布数据。它不会在站点之间移动数据。</block>
  <block id="d9bbed4996970342dbd2c061581f0fa7" category="list-text">在站点的所有存储节点之间重新分布数据。它不会在存储卷中重新分配数据。</block>
  <block id="d8c525eddee0bc5253fa18835f881eda" category="list-text">在确定从何处移动经过纠删编码的数据时，不会考虑每个存储节点上的复制数据使用情况</block>
  <block id="9f4a931307841a02d638575d0b5778d5" category="paragraph">完成 EC 重新平衡操作步骤 后：</block>
  <block id="7ce49ddbd0cda46924dcdb3604678b7d" category="list-text">经过纠删编码的数据会从可用空间较少的存储节点移至可用空间较多的存储节点。</block>
  <block id="532eb04d0ee150c7bd16eaf08c159cb5" category="list-text">由于 EC 重新平衡操作步骤 不会移动复制的对象副本，因此存储节点之间的已用（ % ）值可能会保持不同。</block>
  <block id="97d32d72ed0d0276a6fecc45a447a238" category="list-text">擦除编码对象的数据保护将保持不变。</block>
  <block id="aa0a64cd731fb4fc8d47d691da81376c" category="paragraph">当 EC 重新平衡操作步骤 运行时， ILM 操作以及 S3 和 Swift 客户端操作的性能可能会受到影响。因此，您只能在有限情况下执行此操作步骤 。</block>
  <block id="7ba3212770169ec46973ff4563209d84" category="section-title">何时不执行 EC 重新平衡</block>
  <block id="5cc84a5ef9f38d61e655ccb17c74e9a4" category="paragraph">例如，当您不需要执行 EC 重新平衡时，请考虑以下几点：</block>
  <block id="3711446fe329733e511b03991fa244c8" category="list-text">StorageGRID 正在一个站点上运行，该站点包含三个存储节点。</block>
  <block id="4d93ac5c1c95d120127dacddd1949243" category="list-text">ILM 策略对大于 1.0 MB 的所有对象使用 2+1 擦除编码规则，对较小的对象使用双副本复制规则。</block>
  <block id="efcafdbb5ce5ba957a7069d44f3783d8" category="list-text">所有存储节点均已完全满，并且已在主要严重性级别触发 * 对象存储空间不足 * 警报。建议执行扩展操作步骤 以添加存储节点。</block>
  <block id="c7b11601d6158e3687ab4199b9aa0a78" category="image-alt">扩展前已用空间</block>
  <block id="6b07d7b2b60020126c292dbbcc0d80b3" category="paragraph">要在此示例中扩展站点，建议您添加三个或更多新的存储节点。StorageGRID 需要三个存储节点来执行 2+1 纠删编码，以便可以将两个数据片段和一个奇偶校验片段放置在不同的节点上。</block>
  <block id="67f602a12896c007504d3ed0cee16ea2" category="paragraph">添加三个存储节点后，原始存储节点将保持全满状态，但可以继续将对象载入新节点上的 2+1 纠删编码方案中。在这种情况下，不建议运行 EC 重新平衡操作步骤 ：运行操作步骤 将暂时降低性能，这可能会影响客户端操作。</block>
  <block id="19d72164af57de1b892d10ad943507ff" category="image-alt">3 节点扩展后的已用空间</block>
  <block id="305185ad3c3b4e0bb54b47ecb124cde9" category="section-title">何时执行 EC 重新平衡</block>
  <block id="880017900e4189aa9e0315579852095a" category="paragraph">例如，您应在何时执行 EC 重新平衡操作步骤 ，请考虑相同的示例，但假定您只能添加两个存储节点。由于 2+1 纠删编码至少需要三个存储节点，因此新节点不能用于纠删编码的数据。</block>
  <block id="7a0c28ab2d8545dcfac6053aedfeb7cf" category="image-alt">双节点扩展后的已用空间</block>
  <block id="e12d95df668cf00b8486c3c2ace0e652" category="paragraph">要解析此问题描述 并使用新的存储节点，您可以运行 EC 重新平衡操作步骤 。运行此操作步骤 时， StorageGRID 会在站点的所有存储节点之间重新分发经过纠删编码的数据和奇偶校验片段。在此示例中，当 EC 重新平衡操作步骤 完成后，所有五个节点的容量现在仅为 60% ，并且可以继续将对象载入所有存储节点上的 2+1 纠删编码方案。</block>
  <block id="817075f1be1dfe6d225787baae2d55ba" category="image-alt">在 EC 重新平衡后已用空间</block>
  <block id="00b13bccf3791dd26d6f64052854845f" category="section-title">EC 重新平衡的要求</block>
  <block id="f2ab16caf94266de3bfab626b4d9b5e7" category="paragraph">通常，您只能在有限情况下运行 EC 重新平衡操作步骤 。具体而言，只有在以下所有陈述均正确的情况下，才应执行 EC 重新平衡：</block>
  <block id="5ec64c592c55e10e3d50b82c91bb8e08" category="list-text">您可以对对象数据使用纠删编码。</block>
  <block id="1a7ba6bf0500c80c4f4ced282bd2db0e" category="list-text">已针对站点上的一个或多个存储节点触发 * 对象存储空间不足 * 警报，表示这些节点已满 80% 或以上。</block>
  <block id="8cd60d599fce246871e9fb83c0f1daf4" category="inline-xref-macro">为经过纠删编码的对象添加存储容量</block>
  <block id="140644fecdfde08ea072145c82f46011" category="list-text">您无法为正在使用的纠删编码方案添加建议数量的新存储节点。请参见 <block ref="ab5d85b1e26522f5440e97e481dbdbb4" category="inline-xref-macro-rx"></block>。</block>
  <block id="141f5e31c695d360ab8bb1a3ee356d6e" category="list-text">当 EC 重新平衡操作步骤 正在运行时， S3 和 Swift 客户端的写入和读取操作可以容忍较低的性能。</block>
  <block id="5bf034e9bac9c85e503f5c1151f5afdb" category="section-title">EC 重新平衡操作步骤 如何与其他维护任务进行交互</block>
  <block id="efe5672941be5ae91aadb3711e4372bb" category="paragraph">您不能在运行 EC 重新平衡操作步骤 的同时执行某些维护过程。</block>
  <block id="8c4271e6faf2cea4cfc8e5b7108d8ee9" category="cell">操作步骤</block>
  <block id="5c67fe5b1805843f362db2126b73536b" category="cell">在 EC 重新平衡操作步骤 期间是否允许？</block>
  <block id="076a1a3c5ebced745283401862b8bd1d" category="paragraph">其他 EC 重新平衡过程</block>
  <block id="fbd39fe0ecd01afaf01ea1957ef4a57c" category="paragraph">否</block>
  <block id="0d5b9800eabc2a8e919572e5e1617f8a" category="paragraph">一次只能运行一个 EC 重新平衡操作步骤 。</block>
  <block id="18445fec9c7c42b50457c7969c0159ef" category="paragraph">停用操作步骤</block>
  <block id="8b710b5785f084b2d9e336a6435234ae" category="paragraph">EC 数据修复作业</block>
  <block id="b04dc5c9e24ec1c2fafe8ab89cdc5d8f" category="list-text">在 EC 重新平衡操作步骤 运行期间，系统会阻止您启动停用操作步骤 或 EC 数据修复。</block>
  <block id="f113a8ddb6fc5eb85f4f97e6cb6bf889" category="list-text">在存储节点停用操作步骤 操作步骤 或 EC 数据修复正在运行时，系统会阻止您启动 EC 重新平衡。</block>
  <block id="fb73b9f4b1f5821b83a0e162ba17579e" category="paragraph">扩展操作步骤</block>
  <block id="716df590cd90f8e53814f28ebdeb4471" category="paragraph">如果需要在扩展中添加新的存储节点，应等待运行 EC 重新平衡操作步骤 ，直到添加完所有新节点为止。如果在添加新存储节点时正在进行 EC 重新平衡操作步骤 ，则不会将数据移动到这些节点。</block>
  <block id="f3cd915fef4007f5ca1aa6172ae37423" category="paragraph">升级操作步骤</block>
  <block id="64d1824e803179fd9122f12068c90131" category="paragraph">如果需要升级 StorageGRID 软件，应在运行 EC 重新平衡操作步骤 之前或之后执行升级操作步骤 。您可以根据需要终止 EC 重新平衡操作步骤 以执行软件升级。</block>
  <block id="f0c28161e7debbe9f898546c7be4c902" category="paragraph">设备节点克隆操作步骤</block>
  <block id="7b8396b8e418cf8e12b67b6775c08e1f" category="paragraph">如果需要克隆设备存储节点，应等待运行 EC 重新平衡操作步骤 ，直到添加新节点为止。如果在添加新存储节点时正在进行 EC 重新平衡操作步骤 ，则不会将数据移动到这些节点。</block>
  <block id="facf7ecaee2ddec49e4ffd5a82654cbf" category="paragraph">修补程序操作步骤</block>
  <block id="b127099c71415d532da3a26ed73eb041" category="paragraph">是的。</block>
  <block id="3502b1c82b155e136ee9a4df6d90d86b" category="paragraph">您可以在 EC 重新平衡操作步骤 运行期间应用 StorageGRID 修补程序。</block>
  <block id="8ecbb534e75da5167caba16bca25b73d" category="paragraph">其他维护过程</block>
  <block id="2e011cfb584c43a3a432b7f9bf7b792c" category="paragraph">在运行其他维护过程之前，您必须终止 EC 重新平衡操作步骤 。</block>
  <block id="e5a8612b723c1b44ddab7c8d79f391dc" category="section-title">EC 重新平衡操作步骤 如何与 ILM 交互</block>
  <block id="f03254ea744c05717f843619ececcdb1" category="paragraph">在运行 EC 重新平衡操作步骤 时，请避免进行可能会更改现有纠删编码对象位置的 ILM 更改。例如，请勿开始使用具有不同擦除编码配置文件的 ILM 规则。如果需要进行此类 ILM 更改，应中止 EC 重新平衡操作步骤 。</block>
  <block id="a5eda53b25c5edb122881db0e8906e94" category="summary">如果 ILM 策略包含创建纠删编码副本的规则，则必须计划在何处添加新存储以及何时添加新存储。您添加的存储量和添加的时间可能会影响网格的可用存储容量。</block>
  <block id="fbe57e91e172c6f664b69020d17ed2b3" category="paragraph">如果 ILM 策略包含创建纠删编码副本的规则，则必须计划在何处添加新存储以及何时添加新存储。您添加的存储量和添加的时间可能会影响网格的可用存储容量。</block>
  <block id="c82306558d354a8c9aaa4635d721cd72" category="inline-xref-macro">使用 ILM 管理对象</block>
  <block id="55b465f402399f67db969037e61025c8" category="paragraph">规划存储扩展的第一步是，检查 ILM 策略中用于创建纠删编码对象的规则。由于 StorageGRID 会为每个纠删编码对象创建 _k+m_fragments ，并将每个片段存储在不同的存储节点上，因此您必须确保在扩展后至少 _k+m_ 存储节点具有用于存储新纠删编码数据的空间。如果纠删编码配置文件提供站点丢失保护，则必须向每个站点添加存储。请参见 <block ref="5143f9b7656d191fdc2d9db2e1591b49" category="inline-xref-macro-rx"></block>。</block>
  <block id="c0eefa8c2343ab515aad863d1060f954" category="paragraph">您需要添加的节点数还取决于执行扩展时现有节点的容量。</block>
  <block id="a395090e6b3ec8129c952499f06ae479" category="section-title">有关为经过纠删编码的对象添加存储容量的一般建议</block>
  <block id="1887414918fdc6f9f97dabde750e5973" category="paragraph">如果要避免详细计算，可以在现有存储节点容量达到 70% 时为每个站点添加两个存储节点。</block>
  <block id="bc9c838c697b5f530d60b89d50e997e2" category="paragraph">对于单站点网格和纠删编码可提供站点丢失保护的网格，此一般建议可在多种纠删编码方案中提供合理的结果。</block>
  <block id="d4983005306c7ec99733b153083a1d81" category="paragraph">要更好地了解导致此建议的因素或为您的站点制定更精确的计划，请查看下一节。有关针对您的情况优化的自定义建议，请联系您的 NetApp 客户代表。</block>
  <block id="c1d2388c2d78b1bd6462ffa729966896" category="section-title">计算要为擦除编码对象添加的扩展存储节点数</block>
  <block id="73e4dbba3fd2694ef1330475c053907d" category="paragraph">要优化存储纠删编码对象的部署扩展方式，您必须考虑许多因素：</block>
  <block id="ebb08d867a35e23000ce9f4246835f74" category="list-text">正在使用纠删编码方案</block>
  <block id="b9e3b91f5f739c9c9b4c7b48ea1acb09" category="list-text">用于纠删编码的存储池的特征，包括每个站点上的节点数和每个节点上的可用空间量</block>
  <block id="478bcd76d999d5770ae679940b463a45" category="list-text">网格之前是否已扩展（因为每个存储节点上的可用空间量可能并非所有节点上的大致相同）</block>
  <block id="c91b84028fd5594aaa8b866477e12694" category="list-text">ILM 策略的确切性质，例如 ILM 规则是否同时创建复制的对象和经过纠删编码的对象</block>
  <block id="b3367eb3c1cc5223826c4072e4f4365b" category="paragraph">以下示例可帮助您了解纠删编码方案的影响，存储池中的节点数以及每个节点上的可用空间量。</block>
  <block id="f6295dddfc7e187bc52618d043f95a5d" category="paragraph">类似的注意事项会影响存储复制数据和纠删编码数据的 ILM 策略的计算以及先前扩展的网格的计算。</block>
  <block id="84937182b41664790a3d510e3937a6aa" category="inline-xref-macro">重新平衡经过纠删编码的数据</block>
  <block id="0a3bfa2854b63fe654e97bf4b90bf4b0" category="admonition">本节中的示例介绍了向 StorageGRID 系统添加存储容量的最佳实践。如果无法添加建议的节点数，则可能需要运行 EC 重新平衡操作步骤 ，以便存储其他经过纠删编码的对象。请参见 <block ref="6bb699ca334008c50ea0108ea7e30d9d" category="inline-xref-macro-rx"></block>。</block>
  <block id="7b4248a59bc5b7e443f7e34f2fb11a79" category="section-title">示例 1 ：扩展使用 2+1 纠删编码的单站点网格</block>
  <block id="88af22de16b1a60e7af9fa2c6d8d1c8a" category="paragraph">此示例显示了如何扩展仅包含三个存储节点的简单网格。</block>
  <block id="32a7d867a1bf7233c0d963dcbcd75cf0" category="admonition">为了简单起见，此示例仅使用三个存储节点。但是，不建议仅使用三个存储节点：实际生产网格应至少使用 _k+m_ + 1 个存储节点来实现冗余，此值等于本示例中的四个存储节点（ 2+1+1 ）。</block>
  <block id="ec074b24ab440b846ca7b9fc866ba189" category="paragraph">假设满足以下条件：</block>
  <block id="3b52c83e5bd1631d4117f979028f60b9" category="list-text">所有数据均使用 2+1 纠删编码方案进行存储。使用 2+1 纠删编码方案时，每个对象都存储为三个片段，每个片段保存在不同的存储节点上。</block>
  <block id="9ac68460911aac2cdd71d299e3bcd551" category="list-text">您有一个站点包含三个存储节点。每个存储节点的总容量为 100 TB 。</block>
  <block id="a00568d9d05b9365a69660ed598a5d79" category="list-text">要通过添加新的 100 TB 存储节点进行扩展。</block>
  <block id="102e17ce68b3c999ab10fc255aa27edc" category="list-text">您希望最终在新旧节点之间平衡经过纠删编码的数据。</block>
  <block id="ac47df1e7e14c3621028cb4a734b8c6a" category="paragraph">根据执行扩展时存储节点的容量，您可以选择多种方法。</block>
  <block id="78624caf0937d19ab480bc7bd78d0108" category="list-text">* 如果现有节点已满，请添加三个 100 TB 存储节点 *</block>
  <block id="778c18e338adc97e12f1a2e7f81aa24c" category="paragraph">在此示例中，现有节点已满 100% 。由于没有可用容量，您必须立即添加三个节点以继续 2+1 纠删编码。</block>
  <block id="fa352d75122afd7169036b9c8fc18b62" category="paragraph">扩展完成后，对对象进行纠删编码后，所有片段都将放置在新节点上。</block>
  <block id="e6cf792cd926a36f433693fe6bca56e4" category="image-alt">3 节点扩展后的已用空间</block>
  <block id="55fee189a5d5cfe5f35b36b6afb77675" category="admonition">此扩展可添加 _k+m_nodes 。为实现冗余，建议添加四个节点。如果在现有节点已满 100% 时仅添加 _k+m_expansion Storage Node ，则所有新对象都会存储在扩展节点上。如果任何新节点变得不可用，即使是暂时不可用， StorageGRID 也无法满足 ILM 要求。</block>
  <block id="ef1001bc6df09432c6ea29b518985646" category="list-text">* 如果现有存储节点已满 67% ，请添加两个 100 TB 存储节点 *</block>
  <block id="ee6e4dc9a592e50ababfc7b1ae83f623" category="paragraph">在此示例中，现有节点已满 67% 。由于现有节点上有 100 TB 的可用容量（每个节点 33 TB ），因此，如果您现在执行扩展，则只需添加两个节点。</block>
  <block id="b4048df077e599ba35a1e34d8c3b1bdc" category="paragraph">添加 200 TB 的额外容量后，您可以继续 2+1 纠删编码，并最终在所有节点之间平衡经过纠删编码的数据。</block>
  <block id="fb13ca0db7bb8534b46df33863554326" category="image-alt">节点扩展示例 1 67%</block>
  <block id="592908bf2fe5d3b95b2126fb604d0955" category="list-text">* 如果现有存储节点已满 33% ，请添加一个 100 TB 存储节点 *</block>
  <block id="a741e55b6346350822e3c8247291ed51" category="paragraph">在此示例中，现有节点已满 33% 。由于现有节点上有 200 TB 的可用容量（每个节点 67 TB ），因此，如果您现在执行扩展，则只需要添加一个节点。</block>
  <block id="6552bbb83e6fa612e41d3cd9ccd43234" category="paragraph">添加 100 TB 的额外容量后，您可以继续 2+1 纠删编码，并最终在所有节点之间平衡经过纠删编码的数据。</block>
  <block id="173718221fd5852e1ac1e9e5b916d88e" category="image-alt">节点扩展示例 1 33%</block>
  <block id="bb98bf6b1e5437ad07c12f353ca97611" category="section-title">示例 2 ：扩展使用 6+3 纠删编码的三站点网格</block>
  <block id="073a8dcde821375d5f09c309e0f5cb61" category="paragraph">此示例显示了如何为多站点网格制定扩展计划，该网格采用的纠删编码方案包含更多片段。尽管这些示例之间存在差异，但建议的扩展计划非常相似。</block>
  <block id="c524f2666045f5ba592fcc4e4ec818a8" category="list-text">所有数据均使用 6+3 纠删编码方案进行存储。使用 6+3 纠删编码方案时，每个对象将存储为 9 个片段，每个片段将保存到不同的存储节点。</block>
  <block id="c73ff4de821acf54cdf72cee8b719220" category="list-text">您有三个站点，每个站点有四个存储节点（共 12 个节点）。每个节点的总容量为 100 TB 。</block>
  <block id="b251490286ca616dc477ad4ffede6307" category="list-text">* 如果现有节点已满，请添加九个 100 TB 存储节点（每个站点三个） *</block>
  <block id="c6799a80514fba099ae39d4061fbfcfb" category="paragraph">在此示例中， 12 个现有节点已满。由于没有可用容量，您必须立即添加九个节点（ 900 TB 的额外容量），才能继续 6+3 纠删编码。</block>
  <block id="3dececf463fc3b912932cbc963d3dfd8" category="admonition">此扩展可添加 _k+m_nodes 。为了实现冗余，建议添加 12 个节点（每个站点四个）。如果在现有节点已满 100% 时仅添加 _k+m_expansion Storage Node ，则所有新对象都会存储在扩展节点上。如果任何新节点变得不可用，即使是暂时不可用， StorageGRID 也无法满足 ILM 要求。</block>
  <block id="14a65032722b764fc36dc63995a60e67" category="list-text">* 如果现有节点已满 75% ，请添加六个 100 TB 存储节点（每个站点两个） *</block>
  <block id="80ba6718729a1b52e4ec941afb5ee417" category="paragraph">在此示例中， 12 个现有节点已满 75% 。由于可用容量为 300 TB （每个节点 25 TB ），因此，如果您现在执行扩展，则只需添加六个节点。您应向这三个站点中的每个站点添加两个节点。</block>
  <block id="c4491a75b0326ea7cbd372bbb1c8cb8c" category="paragraph">添加 600 TB 的存储容量后，您可以继续 6+3 纠删编码，并最终在所有节点之间平衡经过纠删编码的数据。</block>
  <block id="88cba9c1cd4046e8256417bcdd81fd3d" category="list-text">* 如果现有节点已满 50% ，请添加三个 100 TB 存储节点（每个站点一个） *</block>
  <block id="0971f6da4952ec9c06cc0abc8027b383" category="paragraph">在此示例中， 12 个现有节点已满 50% 。由于可用容量为 600 TB （每个节点 50 TB ），因此，如果您现在执行扩展，则只需添加三个节点。您应向这三个站点中的每个站点添加一个节点。</block>
  <block id="a654a4604327cb65c37197c3c97f4cf9" category="paragraph">添加 300 TB 的存储容量后，您可以继续 6+3 纠删编码，并最终在所有节点之间平衡经过纠删编码的数据。</block>
  <block id="6798bb838ffb0ade9cf73e433faeec42" category="summary">您可以通过向现有存储节点添加存储卷或向现有站点添加新存储节点来扩展 StorageGRID 系统的对象存储容量。您必须以符合信息生命周期管理 \ （ ILM ）策略要求的方式添加存储容量。</block>
  <block id="fee85f6532071490787cdf8c4673baae" category="paragraph">您可以通过向现有存储节点添加存储卷或向现有站点添加新存储节点来扩展 StorageGRID 系统的对象存储容量。添加存储容量时，必须满足信息生命周期管理（ ILM ）策略的要求。</block>
  <block id="b62c4ad2f840caefd72fd3a9f2e73c72" category="section-title">添加存储卷的准则</block>
  <block id="182afeb31ff237b5fae525bfc71db84b" category="paragraph">在将存储卷添加到现有存储节点之前，请查看以下准则和限制：</block>
  <block id="eeb32c097b0064ed7aab1896e2bbcf34" category="list-text">您必须检查当前的 ILM 规则，以确定在何处以及何时添加存储卷以增加可用于复制或擦除编码对象的存储。请参见的说明 <block ref="31630c9fbc2e405319a335abafc12b71" category="inline-xref-macro-rx"></block>。</block>
  <block id="b002cd1e05aeecbf2bfbc23ca48fe0d5" category="list-text">您不能通过添加存储卷来增加系统的元数据容量，因为对象元数据仅存储在卷 0 上。</block>
  <block id="2c6290648dce2c705d937655137229d6" category="list-text">每个基于软件的存储节点最多可支持 16 个存储卷。如果您需要添加的容量超出此范围，则必须添加新的存储节点。</block>
  <block id="2f06840ff142d0bafc26d86604af5659" category="list-text">您可以向每个 SG6060 设备添加一个或两个扩展架。每个扩展架可添加 16 个存储卷。在安装了两个扩展架的情况下， SG6060 总共可支持 48 个存储卷。</block>
  <block id="e413f6ac9bbc53b3d24b488c93a33165" category="list-text">您不能将存储卷添加到任何其他存储设备。</block>
  <block id="48f0e0ac086c3ebcdac2c26f677ffb45" category="list-text">您不能增加现有存储卷的大小。</block>
  <block id="7bf59ccb9814e6a2eefcf5dd5ed8464b" category="list-text">您不能在执行系统升级，恢复操作或其他扩展的同时向存储节点添加存储卷。</block>
  <block id="f65635786910a65d4f3bd7093d08c045" category="paragraph">在决定添加存储卷并确定必须扩展哪些存储节点以满足 ILM 策略后，请按照适用于您的存储节点类型的说明进行操作：</block>
  <block id="80c41098192177786ef3a9e33a7ee233" category="inline-xref-macro">将扩展架添加到已部署的 SG6060</block>
  <block id="3066f66e3e49d464d0db6e40c2a87f23" category="list-text">要向 SG6060 存储设备添加一个或两个扩展架，请转至 <block ref="eea91cac238dbc6e478e018061b9c473" category="inline-xref-macro-rx"></block>。</block>
  <block id="b65fc1bdfdebfd70028637594bea7883" category="inline-xref-macro">将存储卷添加到存储节点</block>
  <block id="7b91637e9b6d0da1f126c1b05da34140" category="list-text">对于基于软件的节点，请按照的说明进行操作<block ref="0c44dccf3f4d80321db98d3d61773ea7" category="inline-xref-macro-rx"></block>。</block>
  <block id="a3292748ebca56e0393f4cdec6d22a9d" category="section-title">添加存储节点的准则</block>
  <block id="79a10da5c461e043f5902108fa56eadf" category="paragraph">在将存储节点添加到现有站点之前，请查看以下准则和限制：</block>
  <block id="20c0b9ccaaa03b1008ba4875eab4bba6" category="list-text">您必须检查当前的 ILM 规则，以确定在何处以及何时添加存储节点以增加可用于复制或擦除编码对象的存储。请参见的说明 <block ref="31630c9fbc2e405319a335abafc12b71" category="inline-xref-macro-rx"></block>。</block>
  <block id="37c0cc3017c7c7c51f65f9ea01b9c57f" category="list-text">在一个扩展操作步骤 中添加的存储节点不应超过 10 个。</block>
  <block id="1a8700842d9683b2a4fa3d9b3b0a973a" category="list-text">您可以在一个扩展操作步骤 中将存储节点添加到多个站点。</block>
  <block id="0eda2548d7d618c0102b9128543d70ea" category="list-text">您可以在一个扩展操作步骤 中添加存储节点和其他类型的节点。</block>
  <block id="f03d81069cecb20b1dd20fe103c44aff" category="list-text">在启动扩展操作步骤 之前，您必须确认在恢复过程中执行的所有数据修复操作均已完成。请参见 <block ref="9006503924fd2ab3591a8c0e2c65b2fd" category="inline-xref-macro-rx"></block>。</block>
  <block id="a990aa842755c28669dd834bdda9701f" category="list-text">如果在执行扩展之前或之后需要删除存储节点，则在一个 " 停用节点 " 操作步骤 中停用的存储节点不应超过 10 个。</block>
  <block id="ee6a93cf6e15f0b6d740e216da673b4f" category="section-title">存储节点上的模块转换服务准则</block>
  <block id="7348c6b99b3fbcdd43c74cbbee021fe8" category="paragraph">配置扩展时，必须选择是否在每个新存储节点上包含管理域控制器（ ADA ）服务。此 ADA 服务可跟踪网格服务的位置和可用性。</block>
  <block id="b4d485e5be3ed919eaa72b0ded96ab44" category="inline-xref-macro">ADC 服务的仲裁</block>
  <block id="c949172cc00be80032ab4fe41b4b2b29" category="list-text">StorageGRID 系统需要 <block ref="b78379a68b05ade2eb586dd590ce78d1" category="inline-xref-macro-rx"></block> 可在每个站点和任何时间使用。</block>
  <block id="939c5704598c3619dea3b05d03fdc26d" category="list-text">每个站点至少有三个存储节点必须包含此 ADC-Service 。</block>
  <block id="a6bbbe261adc8a896973255fca26359d" category="list-text">不建议将此 ADA 服务添加到每个存储节点。包含过多的 ADC 服务可能会因节点间通信量增加而导致发生原因 速度变慢。</block>
  <block id="c554a652c9a8e8528c8d6e868b3eb613" category="list-text">一个网格中包含的存储节点不应超过 48 个，而是使用了此 ADA 服务。这相当于 16 个站点，每个站点有三个模块转换服务。</block>
  <block id="987c1f25cbaf0eb072ce9e11f6c828a8" category="list-text">通常，在为新节点选择 * 数字转换服务 * 设置时，应选择 * 自动 * 。仅当新节点将替换包含此 ADC-Service 的另一个存储节点时，才选择 * 是 * 。由于如果仍会保留的 ADD 服务太少，则无法停用存储节点，因此，这样可以确保在删除旧服务之前新的 ADD 服务可用。</block>
  <block id="15f49a8766b3b8f3d87eadb60623b28d" category="list-text">在部署此节点后，您不能将此 ADC 服务添加到该节点中。</block>
  <block id="ea37d6dcd6d17640880ceb185e8b08d5" category="summary">在扩展中部署新网格节点的步骤与首次安装网格时使用的步骤相同。您必须先部署所有新的网格节点，然后才能执行扩展。</block>
  <block id="846d54a2e1e0829ec14fb4924608eb7a" category="paragraph">扩展网格时，您添加的节点不必与现有节点类型匹配。您可以添加 VMware 节点，基于 Linux 容器的节点或设备节点。</block>
  <block id="9a951d16b0e6d7bdc054aaebae257fc8" category="section-title">VMware ：部署网格节点</block>
  <block id="a9547f2b39d58ea69ce478f27b7edfc2" category="paragraph">您必须在 VMware vSphere 中为要添加到扩展中的每个 VMware 节点部署一个虚拟机。</block>
  <block id="c88531aac9871aab55fa0b38be8c8931" category="inline-xref-macro">将新节点部署为虚拟机</block>
  <block id="e0a6e6645050a2142e2ebe58efbf8808" category="list-text"><block ref="4519cd1def02595046eaad427f30b1bc" category="inline-xref-macro-rx"></block> 并将其连接到一个或多个 StorageGRID 网络。</block>
  <block id="57478649305e28b3442b421326275def" category="paragraph">部署节点时，您可以选择重新映射节点端口或增加 CPU 或内存设置。</block>
  <block id="28e6c3ca32aafa7169397149844850b4" category="inline-xref-macro">执行扩展操作步骤</block>
  <block id="e91df0adfdf1745f98a6cf4b4391e74a" category="list-text">部署所有新的 VMware 节点后， <block ref="40cc62f5526dfb3fc89021510eb06714" category="inline-xref-macro-rx"></block>。</block>
  <block id="94160f08c8c39cb71c9240bc61f166b8" category="section-title">Linux ：部署网格节点</block>
  <block id="0d3ec357ac0f061ced1a5b1829fea57c" category="paragraph">您可以在新的 Linux 主机或现有的 Linux 主机上部署网格节点。如果您需要更多的 Linux 主机来满足要添加到网格中的 StorageGRID 节点的 CPU ， RAM 和存储要求，请按照首次安装主机时准备主机的方式对其进行准备。然后，按照安装期间部署网格节点的方式部署扩展节点。</block>
  <block id="3ee40b529071fa3d79841aa1488fac52" category="list-text">您已获得有关为您的 Linux 版本安装 StorageGRID 的说明，并已查看硬件和存储要求。</block>
  <block id="1e24c4f2f5b330ff684e239a6f94d283" category="list-text">如果您计划在现有主机上部署新的网格节点，则已确认现有主机具有足够的 CPU ， RAM 和存储容量来容纳其他节点。</block>
  <block id="443ab33af209438066a30b81b2869fdc" category="list-text">您计划最大限度地减少故障域。例如，不应将所有网关节点部署在一个物理主机上。</block>
  <block id="f31040639bf854a38848d2a99be03293" category="admonition">在生产部署中，请勿在一个物理或虚拟主机上运行多个存储节点。为每个存储节点使用专用主机可提供一个隔离的故障域。</block>
  <block id="79c34cb80e945d5fe09aaa849ee577e7" category="list-text">如果 StorageGRID 节点使用从 NetApp AFF 系统分配的存储，请确认此卷未启用 FabricPool 分层策略。对 StorageGRID 节点使用的卷禁用 FabricPool 分层可简化故障排除和存储操作。</block>
  <block id="dfc4c6e044657ca92e9fabd3753806ef" category="list-text">如果要添加新主机，请访问有关部署 StorageGRID 节点的安装说明。</block>
  <block id="c57307a4507590bbc17e3f567606da44" category="list-text">要部署新主机，请按照说明准备主机。</block>
  <block id="27aba2ca5f708c08e34055af7cf14c7a" category="list-text">要创建节点配置文件并验证 StorageGRID 配置，请按照有关部署网格节点的说明进行操作。</block>
  <block id="88643adc1e82f92f56911064b0452dd7" category="list-text">如果要向新的 Linux 主机添加节点，请启动 StorageGRID 主机服务。</block>
  <block id="905236177ff49ec6f2796c134bdba097" category="list-text">如果要向现有 Linux 主机添加节点，请使用 StorageGRID 主机服务命令行界面启动新节点：``sUdo StorageGRID node start &lt;&lt; 节点名称 \&gt;&gt;``</block>
  <block id="e0c149e785c9b28b8762cd1a3f5f2967" category="inline-xref-macro">执行扩展</block>
  <block id="9a836170bff615eb18e72b3ae82aab50" category="paragraph">部署所有新网格节点后，您可以 <block ref="ff0eade9c9bd1973a1d69cc310a3b6c7" category="inline-xref-macro-rx"></block>。</block>
  <block id="3f62c42b979122d5d4329a881fa62bd6" category="section-title">设备：部署存储，网关或非主管理节点</block>
  <block id="86216152d7dc1d8af76ca56b7c95fadf" category="paragraph">要在设备节点上安装 StorageGRID 软件，请使用设备中提供的 StorageGRID 设备安装程序。在扩展中，每个存储设备都充当一个存储节点，而每个服务设备则充当一个网关节点或非主管理节点。任何设备都可以连接到网格网络，管理网络和客户端网络。</block>
  <block id="2cb92e6c37af68b8dc46d68d9dfb0554" category="list-text">您已使用 StorageGRID 设备安装程序完成设备安装和维护说明中的所有 "`configure hardware` " 步骤。</block>
  <block id="64e02f21cb2b8276a0320432d748fe41" category="inline-xref-macro">配置硬件（ SG5600 ）</block>
  <block id="2c48b97c1ac5906ba1ce0abfa519e1f4" category="list-text"><block ref="2c48b97c1ac5906ba1ce0abfa519e1f4" category="inline-xref-macro-rx"></block></block>
  <block id="78280b13a74ea334e8a6dceaa2166d17" category="list-text"><block ref="78280b13a74ea334e8a6dceaa2166d17" category="inline-xref-macro-rx"></block></block>
  <block id="752499d097b53b540444812d4f37e172" category="inline-xref-macro">配置硬件（ SG6000 ）</block>
  <block id="2f72610032a84d41163d508ea5cd61ff" category="list-text"><block ref="2f72610032a84d41163d508ea5cd61ff" category="inline-xref-macro-rx"></block></block>
  <block id="dfa4f8db19ae2d6eb118c0110082d213" category="paragraph">配置设备硬件包括配置 StorageGRID 连接（网络链路和 IP 地址）所需的步骤，以及启用节点加密，更改 RAID 模式和重新映射网络端口的可选步骤。</block>
  <block id="8d9b9f6a060440d26ba2eee14b257557" category="list-text">替代设备上的 StorageGRID 设备安装程序固件与网格上当前运行的 StorageGRID 软件版本兼容。例如， StorageGRID 设备安装程序 3.6 版与 StorageGRID 11.6 版兼容。（如果版本不兼容，则必须升级 StorageGRID 设备安装程序固件。）</block>
  <block id="cce41bbb500596c12e5919089ed44d8b" category="list-text">您的服务笔记本电脑具有 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="a58529b3c82e7634addbdf1c82bae45b" category="paragraph">在设备节点上安装 StorageGRID 的过程分为以下阶段：</block>
  <block id="81a6c5934583a0f8023199782ebc17af" category="list-text">您可以指定或确认主管理节点的 IP 地址以及设备节点的名称。</block>
  <block id="fe2b1f542f6478cbe6778ef8960473b6" category="list-text">您开始安装，并等待卷配置完毕并安装软件。</block>
  <block id="b91972013ef9385d3b336deb6bd55ca1" category="paragraph">在执行设备安装任务时，安装将暂停。要恢复安装，请登录到网格管理器，批准所有网格节点并完成 StorageGRID 安装过程。</block>
  <block id="74d7e5f3c1d5ef653bd794e9639d8a42" category="admonition">如果您需要一次部署多个设备节点，则可以使用 `configure-sGa.py` 设备安装脚本自动执行安装过程。</block>
  <block id="bf1e3f625a7e8b038f170de3cb7d3145" category="list-text">打开浏览器，然后输入设备计算控制器的 IP 地址之一。</block>
  <block id="82079c811cb09ee51e49c99a1f5d5860" category="paragraph">`https://_Controller_IP_:8443`</block>
  <block id="8796042a8b16d9cd020aff439d6a9a23" category="list-text">在 * 主管理节点 * 连接部分中，确定是否需要指定主管理节点的 IP 地址。</block>
  <block id="3f57b7f78bbb64f765efa29df4b26f78" category="list-text">在 * 节点名称 * 字段中，输入要用于此设备节点的名称，然后选择 * 保存 * 。</block>
  <block id="99583276e88102c685699677e367ce60" category="list-text">在 * 安装 * 部分中，确认当前状态为 "`Ready to start installation of _node name_ into grid with primary Admin Node _admin_ip_` " ，并且 * 开始安装 * 按钮已启用。</block>
  <block id="b6b93fa0df07f04c16c4bb2f8c11143d" category="list-text">从 StorageGRID 设备安装程序主页中，选择 * 开始安装 * 。</block>
  <block id="c73887bc90d59bab58af124b63d2505e" category="image-alt">此图通过周围的文本进行了说明。</block>
  <block id="5c845d33ed0b55a1add52b6791f0c9b5" category="list-text">如果扩展包含多个设备节点，请对每个设备重复上述步骤。</block>
  <block id="bb458313fc2ae1a5f750bfb5b76d2fc1" category="admonition">如果您需要一次部署多个设备存储节点，则可以使用 configure-sga.py 设备安装脚本自动执行安装过程。</block>
  <block id="d95f0ff8f8f68ad37553e6b675e66440" category="list-text">如果需要手动访问监控器安装页面，请从菜单栏中选择 * 监控器安装 * 。</block>
  <block id="c9336d7080bc57d338b2bad2efe38313" category="list-text">查看前两个安装阶段的进度。</block>
  <block id="4b6ee0f54459201947eee8181f31f577" category="paragraph">* 。配置设备 *</block>
  <block id="90cd57a4f1c9b327a252dc22a4caa137" category="paragraph">在此阶段，将执行以下过程之一：</block>
  <block id="a6dee43f205b23de4bcd8836bcddfc08" category="list-text">对于存储设备，安装程序将连接到存储控制器，清除任何现有配置，与 SANtricity 软件通信以配置卷以及配置主机设置。</block>
  <block id="a2175abc72d3d5da5ebb7318cd120d84" category="list-text">对于服务设备，安装程序将从计算控制器中的驱动器中清除任何现有配置，并配置主机设置。</block>
  <block id="e379fef95a05f1d9816b464691bfe3bc" category="list-text">继续监控安装进度，直到控制台窗口显示一条消息，提示您使用网格管理器批准节点。</block>
  <block id="26922d8459464c37aa31ad8da617ac4c" category="admonition">等待您在此扩展中添加的所有节点都准备好进行批准，然后再转到网格管理器来批准这些节点。</block>
  <block id="e92c5373eb703a3ef302c2133943f358" category="summary">如果某个存储节点包含的存储卷少于 16 个，则可以使用 VMware vSphere 添加卷来增加其容量。</block>
  <block id="d4e3bbf198c8dfe11ea10ece8245f525" category="doc">VMware ：将存储卷添加到存储节点</block>
  <block id="3897360f54ba898d463f8ce18c60b35d" category="list-text">您可以访问有关安装适用于 VMware 的 StorageGRID 部署的说明。</block>
  <block id="ac5c16083a8dc88224205d44e5ffe700" category="list-text">您具有特定的访问权限。</block>
  <block id="1fa82434670ab3bc3c1a2208616b7cc1" category="admonition">在软件升级，恢复操作步骤 或其他扩展操作步骤 处于活动状态时，请勿尝试向存储节点添加存储卷。</block>
  <block id="85fc2381be7174b5fcf6a658841aad37" category="paragraph">添加存储卷时，此存储节点将暂时不可用。您应一次在一个存储节点上执行此操作步骤 ，以避免影响面向客户端的网格服务。</block>
  <block id="e6050c9475e86115a8d66d604cc71dce" category="list-text">如有必要，请安装新的存储硬件并创建新的 VMware 数据存储库。</block>
  <block id="6bb1adcd234c86fe49b5934d4025481d" category="list-text">向虚拟机添加一个或多个硬盘以用作存储（对象存储）。</block>
  <block id="f9dca46b2e2e6c48357335597b0143df" category="list-text">打开 VMware vSphere Client 。</block>
  <block id="2ce475c2aa4c02b4273ab6d80502e38a" category="list-text">编辑虚拟机设置以添加一个或多个附加硬盘。</block>
  <block id="920199d6277410db54ea953aed3d7f19" category="paragraph">硬盘通常配置为虚拟机磁盘（ Virtual Machine Disk ， VMDK ）。VMDK 的使用更广泛，管理更方便，而 RDM 则可以为使用较大对象大小（例如大于 100 MB ）的工作负载提供更好的性能。有关向虚拟机添加硬盘的详细信息，请参见 VMware vSphere 文档。</block>
  <block id="f283a6b9ac4e9f311094aff1c112aa6a" category="list-text">使用 VMware vSphere Client 中的 * 重新启动子操作系统 * 选项或在与虚拟机的 ssh 会话中输入以下命令来重新启动虚拟机：``sudo reboot``</block>
  <block id="70b214614634ba112e637f2e43e31498" category="admonition">请勿使用 * 关闭电源 * 或 * 重置 * 重新启动虚拟机。</block>
  <block id="8e53db1ecb04143c4a8f7dbd8253bdab" category="list-text">配置新存储以供存储节点使用：</block>
  <block id="7cc28340acdd775c05e6ecc2a704b5c0" category="list-text">输入 `passwords.txt` 文件中列出的密码。以 root 用户身份登录时，提示符将从 ` $` 更改为 ` #` 。</block>
  <block id="6faa60dadcbf9affdbb93c838da78a4e" category="list-text">配置新存储卷：</block>
  <block id="f1780409ab190a781eea669429d8e4cd" category="paragraph">`sudo add_rangedbs.rb`</block>
  <block id="1e35d781efb23d522fe72405220c86ad" category="paragraph">此脚本将查找任何新存储卷并提示您对其进行格式化。</block>
  <block id="4eb1e470f139c88a32432ff73da515d0" category="list-text">输入 * 。 * 接受格式化。</block>
  <block id="3010d4eb63108a718ff616ad777e4fb3" category="list-text">如果先前已对任何卷进行格式化，请确定是否要重新格式化这些卷。</block>
  <block id="da46d718932bfdbb04483d7beb5d2789" category="list-text">输入 * y * 重新格式化。</block>
  <block id="bf769fe10026443acd84a869a6727ce1" category="list-text">输入 * 。 n* 可跳过重新格式化。</block>
  <block id="bb25dfe5ab4e3439b20be463fdc868f5" category="list-text">当系统询问时，输入 * 。 * 以停止存储服务。</block>
  <block id="9661b46553b3c6f0c8f6fb20fb14c30d" category="paragraph">存储服务将停止， `setup_rangedbs.sh` 脚本将自动运行。在卷准备好用作卷集之后，服务将重新启动。</block>
  <block id="1f208b57439ed4993d771fe91709d7f3" category="list-text">检查服务是否正确启动：</block>
  <block id="b5efdb5a76d5b38de7816ed90f11f549" category="list-text">查看服务器上所有服务的状态列表：</block>
  <block id="c238fa13fd7661c415f0bdfef7330a84" category="paragraph">`sUdo storagegRid-status`</block>
  <block id="81c7eb7d27eb9e711a97662969cdefa9" category="paragraph">状态将自动更新。</block>
  <block id="53ec37a5e68daadc768389016b1f5f4a" category="list-text">请等待所有服务均已运行或已验证。</block>
  <block id="2f0d4acc699f6c263687dead59511a86" category="list-text">退出状态屏幕：</block>
  <block id="8c98150a53e0bb5a685380a99037a723" category="paragraph">`Ctrl+C`</block>
  <block id="6aa819b80bd53d0ad5bbd307ef081572" category="list-text">验证存储节点是否联机：</block>
  <block id="8319e20d3f5b34fca26f3c0d0dd4a3e3" category="list-text">选择 * 站点 _* &gt; * 存储节点 _* &gt; * LDR* &gt; * 存储 * 。</block>
  <block id="64d2dc1c882fd50076a05b980aa6e611" category="list-text">选择 * 配置 * 选项卡，然后选择 * 主 * 选项卡。</block>
  <block id="9b718ac65bd7f6402b0f800a479ab3b0" category="list-text">如果 * 存储状态 - 所需 * 下拉列表设置为只读或脱机，请选择 * 联机 * 。</block>
  <block id="550479b67ca3f37c8d90ca9afce5d8bb" category="list-text">要查看新对象存储，请执行以下操作：</block>
  <block id="7764a2b546ef91f9d4f9a3f7b47b2ea6" category="list-text">选择 * 节点 * &gt; * 站点 _* &gt; * 存储节点 _* &gt; * 存储 * 。</block>
  <block id="9a8870407b13fde2a1ba1eb5aa5fddc1" category="list-text">在 * 对象存储 * 表中查看详细信息。</block>
  <block id="3a2b093f9b2712b031186c4d4ec4cd0a" category="paragraph">您可以使用存储节点的扩展容量来保存对象数据。</block>
  <block id="dd2a065fb261e525830f85844976e790" category="summary">如果某个存储节点包含的存储卷少于 16 个，则可以通过添加新的块存储设备，使其对 Linux 主机可见，并将新的块设备映射添加到用于该存储节点的 StorageGRID 配置文件来增加其容量。</block>
  <block id="fae76026590183f7532997c424b6b839" category="doc">Linux ：将直连卷或 SAN 卷添加到存储节点</block>
  <block id="1f607e36bfae0ed8067e84e06ffaf6bc" category="list-text">您可以访问有关为 Linux 平台安装 StorageGRID 的说明。</block>
  <block id="719c911927685129224e09fe9fd03507" category="list-text">安装新的存储硬件。</block>
  <block id="88a4b68ea442430af0d3fc45d5d16be2" category="paragraph">有关详细信息，请参见硬件供应商提供的文档。</block>
  <block id="8e42645eebda49321055bb91aec1eb81" category="list-text">创建所需大小的新块存储卷。</block>
  <block id="5cd6e7c18076ec4c30e08d24d42ddb47" category="list-text">连接新磁盘驱动器并根据需要更新 RAID 控制器配置，或者在共享存储阵列上分配新的 SAN LUN 并允许 Linux 主机访问这些 LUN 。</block>
  <block id="26035fb00732c56abad0b1c2a594a566" category="list-text">请使用与现有存储节点上的存储卷相同的永久性命名方案。</block>
  <block id="7f2b513256b32750e9824195aead0903" category="list-text">如果使用 StorageGRID 节点迁移功能，请使作为此存储节点迁移目标的其他 Linux 主机可以看到新卷。有关详细信息，请参见有关为 Linux 平台安装 StorageGRID 的说明。</block>
  <block id="cfe1e19ea6a7ee88640bd80e2f790635" category="list-text">以 root 身份或使用具有 sudo 权限的帐户登录到支持存储节点的 Linux 主机。</block>
  <block id="9c5fb7be300822ea52b7785b133b1693" category="list-text">确认新存储卷在 Linux 主机上可见。</block>
  <block id="63fca8ec46a25ab47b52159b5451bb68" category="paragraph">您可能需要重新扫描设备。</block>
  <block id="81120a503111347f72a86badaa8b3ec0" category="list-text">运行以下命令以临时禁用存储节点：</block>
  <block id="ced9f70be56bfe615cf6e5a7d002a158" category="paragraph">`sUdo StorageGRID node stop &lt;node-name&gt;`</block>
  <block id="09e1d6e35b0ce92f54bff8c9c0c187c5" category="list-text">使用 vim 或 pico 等文本编辑器编辑存储节点的节点配置文件，该文件位于 ` /etc/storaggrid/nodes/&lt;node-name&gt;.conf` 中。</block>
  <block id="b8138a58bae3b38b71983d23181e2a09" category="list-text">找到节点配置文件中包含现有对象存储块设备映射的部分。</block>
  <block id="13fd9a1bf474a90e733a584e3acc1095" category="paragraph">在此示例中， `block_device_RANGEDB_00` 到 `block_device_RANGEDB_03` 是现有的对象存储块设备映射。</block>
  <block id="ef26b3dce4a5906d272efb62db22141c" category="list-text">添加与为此存储节点添加的块存储卷对应的新对象存储块设备映射。</block>
  <block id="9550f32fd48c55133591956856a26cd3" category="paragraph">请务必从下一个 `block_device_RANGEDB_nn` 开始。请勿留下空隙。</block>
  <block id="d6015b508aeaa030017bbd14ec32a0ea" category="list-text">基于以上示例，从 `block_device_RANGEDB_04` 开始。</block>
  <block id="78c9d6670cedb72629c94b521d3f5af5" category="list-text">在以下示例中，向节点添加了四个新的块存储卷： `block_device_RANGEDB_04` to `block_device_RANGEDB_07` 。</block>
  <block id="a5d8aff1da8296690c5a0ad73714cd47" category="list-text">运行以下命令以验证对存储节点的节点配置文件所做的更改：</block>
  <block id="dd0da5077953e45da6abdff95ffc115d" category="paragraph">`sUdo StorageGRID node validate &lt;node-name&gt;`</block>
  <block id="38c1df403c514aefa63511fb87b7b197" category="paragraph">解决所有错误或警告，然后再继续下一步。</block>
  <block id="17a90cde5f2f7a33f2f260720109a087" category="paragraph">如果您发现类似以下内容的错误，则表示节点配置文件正在尝试将 ` &lt;node-name&gt;` for ` &lt;utility&gt;` 使用的块设备映射到 Linux 文件系统中的给定 ` &lt;path-name&gt;` 。 但该位置没有有效的块设备专用文件（或指向块设备专用文件的软链接）。</block>
  <block id="b7d9017931a82c6a6dd2bbc3ccf5672e" category="paragraph">验证您输入的 ` &lt;path-name&gt;` 是否正确。</block>
  <block id="4bee3ed8e28332fe7f481068cdef4094" category="list-text">运行以下命令以重新启动具有新块设备映射的节点：</block>
  <block id="7de0338ae1fa3709da9ee49b6194dec4" category="paragraph">`sUdo StorageGRID node start &lt;node-name&gt;`</block>
  <block id="7373fb8f8cd145854d481b2a69b6cde4" category="list-text">使用 `passwords.txt` 文件中列出的密码以管理员身份登录到存储节点。</block>
  <block id="bc3a3b6dfc3b4bbe205554fa79b09532" category="list-text">查看服务器上所有服务的状态列表： + `sUdo storagegRid-status`</block>
  <block id="76c94011bf4ef4cbfeb944652742162e" category="list-text">输入 * 。 * 格式化存储卷。</block>
  <block id="686752ec008c4578ce224ca405d8d384" category="list-text">单击 * 应用更改 * 。</block>
  <block id="188fbaf41144dbaf60d9268b65c6e2b6" category="paragraph">现在，您可以使用存储节点的扩展容量来保存对象数据。</block>
  <block id="bee201586674b2baa08d1a33c537182b" category="summary">在某些情况下，您可能需要在添加新存储节点后重新平衡经过纠删编码的数据。</block>
  <block id="c59847e935463624e4bee62b6e03753e" category="list-text">您已完成添加新存储节点的扩展步骤。</block>
  <block id="59e226631d3318880a0518a39d85dcfa" category="inline-xref-macro">重新平衡经过纠删编码的数据的注意事项</block>
  <block id="ddb7f448c4760b8de997dea6571dc598" category="list-text">您已查看 <block ref="7e6e4e9d2f482abaa38e0c423f75cc90" category="inline-xref-macro-rx"></block>。</block>
  <block id="bc9ce846935686756a1645e286f17d37" category="admonition">只有在为站点上的一个或多个存储节点触发了 * 对象存储空间不足 * 警报且您无法添加建议数量的新存储节点时，才能执行此操作步骤 。</block>
  <block id="918597f055ebb7d3ae2b31adf183f10f" category="list-text">您了解此操作步骤 不会移动复制的对象数据，并且在确定将纠删编码的数据移动到何处时， EC 重新平衡操作步骤 不会考虑每个存储节点上的复制数据使用情况。</block>
  <block id="8ee5c3dc69b10c5d7e3b64272a457c2b" category="admonition">EC 重新平衡操作步骤 会临时预留大量存储。可能会触发存储警报，但会在重新平衡完成后解决。如果没有足够的存储空间用于预留， EC 重新平衡操作步骤 将失败。无论操作步骤 出现故障还是成功， EC 重新平衡操作步骤 完成后都会释放存储预留。</block>
  <block id="d4fcdcb7fac708a67f1a5fdf95199163" category="paragraph">如果需要超过 24 小时才能完成 EC 重新平衡操作步骤 期间用于上传对象（或对象部件）的 S3 和 Swift API 操作可能会失败。如果适用的 ILM 规则在载入时使用严格或平衡的放置方式，则长时间的 PUT 操作将失败。此时将报告以下错误：</block>
  <block id="db31c39a737bdf64a5608be04f017f76" category="paragraph">`500 内部服务器错误`</block>
  <block id="652728793cc25080bb2d2a4ac248cb22" category="list-text">【 Review object_storage]] 查看计划重新平衡的站点的当前对象存储详细信息。</block>
  <block id="90cc1c818182f6cdbcb75e81fc8493bc" category="list-text">选择站点上的第一个存储节点。</block>
  <block id="b84cf83ec24af3992507d72057b607f6" category="list-text">选择 * 存储 * 选项卡。</block>
  <block id="3d07b5912100ad74ba7a696f4fe93c54" category="list-text">将光标悬停在 " 已用存储 - 对象数据 " 图表上，可查看存储节点上当前复制的数据量以及经过纠删编码的数据。</block>
  <block id="f151395c85e183474efb66aaec7d6b7f" category="list-text">重复上述步骤以查看站点上的其他存储节点。</block>
  <block id="91be9ef316c5c2ad12c198d7c4133672" category="list-text">登录到主管理节点：</block>
  <block id="b6d617b0eda41e0d5856b7ee4d83d0b8" category="list-text">输入以下命令： `ssh admin@ primary_Admin_Node_IP_`</block>
  <block id="6dcd1ebf4390170868ab9bcdfd967581" category="list-text">输入以下命令：</block>
  <block id="a3df35a93a9adc4ca78a7332f45c83b6" category="paragraph">`rebalance-data start -site "_site-name_"`</block>
  <block id="6fb19696ad02f588faf8ff9509e7a426" category="paragraph">对于 ` "_site-name_"` ，请指定添加新存储节点的第一个站点。请用引号将 `site-name` 括起来。</block>
  <block id="4a7307ac61147705ba9ca4c82b8aff68" category="paragraph">此时将启动 EC 重新平衡操作步骤 ，并返回作业 ID 。</block>
  <block id="b640d2c75d92f9d024d78051def1ca64" category="list-text">复制作业 ID 。</block>
  <block id="44c7f52a16dcd7285912dee79923fcf2" category="list-text">监控 EC 重新平衡操作步骤 的状态。</block>
  <block id="bab650e9f9b3c31d635231c1359fe864" category="list-text">要查看单个 EC 重新平衡操作步骤 的状态，请执行以下操作：</block>
  <block id="4cd2382ec3fa503f67b5164ead60e539" category="paragraph">`rebalance-data status -job-id _job-id_`</block>
  <block id="45124b4472b45d18ee2de64678feb99d" category="paragraph">对于 ` 作业 ID` ，指定启动操作步骤 时返回的 ID 。</block>
  <block id="938003d10b7414f16e1a7e6abee5f862" category="list-text">要查看当前 EC 重新平衡操作步骤 的状态以及先前完成的任何过程：</block>
  <block id="f7e96cb95f4a67a9a4c09820e3a12877" category="paragraph">`rebalance-data status`</block>
  <block id="8dd30c43e2267e7e91e7d7787d68f613" category="paragraph">要获取有关 rebalance-data 命令的帮助，请执行以下操作：</block>
  <block id="fd340a23529f2ea6a63aa655b7084dae" category="paragraph">`rebalance-data — help`</block>
  <block id="af3758a10604a751891dc076a92d7f5b" category="list-text">要查看当前作业的估计完成时间和完成百分比，请选择 * 支持 * &gt; * 工具 * &gt; * 指标 * 。然后，在 Grafana 部分中选择 * EC Overview* 。查看 * 网格 EC 作业预计完成时间 * 和 * 网格 EC 作业已完成百分比 * 信息板。</block>
  <block id="7de7ea017f30eb96333199a74dd3192d" category="list-text">根据返回的状态执行其他步骤：</block>
  <block id="924fe3182335478290b25011d6fb9783" category="list-text">如果状态为 `In progress` ，则 EC 重新平衡操作仍在运行。您应定期监控操作步骤 ，直到其完成。</block>
  <block id="57b882a3e0ab404de6078c1d0c5d7f01" category="inline-xref">失败步骤</block>
  <block id="3fb0c89deee0b14c22c845393727db1f" category="list-text">如果状态为 `failure` ，请执行 <block ref="8122f72433e211dd5c9810a5a932c33a" category="inline-xref-macro-rx"></block>。</block>
  <block id="338eeec484a3a40f64ab757eb36793ef" category="inline-xref">成功步骤</block>
  <block id="4e5dba0adac0afd789551de1a55b1e64" category="list-text">如果状态为 `Success` ，请执行 <block ref="0e1d77e9d4d6447ae88d0c4ef2cf0411" category="inline-xref-macro-rx"></block>。</block>
  <block id="0cb324369495a549b89567fad1669f2f" category="list-text">如果 EC 重新平衡操作步骤 生成的负载过多（例如，载入操作受到影响），请暂停操作步骤 。</block>
  <block id="2bca9d67efdf4b5a2663274b121e9ab4" category="paragraph">`rebalance-data pause -job-id _job-id_`</block>
  <block id="bbf1def8b36eb6f5c0049272ba1c6ade" category="list-text">如果您需要终止 EC 重新平衡操作步骤 （例如，以便执行 StorageGRID 软件升级），请输入以下内容：</block>
  <block id="3249ccd4e74229562ab8135e6c1fbd58" category="paragraph">`rebalance-data terminate -job-id _job-id_`</block>
  <block id="38834101e03f829e1bddb81b17b1175f" category="admonition">终止 EC 重新平衡操作步骤 后，已移动的所有数据片段都将保留在新位置。数据不会移回原始位置。</block>
  <block id="bcea8f9edfb3bfad114c4996133ede69" category="list-text">【 rebalance_fail 】如果 EC 重新平衡操作步骤 的状态为 `failure` ，请执行以下步骤：</block>
  <block id="cacc05fc14a1ecde096a48cefadeb633" category="list-text">确认站点上的所有存储节点均已连接到网格。</block>
  <block id="d356d2a954879ff1d06ca595191f2992" category="list-text">检查并解决可能影响这些存储节点的任何警报。</block>
  <block id="68ef05b7aaff7f9dfc9c4c755aa97202" category="paragraph">有关特定警报的信息，请参见监控和故障排除说明。</block>
  <block id="e3e1239d269a9db98bd97dc7cb96051b" category="list-text">重新启动 EC 重新平衡操作步骤 ： + `rebalance-data start – -job-id _job-id_`</block>
  <block id="13a8513c3e5d01f0dfbae035a5d943dc" category="list-text">如果 EC 重新平衡操作步骤 的状态仍为 `Failure` ，请联系技术支持。</block>
  <block id="29e90b5ed6769002a212672741d36d83" category="inline-xref">查看对象存储</block>
  <block id="726707d4ac3d2e605b74c25a9358d65e" category="list-text">`SEC 重新平衡操作步骤 的状态为 " 无 ccess` " （可选） <block ref="aed4d895d6d5f8f29cb120f15f77c7b7" category="inline-xref-macro-rx"></block> 以查看此站点的更新详细信息。</block>
  <block id="8292e1137b43636e41423795ccd933f5" category="paragraph">现在，经过纠删编码的数据应在站点的存储节点之间更加平衡。</block>
  <block id="d328b314217232888c2350aaee5fd5ed" category="list-text">如果要在多个站点上使用纠删编码，请对所有其他受影响站点运行此操作步骤 。</block>
  <block id="e3bac49a9bd5fdea64876d0df82f1f0d" category="summary">您可以通过添加新站点来扩展 StorageGRID 系统。</block>
  <block id="d5c1c7066b600a270df7e3315c54e788" category="doc">添加新站点</block>
  <block id="6f6794e09f69599d1af27df958e459fa" category="section-title">添加站点的准则</block>
  <block id="57604405d9ce8a275be30384a9daa747" category="paragraph">在添加站点之前，请查看以下要求和限制：</block>
  <block id="18218b99c9be21c16cb979cf2e40a659" category="list-text">每个扩展操作只能添加一个站点。</block>
  <block id="7209fa336d5c72a8f8ce97c3ad4911c6" category="list-text">不能在同一扩展中向现有站点添加网格节点。</block>
  <block id="36c2d6a89a66557daafc1f0c2a5927ef" category="list-text">所有站点必须至少包含三个存储节点。</block>
  <block id="dab7cd3f7573ad3804cbc82a4ddbf7b7" category="list-text">添加新站点不会自动增加可存储的对象数量。网格的总对象容量取决于每个站点的可用存储容量， ILM 策略和元数据容量。</block>
  <block id="b10d01bfae0b19c685c75fd1a6908e44" category="list-text">在估算新站点的规模时，您必须确保其包含足够的元数据容量。</block>
  <block id="ff098e8d05a791c6769501c49c803794" category="paragraph">StorageGRID 会为每个站点上的所有对象元数据保留一份副本。添加新站点时，您必须确保它包含足够的元数据容量来容纳现有对象元数据，以及足够的元数据容量来支持增长。</block>
  <block id="b415558f9ba4b2aa8bdf128e618a2ac5" category="paragraph">有关详细信息，请参见以下内容：</block>
  <block id="c76c0decba50048c573d214e80846760" category="list-text"><block ref="c76c0decba50048c573d214e80846760" category="inline-xref-macro-rx"></block></block>
  <block id="a1453977cfdbc75f297d6f99c3da5c54" category="inline-xref-macro">监控每个存储节点的对象元数据容量</block>
  <block id="6dec4231afbcab90fcfab44176835432" category="list-text"><block ref="6dec4231afbcab90fcfab44176835432" category="inline-xref-macro-rx"></block></block>
  <block id="1ed2b9c2de7b23a1270e81433dbce00c" category="list-text">您必须考虑站点之间的可用网络带宽以及网络延迟级别。元数据更新会在站点之间持续复制，即使所有对象都仅存储在要载入的站点上也是如此。</block>
  <block id="158899b641d806a7f22d991e3ecf0a15" category="list-text">由于 StorageGRID 系统在扩展期间仍可正常运行，因此您必须在启动扩展操作步骤 之前查看 ILM 规则。您必须确保在扩展操作步骤 完成之前不会将对象副本存储到新站点。</block>
  <block id="19ee3145edcf715d2ae35d0f5b57bd74" category="paragraph">例如，在开始扩展之前，请确定是否有任何规则使用默认存储池（所有存储节点）。如果有，则必须创建一个包含现有存储节点的新存储池，并更新 ILM 规则以使用新存储池。否则，一旦新站点上的第一个节点变为活动状态，对象就会复制到该站点。</block>
  <block id="76bf8ef98928482e0fd26f95f8099f17" category="paragraph">有关在添加新站点时更改 ILM 的详细信息，请参见说明中的更改 ILM 策略示例 <block ref="d5309287bf71e54b8de7f99511d131e8" category="inline-xref-macro-rx"></block>。</block>
  <block id="b0903497437609dbb75c5f47b204b7a3" category="summary">在扩展中添加网格节点或新站点时，您可能需要更新子网或向网格网络添加子网。</block>
  <block id="ff98e28b72c34ffa0f7313d31b6db93b" category="paragraph">StorageGRID 会维护一个网络子网列表，用于在网格网络（ eth0 ）上的网格节点之间进行通信。这些条目包括 StorageGRID 系统中每个站点用于网格网络的子网，以及通过网格网络网关访问的 NTP ， DNS ， LDAP 或其他外部服务器所使用的任何子网。</block>
  <block id="04669a77892dbea11f3dfb5e1246c2b2" category="list-text">您已获得要配置的子网的网络地址，以 CIDR 表示法表示。</block>
  <block id="e6b1fa72a75c6016f841d2c01f23432f" category="paragraph">如果任何新节点的子网上有一个以前未使用的网格网络 IP 地址，则必须在开始扩展之前将此新子网添加到网格网络子网列表中。否则，您必须取消扩展，添加新子网并重新启动操作步骤 。</block>
  <block id="2a17f74285ec3251faf0397849d62824" category="list-text">选择 * 维护 * &gt; * 网络 * &gt; * 网格网络 * 。</block>
  <block id="14dd67af10e4e2fbb509ea80ae16bb9c" category="list-text">在子网列表中，选择加号以 CIDR 表示法添加新子网。</block>
  <block id="1ac9950e6ef20f368002c95e77f98992" category="paragraph">例如，输入 10.96.104.0/22 。</block>
  <block id="396b4f962e87060dd57435295117977d" category="list-text">输入配置密码短语，然后选择 * 保存 * 。</block>
  <block id="1fa9302191952afe439d2b30d4b91c23" category="paragraph">您指定的子网将自动为 StorageGRID 系统配置。</block>
  <block id="3657ebc204091c64d3ff02624d49eb1d" category="summary">添加新存储节点的扩展操作完成后， StorageGRID 系统应自动开始使用新存储节点。您必须使用 StorageGRID 系统验证新存储节点是否处于活动状态。</block>
  <block id="aae3935209aaa82bb7e0cfb0954cdfb0" category="doc">验证存储节点是否处于活动状态</block>
  <block id="6239bec365055baf85b0e5fcfed82750" category="list-text">选择 * 节点 * &gt; * 扩展存储节点 _* &gt; * 存储 * 。</block>
  <block id="4e4595d27916f5092d55426ad1bcb427" category="list-text">将光标悬停在 * 已用存储 - 对象数据 * 图上可查看 * 已用 * 的值，即已用于对象数据的总可用空间量。</block>
  <block id="11aed68e02a00262e86b22e6fe8e59ab" category="list-text">将光标移至图形右侧时，请验证 * 已用 * 的值是否正在增加。</block>
  <block id="d9ace782cd20227167799e8f69295efe" category="summary">完成扩展后，您必须执行其他集成和配置步骤。</block>
  <block id="90ef94438c94e9a3fde44b732e39920b" category="paragraph">您必须为要在扩展中添加的网格节点完成以下列出的配置任务。根据在安装和管理系统时选择的选项以及您希望如何配置在扩展期间添加的网格节点，某些任务可能是可选的。</block>
  <block id="347c08c3539ff196e699d621b7555e4a" category="list-text">如果添加了存储节点，请完成以下配置任务：</block>
  <block id="d158ab6a2d02102264026c0596d516e4" category="list-text">查看 ILM 规则中使用的存储池，以确保使用新存储。请参见 <block ref="5143f9b7656d191fdc2d9db2e1591b49" category="inline-xref-macro-rx"></block>。</block>
  <block id="53659e8f6f990944a7b489a6c70326a1" category="list-text">如果您添加了站点，请为此站点创建一个存储池，并更新 ILM 规则以使用新的存储池。</block>
  <block id="7a36fe76000b82c37605f377aea2c937" category="list-text">如果已将存储节点添加到现有站点，请确认新节点使用的存储级别正确。</block>
  <block id="0f049edf875ac3cf12cde1cae3d756fe" category="admonition">默认情况下，系统会将新的存储节点分配给所有存储节点存储级别，并将其添加到对站点使用该级别的存储池中。如果您希望新节点使用自定义存储级别，则必须手动将其分配给自定义级别（ * ILM * &gt; * 存储级别 * ）。</block>
  <block id="7c428f3217925aff8675f5076f3f1b77" category="inline-xref-macro">验证存储节点是否处于活动状态</block>
  <block id="195a56cf1b8facd98a51657671e6cac4" category="list-text">验证存储节点是否正在载入对象。请参见 <block ref="5890d06a50ec0b05bd230e06d295c9c0" category="inline-xref-macro-rx"></block>。</block>
  <block id="88c933b859fcf463b03fc71b3418bafe" category="list-text">重新平衡擦除编码的数据（仅当无法添加建议数量的存储节点时）。请参见<block ref="7189abf47ded1f4a100ea3883aa47060" category="inline-xref-macro-rx"></block>。</block>
  <block id="3c89f622a007f0f558fafdedeb9f7572" category="list-text">如果添加了网关节点，请完成以下配置任务：</block>
  <block id="c2fe9966d1026e77ead96a8803d6e172" category="list-text">如果将高可用性（ HA ）组用于客户端连接，则可以选择将网关节点添加到 HA 组。选择 * 配置 * &gt; * 网络 * &gt; * 高可用性组 * 以查看现有 HA 组列表并添加新节点。请参见 <block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block>。</block>
  <block id="e7f34fbda1c95748ee3a142aafc36106" category="list-text">如果添加了管理节点，请完成以下配置任务：</block>
  <block id="9151ca29483b0348ab6e952984f216b2" category="list-text">如果为 StorageGRID 系统启用了单点登录（ Single Sign-On ， SSO ），请为新管理节点创建依赖方信任。创建此依赖方信任之前，您无法登录到此节点。请参见<block ref="0e8951ef53a76431ce358efd0201ea8c" category="inline-xref-macro-rx"></block>。</block>
  <block id="e47f423e8c533939e500fde27ebb7c0c" category="list-text">如果您计划在管理节点上使用负载平衡器服务，也可以将新的管理节点添加到 HA 组中。选择 * 配置 * &gt; * 网络 * &gt; * 高可用性组 * 以查看现有 HA 组列表并添加新节点。请参见 <block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block>。</block>
  <block id="0e22e61393f4015bf406c77a0bd28f54" category="inline-xref-macro">复制管理节点数据库</block>
  <block id="2ec75b04243e6d96373b5b05494a844f" category="list-text">如果要使每个管理节点上的属性和审核信息保持一致，也可以将管理节点数据库从主管理节点复制到扩展管理节点。请参见 <block ref="a1d0d87c48688d87a4c358fd0fabecc3" category="inline-xref-macro-rx"></block>。</block>
  <block id="178b0bb9fc15c6809bb3978d7a85db49" category="list-text">如果要使每个管理节点上的历史指标保持一致，也可以将 Prometheus 数据库从主管理节点复制到扩展管理节点。请参见 <block ref="9e0c3985ceb1e3fd0fcf7d84b22e8d4d" category="inline-xref-macro-rx"></block>。</block>
  <block id="b51ed4bc19034de7a115af8950bb1e14" category="inline-xref-macro">复制审核日志</block>
  <block id="7244f26a5ca520fb1c413a9d14728d14" category="list-text">如果要使每个管理节点上的历史日志信息保持一致，也可以将现有审核日志从主管理节点复制到扩展管理节点。请参见 <block ref="f7df2caaf6e245935d8be9451490d3f4" category="inline-xref-macro-rx"></block>。</block>
  <block id="1afad18bd9c8a75c4e49b1b780c88813" category="list-text">或者，也可以通过 NFS 或 CIFS 文件共享配置对系统的访问以供审核。请参见 <block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block>。</block>
  <block id="415b937abdf25c6db46987294388b181" category="admonition">已弃用通过 CIFS/Samba 进行审核导出，并将在未来的 StorageGRID 版本中删除。</block>
  <block id="4776c89daa200803f4b55c2d73a9bbf6" category="list-text">或者，也可以更改通知的首选发件人。您可以将扩展管理节点设置为首选发送器。否则，配置为首选发件人的现有管理节点将继续发送通知，包括 AutoSupport 消息， SNMP 通知，警报电子邮件和警报电子邮件（旧系统）。请参见 <block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block>。</block>
  <block id="84b3051b7afa549a13cd35964ce6e65d" category="list-text">如果添加了归档节点，请完成以下配置任务。</block>
  <block id="e5f172d76e17ea615edbe664b632d7f9" category="list-text">配置归档节点与目标外部归档存储系统的连接。完成扩展后，归档节点将处于警报状态，直到您通过 * ARC/ * 目标 * 组件配置连接信息为止。请参见 <block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block>。</block>
  <block id="9a3860027204ce3a1ba3bcd7536ae4f5" category="list-text">更新 ILM 策略以通过新的归档节点归档对象数据。请参见 <block ref="5143f9b7656d191fdc2d9db2e1591b49" category="inline-xref-macro-rx"></block>。</block>
  <block id="ecf51f1f834482d16c1b428f786c88ec" category="list-text">为用于监控从归档节点检索对象数据的速度和效率的属性配置自定义警报。请参见 <block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block>。</block>
  <block id="e3f819461f4ec80cd44bb18aadbc03fa" category="list-text">要检查扩展节点是否是使用不可信客户端网络添加的，或者更改节点的客户端网络是不可信还是可信，请转到 * 配置 * &gt; * 网络 * &gt; * 不可信客户端网络 * 。</block>
  <block id="bde99e792439bd6a240bb2ec3dc450f7" category="paragraph">如果扩展节点上的客户端网络不可信，则必须使用负载平衡器端点与客户端网络上的节点建立连接。请参见 <block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block>。</block>
  <block id="a4104ec3084a3de43633f3084a2bfa1c" category="list-text">配置域名系统（ DNS ）。</block>
  <block id="8c432076f6091770cf6a2ed735c673a7" category="inline-xref-macro">修改单网格节点的 DNS 配置</block>
  <block id="15f98ccc8f05b2709631c18c29704ce9" category="paragraph">如果您一直在为每个网格节点单独指定 DNS 设置，则必须为新节点添加自定义的每节点 DNS 设置。请参见 <block ref="173d30a979fb77b9de0f1bb33c1114e0" category="inline-xref-macro-rx"></block>。</block>
  <block id="b7205a0f104778a876f05447399b1246" category="paragraph">最佳做法是，网格范围的 DNS 服务器列表应包含一些可从每个站点本地访问的 DNS 服务器。如果您刚刚添加了一个新站点，请将该站点的新 DNS 服务器添加到网格范围的 DNS 配置中。</block>
  <block id="fed16f6f94d13cbb3bcb0847f10c1e13" category="admonition">为 DNS 服务器提供两到六个 IPv4 地址。您应选择 DNS 服务器，以便在网络隔离时每个站点都可以在本地访问这些服务器。这是为了确保已隔离的站点可以继续访问 DNS 服务。配置网格范围的 DNS 服务器列表后，您可以进一步自定义每个节点的 DNS 服务器列表。有关详细信息，请参见 <block ref="173d30a979fb77b9de0f1bb33c1114e0" category="inline-xref-macro-rx"></block>...</block>
  <block id="de96d21169aba194859dc496a9f407fe" category="inline-xref-macro">配置 NTP 服务器</block>
  <block id="29442a15eefe7a7bd2c5b7f8982349e0" category="list-text">如果添加了新站点，请确认网络时间协议（ NTP ）服务器可从该站点访问。请参见 <block ref="c7689459cfa40c513d90f515d09a492b" category="inline-xref-macro-rx"></block>。</block>
  <block id="bc5ff630b986d70c3d01149085ed9603" category="admonition">确保每个站点至少有两个节点可以访问至少四个外部 NTP 源。如果一个站点上只有一个节点可以访问 NTP 源，则在该节点关闭时会发生计时问题。此外，指定每个站点两个节点作为主要 NTP 源可确保在站点与网格其余部分隔离时的时间准确无误。</block>
  <block id="5a017e0dff45afad7c7cbab45a1f0c60" category="summary">按照以下说明扩展 StorageGRID 系统的容量或功能，而不会中断系统操作。</block>
  <block id="5357c57d08b9cee99dd452627db34e6a" category="doc">扩展网格：概述</block>
  <block id="0483d005761c878dd33a72b611586b5c" category="paragraph">以下说明介绍如何执行 StorageGRID 扩展，以便向存储节点，现有站点或整个新站点添加新网格节点。</block>
  <block id="4ce3beabfeff66320b67e7737702a30d" category="paragraph">本说明适用于安装 StorageGRID 系统后负责配置和支持该系统的技术人员。</block>
  <block id="9eae2c91d0b1dcd75f65aa7fb5060b37" category="section-title">扩展操作步骤 概述</block>
  <block id="440e6e742502d2106b82012ba437ebd1" category="paragraph">执行扩展的原因决定了您必须添加的每种类型的新节点数以及这些新节点的位置。例如，如果要执行扩展以增加存储容量，添加元数据容量或添加冗余或新功能，则节点要求会有所不同。</block>
  <block id="6b4b028a26558966fe5a03414bd3dc4a" category="paragraph">如工作流图所示，执行扩展的步骤取决于是向存储节点添加存储卷，向现有站点添加新节点还是添加新站点。无论哪种情况，您都可以在不中断当前系统运行的情况下执行扩展。</block>
  <block id="f02a633ec7773287407a981990df18a2" category="paragraph">添加节点的步骤还取决于您是添加 StorageGRID 设备还是添加运行 VMware 或 Linux 的主机。</block>
  <block id="697ea025ecb303d4f40d1bf3a8b4bde0" category="inline-link">NetApp 互操作性表工具（ IMT ）</block>
  <block id="00294f78d950449fb9ad2ba4e99dd923" category="admonition">"`Linux` " 是指 Red Hat ® Enterprise Linux ® ， Ubuntu ® ， CentOS 或 Debian ® 部署。使用<block ref="5bc2ef41310bf506fb81480a8e3b3a62" category="inline-link-rx"></block> 以获取支持的版本列表。</block>
  <block id="70749935ff36a124731c0bfbe6fa86b7" category="image-alt">显示扩展过程概述的流程图</block>
  <block id="3f5017f47ac9b9f8c16a8ca570378ae6" category="summary">通过扩展操作步骤 添加新管理节点时，其 AMS 服务仅会记录在加入系统后发生的事件和操作。根据需要，您可以将审核日志从先前安装的管理节点复制到新的扩展管理节点，使其与 StorageGRID 系统的其余部分保持同步。</block>
  <block id="1f552536f58031675b76e60b53b2ebea" category="paragraph">要使历史审核消息在新管理节点上可用，必须手动将审核日志文件从现有管理节点复制到扩展管理节点。</block>
  <block id="bae441e199bc6017c86463f82ef9d396" category="paragraph">默认情况下，审核信息会发送到管理节点上的审核日志。如果符合以下任一条件，则可以跳过这些步骤：</block>
  <block id="c8d3427c472625bf225e556002e25b3b" category="list-text">您配置了外部系统日志服务器，审核日志现在将发送到系统日志服务器，而不是管理节点。</block>
  <block id="4172997e8686f1ed3785af5e55264a5c" category="list-text">您明确指定仅应将审核消息保存在生成这些消息的本地节点上。</block>
  <block id="5b916d52734e01f700874335e3d44506" category="paragraph">请参见 <block ref="ae288695ae0d1fa43aff6e30548d4024" category="inline-xref-macro-rx"></block> 了解详细信息。</block>
  <block id="1a3f3511a828d3173d261d3c9123c7f0" category="list-text">输入以下命令： `ssh _admin@ primary_Admin_Node_IP_`</block>
  <block id="64a58df7717a820abf20cf9f0bcdf7f7" category="list-text">停止 AMS 服务以防止其创建新文件： `sservice AMS stop`</block>
  <block id="03ad7d46e0e453d267af647901852188" category="list-text">重命名 `audit.log` 文件，以确保它不会覆盖要将其复制到的扩展管理节点上的文件：</block>
  <block id="a8df4fd442e1ef738695e3a0ea050bad" category="paragraph">`cd /var/local/audit/export` + `ls -l` + `mv audit.log _new_name_.txt`</block>
  <block id="bbfa4e84b8d7f81b242986e3217a02f3" category="list-text">将所有审核日志文件复制到扩展管理节点：</block>
  <block id="5e7930032231cfbbd66c2dc8c3d52fe4" category="paragraph">`scp -p * _ip_address_ ： /var/local/audit/export`</block>
  <block id="127e06ccc9dc30c0cc5cffc285fb18e6" category="list-text">如果系统提示您输入 ` /root/.ssh/id_rsa` 的密码短语，请输入 `passwords.txt` 文件中列出的主管理节点的 SSH 访问密码。</block>
  <block id="7c4005bd38f0ed0ba95330a713fccbd7" category="list-text">还原原始的 `audit.log` 文件：</block>
  <block id="a9507d7e9b145a4928368e0391f9e3e7" category="paragraph">`mv _new_name_.txt audit.log`</block>
  <block id="709555f2827ee83cc7ab2dd126594a67" category="list-text">启动 AMS 服务：</block>
  <block id="c2a0abe0f6d4652bc4bca0c73cc8fa28" category="paragraph">`s服务 AMS 开始`</block>
  <block id="8ca2810aaf4c8f49189b165a5ae3c58d" category="list-text">从服务器注销：</block>
  <block id="d9f6eac526670fe9182f1a63d251a180" category="paragraph">`退出`</block>
  <block id="a6fa59a0255002431fba6a46d5ea52f1" category="list-text">输入以下命令： `ssh admin@ expansion _Admin_Node_IP_`</block>
  <block id="072ef37b447cac236379a387c8ebb96a" category="list-text">更新审核日志文件的用户和组设置：</block>
  <block id="5aa451d2df65a58886b524f7f4a3fedc" category="paragraph">`cd /var/local/audit/export` + `chown AMS-user ： byncast *`</block>
  <block id="f4cd65af39d1c28a8e001ff5815bfacf" category="summary">在执行扩展操作之前，请收集相关材料并安装和配置任何新的硬件和网络。</block>
  <block id="4f4381f5f9becdb61ff4232b50848e1c" category="doc">收集所需材料</block>
  <block id="775f43be6062683d936a389b3efd4db3" category="paragraph">StorageGRID 安装归档</block>
  <block id="56b173e37b14003518d8928f85edc96c" category="paragraph">如果要添加新的网格节点或新站点，则必须下载并提取 StorageGRID 安装归档。您必须使用网格上当前运行的相同版本。</block>
  <block id="370eab933743bcb7a5032501c2a699f1" category="paragraph">有关详细信息，请参见的说明 <block ref="407fcc00ce96897fc5c739db24f0ac2d" category="inline-xref-macro-rx"></block>。</block>
  <block id="77b766d23fc9e86a8038b6c5621bc570" category="paragraph">* 注意： * 如果要向现有存储节点添加新存储卷或安装新的 StorageGRID 设备，则不需要下载文件。</block>
  <block id="b3514206f38f1ebaaf44c92803b0a48c" category="paragraph">服务笔记本电脑具有以下功能：</block>
  <block id="f48b1a8a52dece2bc52a2c1bd2731067" category="paragraph">包含访问命令行上的网格节点所需的密码。包含在恢复包中。</block>
  <block id="2ae3ceccd0d5557cc1502b181c8fcef7" category="paragraph">首次安装 StorageGRID 系统时，系统会创建并记录密码短语。配置密码短语不在 `passwords.txt` 文件中。</block>
  <block id="3778f3873debfe11e2ace6bb6af1e417" category="paragraph">StorageGRID 文档</block>
  <block id="1ea5b8e8b82c9c6016c6bf137988786c" category="list-text">适用于您的平台的安装说明</block>
  <block id="57a67202ee5c9b68142f5d8355f7e3f7" category="paragraph">适用于您的平台的最新文档</block>
  <block id="dc351b2abbd920b35cff990b6582b9d7" category="inline-link">互操作性表</block>
  <block id="bfed6859d406557a499f437544d106d1" category="paragraph">有关支持的版本，请参见<block ref="0e6402306ca1a4ffe46f2cf8e5085a69" category="inline-link-rx"></block>。</block>
  <block id="bf25f604e2b0f87000d93e6c50ad2418" category="section-title">下载并提取 StorageGRID 安装文件</block>
  <block id="abe7f84d2a500d296bd731f8f64bb050" category="paragraph">在添加新网格节点或新站点之前，必须下载相应的 StorageGRID 安装归档并提取文件。</block>
  <block id="c5daddc3efb2faa4e7d467f9d5562bcb" category="paragraph">您必须使用网格上当前运行的 StorageGRID 版本执行扩展操作。</block>
  <block id="3a4c3ce9498d44411a45cf1649fb7f01" category="list-text">转到 StorageGRID 的 "NetApp 下载 " 页面。</block>
  <block id="9d88b23429eadf8eb43bf389532b7071" category="list-text">选择网格上当前运行的 StorageGRID 版本。</block>
  <block id="9293ed81e70ca6232d026f12a1a51b80" category="list-text">在下载页面的 * 安装 StorageGRID * 列中，为您的平台选择 ` .tgz` 或 ` .zip` 文件。</block>
  <block id="8c37dc871cdac6fe2b2b1a713c27728e" category="paragraph">安装归档文件中显示的版本必须与当前安装的软件版本匹配。</block>
  <block id="d44913b913425a087d187270dfd0a95d" category="cell">安装归档</block>
  <block id="3fd4b8fb66026e4571215b945e86fb93" category="cell">`storageGRID-Webscale -_version_-RPM-_uniqueID_.zip` `StorageGRID-Webscale -_version_-RPM-_uniqueID_.tgz`</block>
  <block id="a37078066fb4b01cde01895734a2d14b" category="paragraph">Ubuntu ， Debian 或设备</block>
  <block id="5eff23a7e9efac8c4dee7cbb3c52a63f" category="cell">`storageGRID-Webscale -_version_-Deb-uniqueID_.zip` `StorageGRID-Webscale -_version_-Deb-uniqueID_.tgz`</block>
  <block id="3cdf506d1b954b7cfbec657f27838691" category="cell">`storageGRID-Webscale -_version_-vmware-_uniqueID_.zip` `StorageGRID-Webscale -_version_-vmware-_uniqueID_.tgz`</block>
  <block id="4fa1f2f871d39e6fb13c9bd8dea81a2a" category="paragraph">OpenStack/ 其他虚拟机管理程序</block>
  <block id="827a684e4046dffff3f6282760a91954" category="paragraph">要在 OpenStack 上扩展现有部署，您必须部署一个运行上述受支持 Linux 分发版本之一的虚拟机，并按照适用于 Linux 的相应说明进行操作。</block>
  <block id="766d7a33c66df8e57413592c2643f8c0" category="list-text">下载并提取归档文件。</block>
  <block id="2098186921c24e632cdf0bfed2e02d3b" category="list-text">按照适用于您的平台的步骤，根据您的平台，计划的网格拓扑以及您将如何扩展 StorageGRID 系统来选择所需的文件。</block>
  <block id="4abc78df81004c9e841617d9ca47fdd0" category="paragraph">步骤中为每个平台列出的路径与归档文件安装的顶级目录相对。</block>
  <block id="669402ef467502fc4dc15bb5dbdb4db1" category="list-text">如果要扩展 Red Hat Enterprise Linux 或 CentOS 系统，请选择相应的文件。</block>
  <block id="78f36b010e8aa9dc3852475704959d97" category="cell">路径和文件名</block>
  <block id="174bc31e72911a775eeeb98775992d8b" category="cell">./rpms/README</block>
  <block id="00a0eb7c6a2d181534d68da48a927532" category="paragraph">一个文本文件，用于描述 StorageGRID 下载文件中包含的所有文件。</block>
  <block id="16c5fe8c52308ef9946416e07800c8c7" category="cell">./rpms/NLF000000.txt</block>
  <block id="1412e75a35201924449a98f4d8463404" category="paragraph">一种免费许可证，不提供产品的任何支持授权。</block>
  <block id="7adbdcd1b6ce470e505e114d70579947" category="cell">./rpms/StorageGRID-Webscale-Images-_version_-SHA.rpm</block>
  <block id="fb313b7142eb348a1ab71b90386b0366" category="paragraph">RPM 软件包，用于在 RHEL 或 CentOS 主机上安装 StorageGRID 节点映像。</block>
  <block id="2737b16bc9fd3f943e3f56d6cd588f22" category="cell">./rpms/StorageGRID-Webscale-Service-_version_-SHA.rpm</block>
  <block id="993858c0283089f19aa16810a94dcb0c" category="paragraph">RPM 软件包，用于在 RHEL 或 CentOS 主机上安装 StorageGRID 主机服务。</block>
  <block id="9a8225214940c2184707bb243a982e1b" category="cell">部署脚本工具</block>
  <block id="3d92647a5e927b029f977b61b864a7a7" category="cell">./rpms/configure-storagegrid.py</block>
  <block id="a47ade91883091bf8e6d3fb704408744" category="paragraph">一种用于自动配置 StorageGRID 系统的 Python 脚本。</block>
  <block id="1382b6e743209f2d6f95ada409d2e709" category="cell">./rpms/configure-sga.py</block>
  <block id="40d3953329e6ab999da5047e4e05f579" category="paragraph">一种用于自动配置 StorageGRID 设备的 Python 脚本。</block>
  <block id="262bf953c6a74b20915dacdff16ceb7b" category="cell">./rpms/configure-storagegrid.sample.json</block>
  <block id="7415870cff0ff9a2f3a01b63d56e522b" category="paragraph">与 `configure-storaggrid.py` 脚本结合使用的示例配置文件。</block>
  <block id="72be883746443da9cbeb3a6119f5597f" category="cell">./rpms/storagegrid-ssoauth.py</block>
  <block id="c827a29aa1a6d90edd9e0e7cfd8608b9" category="paragraph">一个示例 Python 脚本，启用单点登录后，您可以使用该脚本登录到网格管理 API 。</block>
  <block id="8cf8a1f4a5b107d7963a2762ace4f85c" category="cell">./rpms/configure-storagegrid.blank.json</block>
  <block id="690f26745838f516b56ba53f1a07a892" category="paragraph">用于 `configure-storaggrid.py` 脚本的空配置文件。</block>
  <block id="ea4c2cdb2f8684cc59804d814a9d5166" category="cell">./rpms/Extras 或 Ansible</block>
  <block id="03c200c007f5a42adf3110f8de14f103" category="paragraph">用于为 StorageGRID 容器部署配置 RHEL 或 CentOS 主机的 Ansible 角色示例和攻略手册。您可以根据需要自定义角色或攻略手册。</block>
  <block id="54bd24efb964d570f86dc6378dac26e6" category="cell">./rpms/Extras 或 API 架构</block>
  <block id="e32fe91e32dc3a89731c53457d384248" category="paragraph">StorageGRID 的 API 架构。</block>
  <block id="d13f140318529f4ac14bb4afca687691" category="paragraph">* 注意 * ：在执行升级之前，如果您没有用于升级兼容性测试的非生产 StorageGRID 环境，则可以使用这些架构确认为使用 StorageGRID 管理 API 编写的任何代码都与新的 StorageGRID 版本兼容。</block>
  <block id="c1eff70d519e6e49d298c2b75c4b112f" category="list-text">如果要扩展 Ubuntu 或 Debian 系统，请选择相应的文件。</block>
  <block id="0ac02016434bcac0840efd2d4b78f09d" category="cell">/debs/README</block>
  <block id="5cafbc82d471df1ca76b5c310ac499bb" category="cell">./debs/NLF000000.txt</block>
  <block id="2d6840c87634b85eeb4023fc596e2aaf" category="paragraph">非生产 NetApp 许可证文件，可用于测试和概念验证部署。</block>
  <block id="fc715f33ce011dc4096438ea98efdea5" category="cell">./debs/storagegrid-webscale-images-version-SHA.deb</block>
  <block id="07239465a1576a9200467490b79b2d58" category="paragraph">用于在 Ubuntu 或 Debian 主机上安装 StorageGRID 节点映像的 Deb 软件包。</block>
  <block id="e80555f89c0aa19d570b853b415a6d67" category="cell">./debs/storagegrid-webscale-images-version-SHA.deb.md5</block>
  <block id="22d92e10a51c05191dce054dae8d58f0" category="paragraph">文件 ` /debs/storagegrid-webscale-images-version-SHA.deb` 的 MD5 校验和。</block>
  <block id="85ca1c177571fa3acf5a1c414e177892" category="cell">./debs/storagegrid-webscale-service-version-SHA.deb</block>
  <block id="ad1edb0f5f8f110313b2c5204594aee4" category="paragraph">用于在 Ubuntu 或 Debian 主机上安装 StorageGRID 主机服务的 Deb 软件包。</block>
  <block id="f9574cd1342308e170bceeed6baf3922" category="cell">./debs/configure-storagegrid.py</block>
  <block id="782802937e4fcb36a08232a0744720a1" category="cell">./debs/configure-sga.py</block>
  <block id="024f163562fc42e79da9c2f46d55134d" category="cell">./debs/storagegrid-ssoauth.py</block>
  <block id="2b4549a503c6a9507437f8def6cf02f6" category="cell">./debs/configure-storaggrid.sample.json</block>
  <block id="2a853ad5c73f96fcda5b2f457b00f07d" category="cell">./debs/configure-storaggrid.blank.json</block>
  <block id="2145c13b2b129672d503f4b6f855edb1" category="cell">./debs/Extras / Ansible</block>
  <block id="6503034c4698870ad77bc5e71e9f4911" category="paragraph">用于为 StorageGRID 容器部署配置 Ubuntu 或 Debian 主机的 Ansible 角色示例和攻略手册。您可以根据需要自定义角色或攻略手册。</block>
  <block id="ae08844aeb8ecf9466b2fc14c6707e81" category="cell">./debs/ExtrS/API 架构</block>
  <block id="1b87b6bc1b2eb1dcd40ad5a39680fb67" category="list-text">如果要扩展 VMware 系统，请选择相应的文件。</block>
  <block id="3911845d1ad295014bc92167c5170ed5" category="cell">./vSphere/README</block>
  <block id="9b37454bc64e2644eabc95e211381862" category="cell">./vSphere/NLF000000.txt</block>
  <block id="c99d9a84006d05d03a012e928212f3a5" category="cell">./vsphere/netapp-sg-version-sha.vmdk</block>
  <block id="b7f7d81a02966f193df0291a59cc3f69" category="paragraph">用作创建网格节点虚拟机的模板的虚拟机磁盘文件。</block>
  <block id="7fd9038d6374e4fb9b7b8aa7910863a3" category="cell">./vSphere/vsphere-primary-admin.OVF ./vsphere/vsphere-primary-admin.mf</block>
  <block id="54c146f76b6a1fab01cd70d6d17c03ea" category="paragraph">用于部署主管理节点的开放式虚拟化格式模板文件（` .OVF` ）和清单文件（` .MF` ）。</block>
  <block id="8f82e697d23213d865bccfac7ac318b4" category="cell">./vSphere/vsphere-non-primary-admin.OVF ./vsphere/vsphere-non-primary-admin.mf</block>
  <block id="9a18adbe7a132ba15b08a0f2db3a94ea" category="paragraph">用于部署非主管理节点的模板文件（` .OVF` ）和清单文件（` .MF` ）。</block>
  <block id="729ed1961e2d2327cde25fab844b8ae9" category="cell">./vSphere/vsphere-archive.OVF ./vsphere/vsphere-archive.mf</block>
  <block id="0d36a897bda5179e4a8871e895b3e989" category="paragraph">用于部署归档节点的模板文件（` .OVF` ）和清单文件（` .MF` ）。</block>
  <block id="cf55e8ee9d39854aa19ffaba6aee7c2d" category="cell">./vSphere/vsphere-gateway.OVF ./vsphere/vsphere-gateway.mf</block>
  <block id="b71a9aadee5dc605a69f0311cef6e274" category="paragraph">用于部署网关节点的模板文件（` .OVF` ）和清单文件（` .MF` ）。</block>
  <block id="c14c597d20dfe5c91ac7b4e1cc58b6ac" category="cell">./vSphere/vsphere-storage.OVF ./vsphere/vsphere-storage.mf</block>
  <block id="916023adca9033279b7979752c5e549f" category="paragraph">用于部署基于虚拟机的存储节点的模板文件（` .OVF` ）和清单文件（` .MF` ）。</block>
  <block id="980a545b554e2c20cbbc59fa7235ff88" category="cell">./vSphere/deploy-vsphere-ovftool.sh</block>
  <block id="dda01830d0a87b4f6d519107f3e00b11" category="paragraph">Bash shell 脚本，用于自动部署虚拟网格节点。</block>
  <block id="be861d0b5c25ca646ed66aa88d183e7c" category="cell">./vSphere/deploy-vsphere-ovftool-sample.ini</block>
  <block id="896edfc2b9f39de2de508aec53ab9f7c" category="paragraph">与 `deept-vsphere-ovftool.sh` 脚本结合使用的示例配置文件。</block>
  <block id="3c07b11f7db9633f25588706d4ab6c7b" category="cell">./vSphere/configure-storagegrid.py</block>
  <block id="f9e72c3060142319903423372308a78b" category="cell">./vSphere/configure-sga.py</block>
  <block id="54330944016b9c89d2fc898c30029745" category="cell">./vSphere/storagegrid-ssoauth.py</block>
  <block id="bf19a21b56508f2cb7052cd2c7e503fc" category="cell">./vsphere/configure-storaggrid.sample.json</block>
  <block id="002fc68c741ca71e7d94b670e637e3db" category="cell">./vsphere/configure-storaggrid.blank.json</block>
  <block id="7edca23d79373da90b3dbfa393d1c79a" category="cell">./vsphere/ExtrS/API 架构</block>
  <block id="9aa93408fb554f65a409f6ec825055db" category="list-text">如果要扩展基于 StorageGRID 设备的系统，请选择相应的文件。</block>
  <block id="e5d7c6a1c79cd48ee12e86addd150a45" category="paragraph">用于在设备上安装 StorageGRID 节点映像的 Deb 软件包。</block>
  <block id="5aae872e5fd9d5040520a0c58588caac" category="paragraph">StorageGRID 设备安装程序使用的 Deb 安装包的校验和，用于验证该软件包在上传后是否完好无损。</block>
  <block id="c6ed1be0cfec4369cf6a037497e1399b" category="admonition">对于设备安装，只有在需要避免网络流量时，才需要这些文件。设备可以从主管理节点下载所需文件。</block>
  <block id="ee87080f5939f689ff5a9c87049d5375" category="section-title">验证硬件和网络连接</block>
  <block id="50928f10823494f359b171fb8bf5401d" category="paragraph">开始扩展 StorageGRID 系统之前，请确保满足以下要求：</block>
  <block id="f2caa27ed1d1bd75bbb767e3860aa5d8" category="list-text">已安装并配置支持新网格节点或新站点所需的硬件。</block>
  <block id="1ce13dac38b66182265c50e47ad9b7ae" category="list-text">所有新节点都具有指向所有现有节点和新节点的双向通信路径（网格网络的一项要求）。</block>
  <block id="dfbb29b3c94e81e429f3af9a7a4860bc" category="list-text">主管理节点可以与用于托管 StorageGRID 系统的所有扩展服务器进行通信。</block>
  <block id="85077f1ac9b4e8fb7b1680410b0844ec" category="inline-xref-macro">已添加新子网</block>
  <block id="1cbd4d2f0a1bad40b84728a097406e8a" category="list-text">如果任何新节点的子网上有一个网格网络 IP 地址，而此地址以前未使用过，则表示您已使用 <block ref="2ef3ac6ae889c7c01896fa426ecda48e" category="inline-xref-macro-rx"></block> 到网格网络子网列表。否则，您必须取消扩展，添加新子网并重新启动操作步骤 。</block>
  <block id="9896fea03640717868315da49bd1bb5a" category="list-text">您未在网格节点之间或 StorageGRID 站点之间的网格网络上使用网络地址转换（ Network Address Translation ， NAT ）。如果您对网格网络使用专用 IPv4 地址，则这些地址必须可从每个站点的每个网格节点直接路由。只有在使用对网格中的所有节点都透明的通道应用程序时，才支持使用 NAT 在公有 网段中桥接网格网络，这意味着网格节点不需要了解公有 IP 地址。</block>
  <block id="480af48e828afbfa1816ccdc755eb7d8" category="paragraph">此 NAT 限制特定于网格节点和网格网络。您可以根据需要在外部客户端和网格节点之间使用 NAT ，例如为网关节点提供公有 IP 地址。</block>
  <block id="25e9e8162917edfeb8c4df19595bc3e5" category="summary">要确保为对象元数据提供足够的可用空间，您可能需要执行扩展操作步骤 以在每个站点添加新的存储节点。</block>
  <block id="b48dd0969f81829e7a0bae827dd51ee0" category="doc">添加元数据容量</block>
  <block id="092c7b17a505490b79a6ff4583d6024e" category="paragraph">StorageGRID 会为每个存储节点的卷 0 上的对象元数据预留空间。每个站点维护三个所有对象元数据副本，这些副本均匀分布在所有存储节点上。</block>
  <block id="69ecc086eb4442a00ffc8b08234b70f6" category="paragraph">您可以使用网格管理器监控存储节点的元数据容量，并估计元数据容量的使用速度。此外，当已用元数据空间达到特定阈值时，系统会为存储节点触发 * 低元数据存储 * 警报。</block>
  <block id="609d3242cdffe4daba086b8a2a57d4ce" category="paragraph">请注意，根据网格的使用方式，网格的对象元数据容量消耗速度可能比其对象存储容量更快。例如，如果您通常要载入大量小对象或向对象添加大量用户元数据或标记，则即使仍有足够的对象存储容量，您可能需要添加存储节点以增加元数据容量。</block>
  <block id="6260af7e2327e8b23c0e9928d72e530b" category="section-title">增加元数据容量的准则</block>
  <block id="46d8a7cb0437e378e753a7e3a617c6d5" category="paragraph">在添加存储节点以增加元数据容量之前，请查看以下准则和限制：</block>
  <block id="c6d411497c56a01f06162f6fb318c37d" category="list-text">假设有足够的对象存储容量可用，则为对象元数据提供更多的可用空间将增加可存储在 StorageGRID 系统中的对象数量。</block>
  <block id="0c35de0d20f0e3e75b829f83a715dd96" category="list-text">您可以通过向每个站点添加一个或多个存储节点来增加网格的元数据容量。</block>
  <block id="8716415b064460c2f9a70406c56dbd8d" category="list-text">在任何给定存储节点上为对象元数据预留的实际空间取决于元数据预留空间存储选项（系统范围设置），分配给节点的 RAM 量以及节点卷 0 的大小。请参见的说明 <block ref="dd980d927a936fff2fa9e281dc8cfb8b" category="inline-xref-macro-rx"></block>。</block>
  <block id="c21659de7f7dad753c0a9eb1caabd0a4" category="list-text">您不能通过向现有存储节点添加存储卷来增加元数据容量，因为元数据仅存储在卷 0 上。</block>
  <block id="d7f216a08c60ab5a6e2c6d48ef3b3bfd" category="list-text">您不能通过添加新站点来增加元数据容量。</block>
  <block id="262ac346f9a35f815590e73dfd3afa50" category="list-text">StorageGRID 会为每个站点上的所有对象元数据保留三个副本。因此，系统的元数据容量受最小站点的元数据容量限制。</block>
  <block id="75a8453c8d40949c42d2c1502f3a6540" category="list-text">在添加元数据容量时，应向每个站点添加相同数量的存储节点。</block>
  <block id="692ce25537fcb95293dc5e9d1a07e702" category="section-title">添加存储节点时如何重新分配元数据</block>
  <block id="1819c4f951312dec6a56c2b7c19d37c6" category="paragraph">在扩展中添加存储节点时， StorageGRID 会将现有对象元数据重新分发到每个站点的新节点，从而增加网格的整体元数据容量。无需用户操作。</block>
  <block id="e1fe838d0e78f6227aa20d5dceb4d092" category="paragraph">下图显示了在扩展中添加存储节点时 StorageGRID 如何重新分发对象元数据。图的左侧表示扩展之前三个存储节点的卷 0 。元数据占用了每个节点可用元数据空间的相对较大部分，并且已触发 "* 低元数据存储 * " 警报。</block>
  <block id="56dff3262bce4f6060e9fdb635a6996b" category="paragraph">图的右侧显示了在向站点添加两个存储节点后如何重新分配现有元数据。每个节点上的元数据数量已减少，不再触发 * 元数据存储不足 * 警报，并且可用于元数据的空间已增加。</block>
  <block id="ce65d0d41263db69f8d7597ce8443295" category="image-alt">扩展后的元数据空间</block>
  <block id="e13c477a6cd13b89c334ef81d8f9f798" category="summary">您可以通过添加其他存储卷来扩展存储卷数量不超过 16 个的存储节点的存储容量。您可能需要将存储卷添加到多个存储节点，以满足对复制的或经过纠删编码的副本的 ILM 要求。</block>
  <block id="846344959768642083beeda8a60a8279" category="doc">将存储卷添加到存储节点</block>
  <block id="09e91e9533de61221745c8e99edc073c" category="inline-xref-macro">添加对象容量的准则</block>
  <block id="20381b44c222b85d35c6a62b34adf676" category="paragraph">在添加存储卷之前，请查看 <block ref="b12de2a645366777680ff44987a22eb8" category="inline-xref-macro-rx"></block> 确保您知道在何处添加卷以满足 ILM 策略的要求。</block>
  <block id="5022b08d57a81c7eeb6b96d70dea7056" category="admonition">这些说明仅适用于基于软件的存储节点。请参见 <block ref="eea91cac238dbc6e478e018061b9c473" category="inline-xref-macro-rx"></block> 了解如何通过安装扩展架向 SG6060 添加存储卷。无法扩展其他设备存储节点。</block>
  <block id="67df416a9b0a49ef4383634e6332c7dc" category="paragraph">存储节点的底层存储分为多个存储卷。存储卷是基于块的存储设备，由 StorageGRID 系统格式化并挂载以存储对象。每个存储节点最多可支持 16 个存储卷，在网格管理器中称为 _object stores_ 。</block>
  <block id="bd236d9d3bcb1d3c04b6cc8eb036653a" category="admonition">对象元数据始终存储在对象存储 0 中。</block>
  <block id="a5f6c2ca086c7266530d1fa443b47f9f" category="paragraph">每个对象存储都挂载在与其 ID 对应的卷上。例如， ID 为 0000 的对象存储对应于 ` /var/local/rangedb/0` 挂载点。</block>
  <block id="631a2b7b5594b31ac84ca1924efe03d5" category="paragraph">在添加新存储卷之前，请使用网格管理器查看每个存储节点的当前对象存储以及相应的挂载点。您可以在添加存储卷时使用此信息。</block>
  <block id="411859b61f863bca601754bb8cf74294" category="list-text">向下滚动以查看每个卷和对象存储的可用存储容量。</block>
  <block id="4c5c934fd746284e434e16f5ea7d4826" category="paragraph">对于设备存储节点，每个磁盘的全球通用名称与在 SANtricity 软件（连接到设备存储控制器的管理软件）中查看标准卷属性时显示的卷全球通用标识符（ WWID ）匹配。</block>
  <block id="b781bd53d7a73b3575bbeefa5085a620" category="paragraph">为了帮助您解释与卷挂载点相关的磁盘读取和写入统计信息，磁盘设备表的 * 名称 * 列（即 _sdc_ ， _sdd_ ， _sde_ 等）中显示的名称的第一部分与卷表的 * 设备 * 列中显示的值匹配。</block>
  <block id="f6e9919728e3aa9aaae30e512c4e9d9e" category="image-alt">节点页面存储表</block>
  <block id="78047792089a189b6ffb57b65b8fb8ae" category="list-text">按照适用于您的平台的说明向存储节点添加新存储卷。</block>
  <block id="f97ca9c9bb94996d5bb185fb211232bc" category="list-text"><block ref="f97ca9c9bb94996d5bb185fb211232bc" category="inline-xref-macro-rx"></block></block>
  <block id="0f8b3d89af76fb5cf38e856bf0c409e0" category="list-text"><block ref="0f8b3d89af76fb5cf38e856bf0c409e0" category="inline-xref-macro-rx"></block></block>
  <block id="9c8b0a2f9386962f3129423f82c0b8e7" category="summary">在安装 StorageGRID 软件之前，请验证并配置硬件，使其可以支持 StorageGRID 系统。</block>
  <block id="9343fbc2bcec61f6ff4fed7daf0efb46" category="doc">CPU 和 RAM 要求</block>
  <block id="dad8a10e26a3b631fec64d8e9feb039e" category="paragraph">有关受支持服务器的信息，请参见互操作性表。</block>
  <block id="800fc327690821e9f056cd9b8af2fe6d" category="paragraph">每个 StorageGRID 节点需要以下最低资源：</block>
  <block id="b86d659161b20616144f0039c1424b4e" category="list-text">CPU 核心：每个节点 8 个</block>
  <block id="bb0e2532196a2b9937ad86fcbd9ea796" category="list-text">RAM ：每个节点至少 24 GB ，比系统总 RAM 少 2 到 16 GB ，具体取决于可用 RAM 总量和系统上运行的非 StorageGRID 软件的数量</block>
  <block id="39e8569a8e9816aaef997dd61cd1c54b" category="paragraph">确保计划在每个物理或虚拟主机上运行的 StorageGRID 节点数不超过可用的 CPU 核心数或物理 RAM 数。如果主机不是专用于运行 StorageGRID 的（不建议使用），请务必考虑其他应用程序的资源要求。</block>
  <block id="e02245a406775b09371471587f079fce" category="admonition">定期监控 CPU 和内存使用情况，以确保这些资源能够持续满足您的工作负载需求。例如，将虚拟存储节点的 RAM 和 CPU 分配增加一倍将提供与为 StorageGRID 设备节点提供的资源类似的资源。此外，如果每个节点的元数据量超过 500 GB ，请考虑将每个节点的 RAM 增加到 48 GB 或更多。有关管理对象元数据存储，增加元数据预留空间设置以及监控 CPU 和内存使用量的信息，请参见有关管理，监控和升级 StorageGRID 的说明。</block>
  <block id="ce3a426c90a57d6cc6ab7028dafe7ea5" category="paragraph">如果在底层物理主机上启用了超线程功能，则可以为每个节点提供 8 个虚拟核心（ 4 个物理核心）。如果底层物理主机上未启用超线程，则必须为每个节点提供 8 个物理核心。</block>
  <block id="ba418964735823a19541da35fff05ec7" category="paragraph">如果要使用虚拟机作为主机并控制 VM 的大小和数量，则应为每个 StorageGRID 节点使用一个 VM 并相应地调整 VM 的大小。</block>
  <block id="d8e6f1df16efdb7fbe36fd7398d42f78" category="paragraph">对于生产部署，不应在同一物理存储硬件或虚拟主机上运行多个存储节点。一个 StorageGRID 部署中的每个存储节点都应位于其各自的隔离故障域中。如果您确保单个硬件故障只会影响单个存储节点，则可以最大限度地提高对象数据的持久性和可用性。</block>
  <block id="babf1091ec4efbe828a97f99a76085cc" category="paragraph">另请参见有关存储要求的信息。</block>
  <block id="775fc274ec9acee8273a8f432dda9e08" category="inline-xref-macro">存储和性能要求</block>
  <block id="8eb49ff9de1e88da5c07bfffdc8bcb86" category="paragraph"><block ref="8eb49ff9de1e88da5c07bfffdc8bcb86" category="inline-xref-macro-rx"></block></block>
  <block id="04042e05ac1e677588b24adde7a89afd" category="inline-xref-macro">升级软件</block>
  <block id="7cd568748b791f2573583bcddeb93278" category="paragraph"><block ref="7cd568748b791f2573583bcddeb93278" category="inline-xref-macro-rx"></block></block>
  <block id="d64ee71e8eac874355326df98090a967" category="summary">您必须为 StorageGRID 系统指定域名系统 \ （ DNS\ ）信息，以便可以使用主机名而非 IP 地址访问外部服务器。</block>
  <block id="944d2acd1b3f8bb806b9db040d1929fc" category="doc">指定域名系统服务器信息</block>
  <block id="2c9e5db13b82d14ca58e66f209293737" category="paragraph">您必须为 StorageGRID 系统指定域名系统（ DNS ）信息，以便可以使用主机名而非 IP 地址访问外部服务器。</block>
  <block id="7d206c8ab9d64d670116e9b469411696" category="paragraph">通过指定 DNS 服务器信息，您可以对电子邮件通知和 AutoSupport 使用完全限定域名（ FQDN ）主机名，而不是 IP 地址。建议至少指定两个 DNS 服务器。</block>
  <block id="27a28516a4e100dbd17a302ce95d6758" category="admonition">为 DNS 服务器提供两到六个 IPv4 地址。您应选择 DNS 服务器，以便在网络隔离时每个站点都可以在本地访问这些服务器。这是为了确保已隔离的站点可以继续访问 DNS 服务。配置网格范围的 DNS 服务器列表后，您可以进一步自定义每个节点的 DNS 服务器列表。有关详细信息，请参见恢复和维护说明中有关修改 DNS 配置的信息。</block>
  <block id="f31634a8be6117570082fcd61ec1c28f" category="paragraph">如果省略 DNS 服务器信息或 DNS 服务器信息配置不正确，则会在每个网格节点的 SSM 服务上触发 DNST 警报。如果 DNS 配置正确且新服务器信息已到达所有网格节点，则警报将清除。</block>
  <block id="c8c5ebdd92d4d419812609d90fa167ee" category="list-text">在 * 服务器 1* 文本框中至少指定一个 DNS 服务器的 IPv4 地址。</block>
  <block id="1fdf10397cbd74c4093e63bc1042e134" category="list-text">如有必要，请选择最后一个条目旁边的加号以添加其他服务器条目。</block>
  <block id="c1c1044228063734edf5ef69529c688f" category="paragraph">最佳实践是至少指定两个 DNS 服务器。最多可以指定六个 DNS 服务器。</block>
  <block id="a3a1eac32c9242efa314ae5d90f16b73" category="summary">您可以使用 VMware vSphere Web Client 将每个网格节点部署为虚拟机。在部署期间，系统会创建每个网格节点并将其连接到一个或多个 StorageGRID 网络。</block>
  <block id="53131c25687ed342cb3be0b5601b976b" category="doc">将 StorageGRID 节点部署为虚拟机</block>
  <block id="327a1d4b7a96dc609e0946deee0b4fe4" category="paragraph">如果需要部署任何 StorageGRID 设备存储节点，请参见该设备的安装和维护说明。</block>
  <block id="066989abfd3c52e582015547cf158642" category="paragraph">您也可以在打开节点电源之前重新映射节点端口或增加节点的 CPU 或内存设置。</block>
  <block id="c26a4ea21ef673e8b92872b926009ef4" category="inline-xref-macro">规划并准备安装</block>
  <block id="c606b8cee937e3791a206f636a974c51" category="list-text">您已查看如何操作 <block ref="10778d06f393226ddfd0ab99f9151a81" category="inline-xref-macro-rx"></block>，您了解软件， CPU 和 RAM 以及存储和性能的要求。</block>
  <block id="bf4fe497c67239efa62a6348de92f7d1" category="list-text">您熟悉 VMware vSphere 虚拟机管理程序，并具有在此环境中部署虚拟机的经验。</block>
  <block id="956eaef9a314dc319a925b86d66632cc" category="admonition">StorageGRID 虚拟机附带了 `open-vm-tools` 软件包，该软件包是一种类似于 VMware Tools 的开源实施方案。您无需手动安装 VMware Tools 。</block>
  <block id="da2f935b085b4e19a2401083d4dc82d6" category="list-text">您已下载并提取适用于 VMware 的正确版本的 StorageGRID 安装归档。</block>
  <block id="b503109b16b2be5c363d7a6425ef89fb" category="admonition">如果要在扩展或恢复操作中部署新节点，则必须使用网格上当前运行的 StorageGRID 版本。</block>
  <block id="abb4f967f7bf4861c7b14453527eb5f6" category="list-text">您已有 StorageGRID 虚拟机磁盘（` .vmdk` ）文件：</block>
  <block id="ca1295ce3552a4cc52a22977b56e3c5e" category="list-text">您已为要部署的每种网格节点配置了 ` .OVF` 和 ` .MF` 文件：</block>
  <block id="9b1255dba2a11971fca5af46c5d4cc3f" category="cell">vsphere-primary-admin.OVF vsphere-primary-admin.mf</block>
  <block id="c659f41ec9050fb9045e973882782c1f" category="paragraph">主管理节点的模板文件和清单文件。</block>
  <block id="232916f2247ec2712de9ae31b7127243" category="cell">vsphere-non-primary-admin.OVF vsphere-non-primary-admin.mf</block>
  <block id="ec17bec00caae5dc291ddc72b9847726" category="paragraph">非主管理节点的模板文件和清单文件。</block>
  <block id="0c982506abeddfbd13298e85463692e8" category="cell">vsphere-archive.OVF vsphere-archive.mf</block>
  <block id="a262823c1a0e73c80409e2a5dd8cc47f" category="paragraph">归档节点的模板文件和清单文件。</block>
  <block id="579382187f9d2249b56019e791561cb3" category="cell">vsphere-gateway.OVF vsphere-gateway.mf</block>
  <block id="805947fc44d500a25e4e69a8b19bee8a" category="paragraph">网关节点的模板文件和清单文件。</block>
  <block id="6c69902ce691f14ac098268869f9e5f4" category="cell">vsphere-storage.OVF vsphere-storage.mf</block>
  <block id="af277787dff4d943648daafa27799a2d" category="paragraph">存储节点的模板文件和清单文件。</block>
  <block id="9553f425ad78422f2ede9da883bfad2f" category="list-text">` .vdmk` ， ` .OVF` 和 ` .MF` 文件均位于同一目录中。</block>
  <block id="ce73be053ee7162e77bc4e1a99879d8a" category="list-text">您计划最大限度地减少故障域。例如，不应将所有网关节点部署在一个虚拟机服务器上。</block>
  <block id="fed0f56549c0584a2516f05d4cefbddb" category="admonition">在生产部署中，请勿在一个虚拟机服务器上运行多个存储节点。对每个存储节点使用专用虚拟机主机可提供一个隔离的故障域。</block>
  <block id="3a9ce5c7b0f2b8fd5b2e8e2e8c93cef6" category="inline-xref-macro">有关扩展 StorageGRID 系统的说明</block>
  <block id="b69814d291f0c71f5d5f249cea27409a" category="inline-xref-macro">恢复和维护说明</block>
  <block id="5299341676e61ca5a2aa06b52298628a" category="list-text">如果要在扩展或恢复操作中部署节点，则可以使用 <block ref="7f40b7ef15bfcc3af1c06d8ce4f93486" category="inline-xref-macro-rx"></block> 或 <block ref="19b11cf95ca2d99c2c66bb7262096ff3" category="inline-xref-macro-rx"></block>。</block>
  <block id="bbfd680fc675d19f8264962a1986705c" category="list-text">如果您要将 StorageGRID 节点部署为虚拟机，并从 NetApp AFF 系统分配存储，则表示您已确认卷未启用 FabricPool 分层策略。例如，如果 StorageGRID 节点在 VMware 主机上作为虚拟机运行，请确保为该节点的数据存储库提供支持的卷未启用 FabricPool 分层策略。对 StorageGRID 节点使用的卷禁用 FabricPool 分层可简化故障排除和存储操作。</block>
  <block id="0dd5826746f0482900a569dba723915a" category="admonition">切勿使用 FabricPool 将与 StorageGRID 相关的任何数据分层回 StorageGRID 本身。将 StorageGRID 数据分层回 StorageGRID 会增加故障排除和操作复杂性。</block>
  <block id="9cc68c450e8eeae0ebc7e04fb0d0d9b2" category="paragraph">按照以下说明开始部署 VMware 节点，在扩展中添加新的 VMware 节点或在恢复操作中更换 VMware 节点。除步骤中所述外，所有节点类型的节点部署操作步骤 均相同，包括管理节点，存储节点，网关节点和归档节点。</block>
  <block id="622e8af2db9cadd8acfc8a0c43a480e0" category="paragraph">如果要安装新的 StorageGRID 系统：</block>
  <block id="aefc2b6c8c993ad0691a6f4c97f6d897" category="list-text">在部署任何其他网格节点之前，必须先部署主管理节点。</block>
  <block id="c221dc7a9a03b811001864b28bd40744" category="list-text">您必须确保每个虚拟机均可通过网格网络连接到主管理节点。</block>
  <block id="ca3fea1c05e8ddabc1903c291d63becb" category="list-text">在配置网格之前，必须部署所有网格节点。</block>
  <block id="e66675e36530e0683bd268544faa22b7" category="paragraph">如果要执行扩展或恢复操作：</block>
  <block id="a193cf3fc132836d7691c7f1066109e3" category="list-text">您必须确保新虚拟机可以通过网格网络连接到主管理节点。</block>
  <block id="9605c3da9e8fa047162533a146a5c92e" category="paragraph">如果您需要重新映射节点的任何端口，请勿打开新节点的电源，直到端口重新映射配置完成为止。</block>
  <block id="be171508a5203115be1b43e91a713c63" category="list-text">使用 vCenter 部署 OVF 模板。</block>
  <block id="bdca978066094c7b834ea4868bf7f7a9" category="paragraph">如果指定 URL ，请指向包含以下文件的文件夹。否则，请从本地目录中选择其中每个文件。</block>
  <block id="ce96a43f51bfb46902b5730e58c88940" category="paragraph">例如，如果这是要部署的第一个节点，请使用以下文件为 StorageGRID 系统部署主管理节点：</block>
  <block id="852efc4490cd812a3105d41e53b3eb60" category="list-text">提供虚拟机的名称。</block>
  <block id="2be02271b52660485290839e6a914249" category="paragraph">标准做法是，对虚拟机和网格节点使用相同的名称。</block>
  <block id="04ea3d5f21c6e07fe9a27fdd68ede8b8" category="list-text">将虚拟机放置在相应的 vApp 或资源池中。</block>
  <block id="89ea18bb492352071679851896cb7bc4" category="list-text">如果要部署主管理节点，请阅读并接受最终用户许可协议。</block>
  <block id="63fca13ee404c5111d4aa4cf0acc0ece" category="paragraph">根据您的 vCenter 版本，在接受最终用户许可协议，指定虚拟机名称以及选择数据存储库方面，步骤顺序会有所不同。</block>
  <block id="3361bfc06d526f3b43802d2e05d28e01" category="list-text">为虚拟机选择存储。</block>
  <block id="cf829dba5ee04f37723ffe19bc2e1884" category="inline-xref">存储恢复步骤</block>
  <block id="99058cf528e73f9c8c47138418988c57" category="paragraph">如果要在恢复操作中部署节点，请执行中的说明 <block ref="e7e132a534c194d1f6b196f47bde7a83" category="inline-xref-macro-rx"></block> 要添加新的虚拟磁盘，请从故障网格节点重新连接虚拟硬盘，或者同时从这两个节点重新连接虚拟硬盘。</block>
  <block id="c0781d31bdcbf42e9eca09a9c7e84923" category="paragraph">部署存储节点时，请使用 3 个或更多存储卷，每个存储卷的容量为 4 TB 或更大。您必须至少为卷 0 分配 4 TB 。</block>
  <block id="922649bb795d9e5e06fd9a2e64621bfb" category="admonition">存储节点 .OVF 文件为存储定义了多个 VMDK 。除非这些 VMDK 满足您的存储要求，否则应先将其删除，并为存储分配适当的 VMDK 或 RDM ，然后再启动节点。VMDK 在 VMware 环境中更常用，并且更易于管理，而 RDM 则可以为使用较大对象大小（例如大于 100 MB ）的工作负载提供更好的性能。</block>
  <block id="abff81b9eee32687ed0193dd667e314c" category="admonition">某些 StorageGRID 安装可能会使用比典型虚拟化工作负载更大，更活跃的存储卷。要获得最佳性能，您可能需要调整某些虚拟机管理程序参数，例如 `MaxAddressableSpaceTB` 。如果遇到性能不佳的问题，请联系虚拟化支持资源，以确定您的环境是否可以从特定于工作负载的配置调整中受益。</block>
  <block id="c45f9e290241ad57fa59fc9b1ccdded8" category="list-text">选择网络。</block>
  <block id="110950956515915552fe6f3ddd2d488a" category="paragraph">通过为每个源网络选择一个目标网络来确定节点要使用的 StorageGRID 网络。</block>
  <block id="ceb1a2e5da8a5778115100a3f9009335" category="list-text">网格网络为必填项。您必须在 vSphere 环境中选择目标网络。</block>
  <block id="183b5459288ee9e32708e3a59d4e9b79" category="list-text">如果使用管理网络，请在 vSphere 环境中选择其他目标网络。如果不使用管理网络，请选择为网格网络选择的同一目标。</block>
  <block id="f2e1f8193ed8a96eecd5712229478b67" category="list-text">如果您使用客户端网络，请在 vSphere 环境中选择其他目标网络。如果不使用客户端网络，请选择为网格网络选择的同一目标。</block>
  <block id="80c0cb73cf10170a5bdff3968b6a5f4c" category="list-text">在 * 自定义模板 * 下，配置所需的 StorageGRID 节点属性。</block>
  <block id="26bf8e98f81f64f63c7c4b920a11109b" category="list-text">输入 * 节点名称 * 。</block>
  <block id="8f21eb220a7372295d9c83fe76867b16" category="admonition">如果要恢复网格节点，则必须输入要恢复的节点的名称。</block>
  <block id="3244866987f6c3920f1a401ab01f11b1" category="list-text">在 * 网格网络（ eth0 ） * 部分中，为 * 网格网络 IP 配置 * 选择静态或 DHCP 。</block>
  <block id="a4e7465855570894af33b5851086107b" category="list-text">如果选择静态，请输入 * 网格网络 IP* ， * 网格网络掩码 * ， * 网格网络网关 * 和 * 网格网络 MTU* 。</block>
  <block id="6b89a348b4012592ce4d5e73fab689a7" category="list-text">如果选择 DHCP ，则会自动分配 * 网格网络 IP* ， * 网格网络掩码 * 和 * 网格网络网关 * 。</block>
  <block id="e99ad6b91b5f22931054e619af386aad" category="list-text">在 * 主管理 IP* 字段中，输入网格网络的主管理节点的 IP 地址。</block>
  <block id="5313050b48652c272c573852614b388f" category="admonition">如果要部署的节点是主管理节点，则此步骤不适用。</block>
  <block id="896b575889008ca970a1065ea3ea4500" category="paragraph">如果省略主管理节点 IP 地址，则如果主管理节点或至少一个配置了 admin_ip 的其他网格节点位于同一子网上，则会自动发现此 IP 地址。但是，建议在此处设置主管理节点 IP 地址。</block>
  <block id="e5bdddcfa19c473a2ec4222c1496179d" category="list-text">在 * 管理网络（ eth1 ） * 部分中，为 * 管理网络 IP 配置 * 选择静态， DHCP 或禁用。</block>
  <block id="0d0126ec223d24b731a86a9397cdfffc" category="list-text">如果不想使用管理网络，请选择 disabled 并为管理网络 IP 输入 * 。 0.0.0.0* 。您可以将其他字段留空。</block>
  <block id="7a1a28cbf0723643a494b9b45daa873c" category="list-text">如果选择 static ，请输入 * 管理网络 IP* ， * 管理网络掩码 * ， * 管理网络网关 * 和 * 管理网络 MTU* 。</block>
  <block id="a6fe3a0d5030df3bfc44a4d5f63387d9" category="list-text">如果选择 static ，请输入 * 管理网络外部子网列表 * 。您还必须配置网关。</block>
  <block id="d4f16909590575591653906f176e41f4" category="list-text">如果选择 DHCP ，则会自动分配 * 管理网络 IP* ， * 管理网络掩码 * 和 * 管理网络网关 * 。</block>
  <block id="56c9d81c674335b01b9db76c0a84f9af" category="list-text">在 * 客户端网络（ eth2 ） * 部分中，为 * 客户端网络 IP 配置 * 选择静态， DHCP 或禁用。</block>
  <block id="9fa2451cf4159be0739c6aa1a9b3c9ba" category="list-text">如果不想使用客户端网络，请选择 disabled 并为客户端网络 IP 输入 * 。 0.0.0.0* 。您可以将其他字段留空。</block>
  <block id="73f77a9ddf6df8c54bf5787ceb595bda" category="list-text">如果选择 static ，请输入 * 客户端网络 IP* ， * 客户端网络掩码 * ， * 客户端网络网关 * 和 * 客户端网络 MTU* 。</block>
  <block id="d660a6c462aab998e1eb90e99443cfeb" category="list-text">如果选择 DHCP ，则会自动分配 * 客户端网络 IP* ， * 客户端网络掩码 * 和 * 客户端网络网关 * 。</block>
  <block id="39f8034db79422773ec588bd9a4659de" category="list-text">查看虚拟机配置并进行必要的更改。</block>
  <block id="474061993ccce4e0ed8c9af47baf39e3" category="list-text">准备好完成后，选择 * 完成 * 以开始上传虚拟机。</block>
  <block id="09db7c1d4716d9eb70657c28063ea79e" category="list-text">如果您在恢复操作中部署了此节点，而此节点不是全节点恢复，请在部署完成后执行以下步骤：</block>
  <block id="b49becd99132d23d655ab6701799affd" category="list-text">右键单击虚拟机，然后选择 * 编辑设置 * 。</block>
  <block id="6e2ec475c41b8633f6a2535a6f4e343a" category="list-text">选择已指定用于存储的每个默认虚拟硬盘，然后选择 * 删除 * 。</block>
  <block id="8e01e49dcb843ec604d5e302b2a45d64" category="list-text">根据您的数据恢复情况，根据您的存储要求添加新的虚拟磁盘，重新连接从先前删除的故障网格节点中保留的任何虚拟硬盘，或者同时重新连接这两者。</block>
  <block id="0f212e6b8dfe0e9623a7b456b2396a54" category="paragraph">请注意以下重要准则：</block>
  <block id="cb23684745b183bca5603442ac7cbe5f" category="list-text">如果要添加新磁盘，则应使用节点恢复之前使用的相同类型的存储设备。</block>
  <block id="7b58b64021be5acf425bf36ae04a56af" category="list-text">存储节点 .OVF 文件为存储定义了多个 VMDK 。除非这些 VMDK 满足您的存储要求，否则应先将其删除，并为存储分配适当的 VMDK 或 RDM ，然后再启动节点。VMDK 在 VMware 环境中更常用，并且更易于管理，而 RDM 则可以为使用较大对象大小（例如大于 100 MB ）的工作负载提供更好的性能。</block>
  <block id="6fec86eb93bfa8d928d2653b1865628b" category="list-text">如果需要重新映射此节点使用的端口，请按照以下步骤进行操作。</block>
  <block id="30847bac05180ca6d63398f23de0ee83" category="inline-xref-macro">网络连接准则</block>
  <block id="fcb0b2057dcb55f353e589f7d923ec08" category="paragraph">如果企业网络策略限制对 StorageGRID 使用的一个或多个端口的访问，则可能需要重新映射端口。请参见 <block ref="42a0c958dec702bbca9c8e76dc672a8c" category="inline-xref-macro-rx"></block> 用于 StorageGRID 使用的端口。</block>
  <block id="cd5734c373f57add78cbcdba816b6eea" category="admonition">请勿重新映射负载平衡器端点中使用的端口。</block>
  <block id="c3bbdb0a3b2c629be84876e8c72997cb" category="list-text">选择新虚拟机。</block>
  <block id="10401035c8731f346165fe3fa78f35d9" category="list-text">从配置选项卡中，选择 * 设置 * &gt; * vApp 选项 * 。* vApp Options* 的位置取决于 vCenter 的版本。</block>
  <block id="b613ddf88494fd9ccecd2936c14e1095" category="list-text">在 * 属性 * 表中，找到 port_remap_inbound 和 port_remap 。</block>
  <block id="464d4c10412f24ef2763668371b93de9" category="list-text">要对称映射端口的入站和出站通信，请选择 * 端口重新映射 * 。</block>
  <block id="250f24433bcc07d3c67c117eeff2ccd3" category="admonition">如果仅设置 port_remap ，则表示您指定的适用场景 入站和出站通信映射。如果同时指定 port_remap_inbound ， port_remap 将仅应用于出站通信。</block>
  <block id="ce562ef80c42b0e584195168a1f39382" category="list-text">滚动回表顶部，然后选择 * 编辑 * 。</block>
  <block id="88c92cee190d80886605dea11553a45c" category="list-text">在类型选项卡上，选择 * 用户可配置 * ，然后选择 * 保存 * 。</block>
  <block id="10e73471b6ccd0b45f340ed67b46766f" category="list-text">选择 * 设置值 * 。</block>
  <block id="52e66620d02a08dc4f567539fd7c5ac6" category="list-text">输入端口映射：</block>
  <block id="aeb235f842b07bd53def7a46e4e98f56" category="paragraph">` &lt; 网络类型 &gt;` 是网格，管理员或客户端， ` &lt; 协议 &gt;` 是 TCP 或 UDP 。</block>
  <block id="7d78b25a4b757f931ab1f7c1f6acc05c" category="paragraph">例如，要将 ssh 流量从端口 22 重新映射到端口 3022 ，请输入：</block>
  <block id="3d1c64d2c8b1e4058225a78c3ef09fa6" category="list-text">选择 * 确定 * 。</block>
  <block id="27590a1da6af3bfab3ea1eadfea53346" category="list-text">要指定用于与节点的入站通信的端口，请选择 * 端口重新映射 _inbound* 。</block>
  <block id="98e74ade10bf3835b07e97acd0771fd0" category="admonition">如果指定 port_remap_inbound 且不指定 port_remap 的值，则端口的出站通信将保持不变。</block>
  <block id="8957a76f4c507c7d9005c95240bba0a7" category="paragraph">例如，要重新映射发送到端口 3022 的入站 SSH 流量，以便网格节点在端口 22 接收此流量，请输入以下内容：</block>
  <block id="f1acb35ebcaf4d4649bf230f7054a4d9" category="list-text">选择 * 确定 *</block>
  <block id="4d18667e9793b85e1002fc0f69db68e5" category="list-text">如果要从默认设置中增加节点的 CPU 或内存：</block>
  <block id="225c523eb3429e45e6eec336fc76b7dd" category="list-text">根据需要更改 CPU 数量或内存量。</block>
  <block id="09776f345a93d1c4b5298c5abdcfd950" category="paragraph">将 * 内存预留 * 设置为与分配给虚拟机的 * 内存 * 大小相同的大小。</block>
  <block id="7dfe435e9b351d5268743823071eb107" category="list-text">启动虚拟机。</block>
  <block id="06079c5a1aff9a20699e9edddedfca0c" category="paragraph">如果将此节点部署为扩展或恢复操作步骤 的一部分，请返回到这些说明以完成此操作步骤 。</block>
  <block id="7cb6f930085f383742a2d8305a49c894" category="summary">您必须先批准每个网格节点，然后才能将其加入 StorageGRID 系统。</block>
  <block id="f0f514dbb09f4d2c0f2f9870207e96c6" category="doc">批准待定网格节点</block>
  <block id="1d74e2f5529f9a30877dca1f2b3743b9" category="paragraph">您已部署所有虚拟设备和 StorageGRID 设备网格节点。</block>
  <block id="25f24b7146419854c744ea02cecb80bd" category="admonition">对所有节点执行一次安装比现在安装某些节点以及稍后安装某些节点更高效。</block>
  <block id="6f4cc156e1010169831a539fa6eb2c5c" category="list-text">查看 Pending Nodes 列表，并确认它显示了您部署的所有网格节点。</block>
  <block id="7c951940460cb5a69814008e4999fb1e" category="list-text">选择要批准的待定节点旁边的单选按钮。</block>
  <block id="4a787029148683e3f2493463b8721eca" category="list-text">单击 * 批准 * 。</block>
  <block id="dbac5a062db2997159ccda7bce6ea839" category="list-text">在常规设置中，根据需要修改以下属性的设置：</block>
  <block id="f5c9c79f03a6601abfb6b3f9b7058730" category="list-text">* 站点 * ：要与此网格节点关联的站点的名称。</block>
  <block id="4793856b56719c95acdd6b512a0a203b" category="list-text">* 名称 * ：分配给节点的名称以及将在网格管理器中显示的名称。此名称默认为您在配置节点时指定的名称。在安装过程的此步骤中，您可以根据需要更改名称。</block>
  <block id="43388676bc57de618aea2f8bea6f101b" category="admonition">完成安装后，您将无法更改节点的名称。</block>
  <block id="34804056c19a7a14faf519fd7b87a014" category="admonition">对于 VMware 节点，您可以在此处更改名称，但此操作不会更改 vSphere 中虚拟机的名称。</block>
  <block id="0ed40e8668fec5279bdfc94bbcff4f1c" category="list-text">* ADC* 服务 * （仅限存储节点）：选择 * 自动 * ，让系统确定节点是否需要管理域控制器（ ADC* ）服务。此 ADA 服务可跟踪网格服务的位置和可用性。每个站点至少有三个存储节点必须包含此 ADC-Service 。在部署此节点后，您不能将此 ADC 服务添加到该节点中。</block>
  <block id="dccf09ac6ad1ef917b6b9afe9514d90c" category="list-text">在网格网络中，根据需要修改以下属性的设置：</block>
  <block id="4b59908044e2206992270c8a802b0804" category="list-text">* IPv4 地址（ CIDR ） * ：网格网络接口（容器中的 eth0 ）的 CIDR 网络地址。例如： 192.168.1.234/21</block>
  <block id="fce0a9c633355b798df4ebe4412110c7" category="list-text">* 网关 * ：网格网络网关。例如： 192.168.0.1</block>
  <block id="9c58c0b922e3ba55d5dcf610cb5305d6" category="admonition">如果存在多个网格子网，则需要使用网关。</block>
  <block id="e18b44f93a97f5aec1d047dbe6e93091" category="admonition">如果您为网格网络配置选择了 DHCP 并在此更改了值，则新值将配置为节点上的静态地址。您必须确保生成的 IP 地址不在 DHCP 地址池中。</block>
  <block id="d1b8f8ac0b3119eeb6ea110a4db884e9" category="list-text">如果要为网格节点配置管理网络，请根据需要在管理网络部分中添加或更新设置。</block>
  <block id="09dfce237e2714e0327d9e27891a8445" category="paragraph">在 * 子网（ CIDR ） * 文本框中输入从此接口路由的目标子网。如果存在多个管理子网，则需要使用管理网关。</block>
  <block id="5dd774dcbf22540f2200b818366b14a0" category="admonition">如果您为管理网络配置选择了 DHCP 并在此更改了值，则新值将配置为节点上的静态地址。您必须确保生成的 IP 地址不在 DHCP 地址池中。</block>
  <block id="5aa7e189f2b1947deceedc18ca7880ee" category="paragraph">* 设备： * 对于 StorageGRID 设备，如果在初始安装期间未使用 StorageGRID 设备安装程序配置管理网络，则无法在此网格管理器对话框中进行配置。而是必须执行以下步骤：</block>
  <block id="26d3cd377b1dae83774d756f08cac070" category="list-text">重新启动设备：在设备安装程序中，选择 * 高级 * &gt; * 重新启动 * 。</block>
  <block id="54345591a2a9c83a0c2b8dce80187304" category="paragraph">重新启动可能需要几分钟时间。</block>
  <block id="ee95225e58e65a8fc732e9a8c670fc27" category="list-text">选择 * 配置网络 * &gt; * 链路配置 * 并启用相应的网络。</block>
  <block id="5f86308a46b3aab7600faa933c77cab0" category="list-text">选择 * 配置网络 * &gt; * IP 配置 * 并配置已启用的网络。</block>
  <block id="fd2992d9d69b8193c2284e0d09217bce" category="list-text">返回主页页面，然后单击 * 开始安装 * 。</block>
  <block id="23bd28d2567a16c9c72c983aa655814d" category="list-text">在网格管理器中：如果节点列在 "Approved Nodes" 表中，请重置节点。</block>
  <block id="3d2c59ec12887cdc97b00750aeeaabb6" category="list-text">从 Pending Nodes 表中删除此节点。</block>
  <block id="027e46cb168820f106f0f136bf234c26" category="list-text">等待节点重新出现在 "Pending Nodes" 列表中。</block>
  <block id="f75939c0f754381d5b48d3e5b4cc165a" category="list-text">确认您可以配置适当的网络。它们应已填充您在 IP 配置页面上提供的信息。</block>
  <block id="02c70f525350451130e6ddc89849b2ff" category="paragraph">对于追加信息 ，请参见适用于您的设备型号的安装和维护说明。</block>
  <block id="1c65647ba3735d34d6610a116f92e3bf" category="list-text">如果要为网格节点配置客户端网络，请根据需要在客户端网络部分中添加或更新设置。如果配置了客户端网络，则需要使用网关，安装后，它将成为节点的默认网关。</block>
  <block id="7663082625de8ba3e0097bbad1cf1226" category="admonition">如果您为客户端网络配置选择了 DHCP 并在此更改了值，则新值将配置为节点上的静态地址。您必须确保生成的 IP 地址不在 DHCP 地址池中。</block>
  <block id="13f3ddeeb1f4d2d265361b54917ad5d0" category="paragraph">* 设备： * 对于 StorageGRID 设备，如果在初始安装期间未使用 StorageGRID 设备安装程序配置客户端网络，则无法在此网格管理器对话框中进行配置。而是必须执行以下步骤：</block>
  <block id="09fa156dfe82f63ca70df8ea174d2a7b" category="paragraph">对于追加信息 ，请参见适用于您的设备的安装和维护说明。</block>
  <block id="386d5c5da479a7b019ea443e21f3a909" category="paragraph">网格节点条目将移至 "Approved Nodes" 列表。</block>
  <block id="b523ebb86e8ba723ed58e2aee52460ab" category="paragraph">您必须批准网格中所需的所有节点。但是，在单击 " 摘要 " 页面上的 * 安装 * 之前，您可以随时返回此页面。您可以通过选择已批准的网格节点的单选按钮并单击 * 编辑 * 来修改其属性。</block>
  <block id="0732a2e5a48133c3c5565a5e4fd00844" category="list-text">批准完网格节点后，单击 * 下一步 * 。</block>
  <block id="1c914aa071d71e411e70aff2d0f86e7b" category="summary">完成安装后，您必须执行一系列集成和配置步骤。某些步骤是必需的；其他步骤是可选的。</block>
  <block id="3163b3d4dc92f42d04ad4c79906dcdc3" category="doc">下一步行动</block>
  <block id="075278e20afdeb817eca5fb5dee235cd" category="section-title">所需任务</block>
  <block id="ff886cdf237f3f7f3030e719394ff044" category="list-text">配置 VMware vSphere 虚拟机管理程序以自动重新启动。</block>
  <block id="51b363c1bb2300c82ae6f4278cd08cd8" category="paragraph">您必须将虚拟机管理程序配置为在服务器重新启动时重新启动虚拟机。如果不自动重新启动，虚拟机和网格节点将在服务器重新启动后保持关闭状态。有关详细信息，请参见 VMware vSphere 虚拟机管理程序文档。</block>
  <block id="38fac9f615c18f56d7a8f1c833ac0e54" category="list-text">为要用于在 StorageGRID 系统上存储对象的每个客户端协议（ Swift 或 S3 ）创建一个租户帐户。</block>
  <block id="085f5d55b0237394c38deb0d497ad91e" category="list-text">通过配置组和用户帐户来控制系统访问。您也可以配置联合身份源（例如 Active Directory 或 OpenLDAP ），以便导入管理组和用户。或者，您也可以创建本地组和用户。</block>
  <block id="b6b769e91080f562fdbde08c241e7a1d" category="list-text">集成并测试用于将对象上传到 StorageGRID 系统的 S3 或 Swift API 客户端应用程序。</block>
  <block id="0f1c7a2e881accd97a30ad1376e4e348" category="list-text">准备好后，配置要用于保护对象数据的信息生命周期管理（ ILM ）规则和 ILM 策略。</block>
  <block id="a0ba59c28447d77b6fcfa9f24cb3ba87" category="admonition">安装 StorageGRID 时，默认 ILM 策略 " 基线 2 副本策略 " 处于活动状态。此策略包括常用 ILM 规则（创建 2 个副本），如果未激活任何其他策略，则此策略适用。</block>
  <block id="82d63a801e351089fcc2976b77eb3a21" category="list-text">如果您的安装包括设备存储节点，请使用 SANtricity 软件完成以下任务：</block>
  <block id="99e98224f067836678865551c463cc99" category="list-text">连接到每个 StorageGRID 设备。</block>
  <block id="0d706e7ee78f8a99e4be460985ecd36d" category="list-text">验证是否收到 AutoSupport 数据。</block>
  <block id="3befcc02e8f6146358e014a0b7dae5e3" category="list-text">如果 StorageGRID 系统包含任何归档节点，请配置归档节点与目标外部归档存储系统的连接。</block>
  <block id="ee22fe54a0cc1286090686cc68d834d8" category="admonition">如果任何归档节点将使用 Tivoli Storage Manager 作为外部归档存储系统，则还必须配置 Tivoli Storage Manager 。</block>
  <block id="9eea683eccb75fffff5d19e1844cf005" category="list-text">查看并遵循 StorageGRID 系统强化准则，以消除安全风险。</block>
  <block id="a29384b49b2f4c5db9824af85cf17f99" category="list-text">为系统警报配置电子邮件通知。</block>
  <block id="8d29bbdd670adec2ea829a8c0dd0bd81" category="section-title">可选任务</block>
  <block id="3d6851615b395a4844fb928b585f4238" category="list-text">如果要从（原有）警报系统接收通知，请配置警报的邮件列表和电子邮件通知。</block>
  <block id="9d3e04719f01e45bf1853c7f2dcf02ab" category="list-text">如果自规划部署并生成恢复包以来网格节点 IP 地址发生了更改，请更新这些地址。请参见恢复和维护说明中有关更改 IP 地址的信息。</block>
  <block id="b7b90c94e0dd4997e65881a6bb43e9eb" category="list-text">根据需要配置存储加密。</block>
  <block id="e8868d243018dc534932ec1e61626fd7" category="list-text">如果需要，配置存储压缩以减小存储对象的大小。</block>
  <block id="fce9a09d5a3c8d989dda9e793e793271" category="list-text">配置审核客户端访问。您可以通过 NFS 或 CIFS 文件共享配置对系统的访问，以供审核使用。请参见有关管理 StorageGRID 的说明。</block>
  <block id="925e28e2f338c8314615c67e7ef5a642" category="inline-xref-macro">使用 Swift</block>
  <block id="d58c67d46a026d8270f33eafb853581f" category="paragraph"><block ref="d58c67d46a026d8270f33eafb853581f" category="inline-xref-macro-rx"></block></block>
  <block id="5143f9b7656d191fdc2d9db2e1591b49" category="paragraph"><block ref="5143f9b7656d191fdc2d9db2e1591b49" category="inline-xref-macro-rx"></block></block>
  <block id="860257b121b7faf23e19368717ffa4e1" category="inline-xref-macro">系统强化</block>
  <block id="c181c5ba446f2502c53b5e542c0bf323" category="paragraph"><block ref="c181c5ba446f2502c53b5e542c0bf323" category="inline-xref-macro-rx"></block></block>
  <block id="6678ff9ab033a73c5956a0530afa2bed" category="paragraph"><block ref="6678ff9ab033a73c5956a0530afa2bed" category="inline-xref-macro-rx"></block></block>
  <block id="20a07445e493604d7e785be995bbd270" category="summary">您必须仔细查看输入的配置信息，以确保安装成功完成。</block>
  <block id="9d6fe38c7ad959d5754500d24c1a8ecc" category="doc">查看您的配置并完成安装</block>
  <block id="39b63e803f4622c2710f777e90434531" category="list-text">查看 * 摘要 * 页面。</block>
  <block id="70867530d0ed30a2bbf85c83e2f0b7ed" category="image-alt">网格管理器安装程序摘要页面</block>
  <block id="08000e8c53acc4995c5cdb96bd31ada5" category="list-text">验证所有网格配置信息是否正确。使用摘要页面上的修改链接返回并更正任何错误。</block>
  <block id="f19e5d93360a2cdbfe64b6c513e8d263" category="list-text">单击 * 安装 * 。</block>
  <block id="3348a86a015e89922cfd8d5c6287795b" category="admonition">如果将某个节点配置为使用客户端网络，则在单击 * 安装 * 时，该节点的默认网关会从网格网络切换到客户端网络。如果连接断开，则必须确保通过可访问的子网访问主管理节点。请参见 <block ref="e1bf2b8082914814aefb3dd546569f4d" category="inline-xref-macro-rx"></block> 了解详细信息。</block>
  <block id="64a7b90f4ea448f2f06dffb1a24f9913" category="list-text">单击 * 下载恢复包 * 。</block>
  <block id="3e623e07d48817de0ac909a377c053df" category="paragraph">当安装过程进展到定义网格拓扑时，系统会提示您下载恢复包文件（` .zip` ），并确认您可以成功访问此文件的内容。您必须下载恢复软件包文件，以便在一个或多个网格节点出现故障时恢复 StorageGRID 系统。安装将在后台继续进行，但您无法完成安装并访问 StorageGRID 系统，直到下载并验证此文件为止。</block>
  <block id="f00023b3eba082b13c3fefefd80f1b90" category="list-text">验证您是否可以提取 ` .zip` 文件的内容，然后将其保存在两个安全，安全和独立的位置。</block>
  <block id="4b77eb21bf6cb71e13f817f52e3fc024" category="list-text">选中 * 我已成功下载并验证恢复软件包文件 * 复选框，然后单击 * 下一步 * 。</block>
  <block id="1ee0ce83fbb9eebc000f6f51e6aa0429" category="paragraph">如果安装仍在进行中，则会显示状态页面。此页面指示每个网格节点的安装进度。</block>
  <block id="710c44129dbb13023b808350acdecf85" category="paragraph">当所有网格节点达到完成阶段后，将显示网格管理器的登录页面。</block>
  <block id="3844ba91777ff76f1d2c4a55bf4475d8" category="list-text">使用 "`root` " 用户和您在安装期间指定的密码登录到网格管理器。</block>
  <block id="06477c6b7dbf06a6980bfcd667e350be" category="summary">在安装 StorageGRID 之前，您必须收集并准备所需的材料。</block>
  <block id="740c66652a620deb0a978d18f9933348" category="doc">所需材料</block>
  <block id="3e6acee05658cd9e2827870fc60b19a6" category="paragraph">NetApp StorageGRID 许可证</block>
  <block id="9d95e961e8c49816de3ce149c6d7feb6" category="paragraph">您必须具有有效的数字签名 NetApp 许可证。</block>
  <block id="ee23da387ef2018b0b98b5cc309e8ba4" category="paragraph">* 注意 * ： StorageGRID 安装归档包含一个免费许可证，不提供产品的任何支持授权。</block>
  <block id="452112f9ace341fbe51e87a6124d871f" category="inline-xref-macro">下载 StorageGRID 安装归档并解压缩文件</block>
  <block id="548ab0f9a2003d8d40fd67218cb1fb17" category="paragraph">您必须 <block ref="0a00b2027a079f99d1c37f9804443a77" category="inline-xref-macro-rx"></block>。</block>
  <block id="5bf92cdac6608c5c707411debdc41cb3" category="paragraph">VMware 软件和文档</block>
  <block id="7ecb9ece4e4d10be9d8b3f6ead3a93ec" category="paragraph">在安装期间，您可以使用 VMware vSphere Web Client 在虚拟机上部署虚拟网格节点。有关支持的版本，请参见互操作性表。</block>
  <block id="db102180763cca28e804a4fb0f24e59d" category="paragraph">StorageGRID 系统通过服务组件进行安装服务笔记本电脑必须具有：</block>
  <block id="d120112d443c2317cccbbb5967331bed" category="inline-xref-macro">有关管理 StorageGRID 的说明</block>
  <block id="6e113d70b85d4352d376c14feb555463" category="list-text"><block ref="6e113d70b85d4352d376c14feb555463" category="inline-xref-macro-rx"></block></block>
  <block id="f47ea024bde42c8ebabc9ef87ddd126b" category="summary">您必须指定 StorageGRID 系统的名称并上传 NetApp 提供的许可证文件。</block>
  <block id="b2d5dc59664ac0d21bcbd5dded69a0fb" category="doc">指定 StorageGRID 许可证信息</block>
  <block id="c86996a2edfdb30961635ece5099c32b" category="list-text">在许可证页面上，在 * 网格名称 * 中为您的 StorageGRID 系统输入一个有意义的名称。</block>
  <block id="a8cc4c5ac0cbed2b556eb018b6bbe67f" category="paragraph">安装后，此名称将显示在节点菜单的顶部。</block>
  <block id="4bcf73945452543a8dbab89d9219896a" category="list-text">单击 * 浏览 * ，找到 NetApp 许可证文件（`NLFunique_id.txt` ），然后单击 * 打开 * 。</block>
  <block id="b1ce2d2f93335418e2bf9dee3e1f9790" category="paragraph">此时将验证许可证文件，并显示序列号和许可的存储容量。</block>
  <block id="f085047056aeaf0d4f4296e89bc8d874" category="admonition">StorageGRID 安装归档包含一个免费许可证，不提供产品的任何支持授权。您可以在安装后更新为提供支持的许可证。</block>
  <block id="2c4585406f390ecf6f5b95c25e44debe" category="image-alt">Grid Manager 安装程序许可证页面</block>
  <block id="5a378b18f7bf0c4cabc6c655cd2f535e" category="list-text">单击 * 下一步 * 。</block>
  <block id="5ff7a73be1e0ed97ec4be973669f85da" category="summary">安装 StorageGRID 时，必须至少创建一个站点。您可以创建其他站点来提高 StorageGRID 系统的可靠性和存储容量。</block>
  <block id="d58c5351fd0af7d37f30f9168a22f6eb" category="doc">添加站点</block>
  <block id="f9749857b99f9d96dd27eb669ac6b880" category="list-text">在 Sites 页面上，输入 * 站点名称 * 。</block>
  <block id="970e25014a85a62f70b28759ed5eb95b" category="list-text">要添加其他站点，请单击最后一个站点条目旁边的加号，然后在新的 * 站点名称 * 文本框中输入名称。</block>
  <block id="4b116819515b8ede322db9249d2c0acc" category="paragraph">根据需要为网格拓扑添加尽可能多的其他站点。您最多可以添加 16 个站点。</block>
  <block id="d45272af5c70b696798dd39e484c0f10" category="summary">在部署网格节点之前，您必须收集有关网络配置和 VMware 环境的信息。</block>
  <block id="269324a655ca56e442a920f627fa7605" category="section-title">VMware 信息</block>
  <block id="9469d76c4f6140dd6432570f8bff1124" category="paragraph">您必须访问部署环境并收集以下信息： VMware 环境；为网格网络，管理网络和客户端网络创建的网络；以及计划用于存储节点的存储卷类型。</block>
  <block id="794c475f11bc4371cd217fb51c3e7fa0" category="paragraph">您必须收集有关 VMware 环境的信息，包括以下信息：</block>
  <block id="76e350df78d51e32b1ad8b8abe86aadf" category="list-text">具有完成部署所需的适当权限的 VMware vSphere 帐户的用户名和密码。</block>
  <block id="14001b502c0c10f790bcdbbec177048f" category="list-text">每个 StorageGRID 网格节点虚拟机的主机，数据存储库和网络配置信息。</block>
  <block id="a4c07e3213b102e55f5912678b608c58" category="admonition">VMware Live vMotion 会导致虚拟机时钟时间跳转，任何类型的网格节点均不支持此功能。尽管时钟时间不正确，但极少会导致数据丢失或配置更新。</block>
  <block id="08140b2a186de59dab93203a293898e7" category="section-title">网格网络信息</block>
  <block id="bbb2d62dc5552d4d073b5fd41ace987a" category="paragraph">您必须收集有关为 StorageGRID 网格网络（必需）创建的 VMware 网络的信息，包括：</block>
  <block id="30962818b2acacafe3ea3db6496ebe27" category="list-text">网络名称。</block>
  <block id="784011246fcb37e6f1e2b0dad089d9dd" category="list-text">如果不使用 DHCP ，则为每个网格节点提供所需的网络详细信息（ IP 地址，网关和网络掩码）。</block>
  <block id="e58a032e0a6f39f8b361dfa71a14ee77" category="list-text">如果不使用 DHCP ，则为网格网络上主管理节点的 IP 地址。有关详细信息，请参见 "`网格节点如何发现主管理节点` " 。</block>
  <block id="dd5628137a9704a86ede31c544a30f38" category="section-title">管理网络信息</block>
  <block id="d3de50c78262be512b329ba25b39364a" category="paragraph">对于要连接到可选 StorageGRID 管理网络的节点，您必须收集有关为此网络创建的 VMware 网络的信息，包括：</block>
  <block id="cb5cb0367bf7e017956fcdcf42031269" category="list-text">用于分配静态或 DHCP IP 地址的方法。</block>
  <block id="88679dc250a4149e4e4a930b25df33f1" category="list-text">如果使用的是静态 IP 地址，则为每个网格节点提供所需的网络详细信息（ IP 地址，网关，网络掩码）。</block>
  <block id="fb4618c620bb778086606674d8664a18" category="list-text">管理网络的外部子网列表（ ESL ）。</block>
  <block id="4fb92dd6699e78d1e889104869165c67" category="section-title">客户端网络信息</block>
  <block id="b6b10d2fe1548b405826630071d21b09" category="paragraph">对于要连接到可选 StorageGRID 客户端网络的节点，您必须收集有关为此网络创建的 VMware 网络的信息，包括：</block>
  <block id="f7a9c1fcdf4c6c1be5ab05e1a76fb0ed" category="section-title">有关其他接口的信息</block>
  <block id="684f02914502c4eb2dc447f41c000cf2" category="paragraph">安装节点后，您可以选择在 vCenter 中为虚拟机添加中继或访问接口。例如，您可能希望将中继接口添加到管理节点或网关节点，以便可以使用 VLAN 接口隔离属于不同应用程序或租户的流量。或者，您可能希望添加一个访问接口以在高可用性（ HA ）组中使用。</block>
  <block id="5f096cffb6ab7fe259115a86fa0a7a81" category="paragraph">您添加的接口将显示在 "VLAN interfaces" 页面和网格管理器的 "HA Groups" 页面上。</block>
  <block id="2db065f4346d1f4bfb7e7fd20ceca9b3" category="inline-xref-macro">配置 VLAN 接口</block>
  <block id="fe7d86ddf89234bd16104675d5bcf36f" category="list-text">如果要添加中继接口，请为每个新的父接口配置一个或多个 VLAN 接口。请参见 <block ref="c9208c09a47e45bbe2fa2aee08ac3fec" category="inline-xref-macro-rx"></block>。</block>
  <block id="1abf95884705581b728432b80355c678" category="inline-xref-macro">配置高可用性组</block>
  <block id="742595509f1bd2ffba25509529e3040d" category="list-text">如果添加访问接口，则必须将其直接添加到 HA 组。请参见 <block ref="c023012a9467168f03ff3ab1ef71cc70" category="inline-xref-macro-rx"></block>。</block>
  <block id="035aa62ec2ac6cb126190c4c4d8eb3e1" category="section-title">虚拟存储节点的存储卷</block>
  <block id="e1892b52e0747d0496293487f0207c59" category="paragraph">您必须收集基于虚拟机的存储节点的以下信息：</block>
  <block id="641d3f3fa68b278dcf8a2c8e59408852" category="list-text">计划添加的存储卷（存储 LUN ）的数量和大小。请 `S" 存储和性能要求 " 。`</block>
  <block id="99ff14069095641604b4a5ea4c07853f" category="section-title">网格配置信息</block>
  <block id="83e21dd3280794b378d8c7ce92db4db9" category="paragraph">您必须收集信息才能配置网格：</block>
  <block id="2ca045932a5f3b2cb9fbbfe3c4bcbb81" category="list-text">网格许可证</block>
  <block id="81dda9b0ae9fc4433457cd1c65856529" category="list-text">网络时间协议（ NTP ）服务器 IP 地址</block>
  <block id="71a2e2ca7b084cbaafa1f73e8a87a63d" category="list-text">域名系统（ DNS ）服务器 IP 地址</block>
  <block id="9249b2733c9725dcab3d6b8dead719ec" category="inline-xref-macro">网格节点如何发现主管理节点</block>
  <block id="ddab461e2a5771a13babf7407f2004fa" category="paragraph"><block ref="ddab461e2a5771a13babf7407f2004fa" category="inline-xref-macro-rx"></block></block>
  <block id="0ee871a71fd593fc1bcef83224ed9e19" category="summary">您必须下载 StorageGRID 安装归档并提取文件。</block>
  <block id="5430def67f5f4fd17e1a84097aa693f7" category="inline-link">StorageGRID 的 "NetApp 下载 " 页面</block>
  <block id="ce7645f7d0da88154b19308803605e04" category="list-text">转至<block ref="3bdb53fde48432d306823cbadbeb2429" category="inline-link-rx"></block>。</block>
  <block id="d0b92c676e5757bb2609e905f4a62df4" category="inline-xref-macro">恢复和维护说明中的热修补程序操作步骤</block>
  <block id="73e5533b60d8beaf275bb95330eadf2b" category="admonition">安装 StorageGRID 版本后，您必须应用任何所需的修补程序。有关详细信息，请参见 <block ref="95503718432f90d6c1d4eb90eb876e09" category="inline-xref-macro-rx"></block></block>
  <block id="9128cc20a043a7359e5af8f37696e406" category="list-text">在 * 安装 vmware* 列中，选择 StorageGRID 的 .tgz 或 .zip 文件。</block>
  <block id="eddf1e7afb3bca3f0be5071c56dca8b9" category="list-text">保存并提取归档文件。</block>
  <block id="b4dea1dd1bae7eb2f67d0d642ca5a544" category="list-text">从以下列表中选择所需的文件。</block>
  <block id="b2b309d14a0ee0781d2a02ddf1cf8cc5" category="paragraph">所需的文件取决于您规划的网格拓扑以及如何部署 StorageGRID 系统。</block>
  <block id="1124adb04d452dc133de0ed0486b2f5c" category="admonition">表中列出的路径与提取的安装归档所安装的顶级目录相对。</block>
  <block id="683bd1c68c25fd315ddae3626d2754c2" category="summary">您必须为 StorageGRID 系统指定网络时间协议（ NTP ）配置信息，以便在不同服务器上执行的操作保持同步。</block>
  <block id="722478157037bbf54f0085305051ee00" category="doc">指定网络时间协议服务器信息</block>
  <block id="9a4375a5e5b05719430782253d306c47" category="paragraph">您必须为 StorageGRID 系统指定网络时间协议（ NTP ）配置信息，以便在不同服务器上执行的操作保持同步。</block>
  <block id="7a30646f1ecdc7ac8e119e103d88b005" category="paragraph">您必须为 NTP 服务器指定 IPv4 地址。</block>
  <block id="db37ebcb1facc0e0edc8dcfddd35d847" category="paragraph">您必须指定外部 NTP 服务器。指定的 NTP 服务器必须使用 NTP 协议。</block>
  <block id="733ae94be04bcfb4985cfbff9185884a" category="paragraph">您必须指定四个引用 Stratum 3 或更高配置的 NTP 服务器，以防止出现时间偏差问题。</block>
  <block id="0e15aca8921d3b320f7b98e0a43a9668" category="admonition">在为生产级 StorageGRID 安装指定外部 NTP 源时，请勿在 Windows Server 2016 之前的 Windows 版本上使用 Windows 时间（ W32Time ）服务。早期版本的 Windows 上的时间服务不够准确， Microsoft 不支持在 StorageGRID 等高精度环境中使用。</block>
  <block id="2773becce77253b27febcd2b1165477e" category="inline-link">支持边界，用于为高精度环境配置 Windows 时间服务</block>
  <block id="ffeeb0fd84ea2caf5d9dacef3e40dedf" category="paragraph"><block ref="ffeeb0fd84ea2caf5d9dacef3e40dedf" category="inline-link-rx"></block></block>
  <block id="51b1c765c74507d9ed352617e9ed147e" category="paragraph">外部 NTP 服务器由先前分配了主 NTP 角色的节点使用。</block>
  <block id="4469ba49cf593fcecc6da876ebcdca99" category="paragraph">对 VMware 执行其他检查，例如确保虚拟机管理程序与虚拟机使用相同的 NTP 源，以及使用 VMTools 禁用虚拟机管理程序与 StorageGRID 虚拟机之间的时间同步。</block>
  <block id="e0aa5c00b463294a0f12efc863c35b76" category="list-text">在 * 服务器 1* 到 * 服务器 4* 文本框中指定至少四个 NTP 服务器的 IPv4 地址。</block>
  <block id="b243e7800a00470130855fffa5c11af1" category="summary">您可以使用虚拟机托管任何类型的 StorageGRID 网格节点。VMware 服务器上安装的每个网格节点都需要一个虚拟机。</block>
  <block id="7ddb33edf227a18eb76201fcb9e2c9db" category="doc">软件要求</block>
  <block id="f53b4e7c2027602d331a4c185b942cc0" category="section-title">VMware vSphere 虚拟机管理程序</block>
  <block id="390e2ac9b8027b54d149386fd1f30a4d" category="paragraph">您必须在已准备好的物理服务器上安装 VMware vSphere 虚拟机管理程序。在安装 VMware 软件之前，必须正确配置硬件（包括固件版本和 BIOS 设置）。</block>
  <block id="ba326bc8792192e74fbc03cc166d8154" category="list-text">根据需要在虚拟机管理程序中配置网络，以支持要安装的 StorageGRID 系统的网络连接。</block>
  <block id="b0299faf45a7288b623b84d59980cc4b" category="list-text">确保数据存储库足够大，足以容纳托管网格节点所需的虚拟机和虚拟磁盘。</block>
  <block id="7bddfa85a6cabfe518c8f91683cbaadc" category="list-text">如果创建多个数据存储库，请为每个数据存储库命名，以便在创建虚拟机时轻松确定要用于每个网格节点的数据存储库。</block>
  <block id="57d6ab848f47eb2cdd175690f962a635" category="section-title">ESX 主机配置要求</block>
  <block id="36735b809ad374cc3fb34fd7c9cac926" category="admonition">您必须在每个 ESX 主机上正确配置网络时间协议（ NTP ）。如果主机时间不正确，可能会产生负面影响，包括数据丢失。</block>
  <block id="830160664e72e6cd002aaf01abf6871a" category="section-title">VMware 配置要求</block>
  <block id="9e6c6f1e199b7ec6cac9490f03207176" category="paragraph">在部署 StorageGRID 网格节点之前，您必须安装和配置 VMware vSphere 和 vCenter 。</block>
  <block id="5ac2098c26cf83121e7147d4b682649c" category="paragraph">有关受支持的 VMware vSphere 虚拟机管理程序和 VMware vCenter Server 软件版本，请参见互操作性表。</block>
  <block id="ad81d97c5af1c7d249d5739a0127efc4" category="paragraph">有关安装这些 VMware 产品所需的步骤，请参见 VMware 文档。</block>
  <block id="4b1d63d936a0babf8328e7783d6d6435" category="summary">StorageGRID 提供了用于执行安装任务的 StorageGRID 安装 API 。</block>
  <block id="7aef4f3e500c7b2396e6444efb38d443" category="doc">安装 REST API 概述</block>
  <block id="eb5fdbd9fb0e775aaea52bc74ccccaf4" category="paragraph">API 使用 Swagger 开源 API 平台提供 API 文档。Swagger 允许开发人员和非开发人员在用户界面中与 API 进行交互，以说明 API 如何响应参数和选项。本文档假定您熟悉标准 Web 技术和 JSON （ JavaScript 对象表示法）数据格式。</block>
  <block id="4ec24c89c303d43a3b6bc7db6e91539b" category="list-text">"*Nodes* - 节点级别的配置操作 " 。您可以检索网格节点列表，删除网格节点，配置网格节点，查看网格节点以及重置网格节点的配置。</block>
  <block id="efbdc7f88b8e1e80fee56f8dbf2ae6e5" category="list-text">* 模式 * —用于高级部署的 API 模式</block>
  <block id="6c22722c6e1ffc1bd0e873d14d746f9d" category="summary">如果在安装 StorageGRID 系统时出现任何问题，您可以访问安装日志文件。</block>
  <block id="f8d08b2d709d0f5dd03968f06e951581" category="doc">对安装问题进行故障排除</block>
  <block id="197243930904366a9ecb906f2145e115" category="paragraph">以下是主要安装日志文件，技术支持可能需要这些文件来解决问题。</block>
  <block id="8de6f918588579593495e67d0731144c" category="list-text">` /var/local/log/install.log` （可在所有网格节点上找到）</block>
  <block id="23f5e4f5b14da9ca71016a05239b311b" category="list-text">` /var/local/log/gdu-server.log` （位于主管理节点上）</block>
  <block id="24e3148eb092f99c69da77e9c8a914a7" category="inline-xref-macro">StorageGRID 监控和故障排除说明</block>
  <block id="e270ffb3d9f8264d867a464406f89d19" category="paragraph">要了解如何访问日志文件，请参见 <block ref="d4a95bb55763f6e41649d1a9dbeef109" category="inline-xref-macro-rx"></block>。有关排除设备安装问题的帮助，请参见适用于您的设备的安装和维护说明。如果您需要其他帮助，请联系技术支持。</block>
  <block id="8ce7881b8bc6f2587d20ac763bb5807f" category="section-title">虚拟机资源预留需要调整</block>
  <block id="1d6d954038878af5feade79524c4f641" category="paragraph">OVF 文件包含一个资源预留，用于确保每个网格节点都有足够的 RAM 和 CPU 来高效运行。如果通过在 VMware 上部署这些 OVF 文件来创建虚拟机，但预定义的资源数量不可用，则虚拟机将无法启动。</block>
  <block id="15448e788bf843024eb3bee5c3ec87de" category="paragraph">如果您确定 VM 主机具有足够的资源来支持每个网格节点，请手动调整为每个虚拟机分配的资源，然后尝试启动虚拟机。</block>
  <block id="5b065093fd12e4a8aeedf5d381c3881f" category="list-text">在 VMware vSphere 虚拟机管理程序客户端树中，选择未启动的虚拟机。</block>
  <block id="39eeb4682c7a76aee1a3995961e8b1fd" category="list-text">右键‐单击虚拟机，然后选择 * 编辑设置 * 。</block>
  <block id="ea2447f11604cf1132aa31ea739556aa" category="list-text">从虚拟机属性窗口中，选择 * 资源 * 选项卡。</block>
  <block id="a5ff61942e5194a4a92aaa108e679813" category="list-text">调整分配给虚拟机的资源：</block>
  <block id="57e9bb3583c26454f43acae8a107e996" category="list-text">选择 * CPU * ，然后使用预留滑块调整为此虚拟机预留的 MHz 。</block>
  <block id="3f900451956fbc0fb29a455e62e23672" category="list-text">选择 * 内存 * ，然后使用预留滑块调整为此虚拟机预留的 MB 。</block>
  <block id="a72cc47fad7d1846d19b085d2e77e5ba" category="list-text">单击 * 确定 * 。</block>
  <block id="4e7bb4abd3d2f21450f75c6a5ba7284e" category="list-text">根据需要对同一 VM 主机上托管的其他虚拟机重复上述步骤。</block>
  <block id="7ae061520166047537cf1791b6381379" category="summary">在安装 StorageGRID 系统时，您需要输入密码以保护系统安全并执行维护任务。</block>
  <block id="b681141cbe056ed6a1df3d88efd6f872" category="doc">指定 StorageGRID 系统密码</block>
  <block id="7ebea7602e1b6a43d1bdbf442868a05b" category="paragraph">使用安装密码页面指定配置密码短语和网格管理 root 用户密码。</block>
  <block id="0534a54a1d3acf15dde3e22a4aaf5bb6" category="list-text">配置密码短语用作加密密钥，不会由 StorageGRID 系统存储。</block>
  <block id="d557edb9878420a33930b440f7e232c6" category="list-text">您必须具有用于安装，扩展和维护过程的配置密码短语，包括下载恢复软件包。因此，请务必将配置密码短语存储在安全位置。</block>
  <block id="f8a6af1ba36a6ab82ede1fc25b33222e" category="list-text">如果您使用的是最新的网格管理器，则可以从网格管理器更改配置密码短语。</block>
  <block id="69f626261822447c34ac0bd1c1ff3706" category="list-text">可以使用网格管理器更改网格管理 root 用户密码。</block>
  <block id="88a1c9b4df74442873806438570ffba3" category="list-text">随机生成的命令行控制台和 SSH 密码存储在恢复软件包中的 `passwords.txt` 文件中。</block>
  <block id="d843290896a7578e0f86fdf4999a8d20" category="list-text">在 * 配置密码短语 * 中，输入更改 StorageGRID 系统网格拓扑所需的配置密码短语。</block>
  <block id="555d698387826678ea9bf22f7b655e2b" category="paragraph">将配置密码短语存储在安全位置。</block>
  <block id="c016a5bf9005c7f8e3184fa92f126823" category="admonition">如果在安装完成后您希望稍后更改配置密码短语，则可以使用网格管理器。选择 * 配置 * &gt; * 访问控制 * &gt; * 网格密码 * 。</block>
  <block id="b5e0e8f7c7560497d3b17011501bff95" category="list-text">在 * 确认配置密码短语 * 中，重新输入配置密码短语进行确认。</block>
  <block id="d916b524ec1853898b3d9c18b092fa31" category="list-text">在 * 网格管理 root 用户密码 * 中，以 "`root` " 用户身份输入用于访问网格管理器的密码。</block>
  <block id="de8c558a1a08c7714a6d1fb1a4916f72" category="paragraph">将密码存储在安全的位置。</block>
  <block id="9f3b3aed6062d1073a7436bf4568822d" category="list-text">在 * 确认 root 用户密码 * 中，重新输入网格管理器密码进行确认。</block>
  <block id="fb1863a9a06c0e6aec5a6683204fa941" category="list-text">如果要安装网格以进行概念验证或演示，也可以取消选中 * 创建随机命令行密码 * 复选框。</block>
  <block id="847cf22920ad5df8ae4321fd504aa2f8" category="paragraph">对于生产部署，出于安全原因，应始终使用随机密码。如果要使用默认密码通过命令行使用 "`root` " 或 "`admin` " 帐户访问网格节点，请取消选择 * 仅为演示网格创建随机命令行密码 * 。</block>
  <block id="b2460647cbc4066bc938df6b2ff13cdc" category="inline-xref-macro">下载此文件</block>
  <block id="348790f297e30072dcf4b649e69d4d5c" category="admonition">单击摘要页面上的 * 安装 * 后，系统将提示您下载恢复软件包文件（ `sGWS-recovery-package-id-revision.zip` ）。您必须 <block ref="0f273c14ddd4d817cf88ba5f0c5a4fa4" category="inline-xref-macro-rx"></block> 以完成安装。访问系统所需的密码存储在恢复软件包文件中的 `passwords.txt` 文件中。</block>
  <block id="042e9852796f25e6b286a94564f7a3aa" category="summary">您必须指定网格网络上使用的子网。</block>
  <block id="ed379b9ed6e55c2190753d992eae807b" category="doc">指定网格网络子网</block>
  <block id="6487f12649073c0c55dc11405be957f8" category="paragraph">子网条目包括 StorageGRID 系统中每个站点的网格网络子网，以及需要通过网格网络访问的任何子网。</block>
  <block id="8606bfb7bbf5abc5e2362d5ab7a1531e" category="paragraph">如果您有多个网格子网，则需要使用网格网络网关。指定的所有网格子网都必须可通过此网关访问。</block>
  <block id="1a53fe69ac1763ee7c90a12c1cc9d5df" category="list-text">在 * 子网 1* 文本框中至少为一个网格网络指定 CIDR 网络地址。</block>
  <block id="f9d09dbc71455b8313a8793aa5792745" category="list-text">单击最后一个条目旁边的加号以添加其他网络条目。</block>
  <block id="70d31ef9e14f9e7cda6ecc86f266dde0" category="paragraph">如果已至少部署一个节点，请单击 * 发现网格网络子网 * 以自动使用已向网格管理器注册的网格节点报告的子网填充网格网络子网列表。</block>
  <block id="cdc0f2546642f2b7d996ad995971c289" category="image-alt">指定子网</block>
  <block id="c8943a976324c4129a8146ff69fbea6e" category="summary">您必须了解虚拟机托管的 StorageGRID 节点的存储和性能要求，以便提供足够的空间来支持初始配置和未来的存储扩展。</block>
  <block id="fdfceedcfadaa8fc4e641a9271ff7595" category="section-title">性能要求</block>
  <block id="ada64f37eac9cae34bc144bb08ee63ce" category="paragraph">操作系统卷和第一个存储卷的性能会显著影响系统的整体性能。请确保在延迟，每秒输入 / 输出操作数（ IOPS ）和吞吐量方面提供足够的磁盘性能。</block>
  <block id="6a1a89af626d55750e70fed0a98c382d" category="paragraph">所有 StorageGRID 节点都要求操作系统驱动器和所有存储卷启用回写缓存。缓存必须位于受保护或永久性介质上。</block>
  <block id="1ab30533ec7098b3eef4c84639bdcf77" category="section-title">使用 NetApp AFF 存储的虚拟机的要求</block>
  <block id="eafda1a64c73e9709ee210db9507cdf0" category="section-title">所需的虚拟机数量</block>
  <block id="0286674551d5a015e6438bf06449b185" category="paragraph">每个 StorageGRID 站点至少需要三个存储节点。</block>
  <block id="2a082f69de160a41fd7780b7fc67ffaa" category="paragraph">其他类型的节点（例如管理节点或网关节点）可以部署在同一虚拟机主机上，也可以根据需要部署在自己的专用虚拟机主机上。但是，如果您有多个相同类型的节点（例如两个网关节点），请勿将所有实例安装在同一虚拟机主机上。</block>
  <block id="64c6a4fa8b7af4c5159f6cacf089306e" category="section-title">按节点类型划分的存储要求</block>
  <block id="1a0d92c61beb6978846993b6eda0ac8d" category="paragraph">在生产环境中， StorageGRID 网格节点的虚拟机必须满足不同的要求，具体取决于节点类型。</block>
  <block id="b49dfcf9d370e233fd0658a44939e6f8" category="admonition">磁盘快照不能用于还原网格节点。请参阅每种类型节点的恢复和维护过程。</block>
  <block id="d6ed9ca18aa22bc5bf2dc01352f564dc" category="cell">节点类型</block>
  <block id="c3d1a2d96ab200fd9d1581a410f3953c" category="paragraph">管理节点</block>
  <block id="e27bea04a7bea5d481b3b9cf6c3d12b3" category="paragraph">100 GB LUN ，用于操作系统</block>
  <block id="4a2ae3ed1fe842f4ec4578150c1ed669" category="paragraph">200 GB LUN ，用于管理节点表</block>
  <block id="a702e2880b2ff959d45f40003d1769c3" category="paragraph">200 GB LUN ，用于管理节点审核日志</block>
  <block id="778b8320a31f425d9021c72ba59dd8bd" category="paragraph">存储节点</block>
  <block id="f9fe44cce94cbc903afd79e26e2a9fff" category="paragraph">此主机上每个存储节点 3 个 LUN</block>
  <block id="6a8412966fa8b8dc8c8a3c6b8d4482e3" category="paragraph">* 注 * ：一个存储节点可以包含 1 到 16 个存储 LUN ；建议至少使用 3 个存储 LUN 。</block>
  <block id="4178b8f061d209db837e9a0d0f49f3b8" category="paragraph">每个 LUN 的最小大小： 4 TB</block>
  <block id="23db49193604131ae89ef0d00fde3211" category="paragraph">测试的最大 LUN 大小： 39 TB 。</block>
  <block id="5785d61c01cc318cd26cb48217e59c72" category="paragraph">网关节点</block>
  <block id="506af64ddefe0be5343e12c4743e0c53" category="paragraph">归档节点</block>
  <block id="208eaf8a2482b2c450172b921ff0e6e9" category="admonition">根据配置的审核级别， S3 对象密钥名称等用户输入的大小以及需要保留的审核日志数据量，您可能需要增加每个管理节点上的审核日志 LUN 的大小。一般来说，网格在每个 S3 操作中生成大约 1 KB 的审核数据，这意味着 200 GB 的 LUN 每天支持 7 ， 000 万次操作，或者每秒 800 次操作，持续 2 到 3 天。</block>
  <block id="09a7b6154058cee76fceb704a851fdf8" category="section-title">存储节点的存储要求</block>
  <block id="21fd745fc8c85861b4954f9b73b0cadd" category="paragraph">一个基于软件的存储节点可以包含 1 到 16 个存储卷—建议使用 3 个或更多存储卷。每个存储卷应大于或等于 4 TB 。</block>
  <block id="b23308487ff68b966a0faaa2d491972b" category="admonition">一个设备存储节点最多可以包含 48 个存储卷。</block>
  <block id="68dcfdb403fe85daa76650a6b31b08bf" category="paragraph">如图所示， StorageGRID 会为每个存储节点的存储卷 0 上的对象元数据预留空间。存储卷 0 和存储节点中的任何其他存储卷上的任何剩余空间专用于对象数据。</block>
  <block id="b22d6fc542d5fd53cac0a7072d13358c" category="image-alt">元数据空间存储节点</block>
  <block id="412facad8cbb1cfae91f321a836cefa4" category="paragraph">为了提供冗余并防止对象元数据丢失， StorageGRID 会为每个站点的系统中的所有对象存储三个元数据副本。对象元数据的三个副本均匀分布在每个站点的所有存储节点上。</block>
  <block id="ab3bf05bbef49b3cdf87640599f3327b" category="paragraph">在为新存储节点的卷 0 分配空间时，必须确保为该节点在所有对象元数据中的部分分配足够的空间。</block>
  <block id="fa0f2bd6681fde47bfcec08cdb1b5373" category="list-text">您必须至少为卷 0 分配 4 TB 。</block>
  <block id="f490dccecc01a9acd7431ea38bea4a36" category="admonition">如果一个存储节点仅使用一个存储卷，而为该卷分配的存储空间不超过 4 TB ，则该存储节点可能会在启动时进入存储只读状态，并仅存储对象元数据。</block>
  <block id="9b1905b17ea1f6589e165fb9ae8c2426" category="list-text">如果要安装新的 StorageGRID 11.6 系统，并且每个存储节点的 RAM 为 128 GB 或更大，则应为卷 0 分配 8 TB 或更多。如果对卷 0 使用较大的值，则可以增加每个存储节点上允许的元数据空间。</block>
  <block id="a9f1c68671301754531411c635de3286" category="list-text">在为站点配置不同的存储节点时，如果可能，请对卷 0 使用相同的设置。如果某个站点包含不同大小的存储节点，卷 0 最小的存储节点将确定该站点的元数据容量。</block>
  <block id="eb9261338e048cf45d796d48437b01e6" category="paragraph">有关详细信息，请转至 <block ref="c76c0decba50048c573d214e80846760" category="inline-xref-macro-rx"></block>。</block>
  <block id="b02f7b16996de97b4f3e72d6ed6fc00e" category="summary">在 VMware 环境中安装 StorageGRID 系统包括三个主要步骤。</block>
  <block id="3e2256298a82cc736a3fd0761ed9a933" category="doc">安装 VMware ：概述</block>
  <block id="3ca777eb89f228f520935fd86d8e3899" category="list-text">* 准备 * ：在规划和准备期间，您将执行以下任务：</block>
  <block id="9f2a9659fcceae3835af783c3f11a999" category="list-text">了解 StorageGRID 的硬件，软件，虚拟机，存储和性能要求。</block>
  <block id="70110ab57307f2f6d0713d77fc46ad82" category="inline-xref-macro">StorageGRID 网络连接</block>
  <block id="67143953886ccccdbd696c4897bad120" category="list-text">了解的具体信息 <block ref="96bf1aea514df6b3580a6f82b494e624" category="inline-xref-macro-rx"></block> 这样，您就可以正确配置网络了。</block>
  <block id="7bf884bf90d21d83effec40b2835dc6f" category="list-text">确定并准备要用于托管 StorageGRID 网格节点的物理服务器。</block>
  <block id="86531950fc08f5dd5ceb800e3c992469" category="list-text">在已准备好的服务器上：</block>
  <block id="70deb79eddcbf425bc974abfb313bbbf" category="list-text">安装 VMware vSphere 虚拟机管理程序</block>
  <block id="ede9e3b8a997f29e6759e7106e127b36" category="list-text">配置 ESX 主机</block>
  <block id="3dc990a6af77d4f20b2dee92ee5a6547" category="list-text">安装和配置 VMware vSphere 和 vCenter</block>
  <block id="8e05b57683d65c8bd540cf99d6dbd382" category="list-text">* 部署 * ：使用 VMware vSphere Web Client 部署网格节点。部署网格节点时，它们会作为 StorageGRID 系统的一部分创建并连接到一个或多个网络。</block>
  <block id="1ee0db9a822e9fbc13eb918933dcafea" category="list-text">使用 VMware vSphere Web Client ， .vmdk 文件和一组 .OVF 文件模板将基于软件的节点部署为您在步骤 1 中准备的服务器上的虚拟机（ VM ）。</block>
  <block id="fad89917924e25faf567f509744b6c04" category="list-text">使用 StorageGRID 设备安装程序部署 StorageGRID 设备节点。</block>
  <block id="e596af5c91c66ac8fc1a95faea74bd37" category="admonition">StorageGRID 安装操作步骤 中不包含特定于硬件的安装和集成说明。要了解如何安装 StorageGRID 设备，请参见适用于您的设备的安装和维护说明。</block>
  <block id="5f28810ac14c10744f9b35df99c9af23" category="list-text">* 配置 * ：部署完所有节点后，请使用网格管理器配置网格并完成安装。</block>
  <block id="a7821ad4e2b896461f5d4ea82ce5db86" category="paragraph">以下说明为在 VMware 环境中部署和配置 StorageGRID 系统建议了一种标准方法。另请参见有关以下替代方法的信息：</block>
  <block id="c91e3fad99e6f1e089be9c07d9d24343" category="list-text">使用 deploy-vsphere-ovftool.sh Bash 脚本（可从安装归档中获取）在 VMware vSphere 中部署网格节点。</block>
  <block id="43c2b5a552125579146e418147ad1dc7" category="list-text">使用 Python 配置脚本（在安装归档中提供）自动部署和配置 StorageGRID 系统。</block>
  <block id="3944599f9c1d8c8e8da1f8c813710172" category="list-text">使用 Python 配置脚本（可从安装归档或 StorageGRID 设备安装程序获取）自动部署和配置设备网格节点。</block>
  <block id="36ffcdad6315d1b2a4f78c51339c05f9" category="list-text">如果您是 StorageGRID 部署的高级开发人员，请使用安装 REST API 自动安装 StorageGRID 网格节点。</block>
  <block id="410a432488b100f7b9f8c06d72345314" category="summary">您可以使用 VMware vSphere 自动部署网格节点。您还可以自动配置 StorageGRID 。</block>
  <block id="f3bb104ef19108958e02d529ad03b5bf" category="doc">自动化安装（ VMware ）</block>
  <block id="0b268c770cf7ce78d156f647ef965698" category="section-title">自动部署网格节点</block>
  <block id="a65e451c1801977da28d29c2338b8464" category="paragraph">使用 VMware vSphere 自动部署网格节点。</block>
  <block id="5bada68f21c8b026f304c77f863c7c1b" category="list-text">您可以访问使用 Bash 3.2 或更高版本的 Linux/Unix 系统。</block>
  <block id="c854f3112b61713950dcb63df72490ad" category="list-text">您已安装并正确配置 VMware OVF Tool 4.1 。</block>
  <block id="0a3753db05257604ecf4fb7619f03268" category="list-text">您知道使用 OVF 工具访问 VMware vSphere 所需的用户名和密码。</block>
  <block id="a18b5c94b4c6ef8948625e27442380ed" category="list-text">您知道 vSphere 中要部署 StorageGRID 虚拟机的位置的虚拟基础架构（ VI ） URL 。此 URL 通常为 vApp 或资源池。例如： `vi ： //vcenter.example.com/vi/sgws`</block>
  <block id="22994a12e288bdd68ed60f1cbfb1d303" category="admonition">您可以使用 VMware `ovftool` 实用程序来确定此值（有关详细信息，请参见 `ovftool` 文档）。</block>
  <block id="262664f6cb143838fadd60d782c44a50" category="admonition">如果要部署到 vApp ，虚拟机不会首次自动启动，您必须手动启动它们。</block>
  <block id="c1d7ed196a029fb2a2eec1b0d9275f24" category="list-text">您已收集此配置文件所需的所有信息。请参见 <block ref="d4cbf4be5bcbb95b407cb3c35b9f18b4" category="inline-xref-macro-rx"></block> 以了解相关信息。</block>
  <block id="c47e91216540a2477640e3f2cbc7290e" category="list-text">您可以从适用于 StorageGRID 的 VMware 安装归档文件访问以下文件：</block>
  <block id="9c2e65b3b820650fbbb16f87dc2d952d" category="cell">netapp-sg-version-sha.vmdk</block>
  <block id="793924e05f70340bb5159941d2fc99c0" category="paragraph">* 注： * 此文件必须与 ` .OVF` 和 ` .MF` 文件位于同一文件夹中。</block>
  <block id="a4aae5a18880fefa8027ad50c7d2055d" category="cell">deploy-vsphere-ovftool.sh</block>
  <block id="d492df12ef1ce522806ca26d86558f0f" category="paragraph">Bash shell 脚本，用于自动部署虚拟网格节点。</block>
  <block id="04afe8adfae7baa5bfdb71dff0beb6bb" category="cell">deploy-vsphere-ovftool-sample.ini</block>
  <block id="a32a819bc3b75a9e14c081dd933a1f1c" category="paragraph">与 `deept-vsphere-ovftool.sh` 脚本结合使用的示例配置文件。</block>
  <block id="733007860e7cd7f76173f45f82dd82d9" category="section-title">定义部署的配置文件</block>
  <block id="80a6ce692bd2c0f1bc47e7e86576ff09" category="paragraph">您可以在配置文件中指定为 StorageGRID 部署虚拟网格节点所需的信息，此配置文件由 `dedeploy-vsphere-ovftool.sh` Bash 脚本使用。您可以修改配置文件示例，这样就不必从头创建文件了。</block>
  <block id="c7e22ac9d4ad722f9f1471053e993795" category="list-text">为示例配置文件（ `deploy-vsphere-ovftool.sample.ini` ）创建一份副本。将此新文件另存为 `deploy-vsphere-ovftool.ini` ，并保存在与 `deept-vsphere-ovftool.sh` 相同的目录中。</block>
  <block id="ff5b1096fe63fea97152318e7183a502" category="list-text">打开 `deploy-vsphere-ovftool.ini` 。</block>
  <block id="91d85892b27edaad578529528ed092cb" category="list-text">输入部署 VMware 虚拟网格节点所需的所有信息。</block>
  <block id="9552f6e4a8a73684407a5e65e5ece1a8" category="inline-xref-macro">配置文件设置</block>
  <block id="8496c0e8143858f8db9edcfbd06fad72" category="paragraph">请参见 <block ref="e2663a41787d16c0b4d782a6caf80dd3" category="inline-xref-macro-rx"></block> 以了解相关信息。</block>
  <block id="b7a332145e2020ec0177bfbe48e39dee" category="list-text">输入并验证所有必要信息后，请保存并关闭此文件。</block>
  <block id="c120c2cff2f74de6cf9d38120a66c6f2" category="paragraph">`deploy-vsphere-ovftool.ini` 配置文件包含部署虚拟网格节点所需的设置。</block>
  <block id="fd6f312b7db68e44c74644e9c3c00a73" category="paragraph">配置文件首先列出全局参数，然后在节点名称定义的部分中列出节点专用参数。使用文件时：</block>
  <block id="f73a22bb07aa81f97ce8a13f3e52c1d4" category="list-text">全局参数 _ 应用于所有网格节点。</block>
  <block id="c4db3effcf53c6881cd8c74ca3008db6" category="list-text">_Node-specific parameters_override 全局参数。</block>
  <block id="f7a3bbc39edf41464993ca56bca45275" category="section-title">全局参数</block>
  <block id="d3a4e96dfd1c6b6e0c9f2d25583df2a8" category="paragraph">全局参数将应用于所有网格节点，除非它们被各个部分中的设置所覆盖。将应用于多个节点的参数置于全局参数部分中，然后根据需要在各个节点的部分中覆盖这些设置。</block>
  <block id="49bc1140cf09b1aad845850e360ea6ed" category="list-text">* OVFTOOL_FUFFESESESESES* ：您可以将 OVFTOOL_FUFFICESPORITES* 指定为全局设置，也可以将参数单独应用于特定节点。例如：</block>
  <block id="9339711ebd5bf9f647351682f58ccd30" category="paragraph">您可以使用 ` -powerOffTarget` 和 ` -overwrite` 选项关闭并更换现有虚拟机。</block>
  <block id="28f6d0c8cda0969a18744011e301ae32" category="admonition">您应将节点部署到不同的数据存储库，并为每个节点指定 OVFTOOL_FUFFICESYUESYUESL ，而不是全局参数。</block>
  <block id="31f14f3c8d6e3993de29596ef4695580" category="list-text">* 源 * ：单个网格节点的 StorageGRID 虚拟机模板（` .vmdk` ）文件以及 ` .OVF` 和 ` .MF` 文件的路径。默认为当前目录。</block>
  <block id="322c72bd9d572c6db0136c233d85ebb1" category="list-text">* 目标 * ：要部署 StorageGRID 的位置的 VMware vSphere 虚拟基础架构（ VI ） URL 。例如：</block>
  <block id="06ef50935ec07e1779b9875ba0ce74f5" category="list-text">* 网格网络配置 * ：用于获取静态或 DHCP IP 地址的方法。默认值为 static 。如果所有或大多数节点使用相同的方法获取 IP 地址，则可以在此处指定该方法。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="7ca8e6757dfc31b7e77d7b1c941d2871" category="list-text">* 网格网络目标 * ：要用于网格网络的现有 VMware 网络的名称。如果所有或大多数节点使用相同的网络名称，则可以在此处指定。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="238557313d7057d1bb06eabaf89b2b2b" category="list-text">* 网格网络掩码 * ：网格网络的网络掩码。如果所有或大多数节点使用相同的网络掩码，则可以在此处指定。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="feef6f636d798abb0c20e16d38d146e2" category="list-text">* 网格网络网关 * ：网格网络的网络网关。如果所有或大多数节点使用同一个网络网关，则可以在此处指定此网关。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="c7a55cfabacf0623a5e22be34108f6e2" category="list-text">* 网格网络 MTU * ：可选。网格网络上的最大传输单元（ MTU ）。如果指定，则此值必须介于 1280 和 9216 之间。例如：</block>
  <block id="e60902d1fb91297a021185e791e203c6" category="paragraph">如果省略，则使用 1400 。</block>
  <block id="5875b367411b5b52cfe6089128918a6e" category="paragraph">如果要使用巨型帧，请将 MTU 设置为适合巨型帧的值，例如 9000 。否则，请保留默认值。</block>
  <block id="81dff4dda0d6a36d3242102796f4c9ca" category="list-text">* 管理网络配置 * ：用于获取 IP 地址的方法，可以是禁用，静态或 DHCP 。默认值为 disabled 。如果所有或大多数节点使用相同的方法获取 IP 地址，则可以在此处指定该方法。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="d53bd07ae2e54a34b01730e2bdcf58d4" category="list-text">* 管理网络目标 * ：用于管理网络的现有 VMware 网络的名称。除非禁用管理网络，否则此设置为必填项。如果所有或大多数节点使用相同的网络名称，则可以在此处指定。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="74958204e157f9832c15d83ffdb78770" category="list-text">* 管理网络掩码 * ：管理网络的网络掩码。如果使用的是静态 IP 寻址，则需要此设置。如果所有或大多数节点使用相同的网络掩码，则可以在此处指定。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="bfbbde067c6965275b0bec5badf6b63a" category="list-text">* 管理网络网关 * ：管理网络的网络网关。如果您使用的是静态 IP 寻址，并且在 admin_network_esl 设置中指定了外部子网，则需要此设置。（也就是说，如果 admin_network_esl 为空，则不需要执行此操作。） 如果所有或大多数节点使用同一个网络网关，则可以在此处指定此网关。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="5c55de231c426d34a3558865bd83ee1c" category="list-text">* 管理网络 _NETWORK_ESL* ：管理网络的外部子网列表（路由），指定为 CIDR 路由目标的逗号分隔列表。如果所有或大多数节点使用相同的外部子网列表，则可以在此处指定。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="a29c89d003a956da25ad17e07dd32d61" category="list-text">* 管理网络 MTU * ：可选。管理网络上的最大传输单元（ MTU ）。请勿指定 admin_network_config 是否为 DHCP 。如果指定，则此值必须介于 1280 和 9216 之间。如果省略，则使用 1400 。如果要使用巨型帧，请将 MTU 设置为适合巨型帧的值，例如 9000 。否则，请保留默认值。如果所有或大多数节点对管理网络使用相同的 MTU ，则可以在此处指定。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="5b660b5abe04d37f9dc5b10d1bc8afea" category="list-text">* 客户端网络配置 * ：用于获取 IP 地址的方法，可以是禁用，静态或 DHCP 。默认值为 disabled 。如果所有或大多数节点使用相同的方法获取 IP 地址，则可以在此处指定该方法。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="9508b4d063657918e02945d62a042446" category="list-text">* 客户端网络目标 * ：用于客户端网络的现有 VMware 网络的名称。除非禁用客户端网络，否则此设置为必填项。如果所有或大多数节点使用相同的网络名称，则可以在此处指定。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="db353b194e50326eff13582ffe9917fd" category="list-text">* 客户端网络掩码 * ：客户端网络的网络掩码。如果使用的是静态 IP 寻址，则需要此设置。如果所有或大多数节点使用相同的网络掩码，则可以在此处指定。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="0864234111d3d79eb431010471289d78" category="list-text">* 客户端网络网关 * ：客户端网络的网络网关。如果使用的是静态 IP 寻址，则需要此设置。如果所有或大多数节点使用同一个网络网关，则可以在此处指定此网关。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="868b37743a881848ecf376644404c07a" category="list-text">* 客户端网络 MTU * ：可选。客户端网络上的最大传输单元（ MTU ）。请勿指定 client_network_config 是否为 DHCP 。如果指定，则此值必须介于 1280 和 9216 之间。如果省略，则使用 1400 。如果要使用巨型帧，请将 MTU 设置为适合巨型帧的值，例如 9000 。否则，请保留默认值。如果所有或大多数节点对客户端网络使用相同的 MTU ，则可以在此处指定。然后，您可以通过为一个或多个节点指定不同的设置来覆盖全局设置。例如：</block>
  <block id="0d4c60ab3d9876f97f2e801a91271187" category="list-text">* 端口重新映射 * ：重新映射节点用于内部网格节点通信或外部通信的任何端口。如果企业网络策略限制 StorageGRID 使用的一个或多个端口，则必须重新映射端口。有关 StorageGRID 使用的端口列表，请参见中的内部网格节点通信和外部通信 <block ref="e1bf2b8082914814aefb3dd546569f4d" category="inline-xref-macro-rx"></block>。</block>
  <block id="4607ffee5e0c9cc44c9e1d106eda833f" category="admonition">不要重新映射计划用于配置负载平衡器端点的端口。</block>
  <block id="b56a75241a2d78720ac299b9a980413e" category="admonition">如果仅设置 port_remap ，则您指定的映射将同时用于入站和出站通信。如果同时指定 port_remap_inbound ， port_remap 将仅应用于出站通信。</block>
  <block id="0a8b7cab135e113fb1abd9c0600fd3ba" category="paragraph">使用的格式为：网格节点 / 新端口 _` 使用的 ` 网络类型 / 协议 / 默认端口，其中网络类型为网格，管理员或客户端，协议为 TCP 或 UDP 。</block>
  <block id="7ad6d230884b052848e26c225bb61e75" category="paragraph">如果单独使用，则此示例设置会将网格节点的入站和出站通信从端口 18082 对称映射到端口 443 。如果与 port_remap_inbound 结合使用，则此示例设置会将出站通信从端口 18082 映射到端口 443 。</block>
  <block id="923ef0ec6cdf0f704858fc7a19b3bdf3" category="list-text">* 端口重新映射入站 * ：重新映射指定端口的入站通信。如果指定 port_remap_inbound ，但未指定 port_remap 的值，则端口的出站通信将保持不变。</block>
  <block id="40f863fa62e86eac92555b4bdd942f30" category="paragraph">使用的格式为： ` node_/_protocol/_default port used by grid node_/_new port_` ，其中 network type 为 grid ， admin 或 client ， protocol 为 tcp 或 udp 。</block>
  <block id="4bf2968fd286b7ffbeebdf3dff69d457" category="paragraph">此示例将接收发送到端口 443 以通过内部防火墙的流量，并将其定向到端口 18082 ，网格节点正在侦听 S3 请求。</block>
  <block id="c50e38ed22c950b75a2d97d9bcc88c01" category="section-title">节点专用参数</block>
  <block id="1cb98ae96fb0bac5c33788d27a4084d0" category="paragraph">每个节点都位于配置文件中各自的部分中。每个节点都需要以下设置：</block>
  <block id="db0c86a2106308ce5609ab1e87465dd6" category="list-text">此部分标题定义了将在网格管理器中显示的节点名称。您可以通过为节点指定可选的 node_name 参数来覆盖该值。</block>
  <block id="1a959986fd1320fbea8d48905186af7a" category="list-text">* 节点类型 * ： VM_Admin_Node ， VM_Storage_Node ， VM_Archive_Node 或 VM_API_Gateway_Node</block>
  <block id="cade7202db4a4945bbe888252a2323e9" category="list-text">* 网格网络 IP ：网格网络上节点的 IP 地址。</block>
  <block id="b6e8f10d9c4fc0f34602c34f72a36f28" category="list-text">* 管理网络 IP ：管理网络上节点的 IP 地址。只有当节点已连接到管理网络且 admin_network_config 设置为 static 时才需要。</block>
  <block id="ab3b538aaaaf3d9229061a3b88162caf" category="list-text">* 客户端网络 IP* ：客户端网络上节点的 IP 地址。只有当节点已连接到客户端网络且此节点的 client_network_config 设置为 static 时才需要此选项。</block>
  <block id="872da505ce535eff69be48657dd29505" category="list-text">* 管理 _IP* ：网格网络上主管理节点的 IP 地址。使用指定的值作为主管理节点的 grid_network_IP 。如果省略此参数，则节点将尝试使用 mDNS 发现主管理节点 IP 。有关详细信息，请参见 <block ref="ddab461e2a5771a13babf7407f2004fa" category="inline-xref-macro-rx"></block>。</block>
  <block id="364c004a910600354159062e6b701160" category="admonition">对于主管理节点， admin_ip 参数将被忽略。</block>
  <block id="c5df4939e2562ddb697338f85f92dbf0" category="list-text">未全局设置的任何参数。例如，如果某个节点已连接到管理网络，而您未全局指定 admin_network 参数，则必须为此节点指定这些参数。</block>
  <block id="9fb52798aa14b228fa9fd09284599814" category="paragraph">主管理节点需要以下附加设置：</block>
  <block id="8e9db4361116236d4cb1e9d6cdcf00ce" category="list-text">* 节点类型 * ： VM_Admin_Node</block>
  <block id="ec87699d038d20b550b6216303ffecd9" category="list-text">* 管理角色 * ：主</block>
  <block id="8511969381768d8d0da1e589dd1aae1c" category="paragraph">此示例条目适用于所有三个网络上的主管理节点：</block>
  <block id="b2f484a4d0af81c8a240f597efd4e080" category="paragraph">以下附加设置对于主管理节点是可选的：</block>
  <block id="78b2d263d4e8e84fb5a495c05fa0da2a" category="list-text">* 磁盘 * ：默认情况下，会为管理节点另外分配两个 200 GB 的硬盘，以供审核和数据库使用。您可以使用 disk 参数增加这些设置。例如：</block>
  <block id="c7d29f7dcbab02b00c228037d376ccd9" category="admonition">对于管理节点，实例必须始终等于 2 。</block>
  <block id="c1db25c709dc582749fb5d36ec1fa64d" category="paragraph">存储节点需要以下附加设置：</block>
  <block id="52af4fb3d206bf0af95e1b5b60334f85" category="list-text">* 节点类型 * ： VM_Storage_Node</block>
  <block id="85fe5d6077f9b06acb2e600fd791dcc3" category="paragraph">此示例条目适用于网格和管理网络上的存储节点，但不适用于客户端网络。此节点使用 admin_ip 设置指定网格网络上主管理节点的 IP 地址。</block>
  <block id="5ba49c3e188d7304e3ee8f0e2332a4f3" category="paragraph">第二个示例条目适用于客户端网络上的存储节点，其中，客户的企业网络策略指出， S3 客户端应用程序仅允许使用端口 80 或 443 访问存储节点。示例配置文件使用 port_remap 使存储节点能够通过端口 443 发送和接收 S3 消息。</block>
  <block id="7f83a4c41e96aade537af0bbecd2a3ad" category="paragraph">最后一个示例为从端口 22 到端口 3022 的 ssh 流量创建了对称重新映射，但明确设置了入站和出站流量的值。</block>
  <block id="2cb0a5b119a4531a872009ac61425cde" category="paragraph">以下附加设置对于存储节点是可选的：</block>
  <block id="de4a7cbdb08daeffbd341ba55c84f9f9" category="list-text">* 磁盘 * ：默认情况下，为存储节点分配三个 4 TB 磁盘，以供 RangeDB 使用。您可以使用 disk 参数增加这些设置。例如：</block>
  <block id="490faadc4932b65777b91d7bac98cc63" category="paragraph">归档节点需要以下附加设置：</block>
  <block id="36cb63a6fc0fae13ac608aa7ca416dc3" category="list-text">* 节点类型 * ： VM_Archive_Node</block>
  <block id="c52ffe4e3e13dd26d27e72becac06424" category="paragraph">此示例条目适用于网格和管理网络上的归档节点，但不适用于客户端网络。</block>
  <block id="3f613814979c5f5448c2b8f689a3ca94" category="paragraph">网关节点需要以下附加设置：</block>
  <block id="aadb35ed00f507aff3277eaf96d5643b" category="list-text">* 节点类型 * ： VM_API_Gateway</block>
  <block id="6f3d2cb79caa9733be85f029925b1fa0" category="paragraph">此示例条目适用于所有三个网络上的示例网关节点。在此示例中，未在配置文件的全局部分中指定客户端网络参数，因此必须为节点指定这些参数：</block>
  <block id="434e54ed8c5d43bafb89bfb2e3089019" category="paragraph">非主管理节点需要以下附加设置：</block>
  <block id="dc7181bfb040100799989c665ab2a7ca" category="list-text">* 管理角色 * ：非主要</block>
  <block id="2c91bcdf0f3d12edd17021ee019af4db" category="paragraph">此示例条目适用于不在客户端网络上的非主管理节点：</block>
  <block id="af67d3c1dcb6710a058285fd60633017" category="paragraph">以下附加设置对于非主管理节点是可选的：</block>
  <block id="70a9225b040f0d8fe5fd06d90d40cea5" category="section-title">运行 Bash 脚本</block>
  <block id="222247f93da0f28231637aa0e76ef6ca" category="paragraph">您可以使用 `dedeploy-vsphere-ovftool.sh` Bash 脚本和您修改的 deploy-vsphere-ovftool.ini 配置文件在 VMware vSphere 中自动部署 StorageGRID 网格节点。</block>
  <block id="3319bf5c739e3caf38b42f9cb5778658" category="list-text">您已为您的环境创建 deploy-vsphere-ovftool.ini 配置文件。</block>
  <block id="c7ae8d638d70dbb8dc5f3459a2392192" category="paragraph">您可以通过输入 help 命令（` -h/-help` ）来使用 Bash 脚本提供的帮助。例如：</block>
  <block id="e81c4e4f2b7b93b481e13a8553c2ae1b" category="paragraph">或</block>
  <block id="eb91d6e81ed02e4817a8a861ed75b3cf" category="list-text">登录到用于运行 Bash 脚本的 Linux 计算机。</block>
  <block id="587263ef087e458f35e75b52e4402152" category="list-text">要部署所有网格节点，请使用适用于您环境的选项运行 Bash 脚本。</block>
  <block id="2b400b1895c6fd7e58e328e7c2135ce8" category="list-text">如果某个网格节点由于出现错误而无法部署，请解决此错误并仅为该节点重新运行 Bash 脚本。</block>
  <block id="401fcb5cb0917de122992213f29a66c9" category="paragraph">当每个节点的状态为 "`passed" 时，部署完成。`</block>
  <block id="bf5d42c484ffdb92bcb289a3c359c656" category="section-title">自动配置 StorageGRID</block>
  <block id="01e989045e9f58aada43d013823e4520" category="cell">configure-storagegrid.py</block>
  <block id="4f3b1c6c07821ad283f6ba2f338f76de" category="cell">configure-storaggrid.sample.json</block>
  <block id="d69efb8f264819dc5ce987b160fa860c" category="cell">configure-storaggrid.blank.json</block>
  <block id="c37c2a74cf5884916359c22ed87bfdc7" category="paragraph">其中， `platform` 是 debs ， rpms 或 vsphere 。</block>
  <block id="69db370cbff7e13fc2ae36d15643d766" category="paragraph">在配置过程中会生成一个恢复包 .zip 文件，该文件将下载到运行安装和配置过程的目录中。您必须备份恢复软件包文件，以便在一个或多个网格节点发生故障时恢复 StorageGRID 系统。例如，将其复制到安全的备份网络位置和安全的云存储位置。</block>
  <block id="6e4aa4ffc5bb3610777ee4019c3c7dab" category="paragraph">如果您指定应生成随机密码，则需要提取 Passwords.txt 文件并查找访问 StorageGRID 系统所需的密码。</block>
  <block id="d9e958286dac215376fe2b36bd97b2a0" category="inline-xref-macro">导航到网格管理器</block>
  <block id="dea2c6519c3284b7534690012961040a" category="paragraph"><block ref="dea2c6519c3284b7534690012961040a" category="inline-xref-macro-rx"></block></block>
  <block id="0dfc633050a66d58b78d45b400545a9b" category="paragraph"><block ref="0dfc633050a66d58b78d45b400545a9b" category="inline-xref-macro-rx"></block></block>
  <block id="a73a66176f31df58d378786674863e30" category="summary">您可以使用网格管理器定义配置 StorageGRID 系统所需的所有信息。</block>
  <block id="9d59f2da38ef92a4ca32599c5bb673bd" category="paragraph">必须部署主管理节点，并且已完成初始启动序列。</block>
  <block id="759724c9c1b1f4f76287c31421865bd9" category="list-text">打开 Web 浏览器并导航到以下地址之一：</block>
  <block id="e62a634bfc1bc4de5f23b9e5570fdf69" category="paragraph">`https://_primary_admin_node_ip_`</block>
  <block id="22c88b0ac718db8fcbbadaf1311daa96" category="paragraph">` 客户端网络 IP`</block>
  <block id="7fe03d9ec671ef63aa45c302a1e2e79f" category="paragraph">或者，您也可以通过端口 8443 访问网格管理器：</block>
  <block id="82e5691dd282540a4338e641dd6b6cb5" category="paragraph">`https://_primary_admin_node_ip_:8443`</block>
  <block id="541b4f2f178c56cc0afcfd9893841880" category="admonition">根据您的网络配置，您可以使用网格网络或管理网络上的主管理节点 IP 的 IP 地址。</block>
  <block id="a921bfb406bf03126f61c37641688054" category="list-text">单击 * 安装 StorageGRID 系统 * 。</block>
  <block id="6cd4c4b0fa3ea13bd254dc3afb0571bd" category="paragraph">此时将显示用于配置 StorageGRID 网格的页面。</block>
  <block id="58ef4607c708ff4b674be858b78315d3" category="summary">网格节点与主管理节点进行通信以进行配置和管理。每个网格节点都必须知道网格网络上主管理节点的 IP 地址。</block>
  <block id="74641fded0e8cd4a2074dec2cec28953" category="paragraph">为了确保网格节点可以访问主管理节点，您可以在部署此节点时执行以下任一操作：</block>
  <block id="dd22f515e30ca856afcd31552f1a689a" category="list-text">您可以使用 admin_ip 参数手动输入主管理节点的 IP 地址。</block>
  <block id="fab23aaa910a96ad1a70f16cdc9bf4b7" category="list-text">您可以省略 admin_ip 参数，以使网格节点自动发现该值。当网格网络使用 DHCP 为主管理节点分配 IP 地址时，自动发现尤其有用。</block>
  <block id="aa2b35914b28b96a6bead72f74813fba" category="paragraph">可以使用多播域名系统（ mDNS ）自动发现主管理节点。主管理节点首次启动时，它会使用 mDNS 发布其 IP 地址。然后，同一子网上的其他节点可以查询 IP 地址并自动获取该地址。但是，由于多播 IP 流量通常不能跨子网路由，因此其他子网上的节点无法直接获取主管理节点的 IP 地址。</block>
  <block id="d0fd0882e62f9a3cc8fbed752016b92d" category="paragraph">如果使用自动发现：</block>
  <block id="d09152dd55e24c8415129c34daad6838" category="list-text">必须在主管理节点未直接连接到的任何子网上至少包含一个网格节点的 admin_IP 设置。然后，此网格节点将发布子网中其他节点的主管理节点 IP 地址，以便使用 mDNS 进行发现。</block>
  <block id="344d439e84370ad4caac1a1924083b7c" category="list-text">确保您的网络基础架构支持在子网内传递多播 IP 流量。</block>
  <block id="23a5c3c97c3c4d7071ad20bb2243bdcf" category="summary">在部署网格节点和配置 StorageGRID 网格之前，您必须熟悉完成操作步骤 的步骤和要求。</block>
  <block id="105e7a8c7079866c819479a63f70f18d" category="doc">安装前（ VMware ）</block>
  <block id="df73331dbac55bac0b2fa7a71397f88b" category="paragraph">StorageGRID 部署和配置过程假定您熟悉 StorageGRID 系统的架构和操作功能。</block>
  <block id="4791c9d4bc1a4ca94a49ab1a5493b78c" category="paragraph">您可以一次部署一个或多个站点；但是，所有站点必须满足至少有三个存储节点的最低要求。</block>
  <block id="84bb24a20f4378ac7dd156ec148e14b5" category="admonition">StorageGRID 不支持使用虚拟存储区域网络（ VSAN ），因为底层磁盘保护不是硬件 RAID 。</block>
  <block id="5559c2f4056158f59846e9aa9a035b77" category="paragraph">在开始节点部署和网格配置操作步骤 之前，您必须：</block>
  <block id="82a218a5bc8b19cf0c3e3cc460c5cd6d" category="list-text">规划 StorageGRID 部署。</block>
  <block id="21030a7aa3dc1eac1cd75eae523b6f67" category="list-text">按照规格安装，连接和配置所有必需的硬件，包括任何 StorageGRID 设备。</block>
  <block id="77648db22f71c24bb16a52fdfda6022b" category="inline-xref-macro">可用网络选项以及如何在网格节点上实施每个网络选项</block>
  <block id="414d3b071148d27fbb3b2b09e1fb4d0b" category="list-text">了解 <block ref="fe3b3d58c0d4b2d0d97ba755c48feb93" category="inline-xref-macro-rx"></block>。</block>
  <block id="ac30411b8ebecfdec7600f3a1a8a6c6b" category="list-text">提前收集所有网络信息。除非使用 DHCP ，否则请收集要分配给每个网格节点的 IP 地址以及要使用的域名系统（ DNS ）和网络时间协议（ NTP ）服务器的 IP 地址。</block>
  <block id="252bb54be007ca4e67b60378c1c1fd02" category="list-text">确定要使用的可用部署和配置工具。</block>
  <block id="f6ff814001e2f5d88222765308798a5f" category="summary">S3 REST API 中添加了特定于 StorageGRID 系统的操作。</block>
  <block id="f0d7307ddf5b4093c0b1a4b966085a4f" category="doc">StorageGRID S3 REST API 操作</block>
  <block id="2825ad949277664359066b4d3ab97cfc" category="inline-xref-macro">获取存储分段一致性请求</block>
  <block id="a2ac09e3ea82b029e7acb77830c3aa91" category="list-text"><block ref="a2ac09e3ea82b029e7acb77830c3aa91" category="inline-xref-macro-rx"></block></block>
  <block id="02aa4efc830648b824851fe1169be79d" category="paragraph">使用获取存储分段一致性请求，您可以确定应用于特定存储分段的一致性级别。</block>
  <block id="33f53f162736eedbddafae4b46f92cf3" category="inline-xref-macro">PUT 存储分段一致性请求</block>
  <block id="0bb3e419737e55f1243fe8435cb4fdc3" category="list-text"><block ref="0bb3e419737e55f1243fe8435cb4fdc3" category="inline-xref-macro-rx"></block></block>
  <block id="516108b517e5e1dbada44b970b9cc0b4" category="paragraph">通过 PUT 分段一致性请求，您可以指定要应用于对分段执行的操作的一致性级别。</block>
  <block id="494311737638d733a711e3fdb028544e" category="inline-xref-macro">获取分段上次访问时间请求</block>
  <block id="5eca9070dd251957930a8a873df8eda5" category="list-text"><block ref="5eca9070dd251957930a8a873df8eda5" category="inline-xref-macro-rx"></block></block>
  <block id="ea586ddf0d58533abfd03165ec2ba641" category="paragraph">通过获取分段上次访问时间请求，您可以确定是为单个分段启用还是禁用了上次访问时间更新。</block>
  <block id="f6dc411f75c07f78add7b55572eb6e41" category="inline-xref-macro">PUT 分段上次访问时间请求</block>
  <block id="79b8b3848c3168e00b24ff4f4d948548" category="list-text"><block ref="79b8b3848c3168e00b24ff4f4d948548" category="inline-xref-macro-rx"></block></block>
  <block id="af9ff265d8701b38ed88adb0736ca2a9" category="paragraph">通过 PUT 分段上次访问时间请求，您可以为各个分段启用或禁用上次访问时间更新。禁用上次访问时间更新可提高性能，它是使用 10.3.0 或更高版本创建的所有存储分段的默认设置。</block>
  <block id="bf584e784e255cc168fb983b187dc787" category="inline-xref-macro">删除存储分段元数据通知配置请求</block>
  <block id="6ba8f330c89fab2d914cdfe425f8dd77" category="list-text"><block ref="6ba8f330c89fab2d914cdfe425f8dd77" category="inline-xref-macro-rx"></block></block>
  <block id="69a6bd01905f7e6d8b612891819e7721" category="paragraph">通过删除存储分段元数据通知配置请求，您可以通过删除配置 XML 来禁用各个存储分段的搜索集成服务。</block>
  <block id="a8ef6ce189068442c48b4f1a0eae98e8" category="inline-xref-macro">获取存储分段元数据通知配置请求</block>
  <block id="d950ecf87d0076fd09f1e7092893e0d3" category="list-text"><block ref="d950ecf87d0076fd09f1e7092893e0d3" category="inline-xref-macro-rx"></block></block>
  <block id="6d9c54d559752e2db08fac52db81cc57" category="paragraph">使用获取分段元数据通知配置请求，您可以检索用于为各个分段配置搜索集成的配置 XML 。</block>
  <block id="f75619e88bb4954e09c37e328470d64b" category="inline-xref-macro">PUT 存储分段元数据通知配置请求</block>
  <block id="f739634a3e4df4b915b03bd84620c23a" category="list-text"><block ref="f739634a3e4df4b915b03bd84620c23a" category="inline-xref-macro-rx"></block></block>
  <block id="68c2ea8f4bdff3610d4b3ee3c43c3dfe" category="paragraph">通过 PUT Bucket 元数据通知配置请求，您可以为各个存储分段启用搜索集成服务。您在请求正文中提供的元数据通知配置 XML 用于指定将其元数据发送到目标搜索索引的对象。</block>
  <block id="146b50654d26081223ad7e6f0e604edf" category="inline-xref-macro">获取存储使用情况请求</block>
  <block id="a1e2b78f088db76e69f7a90276e01d3c" category="list-text"><block ref="a1e2b78f088db76e69f7a90276e01d3c" category="inline-xref-macro-rx"></block></block>
  <block id="4318989fd851f1e76d13ba124e06da4a" category="paragraph">" 获取存储使用量 " 请求会告知您帐户正在使用的存储总量以及与帐户关联的每个存储分段的存储总量。</block>
  <block id="2800d3ca7b5a33ac6b7220621f39863e" category="inline-xref-macro">已弃用旧合规性的存储分段请求</block>
  <block id="8045ed4db9e89087f159b530206338df" category="list-text"><block ref="8045ed4db9e89087f159b530206338df" category="inline-xref-macro-rx"></block></block>
  <block id="837d1f427350590657c77e152cfc75b3" category="paragraph">您可能需要使用 StorageGRID S3 REST API 来管理使用原有合规性功能创建的分段。</block>
  <block id="3a07de2937a9e9cbd204504517b2c3d4" category="summary">完整的多部件上传操作通过整合先前上传的部件来完成对象的多部分上传。</block>
  <block id="33f1dbf84367c7190f63878f62c8ecd1" category="doc">完成多部件上传</block>
  <block id="901543443dcf00c45cb2b944d924d916" category="section-title">解决冲突</block>
  <block id="494090239ed0b0fa137a23372d0c7152" category="paragraph">冲突的客户端请求（例如，两个客户端写入同一密钥）将以 " 最新成功 " 为基础进行解决。" 最新赢单 " 评估的时间取决于 StorageGRID 系统何时完成给定请求，而不是 S3 客户端何时开始操作。</block>
  <block id="736943e80c16e2be98d8595e6376e4ee" category="section-title">请求标题</block>
  <block id="9bc8f1281c5bf8d545c47c79364d6b8b" category="paragraph">支持 `x-AMZ-storage-class` 请求标头，如果匹配的 ILM 规则指定了双重提交或平衡的载入行为，则会影响 StorageGRID 创建的对象副本数。</block>
  <block id="fa60de04662545ec13e6f5c72ab62999" category="list-text">`s标准`</block>
  <block id="b2a0c76b97f3a02d873a8af4c7c19546" category="paragraph">（默认）指定在 ILM 规则使用双提交选项或 balanced-option 回退到创建中间副本时执行双提交载入操作。</block>
  <block id="e256331112f6d35a7a55fc2ca7828393" category="list-text">`re介绍冗余`</block>
  <block id="33553ea8e640528c80dab9020b071d35" category="paragraph">指定在 ILM 规则使用双提交选项或 balanced-option 回退为创建中间副本时执行单提交载入操作。</block>
  <block id="8eb5476a87a8ae2a453523fa7fb27080" category="admonition">如果要在启用了 S3 对象锁定的情况下将对象载入存储分段，则会忽略 `re区冗余` 选项。如果要将对象载入旧的合规存储分段，则 `re区冗余` 选项将返回错误。StorageGRID 将始终执行双提交载入，以确保满足合规性要求。</block>
  <block id="a40fed7d263733d258fb5350eeb3a289" category="admonition">如果多部分上传未在 15 天内完成，则此操作将标记为非活动，并从系统中删除所有关联数据。</block>
  <block id="95cedb68a5e81f104a614f24e8d9003b" category="admonition">返回的 `ETag` 值不是数据的 MD5 之和，而是遵循 Amazon S3 API 实施的多部分对象的 `ETag` 值。</block>
  <block id="198a30920479d1d8e2509b9b59f3d700" category="section-title">版本控制</block>
  <block id="c9ffa5781b824c221be39f41fd358a0f" category="paragraph">此操作将完成多部分上传。如果为存储分段启用了版本控制，则在完成多部分上传后会创建对象版本。</block>
  <block id="a7b7d52037c90c0ab82d78bbe43e2ec7" category="paragraph">如果为存储分段启用了版本控制，则会自动为所存储的对象版本生成唯一的 `veversionId` 。此 `veversionId` 也会在响应中使用 `x-AMZ-version-id` 响应标头返回。</block>
  <block id="dd340e1674e5b7406a9a5897614483a1" category="paragraph">如果版本控制已暂停，则存储的对象版本为 null `veversionId` ，如果已存在空版本，则该版本将被覆盖。</block>
  <block id="4a4728af56808559036973b89c62416d" category="admonition">如果为存储分段启用了版本控制，则完成多部分上传始终会创建新版本，即使在同一对象密钥上同时完成多部分上传也是如此。如果某个存储分段未启用版本控制，则可以先启动多部分上传，然后再对同一对象密钥启动并完成另一个多部分上传。在非版本控制的存储分段上，最后完成的多部分上传将优先。</block>
  <block id="6c810f44cfc08ae9556b1defc3d938e6" category="section-title">复制，通知或元数据通知失败</block>
  <block id="b9c29c479884e6ac4bf1ece9b75ac099" category="paragraph">如果为平台服务配置了进行多部分上传的存储分段，则即使关联的复制或通知操作失败，多部分上传也会成功。</block>
  <block id="7afc1490fd68941143670554dd72cd51" category="paragraph">如果发生这种情况，则会在网格管理器中针对总事件（ SMT ）发出警报。最后一个事件消息显示 "`failed to publish notifications for bucket-nameobject key` " for the last object whose notification failed.（要查看此消息，请选择 * 节点 * &gt; * 存储节点 _* &gt; * 事件 * 。在表顶部查看上次事件。） 事件消息也会在 ` /var/local/log/byncast-err.log` 中列出。</block>
  <block id="b8359063324932727a397079fffd2b7c" category="paragraph">租户可以通过更新对象的元数据或标记来触发失败的复制或通知。租户可以重新提交现有值，以避免进行不必要的更改。</block>
  <block id="f0d00ba9a951450ceb1637dc62fa1036" category="summary">您可以使用 S3 SelectObjectContent 请求根据简单的 SQL 语句筛选 S3 对象的内容。</block>
  <block id="70b9e86c44d43d4bd3670abe49567308" category="doc">SelectObjectContent</block>
  <block id="31b6a4c8c48adb3bc37af596ed4bbb63" category="inline-link">适用于 SelectObjectContent 的 AWS 文档</block>
  <block id="eb1757f2032a46011c352688ec1fd3d5" category="paragraph">有关详细信息，请参见<block ref="d2120c9f28184f18a094d716118611b8" category="inline-link-rx"></block>。</block>
  <block id="92bfadf112aecd243b2c565a8df91400" category="list-text">此租户帐户具有 S3 Select 权限。</block>
  <block id="14e1d163b83529dd53346e2b391765ef" category="list-text">您对要查询的对象具有 `s 3 ： GetObject` 权限。</block>
  <block id="2cc45b208c52346a5cf25de9b4ab1f4b" category="list-text">要查询的对象为 CSV 格式，或者为包含 CSV 格式文件的 GZIP 或 bzip 2 压缩文件。</block>
  <block id="3bff75e051b8e60f4fe6c9d52d6712ba" category="list-text">SQL 表达式的最大长度为 256 KB 。</block>
  <block id="eb186a38ea7ada2fb1a7e34f83ad4d28" category="list-text">输入或结果中的任何记录的最大长度为 1 MiB 。</block>
  <block id="0b56d8058ce5536a476ac763fb2ba767" category="section-title">请求语法示例</block>
  <block id="bd736f27fb98e5e3595b7732524131cf" category="section-title">SQL 查询示例</block>
  <block id="a8b2578b7f726f66a49842f634496892" category="paragraph">此查询可从美国人口统计数据中获取状态名称， 2010 年人口， 2015 年估计人口以及变更百分比。文件中不属于状态的记录将被忽略。</block>
  <block id="e3e8ec01e8e1d6bcdcfff5cabb55c6da" category="paragraph">要查询的文件的前几行 `SUB-EST2020_all.csv` 如下所示：</block>
  <block id="ea337d5bcc0bd2126593d667b7b99fa9" category="section-title">AWS-CLI 使用示例</block>
  <block id="9523f3f9cee5c9020ccfe4bf2b01465a" category="paragraph">输出文件的前几行 `changes.csv` 如下所示：</block>
  <block id="60b06fe7e1b09c799331a676ae0c93e8" category="summary">您可以使用 S3 后对象还原请求还原存储在云存储池中的对象。</block>
  <block id="c2954de9a9a9876088defb58fb727710" category="doc">后对象还原</block>
  <block id="daaba44db7b05b69ea3b3d4cd070a26b" category="section-title">支持的请求类型</block>
  <block id="230d89a4c702026f92e2108345802d5d" category="paragraph">StorageGRID 仅支持后对象还原请求来还原对象。它不支持 `Select` 类型的还原。选择 Requests return `XNotImplement已 执行` 。</block>
  <block id="f4091a398b778dff59913af53eed1d9c" category="paragraph">或者，指定 `veversionId` 以还原受版本控制的存储分段中特定版本的对象。如果未指定 `veversionId` ，则会还原对象的最新版本</block>
  <block id="c419d57ee91a3c60f29a14e0b67a81c6" category="section-title">对云存储池对象执行后对象还原的行为</block>
  <block id="bd8099990ead3ceb2ebc06c0f862e71b" category="paragraph">如果某个对象存储在云存储池中（请参见有关通过信息生命周期管理管理来管理对象的说明），则根据对象的状态，后对象还原请求具有以下行为。有关详细信息，请参见 "`head Object` " 。</block>
  <block id="0f741383ad2180bee4f18eb98d5ac91e" category="admonition">如果某个对象存储在云存储池中，并且该对象的一个或多个副本也位于网格中，则无需发出后对象还原请求来还原该对象。相反，可以使用 GET 对象请求直接检索本地副本。</block>
  <block id="e0c3a8ff05da6c4039f60efbaa4774c9" category="cell">对象的状态</block>
  <block id="84218c4eadcc1fb82b89ace115f9470c" category="cell">POST 对象还原的行为</block>
  <block id="24c7bf900a607a311a40a6be1b5750c9" category="paragraph">对象已载入 StorageGRID ，但尚未通过 ILM 进行评估，或者对象不在云存储池中</block>
  <block id="14c0e4ef449e24a5e3352a992bb35a66" category="paragraph">`403 For禁用` ， `InvalidObjectState`</block>
  <block id="9c8524ad227430173d4f15c77bcc0cd9" category="paragraph">云存储池中的对象，但尚未过渡到无法检索的状态</block>
  <block id="6b4ba85460c612676198fd6541cb227e" category="paragraph">`200 正常` 不进行任何更改。</block>
  <block id="4ec7896ffef1d8df7792222463fba82a" category="paragraph">* 注 * ：在将对象过渡到不可检索状态之前，您不能更改其 `到期日期` 。</block>
  <block id="3778cc8511fb5feb152d8f3b72487242" category="paragraph">对象已过渡到无法检索的状态</block>
  <block id="1aef67fb56e091fff737cb181f8a2047" category="paragraph">`202 已接受` 在请求正文中指定的天数内将对象的可检索副本还原到云存储池。在此期间结束时，对象将返回到无法检索的状态。</block>
  <block id="86b373174cb21f3c062d2df3327c929d" category="paragraph">或者，也可以使用 `Tier` Request 元素来确定完成还原作业所需的时间（`Expedited` ， `Standard` 或 `Bulk` ）。如果未指定 `Tier` ，则会使用 `Standard` Tier 。</block>
  <block id="af8b9b1a1ce0e840167046db4be2b694" category="paragraph">* 注意 * ：如果对象已过渡到 S3 Glacier 深度归档或云存储池使用 Azure Blob Storage ，则无法使用 `Expedited` 层还原它。返回以下错误 `403 For禁用` ， `InvalidTier` ： `此存储类不支持检索选项` 。</block>
  <block id="2147b032f7c5ab8014b40df9d48e13f7" category="paragraph">正在从不可检索状态还原的对象</block>
  <block id="9c1a7c61a93222f539cb7854d17f0ff5" category="paragraph">`409 conflict` ， `RestoreAlreadyInProProgress`</block>
  <block id="e851a7c18d1dc1dfdbc54490152fd1f7" category="paragraph">对象已完全还原到云存储池</block>
  <block id="c8f909f1af6ee623a5e04c3092b8a4a3" category="paragraph">`200 正常`</block>
  <block id="4df99becd08e482e35514c06afad4bd3" category="paragraph">* 注： * 如果对象已还原到可检索状态，您可以通过重新发出 POST 对象还原请求并为 `Days` 提供新值来更改其 `expiry-date` 。还原日期将相对于请求时间进行更新。</block>
  <block id="b7fcde6d9bd2baca888137658547bf8a" category="inline-xref-macro">HEAD 对象</block>
  <block id="d3dfbad1277a2ca84e8a690994045d77" category="paragraph"><block ref="d3dfbad1277a2ca84e8a690994045d77" category="inline-xref-macro-rx"></block></block>
  <block id="cd65228815385b6822786eaca38a0c7e" category="inline-xref-macro">在审核日志中跟踪 S3 操作</block>
  <block id="c0f84d7e26c926b6bfc3ab153bc604f8" category="paragraph"><block ref="c0f84d7e26c926b6bfc3ab153bc604f8" category="inline-xref-macro-rx"></block></block>
  <block id="d7e7e05245ee76b9f8d57d3de41d5dd2" category="summary">上传部件 - 复制操作通过将现有对象中的数据复制为数据源来上传对象的一部分。</block>
  <block id="cb8b33ec52cf59b32d136c81f66b2419" category="doc">上传部件—复制</block>
  <block id="6230ef8653d150da19ee7f2f2047ec9d" category="paragraph">上传部件 - 复制操作可在所有 Amazon S3 REST API 行为下实施。</block>
  <block id="2a5c3b91560ba62f71827f7478c94019" category="paragraph">此请求会读取和写入 StorageGRID 系统中 `x-AMZ-copy-source-range` 中指定的对象数据。</block>
  <block id="373d49325cf8ba8b5f365ebd6983190c" category="paragraph">支持以下请求标头：</block>
  <block id="8b9ebd803c28a0b2e1d8439dec69fcf2" category="list-text">`x-AMZ-copy-source-if-match`</block>
  <block id="3f2d5685f95f185da9bd96a4136fd7e6" category="list-text">`x-AMZ-copy-source-if-none-match`</block>
  <block id="4b22f186f3b704046fe7a553951f05dc" category="list-text">`x-AMZ-copy-source-if-modified - since`</block>
  <block id="e17db0b4f2b9a7bb96eaabfe7a853af7" category="list-text">`x-AMZ-copy-source-if-modified-since`</block>
  <block id="fdf64a25c90c2abe9231c1423a6e712e" category="section-title">服务器端加密的请求标头</block>
  <block id="c527a0700c61bf2194af5c0a0e38a7de" category="paragraph">如果您为启动多部件上传请求指定了 SSI-C 加密，则还必须在每个上传部件 - 复制请求中包含以下请求标头：</block>
  <block id="4f6ea165f8006cb32569965197062ca5" category="list-text">`x-AMZ-server-side encrypt-customer-all` ：指定 `AES256` 。</block>
  <block id="0525575d0e632eaecaa5a7ac54e4433b" category="list-text">`x-AMZ-server-side encrypt-customer-key` ：指定您在启动多部件上传请求中提供的相同加密密钥。</block>
  <block id="6839526c7ffa6b8c40be35007575118e" category="list-text">`x-AMZ-server-side encrypt-customer-key-MD5` ：指定您在启动多部分上传请求中提供的相同 MD5 摘要。</block>
  <block id="6dfab6e4d15e851decf4a2b69a8db079" category="paragraph">如果源对象使用客户提供的密钥（ SSI-C ）进行加密，则必须在上传部件 - 复制请求中包含以下三个标题，以便可以解密并复制此对象：</block>
  <block id="99953085d15607516c3fb73c47097aa9" category="list-text">`x-AMZ-copy-source​ server-side​ -customer-all` ：指定 `AES256 encryption​` 。</block>
  <block id="d6cd65f7976d7d2a7a17ba87237a14a5" category="list-text">`x-AMZ-copy-source​ -server-side encryption -customer-key` ：指定您在创建源对象时提供的加密密钥。</block>
  <block id="f39eb9586ea5bb3bf6c77d6034217f43" category="list-text">`x-AMZ-copy-source​ -server-side encryption - customer-key-MD5` ：指定您在创建源对象时提供的 MD5 摘要。</block>
  <block id="a7a4bd6acff0f9afa587df85c2d354fd" category="admonition">您提供的加密密钥永远不会存储。如果丢失加密密钥，则会丢失相应的对象。在使用客户提供的密钥保护对象数据之前，请查看 "`使用服务器端加密 " 中的注意事项。`</block>
  <block id="afa3a7a262d48c5e871b5900272514a1" category="paragraph">多部分上传包括启动上传，发布上传，上传部件，组装上传的部件以及完成上传的操作。在执行完整的多部件上传操作时，系统会创建对象（如果适用，还会进行版本控制）。</block>
  <block id="803f6f49b7d257b9d1586ea8a1b7cd3b" category="summary">即使客户端应用程序处于闲置状态，您也应保持 HTTP 连接处于打开状态，以允许客户端应用程序通过打开的连接执行后续事务。根据系统测量结果和集成经验，您应将闲置的 HTTP 连接保持打开状态最多 10 分钟。StorageGRID 可能会自动关闭保持打开和闲置超过 10 分钟的 HTTP 连接。</block>
  <block id="661ec30ea3d438dbe7188b8e8f568505" category="doc">保持空闲 HTTP 连接处于打开状态的优势</block>
  <block id="20fa6be8d1272d8709f1c66abccf0d7e" category="paragraph">开放式和空闲 HTTP 连接具有以下优势：</block>
  <block id="96d4dc06015f65b27886fd73c4c9b2d3" category="list-text">从 StorageGRID 系统确定必须执行 HTTP 事务的时间缩短到 StorageGRID 系统可以执行此事务的时间</block>
  <block id="9ca1ce0742651b7105e0ff2185b6e86e" category="paragraph">缩短延迟是主要优势，尤其是在建立 TCP/IP 和 TLS 连接所需的时间方面。</block>
  <block id="9095327ba05e112f180fe07de9d8bab3" category="list-text">通过在先前执行的传输中填充 TCP/IP 慢速启动算法来提高数据传输速率</block>
  <block id="e2e0d8fd84a8bc23e7db7ec7191ddb14" category="list-text">瞬时通知多种中断客户端应用程序与 StorageGRID 系统之间连接的故障情况</block>
  <block id="6bcde641ad7d1807ebbf1057bc5fc0f6" category="paragraph">‐保持闲置连接打开多长时间是对与现有连接相关的慢速启动优势与将连接分配给内部系统资源的理想平衡。</block>
  <block id="6af535a3de86e7ae3b7be6b07577aa00" category="summary">" 列出多部件上传 " 操作会列出某个存储分段正在进行的多部件上传。</block>
  <block id="aa46eb30e2d6086110c0181ac339345c" category="doc">列出多部件上传</block>
  <block id="25d503573228f3ae945388301cb09bb0" category="paragraph">支持以下请求参数：</block>
  <block id="aa0d6df1bc88ae08f1f83a5fa0dd24f8" category="list-text">`编码类型`</block>
  <block id="6ba8b056b6dd2eab11748620dc05c402" category="list-text">`m轴向上传`</block>
  <block id="99568649bc5e708c49a17e00f09cb1de" category="list-text">`键标记`</block>
  <block id="289122951aba938cbfadf4da0c9fe561" category="list-text">`前缀`</block>
  <block id="af636ba43e1df221bd5df7dd9af19d7a" category="list-text">`upload-id-marker`</block>
  <block id="36e6c5b42bc51bed8d13ebcd019e8dc8" category="paragraph">不支持 `delimiter` request 参数。</block>
  <block id="9e19b586ff07579d6e08af1ceba3b314" category="paragraph">多部分上传包括启动上传，发布上传，上传部件，组装上传的部件以及完成上传的操作。执行完 " 多部分上传 " 操作后，即创建对象（并在适用情况下进行版本控制）。</block>
  <block id="69a03ae33d5b9c18eaa87453a7ff1ffc" category="paragraph">默认一致性控制设置为保证新创建的对象的写入后读。</block>
  <block id="dea999e421713733669b8ed71a0d891f" category="paragraph">要完成此操作，您拥有 S3 ： PutBucketConsistency 权限或帐户 root 。</block>
  <block id="15c2d85f1fae22a3c3a0594510a1f611" category="section-title">请求</block>
  <block id="b97edba4a78bc800e671f50569d41b3f" category="paragraph">`x-ntap-sg-consistency` 参数必须包含以下值之一：</block>
  <block id="1bc117ef69b198df35d2868cd7f526a9" category="cell">一致性控制</block>
  <block id="a181a603769c1f98ad927e7367c7aa51" category="paragraph">全部</block>
  <block id="42c27dfda2a766377ec6e02a30964f5d" category="paragraph">所有节点都会立即接收数据，否则请求将失败。</block>
  <block id="c5160523f92c714ee0ebc3a1ed84e19e" category="paragraph">强大的全局功能</block>
  <block id="49e496db9d97da136564a4d8c77248ab" category="paragraph">保证所有站点中所有客户端请求的写入后读一致性。</block>
  <block id="bb4a942b10dfda653861c0b951bdf89d" category="paragraph">强大的站点</block>
  <block id="75fa00cf0582d86084dc49fc6b5fc7d8" category="paragraph">保证站点内所有客户端请求的写入后读一致性。</block>
  <block id="4b920fd4b7177db4e9b187c42a7cc182" category="paragraph">读后写</block>
  <block id="39464963c2619660d5e07a8846bac19b" category="paragraph">（默认）为新对象提供写入后读一致性，并为对象更新提供最终一致性。提供高可用性和数据保护保证。最符合 Amazon S3 一致性保证。</block>
  <block id="0d953472bf55db8e1ffe5070c54cb8c7" category="paragraph">* 注意： * 如果应用程序对不存在的对象使用 head 请求，则在一个或多个存储节点不可用时，可能会收到大量 500 个内部服务器错误。要防止出现这些错误，请将一致性控制设置为 "`Available` " ，除非您需要类似于 Amazon S3 的一致性保证。</block>
  <block id="974da774eb8d4af1857719867d274017" category="paragraph">可用（机头操作的最终一致性）</block>
  <block id="26f2399e07a0cb92d1a4d262ce2c8646" category="paragraph">与 `read-after-new-write` 一致性级别相同，但仅为机头操作提供最终一致性。如果存储节点不可用，则为机头操作提供的可用性比 " `read-after-new-write` " 更高。与 Amazon S3 一致性保证不同，仅适用于机头操作。</block>
  <block id="4bfd53ccd1c3e0389715a396aaf3e7ee" category="paragraph">* 注： * 通常，您应使用 `read-after-new-write` 一致性控制值。如果请求无法正常工作，请尽可能更改应用程序客户端的行为。或者，配置客户端以指定每个 API 请求的一致性控制。请仅作为最后一种方法在存储分段级别设置一致性控制。</block>
  <block id="648cd236cc3b970cfe7b458958153a5e" category="section-title">请求示例</block>
  <block id="135732335a4098a420000dc72d151271" category="inline-xref-macro">一致性控制</block>
  <block id="6dd0f05adfcf90311b9996dd4624201c" category="paragraph"><block ref="6dd0f05adfcf90311b9996dd4624201c" category="inline-xref-macro-rx"></block></block>
  <block id="19759e7763dafb4b25cf72abcfb3d852" category="paragraph">要完成此操作，您对某个存储分段拥有 S3 ： PutBucketLastAccessTime 权限，或者您是帐户的 root 用户。</block>
  <block id="29084300c538014b4b648167d179175f" category="admonition">从 StorageGRID 10.3 版开始，默认情况下，所有新存储分段都会禁用对上次访问时间的更新。如果您的存储分段是使用早期版本的 StorageGRID 创建的，并且您希望与新的默认行为匹配，则必须明确禁用上述每个存储分段的上次访问时间更新。您可以使用租户管理器中的 PUT 分段上次访问时间请求， * S3 &gt; * 分段 * &gt; * 更改上次访问设置 * 复选框或租户管理 API 启用或禁用对最后访问时间的更新。</block>
  <block id="2ea8cfacffe940cc9c88cc22edf1a3b7" category="paragraph">如果禁用了某个存储分段的上次访问时间更新，则会对存储分段上的操作应用以下行为：</block>
  <block id="75e4fe30e08f7e438740ba814277a040" category="list-text">GET 对象， GET 对象 ACL ， GET 对象标记和 HEAD 对象请求不会更新上次访问时间。此对象不会添加到用于信息生命周期管理（ ILM ）评估的队列中。</block>
  <block id="bb47c5276c8477acedd41b78cf140e4f" category="list-text">PUT 对象—仅更新元数据的复制和 PUT 对象标记请求也会更新上次访问时间。对象将添加到队列中以进行 ILM 评估。</block>
  <block id="d5d352793d3de3bf2159f3b1b6b868dc" category="list-text">如果对源存储分段禁用了对最后访问时间的更新，则 PUT Object - Copy Requests 不会更新源存储分段的最后访问时间。复制的对象不会添加到源存储分段的 ILM 评估队列中。但是，对于目标， PUT 对象 - 复制请求始终更新上次访问时间。对象副本将添加到队列中以进行 ILM 评估。</block>
  <block id="6ab06f99fd40ededf386caac69f5254a" category="list-text">完成多部件上传请求更新上次访问时间。已完成的对象将添加到队列中以进行 ILM 评估。</block>
  <block id="7abc45ef83065d333cf99c6895f56790" category="section-title">请求示例</block>
  <block id="0a25516e11e5e7d9eedc0b07fa8cf7ea" category="paragraph">此示例将为存储分段启用上次访问时间。</block>
  <block id="deff657be3d9af947a49b83f47b663e2" category="paragraph">此示例将禁用存储分段的上次访问时间。</block>
  <block id="9bd7018363af8cfd648e854b4a6617e5" category="inline-xref-macro">使用租户帐户</block>
  <block id="9b031ca90ec8d523c5fd77f13d553f57" category="paragraph"><block ref="9b031ca90ec8d523c5fd77f13d553f57" category="inline-xref-macro-rx"></block></block>
  <block id="044f648a1c06245202f44106b55a3f3c" category="summary">要直接连接到存储节点或网关节点上的 CLB 服务 \ （已弃用 \ ），您应将活动 HTTP 连接的持续时间限制为最多 10 分钟，即使 HTTP 连接持续执行事务也是如此。</block>
  <block id="ced5045b9200f1bd152c17ff1b5feea8" category="doc">活动 HTTP 连接的优势</block>
  <block id="5f99cad9956534b11ee794f2e94bd147" category="paragraph">要直接连接到存储节点或网关节点上的 CLB 服务（已弃用），您应将活动 HTTP 连接的持续时间限制为最多 10 分钟，即使 HTTP 连接持续执行事务也是如此。</block>
  <block id="5ff0f883ff0604aefb2e552c18e0ff2a" category="paragraph">‐连接应保持打开状态的最长持续时间是为了权衡连接持久性的优势与将连接分配给内部系统资源的理想方式。</block>
  <block id="eb10ecea64ec47f50363518f76471103" category="paragraph">对于客户端与存储节点或 CLB 服务的连接，限制活动 HTTP 连接具有以下优势：</block>
  <block id="e7ff1390c200483f4ec89203b0d722fb" category="list-text">在 StorageGRID 系统之间实现最佳负载平衡。</block>
  <block id="70d9de57544bc7b293de6db489bfb82b" category="paragraph">使用 CLB 服务时，您应防止使用长‐寿命的 TCP/IP 连接，以优化整个 StorageGRID 系统的负载平衡。您应将客户端应用程序配置为跟踪每个 HTTP 连接的持续时间，并在设置的时间后关闭 HTTP 连接，以便可以重新建立和重新平衡 HTTP 连接。</block>
  <block id="c592da1e79cfa7f1834412e6ed0eeef6" category="paragraph">在客户端应用程序建立 HTTP 连接时， CLB 服务会在整个 StorageGRID 系统中平衡负载。随着时间的推移，随着负载平衡要求的变化， HTTP 连接可能不再是最佳连接。当客户端应用程序为每个事务建立单独的 HTTP 连接时，系统会执行最佳的负载平衡，但这会抵消与持久连接相关的更有价值的收益。</block>
  <block id="531f1a64c76d4ee1268ba53a81be7852" category="admonition">CLB 服务已弃用。</block>
  <block id="89811514ae59b99abdf78447af5abc09" category="list-text">允许客户端应用程序将 HTTP 事务定向到具有可用空间的 LDR 服务。</block>
  <block id="a1250305f9358d42829ceb953f0404d6" category="list-text">允许开始维护过程。</block>
  <block id="b74f6f3bb02032a712ec6708258b0bde" category="paragraph">某些维护过程仅在所有正在进行的 HTTP 连接完成后才会启动。</block>
  <block id="911f6dfdec1c0fa9db82f7df7341379f" category="paragraph">对于客户端与负载平衡器服务的连接，限制打开连接的持续时间对于允许某些维护过程立即启动非常有用。如果客户端连接的持续时间不受限制，则自动终止活动连接可能需要几分钟的时间。</block>
  <block id="4aacbdad7d81cd4fe0ad188b4e33394a" category="summary">您可以创建 S3 生命周期配置，以控制何时从 StorageGRID 系统中删除特定对象。</block>
  <block id="2d807ae71e9e3d32e963e66a96a002ca" category="doc">创建 S3 生命周期配置</block>
  <block id="28900b524e666b348463c40764455b4c" category="inline-link">《 Amazon Simple Storage Service 开发人员指南：对象生命周期管理》</block>
  <block id="5549cfb0b009fdc184bd8994c4841311" category="paragraph">本节中的简单示例说明了 S3 生命周期配置如何控制从特定 S3 存储分段中删除（过期）某些对象的时间。本节中的示例仅供说明。有关创建 S3 生命周期配置的完整详细信息，请参见<block ref="7921917f917024d251bef68ae96b694c" category="inline-link-rx"></block>。请注意， StorageGRID 仅支持到期操作，不支持过渡操作。</block>
  <block id="1403b60c70427e16c116e4828ba61d35" category="section-title">什么是生命周期配置</block>
  <block id="7237dbaae1efaf45679f5983bf89ecdb" category="paragraph">生命周期配置是一组应用于特定 S3 分段中的对象的规则。每个规则都指定受影响的对象以及这些对象的到期时间（在特定日期或一定天数后）。</block>
  <block id="f8ddf9feb35885470b54cc7bc6b0c913" category="paragraph">StorageGRID 在一个生命周期配置中最多支持 1 ， 000 条生命周期规则。每个规则可以包含以下 XML 元素：</block>
  <block id="6778b95944fe51e4a619971577ef5ee9" category="list-text">到期日期：从对象载入开始，在达到指定日期或达到指定天数时删除对象。</block>
  <block id="78f9560991f2641b0e0f5ce11d361273" category="list-text">NoncurrentVersionExpiration ：从对象变为非最新状态开始，在达到指定天数时删除对象。</block>
  <block id="0422ebe572a6bb9b7e6d689e7fd6f1b7" category="list-text">筛选器（前缀，标记）</block>
  <block id="ec53a8c4f07baed5d8825072c89799be" category="list-text">Status</block>
  <block id="b718adec73e04ce3ec720dd11a06a308" category="list-text">ID</block>
  <block id="888409af1d2a5833312d96ad7c92d645" category="paragraph">如果将生命周期配置应用于某个存储分段，则存储分段的生命周期设置始终会覆盖 StorageGRID ILM 设置。StorageGRID 使用存储分段的 " 到期 " 设置（而不是 ILM ）来确定是删除还是保留特定对象。</block>
  <block id="dda97d52fb69af61f64b0381157a8455" category="inline-xref-macro">ILM 如何在对象的整个生命周期内运行</block>
  <block id="0b5371da5755e0d21861db89427b62c8" category="paragraph">因此，即使 ILM 规则中的放置说明仍适用于某个对象，该对象也可能会从网格中删除。或者，即使对象的任何 ILM 放置指令已失效，该对象也可能会保留在网格中。有关详细信息，请参见 <block ref="aa109a797e2be43ec6a364e0f59b9aed" category="inline-xref-macro-rx"></block>。</block>
  <block id="c0d1c7c2590aacb38661a751968eaa31" category="admonition">存储分段生命周期配置可用于启用了 S3 对象锁定的存储分段，但旧版合规存储分段不支持存储分段生命周期配置。</block>
  <block id="663ef94c78c892b73cc57c0ecf2b8bc6" category="paragraph">StorageGRID 支持使用以下存储分段操作来管理生命周期配置：</block>
  <block id="2040c4d14ed44792b8966c611336dfa3" category="list-text">删除存储分段生命周期</block>
  <block id="3f2462cde840404a89b750f557d4754b" category="list-text">获取存储分段生命周期</block>
  <block id="7b40b2ab0b8e095360f2d01b71dafe87" category="list-text">PUT 存储分段生命周期</block>
  <block id="f8d2f79250f54a742eec560a47022213" category="section-title">创建生命周期配置</block>
  <block id="058711a626ab33171f020d2148a6ad18" category="paragraph">作为创建生命周期配置的第一步，您需要创建一个包含一个或多个规则的 JSON 文件。例如，此 JSON 文件包含三个规则，如下所示：</block>
  <block id="b4a0da82e9d0af8a994cd90413a5e943" category="list-text">规则 1 仅适用于与前缀 `category1` / 匹配且 `key2` 值为 `ag2` 的对象。`Expiration` 参数指定与筛选器匹配的对象将在 2020 年 8 月 22 日午夜到期。</block>
  <block id="1ff311cb6e63fd196fe788b4953815bf" category="list-text">规则 2 仅适用于与前缀 `category2` / 匹配的对象。`Expiration` 参数指定与筛选器匹配的对象将在载入后 100 天后过期。</block>
  <block id="f2c02934edec79173be5544f20f8e6ca" category="admonition">指定天数的规则与对象的载入时间相关。如果当前日期超过载入日期加上天数，则在应用生命周期配置后，可能会立即从存储分段中删除某些对象。</block>
  <block id="3f5371921e337905386f407f3d9d730b" category="list-text">规则 3 仅适用于与前缀 `category3` / 匹配的对象。`Expiration` 参数指定任何非最新版本的匹配对象将在其变为非最新状态 50 天后过期。</block>
  <block id="896cd69eb75c862798f9e986f848f272" category="section-title">将生命周期配置应用于存储分段</block>
  <block id="c2db0dc3a57dd161d0bbd08930361901" category="paragraph">创建生命周期配置文件后，您可以通过发出 PUT 存储分段生命周期请求将其应用于存储分段。</block>
  <block id="7d231c64201330534bbc01fac1411591" category="paragraph">此请求会将示例文件中的生命周期配置应用于名为 `testbucket` 的存储分段中的对象。</block>
  <block id="10442bb1f86eb21aa00a4605c45f7047" category="paragraph">要验证是否已成功将生命周期配置应用于存储分段，请发送问题描述 获取存储分段生命周期请求。例如：</block>
  <block id="c91e641f8865711f6c2fc7a7dc76e442" category="paragraph">成功的响应将列出您刚刚应用的生命周期配置。</block>
  <block id="060c8712d48c803bf3c6b9f7fd48338f" category="section-title">验证存储分段生命周期到期适用场景 对象</block>
  <block id="dd41f779afc113d793d46e4ad6cf37fc" category="paragraph">在发出 PUT 对象， HEAD 对象或 GET 对象请求时，您可以确定生命周期配置适用场景 中的到期规则是否为特定对象。如果适用某条规则，响应将包含一个 `Expiration` 参数，用于指示对象何时到期以及匹配的到期规则。</block>
  <block id="9380c38f70454ec6c61885568905a223" category="inline-xref-macro">如何确定对象保留</block>
  <block id="e9f7786c2d266965d42d9606f1e35a60" category="admonition">由于存储分段生命周期会覆盖 ILM ，因此显示的 `expiry-date` 是删除对象的实际日期。有关详细信息，请参见 <block ref="329ae4f541b959a64d4c5bc7fa060170" category="inline-xref-macro-rx"></block>。</block>
  <block id="7c7cd0c3b0ffdd413ccfa8fd904fe1bb" category="paragraph">例如，此 PUT 对象请求是在 2020 年 6 月 22 日发出的，并将一个对象放置在 `testbucket` 存储分段中。</block>
  <block id="32b4e0717371fe0a2f04385da075f741" category="paragraph">成功响应表示此对象将在 100 天后（ 2020 年 10 月 1 日）过期，并且与生命周期配置的规则 2 匹配。</block>
  <block id="6a9aa5aaf28b032eef0854956d08f940" category="paragraph">例如，此 head Object 请求用于获取测试分段中同一对象的元数据。</block>
  <block id="61a71dea7834c7859fe6478d0f133050" category="paragraph">成功响应包括对象的元数据，并指示对象将在 100 天后过期，并且与规则 2 匹配。</block>
  <block id="6e8b93a7e746b1247b06f0929d7eb50b" category="summary">客户端应用程序可以使用 S3 REST API 调用连接到 StorageGRID 来创建，删除和修改存储分段以及存储和检索对象。</block>
  <block id="10f0c8ffe182727f9fa148dbbcc698dd" category="doc">StorageGRID 如何实施 S3 REST API</block>
  <block id="895c81ed9ef542f709ba85d5b52a7e86" category="summary">您可以使用版本控制来保留一个对象的多个版本，从而防止意外删除对象，并可用于检索和还原对象的早期版本。</block>
  <block id="a1b7de43a5472d2ba57c5f863040eec2" category="doc">对象版本控制</block>
  <block id="370f371054b18b46cbf60cd1e7d61637" category="paragraph">StorageGRID 系统实施版本控制，并支持大多数功能，但存在一些限制。StorageGRID 最多支持 1 ， 000 个对象版本。</block>
  <block id="a500236baa22b854c8950ceaa951cfa4" category="paragraph">对象版本控制可以与 StorageGRID 信息生命周期管理（ ILM ）或 S3 存储分段生命周期配置结合使用。要为每个存储分段启用此功能，您必须明确启用版本控制。存储分段中的每个对象都分配有一个版本 ID ，该 ID 由 StorageGRID 系统生成。</block>
  <block id="15cadadd1fbc1a33028cbf0e54497f0f" category="paragraph">不支持使用 MFA （多因素身份验证） Delete 。</block>
  <block id="2144a85b76e0d91c31c2ce1975efd664" category="admonition">只能在使用 StorageGRID 10.3 或更高版本创建的存储分段上启用版本控制。</block>
  <block id="c3cc784d838d1ddc82faf30f78fb1c7e" category="section-title">ILM 和版本控制</block>
  <block id="651d8daacb1fb2901c48c30813f49776" category="paragraph">ILM 策略将应用于对象的每个版本。ILM 扫描过程会持续扫描所有对象，并根据当前 ILM 策略重新评估这些对象。对 ILM 策略所做的任何更改都会应用于先前载入的所有对象。如果启用了版本控制，则包括先前载入的版本。ILM 扫描会将新的 ILM 更改应用于先前输入的对象。</block>
  <block id="192c480f6825634768721af4482b19ea" category="paragraph">对于启用了版本控制的分段中的 S3 对象，版本控制支持允许您创建使用非当前时间作为参考时间的 ILM 规则。对象更新后，其先前版本将变为非最新版本。使用非当前时间筛选器可以创建策略，以减少先前版本的对象对存储的影响。</block>
  <block id="d3803123388c3b9e5ccd792ab92f1f25" category="admonition">使用多部分上传操作上传新版本的对象时，原始版本对象的非当前时间反映为新版本创建多部分上传的时间，而不是多部分上传完成的时间。在有限情况下，原始版本的非当前时间可能比当前版本的时间早数小时或数天。</block>
  <block id="5fb49e0bb937d5db3195b03fcb4cad1b" category="paragraph">有关 S3 版本控制对象的示例 ILM 策略，请参见有关通过信息生命周期管理管理对象的说明。</block>
  <block id="d63f064d83de612ce4cca9469d0f3791" category="summary">如果为 StorageGRID 系统启用了全局 S3 对象锁定设置，则可以在启用了 S3 对象锁定的情况下创建存储分段，然后为添加到存储分段的每个对象版本指定保留日期和合法保留设置。</block>
  <block id="d097c56aee3af4c3ea772b3b02fd5558" category="paragraph">如果为 StorageGRID 系统启用了全局 S3 对象锁定设置，则可以在启用了 S3 对象锁定的情况下创建存储分段，然后为每个存储分段指定默认保留期限，或者为添加到存储分段的每个对象版本指定特定的保留截止日期和合法保留设置。</block>
  <block id="1718cd5d0429ddf87112ff5aa8e183c7" category="paragraph">通过 S3 对象锁定，您可以指定对象级别的设置，以防止对象在固定时间内或无限期地被删除或覆盖。</block>
  <block id="28a05b6e2c6778099ff98d82bdc93910" category="paragraph">StorageGRID S3 对象锁定功能提供了一种保留模式，相当于 Amazon S3 合规模式。默认情况下，任何用户都无法覆盖或删除受保护的对象版本。StorageGRID S3 对象锁定功能不支持监管模式，并且不允许具有特殊权限的用户绕过保留设置或删除受保护的对象。</block>
  <block id="c1ccbccd0cb6b15b15041ce1f8884e29" category="section-title">为存储分段启用 S3 对象锁定</block>
  <block id="e20b6dff76c920d2d2f85cca692fe272" category="paragraph">如果为 StorageGRID 系统启用了全局 S3 对象锁定设置，则可以选择在创建每个分段时启用 S3 对象锁定。您可以使用以下任一方法：</block>
  <block id="b8f005d184cfd1c2af708933dbff3d5c" category="list-text">使用租户管理器创建存储分段。</block>
  <block id="aa9befeb4b8c491eef74ca07449fcbaf" category="list-text">使用具有 `x-AMZ-bucket-object-lock-enabled` 请求标题的 PUT Bucket 请求创建存储分段。</block>
  <block id="c513af823f6f9110a27fc0baff0129bc" category="inline-xref-macro">对存储分段执行的操作</block>
  <block id="27b07222405993af3879f49df670d3c1" category="paragraph"><block ref="27b07222405993af3879f49df670d3c1" category="inline-xref-macro-rx"></block></block>
  <block id="7f872969121adbfef01c9f70ffd3e5c0" category="paragraph">创建存储分段后，您无法添加或禁用 S3 对象锁定。S3 对象锁定需要分段版本控制，在创建分段时会自动启用分段版本控制。</block>
  <block id="d089d0451216c7856f248bf930708564" category="paragraph">启用了 S3 对象锁定的存储分段可以包含具有和不具有 S3 对象锁定设置的对象组合。StorageGRID 支持 S3 对象锁定分段中的对象的默认保留期限，并支持 PUT 对象锁定配置分段操作。`s 3 ： object-lock-remaing-retention-days` 策略条件键可设置对象允许的最小和最大保留期限。</block>
  <block id="42b79529c19b3a11e517bfacee0d5b0a" category="section-title">确定是否为存储分段启用了 S3 对象锁定</block>
  <block id="9293d9de335d9987e99a7ee2d64fba08" category="inline-xref-macro">获取对象锁定配置</block>
  <block id="4ba0518e459792392ca784d64c0f833b" category="paragraph">要确定是否已启用 S3 对象锁定，请使用 <block ref="c76d107b2667bf397ca2ce3df3e37426" category="inline-xref-macro-rx"></block> 请求。</block>
  <block id="22a440e54c2bd73c3aec920e4ae896a2" category="section-title">使用 S3 对象锁定设置创建对象</block>
  <block id="ca21f1c8373335f80e4154167891b3c0" category="paragraph">要在将对象版本添加到启用了 S3 对象锁定的存储分段时指定 S3 对象锁定设置，请问题描述 对 PUT 对象， PUT 对象 - 复制或启动多部件上传请求。请使用以下请求标头。</block>
  <block id="505ad3345d31f1a017b333805fc7f5a2" category="admonition">创建存储分段时，必须启用 S3 对象锁定。创建存储分段后，您无法添加或禁用 S3 对象锁定。</block>
  <block id="1c29222f879c99094ff21f20049a6638" category="list-text">`x-AMZ-object-lock-mode` ，必须符合要求（区分大小写）。</block>
  <block id="07400119224136e704637356bd305b0b" category="admonition">如果指定 `x-AMZ-object-lock-mode` ，则还必须指定 `x-AMZ-object-lock-retain-until date` 。</block>
  <block id="1a219f6a434453a2f64a38d709f5dd6c" category="list-text">`x-AMZ-object-lock-retain-until date`</block>
  <block id="5b91da5434d095ff816e938eeb008543" category="list-text">保留日期值的格式必须为 `2020-08-10T21 ： 46 ： 00Z` 。允许使用小数秒，但仅保留 3 位小数（精确度为毫秒）。不允许使用其他 ISO 8601 格式。</block>
  <block id="f3aaed37ad211e3d7e0392e6b67247d7" category="list-text">保留截止日期必须为未来日期。</block>
  <block id="002dca04695d56e427cc0c21cb0c7077" category="list-text">`x-AMZ-object-lock-legal-hold`</block>
  <block id="cef8bee392e0c660aef6cbe757ccc3f1" category="paragraph">如果处于合法保留状态（区分大小写），则对象将置于合法保留状态。如果关闭了合法保留，则不会进行合法保留。任何其他值都会导致 400 错误请求（ InvalidArgument ）错误。</block>
  <block id="6cbb905dfc4f3d1576528648e5105e19" category="paragraph">如果您使用上述任一请求标头，请注意以下限制：</block>
  <block id="80a3ba7120a51ab28acb60048c738904" category="list-text">如果 PUT 对象请求中存在任何 `x-AMZ-object-lock-*` 请求标头，则需要提供 `Content-MD5` 请求标头。PUT 对象 - 复制或启动多部件上传不需要 `Content-MD5` 。</block>
  <block id="bf19c6323c9c977255b55f042b8aeaec" category="list-text">如果存储分段未启用 S3 对象锁定，并且存在 `x-AMZ-object-lock-*` 请求标头，则会返回 400 错误请求（ InvalidRequest ）错误。</block>
  <block id="fdcfeac40bc2c8506116280d2009f85a" category="list-text">PUT 对象请求支持使用 `x-AMZ-storage-class ： reduced _redundancy` 来匹配 AWS 行为。但是，如果在启用了 S3 对象锁定的情况下将对象载入存储分段，则 StorageGRID 将始终执行双提交载入。</block>
  <block id="1f15cb1ce07364827d30276b6c58cfc1" category="list-text">如果已配置标题 `x-AMZ-object-lock-mode` ， `x-AMZ-object-lock-retain-tilt-date` 和 `x-AMZ-object-lock-legal-hold` ，并且请求发送方具有正确的 `s 3 ： get*` 权限，则后续 GET 或 HEAD 对象版本响应将包括标题 x-AMZ-object-lock-legal-hold 。</block>
  <block id="1d074997539db1a4f78dfedda931faa8" category="list-text">如果后续的删除对象版本或删除对象版本请求早于保留截止日期或处于合法保留状态，则此请求将失败。</block>
  <block id="796c414f1716ba038a581bc1183dbf5f" category="section-title">更新 S3 对象锁定设置</block>
  <block id="f81717b568bb8e560737fa522e9bb229" category="paragraph">如果需要更新现有对象版本的合法保留或保留设置，可以执行以下对象子资源操作：</block>
  <block id="aa9e31bb3e6b943b92652a5b9bb60bce" category="list-text">`PUT 对象合法保留`</block>
  <block id="3a12aa873210aeca879018d08aef5a47" category="paragraph">如果新的合法保留值为 on ，则对象将置于合法保留状态。如果合法保留值为 off ，则取消合法保留。</block>
  <block id="ea7b4934db5453f44eb47ceeff7db88c" category="list-text">`放置对象保留`</block>
  <block id="ba943629aea7a80dbacf982daf1d8519" category="list-text">模式值必须符合要求（区分大小写）。</block>
  <block id="59be2145c60bf25cd63929437ba96129" category="list-text">如果对象版本具有现有的保留日期，则只能增加此保留日期。新的价值必须是未来的。</block>
  <block id="e96c8cbc97fd5e622490bd7bde1fe73d" category="inline-xref-macro">PUT 对象</block>
  <block id="cdf681f85025a15ffc70c9c4ff0354d2" category="paragraph"><block ref="cdf681f85025a15ffc70c9c4ff0354d2" category="inline-xref-macro-rx"></block></block>
  <block id="5e225d97d4e518ae6ae58edec4eeb177" category="inline-xref-macro">PUT 对象—复制</block>
  <block id="eda4539fdbc80f08142becdf4bc17047" category="paragraph"><block ref="eda4539fdbc80f08142becdf4bc17047" category="inline-xref-macro-rx"></block></block>
  <block id="4abf24a6c91c581a57a7e48e95e7dd82" category="inline-xref-macro">启动多部件上传</block>
  <block id="1ee23890e17d211dea91a2e55a579093" category="paragraph"><block ref="1ee23890e17d211dea91a2e55a579093" category="inline-xref-macro-rx"></block></block>
  <block id="065c004ce2b5787c6db959a480b8129e" category="paragraph"><block ref="065c004ce2b5787c6db959a480b8129e" category="inline-xref-macro-rx"></block></block>
  <block id="722a41229942b6702af4a4d6cac21207" category="inline-link">《 Amazon Simple Storage Service 用户指南：使用 S3 对象锁定》</block>
  <block id="4f5a8f587d31a8b302fa17f82e1d937c" category="paragraph"><block ref="4f5a8f587d31a8b302fa17f82e1d937c" category="inline-link-rx"></block></block>
  <block id="47b5540622ed0cf601103c91274dab10" category="summary">StorageGRID 系统实施简单存储服务 API （ API 版本 2006-03-01 ），支持大多数操作，但有一些限制。在集成 S3 REST API 客户端应用程序时，您需要了解实施详细信息。</block>
  <block id="e2c457a9ab17e27e8cbe2b36b452edcc" category="doc">S3 REST API 支持的操作和限制</block>
  <block id="132e856b64cb036fb36cfd03ade77907" category="paragraph">StorageGRID 系统既支持虚拟托管模式请求，也支持路径模式请求。</block>
  <block id="f04abf7b5f6dc653eb6a627af321520e" category="section-title">日期处理</block>
  <block id="4b7d5d3020c175d0c0e6c4e3fcb23040" category="paragraph">S3 REST API 的 StorageGRID 实施仅支持有效的 HTTP 日期格式。</block>
  <block id="fe37fbf87d40bed10e205a69f0c38b1c" category="paragraph">对于接受日期值的任何标头， StorageGRID 系统仅支持有效的 HTTP 日期格式。日期的时间部分可以使用格林威治标准时间（ GMT ）格式或通用协调时间（ UTC ）格式指定，并且不存在时区偏移（必须指定 +0000 ）。如果您在请求中包含 `x-AMZ-date` 标题，则此标题将覆盖日期请求标题中指定的任何值。使用 AWS 签名版本 4 时，签名请求中必须包含 `x-AMZ-date` 标头，因为不支持日期标头。</block>
  <block id="cc793b5d441871aeaa6bd4e39d7be604" category="section-title">通用请求标头</block>
  <block id="02aa54d879f4a42b986dd44918b7921a" category="inline-link">Amazon Web Services （ AWS ）文档： Amazon Simple Storage Service API 参考</block>
  <block id="c5bc2b8d96955c770c125c60e85e5417" category="paragraph">StorageGRID 系统支持由定义的通用请求标头<block ref="c8fc3798ce64cd25a421a2d5335f4d2a" category="inline-link-rx"></block>，但有一个例外。</block>
  <block id="689ff7e5e0aca124b870172d36868d96" category="cell">请求标题</block>
  <block id="b672f52ade975e864ae6b58722c03689" category="cell">实施</block>
  <block id="9cd8a2455b1839ff98ef70c05b9b5983" category="paragraph">Authorization</block>
  <block id="532ab7a5d11180d45b53e56a67a1f942" category="paragraph">完全支持 AWS 签名版本 2</block>
  <block id="d4ddbaaac12bb029215f6cafa66557bc" category="paragraph">支持 AWS 签名版本 4 ，但以下情况除外：</block>
  <block id="936a01998d09db65ea98220c6818aadc" category="list-text">不会为请求正文计算 SHA256 值。接受用户提交的值而不进行验证，就好像为 `x-AMZ-content-SHA256` 标头提供了值 `unsigned-load` 一样。</block>
  <block id="d34a1258cedd9479232cb54cba110ca6" category="paragraph">X-AMZ-securation-token</block>
  <block id="c98860d3a4117446fa35ee6734537623" category="paragraph">未实施。返回 `XNotImplemented"` 。</block>
  <block id="50a7f3849af0f69e472b55036bc29bfb" category="section-title">通用响应标头</block>
  <block id="53d85e4d05720606c6c28de9f1fbe33d" category="paragraph">StorageGRID 系统支持由 _Simple Storage Service API 参考 _ 定义的所有通用响应标头，但有一个例外。</block>
  <block id="83f234109f1fb8d2fae7ee7804274f7b" category="cell">响应标头</block>
  <block id="033f2963de579b98133abe2f69678328" category="paragraph">X-AMZ-ID-2</block>
  <block id="aadb3ee341867ca2327dd458d9f1e42b" category="paragraph">未使用</block>
  <block id="dd322ca5108fdfe20288713c9c0196cf" category="summary">SGCompliance XML 元素已弃用。以前，您可以将此 StorageGRID 自定义元素包含在 PUT 存储分段请求的可选 XML 请求正文中，以创建合规存储分段。</block>
  <block id="3ac197281a096c3a132b5f05d73e7ddc" category="doc">已弃用：为满足合规性而修改存储分段请求</block>
  <block id="7ff780ccf6d99b014768721983b36974" category="admonition">先前 StorageGRID 版本中提供的 StorageGRID 合规性功能已弃用，并已被 S3 对象锁定取代。</block>
  <block id="d93d8fc613fb8e30b6a21fcc74a11f62" category="paragraph"><block ref="d93d8fc613fb8e30b6a21fcc74a11f62" category="inline-xref-macro-rx"></block></block>
  <block id="de6808718008bb476318679aebfb4865" category="inline-link">NetApp 知识库：如何在 StorageGRID 11.5 中管理原有的合规存储分段</block>
  <block id="1d8c93bce0af5c728756c32f72cd4108" category="paragraph"><block ref="1d8c93bce0af5c728756c32f72cd4108" category="inline-link-rx"></block></block>
  <block id="8df2c1e0e6bdffe84ecee2ba1a86fb03" category="paragraph">您不能再在已启用合规性的情况下创建新存储分段。如果您尝试使用 PUT 分段请求修改以满足合规性要求来创建新的合规分段，则会返回以下错误消息：</block>
  <block id="77a6d175c06227f23c193f614f94ca72" category="summary">PUT 存储分段合规性请求已弃用。但是，您可以继续使用此请求修改现有旧版合规存储分段的合规性设置。</block>
  <block id="7c8fbcb9b06184f164e723e4181a63df" category="doc">已弃用： PUT 存储分段合规性请求</block>
  <block id="ecab373850ab0dccc2857eed20f23701" category="paragraph">PUT 存储分段合规性请求已弃用。但是，您可以继续使用此请求修改现有旧版合规存储分段的合规性设置。例如，您可以将现有存储分段置于合法保留状态或延长其保留期限。</block>
  <block id="904876efd3ecf7c67dd893451d64fdd2" category="paragraph">要完成此操作，您拥有 S3 ： PutBucketCompliance 权限或帐户 root 。</block>
  <block id="8e39f0cd61263524318d6c7c53c567bc" category="paragraph">发出 PUT 存储分段合规性请求时，必须为合规性设置的每个字段指定一个值。</block>
  <block id="1a0f84cd39abcf80d377c3f442e7f4eb" category="paragraph">此示例请求修改名为 `mybucket` 的存储分段的合规性设置。在此示例中， `mybucket` 中的对象现在将保留两年（ 1 ， 051 ， 200 分钟），而不是一年，从将对象载入网格开始。此存储分段没有法律上的保留。每个对象将在两年后自动删除。</block>
  <block id="49ee3087348e8d44e1feda1917443987" category="cell">Name</block>
  <block id="3a97931ad02875fff45a32d7ae2f5bf0" category="paragraph">RetentionPeriodMinutes</block>
  <block id="ff431952b12f5b39e26c90823e26c9e0" category="paragraph">添加到此存储分段的对象的保留期限长度，以分钟为单位。保留期限从将对象载入网格时开始。</block>
  <block id="36533402a0dc2f9821646c49bdb9fe84" category="paragraph">* 注意： * 为 RetentionPeriodMinutes 指定新值时，必须指定一个等于或大于存储分段当前保留期限的值。设置存储分段的保留期限后，您不能减小该值；您只能增加该值。</block>
  <block id="b0bb89fe9f7bb62165678012e052a13f" category="paragraph">乐高积木</block>
  <block id="90a8b1a6915e9e3d91c38e243c9832c6" category="list-text">true ：此存储分段当前处于合法保留状态。除非取消合法保留，否则无法删除此存储分段中的对象，即使其保留期限已过期也是如此。</block>
  <block id="70248c8023b81f744b8f5ff2376acf07" category="list-text">false ：此存储分段当前未处于合法保留状态。此存储分段中的对象可以在保留期限到期时删除。</block>
  <block id="b8cfd34fdac4e7ecf176385139a5f39a" category="paragraph">自动删除</block>
  <block id="ad2eb816fc563b944b744098ea738bc6" category="list-text">true ：此存储分段中的对象将在保留期限到期时自动删除，除非此存储分段处于合法保留状态。</block>
  <block id="611cd4c25c9dc6dd267b2d269515926f" category="list-text">false ：保留期限到期后，不会自动删除此存储分段中的对象。如果需要删除这些对象，必须手动将其删除。</block>
  <block id="01abadf3f8cfcffdf1beaa0d2b4ab943" category="section-title">合规性设置的一致性级别</block>
  <block id="d017bdc6f63ba11a32ab07cb505cf556" category="paragraph">当您使用 PUT 存储分段合规性请求更新 S3 存储分段的合规性设置时， StorageGRID 会尝试更新整个网格中存储分段的元数据。默认情况下， StorageGRID 使用 * 强 - 全局 * 一致性级别来保证所有数据中心站点以及包含存储分段元数据的所有存储节点在更改的合规性设置中具有读 - 写一致性。</block>
  <block id="bde132340b299950755f1747de36be62" category="paragraph">如果 StorageGRID 由于某个站点上的数据中心站点或多个存储节点不可用而无法达到 * 强 - 全局 * 一致性级别，则响应的 HTTP 状态代码为 `503 Service unavailable 。`</block>
  <block id="aac63ac3549ba45cb3ff03ead0c9711a" category="paragraph">如果收到此响应，您必须联系网格管理员，以确保所需的存储服务尽快可用。如果网格管理员无法在每个站点提供足够的存储节点，技术支持可能会指示您通过强制执行 * 强站点 * 一致性级别来重试失败的请求。</block>
  <block id="0e1507f41581e61b11fdef3afdfc8be2" category="admonition">除非技术支持指示您这样做，并且您了解使用此级别可能产生的后果，否则切勿强制使用 * 强站点 * 一致性级别来满足 PUT 存储分段合规性要求。</block>
  <block id="4c1cf6e16886df72ec4e2ef104cd70a5" category="paragraph">当一致性级别降低到 * 强站点 * 时， StorageGRID 保证更新后的合规性设置仅对站点中的客户端请求具有读写后一致性。这意味着，在所有站点和存储节点均可用之前， StorageGRID 系统可能会暂时为此存储分段设置多个不一致的设置。设置不一致可能导致意外和意外的行为。例如，如果您将某个存储分段置于合法保留状态并强制降低一致性级别，则某些数据中心站点上可能仍会继续使用存储分段先前的合规性设置（即合法保留）。因此，您认为处于合法保留状态的对象可能会在保留期限到期时被用户删除，或者如果启用了自动删除，也可以删除。</block>
  <block id="4c31f5df07c49fa7b1687972154cc57e" category="paragraph">要强制使用 * 强站点 * 一致性级别，请重新发出 PUT 分段合规性请求，并包含 `consistency Control` HTTP 请求标头，如下所示：</block>
  <block id="aafc80dc5dcee264a8bf85a116b8cd23" category="section-title">错误响应</block>
  <block id="80f07cd55de4ef75f213ac3aac93d5a5" category="list-text">如果未创建符合要求的存储分段，则响应的 HTTP 状态代码为 `404 not found` 。</block>
  <block id="bff0d170ef5c815146d1d47252beda5c" category="list-text">如果请求中的 `RetentionPeriodMinutes` 小于存储分段的当前保留期限，则 HTTP 状态代码为 `400 bad request` 。</block>
  <block id="52f13780148a96db380568371ba2cc6a" category="paragraph"><block ref="52f13780148a96db380568371ba2cc6a" category="inline-xref-macro-rx"></block></block>
  <block id="34d83a9504d724b1d1d1ab4dbe46096f" category="paragraph">要完成此操作，您对某个存储分段拥有 S3 ： PutBucketMetadataNotification 权限，或者您是帐户的 root 用户。</block>
  <block id="2bb0be98efe5c9ce9a528a132a0e9216" category="paragraph">此请求必须在请求正文中包含元数据通知配置。每个元数据通知配置都包含一个或多个规则。每个规则都指定其适用场景 的对象以及 StorageGRID 应将对象元数据发送到的目标。</block>
  <block id="aeb38053c5aaa6758b2ce48b42afd762" category="paragraph">可以按对象名称的前缀筛选对象。例如，您可以将前缀为 ` /images` 的对象的元数据发送到一个目标，将前缀为 ` /videos` 的对象发送到另一个目标。</block>
  <block id="504abe9cc01efb32bf05f4adb5cecd11" category="paragraph">前缀重叠的配置无效，在提交时会被拒绝。例如，不允许在配置中为前缀为 `test` 的对象包含一个规则，而为前缀为 `test2` 的对象包含另一个规则。</block>
  <block id="3f19d1a10117087d2455dd441bb1fdc3" category="paragraph">必须使用 StorageGRID 端点的 URN 指定目标。当提交元数据通知配置时，此端点必须存在，否则此请求会因 `400 错误请求` 而失败。错误消息显示： `Unable to save the metadata notification （ search ） policy 。指定的端点 URN 不存在： _URN_ 。`</block>
  <block id="baf21be24ef3a6473d786996121a3ccd" category="paragraph">下表介绍了元数据通知配置 XML 中的元素。</block>
  <block id="b651efdb98a5d6bd2b3935d0c3f4a5e2" category="cell">Required</block>
  <block id="7eb86b5de6aa64fe42e84dd4a6c97786" category="paragraph">MetadataNotificationConfiguration</block>
  <block id="d716b97a8effdff93b787373fbcbb2c6" category="paragraph">用于指定元数据通知的对象和目标的规则的容器标记。</block>
  <block id="61da9afadabf0c4a25228a5da08ee963" category="paragraph">包含一个或多个规则元素。</block>
  <block id="ab7a485ebe75b6dd7243ad719f23c7de" category="paragraph">规则</block>
  <block id="c550c0742949a759dda7b1ef5266b8ae" category="paragraph">用于标识应将其元数据添加到指定索引中的对象的规则的容器标记。</block>
  <block id="65fbd53a68f2c3b068f87801475694ec" category="paragraph">拒绝前缀重叠的规则。</block>
  <block id="18fceca202151e918418af72eaad95e1" category="paragraph">包含在 MetadataNotificationConfiguration 元素中。</block>
  <block id="7bb6ed221b7ff1bcdc7379bec4df1c54" category="paragraph">规则的唯一标识符。</block>
  <block id="b75f1020d0d34513df8f49f342a8f018" category="paragraph">包含在 Rule 元素中。</block>
  <block id="43a2084152b2aadb0f5a59559864106f" category="paragraph">状态可以是 " 已启用 " 或 " 已禁用 " 。不会对已禁用的规则执行任何操作。</block>
  <block id="716de874a0d74f25c0aa8c444c3a7539" category="paragraph">前缀</block>
  <block id="f1be4f7454cbd9f94a3e57ceca19a0b3" category="paragraph">与前缀匹配的对象受此规则的影响，其元数据将发送到指定目标。</block>
  <block id="138ac4beec690a3ff4dee09080e76079" category="paragraph">要匹配所有对象，请指定一个空前缀。</block>
  <block id="12007e1d59f4d09c87dbe2c438256244" category="paragraph">目标</block>
  <block id="9d5c93812f8dfe06b9f417dbdb2854fa" category="paragraph">规则目标的容器标记。</block>
  <block id="795194b278b97549ca130931e4b5fe4d" category="paragraph">URN</block>
  <block id="2d3719ce5616f5dd4e5633b65cf55c4f" category="paragraph">发送对象元数据的目标的 urn 。必须是具有以下属性的 StorageGRID 端点的 URN ：</block>
  <block id="ab893be2994238ba457d8815c6ffe140" category="list-text">`es` 必须是第三个元素。</block>
  <block id="c8d7c7fd94e277391c355e64937806a2" category="list-text">URN 必须以 `domain-name/myindex/mytype` 形式的索引和元数据存储类型结尾。</block>
  <block id="52f04d579133de3b9274742cb314b5ab" category="paragraph">端点使用租户管理器或租户管理 API 进行配置。它们的形式如下：</block>
  <block id="23deedba954b54c0282c2f70b9f876fa" category="list-text">`arn ： AWS ： es ： Region ： account-ID ： domain/mydomain/myindex/mytype`</block>
  <block id="75a165398b1eb5e8640b60f87cc19dd3" category="list-text">`urn ： mysite ： es ：：： mydomain/myindex/mytype`</block>
  <block id="2423ac2e2930baf39cf9c8258dac907d" category="paragraph">必须在提交配置 XML 之前配置端点，否则配置将失败并显示 404 错误。</block>
  <block id="99681f0fc66ba15086d073f0c8a36226" category="paragraph">urn 包含在目标元素中。</block>
  <block id="0abd7a82b4e085622ca4768247232ab3" category="paragraph">此示例显示了为存储分段启用搜索集成。在此示例中，所有对象的对象元数据都将发送到同一目标。</block>
  <block id="178490306ae620140a4670afed541b91" category="paragraph">在此示例中，与前缀 ` /images` 匹配的对象的对象元数据将发送到一个目标，而与前缀 ` /videos` 匹配的对象的对象元数据则发送到另一个目标。</block>
  <block id="723d2f1ad1b84a082f79094c91f266f2" category="section-title">由搜索集成服务生成的 JSON</block>
  <block id="491dc4d9c7713e8efb094c1b79da8566" category="paragraph">为存储分段启用搜索集成服务后，每次添加，更新或删除对象元数据或标记时，系统都会生成一个 JSON 文档并将其发送到目标端点。</block>
  <block id="1bca313e1eabbed5a844ee7050cdd859" category="paragraph">此示例显示了在名为 `test` 的存储分段中创建具有密钥 `SGWS/Tagging.txt` 的对象时可能生成的 JSON 示例。`test` 存储分段未进行版本控制，因此 `veversionId` 标记为空。</block>
  <block id="ccb2addf2f736160844a3809643c6c9b" category="section-title">元数据通知中包含的对象元数据</block>
  <block id="4bc6ee30d3cd5a4f658e909d06765b9b" category="paragraph">下表列出了启用搜索集成后发送到目标端点的 JSON 文档中包含的所有字段。</block>
  <block id="bacf4629d12121350083f9fbea707d1e" category="paragraph">文档名称包括存储分段名称，对象名称和版本 ID （如果存在）。</block>
  <block id="3bdf0cc3bc997094901151b41ec4c9e4" category="cell">项目名称</block>
  <block id="0c8fe4671c7117b0b96f55454beccb64" category="paragraph">存储分段和对象信息</block>
  <block id="c2bfd01762cfbe4e34cc97b9769b4238" category="paragraph">存储分段</block>
  <block id="b9f19ebae4a2528687d01b67d288a32d" category="paragraph">存储分段的名称</block>
  <block id="3c6e0b8a9c15224a8228b9a98ca1531d" category="paragraph">key</block>
  <block id="7d7067be9640c86f1570cb37f13760c6" category="paragraph">对象密钥名称</block>
  <block id="9c3a14b28fea2ceb9c36be71ea07d539" category="paragraph">版本 ID</block>
  <block id="1b489dc437d3b2d18a7c5d8f6429e6cf" category="paragraph">对象版本，用于受版本控制的分段中的对象</block>
  <block id="960db2ed82202a9706b97775a4269378" category="paragraph">region</block>
  <block id="dddd75fe09ee2679285ca76149df5a00" category="paragraph">分段区域，例如 `us-east-1`</block>
  <block id="b2f2a28cc369390dda3f24ae8a279ce6" category="paragraph">系统元数据</block>
  <block id="f7bd60b75b29d79b660a2859395c1a24" category="paragraph">size</block>
  <block id="b1dd32b2e1fd7612e35f74d9c8e80cdd" category="paragraph">HTTP 客户端可见的对象大小（以字节为单位）</block>
  <block id="1bc29b36f623ba82aaf6724fd3b16718" category="paragraph">MD5</block>
  <block id="6e2244f7a8052eb4c9002dc1e71c5ab0" category="paragraph">对象哈希</block>
  <block id="74d49ec83edb93246c85f0f263917dc8" category="paragraph">用户元数据</block>
  <block id="975c835e0e335a622e4194ef7c7d8a10" category="paragraph">元数据 ` 键：值 _`</block>
  <block id="8e7c92e65efd1081c5a4fe2fabe49311" category="paragraph">对象的所有用户元数据，作为键值对</block>
  <block id="189f63f277cd73395561651753563065" category="paragraph">Tags</block>
  <block id="04a41cc82139c374685ebb4858140087" category="paragraph">标记 ` _key ： value_`</block>
  <block id="25fb78513eeb91ddf7e23c72bb96e74e" category="paragraph">为对象定义的所有对象标记，作为键值对</block>
  <block id="f24f83c11434f1c0452c651070fcee6c" category="paragraph">* 注： * 对于标记和用户元数据， StorageGRID 会将日期和数字作为字符串或 S3 事件通知传递给 Elasticsearch 。要配置 Elasticsearch 以将这些字符串解释为日期或数字，请按照 Elasticsearch 说明进行动态字段映射和映射日期格式。在配置搜索集成服务之前，必须在索引上启用动态字段映射。为文档编制索引后，您无法在索引中编辑文档的字段类型。</block>
  <block id="5c6b49f8a27e235e76bf45479fdfc7ff" category="summary">StorageGRID 系统支持添加到 S3 REST API 中且特定于系统的自定义存储分段操作。</block>
  <block id="c4fc45f08ace15e5e879f2cb5cdfdd3f" category="doc">对存储分段执行自定义操作</block>
  <block id="ef4e4aa6938f382d82366ab8c24462b6" category="paragraph">下表列出了 StorageGRID 支持的自定义存储分段操作。</block>
  <block id="2a78ed76450c3cb42320882b3e055b31" category="cell">操作</block>
  <block id="d13de4a83d7b44c2e65495def8ef1c7b" category="cell">有关详细信息 ...</block>
  <block id="5d36117ca9702d1fe92499fb769f1e2e" category="paragraph">获取存储分段一致性</block>
  <block id="bbdd0406195ad2ba7b1f958b61b8c9a2" category="paragraph">返回应用于特定存储分段的一致性级别。</block>
  <block id="a07c06a5e178272527c904660b831ed9" category="paragraph"><block ref="a07c06a5e178272527c904660b831ed9" category="inline-xref-macro-rx"></block></block>
  <block id="c4e1d42a195146366e7e60f53d7351a3" category="paragraph">PUT 存储分段一致性</block>
  <block id="607c200370fdf3d0e35da454badb38c0" category="paragraph">设置应用于特定存储分段的一致性级别。</block>
  <block id="9dfdf9f60b635688af26d2e8bb7f3052" category="paragraph"><block ref="9dfdf9f60b635688af26d2e8bb7f3052" category="inline-xref-macro-rx"></block></block>
  <block id="c16d196b896afecd09b88ddce5775dda" category="paragraph">获取存储分段上次访问时间</block>
  <block id="648c5a60d344c6afd4f1d36d2281dcd0" category="paragraph">返回为特定存储分段启用还是禁用上次访问时间更新。</block>
  <block id="c22f169e512bb93636dd3c43a301ba03" category="paragraph"><block ref="c22f169e512bb93636dd3c43a301ba03" category="inline-xref-macro-rx"></block></block>
  <block id="2dcb7425afc0af7336bb249602fd5972" category="paragraph">PUT 分段上次访问时间</block>
  <block id="fc565ef9bada58c14eed140917e821ee" category="paragraph">用于启用或禁用特定存储分段的上次访问时间更新。</block>
  <block id="9ab042344f9fe4bd84ca27cf441f647e" category="paragraph"><block ref="9ab042344f9fe4bd84ca27cf441f647e" category="inline-xref-macro-rx"></block></block>
  <block id="4d7115e8d1ed08a7796b86c161998c56" category="paragraph">删除存储分段元数据通知配置</block>
  <block id="f296f78c0b2041693a91c3c0f8de31ab" category="paragraph">删除与特定存储分段关联的元数据通知配置 XML 。</block>
  <block id="b409adc8f0f1e4c9e1de9e48315841b2" category="paragraph"><block ref="b409adc8f0f1e4c9e1de9e48315841b2" category="inline-xref-macro-rx"></block></block>
  <block id="55f8e4ed07cceecd32aa408095f6f3d3" category="paragraph">获取存储分段元数据通知配置</block>
  <block id="81f2f73ad4a7ac629c258a14b2702bc6" category="paragraph">返回与特定存储分段关联的元数据通知配置 XML 。</block>
  <block id="a34d927fe0ebd540eb13d550f0726667" category="paragraph"><block ref="a34d927fe0ebd540eb13d550f0726667" category="inline-xref-macro-rx"></block></block>
  <block id="42abaff0f146e92c03f9fb7ad9c1b0e7" category="paragraph">PUT 存储分段元数据通知配置</block>
  <block id="70479fb3b91d0be328b4cb965305af77" category="paragraph">配置存储分段的元数据通知服务。</block>
  <block id="322b0365140c0f724e940eb51bade6f1" category="paragraph"><block ref="322b0365140c0f724e940eb51bade6f1" category="inline-xref-macro-rx"></block></block>
  <block id="086f1454ee1d678e90eb839031304243" category="paragraph">使用合规设置放置存储分段</block>
  <block id="6820a82b464f69338c83a2b395bc6b7f" category="paragraph">已弃用且不支持：您无法再在启用合规性的情况下创建新存储分段。</block>
  <block id="885d6255a1d147338a20ee3ecbc2e4b0" category="inline-xref-macro">已弃用：使用合规性设置放置存储分段</block>
  <block id="c4f1c0aede928084bccb0bdb202e2ec6" category="paragraph"><block ref="c4f1c0aede928084bccb0bdb202e2ec6" category="inline-xref-macro-rx"></block></block>
  <block id="05fb5f2144e71060763db38ab71c4e49" category="paragraph">获取存储分段合规性</block>
  <block id="6a99cc34223f7468d802916ea42da708" category="paragraph">已弃用但受支持：返回当前对现有旧版合规存储分段有效的合规性设置。</block>
  <block id="c83307a24f6bda61d96ea7b43f95d0a7" category="inline-xref-macro">已弃用：获取存储分段合规性请求</block>
  <block id="57ecf8a8c3335264bdef4589d240acf1" category="paragraph"><block ref="57ecf8a8c3335264bdef4589d240acf1" category="inline-xref-macro-rx"></block></block>
  <block id="47f6808e192e7a77b354be8819f2a7c7" category="paragraph">PUT 存储分段合规性</block>
  <block id="23a3cc6030b663d489904b74b8ca4e74" category="paragraph">已弃用但受支持：允许您修改现有旧版合规存储分段的合规性设置。</block>
  <block id="c9fb6d0e24a86f9cc56073b0da46cfa4" category="paragraph"><block ref="c9fb6d0e24a86f9cc56073b0da46cfa4" category="inline-xref-macro-rx"></block></block>
  <block id="4159a0f257c06228186cac4e7cc534a7" category="inline-xref-macro">审核日志中跟踪的 S3 操作</block>
  <block id="71fc5b9e8bc0423dd455b778f2ccaea1" category="paragraph"><block ref="71fc5b9e8bc0423dd455b778f2ccaea1" category="inline-xref-macro-rx"></block></block>
  <block id="30a6290885cb5609e9461c78835aeb9a" category="summary">您可以使用 S3 PUT 对象 - 复制请求为已存储在 S3 中的对象创建副本。PUT 对象 - 复制操作与执行 GET ，然后执行 PUT 操作相同。</block>
  <block id="d2f8e27fe06e9984ab7c4f38b58232bb" category="section-title">对象大小</block>
  <block id="1e7e7a18c7d75f4b405f483bb0575f76" category="paragraph">单个 PUT 对象操作的最大 _recommended_size 为 5 GiB （ 5 ， 368 ， 709 ， 120 字节）。如果对象大于 5 GiB ，请改用多部分上传。</block>
  <block id="4767996fe8d048e8ed59e8a8b1e3611c" category="admonition">在 StorageGRID 11.6 中，单个 PUT 对象操作的最大 _supported _ 大小为 5 TiB （ 5 ， 497 ， 554 ， 138 ， 880 字节）。但是，如果您尝试上传超过 5 GiB 的对象，则会触发 * S3 PUT Object Size Too large* 警报。</block>
  <block id="4c1c8c923d6c4504d92b5cbdd85f8f91" category="section-title">用户元数据中的 UTF-8 字符</block>
  <block id="93a95bfc17f6b40e8a504e327466993f" category="paragraph">如果某个请求在用户定义的元数据的密钥名称或值中包含（未转义） UTF-8 值，则会未定义 StorageGRID 行为。</block>
  <block id="8a0e08a71ec824a099513817e7e9a3f8" category="paragraph">StorageGRID 不会解析或解释用户定义的元数据的密钥名称或值中包含的转义 UTF-8 字符。转义的 UTF-8 字符被视为 ASCII 字符：</block>
  <block id="ed0f1918cd46978aa3ca6fd7742d4186" category="list-text">如果用户定义的元数据包含转义的 UTF-8 字符，则请求将成功。</block>
  <block id="4ef82d7cf089506ec13496a89bc9057e" category="list-text">如果对密钥名称或值的解释值包含不可打印的字符，则 StorageGRID 不会返回 `x-AMZ-MISSING-meta` 标头。</block>
  <block id="6a80ad1c8dff9fda34177922e54b2fa8" category="section-title">支持的请求标头</block>
  <block id="d6579c354deba21046459d132a76b758" category="list-text">`内容类型`</block>
  <block id="68fd67a0af208cc1304557c598790be0" category="list-text">`x-AMZ-copy-source`</block>
  <block id="788dcb3bf76398a97a2ec4939f727cb9" category="list-text">`x-AMZ-meta-` ，后跟一个名称 - 值对，其中包含用户定义的元数据</block>
  <block id="0a536de372355b405893d84f8739fc69" category="list-text">`x-AMZ-metadata-directive` ：默认值为 `copy` ，可用于复制对象和关联元数据。</block>
  <block id="fd0f280ceadfd9af367561a1c93f5000" category="paragraph">您可以指定 `replace` 以在复制对象时覆盖现有元数据，或更新对象元数据。</block>
  <block id="948d728e34f00659b6f337e716d0a909" category="list-text">`x-AMZ-storage-class`</block>
  <block id="7308be716953fa5825d33d6fd5addb10" category="list-text">`x-AMZ-tagging-directive` ：默认值为 `copy` ，可用于复制对象和所有标记。</block>
  <block id="4aed962890f21c5e913b181481f05d4b" category="paragraph">您可以指定 `replace` 以在复制对象时覆盖现有标记，或更新标记。</block>
  <block id="e55f729f916d0fcaac40128b24d29c74" category="list-text">S3 对象锁定请求标头：</block>
  <block id="3f7726beda280839c3c402c2bde6a8cd" category="list-text">`x-AMZ-object-lock-mode`</block>
  <block id="e96d5cc8fe3345be334d005ca2152749" category="paragraph">如果在不使用这些标题的情况下发出请求，则存储分段默认保留设置用于计算对象版本 retain-until 日期。</block>
  <block id="0e4f17e310b04cd3ce4233a2bbaf00fe" category="list-text">SSA 请求标头：</block>
  <block id="85dc9b4401d8d85455ad4c1acde703df" category="list-text">`x-AMZ-copy-source​ -server-side​ -customer-zr encryption​`</block>
  <block id="0f11e0a0a54f408569f055b73fd03e78" category="list-text">`x-AMZ-copy-source​ -server-side encrypt-customer-key`</block>
  <block id="a8655f0d012f4d75519f4321eb591f25" category="list-text">`x-AMZ-copy-source​ -server-side encryption - customer-key-MD5`</block>
  <block id="bf0b4b2102b12795ab3f3a57510dcbc4" category="list-text">`x-AMZ-server-side encryption`</block>
  <block id="23577ae9bd0c0414f1ec9082cef7ffd2" category="list-text">`x-AMZ-server-side encrypt-customer-key-md5`</block>
  <block id="6e06da99d5b5d4dbae8ea7dfa768f99a" category="list-text">`x-AMZ-server-side encrypt-customer-key`</block>
  <block id="7cb2ba5ca2dd19ccc970f91b2ec9e742" category="list-text">`x-AMZ-server-side encrypt-customer-encryption`</block>
  <block id="7118275d69ba3100da8637158e6948c9" category="paragraph">请参见 <block ref="0f037a5c406cafaf17227c6632c8f1a1" category="inline-xref-macro-rx"></block></block>
  <block id="f2d48b40b8b22cc4ad9464f0d60fb3b3" category="section-title">请求标头不受支持</block>
  <block id="c7348d0bbf93189084e49076959798e2" category="paragraph">不支持以下请求标头：</block>
  <block id="2315a484134a0331f54842013d68b2a7" category="list-text">`缓存控制`</block>
  <block id="25fb6d74a0ac3a5ab7dae1d6715f438f" category="list-text">`内容处置`</block>
  <block id="a2ad50d012610e3edac8f69bd6c0a7e7" category="list-text">`内容编码`</block>
  <block id="8ef9e8cd26f5425ee6fda85975caf70c" category="list-text">`内容语言`</block>
  <block id="48da187ee6d1494f3124c9d850d2a96a" category="list-text">`到期`</block>
  <block id="ddd0feb6fdba2cfc6773707192798f40" category="list-text">`x-AMZ-website-redirect-location`</block>
  <block id="bf740fe6d00fec501365a56bb0f11690" category="section-title">存储类选项</block>
  <block id="23e45a1d41b880f91543b22fbd32225d" category="section-title">在 PUT 对象中使用 x-AMZ-copy-source —复制</block>
  <block id="6b88ec1f5c606063a47b7986f150efc8" category="paragraph">如果在 `x-AMZ-copy-source` 标头中指定的源分段和密钥与目标分段和密钥不同，则会向目标写入源对象数据的副本。</block>
  <block id="7930684f9158449d958a693d7362aa63" category="paragraph">如果源和目标匹配，并且将 `x-AMZ-metada-directive` 标头指定为 `replace` ，则对象的元数据将使用请求中提供的元数据值进行更新。在这种情况下， StorageGRID 不会重新载入对象。这有两个重要后果：</block>
  <block id="1e5c874f57aede36adea54f55e1c1eae" category="list-text">您不能使用 PUT 对象 - 复制对现有对象进行原位加密，也不能更改现有对象的加密。如果您提供了 `x-AMZ-server-side encryption` 标头或 `x-AMZ-server-side encrypt-customer-encryption` 标头，则 StorageGRID 将拒绝此请求并返回 `XNotImplemented` 。</block>
  <block id="0c7c331b0e2bc2f025187431d6c6ab94" category="list-text">不会使用匹配 ILM 规则中指定的 " 载入行为 " 选项。通过正常后台 ILM 进程重新评估 ILM 时，更新触发的任何对象放置更改都会进行。</block>
  <block id="eefaaf137185b046ab5f234504e0e03e" category="paragraph">这意味着，如果 ILM 规则对载入行为使用严格选项，则在无法放置所需对象时（例如，由于新需要的位置不可用），不会执行任何操作。更新后的对象会保留其当前位置，直到可以进行所需的位置为止。</block>
  <block id="25f0b63eaa7c3f83373c69f8f53762f9" category="paragraph">如果使用服务器端加密，则您提供的请求标头取决于源对象是否已加密以及是否计划对目标对象加密。</block>
  <block id="d326de7639960d7e815263377f5825b8" category="list-text">如果源对象使用客户提供的密钥（ SSI-C ）进行加密，则必须在 PUT Object - Copy 请求中包含以下三个标头，以便可以解密并复制此对象：</block>
  <block id="0e0bc9f44970701bc51b5724584e1d15" category="list-text">`x-AMZ-copy-source​ server-side​ -customer-all` 指定 `AES256 encryption​` 。</block>
  <block id="844eef69ae4fa0648300913160db79da" category="list-text">`x-AMZ-copy-source​ -server-side encrypt-customer-key` 指定您在创建源对象时提供的加密密钥。</block>
  <block id="c59a3ee56f575957fe151695b7f2fa45" category="list-text">如果要使用您提供和管理的唯一密钥对目标对象（副本）进行加密，请包含以下三个标题：</block>
  <block id="cd3d91d5f003025239b904cdd38fb46d" category="list-text">`x-AMZ-server-side encrypt-customer-key` ：为目标对象指定新的加密密钥。</block>
  <block id="4a5a4a9b6f279ade608ce8c191a0abb2" category="list-text">`x-AMZ-server-side encrypt-customer-key-md5` ：指定新加密密钥的 MD5 摘要。</block>
  <block id="251067c7a112fc8fbb6c0ee5bfb7069a" category="paragraph">* 注意： * 您提供的加密密钥永远不会存储。如果丢失加密密钥，则会丢失相应的对象。在使用客户提供的密钥保护对象数据之前，请查看 "`使用服务器端加密 " 中的注意事项。`</block>
  <block id="7b504ecbcf0580e1f9ffcc740ba35277" category="list-text">如果要使用由 StorageGRID （ SSE ）管理的唯一密钥对目标对象（副本）进行加密，请将此标头包括在 PUT 对象 - 复制请求中：</block>
  <block id="2ac045a17a6912f2a5853b2e8cea2341" category="paragraph">* 注： * 无法更新对象的 `s服务器端加密` 值。相反，请使用 `sx-AMZ-metada-directive` ： `replace` 使用新的 `服务器端加密` 值创建副本。</block>
  <block id="1f5d63bcc359304cdbef1d91fd43e76d" category="paragraph">如果源存储分段已版本控制，则可以使用 `x-AMZ-copy-source` 标头复制对象的最新版本。要复制对象的特定版本，必须使用 `veversionId` Subresource 明确指定要复制的版本。如果目标存储分段已版本控制，则生成的版本将在 `x-AMZ-version-id` 响应标题中返回。如果目标分段的版本控制已暂停，则 `x-AMZ-version-id` 将返回 "`null` " 值。</block>
  <block id="76a7100e27ed3becbf3457f145807058" category="inline-xref-macro">使用服务器端加密</block>
  <block id="ccfd520fe111ac80cc19a7894f1a7fef" category="paragraph"><block ref="ccfd520fe111ac80cc19a7894f1a7fef" category="inline-xref-macro-rx"></block></block>
  <block id="9ffdd58f442794c0160c1bd4e85d86a1" category="summary">在实施用于 StorageGRID 的 S3 REST API 时，应遵循以下建议。</block>
  <block id="859a3b8920c527fe3e0c6b7c7af8c273" category="doc">实施 S3 REST API 的建议</block>
  <block id="5758b764b08af91c1ba4803b18dc78f9" category="section-title">针对不存在的对象的建议</block>
  <block id="fd8dcf699d9579270f875e8fd5842ac0" category="paragraph">如果您的应用程序定期检查某个对象是否位于您不希望该对象实际存在的路径上，则应使用 "`available` " 一致性控制。例如，如果您的应用程序在放置到某个位置之前一直位于某个位置，则应使用 "`Available` " 一致性控制。</block>
  <block id="683851cd61d08bfb1f1e347163840678" category="paragraph">否则，如果 head 操作未找到对象，则在一个或多个存储节点不可用时，可能会收到大量 500 个内部服务器错误。</block>
  <block id="2056a16277cb605decd382a3ca7286c8" category="paragraph">您可以使用 PUT 存储分段一致性请求为每个存储分段设置 "`Available` " 一致性控制，也可以在单个 API 操作的请求标题中指定一致性控制。</block>
  <block id="4c366717883ee608479754b998f4b86a" category="section-title">对象密钥建议</block>
  <block id="938bac0cc348ad413d62c1f7fb75be57" category="paragraph">对于在 StorageGRID 11.4 或更高版本中创建的分段，不再需要限制对象密钥名称以满足性能最佳实践。例如，现在可以对对象密钥名称的前四个字符使用随机值。</block>
  <block id="a732926f3492f4bf119febd158832256" category="paragraph">对于在 StorageGRID 11.4 之前的版本中创建的分段，请继续对对象密钥名称遵循以下建议：</block>
  <block id="f73eafc64fb93b6fe42b5b6b2053ed6c" category="list-text">不应使用随机值作为对象密钥的前四个字符。这与 AWS 以前针对密钥前缀的建议不同。而应使用非随机的非唯一前缀，例如 `image` 。</block>
  <block id="92ab34cf0fd7b007dd4bce27399c88ee" category="list-text">如果您按照以前的 AWS 建议在密钥前缀中使用随机和唯一字符，则应在对象密钥前添加目录名称。也就是说，请使用以下格式：</block>
  <block id="b006ec68f6fdf9e7f2df3689f9f5cb88" category="paragraph">而不是以下格式：</block>
  <block id="3ae0572dc889bcdbe6f6d7a973643e1e" category="section-title">有关 " 范围读取 " 的建议</block>
  <block id="21b3812cc6dbe44dd6a08c2c761c342d" category="paragraph">如果选择了 * 压缩存储的对象 * 选项（ * 配置 * &gt; * 系统 * &gt; * 网格选项 * ），则 S3 客户端应用程序应避免执行指定要返回的字节数范围的 GET 对象操作。这些 "`range read` " 操作效率低下，因为 StorageGRID 必须有效解压缩对象以访问请求的字节。从非常大的对象请求少量字节的 GET 对象操作效率尤其低下；例如，从 50 GB 压缩对象读取 10 MB 范围的操作效率非常低。</block>
  <block id="1264dc43646be10eeb7b70143ec85203" category="paragraph">如果从压缩对象读取范围，则客户端请求可能会超时。</block>
  <block id="88beb670f24983c75f4e8760c6f5ccfe" category="admonition">如果需要压缩对象，并且客户端应用程序必须使用范围读取，请增加应用程序的读取超时时间。</block>
  <block id="44df6627f278a28c3d5d267e18a70206" category="summary">您应查看为 REST API 实施的安全措施，并了解如何保护系统安全。</block>
  <block id="5d6f4c299c73ab1a926632c704579f3b" category="doc">配置 REST API 的安全性</block>
  <block id="9ccbe0269a56e89ea7b14b87d439ef34" category="section-title">StorageGRID 如何为 REST API 提供安全性</block>
  <block id="2122d2fc1b3d1972feebb2d626157801" category="paragraph">您应了解 StorageGRID 系统如何为 REST API 实施安全性，身份验证和授权。</block>
  <block id="ea7c09194e7005e3f84df921abc5cfdb" category="paragraph">StorageGRID 使用以下安全措施。</block>
  <block id="0b5cca5e2992251a539e1725daab188b" category="list-text">如果为负载平衡器端点配置了 HTTPS ，则客户端与负载平衡器服务的通信将使用 HTTPS 。</block>
  <block id="27b4fff76ca3c9e1456af431869b29d8" category="paragraph">配置负载平衡器端点时，可以选择启用 HTTP 。例如，您可能希望将 HTTP 用于测试或其他非生产目的。有关详细信息，请参见有关管理 StorageGRID 的说明。</block>
  <block id="59b1205ea544c78db2feabd7c995aa87" category="list-text">默认情况下， StorageGRID 使用 HTTPS 与存储节点进行客户端通信，并在网关节点上使用 CLB 服务。</block>
  <block id="2de646e2ef996bf609697d33369f9acd" category="paragraph">可以选择为这些连接启用 HTTP 。例如，您可能希望将 HTTP 用于测试或其他非生产目的。有关详细信息，请参见有关管理 StorageGRID 的说明。</block>
  <block id="eafa10b869210fee023af40d9d40d3a2" category="list-text">StorageGRID 与客户端之间的通信使用 TLS 进行加密。</block>
  <block id="725a1673b8d0f52720108b69390a48ef" category="list-text">无论将负载平衡器端点配置为接受 HTTP 或 HTTPS 连接，网格中的负载平衡器服务和存储节点之间的通信都会进行加密。</block>
  <block id="c32877e2f1327d36ade37be051a452d1" category="list-text">客户端必须向 StorageGRID 提供 HTTP 身份验证标头，才能执行 REST API 操作。</block>
  <block id="d667587082266237db644ddb7a9ae053" category="section-title">安全证书和客户端应用程序</block>
  <block id="04b519c8ddf16f76c68e039c2d37eed0" category="paragraph">客户端可以连接到网关节点或管理节点上的负载平衡器服务，直接连接到存储节点或网关节点上的 CLB 服务。</block>
  <block id="e7a8eb9abc9e4e52ac5b1c5ec2f42a42" category="paragraph">在所有情况下，客户端应用程序都可以使用网格管理员上传的自定义服务器证书或 StorageGRID 系统生成的证书进行 TLS 连接：</block>
  <block id="d00445e80d5b47373dc70bcfaf6af797" category="list-text">当客户端应用程序连接到负载平衡器服务时，它们会使用为用于建立连接的特定负载平衡器端点配置的证书来执行此操作。每个端点都有自己的证书，此证书可以是网格管理员上传的自定义服务器证书，也可以是网格管理员在配置端点时在 StorageGRID 中生成的证书。</block>
  <block id="884bf709945088f9e65b2a0f3a711e3a" category="list-text">当客户端应用程序直接连接到存储节点或网关节点上的 CLB 服务时，它们会使用安装 StorageGRID 系统时为存储节点生成的系统生成的服务器证书（由系统证书颁发机构签名）， 或网格管理员为网格提供的一个自定义服务器证书。</block>
  <block id="30cd405f609b89d97a576e3cb57afc8b" category="paragraph">应将客户端配置为信任对用于建立 TLS 连接的任何证书签名的证书颁发机构。</block>
  <block id="d9336cf1f4db910d9ac744c08c020582" category="paragraph">有关配置负载平衡器端点的信息，请参见管理 StorageGRID 的说明，以及有关为直接连接到存储节点或网关节点上的 CLB 服务添加单个自定义服务器证书的说明。</block>
  <block id="290612199861c31d1036b185b4e69b75" category="section-title">摘要</block>
  <block id="2d6496b247f228bba1a2587a5514d3c8" category="paragraph">下表显示了如何在 S3 和 Swift REST API 中实施安全问题：</block>
  <block id="32863577d926c2567cc28db812fd2bf6" category="cell">Security 问题描述</block>
  <block id="3ab90bfc097a086026dbfdf4ff2b667d" category="cell">实施 REST API</block>
  <block id="9f2667724c50929992f65c7c0d0b8b65" category="paragraph">连接安全性</block>
  <block id="099d7d04319e5191b7473e016c55e320" category="paragraph">TLS</block>
  <block id="eda93dc7054c120df55a8bbc91d0885d" category="paragraph">服务器身份验证</block>
  <block id="806e116de68df894f326cef6b29ede1b" category="paragraph">系统 CA 签名的 X.509 服务器证书或管理员提供的自定义服务器证书</block>
  <block id="234b7702b17d750d0199947820d83481" category="paragraph">客户端身份验证</block>
  <block id="f7ef707656c109883eba56010cebd078" category="list-text">S3 ： S3 帐户（访问密钥 ID 和机密访问密钥）</block>
  <block id="930b63c01ccf82b78d41f0e45ef43972" category="list-text">Swift ： Swift 帐户（用户名和密码）</block>
  <block id="84e9d1d6a0fa7871689458913a0bf0d4" category="paragraph">客户端授权</block>
  <block id="bd9643e6d6d8256e3da9520abf35ff1b" category="list-text">S3 ：存储分段所有权和所有适用的访问控制策略</block>
  <block id="1cfcc628ab200385a56e5b03d4df3e6f" category="list-text">Swift ：管理员角色访问</block>
  <block id="5d019d4272bd64aa1b36764eb4f54010" category="section-title">支持 TLS 库的哈希和加密算法</block>
  <block id="ebf4376c36690f9934582f6bd0ea7957" category="paragraph">StorageGRID 系统支持一组有限的密码套件，客户端应用程序可在建立传输层安全（ TLS ）会话时使用这些密码套件。</block>
  <block id="2ea26fe42c65046a82155eb9f6d073ec" category="section-title">支持的 TLS 版本</block>
  <block id="46374d4bb7f98efba25ab73cc08fc49c" category="paragraph">StorageGRID 支持 TLS 1.2 和 TLS 1.3 。</block>
  <block id="e0e867eca76d9faac155267a4b6798b9" category="admonition">不再支持 SSLv3 和 TLS 1.1 （或更早版本）。</block>
  <block id="3aeba5d750a004e8b14801ccace391d0" category="section-title">支持的密码套件</block>
  <block id="3feca2ee92d12dbe7dc7aa6ed11cea67" category="cell">TLS 版本</block>
  <block id="31db70180d58802d4e0a72abad547563" category="cell">密码套件的 IANA 名称</block>
  <block id="56765472680401499c79732468ba4340" category="paragraph">1.2</block>
  <block id="a81d6c0b29e72bd90b31e0065afa55e7" category="paragraph">tls_ECDHE_RSA_WIT_AES_256_GCM_SHA384</block>
  <block id="7903b5af0a0b58330e4b5629161a8da7" category="paragraph">tls_ECDHE_RSA_WIT_CHACHA20_POLY1305_SHA256</block>
  <block id="0187c6357b1d55d749a5e111ffe1c683" category="paragraph">tls_ECDHE_RSA_WIT_AES_128_GCM_SHA256</block>
  <block id="0b0ec9f1cc28b3c19dc6c36dcd5af7cc" category="paragraph">1.3</block>
  <block id="3399189c01a6f55e6ddbbeb65514d504" category="paragraph">tls_aes_256_gcm_SHA384</block>
  <block id="7f56ad966fda13e8563f6faf577e85d7" category="paragraph">tls_chacHA20_POLY1305_SHA256</block>
  <block id="8a3c1b321499beacc45a33fd42758929" category="paragraph">tls_aes_128_gcm_SHA256</block>
  <block id="4706ef47149a7e8bb623e10b45b13218" category="section-title">已弃用密码套件</block>
  <block id="e95b768f9c351ade16e89b3aea1affc8" category="paragraph">以下密码套件已弃用。未来版本将删除对这些密码的支持。</block>
  <block id="5e6d5733266975d51831c5673689ab1f" category="cell">IANA 名称</block>
  <block id="9c3702f8cb5c5b4f315d411a0e719ddd" category="paragraph">tls_rsa_and_aes_128_gcm_SHA256</block>
  <block id="12ad02393df1ce7d7f19c12341878129" category="paragraph">tls_rsa_and_aes_256_gcm_SHA384</block>
  <block id="8500dab0fd14993475183d8db15c1627" category="inline-xref-macro">如何配置客户端连接</block>
  <block id="7373d35cce1040c449124346db9be73e" category="paragraph"><block ref="7373d35cce1040c449124346db9be73e" category="inline-xref-macro-rx"></block></block>
  <block id="79272cc0152a1b891c87a5301d10eb97" category="paragraph">要完成此操作，您拥有 S3 ： GetBucketLastAccessTime 权限或帐户 root 。</block>
  <block id="c10303dc6b1cd62d05c628fe3f331266" category="section-title">响应示例</block>
  <block id="860b93300433f1c6df9414b5e9e5083c" category="paragraph">此示例显示已为存储分段启用上次访问时间更新。</block>
  <block id="528b1cb26a657f713d846653f57c5fbd" category="paragraph">帐户及其存储分段使用的存储量可通过修改后的 GET 服务请求获得，该请求可使用 `x-ntap-sg-usage` 查询参数。存储分段使用量与系统处理的 PUT 和 DELETE 请求分开跟踪。根据请求处理情况，使用量值与预期值匹配可能会有一定的延迟，尤其是在系统负载较重时。</block>
  <block id="fdf4d797f3e2ba1aa2d5deaecb2a4af7" category="paragraph">默认情况下， StorageGRID 会尝试使用强全局一致性检索使用情况信息。如果无法实现强全局一致性， StorageGRID 将尝试以强站点一致性检索使用情况信息。</block>
  <block id="ba41f807197ee8a4cef2547a1748c9d6" category="paragraph">要完成此操作，您拥有 S3 ： ListAllMy桶 权限或帐户 root 。</block>
  <block id="3248493880b0d7c2b3ade7806cfad50e" category="paragraph">此示例显示了一个帐户，该帐户在两个存储分段中包含四个对象和 12 字节的数据。每个存储分段包含两个对象和六个字节的数据。</block>
  <block id="bd39340249db79fcf9dc3417ce2f5b6f" category="paragraph">存储的每个对象版本都会在响应中生成 `ObjectCount` 和 `DataBytes` 值。删除标记不会添加到 `ObjectCount` Total 中。</block>
  <block id="6046e1ed4d97b79be6b9e7f8c78f6fc5" category="summary">StorageGRID 系统支持使用 S3 API 对对象进行身份验证和匿名访问。</block>
  <block id="e22cb151d55174977cd8cd0016e59249" category="doc">对请求进行身份验证</block>
  <block id="199cb9695071e03610fd85cbf4cbbdef" category="paragraph">S3 API 支持签名版本 2 和签名版本 4 对 S3 API 请求进行身份验证。</block>
  <block id="77facb7b3d797285fb782e9466dd312d" category="paragraph">经过身份验证的请求必须使用您的访问密钥 ID 和机密访问密钥进行签名。</block>
  <block id="88a46fe3d803bdca12a101cd24f666a2" category="paragraph">StorageGRID 系统支持两种身份验证方法： HTTP `Authorization` header 和使用查询参数。</block>
  <block id="65c8c386ebbbc3958a53f81c44486d5a" category="section-title">使用 HTTP 授权标头</block>
  <block id="7806273f5d1822492f8d7819288242d1" category="paragraph">HTTP `Authorization` 标头由所有 S3 API 操作使用，但在存储分段策略允许的情况下，匿名请求除外。`Authorization` 标头包含对请求进行身份验证所需的所有签名信息。</block>
  <block id="5723e7495784811e40b286338b9430fe" category="section-title">使用查询参数</block>
  <block id="e6ac3bd2471f5d933ac8745a2a2cfc75" category="paragraph">您可以使用查询参数向 URL 添加身份验证信息。这称为对 URL 进行预签名，可用于授予对特定资源的临时访问权限。使用预签名 URL 的用户无需知道机密访问密钥即可访问资源，这样您就可以为资源提供第三方受限访问权限。</block>
  <block id="1f78177282472025cfb0e2ebc5167cdd" category="summary">StorageGRID 支持以下特定版本的 S3 和 HTTP 。</block>
  <block id="2e5d14f7919ff3c6138e7845aec4f915" category="doc">支持的版本</block>
  <block id="34b6cd75171affba6957e308dcbd92be" category="cell">version</block>
  <block id="0f966d44cef617d4c8758da2eb451bde" category="paragraph">S3 规范</block>
  <block id="287e423354407cc7eb21b49f593d1088" category="paragraph">_Simple Storage Service API 参考 _ 2006-03-01</block>
  <block id="777d45bbbcdf50d49c42c70ad7acf5fe" category="paragraph">1.1</block>
  <block id="d97df14a348ca442e7108709f9c953f8" category="paragraph">有关 HTTP 的详细信息，请参见 HTTP/1.1 （ RFC 7230-35 ）。</block>
  <block id="0cf04f3e26e35431101129c8eec0c695" category="paragraph">* 注 * ： StorageGRID 不支持 HTTP/1.1 管道化。</block>
  <block id="3c3b1953edc4463ba9df9e3d8b9c974a" category="inline-link">IETF RFC 2616 ：超文本传输协议（ HTTP/1.1 ）</block>
  <block id="9a2086c797d7938e1a66f3b6e745d4f2" category="paragraph"><block ref="9a2086c797d7938e1a66f3b6e745d4f2" category="inline-link-rx"></block></block>
  <block id="0c0f0ad859060e220b21a95db15bc8e1" category="paragraph"><block ref="0c0f0ad859060e220b21a95db15bc8e1" category="inline-link-rx"></block></block>
  <block id="2fb7ef92d55d0dbe5a068b04c343f963" category="summary">对于每个 S3 租户帐户， StorageGRID 系统最多支持 1 ， 000 个分段。</block>
  <block id="7650c6aaba4e64765a52f333b11b2300" category="paragraph">存储分段名称限制遵循 AWS US 标准区域限制，但您应进一步将其限制为 DNS 命名约定，以便支持 S3 虚拟托管模式请求。</block>
  <block id="d6d02778ae1b3f079948b24431cfb6c5" category="inline-link">Amazon Web Services （ AWS ）文档：存储分段限制</block>
  <block id="cc11ebbc6bf96260af89737f48314086" category="paragraph"><block ref="cc11ebbc6bf96260af89737f48314086" category="inline-link-rx"></block></block>
  <block id="546269d31d5547ac2738678e66ee8b45" category="inline-xref-macro">配置 S3 API 端点域名</block>
  <block id="ebd72ece41a1f398e79709679eb05623" category="paragraph"><block ref="ebd72ece41a1f398e79709679eb05623" category="inline-xref-macro-rx"></block></block>
  <block id="c525996bec760e1ebdc661a74d5a89c6" category="paragraph">获取分段（列出对象）和获取分段版本操作支持 StorageGRID 一致性控制。</block>
  <block id="ff11232816eec57739d98a4536c016f2" category="paragraph">您可以检查是否已为各个存储分段启用上次访问时间更新。</block>
  <block id="95912013f7f2096e0ed8fa7176719a67" category="paragraph">下表介绍了 StorageGRID 如何实施 S3 REST API 存储分段操作。要执行其中任何操作，必须为帐户提供必要的访问凭据。</block>
  <block id="2bece842c986942de9921d526f211fd9" category="paragraph">删除存储分段</block>
  <block id="d5b6db1f6bcf658fb9d9994f7a7738c4" category="paragraph">在所有 Amazon S3 REST API 行为下实施。</block>
  <block id="4078be98e9d06859c11aef1b052dfce9" category="paragraph">删除存储分段或</block>
  <block id="79a252b825a7947ed9c1ac489d5d226b" category="paragraph">此操作将删除存储分段的 CORS 配置。</block>
  <block id="a8c4a1559a7d810d155fc845d82cf02b" category="paragraph">删除存储分段加密</block>
  <block id="dce05f654095e32e67f0782c0cacac0c" category="paragraph">此操作将从存储分段中删除默认加密。现有加密对象保持加密状态，但添加到存储分段中的任何新对象不会加密。</block>
  <block id="1543767b1a28fb6448012346e0fec259" category="paragraph">此操作将从存储分段中删除生命周期配置。</block>
  <block id="e60c7d1a7c2be461525ef24f168e9ed2" category="paragraph">删除存储分段策略</block>
  <block id="7f3263b9e57a48360bdb969b9d7d51f2" category="paragraph">此操作将删除附加到存储分段的策略。</block>
  <block id="399e950f968984a4ae0aa7f74a4c880f" category="paragraph">删除存储分段复制</block>
  <block id="44d7ef9888c3e8b8d99a91a6b07c3065" category="paragraph">此操作将删除附加到存储分段的复制配置。</block>
  <block id="ec8e79df635c2412495e79097e0fbffa" category="paragraph">删除存储分段标记</block>
  <block id="40f18c986364bcd9ec10c61df75ad084" category="paragraph">此操作使用 `tagging` Subresource 从存储分段中删除所有标记。</block>
  <block id="da4b7cfa9f679954619487de1645ca80" category="paragraph">获取分段（列出对象）版本 1 和版本 2</block>
  <block id="6cd93953012c9b69fc1ff7795651a5a3" category="paragraph">此操作将返回一个存储分段中的部分或全部（最多 1 ， 000 个）对象。对象的存储类可以具有两个值中的任一值，即使使用 `refastore_redundancy` storage class 选项载入对象也是如此：</block>
  <block id="6fb29e01448bc5331563248546d07245" category="list-text">`standard` ，表示对象存储在由存储节点组成的存储池中。</block>
  <block id="5f22d7df550251ce34bf957683c5b57a" category="list-text">`Glacier` ，表示对象已移至云存储池指定的外部存储分段。</block>
  <block id="e1f85709c8d58020c421e0b9cfcf7158" category="paragraph">如果存储分段包含大量前缀相同的已删除密钥，则响应可能包括一些不包含密钥的 `CommonPrefixes` 。</block>
  <block id="ee2e7520df57b05d4fa4d290c6997637" category="paragraph">获取分段 ACL</block>
  <block id="295437c0daf98242220544c56fb77ec6" category="paragraph">此操作将返回肯定响应以及存储分段所有者的 ID ， DisplayName 和权限，指示所有者对存储分段具有完全访问权限。</block>
  <block id="e1782ca40ab006ccf3b5276311a4cd09" category="paragraph">获取分段存储器</block>
  <block id="3f099999b8066a94dda6ac2e3d4d6de5" category="paragraph">此操作将返回存储分段的 `cors` 配置。</block>
  <block id="f2de36a27f57b74c6c47792463a02f0d" category="paragraph">获取存储分段加密</block>
  <block id="e26d34952ff5b5eef09fc5a595d9beea" category="paragraph">此操作将返回存储分段的默认加密配置。</block>
  <block id="e28df7f10682172e940070940506ee05" category="paragraph">此操作将返回存储分段的生命周期配置。</block>
  <block id="f03d95142065a81d3dc9f9cb8e4de209" category="paragraph">获取存储分段位置</block>
  <block id="41ab9e8eab6af7cf5020edc18d6845b8" category="paragraph">此操作将返回在 PUT Bucket 请求中使用 `LocationConstrcont` 元素设置的区域。如果存储分段的区域为 `us-east-1` ，则会为该区域返回一个空字符串。</block>
  <block id="4b310cd69f56b5235f692116ab5773f3" category="paragraph">获取存储分段通知</block>
  <block id="34bec73bcd6d397508cff7d58d6abb5a" category="paragraph">此操作将返回附加到存储分段的通知配置。</block>
  <block id="cce6df10add016a2ede09c9de4265251" category="paragraph">获取 Bucket 对象版本</block>
  <block id="2ff8e6dc36231398eb2e38de04864606" category="paragraph">通过在存储分段上进行读取访问，此操作会使用 `versions` Subresource 列出存储分段中所有版本对象的元数据。</block>
  <block id="a023c59496c709ddf270fa1a08fa76b1" category="paragraph">获取存储分段策略</block>
  <block id="0a868a94f3f855026e97dfc3ebc5ae9b" category="paragraph">此操作将返回附加到存储分段的策略。</block>
  <block id="a9da1425e6974540606dad5ed33b3cad" category="paragraph">获取存储分段复制</block>
  <block id="97d12294bf2248cedb93e4dafd2501d6" category="paragraph">此操作将返回附加到存储分段的复制配置。</block>
  <block id="5e03b359b48986b95f1a7e3445a28d48" category="paragraph">获取存储分段标记</block>
  <block id="c41bd9bba8e77966acd51f6ba85f5545" category="paragraph">此操作使用 `tagging` Subresource 返回存储分段的所有标记。</block>
  <block id="7d65c30e75b8d41ff2612609d0c3b6a5" category="paragraph">获取存储分段版本控制</block>
  <block id="c688cf56243f664d2f2da06508f53a74" category="paragraph">此实施会使用 `ve决策` 子资源返回存储分段的版本控制状态。</block>
  <block id="64a83324b9984dd85c6a87e376c396b3" category="list-text">_blank_ ：从未启用版本控制（存储分段为 "`未版本控制` " ）</block>
  <block id="5ae6f739bae0babf6ec3c2305719bf3e" category="list-text">Enabled ：已启用版本控制</block>
  <block id="e001cd096fa7cdd4effa158ceef1a1f1" category="list-text">suspended ：先前已启用版本控制并已暂停</block>
  <block id="3977027dee3446b2465d12289ef84d31" category="paragraph">此操作将返回存储分段默认保留模式和默认保留期限（如果已配置）。</block>
  <block id="071fde236171739db35206dc4fb00b57" category="paragraph">请参见 <block ref="c76d107b2667bf397ca2ce3df3e37426" category="inline-xref-macro-rx"></block> 了解详细信息。</block>
  <block id="28440d79805a83ceb17e86da72020192" category="paragraph">头存储分段</block>
  <block id="c4ff8d25bd8418cd68d4a189e2578621" category="paragraph">此操作将确定某个存储分段是否存在，并且您有权访问该存储分段。</block>
  <block id="290b954e17b0254e25b7b3f385d9a9a9" category="paragraph">此操作将返回：</block>
  <block id="990dab0df64378e7b71aaf164e207e59" category="list-text">`x-ntap-sg-bucket-id` ： UUID 格式的存储分段 UUID 。</block>
  <block id="2e5ec421abdb0cc032b50e0eb6a3d46e" category="list-text">`x-ntap-sg-trace-id` ：关联请求的唯一跟踪 ID 。</block>
  <block id="933987cdd7cbf0b98e05a9a19ab34dfb" category="paragraph">放入存储分段</block>
  <block id="395b5714168e2dee709992a28bc79e51" category="paragraph">此操作将创建一个新存储分段。创建存储分段后，您就会成为存储分段所有者。</block>
  <block id="a891e34730121099ca8b6711599d03ca" category="list-text">存储分段名称必须符合以下规则：</block>
  <block id="38d506ae1723691e4707d6a3b38daa74" category="list-text">每个 StorageGRID 系统必须是唯一的（而不仅仅是租户帐户中的唯一）。</block>
  <block id="d45a8ffb6656ba1696b9068599990e06" category="list-text">必须符合 DNS 要求。</block>
  <block id="ea0fed47ed94e510204dc6a279eb8595" category="list-text">必须至少包含 3 个字符，并且不能超过 63 个字符。</block>
  <block id="0c05b3512e2e5a7d82769e9c2dd6b361" category="list-text">可以是一个或多个标签的序列，并使用一个句点分隔相邻标签。每个标签必须以小写字母或数字开头和结尾，并且只能使用小写字母，数字和连字符。</block>
  <block id="43b00dc91a5a3ebc17a472695f6be307" category="list-text">不能与文本格式的 IP 地址类似。</block>
  <block id="54866248d1c9d3b909e7e8d595ccde2d" category="list-text">不应在虚拟托管模式请求中使用句点。句点会在验证服务器通配符证书时出现发生原因 问题。</block>
  <block id="e0ac60854799409840383bddfefba6fd" category="list-text">默认情况下，会在 `us-east-1` 区域中创建分段；但是，您可以使用请求正文中的 `LocationConstrcont` Request 元素来指定其他区域。使用 `LocationConstrcont` 元素时，必须指定已使用网格管理器或网格管理 API 定义的区域的确切名称。如果您不知道应使用的区域名称，请联系您的系统管理员。</block>
  <block id="04461ad9a0f2c72194e7aff27489c433" category="paragraph">* 注 * ：如果 PUT 存储分段请求使用的区域尚未在 StorageGRID 中定义，则会发生错误。</block>
  <block id="a1de2915812bffee9af30fdb8f2872ce" category="list-text">您可以使用 `x-AMZ-bucket-object-lock-enabled` 请求标头来创建启用了 S3 对象锁定的存储分段。请参见 <block ref="50accd69a547c5300024d857f9d8e09c" category="inline-xref-macro-rx"></block>。</block>
  <block id="02a837e676d33288b56cde81f33ef8f2" category="paragraph">创建存储分段时，必须启用 S3 对象锁定。创建存储分段后，您无法添加或禁用 S3 对象锁定。S3 对象锁定需要分段版本控制，在创建分段时会自动启用分段版本控制。</block>
  <block id="409bfcb18f08c263c2ec2734b453bf5b" category="paragraph">放入存储分段箱</block>
  <block id="bf1cbbfa69c12990b51b530220bf1323" category="paragraph">此操作会为存储分段设置 CORS 配置，以便存储分段可以处理跨源请求。跨源资源共享（ CORS ）是一种安全机制，允许一个域中的客户端 Web 应用程序访问不同域中的资源。例如，假设您使用名为 `images` 的 S3 存储分段来存储图形。通过为 `images` 存储分段设置 CORS 配置，您可以允许在网站 ` + http://www.example.com+` 上显示该存储分段中的图像。</block>
  <block id="d051820e2ed5759c8bdbe8951da6962a" category="paragraph">PUT 存储分段加密</block>
  <block id="3501bd4c713c7c5ceb69697ea046a8b3" category="paragraph">此操作将设置现有存储分段的默认加密状态。启用存储分段级别加密后，添加到存储分段中的任何新对象都会进行加密。 StorageGRID 支持使用 StorageGRID 管理的密钥进行服务器端加密。指定服务器端加密配置规则时，请将 `SSEAlgorithm` 参数设置为 `AES256` ，不要使用 `KMSMasterKeyID` 参数。</block>
  <block id="9e4d632c4d19ccda6886b73769385d3c" category="paragraph">如果对象上传请求已指定加密（即，如果请求包含 `x-AMZ-server-side encrypation-*` 请求标头），则存储分段默认加密配置将被忽略。</block>
  <block id="8e93f20a09388048bff923fd739d6c6e" category="paragraph">此操作将为存储分段创建新的生命周期配置或替换现有的生命周期配置。StorageGRID 在一个生命周期配置中最多支持 1 ， 000 条生命周期规则。每个规则可以包含以下 XML 元素：</block>
  <block id="d265d7fe212f17bf0720558ff20a4d96" category="list-text">到期日期（天，日期）</block>
  <block id="c207dbf7058811cdd966213e84ce429a" category="list-text">非当前版本到期（非当前日期）</block>
  <block id="aa58390319df49e92dd2d4e27bc61105" category="paragraph">StorageGRID 不支持以下操作：</block>
  <block id="fce82da56cb8ca29658f445035073a3a" category="list-text">AbortIncompleteMultipartUpload</block>
  <block id="5928b1b3d0e62426fcef71a996e73731" category="list-text">ExpiredObjectDeleteMarker</block>
  <block id="afedf9afee367f51f98d7cf030c976a6" category="list-text">过渡</block>
  <block id="44d64292eaf4793894cfe463ff4c910c" category="paragraph">要了解存储分段生命周期中的到期操作如何与 ILM 放置说明交互，请参见使用信息生命周期管理功能管理对象的说明中的 "`ILM 如何在对象的整个生命周期内运行` " 。</block>
  <block id="8a5f42cbf53b3e83a9b0c88eb780e402" category="paragraph">* 注 * ：存储分段生命周期配置可用于启用了 S3 对象锁定的存储分段，但传统合规存储分段不支持存储分段生命周期配置。</block>
  <block id="d90ccfb272eaf3791b945843b1a0e3c7" category="paragraph">PUT 存储分段通知</block>
  <block id="f89249c607b7d45e8392c30292fd9c29" category="paragraph">此操作将使用请求正文中包含的通知配置 XML 为存储分段配置通知。您应了解以下实施详细信息：</block>
  <block id="e578f88786c5ae9cc4626a429109bc46" category="list-text">StorageGRID 支持将简单通知服务（ SNS ）主题作为目标。不支持简单队列服务（ SQS ）或 Amazon Lambda 端点。</block>
  <block id="7a28e9abf9f98e8220683be1d283c1fc" category="list-text">必须将通知目标指定为 StorageGRID 端点的 URN 。可以使用租户管理器或租户管理 API 创建端点。</block>
  <block id="b015b726871949061f7256c4049f4631" category="paragraph">要成功配置通知，端点必须存在。如果端点不存在，则返回 `400 bad request` 错误，并显示代码 `InvalidArgument` 。</block>
  <block id="b7b1917a27eeafc15700a35507672ef5" category="list-text">您不能为以下事件类型配置通知。这些事件类型 * 不 * 受支持。</block>
  <block id="012399622691e5f316932c3fad79bb5d" category="list-text">`s 3 ：异径冗余 LostObject`</block>
  <block id="4a2ff54dc1355e6ec8230ff263c66df6" category="list-text">`s 3 ： ObjectRestore ：已完成`</block>
  <block id="eaf36bafedcd5e2acfe2daf860e2f7f3" category="list-text">从 StorageGRID 发送的事件通知使用标准 JSON 格式，只是它们不包含某些密钥，而对其他密钥使用特定值，如以下列表所示：</block>
  <block id="822f31d1539c0bf76299aef3791942cc" category="list-text">* 事件源 *</block>
  <block id="7dcbad03a66f1394a417a61af588777f" category="paragraph">`sGWS ： S3`</block>
  <block id="dd3622dbd299ae4784352ff45dc9c7a0" category="list-text">* awsRegion*</block>
  <block id="819a7e668fd02c046e26bbf931f7e9ba" category="paragraph">不包括</block>
  <block id="4410f38fcc573951f69b6ca658c40208" category="list-text">* 。 x-AMZ-id-2*</block>
  <block id="9d3158589897050627a06fcea9381be4" category="list-text">* arn*</block>
  <block id="f01c733be2ffd54c1451d3677d20b121" category="paragraph">`urn ： sgws ： s3 ：：： bucket_name`</block>
  <block id="9ecde7c876977b9d54d30389aa91d490" category="paragraph">PUT 存储分段策略</block>
  <block id="3c47f701b7fb10a16aff636314de8aad" category="paragraph">此操作将设置附加到存储分段的策略。</block>
  <block id="189ab81940f0b0223fde94a921d5ed7a" category="paragraph">PUT 存储分段复制</block>
  <block id="32be38220b7ffc5bcb2c926b2fcccd40" category="paragraph">此操作将使用请求正文中提供的复制配置 XML 为存储分段配置 StorageGRID CloudMirror 复制。对于 CloudMirror 复制，您应了解以下实施详细信息：</block>
  <block id="fae2ccc7734379b617b551b09109dca0" category="inline-link">有关复制配置的 Amazon S3 文档</block>
  <block id="40c03307ddc38762236d5d4a8cb2c03b" category="list-text">StorageGRID 仅支持复制配置的 V1 。这意味着， StorageGRID 不支持使用 `Filter` 元素作为规则，并遵循 V1 约定删除对象版本。有关详细信息，请参见<block ref="5c08d2b5736c720dd05480700a515980" category="inline-link-rx"></block>。</block>
  <block id="e7b2c311ae6c2f201333bb704cde4024" category="list-text">分段复制可以在分版本或未分版本的分段上配置。</block>
  <block id="b8c9ab8690fa534b26e98df699f3b8ae" category="list-text">您可以在复制配置 XML 的每个规则中指定不同的目标存储分段。一个源存储分段可以复制到多个目标存储分段。</block>
  <block id="c8edfe63f5abc8f25e534bb36903fb26" category="list-text">必须将目标分段指定为租户管理器或租户管理 API 中指定的 StorageGRID 端点的 URN 。</block>
  <block id="d5c9b8b845b7255c3a3b2b97c2e543d9" category="paragraph">要成功进行复制配置，必须存在此端点。如果此端点不存在，则此请求将失败，并显示 `400 错误请求` 。错误消息显示： `Unable to save the replication policy 。指定的端点 URN 不存在： _URN_ 。`</block>
  <block id="7bfbc31f86962a373bf47b6d6a80e925" category="list-text">您不需要在配置 XML 中指定 `role` 。StorageGRID 不使用此值，如果提交，则会忽略此值。</block>
  <block id="c97cdfe07b799050f540c51ba193aed4" category="list-text">如果在配置 XML 中省略存储类，则 StorageGRID 默认使用 `Standard` storage class 。</block>
  <block id="a31c411ee83c54063126116893f2dcd5" category="list-text">如果从源存储分段中删除对象或删除源存储分段本身，则跨区域复制行为如下：</block>
  <block id="45c898e0ac2c0184dc51f5bb5365e65e" category="list-text">如果在复制对象或存储分段之前将其删除，则不会复制此对象 / 存储分段，您也不会收到通知。</block>
  <block id="8a0afe039efd2cd58c384593e4cce642" category="list-text">如果您在复制对象或存储分段后将其删除，则 StorageGRID 会对跨区域复制的 V1 遵循标准 Amazon S3 删除行为。</block>
  <block id="7eeae5b4193e91a03f0b8c65a681e6a3" category="paragraph">放置存储分段标记</block>
  <block id="d10dcf7bb48dacbb460f5199f003f0da" category="paragraph">此操作使用 `tagging` Subresource 为存储分段添加或更新一组标记。添加存储分段标记时，请注意以下限制：</block>
  <block id="4dd983da966a27fbd685ded0269482b0" category="list-text">StorageGRID 和 Amazon S3 为每个存储分段最多支持 50 个标签。</block>
  <block id="7b82d7c03021df1db6c52454cee6e54c" category="list-text">与存储分段关联的标记必须具有唯一的标记密钥。一个标记密钥的长度最多可包含 128 个 Unicode 字符。</block>
  <block id="ab23af86227de7dcc931b4e8919c5ba7" category="list-text">标记值的长度最多可以为 256 个 Unicode 字符。</block>
  <block id="a1a51b9ded79fb59e901c38b202a45de" category="list-text">密钥和值区分大小写。</block>
  <block id="ed13c087829c51cced3b3a6f61d44e59" category="paragraph">PUT 存储分版本</block>
  <block id="3e1795de3ceb56ecc80a9bce68e0f3ce" category="paragraph">此实施使用 `ve决策` 子资源来设置现有存储分段的版本控制状态。您可以使用以下值之一设置版本控制状态：</block>
  <block id="312b5950c02eecf927bce9b6cf0f3ca6" category="list-text">Enabled ：为存储分段中的对象启用版本控制。添加到存储分段中的所有对象都会收到唯一的版本 ID 。</block>
  <block id="115f32b694d13a5a455f1dd15ecbc925" category="list-text">suspended ：为存储分段中的对象禁用版本控制。添加到存储分段的所有对象都会收到版本 ID `null` 。</block>
  <block id="35689f85b589123575f3b918f41a6a72" category="paragraph">PUT 对象锁定配置</block>
  <block id="3f117200e9fdc63088dd45c827dba7d1" category="paragraph">此操作将配置或删除存储分段默认保留模式和默认保留期限。</block>
  <block id="fadf29550eaec5b2c651404383d1a595" category="paragraph">如果修改了默认保留期限，则现有对象版本的保留日期将保持不变，不会使用新的默认保留期限重新计算。</block>
  <block id="8cad946ed2de3a75f4a0d3b34a4faf87" category="paragraph">请参见 <block ref="f26802fb1f6160f84aaff4c947fff9ac" category="inline-xref-macro-rx"></block> 了解详细信息。</block>
  <block id="4cc0ba636011fd91df08096a9dbb52a5" category="inline-xref-macro">存储分段和组访问策略</block>
  <block id="ddbabd3a3df3b874e66d7ee17009a18b" category="paragraph"><block ref="ddbabd3a3df3b874e66d7ee17009a18b" category="inline-xref-macro-rx"></block></block>
  <block id="d61fcd1d2af387562c218f4e4cde33eb" category="summary">您可以使用 S3 GET 对象请求从 S3 存储分段检索对象。</block>
  <block id="64918118884cd6417b88edff64c0fa98" category="doc">获取对象</block>
  <block id="14da756dea50997abd03d49480e3dfe3" category="section-title">获取对象和多部分对象</block>
  <block id="2ad4e6913588b5535832b71d81eb48d0" category="paragraph">您可以使用 `partnumber` request 参数检索多部分或分段对象的特定部分。`x-AMZ-MP-parts-count` 响应元素指示对象包含的部件数。</block>
  <block id="e7ed8ff9bad623af1a5a8e430204a074" category="paragraph">对于已分段 / 多部分对象和未分段 / 非多部分对象，您可以将 `partnumber` 设置为 1 ；但是，仅对于已分段或多部分对象，才会返回 `x-AMZ-MP-parts-count` response 元素。</block>
  <block id="ac24ce98e2eb6bfd418c1b3df4f85937" category="section-title">使用客户提供的加密密钥（ SSI-C ）进行服务器端加密的请求标头</block>
  <block id="c9b55aa61824611bc27cb6bd29675466" category="paragraph">如果使用您提供的唯一密钥对对象进行加密，请使用所有三个标头。</block>
  <block id="239bf9218377f20fe225efaccd559c6d" category="list-text">`x-AMZ-server-side encrypt-customer-key` ：指定对象的加密密钥。</block>
  <block id="0763a29737ed8e4e06293a063fbc892b" category="list-text">`x-AMZ-server-side encrypt-customer-key-md5` ：指定对象加密密钥的 MD5 摘要。</block>
  <block id="c39b9651939eb3f48f56ef7b6612998c" category="paragraph">StorageGRID 不会解析或解释用户定义的元数据中的转义 UTF-8 字符。如果密钥名称或值包含不可打印的字符，则对用户定义的元数据中包含转义 UTF-8 字符的对象的获取请求不会返回 `x-AMZ-MISSING-meta` 标头。</block>
  <block id="35772e0878efae3983f411feb5b58609" category="section-title">请求标头不受支持</block>
  <block id="56eae191241763f438fe17c5a21b4ae6" category="paragraph">不支持以下请求标头，并返回 `XNotImplemented"` ：</block>
  <block id="5dbe11499a212b509fa23b08c41dcaec" category="paragraph">如果未指定 `veversionId` Subresource ，则此操作将提取受版本控制的存储分段中的对象的最新版本。如果对象的当前版本为删除标记，则返回 "`not found` " 状态，并将 `x-AMZ-delete-marker` response 标头设置为 `true` 。</block>
  <block id="cdfdd0aa7e1f5ed377413e81971316eb" category="section-title">Cloud Storage Pool 对象的 GET 对象行为</block>
  <block id="adb46a680a90ac0e536d2ae80d356004" category="paragraph">如果某个对象已存储在云存储池中（请参见有关通过信息生命周期管理来管理对象的说明），则 GET 对象请求的行为取决于对象的状态。有关详细信息，请参见 "`head Object` " 。</block>
  <block id="0b1d936947600ef91b2da7e08118f034" category="admonition">如果某个对象存储在云存储池中，并且该对象的一个或多个副本也位于网格中，则获取对象请求将尝试从网格中检索数据，然后再从云存储池中检索数据。</block>
  <block id="094993aa1e8d8c741a4aebc6cee3c581" category="cell">GET 对象的行为</block>
  <block id="789d72bd42a1da0bcbe33bcbbed05e0e" category="paragraph">对象已载入 StorageGRID 但尚未通过 ILM 进行评估，或者存储在传统存储池中的对象或使用纠删编码</block>
  <block id="09b2ecced94a60f72093fde0907656a5" category="paragraph">检索对象的副本。</block>
  <block id="844a14ccab4d72f0040a6f7f4241ec10" category="paragraph">使用 POST 对象还原请求将对象还原到可检索的状态。</block>
  <block id="bcb3d674ec2ff7ee22346cc8ca6db556" category="paragraph">等待 POST 对象还原请求完成。</block>
  <block id="b979d8e953c0b8d80017e6710c4756af" category="section-title">云存储池中的多部分或分段对象</block>
  <block id="5f8b81545807ce4ac2282d9bf0eb1a8d" category="paragraph">如果您上传的是多部分对象或 StorageGRID 将一个大型对象拆分为多个区块，则 StorageGRID 会通过取样该对象的部分或区块来确定该对象是否在云存储池中可用。在某些情况下，如果对象的某些部分已过渡到不可检索的状态或对象的某些部分尚未还原，则获取对象请求可能会错误地返回 `200 正常` 。</block>
  <block id="334f6d285fa0473357f6b2aea216e9f3" category="paragraph">在这些情况下：</block>
  <block id="d1010edfb75fda4f38dda99e2243eefe" category="list-text">GET 对象请求可能会返回一些数据，但会在传输过程中停止。</block>
  <block id="9187aaf77a781fcc7ddafde2401865a0" category="list-text">后续的 GET 对象请求可能会返回 `403 For禁用` 。</block>
  <block id="6b046a7792b40e6fce50f673d65583c0" category="paragraph"><block ref="6b046a7792b40e6fce50f673d65583c0" category="inline-xref-macro-rx"></block></block>
  <block id="7a7df964850c1875009c964b521081a1" category="summary">" 启动多部件上传 " 操作将为对象启动多部件上传，并返回上传 ID 。</block>
  <block id="56a20cbb82a5f2ab87794eba1148b39a" category="paragraph">支持 `x-AMZ-storage-class` 请求标头。为 `x-AMZ-storage-class` 提交的值会影响 StorageGRID 在载入期间保护对象数据的方式，而不会影响 StorageGRID 系统中存储对象的永久性副本的数量（由 ILM 决定）。</block>
  <block id="a381e3fb9dd6e42b3e08c7c4cf6afa8a" category="paragraph">如果与已载入对象匹配的 ILM 规则对载入行为使用 strict 选项，则 `x-AMZ-storage-class` 标头将不起作用。</block>
  <block id="cfa7757fdebc2120b35ce81a8032d8d1" category="paragraph">以下值可用于 `x-AMZ-storage-class` ：</block>
  <block id="8d0f8727e54b5b3c139187d7cd9e729c" category="list-text">`standard` （默认）</block>
  <block id="ef7be01b12eff20092ed829a023ffda0" category="list-text">* 双提交 * ：如果 ILM 规则为载入行为指定了双提交选项，则在载入对象后，系统会立即创建该对象的第二个副本并将其分发到其他存储节点（双提交）。评估 ILM 后， StorageGRID 将确定这些初始临时副本是否满足规则中的放置说明。否则，可能需要在不同位置创建新的对象副本，并且可能需要删除初始中间副本。</block>
  <block id="cc7f65763c4fd4e9584342e8891659c7" category="list-text">* 已平衡 * ：如果 ILM 规则指定 Balified 选项，而 StorageGRID 无法立即创建规则中指定的所有副本，则 StorageGRID 会在不同的存储节点上创建两个临时副本。</block>
  <block id="d28dfcbc20d480dc3a65764c7b143302" category="paragraph">如果 StorageGRID 可以立即创建 ILM 规则（同步放置）中指定的所有对象副本，则 `x-AMZ-storage-class` 标头将不起作用。</block>
  <block id="502a6eca2e80cd927c288937389e0574" category="list-text">* 双提交 * ：如果 ILM 规则为载入行为指定了双提交选项，则 StorageGRID 会在载入对象时创建一个临时副本（单个提交）。</block>
  <block id="374d674eb9bc96f71b43f21fd22c016d" category="list-text">* 已平衡 * ：如果 ILM 规则指定 Balified 选项，则只有在系统无法立即创建规则中指定的所有副本时， StorageGRID 才会创建一个临时副本。如果 StorageGRID 可以执行同步放置，则此标头不起作用。`re` 与对象匹配的 ILM 规则创建一个复制副本时，最好使用 " 已复制 " 选项。在这种情况下，使用 `recreated_redundancy` 可以避免在每次载入操作中不必要地创建和删除额外的对象副本。</block>
  <block id="0f0aec0b87082feb9828ac6fdb8b7572" category="paragraph">在其他情况下，不建议使用 `reincluster_redundancy` 选项。`re介绍冗余` 增加了载入期间对象数据丢失的风险。例如，如果最初将单个副本存储在发生故障的存储节点上，而此存储节点未能进行 ILM 评估，则可能会丢失数据。</block>
  <block id="1694624aad5da6f236b6a4ba0dcf6005" category="paragraph">* 注意 * ：在任意时间段内只复制一个副本会使数据面临永久丢失的风险。如果某个对象只存在一个复制副本，则在存储节点出现故障或出现严重错误时，该对象将丢失。在升级等维护过程中，您还会暂时失去对对象的访问权限。</block>
  <block id="1f9a29d52f7ccd4c0731ab83ff880415" category="paragraph">指定 `recreated_redundancy` 仅会影响首次载入对象时创建的副本数。它不会影响在活动 ILM 策略评估对象时创建的对象副本数，也不会导致数据在 StorageGRID 系统中以较低的冗余级别存储。</block>
  <block id="a664100b77677f4c39f4465d8cbbad23" category="paragraph">* 注 * ：如果要在启用了 S3 对象锁定的情况下将对象载入存储分段，则会忽略 `re区冗余` 选项。如果要将对象载入旧的合规存储分段，则 `re区冗余` 选项将返回错误。StorageGRID 将始终执行双提交载入，以确保满足合规性要求。</block>
  <block id="68230e690927fa3729af95cc8c23664e" category="paragraph">为用户定义的元数据指定名称 - 值对时，请使用以下通用格式：</block>
  <block id="3df9e639a57525e99e70817234c569d6" category="paragraph">如果要使用 * 用户定义的创建时间 * 选项作为 ILM 规则的参考时间，则必须使用 `creation-time` 作为创建对象时记录的元数据的名称。例如：</block>
  <block id="956cc743885e75cbe39f45e230da788c" category="paragraph">自 1970 年 1 月 1 日以来， `creation-time` 的值将以秒为单位进行评估。</block>
  <block id="db078bce967397cf837cb395ae8ee21f" category="admonition">如果要将对象添加到启用了旧合规性的存储分段，则不允许将 `create-time` 添加为用户定义的元数据。此时将返回错误。</block>
  <block id="289f1b53db154a46762ea12e2ef861bb" category="inline-xref-macro">使用 S3 对象锁定</block>
  <block id="8b8e13c3563b74ec5986d0c116bd09a5" category="paragraph"><block ref="8b8e13c3563b74ec5986d0c116bd09a5" category="inline-xref-macro-rx"></block></block>
  <block id="d82cbf04c1bef9bd85e09fa9e23a86de" category="paragraph"><block ref="0f037a5c406cafaf17227c6632c8f1a1" category="inline-xref-macro-rx"></block></block>
  <block id="71f6123250e0159507227ce04e9f89e7" category="admonition">有关 StorageGRID 如何处理 UTF-8 字符的信息，请参见 PUT 对象的文档。</block>
  <block id="79dae3466f4eaebb6f1e75ef9fb3c2f9" category="paragraph">您可以使用以下请求标头通过服务器端加密对多部分对象进行加密。SSE 和 SSI-C 选项是互斥的。</block>
  <block id="eadca8e2216b554728a4046bc7abf06e" category="list-text">* SSE* ：如果要使用 StorageGRID 管理的唯一密钥对对象进行加密，请在 " 启动多部分上传请求 " 中使用以下标题。请勿在任何上传部件请求中指定此标题。</block>
  <block id="a2fa93465efa2da94818a9d1fa628f13" category="list-text">* SSI-C* ：如果要使用您提供和管理的唯一密钥对对象进行加密，请在 " 启动多部件上传请求 " （以及后续的每个 " 上传部件请求 " ）中使用所有这三个标头。</block>
  <block id="9723e741c9c7dcf0d4c30d0d2f62fd9b" category="list-text">`x-AMZ-server-side encrypt-customer-key` ：为新对象指定加密密钥。</block>
  <block id="c38b12cb717c30fa043e55ab14c3b22f" category="list-text">`x-AMZ-server-side encrypt-customer-key-md5` ：指定新对象加密密钥的 MD5 摘要。</block>
  <block id="689ee20b8a559a72705d0a910f0fd4ff" category="paragraph">不支持以下请求标头，并返回 `XNotImplemented"`</block>
  <block id="d331b49131aadfc8438965c7aac57027" category="summary">您应保持与 StorageGRID 系统的多个 TCP/IP 连接处于开放状态，以实现并行处理，从而提高性能。并行连接的最佳数量取决于多种因素。</block>
  <block id="5e24d583a50db9b63bd83d618ce0fb0e" category="doc">并发 HTTP 连接的优势</block>
  <block id="56ad765c2c1ed2c8f2b633a9ca255a72" category="paragraph">并发 HTTP 连接具有以下优势：</block>
  <block id="839207bbda6ebf029521c1a0a85bf06a" category="list-text">缩短延迟</block>
  <block id="f400d1848f3a3eac5ec50cc61aceaf3c" category="paragraph">事务可以立即启动，而不是等待其他事务完成。</block>
  <block id="0f63955b35a293c3e5036c75fe6e663f" category="list-text">提高吞吐量</block>
  <block id="0d9c5320c3b386267b613e7846d2a223" category="paragraph">StorageGRID 系统可以执行并行事务并提高聚合事务吞吐量。</block>
  <block id="1e51dd5799ea15d8148b551ecadc8948" category="paragraph">客户端应用程序应建立多个 HTTP 连接。当客户端应用程序必须执行事务时，它可以选择并立即使用当前未处理事务的任何已建立连接。</block>
  <block id="7f1bb231bbb5935a588277d40d00ceea" category="paragraph">在性能开始下降之前，每个 StorageGRID 系统的拓扑对于并发事务和连接具有不同的峰值吞吐量。峰值吞吐量取决于计算资源，网络资源，存储资源和 WAN 链路等因素。服务器和服务的数量以及 StorageGRID 系统支持的应用程序的数量也是因素。</block>
  <block id="eab8e5092a8b93adfba02eeebb5ae1f7" category="paragraph">StorageGRID 系统通常支持多个客户端应用程序。在确定客户端应用程序所使用的最大并发连接数时，应牢记这一点。如果客户端应用程序包含多个软件实体，每个软件实体都与 StorageGRID 系统建立连接，则应添加这些实体之间的所有连接。在以下情况下，您可能需要调整并发连接的最大数量：</block>
  <block id="391d556b36e982b9226e0829c254c982" category="list-text">StorageGRID 系统的拓扑会影响系统可以支持的并发事务和连接的最大数量。</block>
  <block id="e3fa55fe44584355c627ec62f4105fe2" category="list-text">如果客户端应用程序通过带宽有限的网络与 StorageGRID 系统进行交互，则可能需要降低并发程度，以确保各个事务在合理时间内完成。</block>
  <block id="d74cbc6380d38210aa469187da8b36f1" category="list-text">当许多客户端应用程序共享 StorageGRID 系统时，您可能需要降低并发程度，以避免超过系统限制。</block>
  <block id="005b6d52edd3bd40e4d2d07bcb27edcf" category="summary">您可以监控对象载入和检索速率，以及对象计数，查询和验证的指标。您可以查看客户端应用程序在 StorageGRID 系统中成功尝试读取，写入和修改对象的次数和失败的尝试次数。</block>
  <block id="25760aabda52bb8d1eae5ecf43d4aa56" category="doc">监控对象载入和检索速率</block>
  <block id="654c6c9dc8981a5cf4a29814d29f5f3b" category="list-text">在信息板上，找到协议操作部分。</block>
  <block id="2937311cba1d98b71d3c06681fa307e7" category="paragraph">本节总结了 StorageGRID 系统执行的客户端操作的数量。协议速率是过去两分钟的平均值。</block>
  <block id="98f03b994aaa5e89d7454aa016360a73" category="list-text">从节点主页（部署级别）中，单击 * 负载平衡器 * 选项卡。</block>
  <block id="9bd46fe7fa9a496a44cc6890e254bc83" category="paragraph">这些图表显示了定向到网格中负载平衡器端点的所有客户端流量的趋势。您可以选择以小时，天，周，月或年为单位的时间间隔， 或者，您也可以应用自定义间隔。</block>
  <block id="446077120bc5602005f128b775b8b590" category="list-text">从节点主页（部署级别）中，单击 * 对象 * 选项卡。</block>
  <block id="88969976a42780992278580790b40163" category="paragraph">此图表显示了整个 StorageGRID 系统的载入和检索速率，以每秒字节数和总字节数为单位。您可以选择以小时，天，周，月或年为单位的时间间隔， 或者，您也可以应用自定义间隔。</block>
  <block id="29301be9eb5bd85c459c2ceb6998ad41" category="list-text">要查看特定存储节点的信息，请从左侧列表中选择该节点，然后单击 * 对象 * 选项卡。</block>
  <block id="f373035f55875f127a2547ff6efbb529" category="paragraph">此图表显示了此存储节点的对象载入速率和检索速率。此选项卡还包括对象计数，查询和验证的指标。您可以单击这些标签以查看这些指标的定义。</block>
  <block id="ec861c31c45849c5e21e43b31e018269" category="image-alt">节点 &gt;_Storage Nodge_ &gt; 对象 &gt; 属性帮助的屏幕截图</block>
  <block id="2575cbe58b9ed2f674307cc6a0421a5d" category="list-text">如果您需要更多详细信息：</block>
  <block id="79c72800dc00266d2ed26c1fc914c3c4" category="list-text">选择 * 站点 _* &gt; * 概述 * &gt; * 主要 * 。</block>
  <block id="b48a0ec74e3b810d4d9d1ea9a9eaa46a" category="paragraph">API Operations 部分显示整个网格的摘要信息。</block>
  <block id="5e79ef34fd36dbf8fce2a42987c91bf5" category="list-text">选择 * 存储节点 _* &gt; * LDR* &gt; * 客户端应用程序 _* &gt; * 概述 * &gt; * 主 *</block>
  <block id="68c19d56b41596f99e8a0ba374438b44" category="paragraph">操作部分显示选定存储节点的摘要信息。</block>
  <block id="c70cca1fd079a6b2edef117f262118f2" category="summary">如果存储分段启用了 S3 对象锁定，则可以指定应用于添加到存储分段中的每个对象的默认保留模式和默认保留期限。</block>
  <block id="4b62104281b2480a2db758ed97ffebc1" category="doc">使用 S3 对象锁定默认存储分段保留</block>
  <block id="bc2c9bff1d74b15264d2321fa7297a4e" category="list-text">在创建存储分段期间，可以为存储分段启用或禁用 S3 对象锁定。</block>
  <block id="db06e18801c4db8160329f65032c76db" category="list-text">如果为存储分段启用了 S3 对象锁定，则可以为存储分段配置默认保留。</block>
  <block id="d593a14878dcc79aed6bd5144dca6570" category="list-text">默认保留配置指定：</block>
  <block id="1737a41ba2808f845994089c24dcb3cf" category="list-text">默认保留模式： StorageGRID 仅支持 " 合规 " 模式。</block>
  <block id="fb810ae8105e1bdb283977fe40a00704" category="list-text">默认保留期限，以天或年为单位。</block>
  <block id="e26ce9a8e0db6a3ae8444907fa361b7c" category="paragraph">通过获取对象锁定配置请求，您可以确定是否为存储分段启用了对象锁定，如果已启用，请查看是否为存储分段配置了默认保留模式和保留期限。</block>
  <block id="0bdfc34efaef0a9c317107d63eceaddd" category="paragraph">将新对象版本载入存储分段后，如果未指定 `x-AMZ-object-lock-mode` ，则会应用默认保留模式。如果未指定 `x-AMZ-object-lock-retain-until date` ，则使用默认保留期限计算 retene-until 日期。</block>
  <block id="e1c353ef76c30f15b8cf4fc57b231978" category="paragraph">要完成此操作，您必须具有 S3 ： GetBucketObjectLockConfiguration 权限或帐户 root 。</block>
  <block id="20434157b24bd66d4e8879a751985256" category="paragraph">使用 PUT 对象锁定配置请求，您可以修改已启用对象锁定的存储分段的默认保留模式和默认保留期限。您还可以删除先前配置的默认保留设置。</block>
  <block id="9e9e2cee6606a112639ecaa1e49ec9b3" category="paragraph">如果在载入对象版本后修改了默认保留期限，则对象版本的保留日期将保持不变，不会使用新的默认保留期限重新计算。</block>
  <block id="f851ea5364a6926a6dd2788eb9aa0701" category="paragraph">要完成此操作，您必须具有 S3 ： PutBucketObjectLockConfiguration 权限或帐户 root 。</block>
  <block id="09402ca85e081722dda951e2310dbd4e" category="paragraph">必须在 PUT 请求中指定 `Content-MD5` 请求标头。</block>
  <block id="08aed86eed5bcf071395699b197513fe" category="paragraph">要完成此操作，您对某个存储分段拥有 S3 ： DeleteBucketMetadataNotification 权限，或者您是帐户的 root 用户。</block>
  <block id="548a65ae9d199e1333d123cadc59a2d2" category="paragraph">此示例显示了禁用存储分段的搜索集成服务。</block>
  <block id="c5aca6f726782fc4a6f6e0cb225002f5" category="summary">StorageGRID 审核日志会跟踪多个存储分段操作和对象操作。</block>
  <block id="bc23723e07c15a9d2cdd20f4f0f66ed6" category="section-title">审核日志中跟踪的存储分段操作</block>
  <block id="74448bafd675ec58b886fdd10e740733" category="list-text">删除多个对象</block>
  <block id="0ca4305d99528dadb3f479d7201e6d88" category="list-text">获取存储分段（列出对象）</block>
  <block id="d14469a2f79e307bde0a7fbb15202352" category="section-title">审核日志中跟踪的对象操作</block>
  <block id="d6fd767d69104df5717fa52e6695647e" category="list-text">上传部件（ ILM 规则使用严格或平衡的载入行为时）</block>
  <block id="36053eb504d9a330a6795e8c36e77d4b" category="list-text">上传部件—复制（当 ILM 规则使用严格或平衡的载入行为时）</block>
  <block id="0397eb19f180bb7a376f32a45992d1ed" category="list-text">删除对象</block>
  <block id="8acefa60c32d941fa2860cd1b4985877" category="inline-xref-macro">对对象执行的操作</block>
  <block id="5b9c95213737c2776f7efdef32910041" category="paragraph"><block ref="5b9c95213737c2776f7efdef32910041" category="inline-xref-macro-rx"></block></block>
  <block id="360bbb6b361c0f0725743a7f441719aa" category="summary">您应了解 StorageGRID 系统对 S3 REST API 的支持发生了哪些变化。</block>
  <block id="44b88b4545071f302915f496baff4a47" category="doc">对 S3 REST API 支持的更改</block>
  <block id="258605de2cf58cf489ad0746be3be64e" category="paragraph">您应了解 StorageGRID 系统对 S3 REST API 的支持发生了哪些变化。</block>
  <block id="b8e7b465df7c5979dc731d06e84ce2cf" category="cell">版本。</block>
  <block id="8413c683b4b27cc3f4dbd4c90329d8ba" category="cell">注释</block>
  <block id="36552b079970ffb2dd1314115af76c4b" category="paragraph">11.6.</block>
  <block id="e39b0f2c66d5252ed6f83297a04594b7" category="list-text">增加了对在 GET 对象和 HEAD 对象请求中使用 `partnumber` request 参数的支持。</block>
  <block id="c09675d485b7bf83372f4f0219ddef14" category="list-text">增加了对 S3 对象锁定的默认保留模式和存储分段级别的默认保留期限的支持。</block>
  <block id="b3b8dac71365a348d7e55eeca9e62193" category="list-text">增加了对 `s 3 ： object-lock-real-retention-days` 策略条件密钥的支持，用于设置对象允许的保留期限范围。</block>
  <block id="243df6ccdd60bacdb734935307c679d2" category="list-text">现在，单个 PUT 对象操作的最大 _recommended_size 为 5 GiB （ 5 ， 368 ， 709 ， 120 字节）。如果对象大于 5 GiB ，请改用多部分上传。</block>
  <block id="69fe869fe19cc48f8855c36a02a16061" category="admonition">在 StorageGRID 11.6 中，单个 PUT 对象操作的最大 _supported _ 大小仍为 5 TiB （ 5 ， 497 ， 552 ， 138 ， 880 字节）。但是，如果您尝试上传超过 5 GiB 的对象，则会触发 * S3 PUT Object Size Too large* 警报。</block>
  <block id="2b7c53bace6e76127dd80fffa6f4f898" category="paragraph">11.5</block>
  <block id="9111eca184e6784bc6905f02560c6ec0" category="list-text">增加了对管理存储分段加密的支持。</block>
  <block id="f7ddb02674a8716632579b5b57ba7330" category="list-text">增加了对 S3 对象锁定和已弃用旧合规性请求的支持。</block>
  <block id="f79e76e0050c2958190b154905486376" category="list-text">增加了对在版本控制的存储分段上使用删除多个对象的支持。</block>
  <block id="2b193e1d7eaaf0113171659b67879292" category="list-text">现在可以正确支持 `Content-MD5` 请求标头。</block>
  <block id="3c9435015579e19dc2fb6312a2258ab5" category="paragraph">11.4</block>
  <block id="49902a09445b6b5a81f20327d0283c53" category="list-text">增加了对删除存储分段标记，获取存储分段标记和放置存储分段标记的支持。不支持成本分配标记。</block>
  <block id="fde8c7be36961589ac3144d7c20d94d4" category="list-text">对于在 StorageGRID 11.4 中创建的分段，不再需要限制对象密钥名称以满足性能最佳实践。</block>
  <block id="20f46fbb64b4ab9d6e3563d9f4db6b53" category="list-text">增加了对 `s 3 ： ObjectRestore ： POST` 事件类型的存储分段通知的支持。</block>
  <block id="df4905e4f37c9c41d9019ba033e3bc8a" category="list-text">现在，多部件的 AWS 大小限制已强制实施。多部分上传中的每个部件必须介于 5 MiB 和 5 GiB 之间。最后一个部件可以小于 5 MiB 。</block>
  <block id="af3a1e2c9fa02134d183d22369a310a8" category="list-text">增加了对 TLS 1.3 的支持，并更新了支持的 TLS 密码套件列表。</block>
  <block id="b831e71b782a1e06e4e5f24e84680fb6" category="paragraph">11.3</block>
  <block id="c910666674a5bb86c4c6156339d815f4" category="list-text">增加了对使用客户提供的密钥（ SSI-C ）对对象数据进行服务器端加密的支持。</block>
  <block id="4ccc416c81947440a971fe8f9935343b" category="list-text">增加了对删除，获取和放置分段生命周期操作（仅限到期操作）以及 `x-AMZ-expiration` 响应标头的支持。</block>
  <block id="81a3ef0ab45b74693bdf790aad93e711" category="list-text">更新了 PUT 对象， PUT 对象 - 复制和多部件上传，以说明在载入时使用同步放置的 ILM 规则的影响。</block>
  <block id="dc508fd8e138ccc27985381fb7723556" category="list-text">更新了支持的 TLS 密码套件列表。不再支持 TLS 1.1 密码。</block>
  <block id="17d49ab14f0d4a8bbffe14ad3d6b7b13" category="paragraph">11.2.</block>
  <block id="52c80f2ffe2294255132a725e2837b20" category="paragraph">增加了对用于云存储池的后对象还原的支持。增加了对在组和存储分段策略中使用 AWS 语法来处理 ARN ，策略条件密钥和策略变量的支持。仍支持使用 StorageGRID 语法的现有组和存储分段策略。</block>
  <block id="ae03323dc11128ce6095e786227f99fa" category="paragraph">* 注意： * 在其他配置 JSON/XML 中使用 ARN/URN 的情况没有改变，包括在自定义 StorageGRID 功能中使用的情况。</block>
  <block id="485487ee8aabb20ea821e80e4e6a8592" category="paragraph">11.1</block>
  <block id="17d702488bdf6c62abefa7c07f970dda" category="paragraph">增加了对跨源资源共享（ CORS ）， S3 客户端到网格节点连接的 HTTP 以及存储分段上的合规性设置的支持。</block>
  <block id="02ad845d2f8ac57a5c265ea083b2169b" category="paragraph">11.0</block>
  <block id="55db34b959d56ab45927e8049b36b669" category="paragraph">增加了对为存储分段配置平台服务（ CloudMirror 复制，通知和 Elasticsearch 搜索集成）的支持。此外，还增加了对存储分段的对象标记位置约束以及可用一致性控制设置的支持。</block>
  <block id="669ce1d03d9fa934e3a84459db318586" category="paragraph">10.4.</block>
  <block id="31ef2e7e7ed5b29f944001e7a9355b30" category="paragraph">增加了对版本控制，端点域名页面更新，策略中的条件和变量，策略示例以及 PutOverwriteObject 权限的 ILM 扫描更改的支持。</block>
  <block id="4a920d14425c3a17ead55b4d93d9f5be" category="paragraph">10.3</block>
  <block id="1b75d91108737fcf7176c6e6632d12d3" category="paragraph">增加了对版本控制的支持。</block>
  <block id="a9d9d1b0257dda96d595bd00149cccdb" category="paragraph">10.2</block>
  <block id="68ecbe19c359d88539a2368d6cc63801" category="paragraph">增加了对组和存储分段访问策略以及多部件副本（上传部件 - 复制）的支持。</block>
  <block id="88d1955de012defb14b2db6f4797ff20" category="paragraph">10.1</block>
  <block id="d6bbe45a9cc477b73dcfd40488b564a2" category="paragraph">增加了对多部分上传，虚拟托管模式请求和 v4 身份验证的支持。</block>
  <block id="43a1437f7f656cd8be7c996c58719e0a" category="paragraph">10.0</block>
  <block id="8274f4dbf7be3d829a150c5ea26349b4" category="paragraph">StorageGRID 系统最初支持 S3 REST API 。当前支持的 _Simple Storage Service API 参考版本为 2006-03-01 。</block>
  <block id="fa12fdb77c4fb6bb74b362ed9c888d76" category="summary">" 上传部件 " 操作会通过多部件上传方式为对象上传部件。</block>
  <block id="8cdc12819a1ad99ed73582eb49deaa44" category="doc">上传部件</block>
  <block id="8a58d4d99e6236a6050006dad98dd2bd" category="list-text">`内容长度`</block>
  <block id="d61e3245e96a07c5d1999d60275afdf9" category="list-text">`内容 -MD5`</block>
  <block id="b1195e94cbfc627e7dbc6d01a9d5df72" category="paragraph">如果您为启动多部件上传请求指定了 SSI-C 加密，则还必须在每个上传部件请求中包含以下请求标头：</block>
  <block id="e8e3ec65354d6a6c3c2def06c60a5816" category="summary">网格管理员创建信息生命周期管理 \ （ ILM ）规则，以管理从 S3 REST API 客户端应用程序载入到 StorageGRID 系统的对象数据。然后，这些规则将添加到 ILM 策略中，以确定随着时间的推移对象数据的存储方式和存储位置。</block>
  <block id="51a76bef36bb241a27ff78d81600606c" category="doc">StorageGRID ILM 规则如何管理对象</block>
  <block id="9cda127bba201526a8528e88294aaba6" category="paragraph">网格管理员创建信息生命周期管理（ ILM ）规则，用于管理从 S3 REST API 客户端应用程序输入到 StorageGRID 系统中的对象数据。然后，这些规则将添加到 ILM 策略中，以确定随着时间的推移对象数据的存储方式和存储位置。</block>
  <block id="c2b5b9b0a19d9085a7caf5e75db939d7" category="paragraph">ILM 设置可确定对象的以下方面：</block>
  <block id="b42ce3587445f637770680a1ed74438e" category="list-text">* 地理位置 *</block>
  <block id="7d0dfd0828d37e1519cedf136c926b96" category="paragraph">对象数据在 StorageGRID 系统（存储池）或云存储池中的位置。</block>
  <block id="716d1ac1a2425ae31488abf794c3fba7" category="list-text">* 存储级别 *</block>
  <block id="922618d912f295d794d04be8fc4ae8b4" category="paragraph">用于存储对象数据的存储类型：例如闪存或旋转磁盘。</block>
  <block id="9cf4ab0a0bd6d94779ba19422fcf1833" category="list-text">* 损失保护 *</block>
  <block id="e72a5adcf17eab2b49396b5575173b58" category="paragraph">创建的副本数量以及创建的副本类型：复制，纠删编码或两者。</block>
  <block id="ac602fe20b8c3d916d130d949f7638f6" category="list-text">* 保留 *</block>
  <block id="a346d44b94ce349164fa7c1f895a3833" category="paragraph">随着时间的推移，对象数据的管理方式，存储位置以及保护数据免受丢失的方式会发生变化。</block>
  <block id="872b76070b3bfdc5b3ee94fee35a982c" category="list-text">* 载入期间的保护 *</block>
  <block id="f73455233fc3dcc818e2822fa9576e52" category="paragraph">用于在载入期间保护对象数据的方法：同步放置（使用平衡或严格的 InGest 行为选项）或创建中间副本（使用双提交选项）。</block>
  <block id="9c1e28f0ae2bf5a6044f06c2ad3dfdcc" category="paragraph">ILM 规则可以筛选和选择对象。对于使用 S3 载入的对象， ILM 规则可以根据以下元数据筛选对象：</block>
  <block id="33d458ecd881f89d5793b80eb51f8ba7" category="list-text">租户帐户</block>
  <block id="1d606ad48cfdb776c19c079d7ecf686c" category="list-text">Bucket Name</block>
  <block id="21a38cda9042cc9e75c00c09e769a5d9" category="list-text">载入时间</block>
  <block id="897356954c2cd3d41b221e3f24f99bba" category="list-text">密钥</block>
  <block id="1a0f61646eb2c8c44443fbf56d0f67eb" category="list-text">上次访问时间</block>
  <block id="8302a1e3692cc693730b1b5a5fe20220" category="admonition">默认情况下，对所有 S3 分段禁用上次访问时间更新。如果您的 StorageGRID 系统包含使用上次访问时间选项的 ILM 规则，则必须为该规则中指定的 S3 分段启用对上次访问时间的更新。您可以使用租户管理器中的 PUT 分段上次访问时间请求， * S3* &gt; * 分段 * &gt; * 配置上次访问时间 * 复选框或租户管理 API 启用上次访问时间更新。启用上次访问时间更新时，请注意 StorageGRID 性能可能会降低，尤其是在具有小型对象的系统中。</block>
  <block id="f3ebc755f5c0e396755b7b32128e5b23" category="list-text">位置限制</block>
  <block id="7c8419f80a153fc89139574987798b96" category="list-text">对象大小</block>
  <block id="51e201d59c3b2b17916c89a45c04fc14" category="list-text">用户元数据</block>
  <block id="ed807913b8877afe289c422b058e2918" category="list-text">对象标记</block>
  <block id="4f086be2db21cba09ac50fb597bc9986" category="paragraph">有关 ILM 的详细信息，请参见有关通过信息生命周期管理管理对象的说明。</block>
  <block id="0945391dcd900d28b56e317e99109b9a" category="summary">StorageGRID 系统支持对服务执行操作。</block>
  <block id="7498b9dcbaaf2ea9e250926571aff3b2" category="doc">对服务执行的操作</block>
  <block id="d1c7d1b674c523c5c1a08bedf409171c" category="paragraph">StorageGRID 系统支持对该服务执行以下操作。</block>
  <block id="fb23814b3a2c356165bf0b9914ddb0f6" category="paragraph">获取服务</block>
  <block id="83247929a827b2383b7b501cfe2b570c" category="paragraph">获取存储使用量</block>
  <block id="0e4e6496f48a1f0ea0b6265c866b3f04" category="paragraph">" 获取存储使用量 " 请求会告知您帐户正在使用的存储总量以及与帐户关联的每个存储分段的存储总量。这是对服务执行的操作，其中添加了路径 / 和自定义查询参数（` ？ x-ntap-sg-usage` ）。</block>
  <block id="841c70b0a0abc82f9e28b1fdf94aa7b5" category="paragraph">选项 /</block>
  <block id="39eb659aabfa8adf42e6bc47fe86dac6" category="paragraph">客户端应用程序可以在不提供 S3 身份验证凭据的情况下对存储节点上的 S3 端口发出问题描述 `options /` 请求，以确定存储节点是否可用。您可以使用此请求进行监控，也可以允许外部负载平衡器确定存储节点何时关闭。</block>
  <block id="46e202a65013452d8077de2e8dd23f61" category="paragraph"><block ref="46e202a65013452d8077de2e8dd23f61" category="inline-xref-macro-rx"></block></block>
  <block id="d82a1b81aa4d257c41537a550048fb99" category="summary">冲突的客户端请求（例如两个客户端写入同一个密钥）会以 " 最新成功 " 为基础进行解决。</block>
  <block id="feeca0bd049f15b250b371359a587dae" category="doc">客户端请求冲突</block>
  <block id="63a9d6153222dc5f6f4f9a011cd72556" category="paragraph">冲突的客户端请求（例如，两个客户端写入同一密钥）将以 " 最新成功 " 为基础进行解决。</block>
  <block id="fcdbedb5be648e6497f100e991c5557c" category="paragraph">" 最新赢单 " 评估的时间取决于 StorageGRID 系统何时完成给定请求，而不是 S3 客户端何时开始操作。</block>
  <block id="95f61c2ccecea16cd87ee8fdc4c286bf" category="paragraph">要完成此操作，您拥有 S3 ： GetBucketConsistency 权限或帐户 root 。</block>
  <block id="d64ed3e9c10229648e069f56e32f4c8e" category="section-title">响应</block>
  <block id="a8e1cca60aa70b91854295fca606337d" category="paragraph">在响应 XML 中， ` &lt; 一致性 &gt;` 将返回以下值之一：</block>
  <block id="f240f4f1e70a3709748221ded5f2521f" category="doc">已弃用旧合规性存储分段请求</block>
  <block id="e60f2f44cf009ff8018bf1ef480a0764" category="section-title">已弃用合规性功能</block>
  <block id="303a7686b752977278c9b42410faa1f6" category="paragraph">如果您之前启用了全局合规性设置，则会在 StorageGRID 11.6 中启用全局 S3 对象锁定设置。您不能再在启用了合规性的情况下创建新的存储分段；但是，您可以根据需要使用 StorageGRID S3 REST API 管理任何现有的旧合规存储分段。</block>
  <block id="7a79ff961beec78f7f12fa146ac1edf7" category="paragraph">已弃用的合规性请求：</block>
  <block id="6fe958e0b4cf69b1ff271473a638ff79" category="inline-xref-macro">已弃用 - 为符合性修改存储分段请求</block>
  <block id="7fb4bf193bc0d2320888e61755602259" category="list-text"><block ref="7fb4bf193bc0d2320888e61755602259" category="inline-xref-macro-rx"></block></block>
  <block id="5d5c44ce6fee5a7f9a9882fa64adf494" category="inline-xref-macro">已弃用—获取存储分段合规性请求</block>
  <block id="c72b1ca3a5d9800f11c4017a9ec46afc" category="list-text"><block ref="c72b1ca3a5d9800f11c4017a9ec46afc" category="inline-xref-macro-rx"></block></block>
  <block id="d958072bd603d44cd4ad7563828a0d29" category="paragraph">获取存储分段合规性请求已弃用。但是，您可以继续使用此请求来确定当前对现有旧版合规存储分段有效的合规性设置。</block>
  <block id="e3e3b4e68e965c107203cbb5673b51ae" category="inline-xref-macro">已弃用— PUT 存储分段合规性请求</block>
  <block id="bf93e6d5b12e998ddafb095beb3bf891" category="list-text"><block ref="bf93e6d5b12e998ddafb095beb3bf891" category="inline-xref-macro-rx"></block></block>
  <block id="dd6b41692e225a31755a8671d3c8487a" category="summary">审核消息由 StorageGRID 服务生成并存储在文本日志文件中。审核日志中特定于 API 的审核消息提供关键的安全性，操作和性能监控数据，可帮助您评估系统的运行状况。</block>
  <block id="e0bc953660170de7999f819ee4df13a8" category="doc">访问和查看审核日志</block>
  <block id="e880f80b0f13281a3085e1e8e7b57843" category="list-text">您知道管理节点的 IP 地址。</block>
  <block id="87c4fdf288695ecd3b4c1e696c205e5f" category="paragraph">活动审核日志文件名为 `audit.log` ，并存储在管理节点上。</block>
  <block id="aeda083e669a6650f0474f94ab03c059" category="paragraph">每天保存一次活动的 audit.log 文件，并启动一个新的 `audit.log` 文件。已保存文件的名称以 ` yyyy-mm-dd.txt_` 的格式指示其保存时间。</block>
  <block id="96f662767293cc3f6c9e26587bb41f9f" category="paragraph">一天后，保存的文件将按 ` yyyy-mm-dd.txt.gz_` 格式进行压缩和重命名，从而保留原始日期。</block>
  <block id="e4175426261e6d0728e15a1a3e0f306b" category="paragraph">此示例显示了活动的 `audit.log` 文件，前一天的文件（`2018-04-15.txt` ）和前一天的压缩文件（`2018-04-14.txt.gz` ）。</block>
  <block id="7072e594e954a3bef61d66e9f73c7e05" category="list-text">登录到管理节点：</block>
  <block id="08e7279d72be42eccf02d6c8f7ed292b" category="list-text">转到包含审核日志文件的目录：</block>
  <block id="2be64e9b6bf25f55afa6f843338cbb4b" category="list-text">根据需要查看当前审核日志文件或已保存的审核日志文件。</block>
  <block id="5d5501a69a0c7213ee7a8988a590e009" category="paragraph">StorageGRID 使用 Amazon Web Services （ AWS ）策略语言允许 S3 租户控制对这些存储分段和对象的访问。StorageGRID 系统实施 S3 REST API 策略语言的一个子集。S3 API 的访问策略以 JSON 格式写入。</block>
  <block id="ff4c50f1a6f0aa0aa4c635c25e4d0bcf" category="section-title">访问策略概述</block>
  <block id="0b1d8cd4f863bb93c6e92f6aa7a41ee1" category="paragraph">StorageGRID 支持两种访问策略。</block>
  <block id="00e666d81de63f3bc9974b2ecff06fd8" category="list-text">* 分段策略 * ，使用 GET 分段策略， PUT 分段策略和 DELETE 分段策略 S3 API 操作进行配置。存储分段策略附加到存储分段，因此，可以对其进行配置，以控制存储分段所有者帐户或其他帐户中的用户对存储分段及其对象的访问。一个存储分段策略适用场景 只能包含一个存储分段，并且可能包含多个组。</block>
  <block id="a6e42e584e3148960ecc491bfbb3e414" category="list-text">* 组策略 * ，使用租户管理器或租户管理 API 配置。组策略会附加到帐户中的某个组，因此，这些策略会配置为允许该组访问该帐户拥有的特定资源。一个组策略只对一个组进行适用场景 ，并且可能对多个存储分段进行。</block>
  <block id="fd3b0b9562f56e73625f0590bdf55cd8" category="paragraph">StorageGRID 存储分段和组策略遵循由 Amazon 定义的特定语法。每个策略中都包含一组策略语句，每个语句都包含以下元素：</block>
  <block id="4c068e248a061bdb23df1d2f0fb4df92" category="list-text">语句 ID （ SID ）（可选）</block>
  <block id="a62d22910732d5343689f5117999abfa" category="list-text">影响</block>
  <block id="2f828e2b0a66bc9502a50d6919e363c4" category="list-text">主体 / 不重要</block>
  <block id="66af3367f639954d0ca88d0c104e0b57" category="list-text">资源 /NotResource</block>
  <block id="c79fa61883a0508ea85f5c01558f3468" category="list-text">操作 / 未操作</block>
  <block id="c23b44b8336b8c51efb5a7d91e879872" category="list-text">条件（可选）</block>
  <block id="7953ac0c5c0370a7b3628b9677eb1d04" category="paragraph">策略语句是使用此结构构建的，用于指定权限： Grant &lt;Effic&gt; to allow/deny &lt;Principe&gt; to Perform &lt;Action&gt; on &lt;Resource&gt; when &lt;condition&gt; applies 。</block>
  <block id="ee4de0f2ea6c3234a87a7f28ecc78e2a" category="paragraph">每个策略元素都用于特定功能：</block>
  <block id="231afe47f3f37d3808096b36c28b4ded" category="cell">Element</block>
  <block id="f4a8b8ee7f98047de5c86ee1c9edc33a" category="paragraph">SID</block>
  <block id="11d43bbf647fbf1accbe8c794b90c022" category="paragraph">Sid 元素是可选的。SID 仅用作用户的问题描述 。它会被存储，但不会被 StorageGRID 系统解释。</block>
  <block id="301eba00abfae883b9af46c5467203d7" category="paragraph">使用 Effect 元素确定是否允许或拒绝指定的操作。您必须使用支持的 Action Element 关键字来确定允许（或拒绝）对存储分段或对象执行的操作。</block>
  <block id="1bb6bf108b5733981507381bdbabfcba" category="paragraph">您可以允许用户，组和帐户访问特定资源并执行特定操作。如果请求中不包含 S3 签名，则可以通过指定通配符（ * ）作为主体来进行匿名访问。默认情况下，只有帐户 root 有权访问该帐户拥有的资源。</block>
  <block id="19cc11bc7c88adc4a5a49ac73806ac65" category="paragraph">您只需要在存储分段策略中指定主体元素。对于组策略，附加该策略的组为隐式主体元素。</block>
  <block id="ef9cde79a7e6783e01388d6f0e5c7c6f" category="paragraph">资源元素用于标识分段和对象。您可以使用 Amazon 资源名称（ ARN ）来标识资源，从而允许或拒绝对存储分段和对象的权限。</block>
  <block id="68aea801f3022512c86a9fe8f8373385" category="paragraph">操作和效果元素是权限的两个组成部分。当组请求资源时，它们会被授予或拒绝访问该资源。除非您明确分配权限，否则访问将被拒绝，但您可以使用显式拒绝覆盖由其他策略授予的权限。</block>
  <block id="9e2941b3c81256fac10392aaca4ccfde" category="paragraph">条件</block>
  <block id="af0f524ffc62a3a7af25ed04c8eb8af9" category="paragraph">条件元素是可选的。通过条件，您可以构建表达式以确定何时应用策略。</block>
  <block id="136398655757045cb74a1a9034d4ebb9" category="paragraph">在 Action 元素中，您可以使用通配符（ * ）指定所有操作或部分操作。例如，此操作与 S3 ： GetObject ， S3 ： PutObject 和 S3 ： DeleteObject 等权限匹配。</block>
  <block id="3330d7f634e0100b14aa1e95cbd0f363" category="paragraph">在资源元素中，可以使用通配符（ \* ）和（？）。星号（ * ）与 0 个或更多字符匹配时，问号（？） 匹配任意单个字符。</block>
  <block id="f5f90dbf38f54c53f3bc45ce9751ca4c" category="paragraph">在 Principal 元素中，除了设置匿名访问权限之外，不支持使用通配符，此权限会授予所有人权限。例如，您将通配符（ * ）设置为 Principal 值。</block>
  <block id="2b43d6caa9a26e964a66770ca89697fb" category="paragraph">在以下示例中，该语句使用的是 " 影响 " ， " 主体 " ， " 操作 " 和 " 资源 " 元素。此示例显示了一个完整的存储分段策略语句，该语句使用 " 允许 " 的效果为 Principals ，管理组 `联合组 / 管理员` 和财务组 `联合组 / 财务` 在名为 `mybucket` 的存储分段上执行操作 `s 3 ： ListBucket` 以及对该存储分段中的所有对象执行操作 `s 3 ： GetObject` 。</block>
  <block id="38400a824074c24dd172d859810911f9" category="paragraph">存储分段策略的大小限制为 20 ， 480 字节，而组策略的大小限制为 5 ， 120 字节。</block>
  <block id="88d36b9231873c9b37a5c8626c7954dc" category="section-title">策略的一致性控制设置</block>
  <block id="eadaf4c7efae566decf1fb975d2bb5a0" category="paragraph">默认情况下，对组策略所做的任何更新最终都是一致的。由于策略缓存，一旦组策略保持一致，所做的更改可能还需要 15 分钟才能生效。默认情况下，对存储分段策略进行的任何更新最终也会保持一致。</block>
  <block id="08bdc8813334ddcf8a63e4f5d6b69c9f" category="paragraph">您可以根据需要更改存储分段策略更新的一致性保证。例如，出于安全原因，您可能希望对存储分段策略所做的更改尽快生效。</block>
  <block id="7211f61efca53897e6398113e5ec5fee" category="paragraph">在这种情况下，您可以在 PUT 存储分段策略请求中设置 `consistency Control` 标头，也可以使用 PUT 存储分段一致性请求。更改此请求的一致性控制时，必须使用值 * 全部 * ，这可以为读写一致性提供最高保证。如果在 PUT 存储分段一致性请求的标题中指定任何其他一致性控制值，则此请求将被拒绝。如果为 PUT 存储分段策略请求指定任何其他值，则此值将被忽略。存储分段策略保持一致后，由于策略缓存，更改可能需要额外 8 秒才能生效。</block>
  <block id="d6d048e14853ed8847f47a1f34e0a089" category="admonition">如果将一致性级别设置为 "*all* " 以强制新的存储分段策略更快生效，请确保在完成后将存储分段级别控制设置回其原始值。否则，所有未来的存储分段请求将使用 * 全部 * 设置。</block>
  <block id="5a6eb601930dd1cdf7cec00663e9cf30" category="section-title">在策略语句中使用 ARN</block>
  <block id="1ff6ca610e499080a1d617b0117c0faa" category="paragraph">在策略语句中， ARN 用于 Principal 和 Resource Element 。</block>
  <block id="33cc041c7751c0367a46702db2944922" category="list-text">使用以下语法指定 S3 资源 ARN ：</block>
  <block id="eacf3147dad034af211cc897ba0efca0" category="list-text">使用以下语法指定身份资源 ARN （用户和组）：</block>
  <block id="52283fdb18c51111cd0432df655f814f" category="paragraph">其他注意事项：</block>
  <block id="5fd454cc381d6f990a6ce13f9769fbc3" category="list-text">您可以使用星号（ * ）作为通配符，以匹配对象密钥中的零个或多个字符。</block>
  <block id="5a72d9b7ea89777340c90d9c28f406f7" category="list-text">可以在对象密钥中指定的国际字符应使用 JSON UTF-8 或 JSON \u 转义序列进行编码。不支持百分比编码。</block>
  <block id="3fa2c2474e430f201e67031e9a102c0d" category="inline-link">RFC 2141 URN 语法</block>
  <block id="379b8ab3c3e0669a401e686c5991983f" category="paragraph"><block ref="379b8ab3c3e0669a401e686c5991983f" category="inline-link-rx"></block></block>
  <block id="0a6e1177daf916a36bee7a194ae23c51" category="paragraph">PUT 存储分段策略操作的 HTTP 请求正文必须使用 charset=UTF-8 进行编码。</block>
  <block id="dc6da70c7724132273955dbce3819d9e" category="section-title">在策略中指定资源</block>
  <block id="bc5ee52da1ef4627bb10485e353e5d48" category="paragraph">在策略语句中，您可以使用资源元素指定允许或拒绝权限的分段或对象。</block>
  <block id="2152999cb7f40439fd9545e6f65c201d" category="list-text">每个策略语句都需要一个资源元素。在策略中，资源由元素 `Resource` 或 `NotResource` 表示以表示排除。</block>
  <block id="6ceca40a9ad25f6cecc2d8da0b57ea9e" category="list-text">您可以使用 S3 资源 ARN 指定资源。例如：</block>
  <block id="fa6d3bbb59a70e1911a1861dad380219" category="list-text">您也可以在对象密钥中使用策略变量。例如：</block>
  <block id="41c3910951b60b828e89307e719bf666" category="list-text">资源值可以指定创建组策略时尚不存在的存储分段。</block>
  <block id="018596f9638366c4a07eaf89a69a1528" category="paragraph"><block ref="50da826db351ffca95b0ac51284ac847" category="inline-xref-macro-rx"></block></block>
  <block id="7de6d1496200415d76726be26cca16cb" category="section-title">指定策略中的主体</block>
  <block id="7865e1cd5f95f4549e502744943f6054" category="paragraph">使用 Principal 元素标识策略语句允许 / 拒绝访问资源的用户，组或租户帐户。</block>
  <block id="57c1029e5a3f858696048458227c191d" category="list-text">存储分段策略中的每个策略语句都必须包含一个主体元素。组策略中的策略语句不需要主体元素，因为组被理解为主体。</block>
  <block id="a79332231c6e35123ea102ad5563368c" category="list-text">在策略中，主体由元素 "`Principal ，` " 或 "`NotPrincipal` " 表示以表示排除。</block>
  <block id="d7f1dd4d7eb3ddc7abfe0dff68dfce6b" category="list-text">必须使用 ID 或 ARN 指定基于帐户的身份：</block>
  <block id="6e85b7cf3c779b36e566738009daea79" category="list-text">此示例使用租户帐户 ID 27233906934684427525 ，其中包括帐户 root 和帐户中的所有用户：</block>
  <block id="06df5e100a4d38dc2f754508e0ee5eff" category="list-text">您只能指定帐户 root ：</block>
  <block id="52c1ca0ddb7d6088e65d88d4e800df7f" category="list-text">您可以指定一个特定的联合用户（ "Alex" ）：</block>
  <block id="9a19c2e6a85fbc70dffc83cbca501fc9" category="list-text">您可以指定特定的联合组（ "Managers" ）：</block>
  <block id="ba85dbd5a2e15836ac30d49aed34df72" category="list-text">您可以指定匿名主体：</block>
  <block id="9072b6e82c2bd24d2729d18728cc0bf5" category="list-text">为避免歧义，您可以使用用户 UUID ，而不是用户名：</block>
  <block id="19ad4020312f77b2b5552897e453f3d6" category="paragraph">例如，假设 Alex 离开该组织，并且用户名 `Alex` 已被删除。如果新的 Alex 加入组织并获得相同的 `Alex` 用户名，则新用户可能会无意中继承授予给原始用户的权限。</block>
  <block id="a2ec8c8acf3c3e6138d56826767b1af9" category="list-text">主体值可以指定在创建存储分段策略时尚不存在的组 / 用户名称。</block>
  <block id="aae29fa4a7f13bf64ce22af144320e87" category="section-title">在策略中指定权限</block>
  <block id="9563468c76ba7979037d52a780b16e83" category="paragraph">在策略中， Action 元素用于允许 / 拒绝对资源的权限。您可以在策略中指定一组权限，这些权限由元素 "Action" 或 "NotAction" 表示以表示排除。其中每个元素都映射到特定的 S3 REST API 操作。</block>
  <block id="6b3bb91734433db292e3d46fe77dffe4" category="paragraph">下表列出了应用于存储分段的权限以及应用于对象的权限。</block>
  <block id="9f6064171410c69b4c1b063b7f3c290d" category="admonition">Amazon S3 现在对 PUT 和 DELETE 分段复制操作使用 S3 ： PutReplicationConfiguration 权限。StorageGRID 对每个操作使用单独的权限，这些权限与原始 Amazon S3 规范匹配。</block>
  <block id="a5082f68151229ae56080e06138d1bfa" category="admonition">如果使用 PUT 覆盖现有值，则会执行删除。</block>
  <block id="5266ceabfafac57fecb6fb138577f52a" category="section-title">应用于存储分段的权限</block>
  <block id="d08ccf52b4cdd08e41cfb99ec42e0b29" category="cell">权限</block>
  <block id="675b1c9db605a3467ffbbd29f31e09b3" category="cell">S3 REST API 操作</block>
  <block id="5e80537890e4347d568c387c7f69d4d1" category="cell">为 StorageGRID 自定义</block>
  <block id="d0e4bee632dc55607e492853b76d8194" category="paragraph">S3 ： CreateBucket</block>
  <block id="3d48378493503b3c7c04da8400942853" category="paragraph">S3 ： DeleteBucket</block>
  <block id="c64af395149d0b59346f62c0619c4052" category="paragraph">S3 ： DeleteBucketMetadataNotification</block>
  <block id="3d3360121c1272ca46f714268596c4d3" category="paragraph">S3 ： DeleteBucketPolicy</block>
  <block id="7ccfaceb052a7edaf8c073fe6da69523" category="paragraph">S3 ： DeleteReplicationConfiguration</block>
  <block id="8fa6b9fb3865ac36c625b95e13faf5bc" category="paragraph">是， PUT 和 DELETE 的权限不同 *</block>
  <block id="f480e46cdd0b09e0a4d7a66cea36fc72" category="paragraph">S3 ： GetBucketAcl</block>
  <block id="c632567d38d213852fa44d1618520949" category="paragraph">获取分段 ACL</block>
  <block id="8555cfb8aa10b4a5bf630137f4c2ab0a" category="paragraph">S3 ： GetBucketCompliance</block>
  <block id="b97d44e45332025e241859bee629ac85" category="paragraph">获取存储分段合规性（已弃用）</block>
  <block id="6745822aa0e11452617f79ff3a8f5183" category="paragraph">S3 ： GetBucketConsistency</block>
  <block id="0e249ca1acc8af166e0a42b87fb0d542" category="paragraph">S3 ： GetBucketCORS</block>
  <block id="080045bf6ab788297df2820c007203af" category="paragraph">S3 ： GetEncryptionConfiguration</block>
  <block id="6fcf1953d5bf7eaadd65519b6d381040" category="paragraph">S3 ： GetBucketLastAccessTime</block>
  <block id="57beb7405f0a1c7bc500e793294e4d80" category="paragraph">S3 ： GetBucketLocation</block>
  <block id="03395423a192a405f0888060404a757d" category="paragraph">S3 ： GetBucketMetadataNotification</block>
  <block id="e387a4a8ec91d6a72100be9ad4794d31" category="paragraph">S3 ： GetBucketNotification</block>
  <block id="bce339f31623f1dca1af841a36515224" category="paragraph">S3 ： GetBucketObjectLockConfiguration</block>
  <block id="19c320aeee7c39747dcce0815428eea9" category="paragraph">S3 ： GetBucketPolicy</block>
  <block id="70c72880a06cb649d8a568819cf5e5d1" category="paragraph">S3 ： GetBucketTagging</block>
  <block id="bd665782f6bfd8e4fc4d9f19cbc1e30f" category="paragraph">S3 ： GetBucketVersioning</block>
  <block id="0c1b0b85cf95eb29ecb3d5b774e010c2" category="paragraph">S3 ： GetLifeycleConfiguration</block>
  <block id="cd4fe76a11fd521b13cedc423853d638" category="paragraph">S3 ： GetReplicationConfiguration</block>
  <block id="e21c94a36c6dbf24001a64bddce9456f" category="paragraph">S3 ： ListAllMy桶</block>
  <block id="94837719077a429f6a84c896de2a0e51" category="paragraph">是，适用于获取存储使用量</block>
  <block id="05cce54a3c6e4b27fe1202c73065ac29" category="paragraph">S3 ： ListBucket</block>
  <block id="2fadb459df3bdee0dccfda5cc625c37b" category="paragraph">S3 ： ListBucketMultipartUploads</block>
  <block id="30756eb77e955d4514eb285a2d31ee73" category="paragraph">S3 ： ListBucketVersions</block>
  <block id="4cd50c7a127e049355e797afae08b38f" category="paragraph">获取存储分段版本</block>
  <block id="d0c4a1d56cf23d25a0d95c740f7ca0e7" category="paragraph">S3 ： PutBucketCompliance</block>
  <block id="89cc06a8e1b0a88757f99db5093787e0" category="paragraph">PUT 存储分段合规性（已弃用）</block>
  <block id="13f6623fbb630808c00592bf9ceabf40" category="paragraph">S3 ： PutBucketConsistency</block>
  <block id="31dcf11e30748fabc5540da13e71cd11" category="paragraph">S3 ： PutBucketCORS</block>
  <block id="268d03be4c19d61f6640d6934cf264a1" category="list-text">删除存储分段或†</block>
  <block id="599a8ceed768fab9cc6e39dff7c9f215" category="paragraph">S3 ： PutEncryptionConfiguration</block>
  <block id="e13a6e0bf186b2fa2412e0c6e62c4284" category="paragraph">S3 ： PutBucketLastAccessTime</block>
  <block id="66f7fce87b436e62984c4d6d528959d6" category="paragraph">S3 ： PutBucketMetadataNotification</block>
  <block id="dfeaa913fbb511cbdb2a3339673ab94d" category="paragraph">S3 ： PutBucketNotification</block>
  <block id="63c20717f207c238dd1a7f80b31c8b44" category="paragraph">S3 ： PutBucketObjectLockConfiguration</block>
  <block id="3a19d2fa7d63776c47846d7e259d6a1b" category="list-text">PUT Bucket with the `x-AMZ-bucket-object-lock-enabled ： true` request header （ also requires the S3 ： CreateBucket permission ）</block>
  <block id="4b9c42bf1853fa25d534302dbc43f035" category="paragraph">S3 ： PutBucketPolicy</block>
  <block id="f7e22455b86c7ea94ba86cc949d37161" category="paragraph">S3 ： PutBucketTagging</block>
  <block id="6efbb1b3c88ccb85865dc58e42f5ed56" category="list-text">删除存储分段标记†</block>
  <block id="add933b88888a149eeec11df9799f79b" category="paragraph">S3 ： PutBucketVersioning</block>
  <block id="b1b9fd8bb730a38b7633b4263b5c30ec" category="paragraph">S3 ： PutLifeycleConfiguration</block>
  <block id="340ac45ca041312fa1e57e4079e4a694" category="list-text">删除存储分段生命周期†</block>
  <block id="c4e87bf925c36c795124404608065faf" category="paragraph">S3 ： PutReplicationConfiguration</block>
  <block id="6eaf38145496e525f33abd4086a92c7a" category="section-title">应用于对象的权限</block>
  <block id="e24d90c482d00361a495cd937be3bb7b" category="paragraph">S3 ： AbortMultipartUpload</block>
  <block id="490154036123dc48612626ddec6d2da8" category="list-text">中止多部分上传</block>
  <block id="ec68e11afcd3e390ebf5080e8af5b735" category="paragraph">S3 ： DeleteObject</block>
  <block id="b2335f57b5f9e0d848379b1a0a069e0f" category="paragraph">S3 ： DeleteObjectTagging</block>
  <block id="7bcdaaa8b9df8a43a334c02fe5a9e4dc" category="paragraph">删除对象标记</block>
  <block id="701a93440874840e104cb9071c1b25d9" category="paragraph">S3 ： DeleteObjectVersionTagging</block>
  <block id="2f6dc6728065da9a5cc5e928c1190998" category="paragraph">删除对象标记（对象的特定版本）</block>
  <block id="538e4e83b58b6bce3bde0ae671e33b67" category="paragraph">S3 ： DeleteObjectVersion</block>
  <block id="0b8d5433fc32ff6d0e4186c807927569" category="paragraph">删除对象（对象的特定版本）</block>
  <block id="53cfd5032381d05f65cbc6d64e0004f5" category="paragraph">S3 ： GetObject</block>
  <block id="95d9b4a96fed186b91d95d1819801e57" category="list-text">选择对象内容</block>
  <block id="7002b8d843e69183ff3fcc03410db0ad" category="paragraph">S3 ： GetObjectAcl</block>
  <block id="1f299908dde652d1e55c13a38d48a4d1" category="paragraph">获取对象 ACL</block>
  <block id="bd4923e765da5f3ae9c63ed53f85e082" category="paragraph">S3 ： GetObjectLegend</block>
  <block id="3dc53e4338882af9cd4723f88f23c4bb" category="paragraph">获取对象合法保留</block>
  <block id="e852d63f7c89f0e29a51f2cf08ca3a04" category="paragraph">S3 ： GetObjectRetention</block>
  <block id="3741eca10fd3397238091c42a9266501" category="paragraph">获取对象保留</block>
  <block id="1f18fa681e41f8b76a72d4b098de5308" category="paragraph">S3 ： GetObjectTagging</block>
  <block id="c6c7011c71882c4524aa2f2c31689bd1" category="paragraph">获取对象标记</block>
  <block id="f8a21cbcda6edc5ae1bf2008fc82b99d" category="paragraph">S3 ： GetObjectVersionTagging</block>
  <block id="3df3c4a9599858b3e1ff24828f27cac7" category="paragraph">获取对象标记（对象的特定版本）</block>
  <block id="2575b79b2cd768a027306db8b9e8614a" category="paragraph">S3 ： GetObjectVersion</block>
  <block id="37011ff94554acee76ba5f6954beded4" category="paragraph">GET 对象（对象的特定版本）</block>
  <block id="9c6f56f3012c2178f15d4346495a0a67" category="paragraph">S3 ： ListMultipartUploadPart</block>
  <block id="5c12479881d89db131e68985cae0407c" category="paragraph">列出部件， POST 对象还原</block>
  <block id="8e0864f8129f5d2b658668b9103e83a5" category="paragraph">S3 ： PutObject</block>
  <block id="4ba09aedcd52891ea61307893b812adc" category="paragraph">S3 ： PutObjectLegend</block>
  <block id="f568f691bdfa3ef2601c28f168df304f" category="paragraph">PUT 对象合法保留</block>
  <block id="b5abb00ccfe2eac60ae96d2e208a3d71" category="paragraph">S3 ： PutObjectRetention</block>
  <block id="5314c8f17aca55eda3e9b092019f392e" category="paragraph">放置对象保留</block>
  <block id="8294994c5d25f83ad700127a1296848a" category="paragraph">S3 ： PutObjectTagging</block>
  <block id="86c9f9554f110fe31acda9678632ca99" category="paragraph">放置对象标记</block>
  <block id="d8e31ed0ac2c966c1cc806b8cf0bf044" category="paragraph">S3 ： PutObjectVersionTagging</block>
  <block id="eca50843d68da16228fbdb36bd915bca" category="paragraph">PUT 对象标记（对象的特定版本）</block>
  <block id="ad7a61dfa7691a38e467ddde8dc38e2b" category="paragraph">S3 ： PutOverwriteObject</block>
  <block id="836abab58f7e737fd51978da3b7b119c" category="list-text">PUT 对象标记</block>
  <block id="5367b1213236656b20d186e3a8108010" category="list-text">删除对象标记</block>
  <block id="28e5f48e9f12d4928897b706c15e527a" category="paragraph">S3 ： RestoreObject</block>
  <block id="b3e4a893c4097db1cfeae128bbb3c905" category="section-title">使用 PutOverwriteObject 权限</block>
  <block id="6c317e8e1ec90a09ffb3d8b4ca791675" category="paragraph">S3 ： PutOverwriteObject 权限是一种自定义 StorageGRID 权限，适用场景 可通过此权限创建或更新对象。此权限的设置可确定客户端是否可以覆盖对象的数据，用户定义的元数据或 S3 对象标记。</block>
  <block id="1bc5fcfe5f57d14d91d77c8997cc078b" category="paragraph">此权限的可能设置包括：</block>
  <block id="69af541b0b169c4d4d91f6522c907953" category="list-text">* 允许 * ：客户端可以覆盖对象。这是默认设置。</block>
  <block id="785dfdf59502531f65c67799812f2a56" category="list-text">* 拒绝 * ：客户端无法覆盖对象。如果设置为 deny ，则 PutOverwriteObject 权限的工作原理如下：</block>
  <block id="36a4c0c5e2dbc363425da2dd7acff09e" category="list-text">如果在同一路径中找到现有对象：</block>
  <block id="cedc0ca34ed0091f00bccc27537145f2" category="list-text">无法覆盖对象的数据，用户定义的元数据或 S3 对象标记。</block>
  <block id="92cf08db1deed02b0c1c49f254cd4d6d" category="list-text">正在执行的任何载入操作均会取消，并返回错误。</block>
  <block id="59c9d4d3d384b56edeed0c27083f6aef" category="list-text">如果启用了 S3 版本控制，则 deny 设置将阻止 PUT 对象标记或删除对象标记操作修改对象及其非最新版本的标记集。</block>
  <block id="4db15a9e1cdf5a7afa02dfecd4e9ab85" category="list-text">如果未找到现有对象，此权限将不起作用。</block>
  <block id="47f384f690117cd2c8753ca230b94f2f" category="list-text">如果不存在此权限，则效果与设置了 allow 时相同。</block>
  <block id="eb95c3689d8af75a68d40722d35d6332" category="admonition">如果当前 S3 策略允许覆盖，并且 PutOverwriteObject 权限设置为 deny ，则客户端无法覆盖对象的数据，用户定义的元数据或对象标记。此外，如果选中了 * 阻止客户端修改 * 复选框（ * 配置 * &gt; * 系统 * &gt; * 网格选项 * ），则该设置将覆盖 PutOverwriteObject 权限的设置。</block>
  <block id="36f5d39460dc92c1d44cb03b371941b8" category="paragraph"><block ref="532817faa50d11c9e86022cf4e8c4e3f" category="inline-xref-macro-rx"></block></block>
  <block id="cb089e9266b80ad419c5c9b7f2458346" category="section-title">指定策略中的条件</block>
  <block id="c255680bf25a22186b0f16110c4d1435" category="paragraph">条件用于定义策略何时生效。条件包括运算符和键值对。</block>
  <block id="61633627679c16b550749cd8a719701f" category="paragraph">条件使用键值对进行评估。一个条件元素可以包含多个条件，每个条件可以包含多个键值对。条件块使用以下格式：</block>
  <block id="4a0265b249faccd114780b82dc8136a3" category="paragraph">在以下示例中， ipaddress 条件使用 SourceIp 条件密钥。</block>
  <block id="1144f74d04f5f203a2b54a37c550867d" category="section-title">支持的条件运算符</block>
  <block id="377bf8df1c1d3d5ab9a66cf9679d862c" category="paragraph">条件运算符分为以下几类：</block>
  <block id="27118326006d3829667a400ad23d5d98" category="list-text">string</block>
  <block id="87322391cc6e8948ce9fd5d6cb84fced" category="list-text">数字</block>
  <block id="27226c864bac7454a8504f8edb15d95b" category="list-text">布尔值</block>
  <block id="7cfc8c179cf3dd6d2a8f81f5a96a6267" category="list-text">空检查</block>
  <block id="4532919d3de5a372e17f4a8ab50514c3" category="cell">条件运算符</block>
  <block id="3a473e994f69598d3d81ae0cc4667278" category="paragraph">StringEquals</block>
  <block id="ea83bc89cd379af22e463b5abd5a60a1" category="paragraph">根据完全匹配（区分大小写）将键与字符串值进行比较。</block>
  <block id="f0e14526a759e51db6d2ac545f44c048" category="paragraph">StringNotEquals</block>
  <block id="3cfe0555196feff6d6fcf71091eecc5c" category="paragraph">根据否定匹配（区分大小写）将键与字符串值进行比较。</block>
  <block id="64082c079652ae1c5d394fb169867a35" category="paragraph">StringEqualsIgnoreCase</block>
  <block id="cabb6a4417fd4790869e9128a1a07ea5" category="paragraph">根据完全匹配将键与字符串值进行比较（忽略大小写）。</block>
  <block id="ac6b72209636275953a657dba2c67eac" category="paragraph">StringNotEqualsIgnoreCase</block>
  <block id="183afb21fa52f2418eb3ba8e640b1231" category="paragraph">根据否定的匹配将键与字符串值进行比较（忽略大小写）。</block>
  <block id="a62c3e8cc498cda8792ddd462917c448" category="paragraph">StringLike</block>
  <block id="a6ba6c4abb18416c87dd293b12bf3190" category="paragraph">根据完全匹配（区分大小写）将键与字符串值进行比较。可以包括 * 和？通配符。</block>
  <block id="7cd550d2915d3f3b3e6fe6a3a769fce6" category="paragraph">StringNotLike</block>
  <block id="dde9d8f8deb862f712e9fd766eacd3f9" category="paragraph">根据否定匹配（区分大小写）将键与字符串值进行比较。可以包括 * 和？通配符。</block>
  <block id="53416579d4409f3aa05b786571589e97" category="paragraph">数值方程式</block>
  <block id="1ba535b7c02d39bebbc3ca14c86d7d8a" category="paragraph">根据精确匹配将键与数字值进行比较。</block>
  <block id="cdde57f44090db250b8ecbe64daae02f" category="paragraph">NumericNotEquals</block>
  <block id="f377538c86d83af2407a5043601e837b" category="paragraph">根据否定匹配将键与数字值进行比较。</block>
  <block id="6dc009ee963c8e1f3cd827d1c270439e" category="paragraph">数值 GreaterThan</block>
  <block id="1f3cfd19c5cd99defc9a34a1bef91bd4" category="paragraph">根据 "`大于` " 匹配将键与数值进行比较。</block>
  <block id="40fa3640f325ea3ea82672f746e0b6df" category="paragraph">NumericGreaterThals.</block>
  <block id="8e2a567947da8311729cbdda9d80efda" category="paragraph">根据 "`大于或等于` " 匹配将键与数值进行比较。</block>
  <block id="ce7ce614a2379d0f6e7411e3de4cbe14" category="paragraph">数值细小</block>
  <block id="bd0a087f00071aef2786b59ad961adef" category="paragraph">根据 "`小于` " 匹配将键与数值进行比较。</block>
  <block id="0a0b7f4d7b7a6a5b024db74e78caf1c9" category="paragraph">数值 ThalEquals</block>
  <block id="8858c22cd54bdaf28eb67202c6dbaec1" category="paragraph">根据 "`小于或等于` " 匹配将键与数值进行比较。</block>
  <block id="c26f15e86e3de4c398a8273272aba034" category="paragraph">池</block>
  <block id="553be9ee2b0ba358ab0cda18760d9625" category="paragraph">根据 "`true 或 false` " 匹配将键与布尔值进行比较。</block>
  <block id="0a2b09e51d4b0aa6536d3333faad8e4b" category="paragraph">IP 地址</block>
  <block id="a0f2d7c70cee20e46cbe4266c950e92c" category="paragraph">将密钥与 IP 地址或 IP 地址范围进行比较。</block>
  <block id="28ef8b45cf25a834ab17d919d4e8deba" category="paragraph">NotIpAddress</block>
  <block id="9262473e10010623e4d8c0f606995f1d" category="paragraph">根据否定匹配将密钥与 IP 地址或 IP 地址范围进行比较。</block>
  <block id="bbb93ef26e3c101ff11cdd21cab08a94" category="paragraph">空</block>
  <block id="924831e91c6a948ff61c901218289309" category="paragraph">检查当前请求上下文中是否存在条件密钥。</block>
  <block id="3dbb4d1f7bc6a83a5632dae9a78ddbe5" category="section-title">支持的条件密钥</block>
  <block id="3adbdb3ac060038aa0e6e6c138ef9873" category="cell">类别</block>
  <block id="5250cb1cc4fa1b0230a4e20c6dbe1c75" category="cell">适用的条件密钥</block>
  <block id="9f3f25d3263d7a101dd4bdd4927974ab" category="paragraph">IP 运算符</block>
  <block id="24d92e955dfcd833caf78794ad6c4b4b" category="paragraph">AWS ：源 Ip</block>
  <block id="547e35822c8d8d464f197fc8653e290f" category="paragraph">将与发送请求的 IP 地址进行比较。可用于存储分段或对象操作。</block>
  <block id="f0abad838d5f69790f90f24342c28fcb" category="paragraph">* 注意： * 如果 S3 请求是通过管理节点和网关节点上的负载平衡器服务发送的，则此请求将与负载平衡器服务上游的 IP 地址进行比较。</block>
  <block id="0f9cbaad6ac24d3fb4a28d6d14b11e3e" category="paragraph">* 注 * ：如果使用第三方非透明负载平衡器，则此负载平衡器将与该负载平衡器的 IP 地址进行比较。任何 `X-forwarded-for` 标头都将被忽略，因为无法确定其有效性。</block>
  <block id="033f52dc9b20d419d10d422c0457c6ea" category="paragraph">资源 / 身份</block>
  <block id="c5633a84ebe15ee8017c4fe0bf40602a" category="paragraph">AWS ：用户名</block>
  <block id="628e99c06c232f2e05a6c718dc6856fb" category="paragraph">将与发送请求的发件人用户名进行比较。可用于存储分段或对象操作。</block>
  <block id="02d6d32d8d38295fc52fd21e7fa8d70c" category="paragraph">S3 ： ListBucket 和</block>
  <block id="4344ced82f14a6317474e7490dda41d2" category="paragraph">S3 ： ListBucketVersions 权限</block>
  <block id="8234ea539a2bf32b129bb86534548081" category="paragraph">S3 ：分隔符</block>
  <block id="fdf7ebc868ac6ea1cae124686e63dcdb" category="paragraph">将与 GET 分段或 GET 分段对象版本请求中指定的分隔符参数进行比较。</block>
  <block id="7d351a6f82f1b609cc37530adf5900ad" category="paragraph">S3 ：最大密钥</block>
  <block id="700d1bff08e7cdcd295720d90c31a441" category="paragraph">将与获取分段或获取分段对象版本请求中指定的 max-keys 参数进行比较。</block>
  <block id="bdfd82fc80b1acd14c46975dd618159e" category="paragraph">S3 ：前缀</block>
  <block id="ff8ca7fa205758f8a8204b5f258a33de" category="paragraph">将与获取分段或获取分段对象版本请求中指定的前缀参数进行比较。</block>
  <block id="89e5d2228d3ecc0c5fcfe61923d303ed" category="paragraph">S3 ： object-lock-real-retenation-days</block>
  <block id="3b52370ce14b48e1140b243d6570a6b8" category="paragraph">与 `x-AMZ-object-lock-retain-until date` 请求标题中指定的或根据存储分段默认保留期限计算得出的保留日期进行比较，以确保这些值在以下请求允许的范围内：</block>
  <block id="d0d28d8eb8383b56f41aac626e413dc5" category="paragraph">与 PUT 对象保留请求中指定的保留截止日期进行比较，以确保其在允许的范围内。</block>
  <block id="89b34b540e623f660f501793078a23b2" category="section-title">指定策略中的变量</block>
  <block id="77d8d0a1ae565e418a00354df47ea039" category="paragraph">您可以在策略中使用变量填充可用的策略信息。您可以在 `Resource` 元素中使用策略变量，也可以在 `Condition` 元素中使用字符串比较。</block>
  <block id="7ef810ada71ad01f896d8fd126ab1ee5" category="paragraph">在此示例中，变量 ` $ ｛ AWS ： username ｝` 是资源元素的一部分：</block>
  <block id="4e496c12d5c5865689741efff301255a" category="paragraph">在此示例中，变量 ` $ ｛ AWS ： username ｝` 是条件块中条件值的一部分：</block>
  <block id="47c14840d8e15331fa420b9b2f757cd9" category="cell">变量</block>
  <block id="7ab346b0e62998fc494aafee5293eb3a" category="paragraph">` $ ｛ AWS ： SourceIp ｝`</block>
  <block id="fadf4e7248a66bb73208024d41a09696" category="paragraph">使用 SourceIp 键作为提供的变量。</block>
  <block id="306ea1d6246692e973ada8e47f764580" category="paragraph">` $ ｛ AWS ： username ｝`</block>
  <block id="12cc25a5439b3319e42ed936f90b2d8b" category="paragraph">使用 username 密钥作为提供的变量。</block>
  <block id="ccc34cff97ba85ca8eb1fa1ff51156b0" category="paragraph">` $ ｛ S3 ： prefix ｝`</block>
  <block id="c34884501eb02cb713226434f0daa6ae" category="paragraph">使用特定于服务的前缀密钥作为提供的变量。</block>
  <block id="0221d1adae943780acbd8198fcad9f9b" category="paragraph">` $ ｛ S3 ： max-keys ｝`</block>
  <block id="7c6d3a0e11cf49260c0fd1c7ba0ca792" category="paragraph">使用特定于服务的 max-keys 键作为提供的变量。</block>
  <block id="6d6d8062407af281e4a0fb0bbb31e8ff" category="paragraph">` $ ｛ * ｝`</block>
  <block id="1c4551222c3a28fc56eb0b072eb11829" category="paragraph">特殊字符。使用字符作为文字 * 字符。</block>
  <block id="3588b4ec360eccdbd61581bd7229ff84" category="paragraph">` $ ｛ ？ ｝`</block>
  <block id="51d4bba50cafa025fc24d37166246222" category="paragraph">特殊字符。使用字符作为文字？字符。</block>
  <block id="c3b30b5f395506753669342b54fc14a0" category="paragraph">` $ ｛ $ ｝`</block>
  <block id="6bd8a4e92073fa52269907925097159c" category="paragraph">特殊字符。使用字符作为文字 $ 字符。</block>
  <block id="7d63e0f93e442c2f1ef990a960de6a73" category="section-title">创建需要特殊处理的策略</block>
  <block id="9372508683cc9e846c33685b39dcdab7" category="paragraph">有时，策略可能会授予对安全性有危险或对持续操作（例如锁定帐户的 root 用户）有危险的权限。在策略验证期间， StorageGRID S3 REST API 实施的限制性要低于 Amazon ，但在策略评估期间同样严格。</block>
  <block id="f22080e8c51339a48ea1ae7eef4f2f67" category="cell">策略问题描述</block>
  <block id="551e9178cd3ea95d0d7df735e2e30c6f" category="cell">Policy type</block>
  <block id="088bb838525a73323a3afdbf6b18c739" category="cell">Amazon 行为</block>
  <block id="557b77bdf3e6640f0c7f448820c4fb21" category="cell">StorageGRID 行为</block>
  <block id="f1b5dfe6262c856a568cad6595443259" category="paragraph">拒绝向自己授予对 root 帐户的任何权限</block>
  <block id="30edf70db68aa84f05d3e72326807b0c" category="paragraph">存储分段</block>
  <block id="e97f00c649ca9d33c5e4a896f4b6fda5" category="paragraph">有效且强制实施，但 root 用户帐户保留所有 S3 存储分段策略操作的权限</block>
  <block id="c90a13d8ec8fe53c6bb33fe10af6f2fe" category="paragraph">相同</block>
  <block id="9b99cc3f3061e8a2ee55149f5cd22642" category="paragraph">拒绝用户 / 组的任何权限</block>
  <block id="03937134cedab9078be39a77ee3a48a0" category="paragraph">组</block>
  <block id="7e62a29a9d048b4bff8d76ab956a0308" category="paragraph">有效且强制实施</block>
  <block id="54f24a85942705781a8dc88deaa47371" category="paragraph">允许外部帐户组拥有任何权限</block>
  <block id="c5b8f1d6fcc3f32c0f0186ee6c7298da" category="paragraph">主体无效</block>
  <block id="3aa76e80e54d0d8f0d7e87fa93e9e310" category="paragraph">有效，但如果某个策略允许，则所有 S3 存储分段策略操作的权限均会返回 405 Method not allowed 错误</block>
  <block id="5abc6f7c8bc966505906f33e8f947160" category="paragraph">允许外部帐户 root 或用户拥有任何权限</block>
  <block id="b204d88187378cb6cd67f3e732896f15" category="paragraph">允许所有人对所有操作拥有权限</block>
  <block id="6dee7ee245ccd291506c5495b93e86bb" category="paragraph">有效，但对所有 S3 存储分段策略操作的权限会为外部帐户 root 和用户返回 405 Method not allowed 错误</block>
  <block id="9bd0fec1d4a093ff2ccbeebe1594b2b1" category="paragraph">拒绝任何人对所有操作的权限</block>
  <block id="8224ea4785f9b29fe75e5907c5233864" category="paragraph">主体是不存在的用户或组</block>
  <block id="3ac705f2acd51a4613f9188c05c91d0d" category="paragraph">有效</block>
  <block id="2c92215fdfbac259f8f70f7cf95c9b18" category="paragraph">资源不是 S3 存储分段</block>
  <block id="334b3f909986b2fae551d0e03e6e6d5f" category="paragraph">主体是一个本地组</block>
  <block id="4ee104ce1328f267a3c4f7a6391f7c03" category="paragraph">策略授予非所有者帐户（包括匿名帐户）放置对象的权限</block>
  <block id="1740e874a844e80f824f5b800e91e203" category="paragraph">有效。对象由创建者帐户拥有，并且存储分段策略不适用。创建者帐户必须使用对象 ACL 为对象授予访问权限。</block>
  <block id="0bc97e6d61ce7e6c5ab6c525df508ecb" category="paragraph">有效。对象由存储分段所有者帐户拥有。存储分段策略适用。</block>
  <block id="b0980eda339833a015298f6f5e2eca1e" category="section-title">一次写入多读（ WORM ）保护</block>
  <block id="89342598c17305a34c6f7279cf0630e6" category="paragraph">您可以创建一次写入多读（ Write Once Read-Many ， WORM ）分段来保护数据，用户定义的对象元数据和 S3 对象标记。您可以配置 WORM 分段，以便创建新对象并防止覆盖或删除现有内容。请使用此处所述的方法之一。</block>
  <block id="9f221b8392157c365ceaafa43559e1c7" category="paragraph">为了确保覆盖始终被拒绝，您可以：</block>
  <block id="db7a09ac0b805f5149ba3597092fbb1b" category="list-text">在网格管理器中，转到 * 配置 * &gt; * 系统 * &gt; * 网格选项 * ，然后选中 * 阻止客户端修改 * 复选框。</block>
  <block id="42033a9441d28b70c3e11da164fb8edf" category="list-text">应用以下规则和 S3 策略：</block>
  <block id="7f03f0dedc32d96201533cc56d449d62" category="list-text">向 S3 策略添加 PutOverwriteObject deny 操作。</block>
  <block id="fdb8e45e463889bb23b3e44a381dfad3" category="list-text">将 DeleteObject deny 操作添加到 S3 策略中。</block>
  <block id="149e35039f934cdde0ab9b1d484879b3" category="list-text">向 S3 策略添加 PUT 对象允许操作。</block>
  <block id="66b89188ed6f308c386ee5f1be24f01c" category="admonition">在 S3 策略中将 DeleteObject 设置为 deny 不会阻止 ILM 在存在 "`zero copies after 30 days` " 等规则时删除对象。</block>
  <block id="d78d741cad9c798ab2b6b72f30709707" category="admonition">即使应用了所有这些规则和策略，它们也不会防止并发写入（请参见情况 A ）。它们可以防止顺序完成的覆盖（请参见情况 B ）。</block>
  <block id="57ce6c75dcb629a27d1d1026261ea2dc" category="paragraph">* 情形 A* ：并发写入（不受保护）</block>
  <block id="a0164c3c67a6c2472a579aeb51efd31c" category="paragraph">* 情形 B* ：顺序完成的覆盖（防止）</block>
  <block id="8cbfc1fc18aa112f0f8f0915ed815201" category="paragraph"><block ref="31d135874dbb03ccbf130d89bf16ad72" category="inline-xref-macro-rx"></block></block>
  <block id="aa2f8f1d55d4603740a6f1efd4b32926" category="paragraph"><block ref="aa2f8f1d55d4603740a6f1efd4b32926" category="inline-xref-macro-rx"></block></block>
  <block id="a1efd9dce9d8bfc956d05770c527c38e" category="section-title">S3 策略示例</block>
  <block id="1904577451a59b66a6ce253951e7351f" category="paragraph">使用本节中的示例为分段和组构建 StorageGRID 访问策略。</block>
  <block id="f2dc41b6c17adf4c341f446beb868433" category="section-title">S3 存储分段策略示例</block>
  <block id="905f7ba90e306de5681c986e49fb1149" category="paragraph">存储分段策略用于指定附加此策略的存储分段的访问权限。存储分段策略使用 S3 PutBucketPolicy API 进行配置。</block>
  <block id="b438df4b2cee4bd854034b7e7452d4e2" category="paragraph">可以按照以下命令使用 AWS 命令行界面配置存储分段策略：</block>
  <block id="6845139e4ce24a0df0435d466886df66" category="section-title">示例：允许每个人对某个存储分段进行只读访问</block>
  <block id="7bb285d5133298b076d42cc3b76835b4" category="paragraph">在此示例中，允许包括匿名用户在内的所有人列出存储分段中的对象，并对存储分段中的所有对象执行 GET Object 操作。所有其他操作都将被拒绝。请注意，此策略可能不会特别有用，因为除了帐户 root 之外，没有其他人有权写入存储分段。</block>
  <block id="aea293d83ff722ee4233bb4bf55eadf7" category="section-title">示例：允许一个帐户中的每个人完全访问某个存储分段，而另一帐户中的每个人只读访问某个存储分段</block>
  <block id="877de4fde52eb11263159ccf29209c96" category="paragraph">在此示例中，一个指定帐户中的每个人都可以完全访问某个存储分段，而另一个指定帐户中的每个人只能列出存储分段并对存储分段中以 `shared/` 对象密钥前缀开头的对象执行 GetObject 操作。</block>
  <block id="26933ffa3e83663840e8e5b86f879d88" category="admonition">在 StorageGRID 中，非所有者帐户创建的对象（包括匿名帐户）归存储分段所有者帐户所有。存储分段策略适用场景 这些对象。</block>
  <block id="de147abcccf1f2ff47fab2d28fdad763" category="section-title">示例：允许每个人对某个存储分段进行只读访问，并允许指定组进行完全访问</block>
  <block id="10b608279707dc8b8d86960e174d7efa" category="paragraph">在此示例中，允许包括 anonymous 在内的所有人列出存储分段并对存储分段中的所有对象执行 GET Object 操作，而仅允许指定帐户中属于组 `Marketing` 的用户进行完全访问。</block>
  <block id="1df4afb4f47707e4082b5b1a28e5a4b8" category="section-title">示例：如果客户端位于 IP 范围内，则允许每个人对存储分段进行读写访问</block>
  <block id="c46841cb33e5fec6b3d91be811ca87b1" category="paragraph">在此示例中，允许包括匿名用户在内的所有人列出存储分段并对存储分段中的所有对象执行任何对象操作，前提是这些请求来自指定的 IP 范围（ 54.240.143.0 到 54.240.143.255 ，但 54.240.143.188 除外）。所有其他操作都将被拒绝，并且 IP 范围以外的所有请求都将被拒绝。</block>
  <block id="36ffa799f04681f4417f7e267f3f6897" category="section-title">示例：允许指定的联合用户完全访问某个存储分段</block>
  <block id="b3f6f3189c87dfd1d89d1374e6194c5f" category="paragraph">在此示例中，允许联合用户 Alex 对 `examplebucket` 存储分段及其对象进行完全访问。包括 "`root` " 在内的所有其他用户均被明确拒绝所有操作。但请注意， "`root` " 从不会被拒绝 PUT ， Get/DeleteBucketPolicy 的权限。</block>
  <block id="fe686336db8ee39a9be416c2a1785953" category="section-title">示例： PutOverwriteObject 权限</block>
  <block id="7910c9c281120945982013628c117e00" category="paragraph">在此示例中， PutOverwriteObject 和 DeleteObject 的 `Deny` Effect 可确保任何人都无法覆盖或删除对象的数据，用户定义的元数据和 S3 对象标记。</block>
  <block id="e97ec74c704a77c340069c6d404c3a84" category="section-title">S3 组策略示例</block>
  <block id="e305245420f49ffd9bac5722d8cd1f72" category="paragraph">组策略用于指定附加此策略的组的访问权限。此策略中没有 `Principal` 元素，因为它是隐式的。组策略可使用租户管理器或 API 进行配置。</block>
  <block id="031af371a12e29b8012a60b5c5ef9bcb" category="section-title">示例：使用租户管理器设置组策略</block>
  <block id="bc8589c032af7ec797b43f0b8f19b617" category="paragraph">使用租户管理器添加或编辑组时，您可以选择要如何创建组策略，以定义此组的成员将具有的 S3 访问权限，如下所示：</block>
  <block id="44edbb99b2834478a4de9c5b9ada2fca" category="list-text">* 无 S3 访问 * ：默认选项。此组中的用户无权访问 S3 资源，除非使用存储分段策略授予访问权限。如果选择此选项，则默认情况下，只有 root 用户才能访问 S3 资源。</block>
  <block id="35f2decf9c199545f32f74af2f49fe74" category="list-text">* 只读访问 * ：此组中的用户对 S3 资源具有只读访问权限。例如，此组中的用户可以列出对象并读取对象数据，元数据和标记。选择此选项后，只读组策略的 JSON 字符串将显示在文本框中。您不能编辑此字符串。</block>
  <block id="53342840b284c0c13cc6e0eb1fd25095" category="list-text">* 完全访问 * ：此组中的用户对 S3 资源（包括分段）具有完全访问权限。选择此选项后，完全访问组策略的 JSON 字符串将显示在文本框中。您不能编辑此字符串。</block>
  <block id="ae0e3db24032c01aefb6041fc8bd82cc" category="list-text">* 自定义 * ：组中的用户将获得您在文本框中指定的权限。</block>
  <block id="99836a47de765fd312950c72ad828358" category="paragraph">在此示例中，组成员只能列出并访问指定存储分段中的特定文件夹（密钥前缀）。</block>
  <block id="43b7fdc7ef322329b7fe5748fd1076ce" category="image-alt">将自定义组策略添加到租户组</block>
  <block id="8144b6489dc7b5698068ee677ec7f481" category="section-title">示例：允许组完全访问所有存储分段</block>
  <block id="e402b8c10e90450e93a65bb032a013ce" category="paragraph">在此示例中，除非 bucket 策略明确拒绝，否则允许组中的所有成员对租户帐户拥有的所有分段进行完全访问。</block>
  <block id="799ae88bc09d71a480f0c89cff848867" category="section-title">示例：允许组对所有分段进行只读访问</block>
  <block id="3629c6466f4d18a11ccd4daa54c64808" category="paragraph">在此示例中，组的所有成员都对 S3 资源具有只读访问权限，除非 bucket 策略明确拒绝。例如，此组中的用户可以列出对象并读取对象数据，元数据和标记。</block>
  <block id="136e0785a961f6b7b876b94626883033" category="section-title">示例：仅允许组成员对存储分段中的 " 文件夹 " 具有完全访问权限</block>
  <block id="1f5aeb99e944915807cf57b7eb3f2eb9" category="paragraph">在此示例中，组成员只能列出并访问指定存储分段中的特定文件夹（密钥前缀）。请注意，在确定其他组策略和存储分段策略的隐私时，应考虑这些文件夹的访问权限。</block>
  <block id="fc883a12b476c95e5a8197c41897d9a1" category="summary">您可以使用 S3 PUT 对象请求将对象添加到存储分段中。</block>
  <block id="52e10f9ee6649063ba63e7af9e7dac57" category="section-title">用户元数据大小</block>
  <block id="4e83bc1fe4d0c49324dda2967865ce2d" category="paragraph">Amazon S3 将每个 PUT 请求标头中用户定义的元数据的大小限制为 2 KB 。StorageGRID 将用户元数据限制为 24 KiB 。用户定义的元数据的大小是通过采用 UTF-8 编码的每个键和值的字节数之和来衡量的。</block>
  <block id="2a8b528edd4fc1a88de5c0728bf0e027" category="list-text">如果用户定义的元数据包含转义的 UTF-8 字符，则 PUT ， PUT 对象副本， GET 和 HEAD 请求将成功。</block>
  <block id="e10068c3f6b237e131342c26e5bf7e67" category="section-title">对象标记限制</block>
  <block id="f0ebb0922a26ffb9f51201e1252ef52a" category="paragraph">您可以在上传新对象时为其添加标记，也可以将其添加到现有对象中。StorageGRID 和 Amazon S3 对每个对象最多支持 10 个标记。与对象关联的标记必须具有唯一的标记密钥。一个标记密钥的长度最多可以是 128 个 Unicode 字符，而标记值的长度最多可以是 256 个 Unicode 字符。密钥和值区分大小写。</block>
  <block id="55d392a6276320e5773f85a659cd713a" category="section-title">对象所有权</block>
  <block id="44a1475420966b90304d2da5eab00601" category="paragraph">在 StorageGRID 中，所有对象均归存储分段所有者帐户所有，包括由非所有者帐户或匿名用户创建的对象。</block>
  <block id="6458b8a93458a3836a4ddb6f1fa660e0" category="paragraph">如果为 ``内容编码``StorageGRID 指定 `AWS-chunked` ，则不会验证以下项：</block>
  <block id="ac9c38c199552a80a9d9dc8e4f61eb5e" category="list-text">StorageGRID 不会根据区块数据验证 `chunk-signature` 。</block>
  <block id="18ddd2d64f1c1ff8b3d84fb49fe3ba0a" category="list-text">StorageGRID 不会验证为对象提供的 `x-AMZ-解码 内容长度` 值。</block>
  <block id="6ae6623d9d1693373c6a3d7657d6bddf" category="list-text">`传输编码`</block>
  <block id="e2168329b4a873f3314971d236e36fae" category="paragraph">如果同时使用 `AWS-chunked` 有效负载签名，则支持分块传输编码。</block>
  <block id="d05c38d91f0213878e2c56ef1c53dad8" category="list-text">`x-AMZ-meta-` ，后跟一个名称 - 值对，其中包含用户定义的元数据。</block>
  <block id="298a226545c2ab25a5de859b8098e124" category="admonition">ILM 规则不能同时使用 * 用户定义的创建时间 * 作为参考时间，也不能使用平衡或严格选项来执行载入行为。创建 ILM 规则时返回错误。</block>
  <block id="a05acb0d62241c1b5cfa0847abfff823" category="list-text">`X-AMZ-Tagging`</block>
  <block id="d658bf51b90c5e9535bba8bb5ac4b819" category="list-text">S3 对象锁定请求标头</block>
  <block id="aa99c0db3ee85885d9647858dbe00c56" category="list-text">不支持 `x-AMZ-ACL` 请求标头。</block>
  <block id="60dac2c90a44aa9ffc086c5de1987790" category="list-text">不支持 `x-AMZ-website-redirect-location` 请求标头并返回 `XNotImplemented` 。</block>
  <block id="849276af02dce4619f6e9ecd33f5df09" category="paragraph">您可以使用以下请求标头通过服务器端加密对对象进行加密。SSE 和 SSI-C 选项是互斥的。</block>
  <block id="0b66d61b034f9a113db03c311c46d085" category="list-text">* SSE* ：如果要使用 StorageGRID 管理的唯一密钥对对象进行加密，请使用以下标题。</block>
  <block id="ed8552387a9471f8268c1cbd1ff354b8" category="list-text">* SSI-C* ：如果要使用您提供和管理的唯一密钥对对象进行加密，请使用所有这三个标头。</block>
  <block id="4cfc12777cf7c34270dce38aafff9465" category="paragraph">* 注： * 如果对象使用 SSE 或 SSI-C 进行加密，则会忽略任何分段级别或网格级别的加密设置。</block>
  <block id="07ae37bd156912390a7756f18447ea39" category="paragraph">要完成此操作，您拥有 S3 ： GetBucketMetadataNotification 权限，或者帐户为 root 。</block>
  <block id="7499b98de6c57136fd8bbc6ff64b5a96" category="paragraph">此请求将检索名为 `bucket` 的存储分段的元数据通知配置。</block>
  <block id="ccd055f6eab74d7456a03500436a7838" category="paragraph">响应正文包括存储分段的元数据通知配置。通过元数据通知配置，您可以确定如何配置存储分段以进行搜索集成。也就是说，您可以通过它确定哪些对象已编制索引，以及将其对象元数据发送到哪些端点。</block>
  <block id="7483fc4e63d54f6aae5c899ae3914313" category="paragraph">每个元数据通知配置都包含一个或多个规则。每个规则都指定其适用场景 的对象以及 StorageGRID 应将对象元数据发送到的目标。必须使用 StorageGRID 端点的 URN 指定目标。</block>
  <block id="9eca3cebc10d95bb6ce837d57a8013a0" category="list-text">`arn ： AWS ： es ： _Region ： account-ID_ ： domain/mydomain/myindex/mytype`</block>
  <block id="6e357810217dee5436e6be4abc4d3c84" category="paragraph">在 ` &lt;MetadataNotificationConfiguration&gt;/MetadataNotificationConfiguration&gt;` 标记之间包含的 XML 显示了如何为存储分段配置与搜索集成端点的集成。在此示例中，对象元数据将发送到名为 `current` 且类型为 `2017` 的 Elasticsearch 索引，该索引托管在名为 `records` 的 AWS 域中。</block>
  <block id="a65d3a6c3d145431a7a02d0b1eed8fed" category="summary">您可以通过查看整个网格或特定节点的事务趋势来监控客户端操作的工作负载和效率。您可以使用审核消息监控客户端操作和事务。</block>
  <block id="dc844de8cce82ef6fce0853922716423" category="doc">监控和审核操作</block>
  <block id="b94d88b8582ac28b0540659cbce95af5" category="summary">StorageGRID 系统支持所有适用的标准 S3 REST API 错误响应。此外， StorageGRID 实施还添加了多个自定义响应。</block>
  <block id="493a5692f68a5a5455e548e034f5edbb" category="section-title">支持的 S3 API 错误代码</block>
  <block id="b9af996813bda6fb40537e0e1fb5e3e5" category="cell">HTTP 状态</block>
  <block id="cbcc0759909213e7cdba1f0cbf253126" category="paragraph">ACCESSDENIED</block>
  <block id="6351030f724f6f42fd11ec9aa6ee8c76" category="paragraph">403 已禁用</block>
  <block id="85eaf76463ec66b59d64dcb458db68e6" category="paragraph">BadDigest</block>
  <block id="6196dba52703776af2e6593f772ed7ce" category="paragraph">400 个错误请求</block>
  <block id="62e371dbda7a50998fc4e9ffb8268f3d" category="paragraph">BucketAlreadyExists</block>
  <block id="a84bd6d81c36b88196d3a592a648ce9b" category="paragraph">409 冲突</block>
  <block id="d327b4b7d6c5a3802adbc2d02b894b4a" category="paragraph">BucketNotEmpagty</block>
  <block id="0bde8796d562a7490b01e67aec3626cc" category="paragraph">实体不完整</block>
  <block id="8462b58246e70e5c83e5b939a9332cb5" category="paragraph">内部错误</block>
  <block id="a8006331287f708f5ec230ffb88be0b3" category="paragraph">500 内部服务器错误</block>
  <block id="4405f29277a9365a658f6ddd6fc14686" category="paragraph">InvalidAccessKeyId</block>
  <block id="253ca7dd096ee0956cccee4d376cab8b" category="paragraph">InvalidArgument</block>
  <block id="de56b4eda07ed1901d4db65e39333ae6" category="paragraph">InvalidBucketName</block>
  <block id="03455a3cddc5d84ac1abe5fed38c31df" category="paragraph">InvalidBucketState</block>
  <block id="609bde05e0a6fdf2c925cced85da3bd1" category="paragraph">InvalidDigest</block>
  <block id="f945069ef2c2beaa12e092bdf7ae84e5" category="paragraph">InvalidEncryptionAlgorithmError</block>
  <block id="2b68c28e815162175b3452a25afd7936" category="paragraph">InvalidPart</block>
  <block id="456e52a27d74caa83e92dc45672a7ced" category="paragraph">InvalidPartOrder</block>
  <block id="efcb4954ae74945cf0eba28983e28b6e" category="paragraph">InvalidRange</block>
  <block id="38b6d5d1f717e9d0ffe438494a7e76c8" category="paragraph">416 无法满足请求的范围</block>
  <block id="d544eb3da2f68d24cf92a8519ed53a31" category="paragraph">InvalidRequest</block>
  <block id="234b90bd1b5b643910a99db97ce14854" category="paragraph">InvalidStorageClass</block>
  <block id="f155a86534ba8c83bd9ced7c8f510b4c" category="paragraph">InvalidTag</block>
  <block id="fd484cd5d27af9591b0c9c9e5db57a70" category="paragraph">InvalidURI</block>
  <block id="cd2a7d3205f7f747a0132071606d2a95" category="paragraph">KeyTooLong</block>
  <block id="5f2b21b0546a90651ad99622e759ca8e" category="paragraph">MalformedXML</block>
  <block id="c2249e0a8e0e0716f66a721c48eecc95" category="paragraph">MetadataTooLarge</block>
  <block id="8ba68fee5542f5fd071aed140c39bd8e" category="paragraph">方法未使用</block>
  <block id="241e80d2b382f439094fb22eb80e20e2" category="paragraph">不允许使用 405 方法</block>
  <block id="b1ede62cda7650d4d00daefd583f8878" category="paragraph">MissingContent长度</block>
  <block id="03f346bae64f7e9e46a5f0228799e526" category="paragraph">411 需要长度</block>
  <block id="db961fe4d061030a064beb750ce44dd2" category="paragraph">MissingRequestBodyError</block>
  <block id="572192ad5997b0b123fb41ccdc470c34" category="paragraph">MissingSecurityHeader</block>
  <block id="edf938d526c867e99b1d27cc2be32808" category="paragraph">NoSuchBucket</block>
  <block id="1e6cd917ed71a1241e4bedc29264bd98" category="paragraph">未找到 404</block>
  <block id="8556664e4bdfc02bcc55464452e92d89" category="paragraph">NoSuchKey</block>
  <block id="55b78c5f308dbb59c59fa01253becf04" category="paragraph">NoSuchUpload</block>
  <block id="997ca4ce119685f40f03a9a8a6c5346e" category="paragraph">未实施</block>
  <block id="7a107dca2aebde1ca5eece10104bc3d3" category="paragraph">501 未实施</block>
  <block id="2c550d0f2e7a6c757536e7dea622baae" category="paragraph">NoSuchBucketPolicy</block>
  <block id="e8e57c5f7a5cfb96b1558149898d598c" category="paragraph">ObjectLockConfigurationNotFoundError</block>
  <block id="3542a02d18f11f46d53990d91752a6d4" category="paragraph">预条件已启用</block>
  <block id="d572a3a19360db61fb662f1e4bcdbc64" category="paragraph">412- 前提条件失败</block>
  <block id="12924d48a7db79163d99437092256a9d" category="paragraph">已请求超时</block>
  <block id="2a4581043d849bcb0e4747970ef1489b" category="paragraph">服务不可用</block>
  <block id="ef38ce64e8de37b1f783962755b585ec" category="paragraph">503 服务不可用</block>
  <block id="54f1ae04a8e119b0e5de9fa9e6d6f0c2" category="paragraph">SignatureDoesNotMatch</block>
  <block id="d09b961158c5311515dab7fe36fc889c" category="paragraph">TooMany桶</block>
  <block id="8d4ec08aad1730f090713feda5bda208" category="paragraph">用户密钥已规范</block>
  <block id="626ccc4ab937d2160a38b1a1ae0003f8" category="section-title">StorageGRID 自定义错误代码</block>
  <block id="539fa1489658430be77334c3d260169d" category="paragraph">XBucketLifeycleNotAllowed</block>
  <block id="d51192f7c5dd6c17d18d53debb085793" category="paragraph">旧版合规存储分段不支持存储分段生命周期配置</block>
  <block id="c3b29b338fb043f1f16d24ff13006659" category="paragraph">XBucketPolicyParseException</block>
  <block id="5aa4a42f6058f81ca6bbc042f9ceb193" category="paragraph">无法解析收到的存储分段策略 JSON 。</block>
  <block id="aee11e13d55133fdde3780eeb7d5d9c8" category="paragraph">XComplianceConflict</block>
  <block id="01c7fbc83aec59be3ff33b2e918e66f3" category="paragraph">操作因原有合规性设置而被拒绝。</block>
  <block id="bd7c9e7ac2f9c97ba63a5e0af067b7c1" category="paragraph">XComplianceReducedRedundancyFor禁用</block>
  <block id="f689905976ad67fb5a4bd734812813e7" category="paragraph">原有的合规存储分段不允许减少冗余</block>
  <block id="43cf2872430274460237c8744adb2548" category="paragraph">XMaxBucketPolicyLengthExceeded</block>
  <block id="be42aa7d7e09b07e275e2b27f283437b" category="paragraph">您的策略超出了允许的最大存储分段策略长度。</block>
  <block id="2d1f43b92c09ca9b452de7fc43a955d6" category="paragraph">XMissingInternalRequestHeader</block>
  <block id="66ee5b929a15297dc49fe44f4f232607" category="paragraph">缺少内部请求的标题。</block>
  <block id="45c86673fefba54f2062b39f20ea7afd" category="paragraph">XNoSuchBucketCompliance</block>
  <block id="4734c74123e96818af53438708bae9f5" category="paragraph">指定的存储分段未启用原有合规性。</block>
  <block id="5fa3cc02bc3a17bcef790f2808004c6b" category="paragraph">XNotAcceptable</block>
  <block id="39573499009c8b91c4664f68061948fc" category="paragraph">此请求包含一个或多个无法满足的接受标头。</block>
  <block id="a0652e00b16772608deba2656f168ce2" category="paragraph">406 不可接受</block>
  <block id="a9dbe1b29b034482976415619b6e1441" category="paragraph">未实施</block>
  <block id="bab34ace6dc1d1208532f1d6ab3c6c0b" category="paragraph">您提供的请求意味着未实施的功能。</block>
  <block id="49d31279dd5d79882e33ada97a80a990" category="summary">如何配置 HTTP 连接可能会影响 StorageGRID 系统的性能。根据 HTTP 连接是活动连接还是空闲连接，或者您有多个并发连接，配置会有所不同。</block>
  <block id="59c507817f1daf2dde9cb8569b491827" category="doc">活动，空闲和并发 HTTP 连接的优势</block>
  <block id="04b57466e1a40de76df2251af323724f" category="paragraph">您可以确定以下类型的 HTTP 连接的性能优势：</block>
  <block id="33062bc87956d719fc6381542985ded0" category="list-text">空闲 HTTP 连接</block>
  <block id="a887c45e69152e22cda578620caf49cc" category="list-text">活动 HTTP 连接</block>
  <block id="42a4ae45060f32e2ed366e4e320786df" category="list-text">并发 HTTP 连接</block>
  <block id="2bf1920a033440be1c7f591021182be7" category="summary">StorageGRID 支持简单存储服务 \ （ S3\ ） API ，该 API 作为一组表示状态传输 \ （ REST \ ） Web 服务实施。通过对 S3 REST API 的支持，您可以将为 S3 Web 服务开发的面向服务的应用程序与使用 StorageGRID 系统的内部对象存储连接起来。这就要求对客户端应用程序当前使用 S3 REST API 调用的情况进行最少的更改。</block>
  <block id="f215614798cdcd01a2f1b06616b1b89a" category="doc">使用 S3 ：概述</block>
  <block id="1584bc250907dd8584d5d56ee3070cc9" category="paragraph">StorageGRID 支持简单存储服务（ S3 ） API ，该 API 作为一组表示状态传输（ Representational State Transfer ， REST ） Web 服务来实施。通过对 S3 REST API 的支持，您可以将为 S3 Web 服务开发的面向服务的应用程序与使用 StorageGRID 系统的内部对象存储连接起来。这需要对客户端应用程序当前使用 S3 REST API 调用的情况进行最少的更改。</block>
  <block id="01f94998a2c3a3ad374be3bf43c7eca2" category="summary">通过 StorageGRID 平台服务， StorageGRID 租户帐户可以利用外部服务（例如远程 S3 存储分段，简单通知服务 \ （ SNS ）端点或 Elasticsearch 集群）来扩展网格提供的服务。</block>
  <block id="f052426ec6ca6f4c8a8a4713012bbc06" category="doc">支持 StorageGRID 平台服务</block>
  <block id="affc1a37f2bb28bd98766edcafdb5968" category="paragraph">通过 StorageGRID 平台服务， StorageGRID 租户帐户可以利用远程 S3 存储分段，简单通知服务（ SNS ）端点或 Elasticsearch 集群等外部服务来扩展网格提供的服务。</block>
  <block id="8ae787436080395cf315a70059744736" category="paragraph">下表总结了可用的平台服务以及用于配置这些服务的 S3 API 。</block>
  <block id="5c6949fd837b912fc949b877faf95f2f" category="cell">平台服务</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">目的</block>
  <block id="c3b8a13d86009e9d958559e56fd3738a" category="cell">用于配置服务的 S3 API</block>
  <block id="0012dc948f477da090adb8b845d6dbe3" category="paragraph">CloudMirror 复制</block>
  <block id="c0ab25bfd136e6bad43f269b515a8651" category="paragraph">将对象从源 StorageGRID 存储分段复制到已配置的远程 S3 存储分段。</block>
  <block id="a274f4d4670213a9045ce258c6c56b80" category="paragraph">通知</block>
  <block id="d8be9d3ff6d6469d01c1ddeffb3b38a7" category="paragraph">将有关源 StorageGRID 存储分段中事件的通知发送到已配置的简单通知服务（ Simple Notification Service ， SNS ）端点。</block>
  <block id="8f74f346d02611dbf0ad9c8d6c18747c" category="paragraph">搜索集成</block>
  <block id="9639cc610e25114ba579569df25f9a5d" category="paragraph">将存储在 StorageGRID 存储分段中的对象的对象元数据发送到已配置的 Elasticsearch 索引。</block>
  <block id="45a6402c003528072e15c85816baced7" category="paragraph">PUT 存储分段元数据通知</block>
  <block id="b6a0844e2bc12581c75bccd3dcf48c2c" category="paragraph">* 注： * 这是 StorageGRID 自定义 S3 API 。</block>
  <block id="ed9bfdbc060af587ec76278921b12bad" category="paragraph">网格管理员必须先为租户帐户启用平台服务，然后才能使用这些服务。然后，租户管理员必须在租户帐户中创建一个表示远程服务的端点。要配置服务，必须执行此步骤。</block>
  <block id="3c668cea56673fac1c196756b7dac582" category="section-title">使用平台服务的建议</block>
  <block id="f906dfedd32080427769f2189a8011c5" category="paragraph">在使用平台服务之前，您必须了解以下建议：</block>
  <block id="66ef9e8872bde9ca91400a936b1cd39d" category="list-text">NetApp 建议，对于需要进行 CloudMirror 复制，通知和搜索集成的 S3 请求，您允许的活动租户不超过 100 个。如果活动租户超过 100 个，则可能会导致 S3 客户端性能下降。</block>
  <block id="886cdcf353f4d4a9ee930b8b4acb1204" category="list-text">如果 StorageGRID 系统中的 S3 存储分段同时启用了版本控制和 CloudMirror 复制， NetApp 建议目标端点也启用 S3 存储分段版本控制。这样， CloudMirror 复制就可以在端点上生成类似的对象版本。</block>
  <block id="f13671d66533b8f42450dcbb388b120f" category="list-text">如果源存储分段启用了 S3 对象锁定，则不支持 CloudMirror 复制。</block>
  <block id="8b85023e7f1c231c59cf995242edf38d" category="list-text">如果目标存储分段启用了原有合规性，则 CloudMirror 复制将失败并显示 AccessDenied 错误。</block>
  <block id="e82a1c8634d1224c63033a0e4492f497" category="summary">要将 StorageGRID 配置为接受来自客户端应用程序的连接，需要创建一个或多个租户帐户并设置连接。</block>
  <block id="9666b612f05b0d066a4e66b2d7da3377" category="doc">配置租户帐户和连接</block>
  <block id="72bebdd4dd6ff6803d3de4cb61e7a833" category="section-title">创建和配置 S3 租户帐户</block>
  <block id="be742c928a617a0bc38c3d99d16f662c" category="paragraph">S3 API 客户端必须先具有 S3 租户帐户，然后才能在 StorageGRID 上存储和检索对象。每个租户帐户都有自己的帐户 ID ，组和用户以及容器和对象。</block>
  <block id="1dda0e496397d0e1f86bf23f7d520933" category="paragraph">S3 租户帐户由 StorageGRID 网格管理员使用网格管理器或网格管理 API 创建。创建 S3 租户帐户时，网格管理员会指定以下信息：</block>
  <block id="aeb92bc9f8b2872e4c5de80bede1459c" category="list-text">租户的显示名称（租户的帐户 ID 会自动分配，不能更改）。</block>
  <block id="e60396befef08c26ed28a0195a8c18e4" category="list-text">是否允许租户帐户使用平台服务。如果允许使用平台服务，则必须对网格进行配置，以支持使用这些服务。</block>
  <block id="4c803b4d66ab9323a35134b74a708a43" category="list-text">（可选）租户帐户的存储配额—租户对象可用的最大 GB ， TB 或 PB 数。租户的存储配额表示逻辑容量（对象大小），而不是物理容量（磁盘大小）。</block>
  <block id="b7a1aa595750810770ac62b52ed0a2c7" category="list-text">如果为 StorageGRID 系统启用了身份联合，则哪个联合组具有 " 根访问 " 权限来配置租户帐户。</block>
  <block id="90a6d06f530dbad20bdaa9834eab735e" category="list-text">如果 StorageGRID 系统未使用单点登录（ SSO ），则表示租户帐户是使用自己的身份源还是共享网格的身份源，以及租户的本地 root 用户的初始密码。</block>
  <block id="0f7c192fe62a2804089d072a79021710" category="paragraph">创建 S3 租户帐户后，租户用户可以访问租户管理器以执行如下任务：</block>
  <block id="0d95838c4c78086d241ab5284e40f88c" category="list-text">设置身份联合（除非身份源与网格共享），并创建本地组和用户</block>
  <block id="9ce0470d7fb49eaf6c35cc615a01819f" category="list-text">管理 S3 访问密钥</block>
  <block id="f491d61f6310bc51111985ab231bcbf5" category="list-text">创建和管理 S3 存储分段，包括启用了 S3 对象锁定的存储分段</block>
  <block id="b8d755be27ebde810d061c89bb32a724" category="list-text">使用平台服务（如果已启用）</block>
  <block id="6c9d341bb7ba287b3a8f6521b7c4a8ce" category="list-text">监控存储使用情况</block>
  <block id="13bddadf40a493bb4c78d309d9980533" category="admonition">S3 租户用户可以使用租户管理器创建和管理 S3 存储分段，但他们必须具有 S3 访问密钥，并使用 S3 REST API 载入和管理对象。</block>
  <block id="696cca6aab02650008615b2a60bd24a8" category="paragraph">网格管理员可以选择影响 S3 客户端连接到 StorageGRID 以存储和检索数据的配置。建立连接所需的具体信息取决于所选的配置。</block>
  <block id="94c299bf4346dd8930596c5d5febb2d4" category="paragraph">客户端应用程序可以通过连接到以下任一项来存储或检索对象：</block>
  <block id="46bc0459475e456013c2cace5b2eb756" category="list-text">管理节点或网关节点上的负载平衡器服务，或者也可以是管理节点或网关节点高可用性（ HA ）组的虚拟 IP 地址</block>
  <block id="369f270ce1c81e3782d0775397f7a4a5" category="list-text">网关节点上的 CLB 服务，或者也可以是网关节点高可用性组的虚拟 IP 地址</block>
  <block id="05eb3684868fbc7e85823d26e0de1d1d" category="admonition">CLB 服务已弃用。在 StorageGRID 11.3 版本之前配置的客户端可以继续在网关节点上使用 CLB 服务。所有其他依靠 StorageGRID 提供负载平衡的客户端应用程序都应使用负载平衡器服务进行连接。</block>
  <block id="52bdc9ba22adff681f3c557aaa49a53b" category="list-text">存储节点，具有或不具有外部负载平衡器</block>
  <block id="4e14c0d97c6e0dde220b04dad89d2102" category="paragraph">配置 StorageGRID 时，网格管理员可以使用网格管理器或网格管理 API 执行以下步骤，所有这些步骤均为可选步骤：</block>
  <block id="af9fef43e7018bc3e5aa12e50979a1a7" category="list-text">为负载平衡器服务配置端点。</block>
  <block id="dd4a42e23657afc5abe18b5a5c38c33e" category="paragraph">您必须配置端点才能使用负载平衡器服务。管理节点或网关节点上的负载平衡器服务会将传入的网络连接从客户端应用程序分发到存储节点。创建负载平衡器端点时， StorageGRID 管理员会指定端口号，端点是否接受 HTTP 或 HTTPS 连接，将使用此端点的客户端类型（ S3 或 Swift ）以及用于 HTTPS 连接的证书（如果适用）。</block>
  <block id="0251305f711511f5d3ed5f89cc7374e9" category="list-text">配置不可信客户端网络。</block>
  <block id="690fbd6b6992a77b42115a9bf5d1d0d7" category="paragraph">如果 StorageGRID 管理员将节点的客户端网络配置为不可信，则节点仅接受客户端网络上显式配置为负载平衡器端点的端口上的入站连接。</block>
  <block id="6829cb16f4cde6910ce7dff84630dda5" category="list-text">配置高可用性组。</block>
  <block id="2ad8d9cca8755870ce44f5e1c4a929e1" category="paragraph">如果管理员创建了一个 HA 组，则多个管理节点或网关节点的网络接口将置于主动备份配置中。客户端连接使用 HA 组的虚拟 IP 地址进行。</block>
  <block id="0696025ab7e2347a24582415b2e109b5" category="paragraph">有关每个选项的详细信息，请参见有关管理 StorageGRID 的说明。</block>
  <block id="5cc1d32df5b505bb0e4cc0a463a18579" category="section-title">摘要：客户端连接的 IP 地址和端口</block>
  <block id="279457a3597314e0e23b2cf8fccb4373" category="paragraph">客户端应用程序使用网格节点的 IP 地址以及该节点上服务的端口号连接到 StorageGRID 。如果配置了高可用性（ HA ）组，则客户端应用程序可以使用 HA 组的虚拟 IP 地址进行连接。</block>
  <block id="0f090f0b7cf102323b7994292ef737ee" category="section-title">建立客户端连接所需的信息</block>
  <block id="cd3b9dd5c4dd98d283e4be726cfbfd5b" category="paragraph">下表总结了客户端连接到 StorageGRID 的不同方式以及每种连接类型所使用的 IP 地址和端口。有关详细信息，请与 StorageGRID 管理员联系，或者参见有关管理问题描述 StorageGRID 的说明，了解如何在网格管理器中查找此信息。</block>
  <block id="d24c2c07118cc69952989689be8d8cbb" category="cell">建立连接的位置</block>
  <block id="935304f63e356d96ebdd579fbc278ab4" category="cell">客户端连接到的服务</block>
  <block id="61ad709181cae95e6e867fdc0239fb12" category="paragraph">HA 组</block>
  <block id="50382c1137e78c7c038faabadb85d9fd" category="paragraph">负载平衡器</block>
  <block id="3570f28ec2e1d4e7dc70a56205e7eb7d" category="paragraph">HA 组的虚拟 IP 地址</block>
  <block id="858e2ead3a1c6f51f97e767c6bcb900b" category="list-text">负载平衡器端点端口</block>
  <block id="bb444f6929898f5df9dcffff74458b5c" category="paragraph">CLB</block>
  <block id="22bf31cfc1376714a3e87d85bc4ad346" category="paragraph">* 注： * CLB 服务已弃用。</block>
  <block id="0b7786857c1d1b1f81c41b27522a2ca3" category="paragraph">默认 S3 端口：</block>
  <block id="606667a71176ac7d09e4ef3d6ac832a0" category="list-text">HTTPS ： 8082</block>
  <block id="4ac84374d2d0cbdc9715998f440eef27" category="list-text">HTTP ： 8084</block>
  <block id="50e4ed99f934bd68d9cae28cd027261b" category="paragraph">管理节点的 IP 地址</block>
  <block id="1517f156e286a254ca4af37dbe2cdf85" category="paragraph">网关节点的 IP 地址</block>
  <block id="f8aee002d3b074da273b9be04a060b59" category="paragraph">* 注： * 默认情况下， CLB 和 LDR 的 HTTP 端口未启用。</block>
  <block id="6645d4de79aee6373f120d72c0030e5f" category="paragraph">LDR</block>
  <block id="beddde57c00b325729a226902da67f5b" category="paragraph">存储节点的 IP 地址</block>
  <block id="1bf6dbf83698df49f996f60526a4f5ad" category="list-text">HTTPS ： 18082</block>
  <block id="06114977338d8030f68558237c9f3c20" category="list-text">HTTP ： 18084</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="section-title">示例</block>
  <block id="8362e4ba96a1b171a630122ef726ea37" category="paragraph">要将 S3 客户端连接到网关节点 HA 组的负载平衡器端点，请使用以下结构化 URL ：</block>
  <block id="1bbb6c138e50419d05f424972172d452" category="list-text">`https://_VIP-of-HA-group_:_LB-endpoint-port_`</block>
  <block id="1618cbfaf15b070ce0f2c7dcc82e9d13" category="paragraph">例如，如果 HA 组的虚拟 IP 地址为 192.0.2.5 ，而 S3 负载平衡器端点的端口号为 10443 ，则 S3 客户端可以使用以下 URL 连接到 StorageGRID ：</block>
  <block id="4fec470d0c42609f2680f4c4c5e44916" category="list-text">`https://192.0.2.5:10443`</block>
  <block id="7fe531e1f942f548b0287543674e32e0" category="paragraph">可以为客户端用于连接到 StorageGRID 的 IP 地址配置 DNS 名称。请与本地网络管理员联系。</block>
  <block id="e8e89a78381376620ede18bc172308d9" category="section-title">决定使用 HTTPS 或 HTTP 连接</block>
  <block id="4272211cc613f2bd3e2e8d7a487ea596" category="paragraph">使用负载平衡器端点建立客户端连接时，必须使用为此端点指定的协议（ HTTP 或 HTTPS ）进行连接。要使用 HTTP 连接到存储节点或网关节点上的 CLB 服务，必须启用 HTTP 。</block>
  <block id="e579dfebfbb3e9a91161bccefefc18a3" category="paragraph">默认情况下，当客户端应用程序连接到存储节点或网关节点上的 CLB 服务时，它们必须对所有连接使用加密 HTTPS 。您也可以选择网格管理器中的 * 启用 HTTP 连接 * 网格选项来启用不太安全的 HTTP 连接。例如，在非生产环境中测试与存储节点的连接时，客户端应用程序可能会使用 HTTP 。</block>
  <block id="883626f5b31092db82973b56e938f89d" category="admonition">为生产网格启用 HTTP 时要小心，因为请求将以未加密方式发送。</block>
  <block id="d6d083d5841f364416a8961defc0958d" category="paragraph">如果选择了 * 启用 HTTP 连接 * 选项，则客户端对 HTTP 使用的端口必须与对 HTTPS 使用的端口不同。请参见有关管理 StorageGRID 的说明。</block>
  <block id="78d2fa2aca30b5e0b07f88f2a2e37d40" category="paragraph"><block ref="78d2fa2aca30b5e0b07f88f2a2e37d40" category="inline-xref-macro-rx"></block></block>
  <block id="bdd779290df8ca6dbacb02bf8b5ccd7f" category="section-title">S3 请求的端点域名</block>
  <block id="f16fda84be55b4cd4115cbca8a63b713" category="paragraph">在对客户端请求使用 S3 域名之前， StorageGRID 管理员必须将系统配置为接受在 S3 路径模式和 S3 虚拟托管模式请求中使用 S3 域名的连接。</block>
  <block id="efed4aac4b9874b4fd3e56412ae7a914" category="paragraph">要使用 S3 虚拟托管模式请求，网格管理员必须执行以下任务：</block>
  <block id="dab09a422026b94445484188460a866b" category="list-text">使用网格管理器将 S3 端点域名添加到 StorageGRID 系统。</block>
  <block id="f70e3e423a8c7ccedb57cd9e71e63c7c" category="list-text">确保客户端用于与 StorageGRID 的 HTTPS 连接的证书已针对客户端所需的所有域名进行签名。</block>
  <block id="a20a3191a5d621143f1e2ba1a45ea040" category="paragraph">例如，如果端点为 `s3.company.com` ，则网格管理员必须确保用于 HTTPS 连接的证书包含 `s3.company.com` 端点和端点的通配符使用者备用名称（ SAN ）： ` * .s3.company.com` 。</block>
  <block id="ef00db3e1e0274cf91fd6e0b62625467" category="list-text">配置客户端使用的 DNS 服务器，使其包含与端点域名匹配的 DNS 记录，包括任何所需的通配符记录。</block>
  <block id="9b958927627170de2a061926cbd5f886" category="paragraph">如果客户端使用负载平衡器服务进行连接，则网格管理员配置的证书是客户端使用的负载平衡器端点的证书。</block>
  <block id="1d65043cdb2676f7b5736aae9f5089f1" category="admonition">每个负载平衡器端点都有自己的证书，并且可以对每个端点进行配置以识别不同的端点域名。</block>
  <block id="e1b3e4d0d333c3876ebf66f7325d0c1d" category="paragraph">如果客户端连接到存储节点或网关节点上的 CLB 服务，则网格管理员配置的证书是用于网格的单个自定义服务器证书。</block>
  <block id="cdc66d4e8f32a07167a4d510cdae87e2" category="paragraph">有关详细信息，请参见有关管理 StorageGRID 的说明。</block>
  <block id="169d0268d8782b5a269aa0f51888e5f0" category="paragraph">完成这些步骤后，您可以使用虚拟托管模式请求（例如， `bucket.s3.company.com` ）。</block>
  <block id="7b1c040dc06ae1d3b90b3f37f13fadbf" category="inline-xref-macro">配置 REST API 的安全性</block>
  <block id="6a23019fa638cb954e7b180d006bcddc" category="paragraph"><block ref="6a23019fa638cb954e7b180d006bcddc" category="inline-xref-macro-rx"></block></block>
  <block id="b4f5e3433936c92629ae96e43f06d79c" category="section-title">测试 S3 REST API 配置</block>
  <block id="4c76596f9ef7fd3183ccc44362fe0d17" category="paragraph">您可以使用 Amazon Web Services 命令行界面（ AWS 命令行界面）测试与系统的连接，并验证是否可以向系统读取和写入对象。</block>
  <block id="ff47078779a34d10bbaf9d6a12e2bbc0" category="inline-link">aws.amazon.com/cli</block>
  <block id="de84263b3a280b23ce27c863a50a5fa5" category="list-text">您已从下载并安装 AWS 命令行界面<block ref="6253dd5f3eef2489e1348725763a03e6" category="inline-link-rx"></block>。</block>
  <block id="d43bd0f4f03d4484d8075974b6aaff44" category="list-text">您已在 StorageGRID 系统中创建 S3 租户帐户。</block>
  <block id="06981569669641fa97f5695e96ff3bcb" category="list-text">配置 Amazon Web Services 设置以使用您在 StorageGRID 系统中创建的帐户：</block>
  <block id="2b8ebbe9e2c818bef19af4ef1f597ef9" category="list-text">进入配置模式： `AWS configure`</block>
  <block id="9f120cfe24cc2a6e8d4b71ff546ff40d" category="list-text">输入您创建的帐户的 AWS 访问密钥 ID 。</block>
  <block id="18930afffa0e9cea25647a330c254bfa" category="list-text">输入您创建的帐户的 AWS 机密访问密钥。</block>
  <block id="bf13a47369c7b53448e0def46b5e3164" category="list-text">输入要使用的默认区域，例如 us-east-1 。</block>
  <block id="590f66c5004d213a1710e9b21c39814f" category="list-text">输入要使用的默认输出格式，或者按 * 输入 * 选择 JSON 。</block>
  <block id="ca37615b52044849b14669fb69d4465b" category="list-text">创建存储分段。</block>
  <block id="752044a1cc344178141086a49a185265" category="paragraph">如果已成功创建存储分段，则会返回存储分段的位置，如以下示例所示：</block>
  <block id="ea3fc85359b16a65c30b6839e3ed8b2d" category="list-text">上传对象。</block>
  <block id="e105f67866b653163eb7e8571d26ee12" category="paragraph">如果对象上传成功，则返回一个 Etag ，该 Etag 是对象数据的哈希。</block>
  <block id="1f433267fc776a108f00e9762e672f0f" category="list-text">列出存储分段的内容以验证是否已上传此对象。</block>
  <block id="2742b125101437915b418ce1ad6c19eb" category="list-text">删除对象。</block>
  <block id="a97221848bf2ca88cec9297a8a75ba6f" category="list-text">删除存储分段。</block>
  <block id="bdfba85e460ab58a6fdf82e2fa91159b" category="summary">StorageGRID 支持在 SELECT Object content 命令中使用以下 AWS S3 Select 子句，数据类型，运算符和保留关键字。</block>
  <block id="eae0c120c3af1699850a28dc5469d85a" category="inline-xref-macro">SelectObjectContent 命令</block>
  <block id="47cd18b57551ba86da9bace8a119f6d0" category="paragraph">StorageGRID 支持以下 AWS S3 Select 子句，数据类型和运算符 <block ref="bf477e18549dde550a82bdeb5cce2314" category="inline-xref-macro-rx"></block>。</block>
  <block id="3849740634ff204d71d6e9e2304a2bd8" category="admonition">不支持未列出的任何项目。</block>
  <block id="913a7bae7235e696e726d190f3ab7944" category="inline-link">适用于 S3 Select 的 AWS 文档</block>
  <block id="c19a31775ea5301b3c5d16745ae51c31" category="paragraph">有关语法，请参见 <block ref="a489a3b2630dd1d9c157533d187760ac" category="inline-xref-macro-rx"></block>。有关 S3 Select 的详细信息，请参见<block ref="61386519b834ae7ce7003b76f2ecca3f" category="inline-link-rx"></block>。</block>
  <block id="b611b597ad272976b23545dde5196e3e" category="inline-xref-macro">使用 S3 Select 的注意事项和要求</block>
  <block id="028ccb3f8779e28a17a36977440840dc" category="paragraph">只有启用了 S3 Select 的租户帐户才能进行问题描述 SelectObjectContent 查询。请参见 <block ref="79ab6ef8518f207b887c014b7fcf24db" category="inline-xref-macro-rx"></block>。</block>
  <block id="b5ba090b2157b78619f4945c75933db5" category="section-title">条款</block>
  <block id="2e3b53175a51a8f4de3d842cccdc1a1d" category="list-text">选择列表</block>
  <block id="b7d7c23e58f43dc15577067015e7a75c" category="list-text">from 子句</block>
  <block id="6f66e904877e1ae8cb9aa93a4420e219" category="list-text">Where 子句</block>
  <block id="a4aa24d45f7656e135d5debfc5754242" category="list-text">Limit 子句</block>
  <block id="c2d7863fca30ab6c7f7119bf757962dd" category="section-title">数据类型</block>
  <block id="c506ff134babdd6e68ab3e6350e95305" category="list-text">池</block>
  <block id="157db7df530023575515d366c9b672e8" category="list-text">整型</block>
  <block id="b45cffe084dd3d20d928bee85e7b0f21" category="list-text">string</block>
  <block id="546ade640b6edfbc8a086ef31347e768" category="list-text">浮点</block>
  <block id="ef4f2d8aacbfdcff79de3224ab4b2856" category="list-text">小数点，数字</block>
  <block id="d7e6d55ba379a13d08c25d15faf2a23b" category="list-text">timestamp</block>
  <block id="b3c5827f54218753bb2c3338236446c2" category="section-title">运算符</block>
  <block id="9d91ba2818309585f03920f1efa28392" category="section-title">逻辑运算符</block>
  <block id="558ffc8f5770d8e4f95f51d822685532" category="list-text">和</block>
  <block id="10df3d67626099df882920ba6552f16d" category="list-text">不是</block>
  <block id="1d00e7dce692e8dc3f6877f035e3a616" category="list-text">或</block>
  <block id="522bad3feb68644f35766607dbc9c358" category="section-title">比较运算符</block>
  <block id="524a50782178998021a88b8cd4c8dcd8" category="list-text">&lt;</block>
  <block id="cedf8da05466bb54708268b3c694a78f" category="list-text">&gt;</block>
  <block id="2a15942a285b2b1024a56ef4497446b0" category="list-text">&amp;lt ； =</block>
  <block id="0b21ffac8e67cb17df41b8c56c6d046d" category="list-text">&amp;gt ； =</block>
  <block id="43ec3e5dee6e706af7766fffea512721" category="list-text">=</block>
  <block id="38559c871fba28d992ead51549367f83" category="list-text">&lt;&gt;</block>
  <block id="de0219f9333d57ea89a9ba235df098ba" category="list-text">！ =</block>
  <block id="c1425a07f1a62b418d3e6017a523e4c1" category="list-text">介于之间</block>
  <block id="c86ee0d9d7ed3e7b4fdbf486fa6c0ebb" category="list-text">在中</block>
  <block id="25473d018490aef05d4d6727c24ee02d" category="section-title">模式匹配运算符</block>
  <block id="a7598964efa10e649f92662b79e8d4d3" category="list-text">例如</block>
  <block id="b14a7b8059d9c055954c92674ce60032" category="list-text">_</block>
  <block id="0bcef9c45bd8a48eda1b26eb0c61c869" category="list-text">%</block>
  <block id="037526e9ac1cebedee8d0c3ca16e5013" category="section-title">统一运算符</block>
  <block id="1e11b3ad3cc21547ccb3cfa0b492aa99" category="list-text">为空</block>
  <block id="1205232485cd8713da6b96cf46b291cf" category="list-text">不为空</block>
  <block id="2631066f30b45838b0495c2c9381c7cf" category="section-title">数学运算符</block>
  <block id="26b17225b626fb9238849fd60eabdf60" category="list-text">+</block>
  <block id="336d5ebc5436534e61d16e63ddfca327" category="list-text">-</block>
  <block id="3389dae361af79b04c9c8e7057f60cc6" category="list-text">*</block>
  <block id="6666cd76f96956469e7be39d750cc7d9" category="list-text">/</block>
  <block id="a3fdf0e30dce0ef1193ffa28072130b2" category="paragraph">StorageGRID 遵循 AWS S3 Select 运算符优先级。</block>
  <block id="6716dd17924fc5134af21f90d1f21d3e" category="section-title">聚合函数</block>
  <block id="97495462467b6481fb0ee3f5a629ac5a" category="list-text">平均（）</block>
  <block id="4545d195aeb9d4c678b64694894043a2" category="list-text">计数（ * ）</block>
  <block id="e69468e430ae947f1766f50ae5cf5032" category="list-text">最大值（）</block>
  <block id="19cee926dd4577c03ea0e7448dc8240e" category="list-text">最小值（）</block>
  <block id="d80362d7287763ec37b8f30659f23482" category="list-text">sum（ ）</block>
  <block id="08348a7e62016b4e2c14704c8a51370c" category="section-title">条件函数</block>
  <block id="bea5438a9521adc1b23a9117024bbb43" category="list-text">案例</block>
  <block id="b139deebcee4d159eb0f185ee4ae5f6c" category="list-text">合并</block>
  <block id="bf0600d48e9201fb22a93c42b6976e63" category="list-text">NULLIF</block>
  <block id="9c2e8a06d85d2c9b83b5a0d27e85d535" category="section-title">转换函数</block>
  <block id="e1517442240655f5fc8b8bd175623132" category="list-text">cast （用于受支持的数据类型）</block>
  <block id="822ca433ab6ce5c61723af0acac5e1c7" category="section-title">date 函数</block>
  <block id="5d445fa1e7499931b4cff3c66607f56f" category="list-text">日期添加</block>
  <block id="14ed43e270e39773b3f4039fdf4ef1d2" category="list-text">日期差异</block>
  <block id="06a05d6df9809ab85bf7734d9c49bc54" category="list-text">提取</block>
  <block id="7cddaf2cb00542826c57f3656e99b35d" category="list-text">to_string</block>
  <block id="a3951a1d0152b4aab6f367b5fe2a140d" category="list-text">to_timestamp</block>
  <block id="1e49669918debd2d44deed750571c270" category="list-text">UTCNOW</block>
  <block id="58ff628f0f7f1af4701d82fb04c81ea2" category="section-title">字符串函数</block>
  <block id="fe6793f820ee329160747c28c2d2199c" category="list-text">char_length ， character_length</block>
  <block id="a7c48ba367e019d004bfb0239b85f2b3" category="list-text">更低</block>
  <block id="a07774c4ba1e6908ad5aed2b17a03db5" category="list-text">子字符串</block>
  <block id="a32049f307ffa78cf7b4586ac7d98e06" category="list-text">剪切</block>
  <block id="9e43f5291e6fcb2ad99c8e3f91acd179" category="list-text">上限</block>
  <block id="3a5a19d55d871f580778e8f752a1577c" category="summary">您可以使用单独的 HTTP 连接池执行读写操作，并控制每个连接池要使用的池容量。通过单独的 HTTP 连接池，您可以更好地控制事务并平衡负载。</block>
  <block id="311ad1970523e305111ac20d175560c4" category="doc">为读取和写入操作分隔 HTTP 连接池</block>
  <block id="46b65717740d8c061e950f176f667a00" category="paragraph">客户端应用程序可以创建检索占主导地位（读取）或存储占主导地位（写入）的负载。由于读取和写入事务使用单独的 HTTP 连接池，因此您可以调整每个池中用于读取或写入事务的数量。</block>
  <block id="ace07bedd68fa1a5a95d6fed743673bc" category="summary">服务器端加密可用于保护空闲对象数据。StorageGRID 会在写入对象时对数据进行加密，并在您访问对象时对数据进行解密。</block>
  <block id="8bf318ad4a97582f294facd4e0fe397e" category="paragraph">如果要使用服务器端加密，可以根据加密密钥的管理方式从两个互斥选项中选择任一选项：</block>
  <block id="f00fc86eb07ae28c44638fbb16406d5c" category="list-text">*SSE （使用 StorageGRID 管理的密钥进行服务器端加密） * ：在问题描述 S3 请求以存储对象时， StorageGRID 会使用唯一密钥对对象进行加密。在问题描述 S3 请求以检索对象时， StorageGRID 会使用存储的密钥对对象进行解密。</block>
  <block id="84e6c9c38f2d9421d5ba946e14b433e9" category="list-text">* SSI-C （使用客户提供的密钥进行服务器端加密） * ：在问题描述 S3 请求以存储对象时，您可以提供自己的加密密钥。检索对象时，您可以在请求中提供相同的加密密钥。如果这两个加密密钥匹配，则会对对象进行解密，并返回您的对象数据。</block>
  <block id="62c59ef2e3b5de99282c01988af52440" category="paragraph">虽然 StorageGRID 负责管理所有对象加密和解密操作，但您必须管理提供的加密密钥。</block>
  <block id="14a77fbe2a34973391a44b97ea893853" category="admonition">您提供的加密密钥永远不会存储。如果丢失加密密钥，则会丢失相应的对象。</block>
  <block id="cb5bccc4fdf09926daccd73519d5aa81" category="admonition">如果使用 SSE 或 SSI-C 对对象进行加密，则会忽略任何分段级别或网格级别的加密设置。</block>
  <block id="d0839b9e2f6cfe92ab6d6d7a2674a9e6" category="section-title">使用 SS</block>
  <block id="fe61d480929799af5116611fceafdafc" category="paragraph">要使用 StorageGRID 管理的唯一密钥对对象进行加密，请使用以下请求标头：</block>
  <block id="496714810eec43882d9a0cda568b6571" category="paragraph">以下对象操作支持此命令头：</block>
  <block id="921505bbf9850ded74a860f65abc77be" category="section-title">使用 SSI-C</block>
  <block id="42864bda216a9bbc6c1c90c73955718d" category="paragraph">要使用您管理的唯一密钥对对象进行加密，请使用三个请求标头：</block>
  <block id="74f1ae050471669d379e403809b287b1" category="paragraph">`x-AMZ-server-side​ encryption​ -customer-运算 法则`</block>
  <block id="b6bee3824d0c20c167dd8a448274b61c" category="paragraph">指定加密算法。标题值必须为 `AES256` 。</block>
  <block id="c6e0a462d4e6baefaf426efba3da2320" category="paragraph">`x-AMZ-server-side​ encryption​ -customer-key`</block>
  <block id="f9e2e64a28e35aac5291ab778007e70c" category="paragraph">指定用于对对象进行加密或解密的加密密钥。密钥的值必须为 256 位 base64 编码。</block>
  <block id="7e095699aec124336a464f9426e92b7b" category="paragraph">`x-AMZ-server-side​ -m ü s-customer-key-md5 encryption​`</block>
  <block id="63594ef181febf9318c4fc7e7c843da9" category="paragraph">根据 RFC 1321 指定加密密钥的 MD5 摘要，用于确保加密密钥的传输没有错误。MD5 摘要的值必须为 base64 编码的 128 位。</block>
  <block id="25e24193d2ef85a88dcd7015f15fceb3" category="paragraph">以下对象操作支持 SSI-C 请求标头：</block>
  <block id="e3d83b842d25070743601d1731782027" category="section-title">将服务器端加密与客户提供的密钥（ SSI-C ）结合使用的注意事项</block>
  <block id="d9b962a876bf09a561ca1fe524618e12" category="paragraph">在使用 SSI-C 之前，请注意以下注意事项：</block>
  <block id="7f35eb9e96fb4f345bfdf088b713927e" category="list-text">必须使用 https 。</block>
  <block id="23bc39e969674b7e51ef37b4f05f047e" category="admonition">使用 SSI-C 时， StorageGRID 会拒绝通过 http 发出的任何请求出于安全考虑，您应考虑使用 http 意外发送的任何密钥受到损坏。丢弃该密钥，并根据需要旋转。</block>
  <block id="037d445a246dc6a532dae39bba904d11" category="list-text">响应中的 ETag 不是对象数据的 MD5 。</block>
  <block id="19a22727bef247850e2a620f17328b88" category="list-text">您必须管理加密密钥到对象的映射。StorageGRID 不存储加密密钥。您负责跟踪为每个对象提供的加密密钥。</block>
  <block id="e717eb4bb4290be3e38705e9e4d8c340" category="list-text">如果您的存储分段已启用版本控制，则每个对象版本都应具有自己的加密密钥。您负责跟踪每个对象版本使用的加密密钥。</block>
  <block id="9d0676e66e4bb76174083cf7f1699d31" category="list-text">由于您在客户端上管理加密密钥，因此您还必须在客户端上管理任何其他保护措施，例如密钥轮换。</block>
  <block id="1e8a52cb6f4905a31842c6e95a8c9377" category="list-text">如果为存储分段配置了 CloudMirror 复制，则无法载入 SSI-C 对象。载入操作将失败。</block>
  <block id="c2045720757891366dcf2568ff5ebd79" category="paragraph"><block ref="c2045720757891366dcf2568ff5ebd79" category="inline-xref-macro-rx"></block></block>
  <block id="36d52de85ed8cacf623f258fbd2310a1" category="paragraph"><block ref="36d52de85ed8cacf623f258fbd2310a1" category="inline-xref-macro-rx"></block></block>
  <block id="fc2f30db29349467e3c02a0f1d56442b" category="paragraph"><block ref="fc2f30db29349467e3c02a0f1d56442b" category="inline-xref-macro-rx"></block></block>
  <block id="f0b8dfb0e020dac47bf90cc10038e86a" category="inline-link">Amazon S3 开发人员指南：使用客户提供的加密密钥（ SSI-C ）使用服务器端加密保护数据</block>
  <block id="917d51eeaf1d4133c2c286de103d2280" category="paragraph"><block ref="917d51eeaf1d4133c2c286de103d2280" category="inline-link-rx"></block></block>
  <block id="0493253ffed9a6ac0ef6d3d97d75f56c" category="summary">本节介绍 StorageGRID 如何支持多部件上传操作。</block>
  <block id="1ee7f2325a1a65e249b7826cf1ae3fa2" category="doc">多部分上传操作</block>
  <block id="46c4147f9bd6e121f549cdd7c044a900" category="paragraph">以下条件和注释适用于所有多部件上传操作：</block>
  <block id="32ed4270d6370d9ce4ba94a1af49e388" category="list-text">一个存储分段的并发多部件上传数不应超过 1 ， 000 次，因为该存储分段的 List Multipart uploads 查询结果可能会返回不完整的结果。</block>
  <block id="84712f0e09e24f06c7ef6c60aea154e3" category="list-text">StorageGRID 对多部件部件强制实施 AWS 大小限制。S3 客户端必须遵循以下准则：</block>
  <block id="771b7a575d2f44eeb621541a5c05b632" category="list-text">多部分上传中的每个部分必须介于 5 MiB （ 5 ， 242 ， 880 字节）和 5 GiB （ 5 ， 368 ， 709 ， 120 字节）之间。</block>
  <block id="be0c79c72bc27f9c6da6427c093e9a30" category="list-text">最后一部分可以小于 5 MiB （ 5 ， 242 ， 880 字节）。</block>
  <block id="f9756b8ba016b66a6ae77ab3fa68c1d7" category="list-text">通常，部件大小应尽可能大。例如，对于 100 GiB 对象，请使用部件大小 5 GiB 。由于每个部件都被视为唯一对象，因此使用较大的部件大小可降低 StorageGRID 元数据开销。</block>
  <block id="973b0b0a1f0a79e6e74be3b40463badd" category="list-text">对于小于 5 GiB 的对象，请考虑使用非多部分上传。</block>
  <block id="00fce3a705ce642f89c8a3971efd6452" category="list-text">如果 ILM 规则使用严格或平衡的载入行为，则会在载入多部分对象时对其每个部分进行评估，并在多部分上传完成后对该对象作为一个整体进行评估。您应了解这会对对象和部件放置产生何种影响：</block>
  <block id="de11ad77c180c9c5e712a0f1b65b489b" category="list-text">如果在 S3 多部分上传过程中 ILM 发生更改，则在多部分上传完成后，对象的某些部分可能无法满足当前的 ILM 要求。任何放置不正确的部件都会排队等待 ILM 重新评估，并稍后移至正确的位置。</block>
  <block id="2615a5a91f0291abd3cdf6c0bcf0a361" category="list-text">在评估某个部件的 ILM 时， StorageGRID 会筛选该部件的大小，而不是对象的大小。这意味着，对象的某些部分可以存储在不满足整个对象的 ILM 要求的位置。例如，如果规则指定所有 10 GB 或更大的对象都存储在 DC1 中，而所有较小的对象存储在 DC2 中，则在载入时， 10 部分多部分上传的每个 1 GB 部分都存储在 DC2 中。在对对象整体进行 ILM 评估时，对象的所有部分都将移至 DC1 。</block>
  <block id="1a95ed09d257e42c55c46e762048c661" category="list-text">所有多部分上传操作均支持 StorageGRID 一致性控制。</block>
  <block id="534d9a093f83dca16ab356af59a92c75" category="list-text">您可以根据需要对多部分上传使用服务器端加密。要使用 SSE （服务器端加密与 StorageGRID 管理的密钥），请仅在启动多部件上传请求中包含 `x-AMZ-server-side encryption` request 标头。要对客户提供的密钥使用 SSI-C （服务器端加密），您可以在 " 启动多部件上传请求 " 和后续的每个 " 上传部件请求 " 中指定相同的三个加密密钥请求标头。</block>
  <block id="9d344fc766a13c94836a21a330eac8b3" category="paragraph">请参见 <block ref="55ea646de5eab97e42f9005f85197fc9" category="inline-xref-macro-rx"></block></block>
  <block id="f577cbbcd4b79f073e42da9fbbaba1ab" category="paragraph">请参见 <block ref="1ee23890e17d211dea91a2e55a579093" category="inline-xref-macro-rx"></block></block>
  <block id="2b8311082c0373c514a9c6d4da2fafa2" category="paragraph">请参见 <block ref="36d52de85ed8cacf623f258fbd2310a1" category="inline-xref-macro-rx"></block></block>
  <block id="c1edc60a75d08e2cc1c5ca358a721e19" category="paragraph">请参见 <block ref="fc2f30db29349467e3c02a0f1d56442b" category="inline-xref-macro-rx"></block></block>
  <block id="29c2fa8f17a3e99d02a8889570cce7c6" category="paragraph">请参见 <block ref="5107a507c5bd33ad5b4a1ab2731dafe3" category="inline-xref-macro-rx"></block></block>
  <block id="868c8d39d34add5aedf4dacdf022121b" category="paragraph">在所有 Amazon S3 REST API 行为下实施</block>
  <block id="59e0d65251b3a40266f21a5a55b9309b" category="paragraph">列出部件</block>
  <block id="a07ff88a71c76ff503235d28825e7d01" category="paragraph">要完成此操作，您拥有 S3 ： GetBucketCompliance 权限或帐户 root 。</block>
  <block id="916b70e64314496583a7598f54d7aa35" category="paragraph">通过此示例请求，您可以确定名为 `mybucket` 的存储分段的合规性设置。</block>
  <block id="39c767f868dc8d8580e52561db3d3bef" category="paragraph">在响应 XML 中， ` &lt;SGCompliance&gt;` 列出了对存储分段有效的合规性设置。此示例响应显示了一个存储分段的合规性设置，从将对象载入网格开始，每个对象将保留一年（ 525600 分钟）。此存储分段当前没有法律上的保留。每个对象将在一年后自动删除。</block>
  <block id="b39b81565ec8f838a2cb163e53d5a4a8" category="paragraph">如果未创建符合要求的存储分段，则响应的 HTTP 状态代码为 `404 Not Found` ， S3 错误代码为 `XNoSuchBucketCompliance` 。</block>
  <block id="815448e3a25422b616efa49187627191" category="summary">本节介绍 StorageGRID 系统如何对对象实施 S3 REST API 操作。</block>
  <block id="188f108cc28ab06dce82d554ff96ac30" category="paragraph">以下条件适用于所有对象操作：</block>
  <block id="d165e47e45637e22939128b506b3990a" category="inline-xref-macro">一致性控制</block>
  <block id="4cbace16d5956e5e1078b32699eb9488" category="list-text">StorageGRID <block ref="21b513766fbc2fae9fcdfdd332bc5785" category="inline-xref-macro-rx"></block> 支持对对象执行的所有操作，但以下操作除外：</block>
  <block id="c6f31562eb4262469218033217007ba4" category="list-text">`选项 /`</block>
  <block id="e3a6ba5907aabdfba4e2f8f1f0fd9a5f" category="list-text">冲突的客户端请求（例如，两个客户端写入同一密钥）将以 " 最新成功 " 为基础进行解决。" 最新赢单 " 评估的时间取决于 StorageGRID 系统何时完成给定请求，而不是 S3 客户端何时开始操作。</block>
  <block id="709435956694acae73706b60da92201c" category="list-text">StorageGRID 存储分段中的所有对象均归存储分段所有者所有，包括由匿名用户或其他帐户创建的对象。</block>
  <block id="18600e51ccac10062c53e339c28ab39b" category="list-text">无法通过 S3 访问通过 Swift 载入到 StorageGRID 系统的数据对象。</block>
  <block id="45a444c34900bd49a7fb2035596e27bd" category="paragraph">下表介绍了 StorageGRID 如何实施 S3 REST API 对象操作。</block>
  <block id="f32292810931c09bfcc08dd08b05f1e5" category="paragraph">不支持多因素身份验证（ Multi-Factor Authentication ， MFA ）和响应标头 `x-AMZ-MFA` 。</block>
  <block id="48916beb2903120069d1d22a03ed7701" category="paragraph">在处理删除对象请求时， StorageGRID 会尝试立即从所有存储位置删除此对象的所有副本。如果成功， StorageGRID 会立即向客户端返回响应。如果无法在 30 秒内删除所有副本（例如，由于某个位置暂时不可用），则 StorageGRID 会将这些副本排队等待删除，然后指示客户端成功删除。</block>
  <block id="48e1aae8612cb99e65083c01985e8866" category="paragraph">* 版本控制 *</block>
  <block id="49b4ba966228df1f3638a9356d154c32" category="paragraph">要删除特定版本，请求者必须是存储分段所有者，并使用 `veversionId` Subresource 。使用此子资源将永久删除此版本。如果 `veversionId` 对应于删除标记，则返回的响应标头 `x-AMZ-delete-marker` 将设置为 `true` 。</block>
  <block id="c0bf904b0886c9bf4d67980174758d46" category="list-text">如果在已启用版本的存储分段上删除不带 `veversionId` Subresource 的对象，则会生成删除标记。使用 `x-AMZ-version-id` 响应标头返回删除标记的 `veversionId` ，返回的 `x-AMZ-delete-marker` response 标头设置为 `true` 。</block>
  <block id="a344127755714501c17722ceb874c438" category="list-text">如果在版本暂停的分段上删除了不带 `veversionId` Subresource 的对象，则会永久删除已存在的 "null" 版本或 "null" 删除标记，并生成新的 "null" 删除标记。返回的 `x-AMZ-delete-marker` 响应标头设置为 `true` 。</block>
  <block id="8a3eef221cff3ef85e89e29e95295433" category="paragraph">* 注意 * ：在某些情况下，一个对象可能存在多个删除标记。</block>
  <block id="ad9d0dfedc88d61c7af92699a9783ef8" category="paragraph">可以在同一请求消息中删除多个对象。</block>
  <block id="1caecb759afe5015685f6914b07608f7" category="paragraph">使用 `tagging` Subresource 从对象中删除所有标记。在所有 Amazon S3 REST API 行为下实施。</block>
  <block id="d8b160148123286e0d973193111eca68" category="paragraph">如果未在此请求中指定 `veversionId` query 参数，则此操作将删除受版本控制的存储分段中最新版本对象的所有标记。如果对象的当前版本为删除标记，则返回 "n `MethodNotAllowed` " 状态，并将 `x-AMZ-delete-marker` response 标头设置为 `true` 。</block>
  <block id="8a56f6ff024fdad315b676cf57542d7f" category="paragraph">如果为帐户提供了必要的访问凭据，则此操作将返回肯定响应以及对象所有者的 ID ， DisplayName 和权限，指示所有者对对象具有完全访问权限。</block>
  <block id="f96955e3901f80cd7e76ccbf3752c9b6" category="paragraph">获取对象标记</block>
  <block id="f97d71eec7f45b09e737fa50e081ee74" category="paragraph">使用 `tagging` Subresource 返回对象的所有标记。在所有 Amazon S3 REST API 行为下实施</block>
  <block id="43bb7364dd25706cc6b4dda2318269dd" category="paragraph">如果在请求中未指定 `veversionId` query 参数，则此操作将返回受版本控制的存储分段中最新版本对象的所有标记。如果对象的当前版本为删除标记，则返回 "n `MethodNotAllowed` " 状态，并将 `x-AMZ-delete-marker` response 标头设置为 `true` 。</block>
  <block id="e16aba836e140d9138b1751a311aa3a8" category="paragraph">使用 `tagging` Subresource 向现有对象添加一组标记。在所有 Amazon S3 REST API 行为下实施</block>
  <block id="e40ae0d07c76dba43a86918ebd3b1c74" category="paragraph">* 对象标记限制 *</block>
  <block id="18edf17788c6e4bd8c33a7c47191afab" category="paragraph">* 标记更新和载入行为 *</block>
  <block id="82c011697c6e5a9728bb2d6da500bf68" category="paragraph">使用 PUT 对象标记更新对象的标记时， StorageGRID 不会重新载入对象。这意味着不会使用匹配 ILM 规则中指定的 " 载入行为 " 选项。通过正常后台 ILM 进程重新评估 ILM 时，更新触发的任何对象放置更改都会进行。</block>
  <block id="95ce11752181c0702bd6b6c58548773f" category="paragraph">* 解决冲突 *</block>
  <block id="8c0ceb6c5fb0d1fae65f47d13f0716b6" category="paragraph">如果在请求中未指定 `veversionId` query 参数，则该操作会向受版本控制的存储分段中的对象的最新版本添加标记。如果对象的当前版本为删除标记，则返回 "n `MethodNotAllowed` " 状态，并将 `x-AMZ-delete-marker` response 标头设置为 `true` 。</block>
  <block id="6ccbf2c2eb07fe327267744dc2699bb0" category="summary">一致性控制可以根据应用程序的要求，在对象的可用性与这些对象在不同存储节点和站点之间的一致性之间实现平衡。</block>
  <block id="b27a2e7bc43648227e11d73360d2a4a3" category="paragraph">默认情况下， StorageGRID 保证新创建的对象的写入后读一致性。成功完成 PUT 后的任何 GET 都将能够读取新写入的数据。对现有对象的覆盖，元数据更新和删除最终保持一致。覆盖通常需要几秒钟或几分钟才能传播，但可能需要长达 15 天的时间。</block>
  <block id="1bf749d3271d2fd88fe93bb2a10fccc0" category="paragraph">如果要在不同的一致性级别执行对象操作，可以为每个分段或每个 API 操作指定一致性控制。</block>
  <block id="d2b84f7ffaaaaf42fe7e888fdd4c514c" category="paragraph">一致性控制会影响 StorageGRID 用于跟踪对象的元数据在节点之间的分布方式，从而影响对象用于客户端请求的可用性。</block>
  <block id="bcec6afad7b6c471bc29c6f08772fa4c" category="paragraph">您可以将存储分段或 API 操作的一致性控制设置为以下值之一：</block>
  <block id="b9d1e7fdb137aa7e4aaf6b4ffeb79f1c" category="paragraph">* 注意： * 如果应用程序对不存在的对象使用 head 或 get 请求，则如果一个或多个存储节点不可用，您可能会收到大量 500 个内部服务器错误。要防止出现这些错误，请将一致性控制设置为 "`Available` " ，除非您需要类似于 Amazon S3 的一致性保证。</block>
  <block id="9e28431e7a4ae2dc02168a198e6e43b6" category="paragraph">可用（机头或 GET 操作的最终一致性）</block>
  <block id="de7586b1185000f4fb8ea3296f1a4596" category="paragraph">与 `read-after-new-write` 一致性级别相同，但可为 head 和 get 操作提供最终一致性。如果存储节点不可用，则与 " `read-after-new-write` " 相比，为机头和 GET 操作提供更高的可用性。与 Amazon S3 对机头和 GET 操作的一致性保证不同。</block>
  <block id="b1223260b20e5a02b2789304d438423c" category="section-title">使用 " 读后新写入 " 和 " 可用 " 一致性控制</block>
  <block id="a9cbbd803523203d05cf91977e087a94" category="paragraph">如果 head 或 get 操作使用 `read-after-new-write` 一致性控制，则 StorageGRID 将执行多个步骤的查找，如下所示：</block>
  <block id="37d6cbc758864ffc7e3686a0621e4ddf" category="list-text">它首先使用低一致性查找对象。</block>
  <block id="4c27518e467313ed7c375595d76adc59" category="list-text">如果该查找失败，它会在下一个一致性级别重复执行查找，直到达到最高一致性级别 "`All ，` " ，这要求对象元数据的所有副本都可用。</block>
  <block id="8b8d7e05cc1ed71446097481a13617c9" category="paragraph">如果 head 或 get 操作使用 `read-after-new-write` 一致性控制，但对象不存在，则对象查找将始终达到 "`all` " 一致性级别。由于此一致性级别要求对象元数据的所有副本均可用，因此，如果一个或多个存储节点不可用，您可能会收到大量 500 个内部服务器错误。</block>
  <block id="1e55a0329a3dd45475fbde203b7095d3" category="paragraph">除非您需要与 Amazon S3 类似的一致性保证，否则您可以通过将一致性控制设置为 "`Available" 来防止机头和 GET 操作出现这些错误。` 当机头或 GET 操作使用 "`Available` " 一致性控制时， StorageGRID 仅提供最终一致性。它不会重试失败的操作，直到达到 "`所有` " 一致性级别为止，因此它不要求对象元数据的所有副本都可用。</block>
  <block id="b9a2d829396cfadfdf0cafe70a665183" category="section-title">为 API 操作指定一致性控制</block>
  <block id="7b1bb9f95cc5641d9d85f70cc760ce81" category="paragraph">要为单个 API 操作设置一致性控制，此操作必须支持一致性控制，并且必须在请求标题中指定一致性控制。此示例将 GET 对象操作的一致性控制设置为 `strong-site` 。</block>
  <block id="52030c22a5c94a008e93e21866be878f" category="admonition">PUT 对象和 GET 对象操作必须使用相同的一致性控制。</block>
  <block id="c3ac50ef3d7e249e0aa4b67b4334f4ae" category="section-title">为存储分段指定一致性控制</block>
  <block id="49028d09d4d133b5abfa67e56b91243e" category="paragraph">要为存储分段设置一致性控制，您可以使用 StorageGRID PUT 存储分段一致性请求和 GET 存储分段一致性请求。或者，您也可以使用租户管理器或租户管理 API 。</block>
  <block id="40fe4217e82b60588965f81e57e85b60" category="paragraph">为存储分段设置一致性控制时，请注意以下事项：</block>
  <block id="63c6dfd0b9a3ad2d191e7063e6262d5b" category="list-text">设置存储分段的一致性控制可确定对存储分段中的对象或存储分段配置执行 S3 操作时使用的一致性控制。它不会影响存储分段本身的操作。</block>
  <block id="12563ee0b06506d60456f2624e46c6d8" category="list-text">单个 API 操作的一致性控制将覆盖存储分段的一致性控制。</block>
  <block id="f72b51a009004fb328c2c22697a08024" category="list-text">通常，存储分段应使用默认一致性控制 `read-after-new-write 。` 如果请求无法正常工作，请尽可能更改应用程序客户端的行为。或者，配置客户端以指定每个 API 请求的一致性控制。请仅作为最后一种方法在存储分段级别设置一致性控制。</block>
  <block id="39424d84c092cced49d656c5e00f5549" category="section-title">一致性控制和 ILM 规则如何交互以影响数据保护</block>
  <block id="85c5df3a0e3675eca9c6a5eee7a36f67" category="paragraph">您选择的一致性控制和 ILM 规则都会影响对象的保护方式。这些设置可以进行交互。</block>
  <block id="8692de8525e0b75ef3c291202fffff60" category="paragraph">例如，存储对象时使用的一致性控制会影响对象元数据的初始放置，而为 ILM 规则选择的载入行为会影响对象副本的初始放置。由于 StorageGRID 需要访问对象的元数据及其数据来满足客户端请求，因此为一致性级别和载入行为选择匹配的保护级别可以提供更好的初始数据保护和更可预测的系统响应。</block>
  <block id="e5806695e0e45836c5d557491b9b74c0" category="paragraph">ILM 规则可以使用以下载入行为：</block>
  <block id="186b808ba86edec21fefd860f7948ac7" category="list-text">* 严格 * ：必须创建 ILM 规则中指定的所有副本，才能将成功返回给客户端。</block>
  <block id="ebec92319e54bdc6e5576ca2075fb656" category="list-text">* 平衡 * ： StorageGRID 尝试在载入时创建 ILM 规则中指定的所有副本；如果无法创建，则创建临时副本并将成功返回给客户端。在可能的情况下，将创建 ILM 规则中指定的副本。</block>
  <block id="fd5c37cb183b7553e6945227d5db66f1" category="list-text">* 双提交 * ： StorageGRID 会立即为对象创建临时副本，并将成功返回给客户端。如果可能，将创建 ILM 规则中指定的副本。</block>
  <block id="33bb309fbae7e7b5dfa6aad99a28932a" category="admonition">在为 ILM 规则选择载入行为之前，请阅读有关通过信息生命周期管理管理对象的说明中有关这些设置的完整问题描述 。</block>
  <block id="d935cb15fc2a6c37bd7587ec8d73a7d2" category="section-title">一致性控制和 ILM 规则如何交互的示例</block>
  <block id="d53fab1ed917d1a2be376028f71b6590" category="paragraph">假设您有一个双站点网格，其中包含以下 ILM 规则和以下一致性级别设置：</block>
  <block id="8ea8c99870173bdbb6c7f009bcaced97" category="list-text">* ILM 规则 * ：创建两个对象副本，一个在本地站点，一个在远程站点。此时将选择严格的载入行为。</block>
  <block id="9d13539a4b27eba697ac7f3c8ad67c19" category="list-text">* 一致性级别 * ： `strong-global` （对象元数据会立即分发到所有站点。）</block>
  <block id="596ecff92e81841bc4f122ae01b94b92" category="paragraph">当客户端将对象存储到网格时， StorageGRID 会创建两个对象副本并将元数据分发到两个站点，然后再向客户端返回成功。</block>
  <block id="b6886ace18196c6b0b585c958683ae35" category="paragraph">在载入成功消息时，此对象将受到完全保护，不会丢失。例如，如果本地站点在载入后不久丢失，则远程站点上仍存在对象数据和对象元数据的副本。此对象完全可检索。</block>
  <block id="bbcec3cc0408fe74846c12e6b97b3118" category="paragraph">如果您改用相同的 ILM 规则和 `strong-site` 一致性级别，则在将对象数据复制到远程站点之后，在将对象元数据分发到该远程站点之前，客户端可能会收到一条成功消息。在这种情况下，对象元数据的保护级别与对象数据的保护级别不匹配。如果本地站点在载入后不久丢失，则对象元数据将丢失。无法检索此对象。</block>
  <block id="0a07437d631878389afe7d5c127581ba" category="paragraph">一致性级别和 ILM 规则之间的关系可能很复杂。如需帮助，请联系 NetApp 。</block>
  <block id="18088f624bdde36d736a832af2380e49" category="summary">您可以使用 S3 head Object 请求从对象检索元数据，而无需返回对象本身。</block>
  <block id="27d4e5f3301f0f53dbef45bfe6a8bb06" category="paragraph">您可以使用 S3 head Object 请求从对象检索元数据，而无需返回对象本身。如果对象存储在云存储池中，则可以使用 head 对象确定对象的过渡状态。</block>
  <block id="85ddcf4be4984ef97a383f64120dbed6" category="section-title">head 对象和多部分对象</block>
  <block id="c6004e0963b0ae1351234a61e091407d" category="paragraph">您可以使用 `partnumber` request 参数检索多部分或已分段对象的特定部分的元数据。`x-AMZ-MP-parts-count` 响应元素指示对象包含的部件数。</block>
  <block id="972bda0c820f0b8a9e889ab525a43676" category="paragraph">如果对象使用您提供的唯一密钥进行加密，请使用所有这三个标头。</block>
  <block id="d274deeb124189395b861ca533e5f4c5" category="paragraph">StorageGRID 不会解析或解释用户定义的元数据中的转义 UTF-8 字符。如果密钥名称或值包含不可打印的字符，则对用户定义的元数据中包含转义 UTF-8 字符的对象发出的 HEAD 请求不会返回 `x-AMZ-MISSING-meta` 标头。</block>
  <block id="f8dc89c9462e0cf69b2957c9fbcaa2cc" category="section-title">Cloud Storage Pool 对象的响应标头</block>
  <block id="15faa1c04634e63c9413829957998729" category="paragraph">如果对象存储在云存储池中（请参见有关通过信息生命周期管理来管理对象的说明），则返回以下响应标头：</block>
  <block id="2c1f913358820dc35209d64bf932adef" category="list-text">`X-AMZ-storage-class ： Glacier`</block>
  <block id="c2cb10c198f947e57e670850db85d30c" category="list-text">`x-AMZ-restore`</block>
  <block id="5c045933d3620bad259f112f4df52a27" category="paragraph">响应标头提供了有关对象移动到云存储池，可选择过渡到不可检索状态并已还原时的状态的信息。</block>
  <block id="29dbc62790a14be0b296eac205fe1cf2" category="cell">对 head 对象的响应</block>
  <block id="367ffa7f2a29c92348358b14155f109b" category="paragraph">`200 正常` （不返回任何特殊响应标头。）</block>
  <block id="859eaee342504c0c05984e91f057341a" category="paragraph">`x-AMZ-restore ： ongoing-request="false" ， expiry-date="Sat" ， 20 年 7 月 23 日 203000000000000000000000"`</block>
  <block id="14570ba45bcaa0cb737c5b54cb0586e7" category="paragraph">在将对象过渡到不可检索的状态之前， `expiry-date` 的值将设置为未来的某个远程时间。确切的过渡时间不受 StorageGRID 系统控制。</block>
  <block id="3b7abea43a93913a4f8b3cd8d6047ac5" category="paragraph">对象已过渡到不可检索状态，但网格上至少也存在一个副本</block>
  <block id="9a20e4e4d516e540f5e0ef7931387c5b" category="paragraph">`expiry-date` 的值将设置为未来的某个距离时间。</block>
  <block id="9e1668e99dc5f8848f97e87bf517f18b" category="paragraph">* 注意 * ：如果网格上的副本不可用（例如，存储节点已关闭），则必须先对后对象还原请求进行问题描述 处理，以便从云存储池还原此副本，然后才能成功检索此对象。</block>
  <block id="ac20f90a9630179994eda3c974506016" category="paragraph">对象已过渡到无法检索的状态，网格上不存在任何副本</block>
  <block id="050f78f7f54fbc79d94c019558a76f8f" category="paragraph">`x-AMZ-restore ： ongoing-request="true"`</block>
  <block id="896204ae12a6286255cf7c6b1d5b7ccf" category="paragraph">`x-AMZ-restore ： ongoing-request="false" ， expiry-date="Sat" ， 2018 年 7 月 23 日 00 ： 00 ： 00 GMT"`</block>
  <block id="c0118e300afde038abfcf497fd10b795" category="paragraph">`expiry-date` 指示何时将云存储池中的对象返回到不可检索的状态。</block>
  <block id="ff2dfb60715c6b815ad226aa0566ee76" category="section-title">云存储池中的多部分或分段对象</block>
  <block id="c0790292c7555fed8e1f975a8ded270f" category="paragraph">如果您上传的是多部分对象或 StorageGRID 将一个大型对象拆分为多个区块，则 StorageGRID 会通过取样该对象的部分或区块来确定该对象是否在云存储池中可用。在某些情况下，如果对象的某些部分已过渡到不可检索的状态或对象的某些部分尚未还原，则 HEAD 对象请求可能会错误地返回 `x-AMZ-restore ： ongoing-request="false"` 。</block>
  <block id="2f6216dcd781f1d18ac0ef847186d677" category="summary">获取有关新功能，已删除或已弃用功能，已修复问题和已知问题的特定版本信息。</block>
  <block id="22692fe4225d24b9cd73d216b984bd35" category="inline-link">查看或下载 PDF 文件</block>
  <block id="b6f2242dc3ac7b2b2a3ddd830eadbcb3" category="paragraph">登录到 NetApp 支持站点<block ref="9ef6d5b505c7b3f8cef72c0a9f516bf5" category="inline-link-rx"></block> 包含 StorageGRID 11.6 发行说明。</block>
  <block id="120685f9fde6bfeda84539091205a2b9" category="summary">您可以在此处找到先前版本的 NetApp StorageGRID 软件的文档。</block>
  <block id="942e673061194a11d436576b39bdde22" category="doc">早期版本的 NetApp StorageGRID 文档</block>
  <block id="bef0de3b189bdc7cef433adb2af474c1" category="paragraph">有关早期版本的 NetApp StorageGRID 软件的文档，请参见：</block>
  <block id="ae57c64e86bd5a8a8656087c29143e06" category="inline-link">StorageGRID 11.5 文档中心</block>
  <block id="1c4650f0e6648421c23bc60a62e26d48" category="list-text"><block ref="1c4650f0e6648421c23bc60a62e26d48" category="inline-link-rx"></block></block>
  <block id="50c142f8f9e19c4c84cb06dbc431b229" category="inline-link">StorageGRID 11.4 文档中心</block>
  <block id="71be9d9e0df7c2f5699834ae68011996" category="list-text"><block ref="71be9d9e0df7c2f5699834ae68011996" category="inline-link-rx"></block></block>
  <block id="bab03a68f7e57fdecf1481852ac62d80" category="inline-link">StorageGRID 11.3 文档中心</block>
  <block id="d2ca6fb14c69e8ac834f4f43b0f0e9d8" category="list-text"><block ref="d2ca6fb14c69e8ac834f4f43b0f0e9d8" category="inline-link-rx"></block></block>
  <block id="e58d2e166dc215d59ad9458a7cef9dc8" category="inline-link">StorageGRID 11.2 文档中心</block>
  <block id="dac584c7df1389d2899102bbaee99832" category="list-text"><block ref="dac584c7df1389d2899102bbaee99832" category="inline-link-rx"></block></block>
  <block id="09dc80d367188bf78eb3b41ac379e336" category="summary">当系统属性达到警报阈值时，系统会触发警报 \ （原有系统 \ ）。您可以从当前警报页面查看当前活动的警报。</block>
  <block id="5aa699a34967ddab8a7d8064c092741e" category="doc">查看旧警报</block>
  <block id="a7876ce8fa8cb03d606d438005e53269" category="paragraph">当系统属性达到警报阈值时，将触发警报（传统系统）。您可以从当前警报页面查看当前活动的警报。</block>
  <block id="1bb206aabc2d11e2d66d7257517f64e6" category="admonition">虽然传统警报系统仍受支持，但警报系统具有显著优势，并且更易于使用。</block>
  <block id="1b8901fb905209ef2e7f0a4b98be3a85" category="list-text">选择 * 支持 * &gt; * 警报（原有） * &gt; * 当前警报 * 。</block>
  <block id="66377f17594428cb4236216878d14024" category="image-alt">当前警报页面</block>
  <block id="18184ab0bcc36e0ef6205d4006d56a94" category="paragraph">警报图标指示每个警报的严重性，如下所示：</block>
  <block id="817434295a673aed431435658b65d9a7" category="cell">图标。</block>
  <block id="cb5feb1b7314637725a2e73bdc9f7295" category="cell">颜色</block>
  <block id="01a2daca351bee37aaa30381a2ef2b13" category="cell">警报严重性</block>
  <block id="7277de5f2ed6f17c61f1f25594591a82" category="cell">含义</block>
  <block id="b7bba4fa916f088a036ecdacf9b4d5b3" category="inline-image-macro">黄色方形图标</block>
  <block id="01a199327406045478fb755ae8f94654" category="paragraph"><block ref="01a199327406045478fb755ae8f94654" category="inline-image-macro-rx" type="image"></block></block>
  <block id="51e6cd92b6c45f9affdc158ecca2b8b8" category="paragraph">黄色</block>
  <block id="24efa7ee4511563b16144f39706d594f" category="paragraph">通知</block>
  <block id="fb3d353fdd808b4cfdee9338afb2aec7" category="paragraph">节点已连接到网格，但存在不影响正常操作的异常情况。</block>
  <block id="7d96e915eeef786be7040a0a16d27113" category="inline-image-macro">浅橙色钻石图标</block>
  <block id="acb2a37cdfd9a75002763aa32a7acac3" category="paragraph"><block ref="acb2a37cdfd9a75002763aa32a7acac3" category="inline-image-macro-rx" type="image"></block></block>
  <block id="6749df06fee080ffeef6999824a77b78" category="paragraph">浅橙色</block>
  <block id="6fed0c378a4b4e8c1e7dc5c16dabb388" category="paragraph">次要</block>
  <block id="88b7107b0984e324b4912f88a171d1f9" category="paragraph">节点已连接到网格，但存在异常情况，可能会影响未来的运行。您应进行调查以防止上报。</block>
  <block id="687ef463458c67c9b2ee286c54683e62" category="inline-image-macro">深橙色钻石图标</block>
  <block id="80261db048d16bcb9b65fde6bdf440bb" category="paragraph"><block ref="80261db048d16bcb9b65fde6bdf440bb" category="inline-image-macro-rx" type="image"></block></block>
  <block id="03fcfdc7ccf5b71ad4e205a562cbe277" category="paragraph">深橙色</block>
  <block id="3b329734e45b57e60f3df64c2cf412a9" category="paragraph">major</block>
  <block id="9e28d35946f999b96c88d6c64238d478" category="paragraph">节点已连接到网格，但存在当前影响操作的异常情况。这需要立即引起注意，以防止升级。</block>
  <block id="bdc6f5f1e9fa25c0c1aedf374b06f375" category="inline-image-macro">红色 x 图标</block>
  <block id="073719a3a8576cda99e97d487e181916" category="paragraph"><block ref="073719a3a8576cda99e97d487e181916" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ee38e4d5dd68c4e440825018d549cb47" category="paragraph">红色</block>
  <block id="278d01e5af56273bae1bb99a98b370cd" category="paragraph">严重</block>
  <block id="4cc482c83387835548fb9b694ac593bd" category="paragraph">节点已连接到网格，但存在已停止正常操作的异常情况。您应立即解决此问题描述 。</block>
  <block id="e4d2a9d4daea6a28de5618cc2aa136e5" category="list-text">要了解触发警报的属性，请右键单击表中的属性名称。</block>
  <block id="80991da28a7b7b3e39f1f1f309a0a7ee" category="list-text">要查看有关警报的其他详细信息，请单击表中的服务名称。</block>
  <block id="8ac01e9e8988f42614f050e9e4e918ab" category="paragraph">此时将显示选定服务的警报选项卡（ * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * &gt; * 网格节点 _* &gt; * 服务 _* &gt; * 警报 * ）。</block>
  <block id="380b215f9874991b155ffaf338d5d714" category="image-alt">警报确认</block>
  <block id="a682ada945b2302c1e37c2aa9b4c23e3" category="list-text">如果要清除当前警报计数，您可以选择执行以下操作：</block>
  <block id="a0800aed55a1bf192824302986bb1861" category="list-text">确认警报。已确认的警报将不再包含在原有警报计数中，除非它在下一严重性级别触发，或者已解决并再次发生。</block>
  <block id="cba413dabb6fff1d3e76b73e2d08360f" category="list-text">为整个系统禁用特定的默认警报或全局自定义警报，以防止再次触发该警报。</block>
  <block id="1a63166610bf1758162599d28be1ce3a" category="inline-xref-macro">警报参考（旧系统）</block>
  <block id="871cb8922f1855a3c8f0909484a4f7f5" category="paragraph"><block ref="871cb8922f1855a3c8f0909484a4f7f5" category="inline-xref-macro-rx"></block></block>
  <block id="e946cceee88ba77b6e82a9a1280c6e43" category="inline-xref-macro">确认当前警报（旧系统）</block>
  <block id="c0f026aea5df8f65e1ccf3574549e9a5" category="paragraph"><block ref="c0f026aea5df8f65e1ccf3574549e9a5" category="inline-xref-macro-rx"></block></block>
  <block id="c695cd3435549490993aa5fed180f5c5" category="inline-xref-macro">禁用警报（旧系统）</block>
  <block id="9b5e2812f8b9939395726a61365f8a15" category="paragraph"><block ref="9b5e2812f8b9939395726a61365f8a15" category="inline-xref-macro-rx"></block></block>
  <block id="45d3697445e5a78661a6aa61b2cf086d" category="summary">可能会找到并还原已触发 " 对象丢失（丢失） " 警报和 " 对象丢失 * " 警报且您已确定可能丢失的对象。</block>
  <block id="1e115b6197c23d357b8ab9a5e958ee12" category="doc">搜索并还原可能丢失的对象</block>
  <block id="e4c5e2b496804fdee61b86733d75e19d" category="list-text">您必须具有 "`调查丢失的对象 " 中标识的任何丢失对象的 UUID 。`</block>
  <block id="b81a3672290955228d7b668e2339e342" category="list-text">您必须具有 `passwords.txt` 文件。</block>
  <block id="4a191dbc00b73cb8174782b78bad399e" category="paragraph">您可以按照此操作步骤 在网格中其他位置查找丢失对象的复制副本。在大多数情况下，找不到丢失的对象。但是，在某些情况下，如果您立即采取措施，则可能能够找到并还原丢失的复制对象。</block>
  <block id="38b4286d66f0e8d8f18af4758b8c8c47" category="admonition">请联系技术支持以获得有关此操作步骤 的帮助。</block>
  <block id="47ee1ebf35c423b283c4bb80f8b514e9" category="list-text">在管理节点中，搜索审核日志以查找可能的对象位置：</block>
  <block id="7ab312ca5a1a861c068d26ddf35a51b5" category="list-text">输入以下命令： `ssh admin@grid_node_ip`</block>
  <block id="41363107dec264fd50cd549db26f312f" category="list-text">更改为审核日志所在的目录： `cd /var/local/audit/export/`</block>
  <block id="24ce9d210e31d1a52ce7ec11ca70ef97" category="list-text">使用 grep 提取与可能丢失的对象关联的审核消息并将其发送到输出文件。输入： `grep uuid-valueaudit_file_name &gt; output_file_name`</block>
  <block id="8a5de422d7c0ef16acdca149cb923f24" category="list-text">使用 grep 从此输出文件中提取丢失位置（ LLLST ）审核消息。输入： `grep LLST output_file_name`</block>
  <block id="19d89b6d1a8b6c8b2c324cadee7a4b7e" category="paragraph">LLST 审核消息类似于此示例消息。</block>
  <block id="6b979e28df686c1f1621dee6bb14241a" category="list-text">在 LLST 消息中找到 PCLD 字段和 NOID 字段。</block>
  <block id="bf7494401c0779aead14a59ed4ba0845" category="paragraph">如果存在，则 PCLD 的值为磁盘上缺少复制对象副本的完整路径。NOID 的值是可能找到对象副本的 LDR 的节点 ID 。</block>
  <block id="6bd346af68d26d29f597d360037b626f" category="paragraph">如果找到对象位置，您可能能够还原该对象。</block>
  <block id="6eddc0d945c04d37fe5f1918f0e576b3" category="list-text">找到此 LDR 节点 ID 的存储节点。</block>
  <block id="55955df1149e0fc74e969a13ff4cfcbf" category="paragraph">使用节点 ID 查找存储节点的方法有两种：</block>
  <block id="6dd528539a87280cee736cf6b3232c7f" category="list-text">在网格管理器中，选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 。 Data Center_* &gt; * 。 Storage Node_* &gt; * 。LDR 节点 ID 位于 Node Information 表中。查看每个存储节点的信息，直到找到托管此 LDR 的存储节点为止。</block>
  <block id="bbcfef344b3d58e5f1a2b3d4c773feb6" category="list-text">下载并解压缩网格的恢复软件包。该软件包中有一个 _\docs_ 目录。如果打开 index.html 文件， " 服务器摘要 " 将显示所有网格节点的所有节点 ID 。</block>
  <block id="f0e01190cf979d1a3fe84580bccfee7b" category="list-text">确定对象是否位于审核消息中指示的存储节点上：</block>
  <block id="1d49a98c612d1c0afd521ee6b67a0c9f" category="list-text">确定对象的文件路径是否存在。</block>
  <block id="3071d06467ca1cbe0cab90bb7e3102f5" category="paragraph">对于对象的文件路径，请使用 LLST 审核消息中的 PCLD 值。</block>
  <block id="829e891ec39e35ae6efff2e7440d83b0" category="paragraph">例如，输入：</block>
  <block id="99b3bb0082baec4d1b9047037fc0804b" category="paragraph">* 注 * ：在命令中，始终用单引号将对象文件路径括起来，以转义任何特殊字符。</block>
  <block id="6b5557edda9cb934f405a658ad2267ea" category="list-text">如果未找到对象路径，则此对象将丢失，无法使用此操作步骤 进行还原。请联系技术支持。</block>
  <block id="08e5758dd4e94502a4e4c7df9db3fcda" category="inline-xref">将对象还原到 StorageGRID</block>
  <block id="c291354039dce09edfe5c7a8f2d0cf57" category="list-text">如果找到对象路径，请继续执行步骤 <block ref="515dd0516ac6b5eb1a20f87eb5f9058f" category="inline-xref-macro-rx"></block>。您可以尝试将找到的对象还原回 StorageGRID 。</block>
  <block id="f40d10917b50b2794bc6bcfdee104f6d" category="list-text">【还原对象到 StorageGRID ， start=3]] 如果找到对象路径，请尝试将对象还原到 StorageGRID ：</block>
  <block id="43b8b44b0a967e1ef8de1e4c7a0c4a58" category="list-text">从同一个存储节点中，更改对象文件的所有权，以便可通过 StorageGRID 进行管理。输入： `chown LDR 用户： byncast 'file_path_of_object'`</block>
  <block id="029f1f03f531802e12c889c58c86e041" category="list-text">Telnet 到 localhost 1402 以访问 LDR 控制台。输入： `telnet 0 1402`</block>
  <block id="5c2bf56ce09e0189da43aa423d1b65c1" category="list-text">输入： `cd /proc/stor`</block>
  <block id="5236e3a4c0eedef26c66ffd03e9ca8a4" category="list-text">输入： `object_found 'file_path_of_object"`</block>
  <block id="1edcbd45c78b6f915331c0e51b004bdf" category="paragraph">发出 `objection\_found` 命令，向网格通知对象的位置。它还会触发活动的 ILM 策略，该策略会根据策略中的指定创建其他副本。</block>
  <block id="32bbe96dbaf0b67b519bb583dc32e8f2" category="paragraph">* 注 * ：如果发现对象所在的存储节点脱机，则可以将该对象复制到任何联机存储节点。将对象放置在联机存储节点的任何 /var/local/rangedb 目录中。然后，使用该对象的文件路径问题描述 `Object\\_found` 命令。</block>
  <block id="da26c345f3b30295c13c06d321774cf4" category="list-text">如果无法还原此对象，则 `Object\\_found` 命令将失败。请联系技术支持。</block>
  <block id="74b2a4f18ec50d59b4c342666267aed9" category="list-text">如果对象已成功还原到 StorageGRID ，则会显示一条成功消息。例如：</block>
  <block id="84d767beb08e6b280938827b932a2041" category="inline-xref">验证是否已创建新位置</block>
  <block id="dacc37ae6b124a1513fc3cec6037b37b" category="paragraph">继续执行步骤 <block ref="36b9eb1a157cb013404ec5e9755e9e7d" category="inline-xref-macro-rx"></block></block>
  <block id="90752b8f287d5ac96563266b1dd15880" category="list-text">如果对象已成功还原到 StorageGRID ，请验证是否已创建新位置。</block>
  <block id="a21c12321041845fd22741035df2afe7" category="list-text">输入： `cd /proc/obRP`</block>
  <block id="918e626a7b4e9743333b8856119b2778" category="list-text">输入： `ObjectByUUID UID_Value`</block>
  <block id="0a4e0e435647d78fb15141d95e799c1b" category="paragraph">以下示例显示 UUID 为 926026C4-00A4-449B-AC72-BCCA72DD1311 的对象有两个位置。</block>
  <block id="bd9030313aec873ab40cec55b0dd942c" category="list-text">从 LDR 控制台注销。输入： `exit`</block>
  <block id="717b01dfd653d64d8b949ecd5095a054" category="list-text">在管理节点中，搜索此对象的 ORLM 审核消息的审核日志，以确认信息生命周期管理（ ILM ）已根据需要放置副本。</block>
  <block id="3f6e1937eac2ad4a565b5cfe772503a2" category="list-text">使用 grep 将与对象关联的审核消息提取到输出文件中。输入： `grep uuid-valueaudit_file_name &gt; output_file_name`</block>
  <block id="030c09ad9ce2cbc0a6847037947df67f" category="list-text">使用 grep 从此输出文件中提取对象规则已满足（ ORLM ）审核消息。输入： `grep ORLM output_file_name`</block>
  <block id="fb06ac0d5af201f04a77deec57b3c78e" category="paragraph">ORLM 审核消息类似于此示例消息。</block>
  <block id="10784a9e63c9668b6810aadd098229ea" category="list-text">在审核消息中找到 LOC 字段。</block>
  <block id="d89bdf94a6228b4dc0f25be627335b42" category="paragraph">如果存在，则在 LOM 中的 CLDI 值为节点 ID 和创建对象副本的卷 ID 。此消息显示已应用 ILM ，并且已在网格中的两个位置创建两个对象副本。。在网格管理器中重置丢失对象的计数。</block>
  <block id="4371272a4c7d251cc1acd2090d6f4c7c" category="inline-xref-macro">调查丢失的对象</block>
  <block id="c4adb862c4fbf8be8b108043c4a5e546" category="paragraph"><block ref="c4adb862c4fbf8be8b108043c4a5e546" category="inline-xref-macro-rx"></block></block>
  <block id="a947211ca70400f9373bd721d0395462" category="inline-xref-macro">重置丢失和缺失的对象计数</block>
  <block id="4e2015d11c3cb5e6c86a80fde243ecb8" category="paragraph"><block ref="4e2015d11c3cb5e6c86a80fde243ecb8" category="inline-xref-macro-rx"></block></block>
  <block id="4d61456f678b938568aa10c4532bbfd6" category="summary">您可以更改默认或自定义警报规则的启用 / 禁用状态。</block>
  <block id="7287011b0207b3399c4af0d8d061534f" category="doc">禁用警报规则</block>
  <block id="935c6bcd71db45ae12a458f8b2cf5b77" category="list-text">您具有 " 管理警报 " 或 " 根访问 " 权限。</block>
  <block id="6e2381ef6b0831a0f43751ed56a5e75f" category="paragraph">禁用警报规则后，不会评估其表达式，也不会触发任何警报。</block>
  <block id="1161f825b4c539fb23b6a8c1659867c3" category="admonition">通常，不建议禁用默认警报规则。如果禁用了警报规则，则可能无法检测到潜在问题，直到它阻止完成关键操作为止。</block>
  <block id="58736d738b3092b3ffb655519abd9106" category="list-text">选择 * 警报 * &gt; * 规则 * 。</block>
  <block id="bfe2e644f7a2b28166502519e7eedaf0" category="paragraph">此时将显示 "Alert Rules" 页面。</block>
  <block id="ca131cdf981f29695461259d954b4ce3" category="list-text">选择要禁用或启用的警报规则对应的单选按钮。</block>
  <block id="a257789f57276c92e89671edcad3fb28" category="list-text">选择 * 编辑规则 * 。</block>
  <block id="4bd3cb0d62a812e1582f9de1bc2eb3db" category="paragraph">此时将显示编辑规则对话框。</block>
  <block id="742c89f76df1d7c824c0a17d5ecc5324" category="list-text">选中或取消选中 * 已启用 * 复选框以确定当前是否已启用此警报规则。</block>
  <block id="1938508c98ada580734a7b3582a2380e" category="paragraph">如果禁用了警报规则，则不会评估其表达式，也不会触发任何警报。</block>
  <block id="a1c3863511c3c3da962f9d94ace22505" category="admonition">如果您对当前警报禁用警报规则，则必须等待几分钟，以使警报不再显示为活动警报。</block>
  <block id="29d1aee0eb78c3b9d4c5a9364d4321ec" category="paragraph">* 已禁用 * 显示在 * 状态 * 列中。</block>
  <block id="2b2a369cb4e7a3c115393b04639747ae" category="summary">如果您需要比信息板提供的信息更详细的 StorageGRID 系统信息，则可以使用节点页面查看整个网格，网格中的每个站点以及站点上的每个节点的指标。</block>
  <block id="d48cb467bcfb7abfbb5fc9023d99daf3" category="doc">查看节点页面</block>
  <block id="3545a4638b4958ee926cba3996797443" category="image-alt">节点菜单</block>
  <block id="24e8ee5081b424bac24bb3afe36fb948" category="paragraph">节点表列出了 StorageGRID 系统中的所有站点和节点。系统将显示每个节点的摘要信息。如果节点具有活动警报，则节点名称旁边会显示一个图标。如果节点已连接且没有活动警报，则不会显示任何图标。</block>
  <block id="12569bde0e0cb1bdb9f9c88df5534540" category="section-title">连接状态图标</block>
  <block id="50b455cd9c1ffb05ec290c8cd9006c0d" category="inline-image-macro">蓝色问号图标</block>
  <block id="c257d8d7d0c38715ca7358bbe67497a2" category="list-text">* 未连接 - 未知 * <block ref="4bc258a3103ce1ac478adb3044bc2daa" category="inline-image-macro-rx" type="image"></block>：节点未连接到网格，原因未知。例如，节点之间的网络连接已断开或电源已关闭。此外，可能还会触发 * 无法与节点 * 通信 " 警报。其他警报可能也处于活动状态。这种情况需要立即引起关注。</block>
  <block id="85f208982bded155ee8d0364f910e45c" category="admonition">在受管关闭操作期间，节点可能会显示为未知。在这些情况下，您可以忽略未知状态。</block>
  <block id="fe2f8597160c7159b9a8aafc980194ab" category="inline-image-macro">灰色问号图标</block>
  <block id="8fb232d412945bc8cb4d36b386185554" category="list-text">* 未连接 - 已管理员关闭 * <block ref="25380ee7ab8b4c8df1434662b57f5ead" category="inline-image-macro-rx" type="image"></block>：由于预期原因，节点未连接到网格。例如，节点或节点上的服务已正常关闭，节点正在重新启动或软件正在升级。一个或多个警报可能也处于活动状态。</block>
  <block id="e5c3284be31bcd8b000ac7250560a51a" category="paragraph">如果节点与网格断开连接，则可能存在底层警报，但仅会显示 "`Not connected` " 图标。要查看节点的活动警报，请选择节点。</block>
  <block id="52bac7bdc99a2d0bc551660cdaa8d091" category="section-title">警报图标</block>
  <block id="4ef720991c0ad0a3844ae8fba425332f" category="paragraph">如果节点存在活动警报，则节点名称旁边会显示以下图标之一：</block>
  <block id="dbfc3504ad5dba49cf2f8cc086d358d7" category="inline-image-macro">图标警报红色严重</block>
  <block id="31dc0ff672fb233647e3d58ddfc3a1b8" category="list-text">* 严重 * <block ref="add37a8b1836869fa2f32e6210994c4a" category="inline-image-macro-rx" type="image"></block>：存在已停止 StorageGRID 节点或服务正常运行的异常情况。您必须立即解决底层问题描述 。如果未解决问题描述 ，可能会导致服务中断和数据丢失。</block>
  <block id="9f1fe54b5a85b8e976a61690a11f469d" category="inline-image-macro">图标警报橙色主要</block>
  <block id="bddee52b983a77a8193c03f4221b41b3" category="list-text">* 主要 * <block ref="dc3bc90d4845d312bdb01fdc51a5e011" category="inline-image-macro-rx" type="image"></block>：存在影响当前操作或接近严重警报阈值的异常情况。您应调查主要警报并解决任何根本问题，以确保异常情况不会停止 StorageGRID 节点或服务的正常运行。</block>
  <block id="87fcf5103de79ba9809361927a58d15f" category="inline-image-macro">图标警报黄色次要</block>
  <block id="3afb2bb1733ace68d894e06cb51a1764" category="list-text">* 次要 * <block ref="fe4a42b5b8d32a4627a8ec799c30fd51" category="inline-image-macro-rx" type="image"></block>：系统运行正常，但存在异常情况，如果系统继续运行，可能会影响系统的运行能力。您应监控和解决自身未清除的小警报，以确保它们不会导致更严重的问题。</block>
  <block id="492c1e38a5b8cfad631798e3b5f07a4a" category="section-title">查看系统，站点或节点的详细信息</block>
  <block id="31fe1bbadfb8bd37c919121614170ebe" category="paragraph">要查看可用信息，请按如下所示选择网格，站点或节点的名称：</block>
  <block id="e4f72ca332e9a5b9896b2ef737f18522" category="list-text">选择网格名称可查看整个 StorageGRID 系统统计信息的聚合摘要。</block>
  <block id="cfc676445c9c03ef3133aa680e7fed94" category="list-text">选择一个特定的数据中心站点，以查看该站点上所有节点的统计信息的聚合摘要。</block>
  <block id="8c87f454bbfa84fe1e5f2c0fad4b2f44" category="list-text">选择一个特定节点以查看该节点的详细信息。</block>
  <block id="cd1142b3d016122e4739859fe6796c6c" category="image-alt">节点页面网格级别</block>
  <block id="bbc01612e6b91194bec4b31ff23364de" category="summary">触发警报后，信息板上会显示一个警报图标。节点页面上还会显示节点的警报图标。除非警报已静音，否则也可能会发送电子邮件通知。</block>
  <block id="86edd9992482d90dc9602658990946cd" category="doc">查看当前警报</block>
  <block id="1a66dc61b384d5e2e3f7c23dc6fb7e73" category="inline-link">视频：警报概述</block>
  <block id="4ae98e5283f50a7a1973d327f0f055e2" category="list-text">您也可以观看以下视频：<block ref="b9310c1287ef1c07470398ab9995c21b" category="inline-link-rx"></block>。</block>
  <block id="b7af5d1ba11b896df56563aad37a2c4a" category="list-text">如果一个或多个警报处于活动状态，请执行以下操作之一：</block>
  <block id="e094e8af11257d94e43b8a4f8cbbc665" category="list-text">在信息板上的 " 运行状况 " 面板中，单击警报图标或单击 * 当前警报 * 。（只有当前至少有一个警报处于活动状态时，才会显示警报图标和 * 当前警报 * 链接。）</block>
  <block id="1174ff8bdead2921f19255be79e7d19c" category="list-text">选择 * 警报 * &gt; * 当前 * 。</block>
  <block id="45e56676075ae9d1e4e1866dedc2d0d3" category="paragraph">此时将显示当前警报页面。它会列出当前影响 StorageGRID 系统的所有警报。</block>
  <block id="e6f20d68c733116cc8186dbc749170cb" category="image-alt">当前警报页面</block>
  <block id="62854e37883746c7e51055d199473483" category="paragraph">默认情况下，警报显示如下：</block>
  <block id="dc2d95a758b5e228fc0ee345e2b65231" category="list-text">首先显示最近触发的警报。</block>
  <block id="ca2a850d01d6f29c4db7efda9f99000f" category="list-text">同一类型的多个警报显示为一个组。</block>
  <block id="e3a52526aa6e92c96877bab9061bfcf5" category="list-text">未显示已静音的警报。</block>
  <block id="e4f8180d6a34fdcf54bf659ba7ef4a0e" category="list-text">对于特定节点上的特定警报，如果达到阈值的严重性超过一个，则仅显示最严重的警报。也就是说，如果达到次要，主要和严重严重性的警报阈值，则仅显示严重警报。</block>
  <block id="742143c529246c2ef32171b20f5a3c54" category="paragraph">" 当前警报 " 页面每两分钟刷新一次。</block>
  <block id="06bfeebeeb63c95253438aaa947a9d5f" category="list-text">查看表中的信息。</block>
  <block id="46f0321cfffd0b1b6e884b1f022fbc59" category="cell">列标题</block>
  <block id="21d63154295d6d65b4689d8877097567" category="paragraph">警报及其问题描述 的名称。</block>
  <block id="007cc9547ae8884ad597cd92ba505422" category="paragraph">severity</block>
  <block id="feaa9e5dcf25a3b7831a1d8571e0590b" category="paragraph">警报的严重性。如果对多个警报进行了分组，则标题行将显示每个严重性发生的警报实例数。</block>
  <block id="5f728e7ac0f91a89d28bae1a63e11c36" category="paragraph">时间已触发</block>
  <block id="047e4bac0eec7fc44f8754ae1ba28950" category="paragraph">触发警报多长时间前。如果对多个警报进行了分组，则标题行将显示警报的最新实例（ _lates_ ）和最旧的警报实例（ _oldest_ ）的时间。</block>
  <block id="9b3bbdfd005eeedd4582ae095463d6df" category="paragraph">站点 / 节点</block>
  <block id="5aab2170401564682588ff04b3f4fc82" category="paragraph">发生警报的站点和节点的名称。如果对多个警报进行分组，则站点和节点名称不会显示在标题行中。</block>
  <block id="6148a30f61d8d95947143ffd24043c89" category="paragraph">警报处于活动状态还是已静音。如果对多个警报进行分组，并在下拉列表中选择了 * 所有警报 * ，则标题行将显示该警报处于活动状态的实例数以及已静音的实例数。</block>
  <block id="9b4282da44a7704c169cda62cb9e3ad1" category="paragraph">当前值</block>
  <block id="afd6887177bde178cc6a96e088cd1e97" category="paragraph">导致触发警报的指标的当前值。对于某些警报，还会显示其他值，以帮助您了解和调查此警报。例如，为 "* 对象数据存储空间不足 * " 警报显示的值包括已用磁盘空间百分比，磁盘空间总量和已用磁盘空间量。</block>
  <block id="ee64573b22064e579b34cdc57815bf43" category="paragraph">* 注： * 如果对多个警报进行分组，则当前值不会显示在标题行中。</block>
  <block id="798f00ff1869aa7684804769d692ae18" category="list-text">要扩展和折叠警报组，请执行以下操作：</block>
  <block id="e591dfca51455e02f40bd6de2aecfdf4" category="inline-image-macro">Down caret 图标</block>
  <block id="79bc93ccd1ea4b5aba90eb854145ba12" category="list-text">要显示组中的各个警报，请单击向下记号 <block ref="1a853eb26b586393b1013aad48bc9f10" category="inline-image-macro-rx" type="image"></block> 或单击组的名称。</block>
  <block id="643b067c1eaa39289b0571b92d44a7fc" category="inline-image-macro">UP caret 图标</block>
  <block id="d3c3d386cb81b0080dde2ead4b41b715" category="list-text">要隐藏组中的各个警报，请单击 UP caret <block ref="7227ef05007cdbaac2bfe6490b9901e1" category="inline-image-macro-rx" type="image"></block> 或单击组的名称。</block>
  <block id="5d82b331d1c5e720d60b0392945801c3" category="image-alt">警报页面已展开警报组</block>
  <block id="8e6c64606a93ca0d758bddd78c4d16c7" category="list-text">要显示单个警报而不是多组警报，请取消选中表顶部的 * 组警报 * 复选框。</block>
  <block id="8b89ab114822e9bc2f32f3a97271bea3" category="image-alt">组警报按钮</block>
  <block id="339556f423da0cfde13d076f810d1c08" category="inline-image-macro">排序箭头图标</block>
  <block id="0088ddb920d5759933af5528b02062df" category="list-text">要对警报或警报组进行排序，请单击向上 / 向下箭头 <block ref="69253343f61d2797f22f2847e7363e90" category="inline-image-macro-rx" type="image"></block> 在每个列标题中。</block>
  <block id="dc6f2398141f7fe8c59bbbeaa9521ba9" category="list-text">如果选择 * 组警报 * ，则会对每个组中的警报组和各个警报进行排序。例如，您可能希望按 * 时间触发 * 对组中的警报进行排序，以查找特定警报的最新实例。</block>
  <block id="841a743622c7a5a29176fb75b5254c05" category="list-text">取消选择 * 组警报 * 后，系统将对整个警报列表进行排序。例如，您可能希望按 * 节点 / 站点 * 对所有警报进行排序，以查看影响特定节点的所有警报。</block>
  <block id="0b1f8c7c5bf8461357804a5c9267e929" category="list-text">要按状态筛选警报，请使用表顶部的下拉菜单。</block>
  <block id="041714520a31a0712c27cbc1f204d9dd" category="image-alt">警报状态下拉列表</block>
  <block id="36615cd67c887a3dee0dacbb2f2c9237" category="list-text">选择 * 所有警报 * 可查看所有当前警报（活动警报和静音警报）。</block>
  <block id="fd8e5bce2a106ca7146ae452419a9645" category="list-text">选择 * 活动 * 可仅查看当前处于活动状态的警报。</block>
  <block id="34a667f063ad389f2171827b2654edd4" category="inline-xref-macro">静默警报通知</block>
  <block id="b92d9f983a36e9ab47e9f3df0da55c34" category="list-text">选择 * 已静音 * 可仅查看当前已静音的警报。请参见 <block ref="e6cde2278b5401ffc7334cb091703824" category="inline-xref-macro-rx"></block>。</block>
  <block id="ce35df372e659480e33c7fab3ff53f0b" category="list-text">要查看特定警报的详细信息，请从表中选择该警报。</block>
  <block id="8b9d2715b3e08b04e49e419dac027b50" category="inline-xref-macro">查看特定警报</block>
  <block id="002821daf9a130a710471423053795c0" category="paragraph">此时将显示警报对话框。请参见 <block ref="408815c387775b9d8d80803b98e9d4c7" category="inline-xref-macro-rx"></block>。</block>
  <block id="2972d2f548f885db72dee49f80564812" category="summary">如果在使用 StorageGRID 系统时遇到问题，请参阅本节中的提示和准则，以帮助确定和解决问题描述 。</block>
  <block id="85acfa26b13ac8e99bff064f02247c0f" category="doc">对 StorageGRID 系统进行故障排除</block>
  <block id="2462de1034c40de86ce74cf42c32b41d" category="section-title">问题确定概述</block>
  <block id="e39a8a430e44024f16888cc2b343379c" category="inline-xref-macro">管理 StorageGRID 系统</block>
  <block id="4bdc28f6fbd8dfa0ff0aef6c6ad41cca" category="paragraph">如果遇到问题，请执行此操作 <block ref="8c8c8bf578337a668dfbbe3927874012" category="inline-xref-macro-rx"></block>，您可以使用此图中概述的过程来识别和分析问题描述 。在许多情况下，您可以自行解决问题；但是，您可能需要将某些问题上报给技术支持。</block>
  <block id="fe929ad9a674a9d2425bff2ee84d6008" category="image-alt">显示问题确定操作步骤 中主要步骤的流程图</block>
  <block id="1933cfbd9fe6e37e9cefaab492b3f745" category="section-title">定义问题</block>
  <block id="94ccb8eeb6f339ff5bb07b014f511960" category="paragraph">解决问题的第一步是明确定义问题。</block>
  <block id="352ac6f8c0f6a9aab7d95ac7fbd1ee66" category="paragraph">下表提供了定义问题时可能收集的信息类型示例：</block>
  <block id="a97ea56b0e00b2379736ae60869ff66a" category="cell">问题</block>
  <block id="12f475c06a815cdd9492e49594e2118b" category="cell">响应示例</block>
  <block id="c32af7adeb78e7379e37f79605bbac7b" category="paragraph">StorageGRID 系统正在执行什么操作或不执行什么操作？其症状是什么？</block>
  <block id="2554ac54257195ad5f39b91e409bd915" category="paragraph">客户端应用程序报告无法将对象载入 StorageGRID 。</block>
  <block id="74b52fbccf3edeac96648f7d4c3a564e" category="paragraph">问题是从何时开始的？</block>
  <block id="9152856fab84b46f95370e283ac6cb28" category="paragraph">对象载入于 2020 年 1 月 8 日 14 ： 50 时被首次拒绝。</block>
  <block id="61ba03a16a2fc142cd7a589da0ac22e1" category="paragraph">您是如何首次注意到该问题的？</block>
  <block id="3627d263cd0561d4b8b0db24bfd10ba6" category="paragraph">客户端应用程序已通知。同时还收到警报电子邮件通知。</block>
  <block id="8e6cd2d8d45a8783d60c0b2307e7ff10" category="paragraph">问题是持续发生还是仅偶尔发生？</block>
  <block id="06bf0331787c0fffabc737ea365b442b" category="paragraph">问题仍在继续。</block>
  <block id="e552473adbe7ac3d5cd5f9ebd8d8ad8e" category="paragraph">如果此问题经常发生，则说明发生发生原因 的步骤是什么</block>
  <block id="e28cc5a7e65d2dc1338b03ffae25a22f" category="paragraph">每次客户端尝试载入对象时都会发生问题。</block>
  <block id="a9c48cdccdb5f9c7adcc3fe22b23112a" category="paragraph">如果此问题间歇性发生，何时发生？记录您所知的每个意外事件的时间。</block>
  <block id="160854f953a3b571cd24544ca56e1769" category="paragraph">问题不是间歇性的。</block>
  <block id="a702663fe316d9320d6be4614872d344" category="paragraph">您以前是否遇到过此问题？您过去遇到此问题的频率如何？</block>
  <block id="9c3ac4c8258e905311ecdf144caf02ed" category="paragraph">这是我第一次看到此问题描述 。</block>
  <block id="f28cbbf19abaca0c9958c90096c7efcf" category="section-title">评估风险和对系统的影响</block>
  <block id="02f979cc246122dd86a85a759cab7a52" category="paragraph">定义问题后，请评估其对 StorageGRID 系统的风险和影响。例如，存在严重警报并不一定意味着系统不提供核心服务。</block>
  <block id="c9061b9888f97593d3a97de11fddb91b" category="paragraph">下表总结了示例问题对系统操作的影响：</block>
  <block id="66e1c53d01f085aabd34bd6f2263e794" category="paragraph">StorageGRID 系统是否可以载入内容？</block>
  <block id="afbdc7d1d4cc69ba0ec07689bbe6e5a2" category="paragraph">客户端应用程序是否可以检索内容？</block>
  <block id="99744e360b86a2095f0cc12609627bff" category="paragraph">可以检索某些对象，而不能检索其他对象。</block>
  <block id="a94f95bad4f741bf728976e916b3bded" category="paragraph">数据是否存在风险？</block>
  <block id="bf17a3c42418f677a149bd8e4aea8061" category="paragraph">开展业务的能力是否受到严重影响？</block>
  <block id="1a1d1cb44e1d42cce5aaef3d3f7811ed" category="paragraph">可以，因为客户端应用程序无法将对象存储到 StorageGRID 系统，并且无法一致地检索数据。</block>
  <block id="b1276a02c4d5384a43102a10e316c36b" category="section-title">收集数据</block>
  <block id="f29d87dccabb04684ea3e34e42abe121" category="paragraph">定义问题并评估其风险和影响后，收集数据以供分析。最有用的数据类型取决于问题的性质。</block>
  <block id="0298bfb0b261e2347cbc0e7778c7eda7" category="cell">要收集的数据类型</block>
  <block id="ecf4647d07ee4c3feff53a2f5291cbd9" category="cell">为什么收集此数据</block>
  <block id="30a08f9dedb7be3241941b2c7634c765" category="paragraph">创建最近更改的时间线</block>
  <block id="89d11a47c8f52f3ca70de514c446d9ba" category="paragraph">对 StorageGRID 系统，其配置或环境进行更改可以发生原因 新行为。</block>
  <block id="c43ae27568a6db6e67e36881ad260d16" category="inline-xref">创建最近更改的时间线</block>
  <block id="525bb8c007b860d62bdfbd9f1c434c7b" category="list-text"><block ref="3092b7484ad480da52a26827fb9597f4" category="inline-xref-macro-rx"></block></block>
  <block id="f94eccddf0faae4eb407a33d494309ba" category="paragraph">查看警报和警报</block>
  <block id="17927c644d3ed96926e6694998c7a6d4" category="paragraph">警报和警报可通过提供有关可能导致问题的根本问题的重要线索，帮助您快速确定问题的根本发生原因 。</block>
  <block id="baa34dc3e705e98468075558325b4ad0" category="paragraph">查看当前警报和警报列表，查看 StorageGRID 是否已确定问题的根发生原因 。</block>
  <block id="303a89eaa3263179ee8d33805baf6db1" category="paragraph">查看过去触发的警报和警报，以获得更多见解。</block>
  <block id="6d42a920651ce9d167fe71c5f765aa45" category="list-text"><block ref="6d42a920651ce9d167fe71c5f765aa45" category="inline-xref-macro-rx"></block></block>
  <block id="c49139da843370c9ec00be476abba419" category="list-text"><block ref="c49139da843370c9ec00be476abba419" category="inline-xref-macro-rx"></block></block>
  <block id="8872159bb6fd2afb63f5375a59ea3593" category="inline-xref-macro">查看已解决的警报</block>
  <block id="b14e5b8f4480f33ce4a3821e6c76bfe4" category="list-text"><block ref="b14e5b8f4480f33ce4a3821e6c76bfe4" category="inline-xref-macro-rx"></block></block>
  <block id="0e1e9ffce4d4da2575c85ec33ab4a34a" category="inline-xref-macro">查看历史警报和警报频率（传统系统）</block>
  <block id="17df5bc7ee49997d2e4fa6422e5c1732" category="list-text"><block ref="17df5bc7ee49997d2e4fa6422e5c1732" category="inline-xref-macro-rx"></block></block>
  <block id="d2c8aace48f2a5605a1e1102d53bc870" category="paragraph">监控事件</block>
  <block id="5c387b817df6d1bb8b0439345bfea840" category="paragraph">事件包括节点的任何系统错误或故障事件，包括网络错误等错误。监控事件以了解有关问题的更多信息或帮助进行故障排除。</block>
  <block id="47de5b838894d6bbeebdb323aa382204" category="list-text"><block ref="47de5b838894d6bbeebdb323aa382204" category="inline-xref-macro-rx"></block></block>
  <block id="1d4e788c0d3d38c33fcdac9f60f6fa76" category="paragraph">使用图表和文本报告确定趋势</block>
  <block id="43baa2a55086a0070bbb36cc24335646" category="paragraph">趋势可以提供有关问题首次出现的宝贵线索，并有助于您了解事情发生的速度。</block>
  <block id="89e459af5b22cb0aea2e8e7ba5a91d39" category="inline-xref-macro">使用图表和图形</block>
  <block id="c4ad216539f73843b260e63947bf5bc7" category="list-text"><block ref="c4ad216539f73843b260e63947bf5bc7" category="inline-xref-macro-rx"></block></block>
  <block id="fdb85485837c229c09d89a36a0cb3191" category="inline-xref-macro">使用文本报告</block>
  <block id="38681a58b45a9503d5d29293254df60b" category="list-text"><block ref="38681a58b45a9503d5d29293254df60b" category="inline-xref-macro-rx"></block></block>
  <block id="312fe6d49b86a49b6a6a1a9dfbfebeef" category="paragraph">建立基线</block>
  <block id="faf0add8b2d2a69368011769da0b7340" category="paragraph">收集有关各种运行值的正常级别的信息。这些基线值以及与这些基线的偏差可以提供有价值的线索。</block>
  <block id="421095e8a809a911898040303c6ef7fd" category="list-text"><block ref="16cead2a3caf55e4ba574c6e29eacbd6" category="inline-xref-macro-rx"></block></block>
  <block id="a0680d746f763f01ebc940e15e168564" category="paragraph">执行载入和检索测试</block>
  <block id="4a565a51da12944c407a5993da7ce4da" category="paragraph">要解决载入和检索的性能问题，请使用工作站存储和检索对象。将结果与使用客户端应用程序时看到的结果进行比较。</block>
  <block id="b1f551db8ae653599dbba7c4db857307" category="inline-xref-macro">监控 PUT 和 GET 性能</block>
  <block id="70981527d233dd0f12574005261311f8" category="list-text"><block ref="70981527d233dd0f12574005261311f8" category="inline-xref-macro-rx"></block></block>
  <block id="9925d62f864d3d264b074627be9d10ce" category="paragraph">查看审核消息</block>
  <block id="2666451ceab6e9da7ce0a0672222e9a1" category="paragraph">查看审核消息以详细了解 StorageGRID 操作。审核消息中的详细信息对于排除包括性能问题在内的多种类型的问题非常有用。</block>
  <block id="b29c6c7f286d4213bb56835b2a281bc4" category="list-text"><block ref="b29c6c7f286d4213bb56835b2a281bc4" category="inline-xref-macro-rx"></block></block>
  <block id="88b4473b893a5101b14b633722a0eb56" category="paragraph">检查对象位置和存储完整性</block>
  <block id="2814ed96afa32d9279135f0b3ce74b40" category="paragraph">如果存在存储问题，请验证对象是否已放置在预期位置。检查存储节点上对象数据的完整性。</block>
  <block id="454ed16caec04f2d08102e26773e4bb8" category="inline-xref-macro">监控对象验证操作</block>
  <block id="f5ffb14f541cb87184fa224b13e1603b" category="list-text"><block ref="f5ffb14f541cb87184fa224b13e1603b" category="inline-xref-macro-rx"></block></block>
  <block id="e612366d4a61a0dfb26d320291aa46a0" category="inline-xref-macro">确认对象数据位置</block>
  <block id="045a65edd678ce3815edac296d95af8e" category="list-text"><block ref="045a65edd678ce3815edac296d95af8e" category="inline-xref-macro-rx"></block></block>
  <block id="5a6630a034e9641099902ae31f3ff4d9" category="list-text"><block ref="5a6630a034e9641099902ae31f3ff4d9" category="inline-xref-macro-rx"></block></block>
  <block id="468bb010592abcbeb3422c893c5018ef" category="paragraph">为技术支持收集数据</block>
  <block id="d5a1145f32ec31f1fc4ce94853102cca" category="paragraph">技术支持可能会要求您收集数据或查看特定信息，以帮助您解决问题。</block>
  <block id="fc82807fe992029ecf98f15b3d668d13" category="list-text"><block ref="fc82807fe992029ecf98f15b3d668d13" category="inline-xref-macro-rx"></block></block>
  <block id="df92af728022e74bd29fae2ae57dc70d" category="inline-xref-macro">手动触发 AutoSupport 消息</block>
  <block id="3a269c34f22afd397bcff894a51ab5fd" category="list-text"><block ref="3a269c34f22afd397bcff894a51ab5fd" category="inline-xref-macro-rx"></block></block>
  <block id="387ced50a075e006889f72a9c37fc538" category="list-text"><block ref="387ced50a075e006889f72a9c37fc538" category="inline-xref-macro-rx"></block></block>
  <block id="e122f6b165cdcc540df1af98a6e030c1" category="paragraph">出现问题时，您应考虑最近发生了哪些更改以及何时发生了这些更改。</block>
  <block id="aa5f32feea262a4c4c16feffa36a651e" category="list-text">更改时间线可以帮助您确定哪些更改可能会对问题描述 造成影响，以及每个更改可能会对其开发产生何种影响。</block>
  <block id="9f61dacef66ff59fba8003099ed1190b" category="paragraph">创建一个系统近期更改的表，其中包含有关每次更改发生时间的信息以及有关更改的任何相关详细信息，以及有关更改进行期间发生的其他情况的信息：</block>
  <block id="5ac4f2aacaef42298d465946b233a52d" category="cell">更改时间</block>
  <block id="79866858323688a22778f8bfbb85a321" category="cell">更改类型</block>
  <block id="39a76dd876c5304e210053a9baad5aef" category="list-text">您何时开始节点恢复？</block>
  <block id="21b8c71e7157bd63df86aff690fa2d48" category="list-text">软件升级何时完成？</block>
  <block id="aec9be3e4a289e7f0293ddf9df0d330b" category="list-text">您是否中断了此过程？</block>
  <block id="6ad15c21315c9cf06d0086c2be925ef3" category="paragraph">发生什么事了？您做了什么？</block>
  <block id="e951313ac8308b00392ff0707824aa67" category="paragraph">记录有关变更的任何相关详细信息。例如：</block>
  <block id="82fa90531037ae2b39ffa61e3605efa4" category="list-text">网络更改的详细信息。</block>
  <block id="5efc897432ed16ab2afa05895e4c7018" category="list-text">安装了哪个修补程序。</block>
  <block id="7f01663cbd88f93787038e7d5eeb4aa7" category="list-text">客户端工作负载如何更改。</block>
  <block id="a29b3ebb0bad3183c8ffc2188bfbfbfa" category="paragraph">请务必注意，如果同时发生多个更改。例如，是否在升级过程中进行了此更改？</block>
  <block id="a16e2b173a3d377057aae586b7fb8e56" category="section-title">近期重大变更的示例</block>
  <block id="fab72b33ce4fe500a62ddb2ea8521f29" category="paragraph">以下是一些可能会发生重大变化的示例：</block>
  <block id="d8dd558b36aaa86fc07bd310602f0633" category="list-text">StorageGRID 系统是最近安装，扩展还是恢复的？</block>
  <block id="cfe9e5e45540407c1869839a28d6e477" category="list-text">系统近期是否已升级？是否应用了修补程序？</block>
  <block id="7c4ad6c635de5fba188594f9ebdf2e80" category="list-text">最近是否修复或更改过任何硬件？</block>
  <block id="ffa70dab9e971468af0e760e6ac87e72" category="list-text">是否已更新 ILM 策略？</block>
  <block id="be7f9fb5ae06e61566f0f7378ae4190a" category="list-text">客户端工作负载是否已更改？</block>
  <block id="00c4b9171d685d1487658b69d72039ff" category="list-text">客户端应用程序或其行为是否发生变化？</block>
  <block id="e12e66e04e763a9589f7c537b8c57539" category="list-text">您是否更改了负载平衡器，添加或删除了管理节点或网关节点的高可用性组？</block>
  <block id="67414307d4086b2c088e208831db46b5" category="list-text">是否已启动可能需要很长时间才能完成的任务？示例包括：</block>
  <block id="ddc9cce86368566abe12cae89139414b" category="list-text">恢复发生故障的存储节点</block>
  <block id="3c5466732c205da383ffc82372a37ade" category="list-text">存储节点停用</block>
  <block id="602f0d092b31df3f243d6dde2e1e5010" category="list-text">是否对用户身份验证进行了任何更改，例如添加租户或更改 LDAP 配置？</block>
  <block id="60a38fc22ed19828412c8b1eb1942fad" category="list-text">是否正在进行数据迁移？</block>
  <block id="87636943c30fd4bb34a77ff9de724434" category="list-text">最近是否启用或更改了平台服务？</block>
  <block id="339b926d7bf5fd510366bbb2b3b629ce" category="list-text">最近是否启用了合规性？</block>
  <block id="2baccd2ba8f76f5bb114979485ba04a8" category="list-text">是否已添加或删除云存储池？</block>
  <block id="2bc723e8205fc2f3ddfe0ac4dd985fb5" category="list-text">是否对存储压缩或加密进行了任何更改？</block>
  <block id="22f7ef77119fe97a77a1acb72dc6cd65" category="list-text">网络基础架构是否有任何变化？例如， VLAN ，路由器或 DNS 。</block>
  <block id="a865576d0fc4f4d55012aba3dce9c309" category="list-text">是否对 NTP 源进行了任何更改？</block>
  <block id="88b479fc2fa35e3cb41ae23879fb5e9a" category="list-text">是否对网格，管理员或客户端网络接口进行了任何更改？</block>
  <block id="4b9c004d375080ff8edda6e2d5c97075" category="list-text">是否对归档节点进行了任何配置更改？</block>
  <block id="45958be6f08d0db2ac29cb412f4b1ea3" category="list-text">是否对 StorageGRID 系统或其环境进行了任何其他更改？</block>
  <block id="375b21f94535bda8bcebf643372f8c6a" category="paragraph">您可以通过记录各种运行值的正常级别来为系统建立基线。将来，您可以将当前值与这些基线进行比较，以帮助检测和解决异常值。</block>
  <block id="5ad234cb2cde4266195252a23ca7d84e" category="cell">属性</block>
  <block id="689202409e48743b914713f96d93947c" category="cell">价值</block>
  <block id="bdc6bf6194c5782ae0659e40f3830835" category="cell">如何获取</block>
  <block id="c9217858b1aa8d05aaeee0c262f5bb4d" category="paragraph">平均存储消耗</block>
  <block id="6bd167c4f39ea60b769b1daf38f99c06" category="paragraph">GB 已用 / 天</block>
  <block id="37bd713da391df0fa2703796421f40e3" category="paragraph">每日消耗百分比</block>
  <block id="18646671a405e8eab29afb8aab95265f" category="paragraph">转到网格管理器。在节点页面上，选择整个网格或站点，然后转到存储选项卡。</block>
  <block id="a17f4103ab519eafafe211a917802f86" category="paragraph">在 " 已用存储 - 对象数据 " 图表上，找到一个线相当稳定的句点。将光标悬停在图表上方可估计每天占用的存储空间量</block>
  <block id="5b06640243aa0994ec06f1cd2309714a" category="paragraph">您可以收集整个系统或特定数据中心的此信息。</block>
  <block id="add8025067ca003ad8381794cdf363da" category="paragraph">平均元数据消耗</block>
  <block id="db3a1653a0085cca6836d0c43f93015c" category="paragraph">在 " 已用存储 - 对象元数据 " 图表上，找到一个线相当稳定的句点。将光标悬停在图表上方，可估算每天占用的元数据存储量</block>
  <block id="79ab85bc206f0336c3ab74f3300fad06" category="paragraph">S3/Swift 操作速率</block>
  <block id="1676065ce7a1c55b0bbda3ad464bbdee" category="paragraph">操作数 / 秒</block>
  <block id="bc93868fea30074778b3358267c7f50c" category="paragraph">转到网格管理器中的信息板。在协议操作部分中，查看 S3 速率和 Swift 速率的值。</block>
  <block id="3d0cc045a0f3e1652650c2245abb7d67" category="paragraph">要查看特定站点或节点的载入率和检索率以及计数，请选择 * 节点 * &gt; * 站点或存储节点 _* &gt; * 对象 * 。将光标悬停在 Insest and retrieve 图表上，查看 S3 或 Swift 的图表。</block>
  <block id="772d2ad6c2811d76c43e43acc019aca2" category="paragraph">S3/Swift 操作失败</block>
  <block id="456d0deba6a86c9585590550c797502d" category="paragraph">操作</block>
  <block id="7c3ce103454202326e2c41388642a10e" category="paragraph">选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。在 API Operations 部分的 Overview 选项卡上，查看 S3 Operations - Failed 或 Swift Operations - Failed 的值。</block>
  <block id="1800c6a5b73ee4e436ad4790addadf44" category="paragraph">ILM 评估率</block>
  <block id="7ffe214dabbce818cbe1b79c7fe58077" category="paragraph">对象 / 秒</block>
  <block id="860620e44b6da6ef8696caaa1f235ede" category="paragraph">从节点页面中，选择 * ； grid_* &gt; * 。</block>
  <block id="2d0a8246d72373fe3aa551fd01f360bd" category="paragraph">在 ILM 队列图表中，找到线条相当稳定的句点。将光标悬停在图表上方可估算系统的 * 评估速率 * 基线值。</block>
  <block id="9425203869d2bc45978244e2e8c31222" category="paragraph">ILM 扫描速率</block>
  <block id="32fa74c560a52355de81cf70af7a8e36" category="paragraph">选择 * 节点 * &gt; * 网格 _* &gt; * ILM * 。</block>
  <block id="4ceafe5a4b2a666b554d32b5d6591ca2" category="paragraph">在 ILM 队列图表中，找到线条相当稳定的句点。将光标悬停在图表上方可估算系统的 * 扫描速率 * 基线值。</block>
  <block id="ac6fd46dc7b69067306d1c094a93ee8f" category="paragraph">从客户端操作排队的对象</block>
  <block id="82f147907b069f068615e3dc38d9b593" category="paragraph">在 ILM 队列图表中，找到线条相当稳定的句点。将光标悬停在图表上方，可估算系统中 * 已排队（从客户端操作） * 的对象的基线值。</block>
  <block id="85f35fd39704e588acd8b04f62f6b199" category="paragraph">平均查询延迟</block>
  <block id="38f246763036ccaeba7db6d563c4d821" category="paragraph">毫秒</block>
  <block id="8f0c19e5ca154b273e7c952447255cd0" category="paragraph">选择 * 节点 * &gt; * 存储节点 _* &gt; * 对象 * 。在查询表中，查看平均延迟的值。</block>
  <block id="18fc7c19e8ec29de336fd0886c78d685" category="section-title">分析数据</block>
  <block id="ca357e192cb2a3894503b9df578352a8" category="paragraph">使用您收集的信息确定问题的发生原因 以及可能的解决方案。</block>
  <block id="8f22fc38c69e49e9e7e8946718e90b44" category="paragraph">分析与问题‐相关，但一般而言：</block>
  <block id="423fb6c65207260e469c7d4ea3be63c0" category="list-text">使用警报查找故障点和瓶颈。</block>
  <block id="91dcb504cea68ee201b5f7a7588575d0" category="list-text">使用警报历史记录和图表重建问题历史记录。</block>
  <block id="3e20107e7397806fee57c4d8122fbec5" category="list-text">使用图表查找异常并将问题情况与正常运行进行比较。</block>
  <block id="773117be327b642ff5ea0d7b8eae6186" category="section-title">上报信息检查清单</block>
  <block id="dcd5583afb3e927ee83176ce78c93d3c" category="paragraph">如果您无法自行解决此问题，请联系技术支持。在联系技术支持之前，请收集下表中列出的信息，以便于解决问题。</block>
  <block id="ff037d7af5317204e45b5c03d9eab593" category="inline-image-macro">复选标记</block>
  <block id="f4e1d2557572eb712e031deff6fd202f" category="cell"><block ref="f4e1d2557572eb712e031deff6fd202f" category="inline-image-macro-rx" type="image"></block></block>
  <block id="76559210dfec4c6d868fff8fa04d41bd" category="cell">问题陈述</block>
  <block id="42d87860ad188dd26b1d26ff86387b76" category="paragraph">问题症状是什么？问题是从何时开始的？是否持续或间歇性发生？如果间歇性发生，发生过什么时间？</block>
  <block id="744a370f6b4a259fd35cbb2578b6daa5" category="paragraph"><block ref="744a370f6b4a259fd35cbb2578b6daa5" category="inline-xref-macro-rx"></block></block>
  <block id="e25d2762a0307fc21aa84fc1c4e8fbdc" category="cell">影响评估</block>
  <block id="0a165a056e5fa2d594a77e99558b2af6" category="paragraph">问题的严重性是什么？对客户端应用程序有何影响？</block>
  <block id="10cc29c22dd3d521c95c18985100aad5" category="list-text">客户端以前是否已成功连接？</block>
  <block id="1f02019f054617ff851f4859b459354b" category="list-text">客户端是否可以载入，检索和删除数据？</block>
  <block id="e74cc40656f1a6fd9850cde66590f234" category="cell">StorageGRID 系统 ID</block>
  <block id="f347506a11ccba9f47d2f58d0993577a" category="paragraph">选择 * 维护 * &gt; * 系统 * &gt; * 许可证 * 。StorageGRID 系统 ID 显示为当前许可证的一部分。</block>
  <block id="40ddf58fef213ff0d6433ef322edfe2e" category="cell">软件版本</block>
  <block id="603976aeba9bfdad981f52c1ffac942a" category="paragraph">从网格管理器顶部，选择帮助图标并选择 * 关于 * 以查看 StorageGRID 版本。</block>
  <block id="da22c93ccb398c72070f4000cc7b59a1" category="cell">自定义</block>
  <block id="b4abe4f02c27861f107bbe90bf79f337" category="paragraph">总结 StorageGRID 系统的配置方式。例如，列出以下内容：</block>
  <block id="0711ee3fdc865a4ecc2246bc2dff7e29" category="list-text">网格是否使用存储压缩，存储加密或合规性？</block>
  <block id="8191624b3d85d0f93a73a65645b052ec" category="list-text">ILM 是否会创建复制或擦除编码对象？ILM 是否可确保站点冗余？ILM 规则是否使用严格，平衡或双重提交载入行为？</block>
  <block id="2cfd7136ceb46ecee1eb36330d3485df" category="cell">日志文件和系统数据</block>
  <block id="31b4c20a98c853f7817cb8c1815cde6d" category="paragraph">收集系统的日志文件和系统数据。选择 * 支持 * &gt; * 工具 * &gt; * 日志 * 。</block>
  <block id="d9f05481551701bd5e2144333d57f71f" category="paragraph">您可以收集整个网格或选定节点的日志。</block>
  <block id="f8fd7ba4381511a93635d7aa9ca0e86b" category="paragraph">如果仅收集选定节点的日志，请确保至少包含一个具有此 ADA 服务的存储节点。（一个站点的前三个存储节点包含此 ADC-Service 。）</block>
  <block id="a1e581c3b69f6a41f7b075cd8275c503" category="cell">基线信息</block>
  <block id="9058aac0647871c5eafd3fbce4a946e6" category="paragraph">收集有关载入操作，检索操作和存储消耗的基线信息。</block>
  <block id="12302ed42d7300ed24100945d860164e" category="cell">最近更改的时间线</block>
  <block id="54a70cd052bd55727f712c0e4bd8f19a" category="paragraph">创建一个时间线，用于汇总系统或其环境的所有近期更改。</block>
  <block id="c8ef40ba9d1471750e439df3229d0d0c" category="cell">诊断问题描述 的工作历史记录</block>
  <block id="9869799edd50bb9cbcff04af225bc1d6" category="paragraph">如果您已自行采取步骤对问题描述 进行诊断或故障排除，请务必记录所采取的步骤和结果。</block>
  <block id="dd28033530de0c3ce903c4b923c24116" category="summary">您可以使用第三方软件日志对问题进行故障排除。</block>
  <block id="822e6de756a5594611c97abbca9e53da" category="doc">第三方软件的日志</block>
  <block id="34082694d21dbdcfc31e6e32d9fb2b9f" category="cell">文件名</block>
  <block id="aa4c122822556d73d93a11cd2c46bcd3" category="cell">在上找到</block>
  <block id="2fc383c67ed70aa7f93a5ece39b4abf0" category="paragraph">归档</block>
  <block id="428ddbb79abb2adb61690a614b1bd7fc" category="cell">/var/local/log/dsierror.log</block>
  <block id="37be3921ad9836579dd238760b5da327" category="paragraph">TSM 客户端 API 的错误信息。</block>
  <block id="62a004b95946bb97541afa471dcca73a" category="paragraph">MySQL</block>
  <block id="2b2153d1526c91f8c821e545eb2a9808" category="cell">/var/local/log/mysql.err /var/local/log/mysql-slow.log</block>
  <block id="809bbd03759a3ce505c291fa1afdab52" category="paragraph">MySQL 生成的日志文件。</block>
  <block id="f29da01a0d76952dac911cc3787d040f" category="paragraph">文件 `mysql.err` 可捕获数据库错误和事件，例如启动和关闭。</block>
  <block id="f20996ae1904d329db5aeeb7b2d1e6d7" category="paragraph">文件 `mysql-slow.log` （查询日志较慢）可捕获执行时间超过 10 秒的 SQL 语句。</block>
  <block id="696c660ff8d9323e55146a6dbd4e4088" category="paragraph">操作系统</block>
  <block id="471b6041c8a2dee6cbae79227f09eea1" category="cell">/var/local/log/messages</block>
  <block id="bd094615fb1a67d90d83001a44e9447a" category="paragraph">此目录包含操作系统的日志文件。这些日志中包含的错误也会显示在网格管理器中。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 拓扑 * &gt; * 站点 _* &gt; * 节点 _* &gt; * SSM* &gt; * 事件 * 。</block>
  <block id="3b6bf81452046f2d90a89c2c753a40af" category="cell">/var/local/log/ntp.log /var/lib/ntp/var/log/ntstats</block>
  <block id="a503a725c5950d2757ebb466d00135d6" category="paragraph">` /var/local/log/ntp.log` 包含 NTP 错误消息的日志文件。</block>
  <block id="e27bb40800a84406a67a0acd1f229e3c" category="paragraph">` /var/lib/ntp/var/log/ntpstats /` 目录包含 NTP 时间统计信息。</block>
  <block id="a7e83616ee884c111feaa034f97c3813" category="paragraph">`loopstats` 记录环路筛选器统计信息。</block>
  <block id="e6f3d48d6cffe3b2746c5e6747651cf1" category="paragraph">`peerstats` 记录对等统计信息。</block>
  <block id="bf1c0a9c5c7b160e40c9c9a2dc3e38bb" category="paragraph">SAMBA</block>
  <block id="fba7a68e06a905b44fc2077c59c3928d" category="cell">/var/local/log/samba/</block>
  <block id="af3fbad0263cfa351d353631191321c8" category="paragraph">Samba 日志目录包含每个 Samba 进程（ SMB ， nmb 和 winbind ）以及每个客户端主机名 /IP 的日志文件。</block>
  <block id="07d45fbb807f2b759145a059292685d2" category="paragraph">已配置管理节点，用于通过 CIFS 导出审核共享</block>
  <block id="aa4b91d0e1f59339e62b23c5743e234f" category="summary">在对问题描述 进行故障排除时，您可以与技术支持一起在 StorageGRID 系统上运行诊断并查看结果。</block>
  <block id="5a9efed957a764efe5954f9cb1a6df54" category="doc">Run diagnostics</block>
  <block id="84438ab87d36d665be2da1c05c2824fa" category="inline-xref-macro">常用的 Prometheus 指标</block>
  <block id="8bb214d9c614a788c1886aebe8cdaf8a" category="list-text"><block ref="8bb214d9c614a788c1886aebe8cdaf8a" category="inline-xref-macro-rx"></block></block>
  <block id="f8d02bee25f4a81af68f7bcff4452abd" category="paragraph">" 诊断 " 页面会对网格的当前状态执行一组诊断检查。每个诊断检查可以具有以下三种状态之一：</block>
  <block id="509f0faeab2ba0fe4a065185e15ee2c1" category="inline-image-macro">图标警报绿色复选标记</block>
  <block id="47b76d1e3c4a441192a6b268b7d58b86" category="list-text"><block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block> * 正常 * ：所有值均在正常范围内。</block>
  <block id="0fca4e5c70d305d78abefcb71c3a10eb" category="list-text"><block ref="fe4a42b5b8d32a4627a8ec799c30fd51" category="inline-image-macro-rx" type="image"></block> * 注意 * ：一个或多个值超出正常范围。</block>
  <block id="8b3b2a606b2d0e65270a3aa07bbf60f5" category="list-text"><block ref="add37a8b1836869fa2f32e6210994c4a" category="inline-image-macro-rx" type="image"></block> * 小心 * ：一个或多个值明显超出正常范围。</block>
  <block id="8023571261febed7f07fa45e3e15bc22" category="paragraph">诊断状态与当前警报无关，可能并不表示网格存在操作问题。例如，即使未触发任何警报，诊断检查也可能会显示 " 小心 " 状态。</block>
  <block id="a41e98b3cfbeb02bd109e310eb998217" category="list-text">选择 * 支持 * &gt; * 工具 * &gt; * 诊断 * 。</block>
  <block id="2cdcc8f35e5b1129dbc7f0e6dbdd09f0" category="paragraph">此时将显示 "Diagnostics " 页面，其中列出了每个诊断检查的结果。结果将按严重性（ " 小心 " ， " 注意 " 和 " 正常 " ）进行排序。在每个严重性范围内，结果按字母顺序排序。</block>
  <block id="6e097b14ce6a2811fe8dcf76f1987f72" category="paragraph">在此示例中，所有诊断均处于正常状态。</block>
  <block id="6a0103fedc90040661741499d5dfa69c" category="image-alt">支持诊断页面</block>
  <block id="b933d8cc8d3450d94335f1df5400b90c" category="list-text">要了解有关特定诊断的详细信息，请单击行中的任意位置。</block>
  <block id="716320288428afd4e527c63fd9d953fb" category="paragraph">此时将显示有关此诊断及其当前结果的详细信息。此时将列出以下详细信息：</block>
  <block id="e7a1fdea134daadcab2217a4f9245e4a" category="list-text">* 状态 * ：此诊断的当前状态：正常，注意或小心。</block>
  <block id="4b09e1ceac3c1c69b51c885c3c442730" category="list-text">* 项目查询 * ：如果用于诊断，则为用于生成状态值的 Prometheus 表达式。（并非所有诊断都使用 Prometheus 表达式。）</block>
  <block id="7cf678f56f3601a32a6b3e1db1c7c0b2" category="list-text">* 阈值 * ：如果可用于诊断，则为每个异常诊断状态提供系统定义的阈值。（并非所有诊断都使用阈值。）</block>
  <block id="d60ab4b135ef97b993f1bfd9698f2c0b" category="admonition">您不能更改这些阈值。</block>
  <block id="e17c1dbae9a9d549e5fae9c0d9946771" category="list-text">* 状态值 * ：显示整个 StorageGRID 系统中诊断的状态和值的表。在此示例中，显示了 StorageGRID 系统中每个节点的当前 CPU 利用率。所有节点值均低于警示和警示阈值，因此诊断的整体状态为正常。</block>
  <block id="9d4a528442d933c4d9ef2c6d2adf1852" category="image-alt">支持诊断 CPU 利用率</block>
  <block id="a705ed270c26f44b3962e469d9203e7b" category="list-text">* 可选 * ：要查看与此诊断相关的 Grafana 图表，请单击 * Grafana dashboard* 链接。</block>
  <block id="7d359ce40093e33bb6ab6c48d18fe86b" category="paragraph">并非所有诊断都显示此链接。</block>
  <block id="f72d5d611ce7e54e88c525aa1e55a119" category="paragraph">此时将显示相关的 Grafana 信息板。在此示例中，将显示节点信息板，其中显示了此节点的 CPU 利用率随时间变化以及此节点的其他 Grafana 图表。</block>
  <block id="a0dd56f6a065e303385719c038146aea" category="admonition">您也可以从 * 支持 * &gt; * 工具 * &gt; * 指标 * 页面的 Grafana 部分访问预构建的 Grafana 信息板。</block>
  <block id="8926e7a51ecf9d8e0b3e4331f8ddb7a1" category="image-alt">Grafana 信息板节点</block>
  <block id="7300d55799fbbbf25270d1bd0808701d" category="list-text">* 可选 * ：要查看一段时间内的 Prometheus 表达式图表，请单击 * 在 Prometheus* 中查看。</block>
  <block id="3bc784de090448b374fa60861f085029" category="paragraph">此时将显示诊断中使用的表达式的 Prometheus 图形。</block>
  <block id="67b2c6f5ff46400d509c79b5c6ed009e" category="image-alt">支持诊断程序页面</block>
  <block id="33274987503bb833653f58aae34fa5c9" category="summary">警报系统与传统警报系统之间存在许多相似之处，但警报系统具有显著优势，并且更易于使用。</block>
  <block id="db25147583680495852343690817ee17" category="doc">比较警报和警报</block>
  <block id="1f60ac0402a53c2d63fb3675dd9f260e" category="paragraph">请参见下表，了解如何执行类似操作。</block>
  <block id="df583ae7ba964fd4806b55904da81813" category="cell">警报</block>
  <block id="f4d943da0c9057bea51040433dedd48a" category="cell">警报（旧系统）</block>
  <block id="f33f6f80e0285e1c829dc48f45fea7c6" category="paragraph">如何查看哪些警报处于活动状态？</block>
  <block id="bf9e5cc4ce2774d486d110a7c351866f" category="list-text">选择信息板上的 * 当前警报 * 链接。</block>
  <block id="7a44996c99f194f8d7279c10b360c377" category="list-text">在 * 节点 * &gt; * 概述 * 页面上选择警报。</block>
  <block id="f51b77d8f42223552a6d21433f2391c6" category="inline-xref-macro">管理警报（旧系统）</block>
  <block id="a1217653a2b64001ba78949528a2863d" category="paragraph"><block ref="a1217653a2b64001ba78949528a2863d" category="inline-xref-macro-rx"></block></block>
  <block id="b06bea355186f90467315d3d0bdd4907" category="paragraph">触发警报或警报的原因是什么？</block>
  <block id="84202b8444ce5fb59ca9982d4a08ab94" category="paragraph">如果警报规则中的 Prometheus 表达式在特定触发条件和持续时间下评估为 true ，则会触发警报。</block>
  <block id="bc993956c060f0915d637aba118bd056" category="inline-xref-macro">查看警报规则</block>
  <block id="68ffe1c6713c7f062f99f12cf8078cf0" category="paragraph"><block ref="68ffe1c6713c7f062f99f12cf8078cf0" category="inline-xref-macro-rx"></block></block>
  <block id="c86b7f2197f3b0cec55ef08adcebc377" category="paragraph">当 StorageGRID 属性达到阈值时，将触发警报。</block>
  <block id="5970090cf1db9704ad2034bafea4149c" category="paragraph">如果触发警报或警报，如何解决根本问题？</block>
  <block id="dcde594427c6b1805e2bf903ad14f172" category="paragraph">电子邮件通知中包含警报的建议操作，您可以从网格管理器的警报页面中获取这些操作。</block>
  <block id="327fa486ee2a60beb216797d20fe0527" category="paragraph">StorageGRID 文档会根据需要提供追加信息 。</block>
  <block id="e57c041c201cd6f222e0a0442144f5ef" category="paragraph"><block ref="e57c041c201cd6f222e0a0442144f5ef" category="inline-xref-macro-rx"></block></block>
  <block id="42a920f2c09c95d99d0bfd031e3cefd5" category="paragraph">您可以通过选择属性名称来了解警报，也可以在 StorageGRID 文档中搜索警报代码。</block>
  <block id="80d938600072aa745a7940c92b816123" category="paragraph">在哪里可以看到已解决的警报或警报列表？</block>
  <block id="fbe3ed63542ff0ba9c07be2090f4f250" category="paragraph">选择 * 警报 * &gt; * 已解决 * 。</block>
  <block id="70c0d8ef8cc4e9fd6aefe8695b86ca94" category="paragraph">选择 * 支持 * &gt; * 警报（原有） * &gt; * 历史警报 * 。</block>
  <block id="c9a5fe7fd89a0f4da570db011971bbcd" category="paragraph">在何处管理设置？</block>
  <block id="685b0f2db45e4fc09a06ccb4695806de" category="inline-xref-macro">管理警报</block>
  <block id="0cf12483d54ac2a37a55c8a923e6eecf" category="paragraph"><block ref="0cf12483d54ac2a37a55c8a923e6eecf" category="inline-xref-macro-rx"></block></block>
  <block id="98a769e325043098ef7793dc98c8b69e" category="paragraph">选择 * 支持 * 。然后，使用菜单 * 警报（原有） * 部分中的选项。</block>
  <block id="c93341c61ccf8aaf8fc7486be4e106bc" category="paragraph">我需要哪些用户组权限？</block>
  <block id="8ae6b54da117b919964a920f30b1e65c" category="list-text">可以登录到网格管理器的任何人都可以查看当前警报和已解决警报。</block>
  <block id="8452cb3275dd79d6611da9fbf8ab9c42" category="list-text">您必须具有管理警报权限才能管理静音，警报通知和警报规则。</block>
  <block id="048793baa4448fc160d8ba2ab8f66551" category="list-text">可以登录到网格管理器的任何人都可以查看旧警报。</block>
  <block id="58adcdd9c915012b2d6e8a262a4581db" category="list-text">您必须具有确认警报权限才能确认警报。</block>
  <block id="ffb7586c3b80b730807d272b435ff685" category="list-text">要管理全局警报和电子邮件通知，您必须同时具有网格拓扑页面配置和其他网格配置权限。</block>
  <block id="46ff0517f1ff4e0d896b5344734bccba" category="paragraph">如何管理电子邮件通知？</block>
  <block id="8e2925e73ddaabfdf37f84bc33ea050f" category="paragraph">选择 * 警报 * &gt; * 电子邮件设置 * 。</block>
  <block id="17b75fe2c44a75df2c6db6cab8fb331b" category="paragraph">* 注意： * 由于警报和警报是独立的系统，因此用于警报和 AutoSupport 通知的电子邮件设置不用于警报通知。但是，您可以对所有通知使用同一邮件服务器。</block>
  <block id="c5030209cfc58608658690de3009cd4b" category="inline-xref-macro">为警报设置电子邮件通知</block>
  <block id="0fe0ff068bdb7b3e9e984a3092f3bfb4" category="paragraph"><block ref="0fe0ff068bdb7b3e9e984a3092f3bfb4" category="inline-xref-macro-rx"></block></block>
  <block id="ad2a5c23ecaad6b811036ec381de9178" category="paragraph">选择 * 支持 * &gt; * 警报（旧版） * &gt; * 旧版电子邮件设置 * 。</block>
  <block id="49593b70c541cf803b4a0e52e62a8d13" category="paragraph">如何管理 SNMP 通知？</block>
  <block id="9e5b0e22ebdc9428ec3fc7dbc2ad2754" category="paragraph">选择 * 配置 * &gt; * 监控 * &gt; * SNMP 代理 * 。</block>
  <block id="4c63b370eee8cf89ac91327dd2b2684d" category="inline-xref-macro">使用 SNMP 监控</block>
  <block id="5c0a1c5c1754700425aaed3898088f5c" category="paragraph"><block ref="5c0a1c5c1754700425aaed3898088f5c" category="inline-xref-macro-rx"></block></block>
  <block id="72e1b3242b27b0f5bfaf0a9209528e57" category="paragraph">* 注 * ：不会针对每个警报或警报严重性发送 SNMP 通知。</block>
  <block id="b958190063f1d24c72644bb5e3de3d5a" category="inline-xref-macro">生成 SNMP 通知的警报（旧系统）</block>
  <block id="2944118cc651b06a1f98e3feab5bc9e8" category="paragraph"><block ref="2944118cc651b06a1f98e3feab5bc9e8" category="inline-xref-macro-rx"></block></block>
  <block id="40fba184f3b463dfcb621f98765ac05e" category="paragraph">如何控制谁接收通知？</block>
  <block id="eba1f5bb1ce7f6fda1b567ccdc69951d" category="list-text">在 * 收件人 * 部分中，为每个电子邮件列表或发生警报时应接收电子邮件的人员输入一个电子邮件地址。</block>
  <block id="e76f81b0b65906a49912ae7f1e817858" category="list-text">创建邮件列表。</block>
  <block id="3d5865aef56b4e88c7ef56e013ca9654" category="list-text">选择 * 通知 * 。</block>
  <block id="22afc83b47d8c0d3ed155dbd5a74104a" category="list-text">选择邮件列表。</block>
  <block id="55ac3639dfef345c35cd41afff9d69d1" category="paragraph">哪些管理节点会发送通知？</block>
  <block id="971f9061db43431caa20a08b8fbe3f95" category="paragraph">一个管理节点（ "`preferred sender"` ）。</block>
  <block id="d113c9a4252ebe6275d71159f40af61c" category="paragraph">如何禁止某些通知？</block>
  <block id="e8c470304d0e7fbd28e032e01c90fca5" category="list-text">选择 * 警报 * &gt; * 静音 * 。</block>
  <block id="f946313d19dca024722fa7ba880ea149" category="list-text">选择要静默的警报规则。</block>
  <block id="b8e1933b34c03b324deee083a4f385f2" category="list-text">指定静默的持续时间。</block>
  <block id="06a66946b8dff97f324cb7d3c8af4369" category="list-text">选择要静默的警报的严重性。</block>
  <block id="6a507fd57917a3254349700bb267d34c" category="list-text">选择可对整个网格，单个站点或单个节点应用静默。</block>
  <block id="c227c662b92523dcfb20411dff92e738" category="paragraph">* 注 * ：如果已启用 SNMP 代理，则 Silences 还会禁止 SNMP 陷阱并通知。</block>
  <block id="e6cde2278b5401ffc7334cb091703824" category="paragraph"><block ref="e6cde2278b5401ffc7334cb091703824" category="inline-xref-macro-rx"></block></block>
  <block id="1dc95154d77747fe24e276ccdaa98800" category="list-text">选择一个邮件列表，然后选择 * 禁止 * 。</block>
  <block id="b97382f04aa0a517a73ca82a6c7901cc" category="paragraph">如何禁止所有通知？</block>
  <block id="d613b42c5cddb541694a701b040c0483" category="paragraph">选择 * 警报 * &gt; * 静音 * 。然后选择 * 所有规则 * 。</block>
  <block id="eb756cfcdf0bcbb46781395d213e261b" category="list-text">选择 * 配置 * &gt; * 系统 * &gt; * 显示选项 * 。</block>
  <block id="e09dc832bb029405170350a995d21b72" category="list-text">选中 * 通知禁止全部 * 复选框。</block>
  <block id="04af679e35d40c0ff5b741af0876c2a1" category="paragraph">* 注 * ：在系统范围内禁止电子邮件通知还会禁止事件触发的 AutoSupport 电子邮件。</block>
  <block id="83df9abcfc590c43052931cc445ff66c" category="paragraph">如何自定义条件和触发器？</block>
  <block id="ce9daabb11cb1f20d70e3e5dbfa49c20" category="list-text">选择要编辑的默认规则，或者选择 * 创建自定义规则 * 。</block>
  <block id="d7eab5a2c51e4b2287fc3e2919054825" category="inline-xref-macro">编辑警报规则</block>
  <block id="c7ce49231933bf088c5c158e26c6e8d6" category="paragraph"><block ref="c7ce49231933bf088c5c158e26c6e8d6" category="inline-xref-macro-rx"></block></block>
  <block id="16c82cc8bd021fd0190e13aded9080e2" category="inline-xref-macro">创建自定义警报规则</block>
  <block id="1f9b4c77891ef678a7c7d9ef2b17c351" category="paragraph"><block ref="1f9b4c77891ef678a7c7d9ef2b17c351" category="inline-xref-macro-rx"></block></block>
  <block id="df237e98144b3159f622289fcb291cd7" category="list-text">选择 * 支持 * &gt; * 警报（原有） * &gt; * 全局警报 * 。</block>
  <block id="cf752a77003ccc8e38ada1e7d0b97cbe" category="list-text">创建全局自定义警报以覆盖默认警报或监控没有默认警报的属性。</block>
  <block id="9b2492a5b87554c2b2dbcb64e5d1612c" category="paragraph">如何禁用单个警报？</block>
  <block id="2f3101b0ac04279eb12be8356e952a13" category="list-text">选择规则，然后选择 * 编辑规则 * 。</block>
  <block id="c7cd23fee6720c4b8482bcf82c4e0f7a" category="list-text">取消选中 * 已启用 * 复选框。</block>
  <block id="cf34702bd854ac5021a59f25b845d495" category="paragraph"><block ref="cf34702bd854ac5021a59f25b845d495" category="inline-xref-macro-rx"></block></block>
  <block id="fe2b2c1c996a8d7a3c290ee73d9cf1a9" category="list-text">选择规则，然后选择编辑图标。</block>
  <block id="b214dd680817874f8e9dc4e8db84a1d5" category="summary">概述选项卡提供了有关每个节点的基本信息。此外，它还会显示当前影响节点的任何警报。</block>
  <block id="1eece74b53507cd76c3b1a95f2838aaf" category="doc">查看概述选项卡</block>
  <block id="77135d897abd52a2947dfaa85f8ddd0f" category="paragraph">此时将显示所有节点的概述选项卡。</block>
  <block id="4c132d9b5d492a53bf35f79ed4a36ea0" category="section-title">节点信息</block>
  <block id="45da164dd239b9c60213c5aca9ba31be" category="paragraph">概述选项卡的节点信息部分列出了有关网格节点的基本信息。</block>
  <block id="7e4fd23fdebad3cf8f96c06b1780544f" category="image-alt">节点页面概述选项卡</block>
  <block id="a83beaa02f6e2b64b601cf3664642ebf" category="paragraph">节点的概述信息包括：</block>
  <block id="162eb347289034eb7f58aca43afbdfba" category="list-text">* 名称 * ：分配给节点并显示在网格管理器中的主机名。</block>
  <block id="04d73ca0104605059f36bc30a93d88b0" category="list-text">* 类型 * ：节点的类型—管理节点，主管理节点，存储节点，网关节点或归档节点。</block>
  <block id="a8412fad550d612fc754d775edca0967" category="list-text">* ID * ：节点的唯一标识符，也称为 UUID 。</block>
  <block id="09a773ec2caae6e66cd881b1e1281534" category="list-text">* 连接状态 * ：三种状态之一。此时将显示最严重状态的图标。</block>
  <block id="a5ca7bf601107f7c0497f760eb8b9a16" category="list-text">* 未知 * <block ref="4bc258a3103ce1ac478adb3044bc2daa" category="inline-image-macro-rx" type="image"></block>：节点未连接到网格，原因未知。例如，节点之间的网络连接已断开或电源已关闭。此外，可能还会触发 * 无法与节点 * 通信 " 警报。其他警报可能也处于活动状态。这种情况需要立即引起关注。</block>
  <block id="bc734fb30dd8c3f2d03dd9cc6fad8e95" category="list-text">* 已管理员关闭 * <block ref="25380ee7ab8b4c8df1434662b57f5ead" category="inline-image-macro-rx" type="image"></block>：由于预期原因，节点未连接到网格。例如，节点或节点上的服务已正常关闭，节点正在重新启动或软件正在升级。一个或多个警报可能也处于活动状态。</block>
  <block id="89bc6128e66677649151ee5d321134fd" category="inline-image-macro">图标警报绿色复选标记</block>
  <block id="910ecee455dc76dd5f77cfdbfcf623b4" category="list-text">* 已连接 * <block ref="289eb15a7e4fb09cc69c35e741336fc7" category="inline-image-macro-rx" type="image"></block>：节点已连接到网格。</block>
  <block id="d27d46b84c79690a06eb4f4dd1e41c37" category="list-text">* 已用存储 * ：仅适用于存储节点。</block>
  <block id="7d118e1d7441a8c358e3b5a88043221c" category="list-text">* 对象数据 * ：存储节点上已使用的对象数据总可用空间的百分比。</block>
  <block id="59ab0345e5ba9244cb4eea68dc4e1363" category="list-text">* 对象元数据 * ：存储节点上已使用的对象元数据的总允许空间百分比。</block>
  <block id="8b1c5a6417764bc7b5b89188049153b5" category="list-text">* 软件版本 * ：节点上安装的 StorageGRID 版本。</block>
  <block id="3bf4e96025a81c2bcca875fe3860c0b3" category="list-text">* HA 组 * ：仅适用于管理节点和网关节点。如果节点上的网络接口包含在高可用性组中，并且该接口是否为主接口，则显示此信息。</block>
  <block id="26752f9bda4daaa8c9d72e05c7a4aab8" category="list-text">* IP 地址 * ：节点的 IP 地址。单击 * 显示其他 IP 地址 * 以查看节点的 IPv4 和 IPv6 地址以及接口映射。</block>
  <block id="50fb8841cea271a94e327ef4948df48e" category="paragraph">" 概述 " 选项卡的 " 警报 " 部分列出了当前影响此节点且尚未静音的所有警报。单击警报名称可查看其他详细信息和建议的操作。</block>
  <block id="52fbf89a3cb5c1efa0576661ca05b9b0" category="image-alt">节点页面警报表</block>
  <block id="3323a22b50b501b0a1012ae5490e2561" category="inline-xref-macro">监控节点连接状态</block>
  <block id="44e64f27c53212c88ea31896266a011f" category="paragraph"><block ref="44e64f27c53212c88ea31896266a011f" category="inline-xref-macro-rx"></block></block>
  <block id="408815c387775b9d8d80803b98e9d4c7" category="paragraph"><block ref="408815c387775b9d8d80803b98e9d4c7" category="inline-xref-macro-rx"></block></block>
  <block id="1530edc53d3c03198ebff5f35ad7b44e" category="summary">可以出于多种原因检索对象，包括从客户端应用程序读取请求，对复制的对象数据进行后台验证， ILM 重新评估以及在存储节点恢复期间还原对象数据。</block>
  <block id="fb953677d789a2b10a499d2298a96268" category="doc">对丢失和丢失的对象数据进行故障排除</block>
  <block id="b22c00eb5d2b77e6c4cf407985c71439" category="paragraph">StorageGRID 系统使用对象元数据中的位置信息来确定从哪个位置检索对象。如果在预期位置未找到对象的副本，则系统会尝试从系统中的其他位置检索该对象的另一个副本，前提是 ILM 策略包含一条规则，用于为该对象创建两个或更多副本。</block>
  <block id="5218b9b2d0eecee17e14ebc8323a29e9" category="paragraph">如果此检索成功， StorageGRID 系统将替换缺少的对象副本。否则，系统将触发 * 对象丢失 * 警报，如下所示：</block>
  <block id="b571a2e0add00a14f35878084b6c6cc7" category="list-text">对于复制的副本，如果无法检索到另一个副本，则会将对象视为丢失，并触发警报。</block>
  <block id="15e5d0aab47db8394fb6a47e1ff330da" category="list-text">对于经过擦除编码的副本，如果无法从预期位置检索到副本，则在尝试从其他位置检索副本之前，检测到的损坏副本（ DECOR ）属性会递增 1 。如果未找到其他副本，则会触发警报。</block>
  <block id="04439d079187807bf8a0041580fdb4ec" category="paragraph">您应立即调查所有 * 对象丢失 * 警报，以确定丢失的根发生原因 ，并确定对象是否仍位于脱机存储节点或归档节点中，或者当前是否不可用。</block>
  <block id="dd149805df9cd1f6262d01bc34b1fed3" category="paragraph">如果没有副本的对象数据丢失，则不存在恢复解决方案 。但是，您必须重置丢失对象计数器，以防止已知丢失的对象屏蔽任何新的丢失对象。</block>
  <block id="67bd40595c765bd2b23eaa1f0c20064b" category="summary">您可以使用网格管理器检索 StorageGRID 系统的日志文件和系统数据（包括配置数据）。</block>
  <block id="1b9ee84c76fac54985249f8b92f222af" category="paragraph">您可以使用网格管理器检索 StorageGRID 系统的日志文件和系统数据（包括配置数据）。</block>
  <block id="e687ef30560de3203028dc7912469174" category="inline-xref-macro">日志文件</block>
  <block id="a04672bffc619354e16b0868035448c6" category="paragraph">您可以使用网格管理器收集 <block ref="1fffaac188b0a89929c5370ac8d64840" category="inline-xref-macro-rx"></block>选定时间段内任何网格节点的系统数据和配置数据。数据会收集并归档在 .tar.gz 文件中，然后可下载到本地计算机。</block>
  <block id="cb71dde89c5cf3d5649533cedf7298c8" category="paragraph">您也可以更改审核日志的目标并将审核信息发送到外部系统日志服务器。配置外部系统日志服务器后，仍会生成并存储审核记录的本地日志。请参见 <block ref="ae288695ae0d1fa43aff6e30548d4024" category="inline-xref-macro-rx"></block>。</block>
  <block id="d7378d8924b79a4e3e5da136c3b061c6" category="list-text">选择 * 支持 * &gt; * 工具 * &gt; * 日志 * 。</block>
  <block id="d596312ef1446ec7a5dd8648e3e8d7d2" category="image-alt">日志收集 UI 的屏幕截图</block>
  <block id="4758c79462136f6f0ffd6f68e04ae031" category="list-text">选择要收集日志文件的网格节点。</block>
  <block id="4b814a57e1cd2642dc7680a9afb25a45" category="paragraph">您可以根据需要收集整个网格或整个数据中心站点的日志文件。</block>
  <block id="df8ab4dc9053d132163ecf4acf80f68f" category="list-text">选择 * 开始时间 * 和 * 结束时间 * 以设置要包含在日志文件中的数据的时间范围。</block>
  <block id="bfa1d23ec581ae9dfd680b9fb3474c73" category="paragraph">如果选择很长的时间段或从大型网格中的所有节点收集日志，则日志归档可能会变得过大，无法存储在节点上，或者可能会变得过大，无法收集到主管理节点以供下载。如果发生这种情况，您必须使用一组较小的数据重新启动日志收集。</block>
  <block id="f4b687eaab11490e11a96732cf75fd14" category="list-text">选择要收集的日志类型。</block>
  <block id="c70fef46bfdc0a77715e7fc84202a36e" category="list-text">* 应用程序日志 * ：技术支持最常用于故障排除的应用程序特定日志。收集的日志是可用应用程序日志的一部分。</block>
  <block id="b3a842ad106e1c84e5381d661341ed4f" category="list-text">* 审核日志 * ：包含在正常系统操作期间生成的审核消息的日志。</block>
  <block id="8fa7fcff3c485768497d672cd0090d61" category="list-text">* 网络跟踪 * ：用于网络调试的日志。</block>
  <block id="54b4a901478bf01b2662c3a6cafd858b" category="list-text">* Prometheus Database* ：所有节点上的服务的时间序列指标。</block>
  <block id="fc062599b79aae7d7ce168f57d4a43d0" category="list-text">或者，也可以在 * 注释 * 文本框中输入有关要收集的日志文件的注释。</block>
  <block id="5b7a524f4a79619f3d2692a4b62b72ff" category="paragraph">您可以使用这些注释提供有关提示您收集日志文件的问题的技术支持信息。您的注释以及有关日志文件收集的其他信息将添加到名为 `info.txt` 的文件中。`info.txt` 文件保存在日志文件归档包中。</block>
  <block id="59070da198976d41dc706dfa7372194e" category="list-text">在 * 配置密码短语 * 文本框中输入 StorageGRID 系统的配置密码短语。</block>
  <block id="e06ac0adef7c01a35f79bc08edb11555" category="list-text">选择 * 收集日志 * 。</block>
  <block id="8f453b1099c3046366fd74fe9992b7f1" category="paragraph">提交新请求时，系统将删除先前收集的日志文件。</block>
  <block id="c4c4d9d1118e9953ae3927b517373f00" category="paragraph">您可以使用日志页面监控每个网格节点的日志文件收集进度。</block>
  <block id="667f7cc911e08344ec2c9c2921404afc" category="paragraph">如果您收到有关日志大小的错误消息，请尝试收集较短时间段或较少节点的日志。</block>
  <block id="0c0310c5f03d679f08bf80e0ca62799c" category="list-text">日志文件收集完成后，选择 * 下载 * 。</block>
  <block id="6b5f55c3b0c8a412357a84c97f6ee508" category="paragraph">_.tar.gz_ 文件包含成功收集日志的所有网格节点中的所有日志文件。在组合的 _.tar.gz_ 文件中，每个网格节点有一个日志文件归档。</block>
  <block id="47525656019b2d93270aa8d62f62c7de" category="paragraph">如果需要，您可以稍后重新下载日志文件归档包。</block>
  <block id="dc4f4d79fa312040186751cfcaf7b00e" category="paragraph">您也可以选择 * 删除 * 以删除日志文件归档软件包并释放磁盘空间。下次收集日志文件时，系统会自动删除当前日志文件归档包。</block>
  <block id="99fed8033252d8aa20f8a4ccc1447035" category="summary">存储选项卡汇总了存储可用性和其他存储指标。</block>
  <block id="917a186d8079e14534aa8b6a99ec261a" category="doc">查看存储选项卡</block>
  <block id="327d2312c9928ed0ea2acc9dfaa69746" category="paragraph">此时将显示所有节点，每个站点和整个网格的存储选项卡。</block>
  <block id="28990d33e8c37614d03480a98388f1e5" category="section-title">已用存储图</block>
  <block id="9791312046868559e87d231ada645635" category="paragraph">对于存储节点，每个站点和整个网格， " 存储 " 选项卡包含一些图形，用于显示对象数据和对象元数据在一段时间内使用了多少存储。</block>
  <block id="75160ff71fd0b3c7a82d29fc56db65fb" category="admonition">站点或网格的总值不包括至少在五分钟内未报告指标的节点，例如脱机节点。</block>
  <block id="7d0cbce2b262977e711d5b93bfc42ff0" category="image-alt">节点 &gt; 存储节点 &gt; 存储选项卡</block>
  <block id="6b61f4bd86ea92e27bf0a0baf0418b33" category="section-title">磁盘设备，卷和对象存储表</block>
  <block id="c1ffcbdf69dcf67d4ff03e9aad0d6ca5" category="paragraph">对于所有节点，存储选项卡包含节点上磁盘设备和卷的详细信息。对于存储节点，对象存储表提供了有关每个存储卷的信息。</block>
  <block id="197dd02b38b3fef04e1fda0a32926fb3" category="inline-xref-macro">监控存储容量</block>
  <block id="12584abec4eb7775977b9697d287d492" category="paragraph"><block ref="12584abec4eb7775977b9697d287d492" category="inline-xref-macro-rx"></block></block>
  <block id="5554e123d1efbe6b98af626e2cc98f6c" category="summary">" 负载平衡器 " 选项卡包含与负载平衡器服务的运行相关的性能和诊断图。</block>
  <block id="dc4bd0263581215b273e0e2c0fe72fd8" category="doc">查看负载平衡器选项卡</block>
  <block id="c7af713de7dfa46a0fe9fda2fad4d19e" category="paragraph">此时将为管理节点和网关节点，每个站点和整个网格显示负载平衡器选项卡。对于每个站点， " 负载平衡器 " 选项卡提供该站点所有节点的统计信息的聚合摘要。对于整个网格， " 负载平衡器 " 选项卡提供了所有站点统计信息的聚合摘要。</block>
  <block id="da18ca2c6a18bc533a8589021e4f2bfd" category="paragraph">如果未通过负载平衡器服务运行任何 I/O ，或者未配置任何负载平衡器，则图形将显示 "`No data.` " 。</block>
  <block id="2d6598613badd63778a05c0472c5fd10" category="image-alt">节点页面负载平衡器选项卡</block>
  <block id="cdfc18403bd396b18bd5c4a6ea70a75c" category="section-title">请求流量</block>
  <block id="e0526f9ff093a780e06e2b04e00bb160" category="paragraph">此图提供了负载平衡器端点与发出请求的客户端之间传输的数据吞吐量的 3 分钟移动平均值，以每秒位数为单位。</block>
  <block id="d37329ed36ebb1823fd8ecaf26aab8a4" category="admonition">此值将在每个请求完成时更新。因此，此值可能与请求率较低或请求寿命较长时的实时吞吐量不同。您可以查看 " 网络 " 选项卡，更真实地查看当前网络行为。</block>
  <block id="61170acf217c6a0f1ce021c45725fb3b" category="section-title">传入请求速率</block>
  <block id="c947737cf365ee62de71b094d7b09526" category="paragraph">此图按请求类型（ GET ， PUT ， HEAD 和 DELETE ）细分，提供每秒新请求数的 3 分钟移动平均值。验证新请求的标头后，此值将更新。</block>
  <block id="1f1ed4f7d2c389b278b8fc5b0dd8c073" category="section-title">平均请求持续时间（非错误）</block>
  <block id="12c3e927f98c51674f3ce34af2a37805" category="paragraph">此图提供了按请求类型（ GET ， PUT ， HEAD 和 DELETE ）细分的 3 分钟移动平均请求持续时间。每个请求持续时间从负载平衡器服务解析请求标头时开始，到将完整的响应正文返回给客户端时结束。</block>
  <block id="5ab29eb54d3398785274397c6dd2d780" category="section-title">错误响应率</block>
  <block id="8958a99a45ca1f2ffad35a72ab956acc" category="paragraph">此图提供了每秒返回给客户端的错误响应数的 3 分钟移动平均值，并按错误响应代码进行细分。</block>
  <block id="c2548b06dd175b46cb9287c14283c5d7" category="inline-xref-macro">监控负载平衡操作</block>
  <block id="a54d17792b8ff3124c7c51b92a2c03d2" category="paragraph"><block ref="a54d17792b8ff3124c7c51b92a2c03d2" category="inline-xref-macro-rx"></block></block>
  <block id="02546d790a8875aedace63bd571f6074" category="summary">您可以监控网格节点检测到的事件，包括您为跟踪记录到系统日志服务器的事件而创建的自定义事件。网格管理器中显示的最后一个事件消息提供了有关最新事件的详细信息。</block>
  <block id="91fa51601beab1c6749f314ae26fc9ff" category="inline-xref-macro">日志文件参考</block>
  <block id="7ac1a52d6c11c2b01901d6c5ef6ff270" category="paragraph">事件消息也会列在 ` /var/local/log/byncast-err.log` 日志文件中。请参见 <block ref="131cc2ffa68aaf30f5a09737dee48023" category="inline-xref-macro-rx"></block>。</block>
  <block id="ed5a14f45a56e5a24c791a1f94fc081c" category="paragraph">网络问题，断电或升级等问题可能会重复触发 SMTT" （事件总数） " 警报。本节介绍了有关调查事件的信息，以便您更好地了解发生这些警报的原因。如果由于已知问题描述 而发生事件，则可以安全地重置事件计数器。</block>
  <block id="d776e2c6807d6d26be79bfc6de13c828" category="list-text">查看每个网格节点的系统事件：</block>
  <block id="ac7a0040b65fe8be67e7a0d5ba7bc720" category="list-text">选择 * 站点 _* &gt; * 网格节点 _* &gt; * SSM* &gt; * 事件 * &gt; * 概述 * &gt; * 主 * 。</block>
  <block id="1144639996e194faf609be39cf534349" category="list-text">生成先前事件消息的列表，以帮助隔离过去发生的问题：</block>
  <block id="11c3782bafaacf6ac410a78ac95ed5c7" category="list-text">选择 * 站点 _* &gt; * 网格节点 _* &gt; * SSM* &gt; * 事件 * &gt; * 报告 * 。</block>
  <block id="8dc9308060710e6d8ea50838698a6e0f" category="list-text">选择 * 文本 * 。</block>
  <block id="df8f9b1dfc76422aa759118c311e418b" category="inline-xref-macro">图表视图</block>
  <block id="ff8665c648b5c1811d3d462c5c3f4c0c" category="paragraph">中未显示 * 最后一个事件 * 属性 <block ref="7b78e70ff5544c7371ad0a9a85f28742" category="inline-xref-macro-rx"></block>。要查看它，请执行以下操作：</block>
  <block id="0a9515ce26d62b961970e91ecd7e01ab" category="list-text">将 * 属性 * 更改为 * 最后一个事件 * 。</block>
  <block id="8bfb8822d7ab3b5181413631c3674aae" category="list-text">也可以选择 * 快速查询 * 的时间段。</block>
  <block id="35165f9b14f6cde03fa7f6f9b03732ba" category="list-text">选择 * 更新 * 。</block>
  <block id="cc0c32cb853a4dbd394b10710a708d62" category="image-alt">事件页面</block>
  <block id="190f870f130a10cb98e2ff9c236b15c6" category="section-title">创建自定义系统日志事件</block>
  <block id="b049e664463a092ae0e14baf723d21a5" category="paragraph">通过自定义事件，您可以跟踪记录到系统日志服务器的所有内核，守护进程，错误和严重级别的用户事件。自定义事件可用于监控系统日志消息的发生情况（进而监控网络安全事件和硬件故障）。</block>
  <block id="080c66235ead693fe744375550584264" category="paragraph">请考虑创建自定义事件以监控重复出现的问题。以下注意事项适用于自定义事件。</block>
  <block id="51cc39f38db127ad295cee3b319f3189" category="list-text">创建自定义事件后，系统会监控其每次发生情况。</block>
  <block id="765ccad52a2d92a2d6431f0623750480" category="list-text">要基于 ` /var/local/log/messages` 文件中的关键字创建自定义事件，这些文件中的日志必须为：</block>
  <block id="45a915ee51c7cf80386ddae281ec7a4d" category="list-text">由内核生成</block>
  <block id="c3b07a43e0c24415fd8dca7571e0fe6d" category="list-text">由守护进程或用户程序在错误或严重级别生成</block>
  <block id="4146d09982050d19b768db36099b53cd" category="paragraph">* 注： * ` /var/local/log/messages` 文件中的所有条目不会匹配，除非它们满足上述要求。</block>
  <block id="f7dcca5ea4240592b1947aff2599f552" category="list-text">选择 * 支持 * &gt; * 警报（原有） * &gt; * 自定义事件 * 。</block>
  <block id="0f86fcaaecd18bb5b840cecfe55df6dc" category="inline-image-macro">铅笔图标</block>
  <block id="768d18144454e6cec5a96d61cb09fd9c" category="inline-image-macro">加号图标</block>
  <block id="b3dad42af974115f54637f44b57fe2eb" category="list-text">单击 * 编辑 * 。 <block ref="665cddcceae4d1b6e48f6f7457c09ad2" category="inline-image-macro-rx" type="image"></block> （或 * 插入 * <block ref="67d62917aef791c33c498387c3e08259" category="inline-image-macro-rx" type="image"></block> 如果这不是第一个事件）。</block>
  <block id="9c6f6a429ec3eb59bc6d5efd1ad920a3" category="list-text">输入自定义事件字符串，例如 shutdown</block>
  <block id="0b3c1f04c6b702ee6cdd47fa6fde854c" category="image-alt">显示在何处输入自定义事件字符串的屏幕截图</block>
  <block id="86e20c7a3185f1e6b0b19aac72a0afe1" category="list-text">选择 *_GRID NODE_* &gt; * 。 ssm * &gt; * 事件 * 。</block>
  <block id="98287e96a70b05b700aa24d826cd90d3" category="list-text">在事件表中找到自定义事件条目，并监控 * 计数 * 的值。</block>
  <block id="6e20a21eb08d3c593b05d833a28287a0" category="paragraph">如果计数增加，则会在该网格节点上触发您正在监控的自定义事件。</block>
  <block id="1b0d9ef6d6ddd6d4d993eb9a4e7810eb" category="image-alt">"SMS"&gt;" 事件 "&gt;" 概述 " 页面</block>
  <block id="6abbce9fb416fee7bb6de8b191ca8c7c" category="section-title">将自定义事件计数重置为零</block>
  <block id="e050a90ae3c0ca4017d1e1d180809bef" category="paragraph">如果只想重置自定义事件的计数器，则必须使用支持菜单中的网格拓扑页面。</block>
  <block id="6a90369314c10e125082166a5c78f9b9" category="paragraph">重置计数器会导致下一个事件触发警报。相反，确认警报时，只有在达到下一阈值级别时才会重新触发该警报。</block>
  <block id="d78216ca9391b751fbcfc741925f29b5" category="list-text">选择 *_GRID NODE_* &gt; * SSM* &gt; * 事件 * &gt; * 配置 * &gt; * 主 * 。</block>
  <block id="1466aadeb997486e8b8b67ce514961bf" category="list-text">选中自定义事件的 * 重置 * 复选框。</block>
  <block id="8dfab37c7ea94b7c0733b2ef37b1c334" category="image-alt">屏幕截图，位于 "SMS"&gt;" 事件 "&gt;" 配置 "&gt;" 主 "</block>
  <block id="748363ed22c24de92a0c3422c5c1d6f3" category="summary">StorageGRID 警报系统是一种传统系统，用于识别正常运行期间有时会出现的故障点。</block>
  <block id="d35fa294ff98411404252ac27566c303" category="section-title">警报类（旧系统）</block>
  <block id="61686a68bd0794314fa0ba5fbff6405e" category="paragraph">旧警报可以属于两个相互排斥的警报类之一。</block>
  <block id="009c5b2ae08c09169150d305ebf4a840" category="list-text">每个 StorageGRID 系统都提供默认警报，无法修改。但是，您可以禁用默认警报或通过定义全局自定义警报来覆盖这些警报。</block>
  <block id="1ba5c75b4a3cb3bbdadbe94b0f2d832a" category="list-text">全局自定义警报可监控 StorageGRID 系统中给定类型的所有服务的状态。您可以创建全局自定义警报以覆盖默认警报。您还可以创建新的全局自定义警报。这对于监控 StorageGRID 系统的任何自定义条件非常有用。</block>
  <block id="ba4a887955659885e712863d1e81a203" category="section-title">警报触发逻辑（旧系统）</block>
  <block id="f4debbcb6f3c60f9d1d88f3ab4deb951" category="paragraph">当 StorageGRID 属性达到阈值时，系统将触发传统警报，该阈值将根据警报类（默认或全局自定义）和警报严重性级别的组合计算为 true 。</block>
  <block id="cc34730d2861bbb77ad781db2b2f9ebd" category="paragraph">可以为每个数字属性设置警报严重性和相应的阈值。每个管理节点上的 NMS 服务会根据已配置的阈值持续监控当前属性值。触发警报后，系统会向所有指定人员发送通知。</block>
  <block id="806b779e6a8bb00ca4d1457a9fa1ee1d" category="paragraph">请注意，严重性级别为 " 正常 " 不会触发警报。</block>
  <block id="82dd541aa608a5badbf5b164a181a642" category="paragraph">将根据为属性定义的已启用警报列表评估属性值。系统将按以下顺序检查警报列表，以查找第一个警报类，该警报类已为属性定义并启用警报：</block>
  <block id="729717b45084af921a9f59fc194a5347" category="list-text">全局自定义警报，其警报严重性从严重到通知不等。</block>
  <block id="734a29d37bc2a63be74ceb44be778326" category="list-text">警报严重性从严重到通知的默认警报。</block>
  <block id="ca88623cf19ea201fbd6667a74444c98" category="paragraph">在较高的警报类中找到已启用的属性警报后， NMS 服务仅会在该类中进行评估。NMS 服务不会根据其他低优先级类进行评估。也就是说，如果某个属性启用了全局自定义警报，则 NMS 服务仅根据全局自定义警报评估属性值。不评估默认警报。因此，为某个属性启用的默认警报可以满足触发警报所需的条件，但由于为同一属性启用了全局自定义警报（不符合指定的标准），因此不会触发此警报。不会触发任何警报，也不会发送任何通知。</block>
  <block id="1401e91b71ecb9011678633aa9c076f4" category="section-title">警报触发示例</block>
  <block id="1b53e8d803f84dce5847f1661603bf74" category="paragraph">您可以使用此示例了解如何触发全局自定义警报和默认警报。</block>
  <block id="e131498e9476c03df616a478c831d26c" category="paragraph">对于以下示例，属性定义并启用了全局自定义警报和默认警报，如下表所示。</block>
  <block id="563d5a86f8edab5e530e15b506bde530" category="cell">全局自定义警报阈值（已启用）</block>
  <block id="f9796a296dd472c6223736b812c5ecfb" category="cell">默认警报阈值（已启用）</block>
  <block id="aac92b2465862e69072ab30c0ac8ab71" category="paragraph">&gt;= 1500</block>
  <block id="a5cc5d6cbb3305f945e13348c9b8bbad" category="paragraph">&gt;= 1000</block>
  <block id="4f2b004c985efa4c969791b7a9c1f02c" category="paragraph">&gt;= 15 ， 000</block>
  <block id="96f9b35e7ed843990872b67831175e71" category="paragraph">&gt;=150 ， 000</block>
  <block id="a241aea0d5e6f99f320c823d1ca39c49" category="paragraph">&gt;= 250 ， 000</block>
  <block id="0398ff7cfed2d353f5ad17531f9d42ab" category="paragraph">如果在该属性的值为 1000 时对其进行评估，则不会触发任何警报，也不会发送任何通知。</block>
  <block id="5cddb115d6324e8dc33c09fa4cae0e9e" category="paragraph">全局自定义警报优先于默认警报。值 1000 不会达到全局自定义警报的任何严重性级别的阈值。因此，警报级别将评估为正常。</block>
  <block id="b70171f5cae35f15a5fa1c6e1458d546" category="paragraph">在上述情形之后，如果禁用了全局自定义警报，则不会发生任何更改。在触发新的警报级别之前，必须重新评估属性值。</block>
  <block id="133b53f72facfa874edf559c165e3993" category="paragraph">在禁用全局自定义警报的情况下，重新评估属性值时，系统会根据默认警报的阈值评估属性值。警报级别将触发通知级别警报，并向指定人员发送电子邮件通知。</block>
  <block id="5f39d0541f253db6f08c9143ab121042" category="section-title">严重性相同的警报</block>
  <block id="02a2e89010b7a7f45113450f106afca0" category="paragraph">如果同一属性的两个全局自定义警报的严重性相同，则会使用 "`top down` " 优先级对警报进行评估。</block>
  <block id="6cee733a3428c8cab702567d4d0955f4" category="paragraph">例如，如果 UMEM 降至 50 MB ，则会触发第一个警报（ = 50000 ），但不会触发其下一个警报（ \&lt;=100000000 ）。</block>
  <block id="3e45a08c704c30edbbd30fbd5e795376" category="image-alt">全局自定义警报示例</block>
  <block id="663d50e8e60086bbb62cb12d95b2325e" category="paragraph">如果顺序相反，则在 UMEM 降至 100 MB 时，将触发第一个警报（ \&lt;=100000000 ），但不会触发其下一个警报（ = 50000000 ）。</block>
  <block id="05f20de3cdd615ca679e65264cda6837" category="paragraph">通知用于报告警报发生情况或服务状态发生变化。可以通过电子邮件或 SNMP 发送警报通知。</block>
  <block id="c6d9c66e0f69cb457fae188ca9855b4f" category="paragraph">为了避免在达到警报阈值时发送多个警报和通知，系统会根据属性的当前警报严重性检查警报严重性。如果没有更改，则不会采取进一步操作。这意味着，随着 NMS 服务继续监控系统，它只会在首次发现某个属性的警报条件时发出警报并发送通知。如果达到并检测到属性的新值阈值，则警报严重性会发生变化，并会发送新通知。当条件恢复到正常水平时，警报将被清除。</block>
  <block id="f284f0e7c618cfbfdcd4e87c75d4206b" category="paragraph">警报状态通知中显示的触发值将四舍五入为小数点后三位。因此，属性值 1.9999 将触发阈值小于（ &lt; ） 2.0 的警报，但警报通知会将触发值显示为 2.0 。</block>
  <block id="a1bc7fe9dfe100d910a3b19de4d99fe7" category="section-title">新服务</block>
  <block id="7d56bb7145c028f4c988c52d5c317ba1" category="paragraph">随着通过添加新网格节点或站点来添加新服务，这些服务将继承默认警报和全局自定义警报。</block>
  <block id="224377530521c71cd68c57bbdfcaeba7" category="section-title">警报和表</block>
  <block id="d7f9a58b7bb4c2d2d24b3289058f3434" category="paragraph">表中显示的警报属性可以在系统级别禁用。不能为表中的各个行禁用警报。</block>
  <block id="c5c6fe692971d19091dd60b5d6f6e0b5" category="paragraph">例如，下表显示了两个严重条目可用（ VMFI ）警报。（选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后，选择 * 存储节点 _* &gt; * SSM* &gt; * 资源 * 。）</block>
  <block id="4a2b5e27cda3d2b18591085510b323c3" category="paragraph">您可以禁用 VMFI 警报，以便不触发严重级别的 VMFI 警报（当前严重警报均会在表中显示为绿色）； 但是，您不能在表行中禁用单个警报，以便一个 VMFI 警报显示为严重级别警报，而另一个警报保持绿色。</block>
  <block id="801573c69f4031824637e2992a6a25a5" category="image-alt">显示严重警报的卷页面</block>
  <block id="35691837c9275d39741b2fb872c32917" category="paragraph">当系统属性达到警报阈值时，系统会触发原有警报。或者，如果要减少或清除旧警报列表，您也可以确认这些警报。</block>
  <block id="6f209f67eea5effac38b6e9967367781" category="list-text">您必须具有确认警报权限。</block>
  <block id="062a2aefb100c4bb3926b403999b4bd6" category="paragraph">由于传统警报系统仍受支持，因此每当发生新警报时， " 当前警报 " 页面上的原有警报列表都会增加。您通常可以忽略警报（因为警报可提供更好的系统视图），也可以确认警报。</block>
  <block id="fcf10e6b7ae649cc65d0a6015fd3e1f2" category="admonition">或者，在完全过渡到警报系统后，您可以禁用每个旧警报，以防止其被触发并添加到旧警报计数中。</block>
  <block id="e66cdca4eeed569a2f88e19c2b86b676" category="paragraph">确认警报后，它将不再列在网格管理器的 " 当前警报 " 页面上，除非警报在下一个严重性级别触发，或者已解决并再次发生。</block>
  <block id="e5ee59519248b8608b6615eeb45eab16" category="list-text">在表中选择服务名称。</block>
  <block id="cd19fc86c6e6f41c62579cb476eb2945" category="list-text">选中警报的 * 确认 * 复选框，然后单击 * 应用更改 * 。</block>
  <block id="194b762ee4b199039822b6fc2b34fdf4" category="paragraph">警报不再显示在信息板或当前警报页面上。</block>
  <block id="853f127a1d60faeab52f19c3f859122f" category="admonition">确认警报后，确认不会复制到其他管理节点。因此，如果您从另一个管理节点查看信息板，则可能仍会看到活动警报。</block>
  <block id="343b978f18048fcaeba7b9d6d1ad968b" category="list-text">根据需要查看已确认的警报。</block>
  <block id="02cbb72bf3e3f0b5da2acc73e619b15c" category="list-text">选择 * 显示已确认警报 * 。</block>
  <block id="95a720a3fff95f55ad4ce08b9954caf3" category="paragraph">此时将显示任何已确认的警报。</block>
  <block id="2daabb34c989a3cf5563080ff70e17de" category="image-alt">当前警报页面显示已确认</block>
  <block id="f68f5e3d162ef45f8f89308961ae3363" category="section-title">查看默认警报（旧系统）</block>
  <block id="8741b15d3e3569c30ebbcb1586c86653" category="paragraph">您可以查看所有默认旧警报的列表。</block>
  <block id="22890b862ea20c4307c781329c05fe32" category="list-text">对于 Filter by ，选择 * 属性代码 * 或 * 属性名称 * 。</block>
  <block id="43b967c94333cabc104b59595873fc8a" category="list-text">对于等于，输入星号： ` *`</block>
  <block id="c298d46e24a253f32ede88c2356c7381" category="inline-image-macro">箭头图标</block>
  <block id="c59cfffb52d327a2dde3182b4683e273" category="list-text">单击箭头 <block ref="91621034bfce9b6716c6ba105ba437ba" category="inline-image-macro-rx" type="image"></block> 或按 * 输入 * 。</block>
  <block id="1d24eca3e014bfe2d362f9c502df350a" category="paragraph">此时将列出所有默认警报。</block>
  <block id="bfe76d2ad4b5e7bf936f07343c86fa8a" category="image-alt">全局警报页面</block>
  <block id="3b9c8fc69bb0c9c057fac36dcf8c285e" category="paragraph">对问题描述 进行故障排除时，您可以查看过去触发传统警报的频率。</block>
  <block id="aefbfb08c57d80888a11b57fbb911f0c" category="list-text">按照以下步骤获取一段时间内触发的所有警报的列表。</block>
  <block id="edb46af41a66bc9bc5e6aad1ed5ee6e1" category="list-text">单击一个时间段。</block>
  <block id="775fff743087d387aedad26db5be4685" category="list-text">输入自定义范围，然后单击 * 自定义查询 * 。</block>
  <block id="014607431b7f5a2598d15d47708fb664" category="list-text">按照以下步骤了解针对特定属性触发警报的频率。</block>
  <block id="060bcd88b6cb1f91e7dd28cdf55ab749" category="list-text">选择 *_GRID NODE_* &gt; * 服务或组件 _* &gt; * 警报 * &gt; * 历史记录 * 。</block>
  <block id="dcaf52ee3b9398ebbea80ecf2ea83881" category="list-text">从列表中选择属性。</block>
  <block id="0bfca39d6b3bfd8568f3ffd9c2427dc9" category="paragraph">警报按时间倒序列出。</block>
  <block id="2003c4b070d7b45e24f8c675bd11a988" category="list-text">要返回到警报历史记录请求表单，请单击 * 历史记录 * 。</block>
  <block id="9b31a9ad8d6c964070bc88d2dcba77c1" category="section-title">创建全局自定义警报（旧系统）</block>
  <block id="fd457b20ca2987f4c9542110ae2affdb" category="paragraph">您可能已对旧系统使用全局自定义警报来满足特定监控要求。全局自定义警报可能具有覆盖默认警报的警报级别，或者它们可能会监控没有默认警报的属性。</block>
  <block id="266733ca4550e3424d6908907c8d1c5c" category="paragraph">全局自定义警报会覆盖默认警报。除非绝对必要，否则不应更改默认警报值。通过更改默认警报，您将面临隐藏可能触发警报的问题的风险。</block>
  <block id="0af0fdb6f320da78ca2c3aa42c5e075e" category="admonition">如果更改警报设置，请务必小心。例如，如果您增加警报的阈值，则可能无法检测到潜在问题。在更改警报设置之前，请与技术支持讨论您建议的更改。</block>
  <block id="efb4bbbfecdb782cc2b5fcbcfcc5b365" category="list-text">向全局自定义警报表添加新行：</block>
  <block id="44040e214e919d86d6a1f3f26db3d22c" category="inline-image-macro">编辑图标</block>
  <block id="7cf92b1a6b8b9bb4fd4dbacba8522ac8" category="list-text">要添加新警报，请单击 * 编辑 * <block ref="e35d994e85aefde09ee638754a178187" category="inline-image-macro-rx" type="image"></block> （如果这是第一个条目）或 * 插入 * <block ref="dfb08760b64381661b6ad5fb07ea4ec1" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="16a1cb58a0726c03eb1e435daffd315f" category="list-text">要修改默认警报，请搜索默认警报。</block>
  <block id="5f6f6e38bef4d543bebb95dca973f6dd" category="list-text">在 Filter by 下，选择 * 属性代码 * 或 * 属性名称 * 。</block>
  <block id="9cb9f8c39afc82cc62bfe8d9d2df24ea" category="list-text">键入搜索字符串。</block>
  <block id="7b368ca27b516d26ae82d08a8845913b" category="paragraph">指定四个字符或使用通配符（例如， a ？？？？？或 AB* ）。星号（ * ）表示多个字符，问号（？） 表示单个字符。</block>
  <block id="39aba0b95373c1ad7f0cd1fd8de1d3b9" category="inline-image-macro">右箭头图标</block>
  <block id="7adff1bcfb623396181b4acc7e34df08" category="list-text">单击箭头 <block ref="f1b8035139a1f1dc02e8362848cf0193" category="inline-image-macro-rx" type="image"></block>，或按 * 输入 * 。</block>
  <block id="a06830f6529f6906a9bc99fc0e3b04cb" category="inline-image-macro">复制图标</block>
  <block id="a514b2814cead2b029f679cedb9edafe" category="list-text">在结果列表中，单击 * 复制 * <block ref="d90bd575208ca3dff6e1d73799f22bcb" category="inline-image-macro-rx" type="image"></block> 要修改的警报旁边。</block>
  <block id="fef55e73a1655864a8fbed6f3434c19b" category="paragraph">默认警报将复制到全局自定义警报表。</block>
  <block id="c6324bec8d1aa8958d9945c5bd612399" category="list-text">对全局自定义警报设置进行任何必要的更改：</block>
  <block id="0101316665d4f82adaa26d86fbbb2d6e" category="cell">标题</block>
  <block id="00d23a76e43b46dae9ec7aa9dcbebb32" category="paragraph">enabled</block>
  <block id="739a6fd5ec49d9ed2576b69a3791278b" category="paragraph">选中或取消选中此复选框可启用或禁用警报。</block>
  <block id="f2bbdf9f72c085adc4d0404e370f0f4c" category="paragraph">属性</block>
  <block id="6d3602bc1499d37d6352a07745fe82a3" category="inline-image-macro">信息图标</block>
  <block id="4ce74503e65c75f8a5f8682c0e2c7345" category="paragraph">从适用于选定服务或组件的所有属性列表中选择要监控的属性的名称和代码。要显示有关属性的信息，请单击 * 信息 * <block ref="06c4a3f78d80e1b66f2e7c9bbb0c0854" category="inline-image-macro-rx" type="image"></block> 属性名称旁边。</block>
  <block id="f514674058a8a9991acf693fad403f0e" category="paragraph">指示警报级别的图标和文本。</block>
  <block id="0011a8392267285053613868434004aa" category="paragraph">警报的原因（连接丢失，存储空间低于 10% 等）。</block>
  <block id="e1b3ec89ead7f83a9245ed5c9cacfdbf" category="paragraph">运算符</block>
  <block id="12249bb169ecd0f888c55b4530e7e6fa" category="paragraph">用于根据值阈值测试当前属性值的运算符：</block>
  <block id="1a3264d07b31ac823fbbeaac98e18dbf" category="list-text">= 等于</block>
  <block id="b8972e8f4dabfab9b201669c5da957ff" category="list-text">&gt; 大于</block>
  <block id="58e55863c70ab9a3beceac4330036dfe" category="list-text">小于</block>
  <block id="3d5371ae75b6a009f65c7346fa2ae8c1" category="list-text">&gt;= 大于或等于</block>
  <block id="0fa091cda7529c6c86437d05ea13a2ff" category="list-text">\&lt;= 小于或等于</block>
  <block id="201b75ce8c361988e31abdf9faa65c34" category="list-text">≠不等于</block>
  <block id="04f998ec0e0e0b47b2315fa7c9797ca4" category="paragraph">用于使用运算符根据属性的实际值测试的警报阈值。此条目可以是单个数字，使用冒号（ 1 ： 3 ）指定的数字范围，也可以是以逗号分隔的数字和范围列表。</block>
  <block id="1d96d4e5a3acedd9f53d57ff05051d87" category="paragraph">其他收件人</block>
  <block id="2c04601813f80b0a6347ba4c4fc2e800" category="paragraph">触发警报时要通知的电子邮件地址的补充列表。这是对 * 警报 * &gt; * 电子邮件设置 * 页面上配置的邮件列表的补充。列表以逗号分隔。</block>
  <block id="45b05c282167eaf7a65bb0cd9120dd6b" category="paragraph">* 注： * 邮件列表需要设置 SMTP 服务器才能运行。在添加邮件列表之前，请确认已配置 SMTP 。自定义警报通知可以覆盖全局自定义或默认警报的通知。</block>
  <block id="06df33001c1d7187fdd81ea1f5b277aa" category="paragraph">操作</block>
  <block id="ac3b1fb180d07cc977d26dfe4e51193c" category="paragraph">控制按钮用于： <block ref="e35d994e85aefde09ee638754a178187" category="inline-image-macro-rx" type="image"></block> 编辑行</block>
  <block id="598adb86c704140856d29f7fc9c63c05" category="paragraph">+<block ref="dfb08760b64381661b6ad5fb07ea4ec1" category="inline-image-macro-rx" type="image"></block> 插入一行</block>
  <block id="67fde5154c12721a4c548d096f105fc4" category="paragraph">+<block ref="11f9369e6a365228b793afb38903d463" category="inline-image-macro-rx" type="image"></block> 删除行</block>
  <block id="adc98a7637e42bd248275676e6ecc4df" category="inline-image-macro">拖放图标</block>
  <block id="04ce70612a51996f2066bceac8c88585" category="paragraph">+<block ref="3f38efc4460feef16fdabca7c8df1aa6" category="inline-image-macro-rx" type="image"></block> 上下拖放一行</block>
  <block id="b9b7e0c0ea709cef4664954f49fa4fd2" category="paragraph">+<block ref="d90bd575208ca3dff6e1d73799f22bcb" category="inline-image-macro-rx" type="image"></block> 复制行</block>
  <block id="c67524af8783d9eead05b729c1f8cdf0" category="paragraph">默认情况下，原有警报系统中的警报处于启用状态，但您可以禁用不需要的警报。您还可以在完全过渡到新警报系统后禁用原有警报。</block>
  <block id="ff75a3b3f3a7feb79ce47d1644e04493" category="section-title">禁用默认警报（传统系统）</block>
  <block id="80a3da2b8b551e2a06e5a4b791c19766" category="paragraph">您可以为整个系统禁用一个原有的默认警报。</block>
  <block id="d86b11908718c79aace6001e888e234d" category="paragraph">如果为当前已触发警报的属性禁用警报，则不会清除当前警报。下次属性超过警报阈值时，警报将被禁用，您也可以清除触发的警报。</block>
  <block id="92d059bbc8694ba43c5a5b6e596fbb84" category="admonition">在完全过渡到新警报系统之前，请勿禁用任何原有警报。否则，在无法完成关键操作之前，您可能无法检测到底层问题。</block>
  <block id="34668815b669edd73ab64205124000c5" category="list-text">搜索要禁用的默认警报。</block>
  <block id="11712b40e633513fa18027682306c3dc" category="list-text">在默认警报部分中，选择 * 筛选依据 * &gt; * 属性代码 * 或 * 属性名称 * 。</block>
  <block id="34ebcad7b9ea9f7331afb6a55e458f2b" category="admonition">选择 * 已禁用默认值 * 将显示当前已禁用的所有默认警报的列表。</block>
  <block id="b53ebac3b520bf01aabc6d3260bed958" category="list-text">在搜索结果表中，单击编辑图标 <block ref="e35d994e85aefde09ee638754a178187" category="inline-image-macro-rx" type="image"></block> 要禁用的警报。</block>
  <block id="c13e0cb8438a950cd0c5d17925b16692" category="paragraph">选定警报的 * 已启用 * 复选框将变为活动状态。</block>
  <block id="314199e7793992f4ecdd0d1479893a2d" category="paragraph">默认警报已禁用。</block>
  <block id="b8f91b00e62c8610625f6c2c3e4cc518" category="section-title">禁用全局自定义警报（旧系统）</block>
  <block id="15f10489e06f27c1735553c8a4649855" category="paragraph">您可以为整个系统禁用旧版全局自定义警报。</block>
  <block id="8831b4b0457647e5fefdc6474dd9d7da" category="list-text">在全局自定义警报表中，单击 * 编辑 * <block ref="e35d994e85aefde09ee638754a178187" category="inline-image-macro-rx" type="image"></block> 要禁用的警报旁边。</block>
  <block id="57176d847ad1ca4e32ce60030d7f0da1" category="paragraph">已禁用全局自定义警报。</block>
  <block id="f4bddd03c9ef1164b06b5e7b0e46611c" category="section-title">清除触发的警报（旧系统）</block>
  <block id="6a310555dad5a9b0c7f33e7f15fbd2d2" category="paragraph">如果触发了旧警报，您可以清除它，而不是确认它。</block>
  <block id="779a980ff4361ba5da1389d766506012" category="list-text">您必须具有 ``passwords.txt`` 文件。</block>
  <block id="3ba1ea5d5d002d8c947aebce17b345a9" category="paragraph">如果为当前已触发警报的属性禁用警报，则不会清除此警报。下次更改属性时，此警报将被禁用。您可以确认警报，或者，如果您希望立即清除警报，而不是等待属性值发生更改（从而导致警报状态发生更改），则可以清除触发的警报。如果您希望立即针对某个属性清除警报，而该属性的值不会经常更改（例如，状态属性），则此功能可能会很有用。</block>
  <block id="98521f367313fced21fb164cd1dedd0c" category="list-text">禁用警报。</block>
  <block id="9d1bd0885f01e22244d73660c6477a04" category="list-text">输入以下命令： ` _ssh admin@primary_Admin_Node_IP_`</block>
  <block id="af8f8302d4b4505df664da301b9e88d5" category="list-text">输入 ``passwords.txt`` 文件中列出的密码。</block>
  <block id="a224bd313b324fd0f5ba0cfdaf01c9e1" category="list-text">重新启动 NMS 服务： `sservice nms restart`</block>
  <block id="77bb3d8e6200b4019025970994d791ff" category="list-text">从管理节点中注销： `exit`</block>
  <block id="d71c9bcc4ae5f4da0c7449728160420b" category="paragraph">警报已清除。</block>
  <block id="f0b33b22065065110d95f7c4d434c553" category="section-title">配置警报通知（旧系统）</block>
  <block id="49ac6a5def9dd98c8337f776c3c82fd3" category="inline-xref-macro">SNMP 通知</block>
  <block id="f7199186fb3022c124a24e784c7d8e38" category="paragraph">StorageGRID 系统可以自动发送电子邮件和 <block ref="b353dd1b50a7fd5083a5e0ec704f5e06" category="inline-xref-macro-rx"></block> 触发警报或服务状态发生变化时。</block>
  <block id="4115ff10992d960e45e0b9b6e51d9c3b" category="paragraph">默认情况下，不会发送警报电子邮件通知。对于电子邮件通知，您必须配置电子邮件服务器并指定电子邮件收件人。对于 SNMP 通知，您必须配置 SNMP 代理。</block>
  <block id="a385fdefff24a6cb271ba92af6604a68" category="section-title">警报通知类型（旧系统）</block>
  <block id="f647b216121b7392ab3219c98e446f84" category="paragraph">触发传统警报时， StorageGRID 系统会发送两种类型的警报通知：严重性级别和服务状态。</block>
  <block id="e26d4384a15d8554b3ee5255c1a8b834" category="section-title">严重性级别通知</block>
  <block id="f9b52b44bdbeca918a50d83557c39e24" category="paragraph">在选定严重性级别触发旧警报时，系统会发送警报电子邮件通知：</block>
  <block id="6b1196784e6e52d4a5c8bb6582319bec" category="paragraph">邮件列表将接收与选定严重性的警报相关的所有通知。当警报离开警报级别时，也会发送通知—解决或输入其他警报严重性级别。</block>
  <block id="b668e60577490686fcaf58bc5e542bc1" category="section-title">服务状态通知</block>
  <block id="f6e6d3bc85e03d0532b1090fce0d58f1" category="paragraph">服务（例如 LDR 服务或 NMS 服务）进入选定服务状态以及离开选定服务状态时，系统会发送服务状态通知。服务状态通知在服务进入或离开以下服务状态之一时发送：</block>
  <block id="88183b946cc5f0e8c96b2e66e1c74a7e" category="list-text">未知</block>
  <block id="d9b92bd010d9d41fa147619c1314aff1" category="list-text">已管理员关闭</block>
  <block id="d18a707c148b3a169985ea1e54ed4828" category="paragraph">邮件列表将接收与选定状态下的更改相关的所有通知。</block>
  <block id="fb2a932a2bab639125e610dfd30f7928" category="section-title">为警报配置电子邮件服务器设置（旧系统）</block>
  <block id="67eb422109015a48e0987f516f1f163f" category="paragraph">如果您希望 StorageGRID 在触发旧警报时发送电子邮件通知，则必须指定 SMTP 邮件服务器设置。StorageGRID 系统仅发送电子邮件，无法接收电子邮件。</block>
  <block id="8ab9ad495fb1d094414c07dabbe34bc5" category="paragraph">使用这些设置可以定义用于传统警报电子邮件通知和 AutoSupport 电子邮件消息的 SMTP 服务器。这些设置不用于警报通知。</block>
  <block id="c121f671704d63228bc3d916fc93b070" category="inline-xref-macro">有关管理 StorageGRID 的说明</block>
  <block id="27ad38cd5e7ae89b7c5882ed95e24c12" category="admonition">如果使用 SMTP 作为 AutoSupport 消息的协议，则可能已配置 SMTP 邮件服务器。同一个 SMTP 服务器用于警报电子邮件通知，因此您可以跳过此操作步骤 。请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="0537d0de74d2342552b15b544919ba67" category="paragraph">SMTP 是唯一支持发送电子邮件的协议。</block>
  <block id="97e1822108dc3a44dcce6bc1c2663060" category="list-text">从电子邮件菜单中，选择 * 服务器 * 。</block>
  <block id="db770def2ecd563d723fb929000cd6c0" category="paragraph">此时将显示电子邮件服务器页面。此页面还用于为 AutoSupport 消息配置电子邮件服务器。</block>
  <block id="e12d42cce7ac44391491bc647bb57314" category="image-alt">电子邮件服务器设置</block>
  <block id="d31b4ce955496aa56a1a7415e9c75845" category="list-text">添加以下 SMTP 邮件服务器设置：</block>
  <block id="42388974913b939146f01d8ee56c233c" category="paragraph">邮件服务器</block>
  <block id="adcdde0a1f5a1687023750f65bd2e95a" category="paragraph">SMTP 邮件服务器的 IP 地址。如果先前已在管理节点上配置了 DNS 设置，则可以输入主机名而不是 IP 地址。</block>
  <block id="2d3763bdb5faefb7343485c2e004b275" category="paragraph">用于访问 SMTP 邮件服务器的端口号。</block>
  <block id="c75f7811d70d17dbcd88e9d03752cbed" category="paragraph">身份验证</block>
  <block id="05c8d104150e8dfb2151d5f32b26a2f9" category="paragraph">允许对 SMTP 邮件服务器进行身份验证。默认情况下，身份验证处于关闭状态。</block>
  <block id="c256bcf6aecb1fb653c3250117e2f4fd" category="paragraph">身份验证凭据</block>
  <block id="63fa0d22a97393601fcb560a9f5c6c46" category="paragraph">SMTP 邮件服务器的用户名和密码。如果身份验证设置为 on ，则必须提供用于访问 SMTP 邮件服务器的用户名和密码。</block>
  <block id="dc819ebd067f6e92c2f3e3f99ed0f5d9" category="list-text">在 * 发件人地址 * 下，输入 SMTP 服务器将识别为发送电子邮件地址的有效电子邮件地址。这是用于发送电子邮件的官方电子邮件地址。</block>
  <block id="0eee41b2dd24bfad455f8e4e14da5a7d" category="list-text">（可选）发送测试电子邮件以确认 SMTP 邮件服务器设置正确无误。</block>
  <block id="4ef648e8c36f54de05d65ebd5f320ae3" category="list-text">在 * 测试电子邮件 * &gt; * 至 * 框中，添加一个或多个可访问的地址。</block>
  <block id="785067517db67857835737dedca8276e" category="paragraph">您可以输入一个电子邮件地址或一个逗号分隔的电子邮件地址列表。由于 NMS 服务在发送测试电子邮件时不会确认成功或失败，因此您必须能够检查测试收件人的收件箱。</block>
  <block id="89a53524695df833613228ca5daaed29" category="list-text">选择 * 发送测试电子邮件 * 。</block>
  <block id="e41a90e7a9057b34fa88e7f5e39c1166" category="paragraph">此时将保存 SMTP 邮件服务器设置。如果您为测试电子邮件输入了信息，则会发送该电子邮件。测试电子邮件会立即发送到邮件服务器，而不会通过通知队列发送。在具有多个管理节点的系统中，每个管理节点都会发送一封电子邮件。收到测试电子邮件将确认 SMTP 邮件服务器设置正确，并且 NMS 服务已成功连接到邮件服务器。NMS 服务和邮件服务器之间的连接问题会在次要严重性级别触发旧的分钟（ NMS 通知状态）警报。</block>
  <block id="580f29cbd61e1e108b733526431e05d2" category="section-title">创建警报电子邮件模板（旧系统）</block>
  <block id="804d6181d61f4a664f24c6349c3b94f2" category="paragraph">通过电子邮件模板，您可以自定义旧警报电子邮件通知的页眉，页脚和主题行。您可以使用电子邮件模板向不同的邮件列表发送包含相同正文的唯一通知。</block>
  <block id="88730544011311288ecc282d4d60d447" category="paragraph">使用这些设置可以定义用于旧警报通知的电子邮件模板。这些设置不用于警报通知。</block>
  <block id="b56094f1a0c7318aaeb2fc349bdadd46" category="paragraph">不同的邮件列表可能需要不同的联系信息。模板不包含电子邮件的正文。</block>
  <block id="c80dd2f18e6b7c81415fc3e94ca0bedb" category="list-text">从电子邮件菜单中，选择 * 模板 * 。</block>
  <block id="5b8e1d65d14a9aa976d39e9972065815" category="list-text">单击 * 编辑 * 。 <block ref="e35d994e85aefde09ee638754a178187" category="inline-image-macro-rx" type="image"></block> （或 * 插入 * <block ref="dfb08760b64381661b6ad5fb07ea4ec1" category="inline-image-macro-rx" type="image"></block> 如果这不是第一个模板）。</block>
  <block id="cd68114c59a03b500fef7ed405ac29bf" category="image-alt">电子邮件模板页面</block>
  <block id="0dfd84ed0ba9689fde8f4a841ef206b8" category="list-text">在新行中添加以下内容：</block>
  <block id="0c1ec80465825af171a2cb9df19ac8d7" category="paragraph">模板名称</block>
  <block id="6298db145f57d0e4b4fc773f0ec8f343" category="paragraph">用于标识模板的唯一名称。模板名称不能重复。</block>
  <block id="1759115f9a6fae0c189ca9a2c2a742c2" category="paragraph">主题前缀</block>
  <block id="10dee8dd93d69db11f65e1616bc65e8c" category="paragraph">可选。将显示在电子邮件主题行开头的前缀。前缀可用于轻松配置电子邮件筛选器和组织通知。</block>
  <block id="bf50d5e661106d0abe925af3c2e6f7e7" category="paragraph">标题</block>
  <block id="2a908a0bf2cbb2c07dbbcc622ccf6b7f" category="paragraph">可选。显示在电子邮件正文开头的标题文本。可以使用标题文本在电子邮件内容的前面添加公司名称和地址等信息。</block>
  <block id="ded40f2a77c30efc6062db0cbd857746" category="paragraph">页脚</block>
  <block id="bd33a3718c2325e19fdd75b339213fbd" category="paragraph">可选。显示在电子邮件正文末尾的页脚文本。可以使用页脚文本关闭包含提醒信息的电子邮件，例如联系人电话号码或网站链接。</block>
  <block id="f6518f532e18dc8dcd5327d2ff37f847" category="paragraph">此时将为通知添加一个新模板。</block>
  <block id="374d920eb3ffea375daa97364d5dc709" category="section-title">为警报通知创建邮件列表（旧系统）</block>
  <block id="b3659509b0760b7d52b6f0938e5680a6" category="paragraph">通过邮件列表，您可以在触发旧警报或服务状态发生变化时通知收件人。您必须至少创建一个邮件列表，然后才能发送任何警报电子邮件通知。要向单个收件人发送通知，请使用一个电子邮件地址创建一个邮件列表。</block>
  <block id="8c17fb210e62c9b518bbe3bef84c7e28" category="list-text">如果要为邮件列表指定电子邮件模板（自定义页眉，页脚和主题行），则必须已创建此模板。</block>
  <block id="eb1d9fe58ceb95469b08a059378bd032" category="paragraph">使用这些设置可以定义用于旧警报电子邮件通知的邮件列表。这些设置不用于警报通知。</block>
  <block id="029f14d35afafd5e1df36ee841559ca5" category="list-text">从电子邮件菜单中，选择 * 列表 * 。</block>
  <block id="346ad71614ac68e28a58c1dba5405084" category="list-text">单击 * 编辑 * 。 <block ref="e35d994e85aefde09ee638754a178187" category="inline-image-macro-rx" type="image"></block> （或 * 插入 *<block ref="dfb08760b64381661b6ad5fb07ea4ec1" category="inline-image-macro-rx" type="image"></block> 如果这不是第一个邮件列表）。</block>
  <block id="9cceae46e2daeed0895e4386ab618373" category="image-alt">电子邮件列表页面</block>
  <block id="4c8a57ea5c299fd66e95a549ec70e841" category="list-text">在新行中，添加以下内容：</block>
  <block id="28974c2c793e780427dfb571b26443e6" category="paragraph">组名称</block>
  <block id="320b4db0fcaa21aacc1c387a567c3b48" category="paragraph">用于标识邮件列表的唯一名称。邮件列表名称不能重复。</block>
  <block id="883a711d933c20bcd83be88ab0578860" category="paragraph">* 注意： * 如果更改了邮件列表的名称，则此更改不会传播到使用邮件列表名称的其他位置。您必须手动更新所有已配置的通知，才能使用新的邮件列表名称。</block>
  <block id="5959cf158e76f7c6f27bff2917ee05b1" category="paragraph">收件人</block>
  <block id="0f1eb81c102d04aa4c8ff91d253ad77b" category="paragraph">单个电子邮件地址，先前配置的邮件列表或将通知发送到的电子邮件地址和邮件列表的逗号分隔列表。</block>
  <block id="86461e509b620258d41ae73711d64989" category="paragraph">* 注意： * 如果电子邮件地址属于多个邮件列表，则在发生通知触发事件时仅发送一封电子邮件通知。</block>
  <block id="278c491bdd8a53618c149c4ac790da34" category="paragraph">模板</block>
  <block id="763fdb95e0230e909146ef8019288acb" category="paragraph">或者，也可以选择一个电子邮件模板，以便向发送给此邮件列表的所有收件人的通知添加唯一的页眉，页脚和主题行。</block>
  <block id="ebef9a93526fa010f8a8caf6920d7e31" category="paragraph">此时将创建一个新的邮件列表。</block>
  <block id="51406490be3b06049041c1a520a0da9b" category="section-title">配置警报电子邮件通知（旧系统）</block>
  <block id="49cffb9a58b83657847ba1ce0357c074" category="paragraph">要接收旧警报系统的电子邮件通知，收件人必须是邮件列表的成员，并且必须将该列表添加到通知页面。通知配置为仅在触发具有指定严重性级别的警报或服务状态发生更改时才向收件人发送电子邮件。因此，收件人只会收到需要接收的通知。</block>
  <block id="69ce34dccd54104fb06d2e0d49b31b96" category="list-text">您必须已配置电子邮件列表。</block>
  <block id="328abec69b0e6fae06bfa1ed8bc18505" category="paragraph">使用这些设置为旧警报配置通知。这些设置不用于警报通知。</block>
  <block id="20248670591c9f7ae0a116d0088a14e8" category="paragraph">如果某个电子邮件地址（或列表）属于多个邮件列表，则在发生通知触发事件时仅会发送一封电子邮件通知。例如，可以将组织中的一组管理员配置为接收所有警报的通知，而不管严重性如何。另一个组可能只需要针对严重性为 " 严重 " 的警报发出通知。您可以同时属于这两个列表。如果触发严重警报，您只会收到一条通知。</block>
  <block id="a43dc2e3a3a30bddc6da9861ea697f23" category="list-text">从电子邮件菜单中，选择 * 通知 * 。</block>
  <block id="5abc65f5ec67647cf5aea2b1cb061c5c" category="list-text">单击 * 编辑 * 。<block ref="e35d994e85aefde09ee638754a178187" category="inline-image-macro-rx" type="image"></block> （或 * 插入 *<block ref="dfb08760b64381661b6ad5fb07ea4ec1" category="inline-image-macro-rx" type="image"></block> 如果这不是第一个通知）。</block>
  <block id="6f29fcbba6c341a8d507bdbfab0104b2" category="list-text">在电子邮件列表下，选择邮件列表。</block>
  <block id="8be2fd00ca2e358cf284789734b05d22" category="list-text">选择一个或多个警报严重性级别和服务状态。</block>
  <block id="ac9505bcc8c7cc920700ccaaff2572db" category="paragraph">触发或更改具有选定警报严重性级别或服务状态的警报时，系统会向邮件列表发送通知。</block>
  <block id="ed358d66ad9ca5c90130783e87415ac7" category="section-title">禁止发送邮件列表的警报通知（旧系统）</block>
  <block id="7c5355781c276f78069992090616c1bc" category="paragraph">如果您不再希望邮件列表接收有关警报的通知，则可以禁止此邮件列表的警报通知。例如，在过渡到使用警报电子邮件通知后，您可能希望禁止有关旧警报的通知。</block>
  <block id="7a7bb42542d65ea7c6c259c4bdbca0ec" category="paragraph">使用这些设置可禁止向原有警报系统发送电子邮件通知。这些设置不适用于警报电子邮件通知。</block>
  <block id="b297ad1ba7728a10b26cb76256d7d7ad" category="inline-image-macro">编辑图标</block>
  <block id="e1756c63fc6b34e8c6b53b2ccb1c8df3" category="list-text">单击 * 编辑 * 。 <block ref="937dcd8addcac66b0e1e60a1c435d04e" category="inline-image-macro-rx" type="image"></block> 要禁止其通知的邮件列表旁边。</block>
  <block id="70dd5240c72359100370bff05161e8d5" category="list-text">在禁止下，选中要禁止的邮件列表旁边的复选框，或者选择列顶部的 * 禁止 * 以禁止所有邮件列表。</block>
  <block id="e8465c9346276b2d04ca7991ed219e6b" category="paragraph">选定邮件列表将禁止使用旧警报通知。</block>
  <block id="4c20ab7770025581bd3516434a7800ae" category="section-title">在系统范围内禁止电子邮件通知</block>
  <block id="698e37e682a9c82e00abeb7cc7336c4c" category="paragraph">您可以阻止 StorageGRID 系统针对旧警报和事件触发的 AutoSupport 消息发送电子邮件通知。</block>
  <block id="d65111bc94a07a5caaed00ccc4599666" category="paragraph">使用此选项可禁止对原有警报和事件触发的 AutoSupport 消息发送电子邮件通知。</block>
  <block id="62be874fd1ba685422d1dc469334fab5" category="admonition">此选项不会禁止警报电子邮件通知。它也不会禁止每周或用户触发的 AutoSupport 消息。</block>
  <block id="eadd61aabbd96ce57dde2ec0c04532c8" category="list-text">选择 * 配置 * &gt; * 系统设置 * &gt; * 显示选项 * 。</block>
  <block id="9f5c02f733ee91bbcfafc51548fc0fd2" category="list-text">从显示选项菜单中，选择 * 选项 * 。</block>
  <block id="da516ad4611d638092c39a96bd7a99c0" category="list-text">选择 * 通知禁止全部 * 。</block>
  <block id="37e0f1ea8bf6b9c09ecb009b1cdb75e0" category="image-alt">显示选项 &gt; 通知禁止所有选定项</block>
  <block id="f4b21fc4e4e3c36f1aaef7add3102e56" category="paragraph">通知页面（ * 配置 * &gt; * 通知 * ）显示以下消息：</block>
  <block id="48946aa7e5ede14310cfe413f0622145" category="image-alt">禁止显示所有电子邮件通知的通知页面</block>
  <block id="7f7e349cf721e0f5a49fe524fb5aaf25" category="summary">对问题描述 进行故障排除时，您可以与技术支持人员一起查看 StorageGRID 系统的详细指标和图表。</block>
  <block id="83ee4c65f5e49970dfd68677f4827658" category="paragraph">您可以通过指标页面访问 Prometheus 和 Grafana 用户界面。Prometheus 是用于收集指标的开源软件。Grafana 是用于可视化指标的开源软件。</block>
  <block id="3b4a10f52f6551542d8903aabf133f57" category="inline-xref-macro">常用的 Prometheus 指标</block>
  <block id="e655e933ddf5834307b1977aec64b830" category="admonition">指标页面上提供的工具供技术支持使用。这些工具中的某些功能和菜单项有意不起作用，可能会发生更改。请参见列表 <block ref="563ea3bfbb1378256c329b0680898c93" category="inline-xref-macro-rx"></block>。</block>
  <block id="49b7a2a5a70eaa37d122e16fb2071773" category="list-text">根据技术支持的指示，选择 * 支持 * &gt; * 工具 * &gt; * 指标 * 。</block>
  <block id="4b06c42648cf5c8b30ec070e9e451bf7" category="paragraph">下面显示了 " 指标 " 页面的一个示例：</block>
  <block id="ba832a12a68ff287d4472e74366454c2" category="image-alt">指标页面</block>
  <block id="f7f75c5a3f450fb5cdd58c8999925ef6" category="list-text">要查询 StorageGRID 指标的当前值并查看随时间变化的值图形，请单击 Prometheus 部分中的链接。</block>
  <block id="280ffa3886fe5f9ae5b905bed4ae4568" category="paragraph">此时将显示 Prometheus 界面。您可以使用此界面对可用的 StorageGRID 指标执行查询，并绘制一段时间内的 StorageGRID 指标图。</block>
  <block id="89a8b111017169c7f1ad8570c3702cfc" category="image-alt">指标页面说明</block>
  <block id="9916a4ff79dc6855333b8f4df6258ebf" category="admonition">名称中包含 _private_ 的指标仅供内部使用，在 StorageGRID 版本之间可能会发生更改，恕不另行通知。</block>
  <block id="54f060717baa31d4cde34990160c3283" category="list-text">要访问包含一段时间内 StorageGRID 指标图的预构建信息板，请单击 Grafana 部分中的链接。</block>
  <block id="c8f85f541e2183a331aa1df8af49921a" category="paragraph">此时将显示选定链接的 Grafana 界面。</block>
  <block id="27b55a3135e43b42b57ffbf000d3f196" category="image-alt">指标页面 Grafana</block>
  <block id="6958b9a6d165ed559a041b320975ef2e" category="summary">如果您希望在出现警报时发送电子邮件通知，则必须提供有关 SMTP 服务器的信息。您还必须输入警报通知收件人的电子邮件地址。</block>
  <block id="084b38b45444b24f7336d36b838dadac" category="paragraph">由于警报和警报是独立的系统，因此用于警报通知的电子邮件设置不会用于警报通知和 AutoSupport 消息。但是，您可以对所有通知使用同一个电子邮件服务器。</block>
  <block id="d1acc34bb102dee764ca7099d0c1f56d" category="paragraph">如果您的 StorageGRID 部署包含多个管理节点，则可以选择哪个管理节点应是警报通知的首选发送方。警报通知和 AutoSupport 消息也会使用相同的 "`首选发件人` " 。默认情况下，会选择主管理节点。有关详细信息，请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="0128d795215e735ddbb51b23098925ae" category="paragraph">此时将显示电子邮件设置页面。</block>
  <block id="78bb99c79539bc526d4b3ef325af9db6" category="image-alt">已禁用警报电子邮件设置</block>
  <block id="ebad748adbbc9717d25fa09629e1352e" category="list-text">选中 * 启用电子邮件通知 * 复选框，以指示您希望在警报达到配置的阈值时发送通知电子邮件。</block>
  <block id="bc3cecd85e5deade84b41e1da0121ac2" category="paragraph">此时将显示电子邮件（ SMTP ）服务器，传输层安全（ TLS ），电子邮件地址和筛选器部分。</block>
  <block id="90a75a47c4c69ab1dfb9da4ad6ae441d" category="list-text">在电子邮件（ SMTP ）服务器部分中，输入 StorageGRID 访问 SMTP 服务器所需的信息。</block>
  <block id="b5cbcc4241bd7c9169f2a1da34257256" category="paragraph">如果 SMTP 服务器需要身份验证，则必须同时提供用户名和密码。</block>
  <block id="6f16a5f8ff5d75ab84c018adacdfcbb7" category="cell">字段</block>
  <block id="f1851d5600eae616ee802a31ac74701b" category="cell">输入 ...</block>
  <block id="3ae8a9676dcc569b8502e65c364a6992" category="paragraph">SMTP 服务器的完全限定域名（ FQDN ）或 IP 地址。</block>
  <block id="24942383eeec8e00b05d2da9717009a8" category="paragraph">用于访问 SMTP 服务器的端口。必须介于 1 到 65535 之间。</block>
  <block id="b131f16788c0df42cfbb61b56ee4efc7" category="paragraph">用户名（可选）</block>
  <block id="ab1989f5ee8ccdc909bbb85a31261cba" category="paragraph">如果 SMTP 服务器需要身份验证，请输入要进行身份验证的用户名。</block>
  <block id="6071598ca972bb495306aae55d7617a3" category="paragraph">密码（可选）</block>
  <block id="80b7ab34da59cebe83c7956485a4c220" category="paragraph">如果 SMTP 服务器需要身份验证，请输入用于进行身份验证的密码。</block>
  <block id="bf0e778cdb37cce11ecf902e49e40e6d" category="image-alt">警报电子邮件 SMTP 服务器</block>
  <block id="9342ce00ab4cea5a0880b17173755934" category="list-text">在电子邮件地址部分中，输入发件人和每个收件人的电子邮件地址。</block>
  <block id="ab9537b96ab6e578d05e526f8260a09f" category="list-text">对于 * 发件人电子邮件地址 * ，请指定一个有效的电子邮件地址，用作警报通知的发件人地址。</block>
  <block id="475a72f75a57b5a0f12f6e51cfd2601f" category="paragraph">例如： `storagegrid-alerts@example.com`</block>
  <block id="ba46b0ad3df187263c776e0276d7eec8" category="list-text">在收件人部分中，为每个电子邮件列表或发生警报时应接收电子邮件的人员输入电子邮件地址。</block>
  <block id="05045a084adb43520a6255bc944b75a1" category="paragraph">选择加号图标 <block ref="f6ddecbba13eadb6df0e1c1c98c0a538" category="inline-image-macro-rx" type="image"></block> 以添加收件人。</block>
  <block id="940164519a2c284e933427f493f5a57e" category="image-alt">警报电子邮件收件人</block>
  <block id="ccbde703d0afd5439e816185d157dd4d" category="list-text">如果要与 SMTP 服务器进行通信，需要使用传输层安全（ TLS ），请在传输层安全（ TLS ）部分中选择 * 需要 TLS* 。</block>
  <block id="47c385ee09213ebcc741e67530367e97" category="list-text">在 * CA 证书 * 字段中，提供用于验证 SMTP 服务器标识的 CA 证书。</block>
  <block id="c543550065d7f5fcf1711667ca06e6be" category="paragraph">您可以将内容复制并粘贴到此字段中，或者选择 * 浏览 * 并选择文件。</block>
  <block id="0ebc46ce4bb1a85ea2ecf4e602d71ef5" category="paragraph">您必须提供一个文件，其中包含来自每个中间颁发证书颁发机构（ CA ）的证书。此文件应包含 PEM 编码的每个 CA 证书文件，并按证书链顺序串联。</block>
  <block id="4ab6691f1bfd7ae87d6cbd252d0e5489" category="list-text">如果 SMTP 电子邮件服务器要求电子邮件发件人提供用于身份验证的客户端证书，请选中 * 发送客户端证书 * 复选框。</block>
  <block id="afd567b9f6b27f6fa435e13ea8202d59" category="list-text">在 * 客户端证书 * 字段中，提供 PEM 编码的客户端证书以发送到 SMTP 服务器。</block>
  <block id="a1447f1cfa108698fb69a86df637c8f5" category="list-text">在 * 专用密钥 * 字段中，输入未加密 PEM 编码的客户端证书的专用密钥。</block>
  <block id="d8589f8ac5c24fdf20a79c3ac938097a" category="admonition">如果需要编辑电子邮件设置，请选择铅笔图标以更新此字段。</block>
  <block id="be19e8db8376fbf2c7239564e7190ef3" category="image-alt">警报电子邮件 TLS</block>
  <block id="7a6c2fccc919b58d615e7c950e4b9e83" category="list-text">在筛选器部分中，选择应导致电子邮件通知的警报严重性级别，除非特定警报的规则已被静音。</block>
  <block id="78b42552b8cdd7de763ac704052874ce" category="paragraph">次要，重大，严重</block>
  <block id="44eac56e2f120e1c305b7b31ee5082fe" category="paragraph">满足警报规则的次要，主要或严重条件时，系统会发送电子邮件通知。</block>
  <block id="fc7f359e23033fefe29cd5c580d3a82d" category="paragraph">主要，关键</block>
  <block id="ba47b1f61953c6891f7d110701298f37" category="paragraph">当满足警报规则的主要或关键条件时，系统会发送电子邮件通知。不会针对次要警报发送通知。</block>
  <block id="551370f4876b57bb8b961a953444a17f" category="paragraph">仅严重</block>
  <block id="93baadb110317d5204ce07bc8252016d" category="paragraph">只有在满足警报规则的严重条件时，才会发送电子邮件通知。对于次要或主要警报，不会发送通知。</block>
  <block id="a28e7a7b9074ecc29677b84579eb9535" category="image-alt">警报电子邮件筛选器</block>
  <block id="7fb53c31f104a86a0280b6e02ae4850e" category="list-text">准备好测试电子邮件设置后，请执行以下步骤：</block>
  <block id="efb8b451b0087b26a76e532c284569e3" category="list-text">选择 * 发送测试电子邮件 * 。</block>
  <block id="791bab80e6649324197406832c602286" category="paragraph">此时将显示一条确认消息，指示已发送测试电子邮件。</block>
  <block id="aaec5e5e7b0df77aac8d67f788471f21" category="list-text">检查所有电子邮件收件人的收件箱，确认已收到测试电子邮件。</block>
  <block id="cc57dd181a3fe423b2d67d6f9fa7ac29" category="admonition">如果在几分钟内未收到电子邮件，或者触发了 * 电子邮件通知失败 * 警报，请检查您的设置并重试。</block>
  <block id="2989d706403c516c4cdab086a3b7e47e" category="list-text">登录到任何其他管理节点并发送测试电子邮件以验证所有站点的连接。</block>
  <block id="e6ce05c76e5c1d3d23ce050940e34ae9" category="admonition">在测试警报通知时，您必须登录到每个管理节点以验证连接。这与测试警报通知和 AutoSupport 消息不同，所有管理节点都会发送测试电子邮件。</block>
  <block id="95b39ee3db6e2d76d8c091f3537d46f8" category="paragraph">发送测试电子邮件不会保存您的设置。您必须选择 * 保存 * 。</block>
  <block id="fd569eec51d71cd27d2d5eff9b2b3013" category="paragraph">此时将保存电子邮件设置。</block>
  <block id="203a3a6925b398c5a1540d14c7b9a851" category="section-title">警报电子邮件通知中包含的信息</block>
  <block id="b3afd34879b28967ee4394bd8a297c2e" category="paragraph">配置 SMTP 电子邮件服务器后，在触发警报时，系统会向指定的收件人发送电子邮件通知，除非警报规则被静默禁止。请参见 <block ref="e6cde2278b5401ffc7334cb091703824" category="inline-xref-macro-rx"></block>。</block>
  <block id="d731e45190ab8bd5c01992f2bab2c81b" category="paragraph">电子邮件通知包括以下信息：</block>
  <block id="1e98cee64237874ddbd6bfbdfc525bf4" category="image-alt">警报电子邮件通知</block>
  <block id="02f3536284d2dde920b17e26d9970e1b" category="paragraph">警报名称，后跟此警报的活动实例数。</block>
  <block id="30cf1d4e926053acb59bc54e9a1f76e7" category="paragraph">警报的问题描述 。</block>
  <block id="8ca4df0239ecf141f52cad929b623d6d" category="paragraph">为警报建议的任何操作。</block>
  <block id="5456de54c1de3602174f9a5775743895" category="paragraph">有关警报的每个活动实例的详细信息，包括受影响的节点和站点，警报严重性，触发警报规则的 UTC 时间以及受影响作业和服务的名称。</block>
  <block id="555592d4c42f7c080633838f48690a0c" category="paragraph">发送通知的管理节点的主机名。</block>
  <block id="eb058c0560d312652fe6dd4ddd635397" category="section-title">如何对警报进行分组</block>
  <block id="93840ea38692ebad910003ee4d34e369" category="paragraph">为了防止在触发警报时发送过多的电子邮件通知， StorageGRID 会尝试在同一通知中对多个警报进行分组。</block>
  <block id="3450d2d36138e394909257c2b0713c13" category="paragraph">有关 StorageGRID 如何在电子邮件通知中对多个警报进行分组的示例，请参见下表。</block>
  <block id="b39a035a995fc6597c8eb942210d1527" category="cell">行为</block>
  <block id="7b92e2e83e188998abb15b0d53836f38" category="paragraph">每个警报通知仅适用于同名警报。如果同时触发两个名称不同的警报，则会发送两封电子邮件通知。</block>
  <block id="542cb5d79b7175cd87e503296855d9a3" category="list-text">警报 A 会同时在两个节点上触发。仅发送一个通知。</block>
  <block id="969b065d8b8905fa8439941f5cbae1ef" category="list-text">节点 1 上触发警报 A ，节点 2 上同时触发警报 B 。系统会发送两个通知—每个警报一个。</block>
  <block id="70c8e272c305c3336a6f37627e2df151" category="paragraph">对于特定节点上的特定警报，如果达到阈值的严重性超过一个，则仅针对最严重警报发送通知。</block>
  <block id="147d80c0c93a33e4b79fd850a7982950" category="list-text">此时将触发警报 A ，并达到次要，主要和严重警报阈值。系统会为严重警报发送一条通知。</block>
  <block id="09cf4ff23f4f9265e9e490083cc3ff3b" category="paragraph">首次触发警报时， StorageGRID 会等待 2 分钟，然后再发送通知。如果在此期间触发了其他同名警报，则 StorageGRID 会在初始通知中对所有警报进行分组。​</block>
  <block id="75419e09df8af562cc8905716b67bb81" category="list-text">节点 1 上的警报 A 在 08 ： 00 触发。不会发送任何通知。</block>
  <block id="026f7611bab327e1ffc1c8c3bd2c6fb6" category="list-text">节点 2 上的警报 A 在 08 ： 01 触发。不会发送任何通知。</block>
  <block id="4a8a90075702bdef9efee50b3a1937af" category="list-text">8 ： 02 发送通知以报告两个警报实例。</block>
  <block id="d17e112fd54b96cc864a0de9c834d92c" category="paragraph">如果触发另一个同名警报， StorageGRID 将等待 10 分钟，然后再发送新通知。新通知会报告所有活动警报（当前未静音的警报），即使先前已报告这些警报也是如此。</block>
  <block id="4295c6bdd219de4ec2964db762040c22" category="list-text">节点 1 上的警报 A 在 08 ： 00 触发。通知在 08 ： 02 发送。</block>
  <block id="a97beae8100a06c195cc7b497f737cb5" category="list-text">节点 2 上的警报 A 在 08 ： 05 触发。第二个通知将在 8 ： 15 （ 10 分钟后）发送。此时将报告这两个节点。</block>
  <block id="6a9059faa4fbdaec2fe880f78ac39666" category="paragraph">如果当前存在多个同名警报且其中一个警报已解决，则在已解决警报的节点上重新出现此警报时，不会发送新通知。</block>
  <block id="9d6d9a39de955653a26924b87a9b7116" category="list-text">已针对节点 1 触发警报 A 。此时将发送通知。</block>
  <block id="4d6ad887b249b77bc1c1943e2344eba3" category="list-text">已针对节点 2 触发警报 A 。此时将发送第二个通知。</block>
  <block id="e4c806692117795e621ebf3a84e67608" category="list-text">已解决节点 2 的警报 A ，但此警报对于节点 1 仍处于活动状态。</block>
  <block id="b3a06dd9150587b978156222d13ca506" category="list-text">此时将再次触发节点 2 的警报 A 。不会发送任何新通知，因为此警报对于节点 1 仍处于活动状态。</block>
  <block id="778af5f7f8ae0f2a93e255b05853845b" category="paragraph">StorageGRID 会继续每 7 天发送一次电子邮件通知，直到所有警报实例均已解决或警报规则已静音为止。</block>
  <block id="8f5396b5d8e9847bd3f86b2640c4bf8e" category="list-text">3 月 8 日为节点 1 触发警报 A 。此时将发送通知。</block>
  <block id="bb663df4f9c4c05c868d8eefe501bcf2" category="list-text">警报 A 未解决或静音。其他通知将于 3 月 15 日， 3 月 22 日， 3 月 29 日等时间发送。</block>
  <block id="f0348a62a6e24cfd3c59fc10cc897fe0" category="section-title">对警报电子邮件通知进行故障排除</block>
  <block id="f3826236d2d75315db7ae627a6acac69" category="paragraph">如果触发了 * 电子邮件通知失败 * 警报，或者您无法收到测试警报电子邮件通知，请按照以下步骤解决问题描述 。</block>
  <block id="df39698635bf9d09273b380dcbdeb44f" category="list-text">验证设置。</block>
  <block id="d8772afc856adc8abc3de4243a183ba9" category="list-text">验证电子邮件（ SMTP ）服务器设置是否正确。</block>
  <block id="4d69007eedcb61b5bad6a23bd80f2701" category="list-text">验证您是否为收件人指定了有效的电子邮件地址。</block>
  <block id="b37a80407f52fd995131efde62ac18ee" category="list-text">检查垃圾邮件筛选器，确保电子邮件未发送到垃圾文件夹。</block>
  <block id="9586322cfcfa0302ced355045912c8be" category="list-text">请您的电子邮件管理员确认不会阻止来自发件人地址的电子邮件。</block>
  <block id="20ab5828c5f1befd34aaf74c8b220830" category="list-text">收集管理节点的日志文件，然后联系技术支持。</block>
  <block id="355a6312b376d1f4c24d27a3f34ee186" category="paragraph">技术支持可以使用日志中的信息帮助确定出现问题的原因。例如， prometheus.log 文件在连接到您指定的服务器时可能会显示错误。</block>
  <block id="68b5db2fe1233c94a9d5a343ee41bb02" category="paragraph">请参见 <block ref="fc82807fe992029ecf98f15b3d668d13" category="inline-xref-macro-rx"></block>。</block>
  <block id="a1aebfb79053b2efde91bb620f89e8c5" category="summary">存储节点上的底层存储分为多个对象存储。对象存储也称为存储卷。</block>
  <block id="36011e439743d3d8b02caba4a58ec6e1" category="doc">对象存储（存储卷）故障</block>
  <block id="dcdbdc65a1bf06fd9cad94b80d4f2bd7" category="paragraph">您可以查看每个存储节点的对象存储信息。对象存储显示在 * 节点 * &gt; * 存储节点 _* &gt; * 存储 * 页面的底部。</block>
  <block id="0bb0107fd6f1324ec84ef668298f1e9f" category="image-alt">节点页面存储节点存储表</block>
  <block id="45d6ab49d0756c6fdfa05d666a2bb273" category="paragraph">要查看有关每个存储节点的更多详细信息，请执行以下步骤：</block>
  <block id="914be397b9ff8d92941f48af3e0f132b" category="list-text">选择 * 站点 _* &gt; * 存储节点 _* &gt; * LDR* &gt; * 存储 * &gt; * 概述 * &gt; * 主 * 。</block>
  <block id="0c6242d9193b9dc5d63a47f832e1197f" category="image-alt">存储节点对象存储</block>
  <block id="187f09712b5d1dbbcd2c19f0cad9bb05" category="paragraph">根据故障的性质，存储卷的故障可能会反映在有关存储状态或对象存储运行状况的警报中。如果存储卷发生故障，您应尽快修复故障存储卷，以将存储节点还原到完整功能。如有必要，您可以转到 * 配置 * 选项卡并将存储节点置于只读‐状态，以便 StorageGRID 系统可以在准备服务器完全恢复时使用它进行数据检索。</block>
  <block id="f83075258cd47d4bffeccaeeade4065f" category="summary">下表列出了所有原有的默认警报。如果触发了警报，您可以在此表中查找警报代码以查找建议的操作。</block>
  <block id="c2ba7e785c49050f48da9aacc45c2b85" category="cell">服务</block>
  <block id="f04eb315ad37d09b8dde17d560af68ce" category="cell">建议的操作</block>
  <block id="348093f587055f72e5ea601b74b39683" category="paragraph">ABRL</block>
  <block id="a424c51184f696957dab91e2399f0936" category="paragraph">可用属性中继</block>
  <block id="4d27e79123a608f87dc473c75f2ce59e" category="paragraph">BADC ， BAMS ， BARC ， BCLB ， BCMN ， BLDR ， BNMS ， BSSM ， BDDS</block>
  <block id="bb5e849df0fc6550b99a717d5a0f4842" category="paragraph">尽快恢复与运行属性中继服务的服务（一种模数转换器服务）的连接。如果没有连接的属性中继，则网格节点无法向 NMS 服务报告属性值。因此， NMS 服务无法再监控服务的状态，也无法更新服务的属性。</block>
  <block id="c656dfbef7a4dcb082e74472552b9514" category="paragraph">如果问题仍然存在，请联系技术支持。</block>
  <block id="e5688c662a32f68b5b793e937d2bd94a" category="paragraph">ACMS</block>
  <block id="2b9cd85f16cebe23417ad5125cc94883" category="paragraph">可用元数据服务</block>
  <block id="857499d17d08409ac4b51f309d5a5fec" category="paragraph">BARR ， BLDR ， BCMN</block>
  <block id="c9b76e7b5ca3873e838e1a10a9e8222f" category="paragraph">如果 LDR 或 ARC-Service 与 DDS 服务断开连接，则会触发警报。如果发生这种情况，则无法处理载入或检索事务。如果 DDS 服务不可用只是一个短暂的瞬时问题描述 ，则事务可能会延迟。</block>
  <block id="38f773fb2e2fc4ea31b815eb19742b91" category="paragraph">检查并还原与 DDS 服务的连接，以清除此警报并使此服务恢复完整功能。</block>
  <block id="13a703a3a16f7a40cb80030c0f92385c" category="paragraph">行为</block>
  <block id="f67210acbb29b31429ae8e11e4b25caa" category="paragraph">云分层服务状态</block>
  <block id="d72a48a8ebd238e1497a911e938f46e8" category="paragraph">圆弧</block>
  <block id="ab3a3e2e47dd47946eed6e553449b28e" category="paragraph">仅适用于目标类型为 Cloud Tiering 的归档节点 - 简单存储服务（ S3 ）。</block>
  <block id="758a9594f14a11d2ec772d86ade21baa" category="paragraph">如果归档节点的 "Acts " 属性设置为 "Read-Only Enabled" 或 "Read-Write Disabled" ，则必须将此属性设置为 "Read-Write Enabled" 。</block>
  <block id="f7751c2e4dd159b072649de0a0ce38ed" category="paragraph">如果因身份验证失败而触发重大警报，请验证与目标存储分段关联的凭据，并根据需要更新值。</block>
  <block id="d6a375dd44654f8a35ec710c8ac9019f" category="paragraph">如果因任何其他原因触发重大警报，请联系技术支持。</block>
  <block id="d7b6477b1020e3a493544b1a6df58325" category="paragraph">ADCA</block>
  <block id="f9c2fca3239fec06372997d74e1e1862" category="paragraph">模数转换器状态</block>
  <block id="72c1bba79e6502c017bd14bc00a68491" category="paragraph">模数转换器</block>
  <block id="857312654b5161224b4fdfae86524949" category="paragraph">如果触发警报，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * ADC* &gt; * 概述 * &gt; * 主要 * 和 * ADC* &gt; * 警报 * &gt; * 主要 * 来确定警报的发生原因 。</block>
  <block id="de25fb20f21756c229fa25be4dcc323c" category="paragraph">ADCE</block>
  <block id="f733125f9abf14dd907920ec17163189" category="paragraph">模数转换器状态</block>
  <block id="0a67dd2d882d363ecdfa133ae7901ce3" category="paragraph">如果 "ADC-State" 的值为 "Standby" ，请继续监控此服务，如果问题仍然存在，请联系技术支持。</block>
  <block id="f488b46a425af2774c6df120ee663e0a" category="paragraph">如果 "ADC" 状态的值为脱机，请重新启动此服务。如果问题仍然存在，请联系技术支持。</block>
  <block id="c751bc368aa7a2abb3fe4677ba3f6e4f" category="paragraph">AITE</block>
  <block id="4c070bb2fc8a6e1fdcd40e026a5e4b7a" category="paragraph">检索状态</block>
  <block id="64087ebac8234ef53aeca29160f8cd75" category="paragraph">BARC-B</block>
  <block id="575f64cb61b63730720104d7f0e87421" category="paragraph">仅适用于目标类型为 Tivoli Storage Manager （ TSM ）的归档节点。</block>
  <block id="2f93575a947f8e3f7793d656a785857b" category="paragraph">如果检索状态值正在等待目标，请检查 TSM 中间件服务器并确保其正常运行。如果刚刚将归档节点添加到 StorageGRID 系统，请确保已正确配置归档节点与目标外部归档存储系统的连接。</block>
  <block id="c39616eda9051d1d3d9d9005df97deb9" category="paragraph">如果 " 归档检索状态 " 的值为 " 脱机 " ，请尝试将此状态更新为 " 联机 " 。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * ARC* &gt; * 检索 * &gt; * 配置 * &gt; * 主要 * ，选择 * 归档检索状态 * &gt; * 联机 * ，然后单击 * 应用更改 * 。</block>
  <block id="7534e03f4cca54cc614ecc5a41678d27" category="paragraph">AITU-A</block>
  <block id="ee3b2c476d956df632ec603a11ae95d6" category="paragraph">检索状态</block>
  <block id="08fb45850328a2a0095d46533503c311" category="paragraph">如果检索状态的值为目标错误，请检查目标外部归档存储系统是否存在错误。</block>
  <block id="cc8de050b832688d6e03e07143395f41" category="paragraph">如果归档检索状态的值为会话丢失，请检查目标外部归档存储系统以确保其联机并正常运行。检查与目标的网络连接。</block>
  <block id="d14bd93aef01e53f0ef9928e427be4e6" category="paragraph">如果 " 归档检索状态 " 的值为未知错误，请联系技术支持。</block>
  <block id="2af0f2e530531e0aab9b53284b6b4009" category="paragraph">Alis</block>
  <block id="d5521f8b4cac71645ecc33705ee0eb37" category="paragraph">入站属性会话</block>
  <block id="abd6bd427ee478152f2114784d425c4d" category="paragraph">如果属性中继上的入站属性会话数增长得太大，则可能表示 StorageGRID 系统已变得不平衡。在正常情况下，属性会话应均匀分布在各个模块转换服务之间。不平衡可能导致性能问题。</block>
  <block id="c2dfec9c3b4bd3d1d72b522aaa199a4e" category="paragraph">ALOS</block>
  <block id="b71dcc540f5a2fe0c76e8d23551b0493" category="paragraph">出站属性会话</block>
  <block id="6c1723d642f20fdf811fae199d902970" category="paragraph">此 ADE 服务具有大量属性会话，并且正在过载。如果触发此警报，请联系技术支持。</block>
  <block id="7f28135a258da61a2457a90dd1042508" category="paragraph">Alur</block>
  <block id="f5015d584cb0f5c004534dfef0796b92" category="paragraph">无法访问的属性存储库</block>
  <block id="f0cdb66aefeed54115bda3f677060620" category="paragraph">检查与 NMS 服务的网络连接，以确保此服务可以与属性存储库联系。</block>
  <block id="eea4f5f35a63a8ee641ccc6586c0bcf7" category="paragraph">如果触发此警报且网络连接良好，请联系技术支持。</block>
  <block id="58483873f63c82cc51fd98ed358324df" category="paragraph">AMQS</block>
  <block id="cc6ac261046e208828c8b1f52fb6ccc1" category="paragraph">已排队的审核消息</block>
  <block id="34e2c840c0676099daa41978c616a13d" category="paragraph">BADC ， BAMS ， BARC ， BCLB ， BCMN ， BLDR ， BNMS ， BDDS</block>
  <block id="a7627fb5cefffbbd7c4b3dd1eda32974" category="paragraph">如果无法将审核消息立即转发到审核中继或存储库，则这些消息将存储在磁盘队列中。如果磁盘队列已满，则可能发生中断。</block>
  <block id="d634753daabb72289590f069e7a55d16" category="paragraph">为了及时做出响应以防止中断，当磁盘队列中的消息数量达到以下阈值时，系统将触发 AMQS 警报：</block>
  <block id="1029ebc3084f89880cf28f60656373eb" category="list-text">注意：超过 100 ， 000 条消息</block>
  <block id="5927018d47eb7e8f678397c3f0370218" category="list-text">次要：至少 500 ， 000 条消息</block>
  <block id="3928e242b6c6b55e488ad356fe7f4486" category="list-text">主要：至少 2 ， 000 ， 000 条消息</block>
  <block id="654262a75112e553b4d66ad81fe7b5e1" category="list-text">严重：至少 5 ， 000 ， 000 条消息</block>
  <block id="5588ae2f49d1e757beab3bc8384b0af4" category="paragraph">如果触发了 AMQS 警报，请检查系统上的负载—如果存在大量事务，则该警报应随着时间的推移自行解决。在这种情况下，您可以忽略警报。</block>
  <block id="a714d5283a607d51de002ef7798ceec7" category="paragraph">如果警报持续存在且严重性增加，请查看队列大小图表。如果此数量在数小时或数天内稳定增加，则审核负载可能已超过系统的审核容量。通过将审核级别更改为 " 错误 " 或 " 关闭 " 来降低客户端操作速率或减少记录的审核消息数量。请参见 <block ref="ae288695ae0d1fa43aff6e30548d4024" category="inline-xref-macro-rx"></block>。</block>
  <block id="b6e67a00b8abdb0dfef0f8404d4e3180" category="paragraph">AOTE</block>
  <block id="6ea6e6b3037055870d9a4ec46b18b9d3" category="paragraph">存储状态</block>
  <block id="6283cfd5033ef4b34285eca5e0fd2dd4" category="paragraph">如果 "Store State" 的值为 Waiting for Target" ，请检查外部归档存储系统并确保其正常运行。如果刚刚将归档节点添加到 StorageGRID 系统，请确保已正确配置归档节点与目标外部归档存储系统的连接。</block>
  <block id="726540851de3f17322b8ef1e8a4918c8" category="paragraph">如果 " 存储状态 " 的值为 " 脱机 " ，请检查 " 存储状态 " 的值。在将存储状态移回联机之前更正所有问题。</block>
  <block id="fdd4f542fcf989de5e89f2b51d52dd32" category="paragraph">AOTU</block>
  <block id="8942758d8a8aa6563f0e844cd8ee4209" category="paragraph">存储状态</block>
  <block id="1a3b8a5f72ed022b349763a301df2b7b" category="paragraph">如果 "Store Status" （存储状态）的值为 "Session lost" （会话丢失），请检查外部归档存储系统是否已连接并联机。</block>
  <block id="a83e7ed2571b1bbc083a747d40695c95" category="paragraph">如果 "Target Error" 的值为，请检查外部归档存储系统是否存在错误。</block>
  <block id="a96ae0122a7116b8bc738bde431e1124" category="paragraph">如果 "Store Status" 的值为 "Unknown" 错误，请联系技术支持。</block>
  <block id="7d9de620a3032544712378f69223fcf3" category="paragraph">APM</block>
  <block id="f8ab7e0049c107f449c0d508fc76ca97" category="paragraph">存储多路径连接</block>
  <block id="a7885c51c567427cd74513f0c6e0d563" category="paragraph">SSM</block>
  <block id="08fa91423b19ed014f103188933aa4e5" category="paragraph">如果多路径状态警报显示为 `Degraded` （选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * ，然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * SSM* &gt; * 事件 * ），请执行以下操作：</block>
  <block id="5959bfc636b0796dda464abb6357c8ed" category="list-text">插入或更换不显示任何指示灯的缆线。</block>
  <block id="d49b0eaf48c99e121e1f65e20143c48b" category="list-text">等待一到五分钟。</block>
  <block id="418a65eef82b467d6bffa6651fe1e578" category="paragraph">在插入另一根缆线至少五分钟后，再拔下另一根缆线。过早拔出可能会使根卷发生原因 变为只读，这要求重新启动硬件。</block>
  <block id="3a53561cb0eb5c645dd6ff46e72bbffb" category="list-text">返回到 * SSM* &gt; * 资源 * 页面，并验证存储硬件部分中的 `Degraded` 多路径状态是否已更改为 "`nominal` " 。</block>
  <block id="6ebda89347825e30139f8d08ebbe19a2" category="paragraph">Arce</block>
  <block id="9c5f2ed856b003ffd4e0023eaed240c2" category="paragraph">弧状态</block>
  <block id="0ebcfd0536dc62fbdc0a5c70596e8074" category="paragraph">在所有旋转组件（复制，存储，检索，目标）启动之前，此旋转式应用程序服务的状态均为 " 备用 " 。然后过渡到联机。</block>
  <block id="dcd27c78994731801d02ac92507c6351" category="paragraph">如果 "ARC-State" 值未从 " 备用 " 过渡到 " 联机 " ，请检查这些组件的状态。</block>
  <block id="c814dc7999e20581fac3fe265e452e43" category="paragraph">如果 "ARC-State" 的值为 "Offlin" ，请重新启动此服务。如果问题仍然存在，请联系技术支持。</block>
  <block id="4716e52e53033057761a2fff05e608ac" category="paragraph">AROQ</block>
  <block id="0cabd2a856fc0c570277634da0c2821c" category="paragraph">已排队的对象</block>
  <block id="7caacc3a1af485f7e3d07727c6f02403" category="paragraph">如果可移动存储设备由于目标外部归档存储系统出现问题而运行缓慢，或者遇到多个读取错误，则可能会触发此警报。检查外部归档存储系统是否存在错误，并确保其正常运行。</block>
  <block id="6ea89fdc8f08fcffbe078d37d5f625e8" category="paragraph">在某些情况下，此错误可能是由于数据请求率较高而导致的。监控在系统活动减少时排队的对象数量。</block>
  <block id="45c72b428a114650f658bf3ced25a8a9" category="paragraph">ARRF</block>
  <block id="b3c9af59bada31446ea168290dad4be9" category="paragraph">请求失败</block>
  <block id="e0da45b9fc50ca436b0a2aafeba1a49b" category="paragraph">如果从目标外部归档存储系统检索失败，则归档节点会重试检索，因为此失败可能是由于瞬时问题描述 造成的。但是，如果对象数据已损坏或已标记为永久不可用，则检索不会失败。相反，归档节点会持续重试检索，而请求失败的值会继续增加。</block>
  <block id="1c98de6c9135561de2de2837c3cf08d1" category="paragraph">此警报可能指示保存所请求数据的存储介质已损坏。检查外部归档存储系统以进一步诊断此问题。</block>
  <block id="209f58df840dd0f72505ee2f9c7a664e" category="paragraph">如果确定对象数据不再位于归档中，则必须从 StorageGRID 系统中删除该对象。有关详细信息，请联系技术支持。</block>
  <block id="8e1932c88a6dcf1ca60d8215c1b4da81" category="paragraph">触发此警报的问题解决后，重置故障计数。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * ARC* &gt; * 检索 * &gt; * 配置 * &gt; * 主 * ，选择 * 重置请求失败计数 * 并单击 * 应用更改 * 。</block>
  <block id="d57fb94f8b448e8babd6be0f2d0839f0" category="paragraph">ARRV</block>
  <block id="9e4440d7771f7083350cb7ae18bad9c7" category="paragraph">验证失败</block>
  <block id="aa6ba115213fb1ac38e73193e5f18cb5" category="paragraph">要诊断并更正此问题，请联系技术支持。</block>
  <block id="148529c28bf439f542f23072865df7d1" category="paragraph">触发此警报的问题解决后，重置故障计数。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * ARC* &gt; * 检索 * &gt; * 配置 * &gt; * 主 * ，选择 * 重置验证失败计数 * 并单击 * 应用更改 * 。</block>
  <block id="a4d6d3916f95c87c68bed57d2e80925b" category="paragraph">ARVF</block>
  <block id="680d0d6d9127bb227946fe0c007c2160" category="paragraph">存储故障</block>
  <block id="706ef53c6259f7cf4a7fefc8e94faed6" category="paragraph">如果目标外部归档存储系统出错，可能会出现此警报。检查外部归档存储系统是否存在错误，并确保其正常运行。</block>
  <block id="39e695660b854d3a3e269c7ca1bc1fce" category="paragraph">触发此警报的问题解决后，重置故障计数。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * ARC* &gt; * 检索 * &gt; * 配置 * &gt; * 主 * ，选择 * 重置存储故障计数 * ，然后单击 * 应用更改 * 。</block>
  <block id="5faee39aaf260fbd58b8475e0d3b325f" category="paragraph">ASXP</block>
  <block id="6462247388d72e5ced4e6b4eda31b1e9" category="paragraph">审核共享</block>
  <block id="065d784b407aa4ed171c0461a8e7cca7" category="paragraph">AMS</block>
  <block id="02c1e5aabd937ec008342b257b0d4fc9" category="paragraph">如果审核共享的值为未知，则会触发警报。此警报可能指示管理节点的安装或配置出现问题。</block>
  <block id="027486fba6b69c6cd8d556cd031d074c" category="paragraph">AUMA</block>
  <block id="b05b3b6705d80e97b886680978060ed2" category="paragraph">AMS 状态</block>
  <block id="78a7c1e047667070e0fd56c1517aca3d" category="paragraph">如果 AMS Status 的值为 DB Connectivity Error ，请重新启动网格节点。</block>
  <block id="1eca79426c11659c0ddaf227fb8c98e5" category="paragraph">AUME</block>
  <block id="9a34033968ed0f4745f7d1d4e0e43be1" category="paragraph">AMS 状态</block>
  <block id="fb56fe3f72e2592f3187d7e92f1e6f6c" category="paragraph">如果 AMS State 的值为 "Standby" ，请继续监控 StorageGRID 系统。如果问题仍然存在，请联系技术支持。</block>
  <block id="993dafe6ea5ad0bdaf0fbb1545f7a40a" category="paragraph">如果 AMS State 的值为 Offline ，请重新启动服务。如果问题仍然存在，请联系技术支持。</block>
  <block id="0b7faf0709b23899bfdc8ed50834d736" category="paragraph">AUXS</block>
  <block id="63c4475d97508468a8f148c7d5288caf" category="paragraph">审核导出状态</block>
  <block id="076d57dabfc54c3d91daee0d21071ef8" category="paragraph">如果触发警报，请更正根本问题，然后重新启动 AMS 服务。</block>
  <block id="71b89f719732e37aeff8a17f434a2447" category="paragraph">badd</block>
  <block id="ea7e77ee2db94f04dabc0efcde25aa04" category="paragraph">存储控制器故障驱动器计数</block>
  <block id="88ea54e22bf92137b5e81780f8564ebc" category="paragraph">如果 StorageGRID 设备中的一个或多个驱动器出现故障或不是最佳驱动器，则会触发此警报。根据需要更换驱动器。</block>
  <block id="1672f5c14b0beab044c02884a30f1e5b" category="paragraph">BASF</block>
  <block id="94c8df4c68c176a5078a56d4b4d1b946" category="paragraph">可用对象标识符</block>
  <block id="d2fae5bc334d895c30c7e24d839086a0" category="paragraph">CMN</block>
  <block id="2b7f1ffaeff70f8f8b0f1c48ed1ea710" category="paragraph">配置 StorageGRID 系统后，系统会为 CMN 服务分配固定数量的对象标识符。当 StorageGRID 系统开始用尽其对象标识符时，会触发此警报。</block>
  <block id="8260d7581a633a84377f38bbe4a8c562" category="paragraph">要分配更多标识符，请联系技术支持。</block>
  <block id="e1618eb6a84ac61faefe0a87d5649689" category="paragraph">重声</block>
  <block id="a3f5152404cf197c3a5d3f96f89d7ffd" category="paragraph">标识符块分配状态</block>
  <block id="36e69182de069d5d964f4ad69e2bd060" category="paragraph">默认情况下，如果无法分配对象标识符，因为无法达到模数转换仲裁，则会触发警报。</block>
  <block id="9884d22224ab7994e40b1a061ac788f4" category="paragraph">要在 CMN 服务上分配标识符块，需要使模拟学习中心服务达到联机和连接的仲裁（ 50% + 1 ）。如果仲裁不可用，则 CMN 服务将无法分配新的标识符块，直到重新建立了模板仲裁为止。如果丢失了模块转换仲裁，通常不会对 StorageGRID 系统产生任何即时影响（客户端仍可载入和检索内容），因为大约一个月的标识符会缓存在网格中的其他位置； 但是，如果此情况持续存在，则 StorageGRID 系统将无法载入新内容。</block>
  <block id="334819cf3a201de214662b51efb1b63f" category="paragraph">如果触发警报，请调查丢失 ADC 仲裁的原因（例如，可能是网络或存储节点故障）并采取更正措施。</block>
  <block id="68f5d877759000bf2bc553fccae351a3" category="paragraph">BRDT</block>
  <block id="35290ea3124c9a68d475af4eb32aa537" category="paragraph">计算控制器机箱温度</block>
  <block id="1d1536154f3ad1f9aceeef9c70073495" category="paragraph">如果 StorageGRID 设备中计算控制器的温度超过额定阈值，则会触发警报。</block>
  <block id="0f0b2a666f9445c683c128aab9b816d8" category="paragraph">检查硬件组件和环境问题是否过热。如有必要，请更换组件。</block>
  <block id="a03bd83e83f71fb17b2ff5c47d7ad539" category="paragraph">BTOF</block>
  <block id="dfd0a82c4bf37b1e90b690a22a20692e" category="paragraph">Offset</block>
  <block id="3400f6c4476822becaabd4c3e33993db" category="paragraph">BADC ， BLDR ， BNMS ， BAMS ， BCLB ， BCMN ， BARC-A</block>
  <block id="f1b2b1ba4488b3dce4b789e352c00870" category="paragraph">如果服务时间（秒）与操作系统时间相差很大，则会触发警报。在正常情况下，服务应自行重新同步。如果服务时间偏离操作系统时间太远，则可能会影响系统操作。确认 StorageGRID 系统的时间源正确无误。</block>
  <block id="d9d14d55d4110d48ee2856d44723b135" category="paragraph">BTSE</block>
  <block id="8e08f6301283a433088eb22180d0a8a3" category="paragraph">时钟状态</block>
  <block id="11fcb9b0666aeafe4f0396be1c16eee0" category="paragraph">如果服务的时间与操作系统跟踪的时间不同步，则会触发警报。在正常情况下，服务应自行重新同步。如果时间偏离操作系统时间太远，则可能会影响系统操作。确认 StorageGRID 系统的时间源正确无误。</block>
  <block id="4dd3aec3765f8b819688288f3101303c" category="paragraph">CAHP</block>
  <block id="8f3eb2cf57efe335d59709d013fb6d02" category="paragraph">Java 堆使用量百分比</block>
  <block id="9b20752f14503be0510115d06d64bbdc" category="paragraph">DDS</block>
  <block id="6093b476bb35539d0fc337b0d70a7b5d" category="paragraph">如果 Java 无法以允许有足够堆空间使系统正常运行的速率执行垃圾收集，则会触发警报。警报可能指示用户工作负载超出整个系统可用于 DDS 元数据存储的资源。检查信息板中的 ILM 活动，或者选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * ，然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * DDS * &gt; * 资源 * &gt; * 概述 * &gt; * 主 * 。</block>
  <block id="b03b45329fae6aded1d4d9e92656be68" category="paragraph">CAIH</block>
  <block id="3d0a1a4362973f56a8072573f1deecb8" category="paragraph">可用的载入目标的数量</block>
  <block id="d7903c6fba10405988390c416c8117c5" category="paragraph">此警报已弃用。</block>
  <block id="caefb2959f2429e94368f28c68c7a514" category="paragraph">CAQH</block>
  <block id="c336b8ee45c6588c1a1fa4b2bdb61f3d" category="paragraph">可用目标的数量</block>
  <block id="d261e6f3413faf842063891b15d49c12" category="paragraph">当可用 LDR 服务的基本问题得到更正时，此警报将清除。确保 LDR 服务的 HTTP 组件处于联机状态并正常运行。</block>
  <block id="e41ee28e036aab0388bea90110a2ec74" category="paragraph">CASA</block>
  <block id="5306fbb1850cad88e2f581cec4214de0" category="paragraph">数据存储状态</block>
  <block id="a1db827c05de4f162737571d120f9542" category="paragraph">如果 Cassandra 元数据存储不可用，则会发出警报。</block>
  <block id="6fbc9908c5c08b510efe9405b2c822e7" category="paragraph">检查 Cassandra 的状态：</block>
  <block id="c639a0719f1c0800d6f18768cb6a1c18" category="list-text">在存储节点上，使用 Passwords.txt 文件中列出的密码以 admin 和 `su` 登录到 root 。</block>
  <block id="a69518a427e89c6803d6ec4fcfc877c6" category="list-text">输入： `sservice Cassandra status`</block>
  <block id="f7936059bd8976376f9bbe5f7bcdcc75" category="list-text">如果 Cassandra 未运行，请重新启动它： `sservice Cassandra restart`</block>
  <block id="5e32a2d87f7d89a64ca1516f7c923cbd" category="paragraph">此警报还可能指示存储节点的元数据存储（ Cassandra 数据库）需要重建。</block>
  <block id="129d4b7d8adc04e58d16b9e3dc936832" category="inline-xref-macro">对元数据问题进行故障排除</block>
  <block id="bc0ab2b58dde686cbf6a1788651a044d" category="paragraph">请参见中有关对服务进行故障排除的信息：状态 - Cassandra （ SVST ）警报 <block ref="b298670d2d55c367430ec8c2e4d5363b" category="inline-xref-macro-rx"></block>。</block>
  <block id="72e03511d2fa4b1c842b61b09f54bdc7" category="paragraph">数据存储状态</block>
  <block id="a0ef7d926a9bc67440fc5ba7b5d722bd" category="paragraph">安装或扩展期间会触发此警报，以指示新的数据存储正在加入网格。</block>
  <block id="4fdbf49141684bd0592217bf2c127678" category="paragraph">CCE</block>
  <block id="09f936db073468749e8fa26f3e185ec4" category="paragraph">传入会话—已建立</block>
  <block id="e19ce08026b438c9acd5d51f76f1d4f3" category="paragraph">如果网关节点上当前有 20 ， 000 个或更多 HTTP 会话处于活动状态（已打开），则会触发此警报。如果客户端的连接太多，您可能会看到连接失败。您应减少工作负载。</block>
  <block id="3d645983387566a4af67b11ff5f6bc1d" category="paragraph">CCNA</block>
  <block id="7a63ae7d36af0d6e2faf2cff217ef6e0" category="paragraph">计算硬件</block>
  <block id="eb22a0d74b9d4e794939aaabf445b876" category="paragraph">如果需要注意 StorageGRID 设备中计算控制器硬件的状态，则会触发此警报。</block>
  <block id="2ff12b63f24ded470d3bb78d09f9fff6" category="paragraph">CDLP</block>
  <block id="4ecfc7b6081d47b885d0b737df507d66" category="paragraph">元数据已用空间（百分比）</block>
  <block id="e879f3892ad64fddcbcecede8411e850" category="paragraph">当元数据有效空间（ Metadata Effective Space ， CEMS ）达到 70% 全满（次要警报）， 90% 全满（主要警报）和 100% 全满（严重警报）时，将触发此警报。</block>
  <block id="397f08f55c86d0a8f8cf4fb5311acad9" category="paragraph">如果此警报达到 90% 阈值，则网格管理器的信息板上将显示一条警告。要尽快添加新的存储节点，您必须执行扩展操作步骤 。请参见 <block ref="00f53a1c07e278d2ecb7e620c7725966" category="inline-xref-macro-rx"></block>。</block>
  <block id="45cf11ddc8368b65af995ad8d6c08143" category="paragraph">如果此警报达到 100% 阈值，则必须停止载入对象并立即添加存储节点。Cassandra 需要一定的空间来执行诸如压实和修复等基本操作。如果对象元数据使用的空间超过允许的 100% ，则这些操作将受到影响。可能会出现不希望的结果。</block>
  <block id="50c2c43824ad21328de7f54e1f5c0c14" category="paragraph">* 注 * ：如果无法添加存储节点，请联系技术支持。</block>
  <block id="972c16d312f719bb8cabf0788d40a88e" category="paragraph">添加新存储节点后，系统会自动在所有存储节点之间重新平衡对象元数据，并清除警报。</block>
  <block id="aec5577b43643757558617206d479185" category="paragraph">另请参见中有关对 " 低元数据存储 " 警报进行故障排除的信息 <block ref="b298670d2d55c367430ec8c2e4d5363b" category="inline-xref-macro-rx"></block>。</block>
  <block id="d705961ec2799b0799deecdc7545b5f6" category="paragraph">CLBA</block>
  <block id="288c2c576358a614e066c67b2e4d854e" category="paragraph">CLB 状态</block>
  <block id="c23298a18d9bffffb2fcf09ebc003b1e" category="paragraph">如果触发警报，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * ，然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * CLB* &gt; * 概述 * &gt; * 主 * 和 * CLB* &gt; * 警报 * &gt; * 主 * 以确定警报的发生原因 并解决问题。</block>
  <block id="906979cb7cf62cfb50516e84f4a6d2e6" category="paragraph">CLBE</block>
  <block id="0892fc2abcf826bf7b2b90c604c1ff94" category="paragraph">CLB 状态</block>
  <block id="ea059cb4e46545211c684fe25e455b6c" category="paragraph">如果 CLB 状态的值为 " 备用 " ，请继续监控此情况，如果问题仍然存在，请联系技术支持。</block>
  <block id="b849176c204896c8ae481e3ae3a4c385" category="paragraph">如果此状态为脱机，并且没有已知的服务器硬件问题（例如，服务器已拔出）或计划的停机，请重新启动此服务。如果问题仍然存在，请联系技术支持。</block>
  <block id="f35660184005a7e378ca05d3d2698fd9" category="paragraph">CMNA</block>
  <block id="155722b3a729d7f6d50a970d72a5e84c" category="paragraph">CMN 状态</block>
  <block id="4a24351940c0974a599c721bda64c4ed" category="paragraph">如果 CMN Status 的值为 Error ，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * ，然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * CMN* &gt; * 概述 * &gt; * 主 * 和 * CMN* &gt; * 警报 * &gt; * 主 * 以确定错误的发生原因 并对问题进行故障排除。</block>
  <block id="836f9b1db419e00e6aaf2c7f05adde40" category="paragraph">切换 CMNS 后，在主管理节点硬件刷新期间会触发警报，并且 CMN 状态值为无联机 CMN （旧的 CMN 状态值为 " 备用 " ，新的 " 联机 " ）。</block>
  <block id="91c13888ef091df4d66d9c5f064bccaa" category="paragraph">CPRC</block>
  <block id="fd4f025e5c5b1e5f3d0059341bf2004f" category="paragraph">剩余容量</block>
  <block id="4361b6a8be3121759a7d4ef8d29871a3" category="paragraph">NMS</block>
  <block id="3d7f37a3638477c3a47a0b7f118ae093" category="paragraph">如果剩余容量（可打开到 NMS 数据库的可用连接数）降至配置的警报严重性以下，则会触发警报。</block>
  <block id="a4dd485d579cff0bfb11a2007fcf637c" category="paragraph">如果触发了警报，请联系技术支持。</block>
  <block id="abf1f2330da7b4489352257391599d96" category="paragraph">CPSA</block>
  <block id="c9d896889ebcd6a0ec6f7610d50b2ca7" category="paragraph">计算控制器电源 A</block>
  <block id="6fb48a39763ee31ba65d5d0ac02661c7" category="paragraph">如果 StorageGRID 设备的计算控制器中存在电源为 A 的问题描述 ，则会触发警报。</block>
  <block id="29120b90de097a0bff925efb10af9cbd" category="paragraph">如有必要，请更换组件。</block>
  <block id="c70bfeff579a56f555ba973a14c5771b" category="paragraph">cPSB</block>
  <block id="2137eaaada21eb54145c289bd5dbc6d3" category="paragraph">计算控制器电源 B</block>
  <block id="ff1e843e4761a54a24b5d47a881681c3" category="paragraph">如果 StorageGRID 设备的计算控制器中存在电源为 B 的问题描述 ，则会触发警报。</block>
  <block id="787234bce7dcbc08bb22482844c004cc" category="paragraph">CPUT</block>
  <block id="e52454012de67b2e9bdd1f7c880d89ab" category="paragraph">计算控制器 CPU 温度</block>
  <block id="4862ba0d8ff4da4f74d4b0be286755b8" category="paragraph">如果 StorageGRID 设备中计算控制器中的 CPU 温度超过额定阈值，则会触发警报。</block>
  <block id="c9c809801f28bdf33c4d285d66b3f3d9" category="paragraph">如果存储节点是 StorageGRID 设备，则 StorageGRID 系统指示需要关注控制器。</block>
  <block id="11b0ed45f808982a443dda8381a88d41" category="paragraph">检查硬件组件和环境问题是否存在过热情况。如有必要，请更换组件。</block>
  <block id="d7c6aeb0cd12f00a504aff360d4a4977" category="paragraph">DNST</block>
  <block id="7cb2d2acbe7b08de993687906482d831" category="paragraph">DNS 状态</block>
  <block id="e63c0ce7bb774875e2a4929685e5046f" category="paragraph">安装完成后，将在 SSM 服务中触发 DNST 警报。配置 DNS 并将新服务器信息访问到所有网格节点后，警报将被取消。</block>
  <block id="f0c922080d2f065c1e4307288eb09c5d" category="paragraph">ECCD</block>
  <block id="1a93e1c6ecd04c5a23b80efe71e28574" category="paragraph">检测到损坏的片段</block>
  <block id="9042b6c47ae780b2b93367739c35a786" category="paragraph">当后台验证过程检测到损坏的纠删编码片段时，将触发警报。如果检测到损坏的片段，则会尝试重建该片段。重置检测到的损坏片段，并将丢失的属性复制到零，然后对其进行监控，以查看计数是否再次增加。如果计数增加，则存储节点的底层存储可能会出现问题。除非丢失或损坏的碎片数量违反纠删代码的容错能力，否则不会认为缺少纠删编码对象数据的副本；因此，可能存在损坏的碎片，并且仍能检索对象。</block>
  <block id="ba5964ba77f3cf298bd8e5d3f9b51898" category="paragraph">ECST</block>
  <block id="dcf9ac5128c95d88e068e223dfe01d27" category="paragraph">验证状态</block>
  <block id="34d25b150c84b368acadd91bc6075eaf" category="paragraph">此警报指示此存储节点上经过纠删编码的对象数据的后台验证过程的当前状态。</block>
  <block id="89e4e454dd564eb5c1e9cf5f6752b3f8" category="paragraph">如果后台验证过程出现错误，则会触发重大警报。</block>
  <block id="e2a3d09f336956246b1ea9e65f059934" category="paragraph">FWPN</block>
  <block id="ca49bca55b8e6b16663f38cfe0a9a672" category="paragraph">打开文件描述符</block>
  <block id="1ce50b9e97bf24ffd4ee88cb5791a6c0" category="paragraph">在活动高峰期间， FWPN 可能会变大。如果在活动缓慢期间不会减少，请联系技术支持。</block>
  <block id="a40962320dc19507b708b39e8c809610" category="paragraph">HSTE</block>
  <block id="1f5b6a20edd7ede5dd19d0bf77fdad55" category="paragraph">HTTP 状态</block>
  <block id="e1a5e3bcce03c3fbb9c3e9aff27ff86c" category="paragraph">BLDR</block>
  <block id="4c6faa2332545eb5788b5554a9094064" category="paragraph">请参见建议的 HSTU 操作。</block>
  <block id="00171aa33a48e003f5eaeba8c05b2775" category="paragraph">HSTU</block>
  <block id="7ed20aba2f86e02a624ba7ef1cf521db" category="paragraph">HTTP 状态</block>
  <block id="2cf656ff06a362483bae0fe26e6473e6" category="paragraph">HSTE 和 HSTU 与所有 LDR 流量的 HTTP 协议相关，包括 S3 ， Swift 和其他内部 StorageGRID 流量。警报表示已发生以下情况之一：</block>
  <block id="e43d1abd7177ceae13b597c0a0f6dae3" category="list-text">HTTP 协议已手动脱机。</block>
  <block id="224b720bbb0ccad61844e5ffa622c256" category="list-text">已禁用自动启动 HTTP 属性。</block>
  <block id="c552c57da564736a06ade92e6777e2f5" category="list-text">LDR 服务正在关闭。</block>
  <block id="c4c7b6edf250f43c127088c04e0cd02a" category="paragraph">默认情况下，自动启动 HTTP 属性处于启用状态。如果更改此设置， HTTP 可能会在重新启动后保持脱机状态。</block>
  <block id="ed8d7887df44284259d657a30f361340" category="paragraph">如有必要，请等待 LDR 服务重新启动。</block>
  <block id="716bf18dd48c9c1003412d1033589fa6" category="paragraph">选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 存储节点 _* &gt; * LDR* &gt; * 配置 * 。如果 HTTP 协议处于脱机状态，请将其置于联机状态。验证是否已启用自动启动 HTTP 属性。</block>
  <block id="5c48d26e5c78d4d827b30602af1ae3be" category="paragraph">如果 HTTP 协议仍处于脱机状态，请联系技术支持。</block>
  <block id="a5230b8ca26431090955175c76157550" category="paragraph">HTA</block>
  <block id="a46716d6ddfb9fe4b516c3757390850a" category="paragraph">自动启动 HTTP</block>
  <block id="74969ff8b8e1a26f347bcd32c8aa041b" category="paragraph">指定是否在启动时自动启动 HTTP 服务。这是用户指定的配置选项。</block>
  <block id="860a970e9db6cb95ca097f897d0b5511" category="paragraph">IRSU</block>
  <block id="f2b0ee54ec7c5b8df6bdefc371a69e4f" category="paragraph">入站复制状态</block>
  <block id="97bb81a07a3ed792e2313d5405af9e52" category="paragraph">BLDR ， BARR</block>
  <block id="2d781061dd4f15eefb1ecbef7645972a" category="paragraph">警报指示已禁用入站复制。确认配置设置：选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * LDR* &gt; * 复制 * &gt; * 配置 * &gt; * 主 * 。</block>
  <block id="59c06809b87dce2a6eae76bf91b957c2" category="paragraph">延迟</block>
  <block id="4a3eb27a7f301e9be259f35e484b176e" category="paragraph">平均延迟</block>
  <block id="a162ae5156215517725837431e8e8c7c" category="paragraph">检查连接问题。</block>
  <block id="4abbeb852fe108a19c34ddbdd648217f" category="paragraph">检查系统活动以确认系统活动有所增加。系统活动增加将导致属性数据活动增加。这种增加的活动将导致属性数据处理延迟。这可以是正常的系统活动，也可以是次要活动。</block>
  <block id="8adbcc5895a3a6e1e74fa7712ae5ee94" category="paragraph">检查是否存在多个警报。触发的警报数量过多可能表明平均延迟时间增加。</block>
  <block id="4a2d77fc3d628990dff786672819c124" category="paragraph">LDRE</block>
  <block id="559c826d4bad67f332bae80356bdf97a" category="paragraph">LDR 状态</block>
  <block id="664cc140b9e08d95dd3327bfa1a24eac" category="paragraph">如果 LDR 状态值为 " 备用 " ，请继续监控此情况，如果问题仍然存在，请联系技术支持。</block>
  <block id="8043f4ad9ad2ead4fa88b0bbdcce7649" category="paragraph">如果 LDR 状态值为脱机，请重新启动服务。如果问题仍然存在，请联系技术支持。</block>
  <block id="c6daca30aef2af1d72715733825806a3" category="paragraph">已丢失</block>
  <block id="8ed02a5f177d51dfec32ff148feda296" category="paragraph">对象丢失</block>
  <block id="31ea14e8b21cafab932d71b139e50d18" category="paragraph">DDS ， LDR</block>
  <block id="c130496f10bf2c3d0a8d2c57086b3622" category="paragraph">当 StorageGRID 系统无法从系统中的任何位置检索所请求对象的副本时触发。在触发 " 丢失（丢失的对象） " 警报之前，系统会尝试从系统中的其他位置检索并更换缺失的对象。</block>
  <block id="ce79dc3a9f66f65a841580a475a5d7b3" category="paragraph">对象丢失表示数据丢失。只要对象的位置数降至零，并且 DDS 服务未特意清除内容以满足 ILM 策略， " 丢失对象 " 属性就会递增。</block>
  <block id="c620b065a18b44fb9e556e6e1c9b341e" category="paragraph">立即调查丢失（对象丢失）警报。如果问题仍然存在，请联系技术支持。</block>
  <block id="6b92f7ff810aa3fa5529561a46d20d1d" category="paragraph"><block ref="6b92f7ff810aa3fa5529561a46d20d1d" category="inline-xref-macro-rx"></block></block>
  <block id="bb95f7254968a8241a8aa81310a425bd" category="paragraph">MCEP</block>
  <block id="3e8097a215736871c47ffc515f122885" category="paragraph">管理接口证书到期</block>
  <block id="8946d01a7f2c89d387de480260bd801d" category="paragraph">用于访问管理接口的证书即将过期时触发。</block>
  <block id="743a2c9288e4cbea7ea3ed242603751d" category="list-text">在网格管理器中，选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * 。</block>
  <block id="beb68c7f8b757254fbbe3ebc9f01e033" category="list-text">在 * 全局 * 选项卡上，选择 * 管理接口证书 * 。</block>
  <block id="7695a1444fbfa259e593d962e320ed16" category="inline-xref-macro">上传新的管理接口证书。</block>
  <block id="cf7829964838bf3226440fac0f1126c1" category="list-text"><block ref="cf7829964838bf3226440fac0f1126c1" category="inline-xref-macro-rx"></block></block>
  <block id="ac9943309699b81a9163bf94412e8bb8" category="paragraph">分钟</block>
  <block id="5151737da5c9ac58bc4e655a90d14e04" category="paragraph">电子邮件通知已排队</block>
  <block id="d808004fbfbba19e3734bda6c5253f49" category="paragraph">检查托管 NMS 服务的服务器和外部邮件服务器的网络连接。另外，请确认电子邮件服务器配置正确。</block>
  <block id="429d29f435daa369fc2dd629237df631" category="paragraph"><block ref="429d29f435daa369fc2dd629237df631" category="inline-xref-macro-rx"></block></block>
  <block id="c047965cec27aa943df9a48b805a7bb5" category="paragraph">分钟</block>
  <block id="427d12ef9bb23e8de8e397662e8d2be2" category="paragraph">电子邮件通知状态</block>
  <block id="ab2155fddbcebe90db14f8b13014ec50" category="paragraph">BNMS</block>
  <block id="4c7f9bd58096708a1742968c4beda6da" category="paragraph">如果 NMS 服务无法连接到邮件服务器，则会触发一个小警报。检查托管 NMS 服务的服务器和外部邮件服务器的网络连接。另外，请确认电子邮件服务器配置正确。</block>
  <block id="5a0759bdf01c86f4e79757c43e947fa6" category="paragraph">等</block>
  <block id="13b9a7af6d733f71495a2265803d97bf" category="paragraph">NMS 接口引擎状态</block>
  <block id="8af13f6cd03638e7f341f14ccc67de3d" category="paragraph">如果管理节点上用于收集和生成接口内容的 NMS 接口引擎与系统断开连接，则会触发警报。检查服务器管理器以确定服务器单个应用程序是否已关闭。</block>
  <block id="cfea5aa691a478fa0e95fdd8ef8f4692" category="paragraph">Nang</block>
  <block id="7412ab1a1641b3efea2b61004fd76b27" category="paragraph">网络自动协商设置</block>
  <block id="976da4093c07d96ca498861bc0c1c841" category="paragraph">检查网络适配器配置。此设置必须与您的网络路由器和交换机的首选项匹配。</block>
  <block id="83c3b1e8b522a8976e0b5eaf0437bb5e" category="paragraph">设置不正确可能会严重影响系统性能。</block>
  <block id="671bafa579a8d7d210f3f3fccaacf741" category="paragraph">NDUP</block>
  <block id="1801900199744614d5b276b65685432e" category="paragraph">网络双工设置</block>
  <block id="5b99f22c24b2bc0df13b67178f0b47b0" category="paragraph">NLNK</block>
  <block id="ec69636209402316c582f5bad20ef64a" category="paragraph">网络链路检测</block>
  <block id="73c2b94c6099d03a95aea3945bc9d8fa" category="paragraph">检查端口和交换机上的网络缆线连接。</block>
  <block id="0e9e3cb8c516b1686ffe5ed5a2bae833" category="paragraph">检查网络路由器，交换机和适配器配置。</block>
  <block id="ddf8f7db5d768026b4734be7a5fac15c" category="paragraph">重新启动服务器。</block>
  <block id="cb07cd04a82aa25d0ef80b67e35da63c" category="paragraph">NRER</block>
  <block id="efcc4b2a64049f42506d192355f42343" category="paragraph">接收错误</block>
  <block id="6520f633c7348817075ab3f3e69e8818" category="paragraph">以下可能是 NRER 警报的原因：</block>
  <block id="37ba67660930c2bac28fcce7292f46ab" category="list-text">正向错误更正（ FEC ）不匹配</block>
  <block id="a840345170720d855ad8b7ae2a940e08" category="list-text">交换机端口和 NIC MTU 不匹配</block>
  <block id="4a984beb208b0d3fafe5674ba256b902" category="list-text">链路错误率较高</block>
  <block id="ae8d391b2c6cf746fd4d83007390f494" category="list-text">NIC 环缓冲区溢出</block>
  <block id="6ed5dca89e14e76be8eece4f0f9e981e" category="inline-xref-macro">对网络，硬件和平台问题进行故障排除</block>
  <block id="32f5c4b8e5a4f32a6a0b63a8d53449e6" category="paragraph">请参见中有关对网络接收错误（ NRER ）警报进行故障排除的信息 <block ref="14f51b91662cc57f2514869dfa4883cd" category="inline-xref-macro-rx"></block>。</block>
  <block id="957475dfd825e40eb4f2379f142f8b2e" category="paragraph">NRLY</block>
  <block id="cb0798fbd29ffb192631ee987d1ddc71" category="paragraph">可用的审核中继</block>
  <block id="9bfaf897cf28b8ca0256438c18c5bce9" category="paragraph">BADC ， BARC ， BCLB ， BCMN ， BLDR ， BNMS ， BDDS</block>
  <block id="35fef5298a7e09b10803080d67efcc37" category="paragraph">如果审核中继未连接到 ADC- 服务，则无法报告审核事件。它们将排队，在连接恢复之前不可供用户使用。</block>
  <block id="29790391318bc5c054739d2630d91f29" category="paragraph">请尽快恢复与模数转换器服务的连接。</block>
  <block id="0c5fb73299a5cca9e38fc456b55a59b1" category="paragraph">NSCA</block>
  <block id="b0bdf210876183797094c06419cdc7c3" category="paragraph">NMS 状态</block>
  <block id="1729a7306803055d95e3b1e5e55bdfdf" category="paragraph">如果 NMS Status 的值为 DB Connectivity Error ，请重新启动此服务。如果问题仍然存在，请联系技术支持。</block>
  <block id="e64f336d0f36451726f9374306850c85" category="paragraph">NSCE</block>
  <block id="1c874d7f47566055b6922932539c185f" category="paragraph">NMS 状态</block>
  <block id="cd9ee531e767f229ac0a483e4358bf55" category="paragraph">如果 NMS 状态的值为 " 备用 " ，请继续监控，如果问题仍然存在，请联系技术支持。</block>
  <block id="9b5bf59b244dfe5c570803476e042470" category="paragraph">如果 NMS 状况的值为脱机，请重新启动服务。如果问题仍然存在，请联系技术支持。</block>
  <block id="b7fdc9136bb09ff6193e2577d67fa4bb" category="paragraph">NSPD</block>
  <block id="44877c6aa8e93fa5a91c9361211464fb" category="paragraph">速度</block>
  <block id="eae17622bcba97ed92750fb4d6b28104" category="paragraph">这可能是由于网络连接或驱动程序兼容性问题造成的。如果问题仍然存在，请联系技术支持。</block>
  <block id="c3379539a55eb09a8f7e2bfa4895546e" category="paragraph">NBR</block>
  <block id="082b1b5e8941e4aceac6039753b9facd" category="paragraph">可用表空间</block>
  <block id="0a6ae11365a73a4faef0fa77d5a59ee0" category="paragraph">如果触发警报，请检查数据库使用量变化的速度。突然下降（而不是随着时间的推移逐渐变化）表示出现错误情况。如果问题仍然存在，请联系技术支持。</block>
  <block id="c38f114c40dea1857f6bbd6b70e3802a" category="paragraph">通过调整警报阈值，您可以主动管理何时需要分配更多存储。</block>
  <block id="3936b6bcf2cccaed11d34bd4158852cb" category="paragraph">如果可用空间达到较低阈值（请参见警报阈值），请联系技术支持以更改数据库分配。</block>
  <block id="1cbcd3f4458185e5ba5cd673fe3d5c8f" category="paragraph">NTER</block>
  <block id="b51308d6a5409cdeadfa1f8a02fbe23b" category="paragraph">传输错误</block>
  <block id="2071c84c37a7bc431edefce9126e21e8" category="paragraph">可以在不手动重置的情况下清除这些错误。如果未清除，请检查网络硬件。检查适配器硬件和驱动程序是否已正确安装并配置，以便与网络路由器和交换机配合使用。</block>
  <block id="47e24a6a2bbc2228ebd92df93d80ada9" category="paragraph">解决底层问题后，重置计数器。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * SSM* &gt; * 资源 * &gt; * 配置 * &gt; * 主 * ，选择 * 重置传输错误计数 * ，然后单击 * 应用更改 * 。</block>
  <block id="552bed57df29726e37d88696173151e8" category="paragraph">NTFQ</block>
  <block id="2a5380435df311de5bfad5a81cac3cac" category="paragraph">NTP 频率偏移</block>
  <block id="ec7d370d7b1e3f76b326b436d1107466" category="paragraph">如果频率偏移超过配置的阈值，则本地时钟可能存在硬件问题。如果问题仍然存在，请联系技术支持以安排更换。</block>
  <block id="206c3bdd92d8438f02115e120cd759b0" category="paragraph">NTLK</block>
  <block id="bdb71b182608777f2784ab3fe26a1e23" category="paragraph">NTP 锁定</block>
  <block id="dc9870888fd388fc1217a1d444eb5047" category="paragraph">如果 NTP 守护进程未锁定到外部时间源，请检查与指定外部时间源的网络连接，这些时间源的可用性及其稳定性。</block>
  <block id="b87b6b0a3d2301b35b69b6e22dce1b22" category="paragraph">NTOF</block>
  <block id="2c167333806891ee1632537c29ec147a" category="paragraph">NTP 时间偏移</block>
  <block id="5325ab9a9ac0160fe75b2edd3e156e38" category="paragraph">如果时间偏移超过配置的阈值，则本地时钟的振铃器可能存在硬件问题。如果问题仍然存在，请联系技术支持以安排更换。</block>
  <block id="194b77a2174cb24ea8deb179432f7bf0" category="paragraph">NTSJ</block>
  <block id="a28522d56ba6a88e33eafe89291ae79d" category="paragraph">选定时间源抖动</block>
  <block id="55fb7b086dab06b202aaa5a80df8c989" category="paragraph">此值表示本地服务器上的 NTP 用作参考的时间源的可靠性和稳定性。</block>
  <block id="d41ccf1c1567eae2d4b224e290d05d97" category="paragraph">如果触发警报，则可能表示时间源的振荡器有缺陷，或者与时间源的 WAN 链路出现问题。</block>
  <block id="0a1c2b210bba04ff05b1739c051555d0" category="paragraph">Ntlu</block>
  <block id="c2ded4627d32cfc63d5d4dbb2f7f4e3b" category="paragraph">NTP 状态</block>
  <block id="0844f847e821743820ec1df78142c78a" category="paragraph">如果 "NTP Status" 的值未运行，请联系技术支持。</block>
  <block id="4fbf2f89a35351f12d300f10d2f0bde3" category="paragraph">OPST</block>
  <block id="77341dfe1a8d1332c7f1c253b99eca05" category="paragraph">整体电源状态</block>
  <block id="4e2fc6645c0e8d92e70a693d1e8ab0a4" category="paragraph">如果 StorageGRID 设备的电源与建议的工作电压不同，则会触发警报。</block>
  <block id="e58293eb840d31b2484e70574df25992" category="paragraph">检查电源 A 或 B 的状态以确定哪个电源运行异常。</block>
  <block id="f1aea751cd1346935c939813d2307f17" category="paragraph">如有必要，请更换电源。</block>
  <block id="de1399eede932849df8b3a0b135dfc7b" category="paragraph">OQRT</block>
  <block id="ef68d7a95fab08df1b253a80d17c2526" category="paragraph">已隔离对象</block>
  <block id="b321420bde4b09f983b7a3ee2e2d6bf4" category="paragraph">在 StorageGRID 系统自动还原对象后，可以从隔离目录中删除隔离的对象。</block>
  <block id="0ffa43a26ca0734577e5cc42ec179118" category="list-text">选择 * 站点 * &gt; * 存储节点 * &gt; * LDR* &gt; * 验证 * &gt; * 配置 * &gt; * 主 * 。</block>
  <block id="5354e233131d832685306d6180ec8be0" category="list-text">选择 * 删除隔离的对象 * 。</block>
  <block id="bc752e2f6c7776f6b212be5ee1c445d9" category="paragraph">隔离的对象将被删除，计数将重置为零。</block>
  <block id="7feebab82097d1e3697cdc4c0c3f2320" category="paragraph">ORSU</block>
  <block id="715778f62508039c5580f3a19944973f" category="paragraph">出站复制状态</block>
  <block id="eb97f40ed73481e180bf43fec2922ffd" category="paragraph">警报指示无法进行出站复制：存储处于无法检索对象的状态。如果手动禁用了出站复制，则会触发警报。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * LDR* &gt; * 复制 * &gt; * 配置 * 。</block>
  <block id="c393ebb57d172207dabd207b16c07537" category="paragraph">如果 LDR 服务不可用于复制，则会触发警报。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * LDR* &gt; * 存储 * 。</block>
  <block id="956dc8ca79dc82afbacfc9ef6bd9555a" category="paragraph">OSLF</block>
  <block id="179a983492f3c36f001c47f198d21904" category="paragraph">磁盘架状态</block>
  <block id="7bbe4f1bb38228ba8d9613bb73a699ab" category="paragraph">如果存储设备存储架中某个组件的状态为已降级，则会触发警报。存储架组件包括 IOM ，风扇，电源和驱动器抽盒。如果触发此警报，请参见设备的维护说明。</block>
  <block id="9c1343b65a65b57d08b7d6ba62725339" category="paragraph">PMEM</block>
  <block id="5873a893763c99e1dd44f62f6421cca3" category="paragraph">服务内存使用量（百分比）</block>
  <block id="57571cbca4845195f53f4670e546fc83" category="paragraph">可以具有大于 Y% RAM 的值，其中 Y 表示服务器正在使用的内存百分比。</block>
  <block id="741cb7852600559cf36bd3a86cec235c" category="paragraph">低于 80% 的数字是正常的。超过 90% 被视为问题。</block>
  <block id="7cfbbe4e2a83a404d264512c967559b7" category="paragraph">如果一项服务的内存使用率较高，请监控情况并进行调查。</block>
  <block id="cb18884883aa50be0c8647cc0af836ab" category="paragraph">PSAS</block>
  <block id="c31c35e2f5c05176690a472e963bea25" category="paragraph">电源 A 状态</block>
  <block id="b82bf4a80830d228f336486f5017b5ec" category="paragraph">如果 StorageGRID 设备中的电源 A 与建议的工作电压不同，则会触发警报。</block>
  <block id="9ae1c62a781a61384735492827c0f44e" category="paragraph">如有必要，请更换电源 A</block>
  <block id="ef891eb93b38f557f8c6f9b2e253c822" category="paragraph">PSB</block>
  <block id="c971c65166c00814e9be0b3ce88b33e0" category="paragraph">电源 B 状态</block>
  <block id="49f2c9190d370e7ae63edb995f9e6b5f" category="paragraph">如果 StorageGRID 设备中的电源 B 与建议的工作电压不同，则会触发警报。</block>
  <block id="a0dac29a4e90245b7e3ee740cbc2b0ee" category="paragraph">如有必要，请更换电源 B</block>
  <block id="26a665a99ab9c359d1d7839220ec3751" category="paragraph">RTTE</block>
  <block id="1d687e3060fe63f92ce1dbf462150143" category="paragraph">Tivoli Storage Manager 状态</block>
  <block id="b3a9b525fb8cede93c5e963033ed704c" category="paragraph">仅适用于目标类型为 Tivoli Storage Manager （ TSM ）的归档节点。</block>
  <block id="b1c627db0044a7d640086446baa8c2c2" category="paragraph">如果 Tivoli Storage Manager State 的值为脱机，请检查 Tivoli Storage Manager 状态并解决任何问题。</block>
  <block id="5c2a22c5441bdd30d028b21e118af8d8" category="paragraph">使组件重新联机。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * ARC* &gt; * 目标 * &gt; * 配置 * &gt; * 主要 * ，选择 * Tivoli Storage Manager State* &gt; * 联机 * ，然后单击 * 应用更改 * 。</block>
  <block id="301acc28fd5da24503a3a292bd86d40f" category="paragraph">RDTU</block>
  <block id="3b543a40b02af7acdc28770c6216ff77" category="paragraph">Tivoli Storage Manager 状态</block>
  <block id="45ff9499951294e173870b04a97bc87a" category="paragraph">如果 Tivoli Storage Manager 状态的值为配置错误，并且刚刚将归档节点添加到 StorageGRID 系统，请确保已正确配置 TSM 中间件服务器。</block>
  <block id="42a6e6485722dbf8376f78cf15635b2f" category="paragraph">如果 Tivoli Storage Manager Status 的值为 Connection Failure 或 Connection Failure ，请重试，请检查 TSM 中间件服务器上的网络配置以及 TSM 中间件服务器和 StorageGRID 系统之间的网络连接。</block>
  <block id="949a1309d71f39a309d615819c60466d" category="paragraph">如果 Tivoli Storage Manager 状态的值为身份验证失败或身份验证失败并重新连接，则 StorageGRID 系统可以连接到 TSM 中间件服务器，但无法对连接进行身份验证。检查 TSM 中间件服务器是否配置了正确的用户，密码和权限，然后重新启动服务。</block>
  <block id="8755eb572a772752a6862769b54e4f20" category="paragraph">如果 Tivoli Storage Manager Status 的值为 session failure ，则表示已建立的会话已意外丢失。检查 TSM 中间件服务器与 StorageGRID 系统之间的网络连接。检查中间件服务器是否存在错误。</block>
  <block id="094460664a52281ab7e0ab3bae29051d" category="paragraph">如果 Tivoli Storage Manager Status 的值为未知错误，请联系技术支持。</block>
  <block id="05921addc3034a1536aaf96538ca19ab" category="paragraph">RIRF</block>
  <block id="ff2e5ec151eabacad86c62ba8de7129c" category="paragraph">入站复制—失败</block>
  <block id="020b1f62b96e2fe7ea64b40b61fb71fa" category="paragraph">入站复制—在负载较高或网络临时中断期间，可能会发生故障警报。系统活动减少后，应清除此警报。如果失败的复制计数持续增加，请查找网络问题，并验证源和目标 LDR 以及 ARR 服务是否联机且可用。</block>
  <block id="035297d088ab5a12abbe36c7aa4eff41" category="paragraph">要重置计数，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * ，然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * LDR* &gt; * 复制 * &gt; * 配置 * &gt; * 主 * 。选择 * 重置入站复制失败计数 * ，然后单击 * 应用更改 * 。</block>
  <block id="3e990f2679abd5cb0b5a3f4aaf15d316" category="paragraph">RIRQ</block>
  <block id="5d71cd5eaaacb4b65078ba41ef229941" category="paragraph">入站复制—已排队</block>
  <block id="f722ee6411ebbb59413486b0220c393d" category="paragraph">在高负载或临时网络中断期间，可能会发生警报。系统活动减少后，应清除此警报。如果排队复制的数量继续增加，请查找网络问题，并验证源和目标 LDR 以及 ARR 服务是否联机且可用。</block>
  <block id="38ecc37390f3807ef691d4604ca283ed" category="paragraph">RORQ</block>
  <block id="5dab530887166e5a4f3c35d649fa60d8" category="paragraph">出站复制—已排队</block>
  <block id="c9f7ab4417a057fb1d5d1d3a6b34ce70" category="paragraph">出站复制队列包含要复制的对象数据，以满足客户端请求的 ILM 规则和对象。</block>
  <block id="3ee36e2e5a192005d6aaaf8c47fbe359" category="paragraph">系统过载可能会导致警报。等待系统活动下降时警报是否清除。如果警报再次出现，请通过添加存储节点来添加容量。</block>
  <block id="ad96bda3b69a7d8391c91cb483bf8ba5" category="paragraph">SAVP</block>
  <block id="90f1a2db1a20408ab04f66aac6a6d86c" category="paragraph">总可用空间（百分比）</block>
  <block id="73bdb443cab802a6557058c7d5852c7b" category="paragraph">如果可用空间达到较低阈值，则可选择扩展 StorageGRID 系统或通过归档节点将对象数据移动到归档。</block>
  <block id="8c4debed3a9cf33f1a0068498124e792" category="paragraph">SCA</block>
  <block id="2dac95bbe5b13b37ce8df7a36d518452" category="paragraph">如果活动网格任务的状态值为错误，请查找网格任务消息。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * CMN* &gt; * 网格任务 * &gt; * 概述 * &gt; * 主 * 。网格任务消息会显示有关此错误的信息（例如， "`check failed on node 12130011` " ）。</block>
  <block id="8083c24b9dea7f5e0d0a7c52071351b6" category="paragraph">调查并更正问题后，重新启动网格任务。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * CMN* &gt; * 网格任务 * &gt; * 配置 * &gt; * 主 * ，然后选择 * 操作 * &gt; * 运行 * 。</block>
  <block id="ab9024421959f4a9e013f42c05492403" category="paragraph">如果要中止的网格任务的状态值为错误，请重试中止网格任务。</block>
  <block id="2d3f6ed511cc5c4dbabe10e32bed1ba5" category="paragraph">SCEP</block>
  <block id="b3107d86cb96530bdd9cca0b3f89869a" category="paragraph">存储 API 服务端点证书过期</block>
  <block id="e9608deb2ebf531f033944f18d423575" category="paragraph">用于访问存储 API 端点的证书即将过期时触发。</block>
  <block id="9f857a4b16e896764c37620076b5fcf2" category="list-text">选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * 。</block>
  <block id="db212a4f33fe3079196f89f31b3d1411" category="list-text">在 * 全局 * 选项卡上，选择 * S3 和 Swift API 证书 * 。</block>
  <block id="62fd719bcc6a4db111197d39998a4724" category="inline-xref-macro">上传新的 S3 和 Swift API 证书。</block>
  <block id="413559578c886aef69409a5620ece805" category="list-text"><block ref="413559578c886aef69409a5620ece805" category="inline-xref-macro-rx"></block></block>
  <block id="d486e5f78383390b4fcc49b77f83790d" category="paragraph">SCHR</block>
  <block id="976f8521a7f7f2ebdbf0ad490556d873" category="paragraph">如果历史网格任务的状态值已中止，请调查原因并在需要时再次运行此任务。</block>
  <block id="fea067ab4b11e0224acfaab05bff8bea" category="paragraph">SCSA</block>
  <block id="4531d03817429276e89fc3d795fc022b" category="paragraph">存储控制器 A</block>
  <block id="f5fbba11a12eb86574e4d30590dbd055" category="paragraph">如果 StorageGRID 设备中存在存储控制器 A 的问题描述 ，则会触发警报。</block>
  <block id="9133e0ba05e683364606fbe98240d5c0" category="paragraph">SCSB</block>
  <block id="8777485c883fd2734c1ea2f1220e2b63" category="paragraph">存储控制器 B</block>
  <block id="235304307eba8534729b1fb3af4a3564" category="paragraph">如果 StorageGRID 设备中存在存储控制器 B 的问题描述 ，则会触发警报。</block>
  <block id="ac95cd80898357848b9b6cded2810f8c" category="paragraph">某些设备型号没有存储控制器 B</block>
  <block id="b0d88355a07abd8273b458b6cbdc2bfa" category="paragraph">SHLH</block>
  <block id="605669cab962bf944d99ce89cf9e58d9" category="paragraph">运行状况</block>
  <block id="d4644f70d50d66dd9e5a1065be77a9e8" category="paragraph">如果对象存储的 " 运行状况 " 值为 " 错误 " ，请检查并更正：</block>
  <block id="d848f19fade2ed182b41eabae62650b2" category="list-text">正在挂载的卷出现问题</block>
  <block id="2a235d579312ad76f0d741c577db9d18" category="list-text">文件系统错误</block>
  <block id="7930d56a138befde49715be336983087" category="paragraph">SLSA</block>
  <block id="f43c3aeb3300f961336e1e619cf2c241" category="paragraph">CPU 负载平均值</block>
  <block id="a575b947cf2a5b1e3c680631695063f9" category="paragraph">值越高，系统就越繁忙。</block>
  <block id="e25b79acbdf9e59c80e92acf9d7331ba" category="paragraph">如果 CPU 负载平均值保持在较高的值，则应调查系统中的事务数，以确定这是否是由于当时的负载过重所致。查看 CPU 负载平均值图表：选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * SSM* &gt; * 资源 * &gt; * 报告 * &gt; * 图表 * 。</block>
  <block id="cb39d1a66247dcc763fc28e4d9fc2dbe" category="paragraph">如果系统上的负载不大，但问题仍然存在，请联系技术支持。</block>
  <block id="21f9ca5b257ecac74b5210745205a0a3" category="paragraph">SMST</block>
  <block id="8921bb7e4f67a48af3996fdf40bc41c5" category="paragraph">日志监控状态</block>
  <block id="f1361a7fa437d70f56803936e2ff01f5" category="paragraph">如果日志监控状态值在一段时间内未连接，请联系技术支持。</block>
  <block id="bc101b4033011fc31a2ea81ead48344d" category="paragraph">SMTT</block>
  <block id="9d1266bfdcb76d5a35f8e271309eeceb" category="paragraph">事件总数</block>
  <block id="e0b669a03b5905f33a3e7bd5c17a5caf" category="paragraph">如果总事件的值大于零，请检查是否存在已知事件（例如网络故障），这些事件可以是发生原因 。除非清除了这些错误（即，计数已重置为 0 ），否则可以触发事件总数警报。</block>
  <block id="26172fa85afec2596f7ef13f5201657d" category="paragraph">解决问题描述 后，重置计数器以清除警报。选择 * 节点 * &gt; * 站点 _* &gt; * 网格节点 _* &gt; * 事件 * &gt; * 重置事件计数 * 。</block>
  <block id="6f0cb0de2d7feb5b5eac22fb164693f7" category="admonition">要重置事件计数，您必须具有网格拓扑页面配置权限。</block>
  <block id="694e96097f401260a0887f40ee1fb03e" category="paragraph">如果事件总数值为零，或者数量增加且问题仍然存在，请联系技术支持。</block>
  <block id="1c7e7b91a8e3eff1e875948679faa266" category="paragraph">SNST</block>
  <block id="8e66db51778273fd4f83e88307d7ba76" category="paragraph">警报表示存储网格任务包时出现问题。如果 " 状态 " 值为 " 检查点错误 " 或 " 未达到仲裁 " ，请确认大多数的 StorageGRID 服务已连接到系统（ 50% 加 1 ），然后等待几分钟。</block>
  <block id="7e7c56d897aafc70aed2c12e2bf973fa" category="paragraph">SOSS</block>
  <block id="7bfdf350e5cd00e027fbe8f4e352ce38" category="paragraph">存储操作系统状态</block>
  <block id="1a42916b9d0b616a452de40339578988" category="paragraph">如果 SANtricity 软件指示 StorageGRID 设备中存在组件 "`Needs Attention` " 问题描述 ，则会触发警报。</block>
  <block id="dbd2b72faeb40d0148ff125285bcd2ff" category="paragraph">选择 * 节点 * 。然后选择 * 设备存储节点 * &gt; * 硬件 * 。向下滚动以查看每个组件的状态。在 SANtricity 软件中，检查其他设备组件以隔离问题描述 。</block>
  <block id="02225d273bdb28ec04653a7f540b228c" category="paragraph">SSMA</block>
  <block id="e7f29452b4e78b130c64b733afa3b849" category="paragraph">SSM 状态</block>
  <block id="03366cd04df9d9e3e482da89802397f1" category="paragraph">如果 SSM Status 的值为 Error ，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * ，然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * SSM* &gt; * 概述 * 和 * SSM* &gt; * 概述 * &gt; * 警报 * 以确定警报的发生原因 。</block>
  <block id="64cfa62f7ae5ddaae4d188d851db72e5" category="paragraph">SSME</block>
  <block id="dceca90e044c9a58bf186cf02b8edca4" category="paragraph">SSM 状态</block>
  <block id="5f966077199bc0abaacca3fd6f1c8bfe" category="paragraph">如果 "SSM State" 的值为 "Standby" ，请继续监控，如果问题仍然存在，请联系技术支持。</block>
  <block id="d0ac0b7a054175720a266d739b45e65e" category="paragraph">如果 "SSM State" 的值为 "Offlin" ，请重新启动此服务。如果问题仍然存在，请联系技术支持。</block>
  <block id="7558bcf82c7f1b71940d97305be38cf9" category="paragraph">SST</block>
  <block id="2390f20c2b99899727955b907ce4ffae" category="paragraph">存储状态</block>
  <block id="d388ae44ec903019d9ae1406e5efb376" category="paragraph">如果 "Storage Status" 的值为 "Ininsufficient Available Space" ，则此存储节点上没有更多可用存储，并且数据载入将重定向到其他可用存储节点。可以继续从此网格节点传送检索请求。</block>
  <block id="9bdb49adab8ec88365c4d7124d51f5b2" category="paragraph">应添加更多存储。它不会影响最终用户的功能，但警报会持续存在，直到添加更多存储为止。</block>
  <block id="c25cf081320d8eac5f3f5b27c8a95477" category="paragraph">如果 "Storage Status" （存储状态）的值为 "Volume Unavailage" （卷不可用），则表示部分存储不可用。无法从这些卷进行存储和检索。有关详细信息，请检查卷的运行状况：选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * LDR* &gt; * 存储 * &gt; * 概述 * &gt; * 主 * 。卷的运行状况列在对象存储下。</block>
  <block id="df6ab9e16a3fc5a93eb4d4db5828df14" category="paragraph">如果 "Storage Status" 的值为 "Error" ，请联系技术支持。</block>
  <block id="fcc3dc3c0fe4cb818d0b3b545bd88123" category="inline-xref-macro">对存储状态（ SSTS ）警报进行故障排除</block>
  <block id="cd72a8fb5ec37c1ee2646ccb0fafc610" category="paragraph"><block ref="cd72a8fb5ec37c1ee2646ccb0fafc610" category="inline-xref-macro-rx"></block></block>
  <block id="81512e4163b404688e276b244f0bae6c" category="paragraph">SVST</block>
  <block id="bb4bb3693817b8d57671bef5bcc90d9c" category="paragraph">解决与未运行的服务相关的其他警报后，此警报将清除。跟踪源服务警报以还原操作。</block>
  <block id="811c886c0ec32678be5249dfc203bc9d" category="paragraph">选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * SSM* &gt; * 服务 * &gt; * 概述 * &gt; * 主 * 。如果某个服务的状态显示为未运行，则其状态为 administratively down 。此服务的状态可能会列为未运行，原因如下：</block>
  <block id="7aeab6a69aace888b5bbf9b7d4b0804c" category="list-text">已手动停止此服务（` /etc/init.d/&lt;service\&gt; stop` ）。</block>
  <block id="57e08d53e0a575e539e78fdb9ec72bce" category="list-text">有一个包含 MySQL 数据库的问题描述 ，并且 Server Manager 会关闭 MI 服务。</block>
  <block id="0c84e3e4cfe04a364b29dbdf64b45e2e" category="list-text">已添加网格节点，但尚未启动。</block>
  <block id="ed168340b5bf4b98e7e6468b4ba3afb0" category="list-text">在安装期间，网格节点尚未连接到管理节点。</block>
  <block id="1f046d256ca9f7cc3a500b35f2799709" category="paragraph">如果某个服务列为未运行，请重新启动此服务（` /etc/init.d/&lt;service\&gt; restart` ）。</block>
  <block id="a045441e675a65d58142d2431319f30e" category="inline-xref-macro">对服务进行故障排除：状态 - Cassandra （ SVST ）警报进行故障排除</block>
  <block id="74752a9aa4bd108d7d57c90f61406e7c" category="paragraph"><block ref="74752a9aa4bd108d7d57c90f61406e7c" category="inline-xref-macro-rx"></block></block>
  <block id="d9405ca90b6846574060dba7da12fb1f" category="paragraph">TMEM</block>
  <block id="69e1572df899ff168c82fbdefc02ea98" category="paragraph">已安装内存</block>
  <block id="e11b76305aff3310f58cc6b1688e66b6" category="paragraph">如果节点运行的已安装内存小于 24 GiB ，则可能会导致性能问题和系统不稳定。系统上安装的内存量应至少增加到 24 GiB 。</block>
  <block id="d0ad74f791ee9b4f089f233abfa8e440" category="paragraph">TPOP</block>
  <block id="14e729e49c35f28d04a2b67ff6482bcb" category="paragraph">待定操作</block>
  <block id="48fb3ce174e56769f0e04ff39631a314" category="paragraph">消息队列可以指示此 ADA 服务过载。可以连接到 StorageGRID 系统的 ADC 服务太少。在大型部署中，可能需要添加计算资源，或者系统可能需要更多的模数转换服务。</block>
  <block id="bd85ffeca92db4a158db8afc1a2aafcb" category="paragraph">UMEM</block>
  <block id="b1ffb696c9ffde59c3195cddedf10481" category="paragraph">可用内存</block>
  <block id="5891d0edbaafc9d63bab9da779765001" category="paragraph">如果可用 RAM 较低，请确定这是硬件问题描述 还是软件。如果不是硬件问题描述 ，或者可用内存降至 50 MB 以下（默认警报阈值），请联系技术支持。</block>
  <block id="e917a878f303a1a2d18bea2d74961e28" category="paragraph">VMFI</block>
  <block id="6e5c42bb643bb37c174549ec6d2c93e0" category="paragraph">条目可用</block>
  <block id="a3142c730a4b03b66e206e7a515d0650" category="paragraph">这表示需要额外存储。请联系技术支持。</block>
  <block id="59cdb108acef128ae74d49eb051475be" category="paragraph">VMFR</block>
  <block id="8a1108714594f47f7824d6c1f6814971" category="paragraph">可用空间</block>
  <block id="3ee5ae382621317332c4299d90b99c30" category="paragraph">如果可用空间值过低（请参见警报阈值），则需要调查是否存在超出比例的日志文件，或者对象占用的磁盘空间过多（请参见警报阈值）需要减少或删除。</block>
  <block id="e8943d164c515ba9ef710a42995ef4ff" category="paragraph">VMST</block>
  <block id="65b17951e1eda124c5ae95d5b193c1be" category="paragraph">如果挂载的卷的状态值为未知，则会触发警报。如果值为未知或脱机，则表示由于底层存储设备出现问题，无法挂载或访问此卷。</block>
  <block id="15bfba5552779ad8f6eba8fe69d45398" category="paragraph">VPRI.</block>
  <block id="a7016f9c54fc59bfaaa63507ef1e9453" category="paragraph">验证优先级</block>
  <block id="157bb50df77aba401b1db985dcb316b5" category="paragraph">默认情况下，验证优先级的值为自适应。如果验证优先级设置为高，则会触发警报，因为存储验证可能会减慢服务的正常运行速度。</block>
  <block id="b4db285a2f2844bbb591436b0c09c8e3" category="paragraph">VSTU</block>
  <block id="4d26b7f5f6fea7d2b464973a181d2e6a" category="paragraph">对象验证状态</block>
  <block id="b512ae5abf5fb8c013eb957c70f258ac" category="paragraph">选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 网格节点 _* &gt; * LDR* &gt; * 存储 * &gt; * 概述 * &gt; * 主 * 。</block>
  <block id="22834acdad0112c2f289dddd254dd961" category="paragraph">检查操作系统是否存在任何块设备或文件系统错误的迹象。</block>
  <block id="e0537c2bc1d633e2f3e3551d9deea630" category="paragraph">如果对象验证状态的值为未知错误，则通常表示文件系统或硬件问题（ I/O 错误）级别较低，从而使存储验证任务无法访问存储的内容。请联系技术支持。</block>
  <block id="2bad7d841441fc4f8e7cd1386d91b9dc" category="paragraph">XAMS</block>
  <block id="0842390a93f659cfde913c257ba8069d" category="paragraph">无法访问审核存储库</block>
  <block id="28089beb1627dbec424a3f92e7579b2c" category="paragraph">BADC ， BARC ， BCLB ， BCMN ， BLDR ， BNMS</block>
  <block id="84d9b79c9f76456e8a0835aedd153e2d" category="paragraph">检查与托管管理节点的服务器的网络连接。</block>
  <block id="7c76b653a8ac99676c6928541c93393b" category="summary">网格节点必须能够彼此通信，才能使网格正常运行。节点和站点之间的网络完整性以及站点之间的网络带宽对于高效运行至关重要。</block>
  <block id="0ee41faa3398a6e8113709cb182a56ff" category="doc">监控网络连接和性能</block>
  <block id="e49e45143fceed4ab94f284cbbf0ff2c" category="paragraph">如果您的信息生命周期管理（ ILM ）策略使用提供站点丢失保护的方案在站点之间复制复制复制的对象或存储经过纠删编码的对象，则网络连接和带宽尤其重要。如果站点之间的网络不可用，网络延迟过高或网络带宽不足，则某些 ILM 规则可能无法将对象放置在预期位置。这可能导致载入失败（为 ILM 规则选择了严格载入选项时），或者仅仅导致载入性能和 ILM 积压。</block>
  <block id="a68df67ff67db54fa1412e67ab3fab93" category="paragraph">您可以使用网格管理器监控连接和网络性能，以便及时解决任何问题。</block>
  <block id="4d0511df0a8c10b534848b7552c21298" category="paragraph">此外，还应考虑创建网络流量分类策略，以便监控和限制与特定租户，分段，子网或负载平衡器端点相关的流量。请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="91d6ddbe3a8594ef9d6ad090b18c7459" category="paragraph">此时将显示节点页面。网格中的每个节点均以表格式列出。</block>
  <block id="59563198353bc3366d2766ed6ab1b678" category="image-alt">节点菜单</block>
  <block id="c09c36c22e867ac64a52addf3bbcd024" category="list-text">选择网格名称，特定数据中心站点或网格节点，然后选择 * 网络 * 选项卡。</block>
  <block id="7f0e216e6be859f4fc78f2cd6c4ac4f7" category="paragraph">网络流量图提供了整个网格，数据中心站点或节点的整体网络流量摘要。</block>
  <block id="3ba2bf8ba4a1a0278d0ed2b43d3220aa" category="image-alt">节点页面网络流量图</block>
  <block id="3846b9feb33186d6627b75cf8af6b8f9" category="list-text">如果选择了网格节点，请向下滚动以查看页面的 * 网络接口 * 部分。</block>
  <block id="c218e235131d4e90563ff291b272189e" category="image-alt">节点页面网络接口</block>
  <block id="45dd507c8247d76832595e8b0b0740f5" category="list-text">对于网格节点，向下滚动以查看页面的 * 网络通信 * 部分。</block>
  <block id="a930423192f4404574651a54a83409a9" category="paragraph">接收和传输表显示了通过每个网络接收和发送的字节数和数据包数，以及其他接收和传输指标。</block>
  <block id="2dc490c4695af01c91ac2e89c7f23ba3" category="image-alt">节点页面网络通信</block>
  <block id="fa89b818a4a64320fd7a58231279ee73" category="list-text">使用与流量分类策略关联的指标监控网络流量。</block>
  <block id="06e272a357c1cc625b9b07fe69adafac" category="list-text">选择 * 配置 * &gt; * 网络 * &gt; * 流量分类 * 。</block>
  <block id="530c83bb65339a7042899247a0652d00" category="paragraph">此时将显示 " 流量分类策略 " 页面，并在表中列出现有策略。</block>
  <block id="71bcf953b553d67debb129dfa13c7b7b" category="image-alt">图形的流量策略示例</block>
  <block id="392340a21e9ee5050d974e6591cf9bb0" category="list-text">要查看显示与策略关联的网络指标的图形，请选择策略左侧的单选按钮，然后单击 * 指标 * 。</block>
  <block id="9c4f86ac22f39a84481610fd63b9edca" category="list-text">查看图形以了解与策略关联的网络流量。</block>
  <block id="0b74a95fd158b3d31d2c89a9346ea9ed" category="paragraph">如果流量分类策略旨在限制网络流量，请分析流量限制的频率，并确定该策略是否仍能满足您的需求。根据需要不时调整每个流量分类策略。</block>
  <block id="f51986c34e81b029a50310004f490ec8" category="paragraph">要创建，编辑或删除流量分类策略，请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="3288f0fa3dd71c6455aa3ca9957d3a0b" category="inline-xref-macro">查看网络选项卡</block>
  <block id="b735432031940c89c4ef71257fb22a5f" category="paragraph"><block ref="b735432031940c89c4ef71257fb22a5f" category="inline-xref-macro-rx"></block></block>
  <block id="05756efe3fce4ed1e172fdcd9568be6c" category="summary">硬件选项卡可显示每个节点的 CPU 利用率和内存使用情况，以及有关设备的其他硬件信息。</block>
  <block id="1dddf5867caa98eef79e0a363fea59cd" category="doc">查看硬件选项卡</block>
  <block id="700ceae0b4a801a506ad1643077d99c8" category="paragraph">此时将显示所有节点的硬件选项卡。</block>
  <block id="93324468df5b46b897a96d4b04ba7675" category="image-alt">节点页面硬件选项卡</block>
  <block id="3df3fe33859eeb0f1b11594ebd37170b" category="paragraph">要显示不同的时间间隔，请选择图表或图形上方的控件之一。您可以显示间隔为 1 小时， 1 天， 1 周或 1 个月的可用信息。您还可以设置自定义间隔，以便指定日期和时间范围。</block>
  <block id="91f2aba4ab1238efa3fef5d7c0b6d498" category="paragraph">要查看有关 CPU 利用率和内存使用情况的详细信息，请将光标悬停在每个图形上。</block>
  <block id="95aa9a13b05e71442c030ff97108ea16" category="image-alt">节点页面 &gt; 硬件 &gt; 内存使用情况详细信息</block>
  <block id="03f24a67669241bf0d8cd99cf602d268" category="paragraph">如果节点是设备节点，则此选项卡还会包含一个部分，其中包含有关设备硬件的详细信息。</block>
  <block id="991eecc11bc773e89b5257afbc96dc1f" category="section-title">查看有关设备存储节点的信息</block>
  <block id="bab0be690bd5b464e340c73e94a3686b" category="paragraph">节点页面列出了有关每个设备存储节点的服务运行状况以及所有计算，磁盘设备和网络资源的信息。您还可以查看内存，存储硬件，控制器固件版本，网络资源，网络接口， 网络地址以及接收和传输数据。</block>
  <block id="f58118113cbec3334b5316b6263796f2" category="list-text">从节点页面中，选择设备存储节点。</block>
  <block id="32790cf377a1a575eece70f624d64118" category="list-text">选择 * 概述 * 。</block>
  <block id="85bdcc9d11259044380cf0e82d68260d" category="paragraph">" 概述 " 选项卡的 " 节点信息 " 部分显示节点的摘要信息，例如节点的名称，类型， ID 和连接状态。IP 地址列表包括每个地址的接口名称，如下所示：</block>
  <block id="096fa26b3d0cd0fc7995dc9bb0de22f0" category="list-text">* eth * ：网格网络，管理网络或客户端网络。</block>
  <block id="dd34c477a24f95e4475a3386979a407a" category="list-text">* hic* ：设备上的一个物理 10 ， 25 或 100 GbE 端口。这些端口可以绑定在一起，并连接到 StorageGRID 网格网络（ eth0 ）和客户端网络（ eth2 ）。</block>
  <block id="11652fc9fb2e86281b02da547970f78f" category="list-text">* MTC* ：设备上的一个物理 1 GbE 端口。一个或多个 MTC 接口已绑定，以构成 StorageGRID 管理网络接口（ eth1 ）。您可以保留其他 MTC 接口，以便数据中心的技术人员临时进行本地连接。</block>
  <block id="497f9f1c603808d8d8bc4d5cd02d04e1" category="image-alt">扩展了节点页面概述</block>
  <block id="cb042135ce416dbf3e657392b23e9c5a" category="paragraph">" 概述 " 选项卡的 " 警报 " 部分显示节点的任何活动警报。</block>
  <block id="c27a7a2c523e6a0d8cec2e2025f4151c" category="list-text">选择 * 硬件 * 可查看有关此设备的详细信息。</block>
  <block id="726d971d2fbc83f70a7f9d2cc586e6ee" category="list-text">查看 CPU 利用率和内存图形，确定 CPU 和内存使用量随时间的变化所占百分比。要显示不同的时间间隔，请选择图表或图形上方的控件之一。您可以显示间隔为 1 小时， 1 天， 1 周或 1 个月的可用信息。您还可以设置自定义间隔，以便指定日期和时间范围。</block>
  <block id="df246b08069f21ca4e17d35f3fb2fc3b" category="image-alt">硬件图形</block>
  <block id="972c1540ec0092d238cdc12385e38461" category="list-text">向下滚动以查看设备组件表。此表包含设备的型号名称，控制器名称，序列号和 IP 地址以及每个组件的状态等信息。</block>
  <block id="e32b180d5c3634413a4a0b6fb3cb7de3" category="admonition">某些字段（例如计算控制器 BMC IP 和计算硬件）仅针对具有此功能的设备显示。</block>
  <block id="48309c0d47c40eff1bf333c600e013d5" category="paragraph">存储架和扩展架（如果是安装的一部分）的组件会显示在设备表下方的单独表中。</block>
  <block id="2020302aee5f1352d045ed03c858b55d" category="image-alt">设备的节点页面硬件选项卡</block>
  <block id="e511cabf2f712707b8ca67a6d1ea55a2" category="cell">字段</block>
  <block id="bceae85343856d35d7951aee56bfe65f" category="paragraph">SANtricity 软件中显示的此 StorageGRID 设备的型号。</block>
  <block id="7f6fbccfd56483d70d96be7186fd4c25" category="paragraph">存储控制器名称</block>
  <block id="7441094ff6c1aa3e0e7033d1ced84f13" category="paragraph">SANtricity 软件中显示的此 StorageGRID 设备的名称。</block>
  <block id="69756990af15bdc29450192acae4e310" category="paragraph">存储控制器 A 管理 IP</block>
  <block id="a752dd2ae0ff5f48d589871b206374d3" category="paragraph">存储控制器 A 上管理端口 1 的 IP 地址您可以使用此 IP 访问 SANtricity 软件来解决存储问题。</block>
  <block id="4bb803e63c8b785b48729d8a47afe619" category="paragraph">存储控制器 B 的管理 IP</block>
  <block id="68a0ded03c700c7ca49eb287bfb111b4" category="paragraph">存储控制器 B 上管理端口 1 的 IP 地址您可以使用此 IP 访问 SANtricity 软件来解决存储问题。</block>
  <block id="35df257a588305a3b1c13569e94ffe24" category="paragraph">存储控制器 WWID</block>
  <block id="c58ee876c898df42d0748ed6caab54eb" category="paragraph">SANtricity 软件中显示的存储控制器的全球标识符。</block>
  <block id="20f685610fef70179362fab80ee9439c" category="paragraph">存储设备机箱序列号</block>
  <block id="4ac4e84dcdd4a272f802e454b779175c" category="paragraph">设备的机箱序列号。</block>
  <block id="8023c9ab96a0fbbfe5eb8840abad80cd" category="paragraph">存储控制器固件版本</block>
  <block id="a81e6aed094f2e84a1ffb4803c29d0ff" category="paragraph">此设备的存储控制器上的固件版本。</block>
  <block id="0cf4a786acebd750bbfdfc4416c89406" category="paragraph">存储硬件</block>
  <block id="8821e55027bce78eba90e3f54017a2b4" category="paragraph">存储控制器硬件的整体状态。如果 SANtricity System Manager 报告存储硬件的状态为 "Needs Attention （需要注意） " ，则 StorageGRID 系统也会报告此值。</block>
  <block id="666547a55303b94bf1c09cefada2262b" category="paragraph">如果状态为 "`needs attention ，` " ，请首先使用 SANtricity 软件检查存储控制器。然后，确保不存在适用于计算控制器的其他警报。</block>
  <block id="3fa0964a7a01ece4a592f0dd83cda4a5" category="paragraph">存储控制器故障驱动器计数</block>
  <block id="76bd6bcdcc92ea8cd54ad163640664e0" category="paragraph">非最佳驱动器的数量。</block>
  <block id="826e599154ab63416085ac02db8e4d26" category="paragraph">存储控制器 A</block>
  <block id="291b2ee78317ff913d9c7ef2b03d6ad2" category="paragraph">存储控制器 A 的状态</block>
  <block id="69d4b7cc72f4e9aa1e8a7df9216f4d81" category="paragraph">存储控制器 B</block>
  <block id="d4ee0df4e369f838f8ed805d0e79952e" category="paragraph">存储控制器 B 的状态某些设备型号没有存储控制器 B</block>
  <block id="5b496feff70fb39c4d7b9e13b360bcb8" category="paragraph">存储控制器电源 A</block>
  <block id="2c967a1dbab6d281af794e8854999bd2" category="paragraph">存储控制器的电源 A 的状态。</block>
  <block id="dfeff9c2d1cb2397af94e0bcc8aa5fd7" category="paragraph">存储控制器电源 B</block>
  <block id="0d49582d41c8bb34d7af903ecef7cc16" category="paragraph">存储控制器的电源 B 的状态。</block>
  <block id="468f8d01fd1c6e8f8a1b2a84c72b3637" category="paragraph">存储数据驱动器类型</block>
  <block id="4cd00cb87053cf1740a595b316ec5e23" category="paragraph">设备中的驱动器类型，例如 HDD （硬盘驱动器）或 SSD （固态驱动器）。</block>
  <block id="0abd2dbabd5bcbe4e45fe46dfbc70ff6" category="paragraph">存储数据驱动器大小</block>
  <block id="251a917cbb9e78c35abf8fbe699e32af" category="paragraph">一个数据驱动器的有效大小。</block>
  <block id="70dbaf9f560c9cb10b6159d2bc05d039" category="inline-xref">每个磁盘架的数据驱动器大小</block>
  <block id="4175aa967ef57d08400b3b1a4377b047" category="paragraph">* 注 * ：对于具有扩展架的节点，请使用 <block ref="4bff78069b6c76ec19ae1d9d8b52ab94" category="inline-xref-macro-rx"></block> 而是。有效驱动器大小可能因磁盘架而异。</block>
  <block id="ffa72171f538659219059cf10c017548" category="paragraph">存储 RAID 模式</block>
  <block id="e0fbccc796d5977ee721fb594646f624" category="paragraph">为设备配置的 RAID 模式。</block>
  <block id="4fe4db76a183388226e19c22a2aca819" category="paragraph">存储连接</block>
  <block id="6f8a0f3039b99e9a1a3fd9cb0ee3b9ea" category="paragraph">存储连接状态。</block>
  <block id="343dcdac6cf5804222e0d3bdc3883beb" category="paragraph">整体电源</block>
  <block id="66861ba27fdfcab408b4da09d7edc8c2" category="paragraph">设备的所有电源的状态。</block>
  <block id="ff584ae01884f8a94f964384427cd46b" category="paragraph">计算控制器 BMC IP</block>
  <block id="50177197dc225532263145c35bdd1542" category="paragraph">计算控制器中的基板管理控制器（ Baseboard Management Controller ， BMC ）端口的 IP 地址。您可以使用此 IP 连接到 BMC 界面来监控和诊断设备硬件。</block>
  <block id="b34da6a7cac839aeb19420bbee0a52c0" category="paragraph">对于不包含 BMC 的设备型号，不会显示此字段。</block>
  <block id="41eaa3281d10e44a5f1621bcd7c75a42" category="paragraph">计算控制器序列号</block>
  <block id="a230b035c191668b871df6d7cfbcf0b2" category="paragraph">计算控制器的序列号。</block>
  <block id="de9021ae5613ca6aa361f0dbdf0d00d7" category="paragraph">计算硬件</block>
  <block id="02756c75a6c0ed429ebb645524850345" category="paragraph">计算控制器硬件的状态。对于没有单独计算硬件和存储硬件的设备型号，不会显示此字段。</block>
  <block id="8b51035cb66d9f29d05a820f55d367bb" category="paragraph">计算控制器 CPU 温度</block>
  <block id="24f0e0dfd317d2cba8aa1fc98ad6658e" category="paragraph">计算控制器 CPU 的温度状态。</block>
  <block id="e1a269458eba5deb4d0d6dd9c1163544" category="paragraph">计算控制器机箱温度</block>
  <block id="b39128254310bb778a4f2bae6a5ae049" category="paragraph">计算控制器的温度状态。</block>
  <block id="8beb260a7725b5e679a5078248d4cbcb" category="cell">存储架表中的列</block>
  <block id="fc95c1ad68917e5b6e63fbbfaf996d8f" category="paragraph">磁盘架机箱序列号</block>
  <block id="e7a3c1a2f382b2ecf2686b8f154f2a0b" category="paragraph">存储架机箱的序列号。</block>
  <block id="2466476ef741a07ef4169048df0d1fde" category="paragraph">磁盘架 ID</block>
  <block id="5d1f15b0824341e3de12d3acba936197" category="paragraph">存储架的数字标识符。</block>
  <block id="787fef0a119241554b1e2d1692dc3b04" category="list-text">99 ：存储控制器架</block>
  <block id="593fd68194186fa06aae2bcfa1c12e23" category="list-text">0 ：第一个扩展架</block>
  <block id="390572e745bd63bc546eb1e15646a5e8" category="list-text">1 ：第二个扩展架</block>
  <block id="34f98aaaa70e537c3204a19b8c864e11" category="paragraph">* 注： * 扩展架仅适用于 SG6060 。</block>
  <block id="ead199e1741e786212f27e95d9b8851f" category="paragraph">磁盘架状态</block>
  <block id="cfa18c126baa08d4eff4b3a8ff8bf776" category="paragraph">存储架的整体状态。</block>
  <block id="2cff123344a0955a8976355fe815bc31" category="paragraph">IOM 状态</block>
  <block id="0a225427a2f165d93d04dc7dd0cfdc5f" category="paragraph">任何扩展架中的输入 / 输出模块（ IOM ）的状态。不适用于扩展架。</block>
  <block id="e6cce6636bf072fdc69b897b05484ee7" category="paragraph">电源状态</block>
  <block id="e7d4c46a02a02aea99f823a5adcc01e4" category="paragraph">存储架电源的整体状态。</block>
  <block id="f11841870b2f06e5b5eb0378a2cd84aa" category="paragraph">抽盒状态</block>
  <block id="860286782c3ce2767b0e286b75b9120a" category="paragraph">存储架中抽盒的状态。不适用，如果磁盘架不包含抽盒。</block>
  <block id="b2826c9ee58f586d68fe728fe925a44b" category="paragraph">风扇状态</block>
  <block id="2be6aa8cf0d13726dc7c958ecb737579" category="paragraph">存储架中的散热风扇的整体状态。</block>
  <block id="4192375274f465cd10979ed232038ec7" category="paragraph">驱动器插槽</block>
  <block id="44d08eed4422c75436161248337f15a0" category="paragraph">存储架中的驱动器插槽总数。</block>
  <block id="7d311d4bb1976688bc17a90746706469" category="paragraph">数据驱动器</block>
  <block id="8dcb4d3586527ab08c2f60445d0e7bfb" category="paragraph">存储架中用于数据存储的驱动器数量。</block>
  <block id="3d19743c570a702304c1132baa460fb1" category="paragraph">【磁盘架数据驱动器大小】数据驱动器大小</block>
  <block id="3f700e9ecf6cdda5c6c3d3ae5add9f2a" category="paragraph">存储架中一个数据驱动器的有效大小。</block>
  <block id="1179be38f658e54728ad2a0cd76e5266" category="paragraph">缓存驱动器</block>
  <block id="6c5fa6382e6c4f35837d3743446ea796" category="paragraph">存储架中用作缓存的驱动器数量。</block>
  <block id="8a0b523056f9bbe26f3bf190ef0de44d" category="paragraph">缓存驱动器大小</block>
  <block id="5949d8ff7f2b9f9910d86c9acfe1cb11" category="paragraph">存储架中最小缓存驱动器的大小。通常，缓存驱动器的大小相同。</block>
  <block id="dfaf59469652ac7cef5e50a6ad62fe1c" category="paragraph">配置状态</block>
  <block id="0313e9229a58475a7dc40552bccd73d7" category="paragraph">存储架的配置状态。</block>
  <block id="87839cfd60090648242eb53324d23c9e" category="list-text">确认所有状态均为 "`标称值。` "</block>
  <block id="f6e4eeeaf53a0e72b67e5ef10eec8685" category="paragraph">如果状态不是 "`标称，` " ，请查看任何当前警报。您还可以使用 SANtricity 系统管理器详细了解其中一些硬件值。请参见有关安装和维护设备的说明。</block>
  <block id="4ddda5e6483f2ad77fc502cb07ee96e5" category="list-text">选择 * 网络 * 可查看每个网络的信息。</block>
  <block id="bc51407c0d6160c953c49325f5c08f7c" category="paragraph">网络流量图提供了整体网络流量的摘要。</block>
  <block id="420a2f96bedff878cee14b0cc13109f0" category="list-text">查看网络接口部分。</block>
  <block id="5fd2a9f89030ebb32269d37479f38f54" category="paragraph">使用下表以及网络接口表中 * 速度 * 列中的值确定设备上的 10/225-GbE 网络端口是配置为使用主动 / 备份模式还是 LACP 模式。</block>
  <block id="34112d91ffc022abf42810bf43b4724b" category="admonition">表中显示的值假定使用了所有四个链路。</block>
  <block id="e6ca5ceed852b806c986c460e873360d" category="cell">链路模式</block>
  <block id="a19d8416fafa59103158fe0976a2dbf6" category="cell">绑定模式</block>
  <block id="299e1dc038ff011521435a34337a9ddb" category="cell">单个 HIC 链路速度（ hic1 ， hic2 ， hic3 ， hic4 ）</block>
  <block id="397ada81fbce7a4e68348da0a88bb5ee" category="cell">预期网格 / 客户端网络速度（ eth0 ， eth2 ）</block>
  <block id="4d6b33d75644552dcc843a5fd248e03f" category="paragraph">LACP</block>
  <block id="f899139df5e1059396431415e770c6dd" category="paragraph">100</block>
  <block id="4457d440870ad6d42bab9082d9bf9b61" category="paragraph">已修复</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="paragraph">50</block>
  <block id="6348383325cadf26b09ceb15a3c8c1e6" category="paragraph">主动 / 备份</block>
  <block id="d3d9446802a44259755d38e6d163e820" category="paragraph">10</block>
  <block id="98f13708210194c475687be6106a3b84" category="paragraph">20</block>
  <block id="841d49c672f94230bfe3356d5bba075d" category="paragraph">有关配置 10/225-GbE 端口的详细信息，请参见设备的安装和维护说明。</block>
  <block id="a2f35e50b9fa0c3df3d22dc4e6d0b1c6" category="list-text">查看网络通信部分。</block>
  <block id="9becedae0972ebefe1eeaaf1503eb931" category="paragraph">接收和传输表显示了通过每个网络接收和发送的字节数和数据包数，以及其他接收和传输指标。</block>
  <block id="9336ce75549dd7131087fbb28b061c04" category="list-text">选择 * 存储 * 可查看显示对象数据和对象元数据在一段时间内所用存储百分比的图形，以及有关磁盘设备，卷和对象存储的信息。</block>
  <block id="c9fb0d7b912bf44c4aeb2c8e738afa0a" category="image-alt">已用存储—对象数据</block>
  <block id="ef8635610712d90a98b03cc3a4fb0420" category="image-alt">已用存储—对象元数据</block>
  <block id="98214c88788adb1df1abb687146e52f9" category="paragraph">每个磁盘的全球通用名称都与在 SANtricity 软件（连接到设备存储控制器的管理软件）中查看标准卷属性时显示的卷全球通用标识符（ WWID ）匹配。</block>
  <block id="c372805919c95701cf33382afb0f9646" category="section-title">查看有关设备管理节点和网关节点的信息</block>
  <block id="e33123a04c025e7b926cc2d14d3a830e" category="paragraph">节点页面列出了有关用作管理节点或网关节点的每个服务设备的服务运行状况以及所有计算，磁盘设备和网络资源的信息。您还可以查看内存，存储硬件，网络资源，网络接口，网络地址， 以及接收和传输数据。</block>
  <block id="bc14b394b74b3a150fde13d8dfc01a53" category="list-text">从节点页面中，选择设备管理节点或设备网关节点。</block>
  <block id="cdefbe93fcfa6fbbf13440949eb70124" category="list-text">* adllb* 和 * adlli* ：如果对管理网络接口使用主动 / 备份绑定，则显示此信息</block>
  <block id="f1155f071f0849b4799b38515bc0efbb" category="list-text">* MTC* ：设备上的一个物理 1-GbE 端口。一个或多个 MTC 接口已绑定，以构成管理网络接口（ eth1 ）。您可以保留其他 MTC 接口，以便数据中心的技术人员临时进行本地连接。</block>
  <block id="be498ad9317ecfbcec2bfc6e06831cc2" category="image-alt">服务设备的节点页面概述选项卡</block>
  <block id="0c2dab834260c9a4f67377a7772acaee" category="image-alt">服务设备的节点页面硬件选项卡图形</block>
  <block id="f7d94721e7f252eab4de5f4cbef9d282" category="list-text">向下滚动以查看设备组件表。此表包含型号名称，序列号，控制器固件版本以及每个组件的状态等信息。</block>
  <block id="0c2928037c10a8b6978a283c1c87c76b" category="image-alt">服务设备的节点页面硬件选项卡</block>
  <block id="7a17c38371f20b7de678a051244d633e" category="paragraph">此 StorageGRID 设备的型号。</block>
  <block id="a12be7d01c562969563f07b9d1619ffc" category="paragraph">设备的 RAID 模式。</block>
  <block id="1b7a40b2b21224ea77047e7e2e0d3dc6" category="paragraph">设备中所有电源的状态。</block>
  <block id="d65ee95aa53ff7cc1868361bfba2c365" category="paragraph">计算控制器中的基板管理控制器（ Baseboard Management Controller ， BMC ）端口的 IP 地址。您可以使用此 IP 连接到 BMC 界面来监控和诊断设备硬件。</block>
  <block id="9de9c94062b95e94e7f3c1870332c1bd" category="paragraph">计算控制器硬件的状态。</block>
  <block id="44fd29a68cc20d8be8f301ebe893defc" category="paragraph">如果状态不是 "`标称，` " ，请查看任何当前警报。</block>
  <block id="c4a88d74f2b8ba638fefdb5fe2a88cad" category="image-alt">节点页面硬件选项卡网络服务设备</block>
  <block id="3ebda80a3ffdd506a91011a0f544d6d2" category="paragraph">使用下表以及网络接口表中 * 速度 * 列中的值确定设备上的四个 40/100-GbE 网络端口是否配置为使用主动 / 备份模式或 LACP 模式。</block>
  <block id="d8bfb81726380ba0d682be8fab7a1582" category="cell">预期网格 / 客户端网络速度（ eth0 ， eth2 ）</block>
  <block id="18d8042386b79e2c279fd162df0205c8" category="paragraph">400</block>
  <block id="3644a684f98ea8fe223c713b77189a77" category="paragraph">200</block>
  <block id="b73ce398c39f506af761d2277d853a92" category="paragraph">160</block>
  <block id="04c3c5ce7e750b8e5c7e22ca25812013" category="list-text">选择 * 存储 * 可查看有关服务设备上的磁盘设备和卷的信息。</block>
  <block id="a7ee73b21fcaa9d61ce70ca3b12fe9e4" category="image-alt">节点页面存储选项卡服务设备</block>
  <block id="2f6fc1353a3ad8a0c5f1251fa87af8d9" category="summary">平台服务选项卡提供了有关站点上任何 S3 平台服务操作的信息。</block>
  <block id="304dec076c1ec49291b22df24b3ac33f" category="doc">查看平台服务选项卡</block>
  <block id="accd418a1a08f965453249e3c4df321a" category="paragraph">此时将显示每个站点的平台服务选项卡。此选项卡提供了有关 S3 平台服务的信息，例如 CloudMirror 复制和搜索集成服务。此选项卡上的图形显示了待处理请求数，请求完成率和请求失败率等指标。</block>
  <block id="bce44e0c4105003ae5866334c2f3a117" category="image-alt">节点页面站点级平台服务</block>
  <block id="70e088943f710bc6b55a55ab61456fcd" category="paragraph">有关 S3 平台服务的详细信息，包括故障排除详细信息，请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="add4a7b728022df1ed9311e331023754" category="summary">您可以执行多项任务来帮助确定元数据问题的根源。</block>
  <block id="6f32b40a9fa576805f93b1afad9a22ab" category="section-title">对 " 低元数据存储 " 警报进行故障排除</block>
  <block id="e0ba1b4e45b13172e22f43e7a5fbe785" category="paragraph">如果触发 * 低元数据存储 * 警报，则必须添加新的存储节点。</block>
  <block id="337944a9853b951ce0ccb281fbae722a" category="paragraph">StorageGRID 会在每个存储节点的卷 0 上为对象元数据预留一定数量的空间。此空间称为实际预留空间，并细分为对象元数据允许的空间（允许的元数据空间）以及数据缩减和修复等基本数据库操作所需的空间。允许的元数据空间用于控制整体对象容量。</block>
  <block id="86dc86324c9a19e219c58e8ec2b67e1f" category="image-alt">允许的元数据空间卷 0</block>
  <block id="dcb99261ff1f9ef45fb72b08cec3cdf6" category="paragraph">如果对象元数据占用的空间超过元数据允许的 100% ，则数据库操作将无法高效运行，并会发生错误。</block>
  <block id="1af8897186478e426b3cb48fa07b8049" category="inline-xref-macro">监控每个存储节点的对象元数据容量</block>
  <block id="941d8972ee0be938a0f8a79df1945236" category="paragraph">您可以 <block ref="db9eb23b54693af1f70848dea590256a" category="inline-xref-macro-rx"></block> 帮助您预测错误并在发生错误之前予以更正。</block>
  <block id="99ed3884052932d13cd5e50806ef6d77" category="paragraph">StorageGRID 使用以下 Prometheus 指标来衡量允许的元数据空间的容量：</block>
  <block id="a314d0bcdb66338798b1fba0aea7e99e" category="paragraph">当此 Prometheus 表达式达到特定阈值时，将触发 * 低元数据存储 * 警报。</block>
  <block id="058aac8b8a588d77d0b46f7a88296abe" category="list-text">* 次要 * ：对象元数据正在使用允许的元数据空间的 70% 或更多。您应尽快添加新的存储节点。</block>
  <block id="e9ed4d921557a510bac142cd1245859c" category="list-text">* 主要 * ：对象元数据正在使用允许的元数据空间的 90% 或更多。您必须立即添加新的存储节点。</block>
  <block id="20b24d6c40fd5ed924fb6f79d5498aef" category="admonition">当对象元数据使用 90% 或更多的允许元数据空间时，信息板上会显示一条警告。如果显示此警告，则必须立即添加新的存储节点。绝不能允许对象元数据使用超过允许空间的 100% 。</block>
  <block id="aab31e3759df19553c73af311c1a7f28" category="list-text">* 严重 * ：对象元数据正在使用 100% 或更多的允许元数据空间，并且开始占用基本数据库操作所需的空间。您必须停止载入新对象，并且必须立即添加新的存储节点。</block>
  <block id="d295c10caa3bba80abc13c5581ce0f94" category="paragraph">在以下示例中，对象元数据使用的元数据空间超过允许的 100% 。这是一种严重情况，会导致数据库运行效率低下和出现错误。</block>
  <block id="b7dfd20d37170aa5fe25e77f02e482e4" category="image-alt">元数据信息板警报</block>
  <block id="81cada0457c8a82c0f65a30c450279c4" category="admonition">如果卷 0 的大小小于元数据预留空间存储选项（例如，在非生产环境中），则计算 * 低元数据存储 * 警报可能不准确。</block>
  <block id="16e4c7937d4803152190ab75f139b67e" category="list-text">如果需要，从警报表中展开 * 低元数据存储 * 警报组，然后选择要查看的特定警报。</block>
  <block id="129709ace1a35c00fe393789f5245c88" category="list-text">查看警报对话框中的详细信息。</block>
  <block id="ad1b8b7e47d57c981f7404433451b85c" category="list-text">如果触发了主要或关键的 * 低元数据存储 * 警报，请执行扩展以立即添加存储节点。</block>
  <block id="be0e81b5bbef10a44bfea6efe0ec7cc8" category="inline-xref-macro">扩展任何其他站点</block>
  <block id="8a1b16649cf7f9cacaeb33125873a1f0" category="admonition">由于 StorageGRID 会在每个站点保留所有对象元数据的完整副本，因此整个网格的元数据容量受最小站点的元数据容量限制。如果需要向一个站点添加元数据容量，则还应添加元数据容量 <block ref="6a387d189a4482ecf9180503120ebaff" category="inline-xref-macro-rx"></block> 相同数量的存储节点。</block>
  <block id="ef6148bf2b3cf46455d7bd9fc01ae0d9" category="paragraph">执行扩展后， StorageGRID 会将现有对象元数据重新分发到新节点，从而增加网格的整体元数据容量。无需用户操作。已清除 * 低元数据存储 * 警报。</block>
  <block id="b0d63d054932866841e8b1a1e2a8ea0d" category="paragraph">服务：状态 - Cassandra （ SVST ）警报指示您可能需要为存储节点重建 Cassandra 数据库。Cassandra 用作 StorageGRID 的元数据存储。</block>
  <block id="5d9bb95014f3fd5836cfc151d9ad1f9c" category="paragraph">如果 Cassandra 停止超过 15 天（例如，存储节点已关闭），则在节点恢复联机后， Cassandra 将无法启动。您必须为受影响的 DDS 服务重建 Cassandra 数据库。</block>
  <block id="53edb80130864b9cb5a075e3fe5b3e03" category="inline-xref-macro">运行诊断</block>
  <block id="710c9e78d38be84abf489881805b6147" category="paragraph">您可以 <block ref="096c3aebc918a40d47df585d3bbbf973" category="inline-xref-macro-rx"></block> 获取网格当前状态的追加信息 。</block>
  <block id="a7df570b3f620c31bd09c9d4de889826" category="admonition">如果两个或多个 Cassandra 数据库服务关闭超过 15 天，请联系技术支持，不要继续执行以下步骤。</block>
  <block id="2b0ea8cc8050ae1a5b39119500eec33a" category="list-text">选择 * 站点 _* &gt; * 存储节点 _* &gt; * SSM* &gt; * 服务 * &gt; * 警报 * &gt; * 主 * 以显示警报。</block>
  <block id="5f01f0e780c77cff051fed837fc65697" category="paragraph">此示例显示已触发 SVST 警报。</block>
  <block id="cc9b7e5022e6c3c382f973e1dc4c28b8" category="image-alt">警报： SSM ：服务页面</block>
  <block id="f1d193731a57bc10d7cdb7256093f8c4" category="paragraph">"SSM 服务主页 " 页面还指示 Cassandra 未运行。</block>
  <block id="ca8e92c1429bd2d60bec2a4808992cc0" category="image-alt">概述： SSM ：服务页面</block>
  <block id="006957971b9d7e2e7df5e658e21de9f8" category="list-text">【重新启动 Cassandra_from_the_Storage_Node ， start=3]] 尝试从存储节点重新启动 Cassandra ：</block>
  <block id="4fef7f4c0f3121707417298bf8a1176b" category="list-text">输入： ` /etc/init.d/Cassandra status`</block>
  <block id="e09e8972149d837df45746ac2dda9af5" category="list-text">如果 Cassandra 未运行，请重新启动它： ` /etc/init.d/Cassandra restart`</block>
  <block id="0e6c2052406a43ccaaa4158cbf8c6ff0" category="list-text">如果 Cassandra 未重新启动，请确定 Cassandra 已关闭多长时间。如果 Cassandra 已关闭超过 15 天，则必须重建 Cassandra 数据库。</block>
  <block id="ad5f6cdc0820fe491a9a7bdf018f9381" category="admonition">如果两个或更多 Cassandra 数据库服务已关闭，请联系技术支持，不要继续执行以下步骤。</block>
  <block id="1c68ff009e6bf15c8419e7b3ae0a9b2b" category="paragraph">您可以通过绘制 Cassandra 图表或查看 servermanager.log 文件来确定 Cassandra 已关闭多长时间。</block>
  <block id="87768b8f8e8424976056baa2c7e6a333" category="list-text">绘制 Cassandra 图表：</block>
  <block id="a67475d773e81b5ff646da6e45331af9" category="list-text">选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 存储节点 _* &gt; * SSM* &gt; * 服务 * &gt; * 报告 * &gt; * 图表 * 。</block>
  <block id="4cbd5a7b00952a4d716269d2c69b61f3" category="list-text">选择 * 属性 * &gt; * 服务：状态 - Cassandra* 。</block>
  <block id="6c32902b9d16d611eb3d36d815ad5593" category="list-text">对于 * 开始日期 * ，请输入至少早于当前日期 16 天的日期。对于 * 结束日期 * ，输入当前日期。</block>
  <block id="04252e4e5460971d7f33943bd841f366" category="list-text">单击 * 更新 * 。</block>
  <block id="2c0474ba5ff9a1dcd075cde958aadd3a" category="list-text">如果图表显示 Cassandra 关闭超过 15 天，请重建 Cassandra 数据库。</block>
  <block id="da98b5c603787bc00de59fe576095c2a" category="paragraph">以下图表示例显示 Cassandra 已关闭至少 17 天。</block>
  <block id="00a45c99bdff47304ef128178b0efca4" category="list-text">查看存储节点上的 servermanager.log 文件：</block>
  <block id="e42f43a3369ec596cd51c0234aa20167" category="list-text">输入： `cat /var/local/log/servermanager.log`</block>
  <block id="789e591faf63da6999ebdbc8f7c547cb" category="paragraph">此时将显示 servermanager.log 文件的内容。</block>
  <block id="49f7c382686a16e9ea50677f70b4a94e" category="paragraph">如果 Cassandra 已关闭超过 15 天，则 servermanager.log 文件中将显示以下消息：</block>
  <block id="2d6211647f58e36159fe66f3e2870344" category="inline-xref">从存储节点重新启动 Cassandra</block>
  <block id="4fd62e9b3a460274452992284f44d072" category="list-text">确保此消息的时间戳是您按照步骤中的说明尝试重新启动 Cassandra 的时间 <block ref="632728bcf8415de82f01e623143f3d23" category="inline-xref-macro-rx"></block>。</block>
  <block id="15f464878c77b0b44c37e5e8663f44c1" category="paragraph">Cassandra 可以有多个条目；您必须找到最新的条目。</block>
  <block id="41b7a38d4b37e5fc586566776f6a2763" category="list-text">如果 Cassandra 已关闭超过 15 天，则必须重建 Cassandra 数据库。</block>
  <block id="adb2a3f1ce6044cca831a1c3e1fcc38c" category="inline-xref-macro">将存储节点恢复到关闭状态超过 15 天</block>
  <block id="a92ccedb90b1f529d405d48823bc9525" category="paragraph">有关说明，请参见 <block ref="7948b2fd460abb01c2a6b665be7ca4b3" category="inline-xref-macro-rx"></block>。</block>
  <block id="1027dab8ad1135530c754ecc27dd8c7b" category="list-text">如果重建 Cassandra 后无法清除警报，请联系技术支持。</block>
  <block id="7448ac8a2440feb1f559e27611b060ff" category="section-title">对 Cassandra 内存不足错误（ SMTTT 警报）进行故障排除</block>
  <block id="fd73c5b19eb71a21b9e039279608b7c0" category="paragraph">如果 Cassandra 数据库出现内存不足错误，则会触发总计事件（ SMT ）警报。如果发生此错误，请联系技术支持以使用问题描述 。</block>
  <block id="e9b0dabe78a40351d7b0a637c79de6e7" category="paragraph">如果 Cassandra 数据库发生内存不足错误，则会创建堆转储，触发总事件（ SMT ）警报， Cassandra 堆内存不足错误计数将增加 1 。</block>
  <block id="9e20710df153e393c701eda5b1d2fbcf" category="list-text">要查看事件，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * &gt; * 配置 * 。</block>
  <block id="b832676c17270cdd35801ee9b893738c" category="list-text">验证 Cassandra 堆内存不足错误计数是否为 1 或更高。</block>
  <block id="bed4eac46ec43dc854496c7fd503d700" category="list-text">转至 ` /var/local/core/` ，压缩 `Cassandra.hprof` 文件，然后将其发送给技术支持。</block>
  <block id="28f7e2793e7b4bef50320fd5f1b0811d" category="list-text">备份 `Cassandra.hprof` 文件，然后将其从 ` /var/local/core/ 目录` 中删除。</block>
  <block id="ae9cb88877a4eb1f8902a3d9f8b142fa" category="paragraph">此文件最大可达 24 GB ，因此您应将其删除以释放空间。</block>
  <block id="da8aa33fba5f0e040dbcfd863abfa4a6" category="list-text">解决问题描述 后，选中 Cassandra 堆内存不足错误计数的 * 重置 * 复选框。然后选择 * 应用更改 * 。</block>
  <block id="552dbbf30f89b8b67b5955c92f764de0" category="summary">您必须监控每个存储节点的总可用空间，以确保该节点具有足够的空间来容纳新对象数据。</block>
  <block id="56667de25fcd191426d5ebf87d09a7e6" category="doc">监控每个存储节点的存储容量</block>
  <block id="3b1d1dd4d870b5fecaf7334b2cb92e32" category="paragraph">可用空间是指可用于存储对象的存储空间量。存储节点的总可用空间是通过将节点中所有对象存储上的可用空间相加来计算得出的。</block>
  <block id="b458d0c447d3eb6717cdbb234e1843cf" category="image-alt">可用总空间的概念图</block>
  <block id="5ce7450780d63960901596ced96762f1" category="list-text">选择 * 节点 * &gt; * 存储节点 _* &gt; * 存储 * 。</block>
  <block id="1a0f1ecd58c0a40f02336956efbba5dd" category="paragraph">此时将显示节点的图形和表。</block>
  <block id="e5e8bd2f61ac9b30f3365e7eb6ddeae5" category="list-text">将光标悬停在已用存储 - 对象数据图上。</block>
  <block id="a06a80dd6be829bd5c03715172cb7932" category="paragraph">此时将显示以下值：</block>
  <block id="749dd2462e3d16f4dd831b0c692d2777" category="list-text">* 已用（ % ） * ：已用于对象数据的总可用空间的百分比。</block>
  <block id="79b5d0bd3b0d109656405651e9f57ff4" category="list-text">* 已用 * ：已用于对象数据的总可用空间量。</block>
  <block id="d28b873c5e37220698dab3afe8617589" category="list-text">* 复制数据 * ：此节点，站点或网格上复制的对象数据量的估计值。</block>
  <block id="9e3e121f77a0d3aed439e403d0d28314" category="list-text">* 擦除编码数据 * ：此节点，站点或网格上经过擦除编码的对象数据量的估计值。</block>
  <block id="73a113e941589e651fddf5dbd2485a59" category="list-text">* 总计 * ：此节点，站点或网格上的可用空间总量。使用的值是 `storagegRid_storage_utilization _data_bytes` 指标。</block>
  <block id="2f6bd7f07e92c73dfc72f759d916b40b" category="image-alt">节点页面存储已用对象数据</block>
  <block id="d2e15d0d5f1490bc02a7faec7330bc82" category="list-text">查看图形下方的卷和对象存储表中的可用值。</block>
  <block id="fdd9dcb0eefb08b8f41766a026a27aa4" category="inline-image-macro">图表图标</block>
  <block id="0f2efb85d3f9ad5d70d8376e67ccbfc8" category="admonition">要查看这些值的图形，请单击图表图标 <block ref="fef6c5928d3879aa90997661396b15f7" category="inline-image-macro-rx" type="image"></block> 在可用列中。</block>
  <block id="089b2b32cdff74f7ba193e8a17ddb7dc" category="image-alt">对象存储表</block>
  <block id="c1fe1859a80b30010a6e83e1d8689990" category="list-text">监控值随时间变化，以估计可用存储空间的消耗速率。</block>
  <block id="9b75e74377903f14c00278c51c81a573" category="list-text">要保持系统正常运行，请在使用可用空间之前添加存储节点，添加存储卷或归档对象数据。</block>
  <block id="040f71f4c24b0da4fa5e4d9edceeb947" category="paragraph">在规划扩展时间时，请考虑购买和安装额外存储需要多长时间。</block>
  <block id="d27121218cfa637e70bf9aa7dd4b8877" category="admonition">如果您的 ILM 策略使用纠删编码，则您可能希望在现有存储节点已满大约 70% 时进行扩展，以减少必须添加的节点数量。</block>
  <block id="44483e2f12a290b736920c244da48b84" category="paragraph">有关规划存储扩展的详细信息，请参见有关扩展 StorageGRID 的说明。</block>
  <block id="b5208ce9fb3f85076adcddedbca12773" category="paragraph">如果在存储节点上存储对象数据的空间不足，则会触发 * 对象数据存储空间不足 * 警报。</block>
  <block id="7a5f4e15c4fc6cee16c5dd555d1f6650" category="inline-xref-macro">对对象数据存储不足警报进行故障排除</block>
  <block id="4317b75eaa4a5cc59eb818a677e250e8" category="paragraph"><block ref="4317b75eaa4a5cc59eb818a677e250e8" category="inline-xref-macro-rx"></block></block>
  <block id="73a5ae0872d5ebd6f203290425adc81a" category="summary">您可以使用网格管理 API 提供的 StorageGRID 指标构建自定义监控应用程序和信息板。</block>
  <block id="10dd08fa68c52b389932fc2b83a2a0a7" category="doc">创建自定义监控应用程序</block>
  <block id="ac1ea3903f8d045ca1fe93a2bbdfecf9" category="paragraph">如果要监控网格管理器的现有页面上未显示的指标，或者要为 StorageGRID 创建自定义信息板，则可以使用网格管理 API 查询 StorageGRID 指标。</block>
  <block id="1a1927b298cb03307dcf9a666cb591fe" category="paragraph">您还可以直接使用外部监控工具（例如 Grafana ）访问 Prometheus 指标。使用外部工具时，您需要上传或生成管理客户端证书，以使 StorageGRID 能够对该工具进行身份验证以确保安全性。请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="3ffd661b86cd2e7c5a0b30294ad816d6" category="inline-image-macro">帮助 API 文档指标部分</block>
  <block id="8a5392e579177fb54bb83cf96a5f0daf" category="paragraph">要查看指标 API 操作，包括可用指标的完整列表，请转到网格管理器。从页面顶部，选择帮助图标并选择 * API Documentation* &gt; * 指标 * 。 <block ref="3d110bcf42170f5631779c70e64dc413" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9097f45118332ca7eaff2a622ec1ead7" category="paragraph">本文档不会详细介绍如何实施自定义监控应用程序。</block>
  <block id="26129637dc2208bcbecda6636fa335d4" category="summary">或者，您也可以配置静音以临时禁止警报通知。</block>
  <block id="2b8d67d1b6630f91762e6f78e46c1a8c" category="paragraph">您可以对整个网格，单个站点或单个节点以及一个或多个严重性静默警报规则。每次静默都将禁止针对单个警报规则或所有警报规则发出所有通知。</block>
  <block id="e0011df73d936e22fcc3a724ecf5377d" category="paragraph">如果已启用 SNMP 代理，则 Silences 还会禁止 SNMP 陷阱并通知。</block>
  <block id="22f02f7b7b5cf2b93236079682e2a871" category="admonition">在决定静默警报规则时，请务必小心。如果您静默警报，则可能无法检测到潜在问题，直到它阻止完成关键操作为止。</block>
  <block id="199af841fe58656c5fa11cc266e4105f" category="admonition">由于警报和警报是独立的系统，因此不能使用此功能禁止警报通知。</block>
  <block id="ee5700f1e868a87e2dfef312bf5917f4" category="paragraph">此时将显示 Silences 页面。</block>
  <block id="bcd47a1bf96194ef76a75e7f209dfb3d" category="image-alt">警报 &gt; 静音页面</block>
  <block id="bf18811faac9b8e4fcaebab51afd1113" category="list-text">选择 * 创建 * 。</block>
  <block id="72892d3abd24d296031d094ffce9bd4b" category="paragraph">此时将显示创建静默对话框。</block>
  <block id="8565d02dd2cb1e68980d71589d882c39" category="image-alt">警报 &gt; 创建静默</block>
  <block id="1d2c1f0f8c4d89bd68134cd0810e1beb" category="list-text">选择或输入以下信息：</block>
  <block id="ae5e8c268d0eb61ae92f6ffb37d3b61c" category="paragraph">警报规则</block>
  <block id="11bf80d13b4d80ee9123c16b7634c909" category="paragraph">要静默的警报规则的名称。您可以选择任何默认或自定义警报规则，即使警报规则已禁用也是如此。</block>
  <block id="9610a4ef4449287136786567db6cdc8d" category="paragraph">* 注： * 如果要使用此对话框中指定的标准将所有警报规则静默，请选择 * 所有规则 * 。</block>
  <block id="3cbea1687d51b628273001a52cde38f5" category="paragraph">也可以选择静默问题描述 。例如，请描述此静默的目的。</block>
  <block id="e02d2ae03de9d493df2b6b2d2813d302" category="paragraph">Duration</block>
  <block id="024508a184c04c54f079f17e21f7d9d7" category="paragraph">希望此静默保持有效的时间，以分钟，小时或天为单位。静默时间为 5 分钟到 1 ， 825 天（ 5 年）。</block>
  <block id="fb7cccb69cd3482da0fc8bf4c0574a10" category="paragraph">* 注意： * 不应将警报规则静默较长时间。如果某个警报规则已静音，则在阻止完成关键操作之前，您可能无法检测到潜在问题。但是，如果警报是由特定的有意配置触发的，则可能需要使用长时间静默，例如， "* 服务设备链路已关闭 " 警报和 "* 存储设备链路已关闭 " 警报可能会出现这种情况。</block>
  <block id="d374f9272317611049bfd948cdda884e" category="paragraph">应将哪个警报严重性或严重性静音。如果在选定严重性之一触发警报，则不会发送任何通知。</block>
  <block id="187c6ad3a74cc93ac6c2229d398e383e" category="paragraph">节点</block>
  <block id="d1c3f71a68fd0a07569a51ddc8e23de7" category="paragraph">您希望此静默应用于哪个或哪些节点。您可以禁止整个网格，单个站点或单个节点上的警报规则或所有规则。如果选择整个网格，则会将适用场景 静默所有站点和所有节点。如果选择站点，则此静默状态仅适用于该站点上的节点。</block>
  <block id="54b5393b5c3eeec6687913c46197b3dd" category="paragraph">* 注意： * 每次静默不能选择多个节点或多个站点。如果要同时在多个节点或多个站点上禁止相同的警报规则，则必须创建其他静音。</block>
  <block id="aad8688423422a54f3210c1e7d57b8a2" category="list-text">如果要在静默过期之前修改或结束静默，可以对其进行编辑或删除。</block>
  <block id="f34a6bb64fa3c1ed436a6ee3960b0557" category="paragraph">编辑静默</block>
  <block id="f4f5eb546a852ff201eadccecb28d327" category="list-text">从表中，选择要编辑的静默设置对应的单选按钮。</block>
  <block id="071ef8ace6c74c9a1515550077974172" category="list-text">选择 * 编辑 * 。</block>
  <block id="067b3bf6c1f96eb66e3824e86b1591d0" category="list-text">更改问题描述 ，剩余时间，选定严重性或受影响的节点。</block>
  <block id="d8913463f0813b8e6bfd00cb98c469cb" category="paragraph">取消静默</block>
  <block id="9f56b17866db02e5aed8b1deb3340247" category="list-text">从表中，选择要删除的静默设置对应的单选按钮。</block>
  <block id="6f99fa9b2e1f4893851a8aeb82d171f9" category="list-text">选择 * 删除 * 。</block>
  <block id="2d1c36505f1580aad1cf7f5bdea5a225" category="list-text">选择 * 确定 * 确认要删除此静默状态。</block>
  <block id="e57b0f10d4342d5673225274ed2bb775" category="paragraph">* 注意 * ：现在，在触发此警报时，系统将发送通知（除非被另一个静默禁止）。如果当前触发此警报，则发送电子邮件或 SNMP 通知以及更新警报页面可能需要几分钟的时间。</block>
  <block id="06426ec5abd5c83380de509487bdaf2d" category="inline-xref-macro">配置 SNMP 代理</block>
  <block id="7ef86da63b39c4aae9703de9b68b14c3" category="list-text"><block ref="7ef86da63b39c4aae9703de9b68b14c3" category="inline-xref-macro-rx"></block></block>
  <block id="1e446b148cd3edeab8103da2638c5aa0" category="summary">监控可用总空间，以确保 StorageGRID 系统不会用尽对象或对象元数据的存储空间。</block>
  <block id="d669f5f05456795d82766ff4a474d7cc" category="paragraph">StorageGRID 会分别存储对象数据和对象元数据，并为包含对象元数据的分布式 Cassandra 数据库预留特定空间量。监控对象和对象元数据的已用空间总量，以及每个对象的已用空间量趋势。这样，您可以提前计划添加节点，并避免任何服务中断。</block>
  <block id="ed9fd91c1e9040da38095a64b6e16adb" category="inline-xref-macro">查看存储容量信息</block>
  <block id="6a19de75181d221db296830bb05a075e" category="paragraph">您可以 <block ref="6e1d6839162745b27db1d0bfb8de444a" category="inline-xref-macro-rx"></block> 适用于整个网格，每个站点以及 StorageGRID 系统中的每个存储节点。</block>
  <block id="cfc56bcc7f5827fab2b38332373da30c" category="section-title">监控整个网格的存储容量</block>
  <block id="7c7f7640875057a7f86be95afed9c276" category="paragraph">您必须监控网格的整体存储容量，以确保为对象数据和对象元数据保留足够的可用空间。了解存储容量如何随时间变化有助于您计划在占用网格的可用存储容量之前添加存储节点或存储卷。</block>
  <block id="4e78b2d2c269c5018315918a1d28223d" category="paragraph">通过网格管理器中的信息板，您可以快速评估整个网格和每个数据中心的可用存储容量。节点页面提供了对象数据和对象元数据的更详细值。</block>
  <block id="508affd429dd66086d1265f30ee86e4d" category="list-text">评估可用于整个网格和每个数据中心的存储量。</block>
  <block id="612770839809215b203a58fa260be49e" category="list-text">选择 * 信息板 * 。</block>
  <block id="e81dedf3bc8b70da3fcdf8d0612bc5a0" category="list-text">在可用存储面板中，记下可用存储容量和已用存储容量的总体摘要。</block>
  <block id="0be8ef02dd0ae09501bc9d45606716cb" category="admonition">此摘要不包括归档介质。</block>
  <block id="4482afcce937533cc891fd333f66f610" category="image-alt">可用存储面板</block>
  <block id="e2ee8aff71b70d6ecc5584caca93d244" category="list-text">将光标置于图表的 " 可用容量 " 或 " 已用容量 " 部分上方，可准确查看可用空间量或已用空间量。</block>
  <block id="598ef45ac6ea2e9369f4716103896552" category="image-alt">信息板可用容量或已用容量图表</block>
  <block id="e54b5b98e11867000bc0093093b7a027" category="list-text">对于多站点网格，请查看每个数据中心的图表。</block>
  <block id="041a6837b8fa8bf464033a5bcffb3622" category="list-text">单击图表图标 <block ref="fef6c5928d3879aa90997661396b15f7" category="inline-image-macro-rx" type="image"></block> 用于查看整体图表或单个数据中心的图形，以显示一段时间内的容量使用情况。</block>
  <block id="dc4a7345d104bf8b1fc369e2cd66f0ec" category="paragraph">显示已用存储容量百分比（ % ）与的图形此时将显示时间。</block>
  <block id="7a4f9898cb33cf6cc69d81f86fd15414" category="list-text">确定已使用的存储容量以及仍可用于对象数据和对象元数据的存储容量。</block>
  <block id="84695eac245360ff2e68944a3680404a" category="list-text">选择 * ； grid_* &gt; * 存储 * 。</block>
  <block id="48ff3d0241d76278ee55395c04d506d3" category="image-alt">节点部署存储选项卡</block>
  <block id="2b6db927f41df14ee17ec4c13595520a" category="list-text">将光标悬停在 * 已用存储 - 对象数据 * 和 * 已用存储 - 对象元数据 * 图表上，可查看整个网格可使用的对象存储和对象元数据存储容量以及已使用的容量。</block>
  <block id="611f311e648c42f27fb1a41c8c2d31f2" category="list-text">计划执行扩展，以便在占用网格的可用存储容量之前添加存储节点或存储卷。</block>
  <block id="b18c9b35545171c9fd2541d1b3954b91" category="inline-xref-macro">扩展 StorageGRID 的说明</block>
  <block id="91a464f9fc7d359e3bae6f7836cf6321" category="paragraph">有关规划存储扩展的详细信息，请参见 <block ref="dc91faf711c017b432485d56c5f64007" category="inline-xref-macro-rx"></block>。</block>
  <block id="40b3c3d7d5c6807a7343c349cf5e96a8" category="paragraph">监控每个存储节点的总可用空间，以确保该节点具有足够的空间来容纳新对象数据。</block>
  <block id="235ec684e67708593e400c5616045a95" category="inline-xref-macro">* 对象数据存储空间不足 *</block>
  <block id="fd117ba315a43189255d6f9ff0048559" category="paragraph">。 <block ref="2b51d6f35b659c13c151c0a8d4fa5c26" category="inline-xref-macro-rx"></block> 如果在存储节点上存储对象数据的空间不足，则会触发警报。</block>
  <block id="6d81b79d5dafc09147ba59a83b7d4821" category="paragraph">监控每个存储节点的元数据使用情况，以确保为基本数据库操作保留足够的可用空间。在对象元数据超过允许的元数据空间的 100% 之前，您必须在每个站点添加新的存储节点。</block>
  <block id="f4de39afd9a3439c7971b60469cd0ff7" category="paragraph">StorageGRID 在每个站点维护三个对象元数据副本，以提供冗余并防止对象元数据丢失。这三个副本会使用每个存储节点的存储卷 0 上为元数据预留的空间均匀分布在每个站点的所有存储节点上。</block>
  <block id="ff8db25ff52255d075220662c448997e" category="paragraph">在某些情况下，网格的对象元数据容量消耗速度可能比其对象存储容量更快。例如，如果您通常要载入大量小对象，则可能需要添加存储节点以增加元数据容量，即使仍有足够的对象存储容量。</block>
  <block id="f54133cfd7408c1d873739a92edc630d" category="paragraph">可能增加元数据使用量的一些因素包括用户元数据和标记的大小和数量，多部分上传中的部件总数以及 ILM 存储位置的更改频率。</block>
  <block id="2b091a8b2de4be73f278700ee48c7b2f" category="list-text">将光标悬停在已用存储 - 对象元数据图上可查看特定时间的值。</block>
  <block id="dc26da1a0182e0d2fc7a3ca4b16fd1f4" category="cell">Prometheus 指标</block>
  <block id="544ddf6f3cc5bcf9d13d96fbbd18c0aa" category="paragraph">已用（ % ）</block>
  <block id="743c6e5f73b7bf6d466e81b18c9ec6b9" category="paragraph">此存储节点上已使用的允许元数据空间的百分比。</block>
  <block id="5b1e744b59ae96f8715faefbe7cd0d16" category="paragraph">`storagegRid_storage_utilization metadata_bytes/ storagegRid_storage_utilization _metadata_allowed_bytes`</block>
  <block id="019d1ca7d50cc54b995f60d456435e87" category="paragraph">已用</block>
  <block id="48bf62cb29a1c00db5246a69074b22c0" category="paragraph">此存储节点上已使用的允许元数据空间的字节数。</block>
  <block id="13284b0f849350376bc2153580c0e004" category="paragraph">`storagegRid_storage_utilization metadata_bytes`</block>
  <block id="bb5fe5cd9c8c778e81b05ef53c166612" category="paragraph">允许</block>
  <block id="eb473ba01551d072cfc3e101b290b76a" category="paragraph">此存储节点上的对象元数据允许的空间。要了解如何为每个存储节点确定此值，请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="4a3162f7b5664c8a03d2bb8d7a06d222" category="paragraph">`storagegRid_storage_utilization metadata_allowed_bytes`</block>
  <block id="4000e46cacb0aac1eb834a937739a096" category="paragraph">实际预留</block>
  <block id="16793cea897645a216ebf471745f90db" category="paragraph">为此存储节点上的元数据预留的实际空间。包括基本元数据操作所需的允许空间和空间。要了解如何为每个存储节点计算此值，请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="f4bac6cbb333d1ce3b3adcec393f3288" category="paragraph">_Metric 将在未来版本中添加。 _</block>
  <block id="6de0f04640eda53faadbbd7d6efa203a" category="admonition">站点或网格的总值不包括至少在五分钟内未报告指标的节点，例如脱机节点。</block>
  <block id="888f3254fe3133815774f6db33b8f8db" category="list-text">如果 * 已用（ % ） * 值为 70% 或更高，请通过向每个站点添加存储节点来扩展 StorageGRID 系统。</block>
  <block id="be3e9de72728f2c9b90e93aba0e6437f" category="admonition">当 * 已用（ % ） * 值达到特定阈值时，将触发 * 元数据存储不足 * 警报。如果对象元数据使用的空间超过允许的 100% ，则可能会出现不希望出现的结果。</block>
  <block id="f67bfa54436d02437e78fcd498a1928b" category="paragraph">添加新节点时，系统会自动在站点内的所有存储节点之间重新平衡对象元数据。请参见 <block ref="7f40b7ef15bfcc3af1c06d8ce4f93486" category="inline-xref-macro-rx"></block>。</block>
  <block id="c2c9e402330b29688c9d4703d270dd38" category="summary">您可以监控某些操作的性能，例如对象存储和检索，以帮助确定可能需要进一步调查的更改。</block>
  <block id="ac8c150fcf3aa4c2b54da5be641d853e" category="paragraph">要监控 PUT 和 GET 性能，您可以直接从工作站或使用开源 S3tester 应用程序运行 S3 和 Swift 命令。使用这些方法可以独立于 StorageGRID 外部因素（例如客户端应用程序问题或外部网络问题）评估性能。</block>
  <block id="96367fc71127ee252676aab7cc4467da" category="paragraph">对 PUT 和 GET 操作执行测试时，请遵循以下准则：</block>
  <block id="a938860de0f7dcee3966aeb71af60a35" category="list-text">使用与通常载入到网格中的对象相当的对象大小。</block>
  <block id="adbd88e293598af032db39cd6b72933d" category="list-text">对本地站点和远程站点执行操作。</block>
  <block id="7d71019726dccc04ceb52b94f892b7f6" category="inline-xref-macro">审核日志</block>
  <block id="e6f0251537845f5542fd958004eb6e6d" category="paragraph">中的消息 <block ref="ded7cf3f45fb57c1e7eb3b1543dce2f6" category="inline-xref-macro-rx"></block> 指示运行某些操作所需的总时间。例如，要确定 S3 GET 请求的总处理时间，您可以查看 SGET 审核消息中的时间属性值。您还可以在以下操作的审核消息中找到时间属性：</block>
  <block id="ae04685be3d03a9bc96ed44449767a0a" category="list-text">* S3 ： delete ， get ， head ， Metadata updated ， post ， PUT</block>
  <block id="91c84832277781d7a857d73cc54fd459" category="list-text">* Swift* ： delete ， get ， head ， put</block>
  <block id="ba77983e8b66c51e392106401b9da875" category="paragraph">在分析结果时，请查看满足请求所需的平均时间以及可以实现的总吞吐量。定期重复相同的测试并记录结果，以便确定可能需要调查的趋势。</block>
  <block id="d07b8028a10793d57d1a9460b0fd69ed" category="inline-link">从 GitHub 下载 S3tester</block>
  <block id="16e99c784002d39eaa29799266d4708e" category="list-text">您可以<block ref="a5df264cff63feade7099bef9a4e2763" category="inline-link-rx"></block>。</block>
  <block id="fceb307437ab4b102d4b15c88a70796a" category="summary">通过 SANtricity 系统管理器选项卡，您可以访问 SANtricity 系统管理器，而无需配置或连接存储设备的管理端口。您可以使用此选项卡查看硬件诊断和环境信息以及与驱动器相关的问题。</block>
  <block id="9efe42a3f6412bc5e683fbe1ec286055" category="doc">查看 SANtricity 系统管理器选项卡</block>
  <block id="f5acd25fc1421d19596ebb3fa65d4ed8" category="paragraph">此时将为存储设备节点显示 SANtricity System Manager 选项卡。</block>
  <block id="34826d492ed12a35b2d9266566ae8758" category="paragraph">使用 SANtricity System Manager ，您可以执行以下操作：</block>
  <block id="1844a78b943b20035ea892cd130bec21" category="list-text">查看存储阵列级别性能， I/O 延迟，存储控制器 CPU 利用率和吞吐量等性能数据</block>
  <block id="c088e6e33a03cf652d0cb1f6ab96e290" category="list-text">检查硬件组件状态</block>
  <block id="56fbdd0f82e2a28de2cf165105e1e8bb" category="list-text">执行支持功能，包括查看诊断数据和配置 E 系列 AutoSupport</block>
  <block id="6de8e1bee1f8548f0e7539ae78690cb4" category="admonition">要使用 SANtricity 系统管理器为 E 系列 AutoSupport 配置代理，请参见管理 StorageGRID 中的说明。</block>
  <block id="877ffbbc6cab5881e1d219c92520d3eb" category="admonition">要使用网格管理器访问 SANtricity 系统管理器，您必须具有 SANtricity 固件 8.70 或更高版本。</block>
  <block id="4f85c58e212f1a130b1c30a990218d32" category="admonition">从网格管理器访问 SANtricity 系统管理器通常仅用于监控设备硬件和配置 E 系列 AutoSupport 。SANtricity System Manager 中的许多功能和操作（例如升级固件）不适用于监控 StorageGRID 设备。为避免出现问题，请始终按照适用于您的设备的硬件安装和维护说明进行操作。</block>
  <block id="0bad169e76a177800cfb674fcf67e779" category="paragraph">此选项卡将显示 SANtricity 系统管理器的主页。</block>
  <block id="a0144740de2b5197d1edf102a709d878" category="image-alt">节点页面 SANtricity 选项卡</block>
  <block id="1db82997907f88a6aa0185fea31bb873" category="admonition">您可以使用 SANtricity 系统管理器链接在新浏览器窗口中打开 SANtricity 系统管理器，以便于查看。</block>
  <block id="22599c9c0330f201265ddb32f8c1a6dc" category="paragraph">要查看存储阵列级别性能和容量使用情况的详细信息，请将光标悬停在每个图形上。</block>
  <block id="83fe777b667fc417fbc9028c96868d13" category="inline-link">NetApp E 系列和 SANtricity 文档</block>
  <block id="ecbde34445cbba9e1d5b04094f4ccfc7" category="paragraph">有关查看可从 SANtricity 系统管理器选项卡访问的信息的详细信息，请参见<block ref="aee6784f2ffa8dbc0bcb853cd1a122f7" category="inline-link-rx"></block>。</block>
  <block id="1bf6a46562371795b611b6f850d9a5a7" category="summary">首次登录到网格管理器时，您可以使用信息板一目了然地监控系统活动。信息板包含有关系统运行状况，使用情况指标以及操作趋势和图表的信息。</block>
  <block id="8150a441ce7030c542014d39ae5da445" category="doc">查看信息板</block>
  <block id="a018a54108c62254641e4e48cfbf6db3" category="image-alt">网格管理器信息板</block>
  <block id="9b47369d72e17f6b7fe04d5bf2ad5986" category="section-title">搜索字段</block>
  <block id="20df8d14df7c40dbee6df48f935eb4b5" category="paragraph">通过标题栏中的 * 搜索 * 字段，您可以快速导航到网格管理器中的特定页面或边栏条目。例如，您可以输入 * 密钥 * 以访问密钥管理服务器页面。</block>
  <block id="497ef3dd66d6ad448d0c09308d3e354c" category="section-title">运行状况面板</block>
  <block id="09939613181115161076457d351ad034" category="cell">查看其他详细信息</block>
  <block id="d59048f21fd887ad520398ce677be586" category="cell">了解更多信息。</block>
  <block id="c616a72c1e0fe487751221d33cb133b5" category="paragraph">汇总了系统的运行状况。绿色复选标记表示当前没有警报，并且所有网格节点均已连接。任何其他图标表示至少存在一个当前警报或已断开连接的节点。</block>
  <block id="7175ce55253b1f564dc44877b2597345" category="paragraph">您可能会看到以下一个或多个链接：</block>
  <block id="844b7419d136387f8858198df58ef195" category="list-text">* 网格详细信息 * ：如果任何节点断开连接（连接状态为未知或管理员关闭），则显示此消息。单击链接或单击蓝色或灰色图标以确定受影响的节点。</block>
  <block id="77d692d7353decd07c8360c16658ba2e" category="list-text">* 当前警报 * ：如果任何警报当前处于活动状态，则显示此消息。单击链接，或单击 * 严重 * ， * 主要 * 或 * 次要 * 以查看 * 警报 * &gt; * 当前 * 页面上的详细信息。</block>
  <block id="894c657157777cd8c97d5758223d2651" category="list-text">* 最近解决的警报 * ：如果过去一周触发的任何警报现已解决，则显示此消息。单击此链接可在 * 警报 * &gt; * 已解决 * 页面上查看详细信息。</block>
  <block id="d781f1f876a8145df9389ddedcd0b0b9" category="list-text">* 旧警报 * ：如果任何警报（旧系统）当前处于活动状态，则显示此消息。单击此链接可在 * 支持 * &gt; * 警报（传统） * &gt; * 当前警报 * 页面上查看详细信息。</block>
  <block id="3cc733e7ce958c9f71cc1d436cd40bef" category="list-text">* 许可证 * ：如果存在具有此 StorageGRID 系统软件许可证的问题描述 ，则显示此。单击此链接可在 * 维护 * &gt; * 系统 * &gt; * 许可证 * 页面上查看详细信息。</block>
  <block id="a3969d99d874aa4c2f5e0045762b8721" category="paragraph">显示整个网格中的可用存储容量和已用存储容量，不包括归档介质。</block>
  <block id="6aa73f59a7237f52ae020aa0272091cc" category="paragraph">" 整体 " 图表显示了网格范围内的总计。如果这是一个多站点网格，则会为每个数据中心站点显示其他图表。</block>
  <block id="7ef7cb3f2c76efee4e804b381f222a63" category="paragraph">您可以使用此信息将已用存储与可用存储进行比较。如果您使用的是多站点网格，则可以确定哪个站点占用的存储更多。</block>
  <block id="c12d4d54c28dbb4d03a56ac61aa92bb0" category="list-text">要查看容量，请将光标置于图表的 " 可用容量 " 和 " 已用容量 " 部分上方。</block>
  <block id="e0d06ed6f526cb01383128721ffbf048" category="list-text">要查看某个日期范围内的容量趋势，请单击图表图标 <block ref="fef6c5928d3879aa90997661396b15f7" category="inline-image-macro-rx" type="image"></block> 对于整个网格或数据中心站点。</block>
  <block id="1b72a9c26aed235342f3d2122b87f039" category="list-text">要查看详细信息，请选择 * 节点 * 。然后，查看整个网格，整个站点或单个存储节点的存储选项卡。</block>
  <block id="97ba35d5d71f1d7082f201a1d814c497" category="list-text"><block ref="97ba35d5d71f1d7082f201a1d814c497" category="inline-xref-macro-rx"></block></block>
  <block id="16e258465ee1cbf364d24858b9d7f1cc" category="section-title">信息生命周期管理（ ILM ）面板</block>
  <block id="34acf526d28e82eef9984434d750025f" category="paragraph">显示系统的当前 ILM 操作和 ILM 队列。您可以使用此信息监控系统的工作负载。</block>
  <block id="457f949256fd7b7bb9700bd50d2180cc" category="list-text">* 正在等待 - 客户端 * ：等待通过客户端操作（例如载入）进行 ILM 评估的对象总数。</block>
  <block id="7daa86b1d4f9114dcac3d91484311d09" category="list-text">* 等待 - 评估速率 * ：根据网格中的 ILM 策略评估对象的当前速率。</block>
  <block id="0b0bd821b74404775c0d6756b731752d" category="list-text">* 扫描期间 - 估计 * ：完成对所有对象的完整 ILM 扫描的估计时间。* 注意： * 完全扫描并不能保证 ILM 已应用于所有对象。</block>
  <block id="1f351f4de79365c13f4fd7e49826379d" category="list-text">要查看详细信息，请选择 * 节点 * 。然后，查看整个网格，整个站点或单个存储节点的 ILM 选项卡。</block>
  <block id="6513d2c00aba6d917c4618cc7a8f0396" category="list-text">要查看现有 ILM 规则，请选择 * 。 ILM &gt; * 规则 * 。</block>
  <block id="627f43ca6afd51389ae3500c25e8c85e" category="list-text">要查看现有 ILM 策略，请选择 * 。 ILM &gt; * 策略 * 。</block>
  <block id="27a0fd0c569f158e6921ded397a0b9a2" category="inline-xref-macro">查看 ILM 选项卡</block>
  <block id="74d47b1f65fbb5b663a8af674e7b673b" category="list-text"><block ref="74d47b1f65fbb5b663a8af674e7b673b" category="inline-xref-macro-rx"></block></block>
  <block id="115f5fe6805e70db18bc43d2cc1654f0" category="list-text"><block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block>。</block>
  <block id="1d01e64a6d439828824649e40beb60a7" category="section-title">协议操作面板</block>
  <block id="dfa6417a79777346a680f050ab33c7c5" category="paragraph">显示系统执行的特定于协议的操作（ S3 和 Swift ）的数量。</block>
  <block id="afebdf1808658aaac6bd3d0a403386f8" category="paragraph">您可以使用此信息监控系统的工作负载和效率。协议速率是过去两分钟的平均值。</block>
  <block id="f28d0498eb88ab61c0095918c201ed3f" category="list-text">要查看详细信息，请选择 * 节点 * 。然后，查看整个网格，整个站点或单个存储节点的对象选项卡。</block>
  <block id="43f686a34cb5de36836415e73539562e" category="list-text">要查看某个日期范围内的趋势，请单击图表图标 <block ref="fef6c5928d3879aa90997661396b15f7" category="inline-image-macro-rx" type="image"></block> S3 或 Swift 协议速率右侧。</block>
  <block id="9c92faf98de839c529e23d45ddab396a" category="inline-xref-macro">查看对象选项卡</block>
  <block id="4baa86a31d2b8ed13bc478408f916e25" category="list-text"><block ref="4baa86a31d2b8ed13bc478408f916e25" category="inline-xref-macro-rx"></block></block>
  <block id="8968c0df90dec39fb9ee851d20b33298" category="summary">您可以创建自定义警报规则来定义自己触发警报的条件。</block>
  <block id="15c707c948ffdd2d1bd3bcd0fc900fc0" category="list-text">您将使用登录到网格管理器 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block></block>
  <block id="3e141f05ba4988a4f051943fecf7a781" category="list-text">您具有 " 管理警报 " 或 " 根访问 " 权限</block>
  <block id="f748971df6bbbfdf46f74efac33d3769" category="list-text">您熟悉 <block ref="563ea3bfbb1378256c329b0680898c93" category="inline-xref-macro-rx"></block></block>
  <block id="404de3227f76e2021159d214414ae48e" category="inline-link">Prometheus 查询的语法</block>
  <block id="bbef99942c9ef5c004d972a93f2aa5d1" category="list-text">您了解<block ref="33ff562feb878a4dfc1b4a26822abefb" category="inline-link-rx"></block></block>
  <block id="bf3f9598b8d16cca96fe09afea95183d" category="inline-link">视频：使用指标创建自定义警报</block>
  <block id="bd9ac465763afbb42f14e83284d1ae06" category="list-text">您也可以观看以下视频：<block ref="5387691c80c50ff8a1bb9b5cb576478e" category="inline-link-rx"></block></block>
  <block id="919524d5f58c9f8c1a8e7e40ecb848c9" category="image-alt">链接 -<block ref="12053bed32dc40638e814092ee7b529c" category="inline-link-rx"></block> Alt-Video ：使用指标创建自定义警报 "</block>
  <block id="7b8f59674a4705fdf1241b08607fdd78" category="paragraph">StorageGRID 不会验证自定义警报。如果您决定创建自定义警报规则，请遵循以下一般准则：</block>
  <block id="2097321c402bdadd559460ef980fa0c6" category="list-text">查看默认警报规则的条件，并将其用作自定义警报规则的示例。</block>
  <block id="efcb070c2310e61c97a7692d53e76406" category="list-text">如果为警报规则定义了多个条件，请对所有条件使用相同的表达式。然后，更改每个条件的阈值。</block>
  <block id="e94f16f0be1ad651062fc919e0eb85e0" category="list-text">仔细检查每个条件是否存在拼写错误和逻辑错误。</block>
  <block id="69990edd1227f1b03fd0db8dc04887b9" category="list-text">请仅使用网格管理 API 中列出的指标。</block>
  <block id="e8c7aa8acee7cc0d4886ee8d585c50c7" category="list-text">在使用网格管理 API 测试表达式时，请注意 " `s成功` " 响应可能只是空响应正文（未触发警报）。要查看警报是否实际触发，您可以临时将阈值设置为您希望当前为 true 的值。</block>
  <block id="a8a889510bfa99b31cf9ded32715d785" category="paragraph">例如，要测试表达式 `node_memory_MemTotal_bytes &lt; 240000000` ，请先执行 `node_memory_MemTotal_bytes &gt;= 0` 并确保获得预期结果（所有节点均返回一个值）。然后，将运算符和阈值改回预期值并重新执行。无结果表明此表达式当前没有警报。</block>
  <block id="13d7f6f12cb8781c1f5497425fe4deea" category="list-text">除非您验证警报是在预期时间触发的，否则请勿假定自定义警报正在运行。</block>
  <block id="b92735c18b005b90e348d82dfe8e579e" category="list-text">选择 * 创建自定义规则 * 。</block>
  <block id="6b9445223f6159be1e47a1eb007028e6" category="paragraph">此时将显示创建自定义规则对话框。</block>
  <block id="d57bc82a0a4aec3cea0a381a214c3976" category="image-alt">警报 &gt; 创建自定义规则</block>
  <block id="2c80d3f5692bbddd81bc83e7968f3387" category="list-text">输入以下信息：</block>
  <block id="8d2da795cb50e14dfe44702b70607d4b" category="paragraph">唯一名称</block>
  <block id="a8856f1ca1dbf79ef7b866ab141fbd38" category="paragraph">此规则的唯一名称。警报规则名称显示在警报页面上，也是电子邮件通知的主题。警报规则的名称可以介于 1 到 64 个字符之间。</block>
  <block id="3ba358e90bc96535f92c4450ee6d5b9e" category="paragraph">所发生问题的问题描述 。问题描述 是警报页面和电子邮件通知中显示的警报消息。警报规则的说明可以介于 1 到 128 个字符之间。</block>
  <block id="33acf00f645b602ed8a0fc05674e5cb0" category="paragraph">建议的操作</block>
  <block id="b5fa1b397cac22a3d6ceed4b2cad62d1" category="paragraph">也可以选择触发此警报时建议采取的操作。以纯文本格式输入建议的操作（无格式化代码）。警报规则的建议操作可以介于 0 到 1 ， 024 个字符之间。</block>
  <block id="4335529eb6ee2c1dc35e8a67d0da2ab7" category="list-text">在条件部分中，为一个或多个警报严重性级别输入一个 Prometheus 表达式。</block>
  <block id="c2b97b093551ba3096cc0e6be5405de0" category="paragraph">基本表达式通常采用以下形式：</block>
  <block id="8f19f8a66285c397e0c307029d5c5d44" category="paragraph">` ，指标，运算符，值，`</block>
  <block id="7205790e341b9df06858d3a13b6c4ac4" category="paragraph">表达式可以是任意长度，但会显示在用户界面的单行上。至少需要一个表达式。</block>
  <block id="5b879aa164c078fb95af9c2869ce7138" category="paragraph">如果节点的已安装 RAM 量小于 24 ， 000 ， 000 ， 000 字节（ 24 GB ），则此表达式会触发警报。</block>
  <block id="8a2a172afe4e4e09e63b2a7598d3f1db" category="paragraph">`node_memory_MemTotal_bytes &lt; 240000000`</block>
  <block id="2123058e0139303a95eadb60d715b5dd" category="inline-image-macro">问号图标</block>
  <block id="7084fb1317245f87563a8a032fc37f7f" category="paragraph">要查看可用指标并测试 Prometheus 表达式，请选择帮助图标 <block ref="a92f00b6b3c97c9322a6a7f66a54b5d1" category="inline-image-macro-rx" type="image"></block> 并单击网格管理 API 中的指标部分链接。</block>
  <block id="26d65c266a57744e3905ba2ed59d80de" category="list-text">在 * 持续时间 * 字段中，输入在触发警报之前条件必须持续保持有效的时间量，然后选择一个时间单位。</block>
  <block id="c6bb8bbdb16404bbfff33f7b30de71a1" category="paragraph">要在条件变为 true 时立即触发警报，请输入 * 。增加此值可防止临时条件触发警报。</block>
  <block id="78ab84795d20ac50a4cf06ccad3e5b95" category="paragraph">默认值为 5 分钟。</block>
  <block id="11235efb20ad34ad609ff2d752a50e8a" category="paragraph">此时，对话框将关闭，新的自定义警报规则将显示在 "Alert Rules" 表中。</block>
  <block id="cb9ee0f49a4679d78e40663caede75f2" category="summary">如果要使用第三方 SNMP 管理系统进行只读 MIB 访问和通知，则可以配置 StorageGRID SNMP 代理。</block>
  <block id="222660fe6165da0a26103baefbfb4563" category="list-text">您具有 root 访问权限。</block>
  <block id="cf4a676e180cf8f3ae3ffe42c2eeccc2" category="paragraph">StorageGRID SNMP 代理支持所有三个版本的 SNMP 协议。您可以为代理配置一个或多个版本。</block>
  <block id="76f402dff3f339ad9170adc5d35886de" category="paragraph">此时将显示 SNMP 代理页面。</block>
  <block id="93b4988a786c32ad919b54a39a4e4882" category="image-alt">SNMP 代理未启用</block>
  <block id="35d1f5e6fb7b318b05f7e17667f19572" category="list-text">要在所有网格节点上启用 SNMP 代理，请选中 * 启用 SNMP* 复选框。</block>
  <block id="458101d7104a5446d59f71c96e0e9cac" category="paragraph">此时将显示用于配置 SNMP 代理的字段。</block>
  <block id="121a8e17c52d0dc16da7243125ac04f6" category="image-alt">SNMP 代理页面</block>
  <block id="192a98ccfbcffada404b443cfe29131d" category="list-text">在 * 系统联系人 * 字段中，输入希望 StorageGRID 在 sysContact 的 SNMP 消息中提供的值。</block>
  <block id="72330c7f1e41a4daa6631e3ba4fe84d1" category="paragraph">系统联系人通常是电子邮件地址。您为 StorageGRID 系统中的所有节点提供的适用场景 值。* 系统联系人 * 最多可以包含 255 个字符。</block>
  <block id="3628d9b903e3e6c2ab0fb5cf12e974a5" category="list-text">在 * 系统位置 * 字段中，输入希望 StorageGRID 在 "SNMP messages"sysLocation" 中提供的值。</block>
  <block id="bf442eb761295feaa2562dfb17f540f3" category="paragraph">系统位置可以是有助于确定 StorageGRID 系统位置的任何信息。例如，您可以使用设施的街道地址。您为 StorageGRID 系统中的所有节点提供的适用场景 值。* 系统位置 * 最多可以包含 255 个字符。</block>
  <block id="30759390b3521d2e01540bd608d4b328" category="list-text">如果希望 StorageGRID SNMP 代理发送陷阱并通知通知，请保持选中 * 启用 SNMP 代理通知 * 复选框。</block>
  <block id="17f85f941395cef80ef7a253358cffc4" category="paragraph">如果未选中此复选框，则 SNMP 代理支持只读 MIB 访问，但不会发送任何 SNMP 通知。</block>
  <block id="ba554772f63eb316bca0a3aeb3ec28f2" category="list-text">如果希望 StorageGRID SNMP 代理在收到身份验证不当的协议消息时发送身份验证陷阱，请选中 * 启用身份验证陷阱 * 复选框。</block>
  <block id="d97ec068486e7564aaf808953c667b17" category="list-text">如果使用 SNMPv1 或 SNMPv2c ，请完成社区字符串部分。</block>
  <block id="a40681853cad41e33353f7cbcdfadb86" category="paragraph">本节中的字段用于 SNMPv1 或 SNMPv2c 中基于社区的身份验证。这些字段不适用于 SNMPv3 。</block>
  <block id="9dcc1e99017b9e7b68a78469f7f0a5f1" category="list-text">在 * 默认陷阱社区 * 字段中，也可以输入要用于陷阱目标的默认社区字符串。</block>
  <block id="281d3bb31f1aa3a2b9801bea6dc64b7e" category="inline-xref">定义特定陷阱目标</block>
  <block id="bde96a9fc3a0c79483e9ebf85a8868b0" category="paragraph">您可以根据需要提供其他（ "`custom` " ）社区字符串 <block ref="9233eb6b697dbe80a0ae6441525d192b" category="inline-xref-macro-rx"></block>。</block>
  <block id="376136b4e366d8c83caa00b545d8140b" category="paragraph">* 默认陷阱社区 * 最多可以包含 32 个字符，并且不能包含空格字符。</block>
  <block id="60eccdff8a27349a4e1fdaf2a282cdf3" category="inline-image-macro">加号</block>
  <block id="2c9d3f5750d492f23691c2c644414e42" category="list-text">对于 * 只读社区 * ，输入一个或多个社区字符串以允许对 IPv4 和 IPv6 代理地址进行只读 MIB 访问。单击加号 <block ref="c2277080fb185f0ce9ffc4fafdb581ba" category="inline-image-macro-rx" type="image"></block> 添加多个字符串。</block>
  <block id="d0eebded5b1ce190fbce4eb5a46454e8" category="paragraph">当管理系统查询 StorageGRID MIB 时，它会发送一个社区字符串。如果社区字符串与此处指定的值之一匹配，则 SNMP 代理会向管理系统发送响应。</block>
  <block id="5ab2977bb92ffcee44bd92546d1f3e66" category="paragraph">每个社区字符串最多可以包含 32 个字符，并且不能包含空格字符。最多允许五个字符串。</block>
  <block id="1b62b05574016959e8f97f9f82dc440e" category="admonition">为确保 StorageGRID 系统的安全性，请勿使用 "`公有` " 作为社区字符串。如果不输入社区字符串， SNMP 代理将使用 StorageGRID 系统的网格 ID 作为社区字符串。</block>
  <block id="80c44af1a2dedea4ed5598fec760b96e" category="list-text">也可以选择其他配置部分中的代理地址选项卡。</block>
  <block id="275946f7d2788fcbb217144c08726b7e" category="paragraph">使用此选项卡指定一个或多个 "`侦听地址。` " 这些是 SNMP 代理可以接收查询的 StorageGRID 地址。每个代理地址都包括一个 Internet 协议，一个传输协议，一个 StorageGRID 网络以及一个端口（可选）。</block>
  <block id="fce2ca9bd8c047f83847483114a4fd83" category="paragraph">如果不配置代理地址，则所有 StorageGRID 网络上的默认侦听地址均为 UDP 端口 161 。</block>
  <block id="f2a42a68e067e481d094b018459ef895" category="list-text">单击 * 创建 * 。</block>
  <block id="a2492e2d3c6a94c3514bbf011021e2c6" category="paragraph">此时将显示创建代理地址对话框。</block>
  <block id="585b2056c7b869d70bd7126edf3c77e6" category="image-alt">SNMP 代理地址</block>
  <block id="21fc63e6e0c21aca5c28daf91691f92c" category="list-text">对于 * 互联网协议 * ，选择此地址是使用 IPv4 还是 IPv6 。</block>
  <block id="31c93275a6b07b678ddef57029b28153" category="paragraph">默认情况下， SNMP 使用 IPv4 。</block>
  <block id="159b3b60299f84d29338f85224b7270b" category="list-text">对于 * 传输协议 * ，选择此地址是使用 UDP 还是 TCP 。</block>
  <block id="a12f6a56c96a90dd6e91d656bd680474" category="paragraph">默认情况下， SNMP 使用 UDP 。</block>
  <block id="a163d9ef7e0bcbf23b91a103bebdf2cf" category="list-text">在 * StorageGRID Network* 字段中，选择要接收查询的 StorageGRID 网络。</block>
  <block id="11ccb1749997db49a39ffd3b65c31935" category="list-text">网格，管理和客户端网络： StorageGRID 应侦听所有三个网络上的 SNMP 查询。</block>
  <block id="dbb501ef871614841f668d92f82b4fa0" category="admonition">要确保客户端与 StorageGRID 的通信保持安全，不应为此客户端网络创建代理地址。</block>
  <block id="47f75cd7d03043abb3c21bd9cea128e1" category="list-text">在 * 端口 * 字段中，也可以输入 SNMP 代理应侦听的端口号。</block>
  <block id="f1b15b9e0af9bcfd14279abbf76e08c1" category="paragraph">SNMP 代理的默认 UDP 端口为 161 ，但您可以输入任何未使用的端口号。</block>
  <block id="7cc7f9d6a7124925af9a957721c8e8fe" category="admonition">保存 SNMP 代理时， StorageGRID 会自动打开内部防火墙上的代理地址端口。您必须确保任何外部防火墙允许访问这些端口。</block>
  <block id="a74bc345892066d63dab4262dc5b0c2b" category="paragraph">此时将创建代理地址并将其添加到表中。</block>
  <block id="d5eafaece4e27f99f08c892e64e6b8f7" category="image-alt">SNMP 其他配置代理地址表</block>
  <block id="b996413c2326bb87768c74139180901f" category="list-text">如果您使用的是 SNMPv3 ，请在其他配置部分中选择 USM 用户选项卡。</block>
  <block id="ceb7c4e279b75394796c915d525e7224" category="paragraph">使用此选项卡可定义有权查询 MIB 或接收陷阱并通知的 USM 用户。</block>
  <block id="a891255eb7056641b85ef944427a810a" category="admonition">如果您仅使用 SNMPv1 或 SNMPv2c ，则此步骤不适用。</block>
  <block id="68f10042a36c1dfed94fffe34639a298" category="paragraph">此时将显示创建 USM 用户对话框。</block>
  <block id="acfb9e6a5d9beb2536d22cf3d862b0ef" category="image-alt">SNMP USM 用户</block>
  <block id="a7059d3b675acb4adc0df27be55795ce" category="list-text">为此 USM 用户输入唯一的 * 用户名 * 。</block>
  <block id="da3d8d2f95ee43fc36888c45ac39072c" category="paragraph">用户名最多包含 32 个字符，不能包含空格字符。创建用户后，无法更改此用户名。</block>
  <block id="fcba4d1d78a2d2e0a1d6a1df195208fe" category="list-text">如果此用户应对 MIB 具有只读访问权限，请选中 * 只读 MIB 访问 * 复选框。</block>
  <block id="d353d45b334ceb2ec9fe958f722e4329" category="paragraph">如果选择 * 只读 MIB 访问 * ，则会禁用 * 权威引擎 ID* 字段。</block>
  <block id="6c8d947fd37fd5b63907fb1c5a9228ef" category="admonition">具有只读 MIB 访问权限的 USM 用户不能具有引擎 ID 。</block>
  <block id="2cb236afeea023ca873d9408eef5d48b" category="list-text">如果要在通知目标中使用此用户，请为此用户输入 * 权威引擎 ID* 。</block>
  <block id="da54c9726818213e4e5151b8b1c1c49d" category="admonition">SNMPv3 INFORM 目标必须具有具有引擎 ID 的用户。SNMPv3 陷阱目标不能包含具有引擎 ID 的用户。</block>
  <block id="d0a882042156a549a786665d29d4b675" category="paragraph">权威引擎 ID 可以是 5 到 32 字节，以十六进制表示。</block>
  <block id="ee4780d1426744984c179a017261fca9" category="list-text">为 USM 用户选择一个安全级别。</block>
  <block id="4c06d33d227f787f28328728e0cee8de" category="list-text">* authPriv* ：此用户与身份验证和隐私（加密）通信。您必须指定身份验证协议和密码以及隐私协议和密码。</block>
  <block id="d49918f9b6d1f903e09e2dd31883cb7b" category="list-text">* authNoPriv* ：此用户使用身份验证进行通信，并且没有隐私（无加密）。您必须指定身份验证协议和密码。</block>
  <block id="7bb5755c47617a715fb4789363603fed" category="list-text">输入并确认此用户将用于身份验证的密码。</block>
  <block id="0860c1edbe5f217630a071ec375a3633" category="admonition">唯一支持的身份验证协议是 SHA （ HMAC-SHA-96 ）。</block>
  <block id="e94c54974183058d8cf7bf29aeee2928" category="list-text">如果您选择了 * 身份验证基础 * ，请输入并确认此用户将用于隐私保护的密码。</block>
  <block id="ae00e0fb874b62ce4323b528a152c808" category="admonition">唯一支持的隐私协议是 AES 。</block>
  <block id="a33733df7f50c4ea5be7d130d10eeab1" category="paragraph">此时将创建 USM 用户并将其添加到表中。</block>
  <block id="9c000a5b3092f0402fde761cea7da9dd" category="image-alt">SNMP 其他配置 USM 用户表</block>
  <block id="5896498d38ba6417a88d9241b2bbfb17" category="list-text">在其他配置部分中，选择陷阱目标选项卡。</block>
  <block id="e65d1d398c562fdd4476d9e41eb49ae2" category="paragraph">通过陷阱目标选项卡，您可以为 StorageGRID 陷阱或通知通知定义一个或多个目标。启用 SNMP 代理并单击 * 保存 * 后， StorageGRID 将开始向每个定义的目标发送通知。触发警报和警报时会发送通知。此外，还会为受支持的 MIB-II 实体（例如 ifdown 和 coldstart ）发送标准通知。</block>
  <block id="277e6872f58aefc8cbddf6c600092055" category="paragraph">此时将显示创建陷阱目标对话框。</block>
  <block id="64c7af30f2c1c4a6664bdce518bc6245" category="image-alt">SNMP 创建陷阱目标</block>
  <block id="479cd42cc1011b86f9e82011946894ad" category="list-text">在 * 版本 * 字段中，选择要用于此通知的 SNMP 版本。</block>
  <block id="36dc2249e8e7ae804106aa856eabef01" category="list-text">根据您选择的版本填写此表单</block>
  <block id="f0eadef3aadb1d9d8cf1b524d4bc89cd" category="cell">指定此信息</block>
  <block id="83007b3b0542db702d5b7e7826b487ab" category="paragraph">SNMPv1</block>
  <block id="1ac17f0c264eb858a00a4f527b78a4c9" category="paragraph">* 注： * 对于 SNMPv1 ， SNMP 代理只能发送陷阱。不支持 INFORM 。</block>
  <block id="d614ba11c49ea08a8de51e67e4689778" category="list-text">在 * 主机 * 字段中，输入要接收陷阱的 IPv4 或 IPv6 地址（或 FQDN ）。</block>
  <block id="8864a029485fada52e1068252db26a32" category="list-text">对于 * 端口 * ，请使用默认值（ 162 ），除非必须使用其他值。（ 162 是 SNMP 陷阱的标准端口。）</block>
  <block id="b4a95b90d45feb301ae9f0e425494a01" category="list-text">对于 * 协议 * ，请使用默认值（ UDP ）。此外，还支持 TCP 。（ UDP 是标准 SNMP 陷阱协议。）</block>
  <block id="a23b1a47602902d35c4968c5b225f5e0" category="list-text">如果在 SNMP 代理页面上指定了一个陷阱团体，请使用默认陷阱团体，或者为此陷阱目标输入自定义社区字符串。</block>
  <block id="51a2fc5ded2ecf1725741b9befd9648b" category="paragraph">自定义社区字符串最多可以包含 32 个字符，并且不能包含空格。</block>
  <block id="2cd8d322f3b5c5b420480ea7de9b70bc" category="paragraph">SNMPv2c</block>
  <block id="cabe15196c0f449703505e3dbbb86d01" category="list-text">选择目标是用于陷阱还是用于通知。</block>
  <block id="23d50fc23f6c25c9a34a79bf5c33242a" category="paragraph">SNMPv3</block>
  <block id="b9e3cb8541742f81c9f769a33f436dff" category="list-text">选择要用于身份验证的 USM 用户。</block>
  <block id="9c8e5a1656334f9708a8b4ea1ce3b128" category="list-text">如果选择了 * 陷阱 * ，则仅显示不具有权威引擎 ID 的 USM 用户。</block>
  <block id="d222e9ab00828288c8381a4cdad4bac8" category="list-text">如果选择 * 通知 * ，则仅显示具有权威引擎 ID 的 USM 用户。</block>
  <block id="55a23efc15f425170b2b8e482b5ae83e" category="paragraph">此时将创建陷阱目标并将其添加到表中。</block>
  <block id="25790d29b0d806e1c0da5a5a8cc40849" category="image-alt">SNMP 其他配置陷阱目标表</block>
  <block id="20fb70ee16473a4de1735591b32d2449" category="list-text">完成 SNMP 代理配置后，单击 * 保存 *</block>
  <block id="9e0003e3dd25ca9b21106340dbc758ef" category="paragraph">新的 SNMP 代理配置将变为活动状态。</block>
  <block id="e0d13dbd0d3119a45b5bbcf857bb0244" category="summary">为了帮助技术支持解决 StorageGRID 系统的问题，您可以手动触发要发送的 AutoSupport 消息。</block>
  <block id="b5ae7f37d8d09adc978b34134e5f5ba7" category="list-text">您必须具有 " 根访问 " 或 " 其他网格配置 " 权限。</block>
  <block id="e0f8072723b25c2679c133ce0074c18c" category="list-text">选择 * 支持 * &gt; * 工具 * &gt; * AutoSupport * 。</block>
  <block id="043c11b40a1546f9ae9b4cb005cca5bd" category="paragraph">此时将显示 AutoSupport 页面，并选择了 * 设置 * 选项卡。</block>
  <block id="2aacb18d99acd06a56a752d047eff4f3" category="list-text">选择 * 发送用户触发的 AutoSupport * 。</block>
  <block id="906575d5eb70b8681e908a495d1d022d" category="paragraph">StorageGRID 尝试向技术支持发送 AutoSupport 消息。如果尝试成功，则会更新 * 结果 * 选项卡上的 * 最新结果 * 和 * 最后成功时间 * 值。如果出现问题， * 最新结果 * 值将更新为 " 失败 " ， StorageGRID 不会再尝试发送 AutoSupport 消息。</block>
  <block id="795b4ce15636ad7e5a78b220c7954a3b" category="admonition">发送用户触发的 AutoSupport 消息后，请在 1 分钟后刷新浏览器中的 AutoSupport 页面以访问最新结果。</block>
  <block id="209150b9ad8b8b0d19e68c12176e7a6c" category="summary">您应每天监控 StorageGRID 系统的整体运行状况。</block>
  <block id="3b02682cee7334412169a53934571445" category="doc">监控系统运行状况</block>
  <block id="a71e1f4265a403f83703dcb63fd844d8" category="paragraph">StorageGRID 系统具有容错功能，即使网格的某些部分不可用，它也可以继续运行。StorageGRID 系统中可能出现的问题描述 的第一个迹象可能是警报或警报（传统系统），而不一定是具有系统操作的问题描述 。注意系统运行状况有助于您在小问题影响操作或网格效率之前检测到这些问题。</block>
  <block id="519adf6bdee6cf79c858ccacca03b041" category="paragraph">网格管理器信息板上的 " 运行状况 " 面板提供了可能影响系统的问题的摘要。您应调查信息板上显示的任何问题。</block>
  <block id="de3a0882638008d8b1e9c99daaf2644b" category="admonition">要在触发警报后立即收到警报通知，您可以为警报设置电子邮件通知或配置 SNMP 陷阱。</block>
  <block id="511edcf2bf24aa05bbf93c96e9e1a006" category="list-text">登录到网格管理器以查看信息板。</block>
  <block id="82ad83ac41df3cbfec8e65dda45c8cd0" category="list-text">查看运行状况面板中的信息。</block>
  <block id="e3d5783c3d399c5c88c2062c840ad6f5" category="image-alt">信息板运行状况面板</block>
  <block id="78c2dd55fac2a27ccbb53650945c25db" category="paragraph">如果存在问题，则会显示一些链接，您可以通过这些链接查看其他详细信息：</block>
  <block id="97e7c9a7d06eac006a28bf05467fcc8b" category="cell">链接。</block>
  <block id="0112d7673cbe3cab39e32f3017954424" category="paragraph">网格详细信息</block>
  <block id="931c46ccbbcc2b6862a56a3a3448fb64" category="paragraph">如果任何节点已断开连接（连接状态为未知或管理员关闭），则显示此消息。单击链接或单击蓝色或灰色图标以确定受影响的节点。</block>
  <block id="2fe5defc9dfa16657ea590cbf73e5402" category="paragraph">当前警报</block>
  <block id="611c7c2c96983872c63648b8e3a03ce3" category="paragraph">如果当前有任何警报处于活动状态，则显示此消息。单击链接，或单击 * 严重 * ， * 主要 * 或 * 次要 * 以查看 * 警报 * &gt; * 当前 * 页面上的详细信息。</block>
  <block id="7c6eaf67a5bb1a4a50323073215cd61a" category="paragraph">最近解决的警报</block>
  <block id="532c87a37dd1f24bab52d7327ce2152b" category="paragraph">如果已解决过去一周触发的任何警报，则显示此消息。单击此链接可在 * 警报 * &gt; * 已解决 * 页面上查看详细信息。</block>
  <block id="794df3791a8c800841516007427a2aa3" category="paragraph">许可证</block>
  <block id="c65fe33133659c2d597171da4ce170f1" category="paragraph">如果存在具有此 StorageGRID 系统软件许可证的问题描述 ，则显示此消息。单击此链接可在 * 维护 * &gt; * 系统 * &gt; * 许可证 * 页面上查看详细信息。</block>
  <block id="330b6594401eee2d7c0fc8261701c25e" category="summary">如果您不想再使用自定义警报规则，可以将其删除。</block>
  <block id="f28e7c55261a0822792ad4fa3c36d0e6" category="doc">删除自定义警报规则</block>
  <block id="39d8c02efb892234b218d11331f6625e" category="list-text">选择要删除的自定义警报规则对应的单选按钮。</block>
  <block id="c1960f9fb9ba2514c7e0c16117d06868" category="paragraph">您不能删除默认警报规则。</block>
  <block id="21d9b2459186f677da3da26736c6060c" category="list-text">选择 * 删除自定义规则 * 。</block>
  <block id="8551c38041f44d88a8eee94d45e0c6ff" category="list-text">选择 * 确定 * 以删除警报规则。</block>
  <block id="f474899e2abf1dd2524b8d2c1542dcb9" category="paragraph">任何处于活动状态的警报实例将在 10 分钟内得到解决。</block>
  <block id="cbc40b0d465fc054ed718a973451b410" category="summary">您可以使用部署和维护日志对问题进行故障排除。</block>
  <block id="091d3186cae6664d6cdbf9dde9621f11" category="doc">部署和维护日志</block>
  <block id="b22f32fb516aec72bcdea487195aa9c4" category="paragraph">` /var/local/log/install.log`</block>
  <block id="d4504d30c323c52fda443f653c223183" category="paragraph">在软件安装期间创建。包含安装事件的记录。</block>
  <block id="54d4334bea1f0fa69c55b6ed0c53c7f5" category="paragraph">` /var/local/log/expand-progress.log`</block>
  <block id="727445aa069ace4a1301921eb22abdc2" category="paragraph">在扩展操作期间创建。包含扩展事件的记录。</block>
  <block id="d6314e9c8558d1d59bcbd02399237dc3" category="paragraph">` /var/local/log/gdu-server.log`</block>
  <block id="b2f0e05c418c885657ddb96adce1d4a2" category="paragraph">由 GDU 服务创建。包含与主管理节点管理的配置和维护过程相关的事件。</block>
  <block id="c5e773d1630eae704a0bfbfc4b8af0e2" category="paragraph">` /var/local/log/send_admin_hw.log`</block>
  <block id="094822bffe4a19a1dbc2578ddbb11a47" category="paragraph">在安装期间创建。包含与节点与主管理节点的通信相关的调试信息。</block>
  <block id="77762145d6a2ed4295b4ec9164a3de9c" category="paragraph">` /var/local/log/upgrade.log`</block>
  <block id="f73b817050a46840c5e4650ccf44c3d3" category="paragraph">在软件升级期间创建。包含软件更新事件的记录。</block>
  <block id="3270baa88db7819ef75844da132e5004" category="summary">如果您使用负载平衡器管理客户端与 StorageGRID 的连接，则应在最初配置系统之后以及在进行任何配置更改或执行扩展之后监控负载平衡操作。</block>
  <block id="a5e55b6c75bb40c318641643d11a3360" category="paragraph">您可以使用管理节点或网关节点上的负载平衡器服务，外部第三方负载平衡器或网关节点上的 CLB 服务在多个存储节点上分发客户端请求。</block>
  <block id="9dd904bf187e957a752118ffca2df8c6" category="paragraph">配置负载平衡后，您应确认对象载入和检索操作在存储节点之间均匀分布。均匀分布的请求可确保 StorageGRID 始终响应负载下的客户端请求，并有助于保持客户端性能。</block>
  <block id="570ab9e8f03bf248ce39b78f7da6fec1" category="paragraph">如果您在主动备份模式下为网关节点或管理节点配置了一个高可用性（ HA ）组，则该组中只有一个节点会主动分发客户端请求。</block>
  <block id="7e2dd14e0946b0eaa6df0476ac43a04f" category="paragraph">请参见有关管理 StorageGRID 的说明中有关配置客户端连接的章节。</block>
  <block id="3972740ba17e3b60c27e825287e53fe7" category="list-text">如果 S3 或 Swift 客户端使用负载平衡器服务进行连接，请检查管理节点或网关节点是否按预期主动分布流量：</block>
  <block id="30175f619b9e21832f7ee95b265aef6f" category="list-text">选择网关节点或管理节点。</block>
  <block id="857e1738a3530d648e50690a9597b358" category="list-text">在 * 概述 * 选项卡上，检查节点接口是否位于 HA 组中，以及节点接口是否具有主接口角色。</block>
  <block id="b21c1eadc70ceff5e9b8531f78685332" category="paragraph">具有主节点角色的节点以及不在 HA 组中的节点应主动向客户端分发请求。</block>
  <block id="696e4193b8205e527e994cdf71b29d81" category="list-text">对于应主动分发客户端请求的每个节点，选择 * 负载平衡器 * 选项卡。</block>
  <block id="37a4447bc408a323696e87259d9ca16d" category="list-text">查看上一周的负载平衡器请求流量图表，以确保节点一直在主动分发请求。</block>
  <block id="70bd346af9e30ba71f1209ec5bfcab8a" category="paragraph">主动备份 HA 组中的节点可能会不时承担备份角色。在此期间，节点不会分发客户端请求。</block>
  <block id="90f58d998b25777875c6c661137dd13d" category="list-text">查看上周的负载平衡器传入请求速率图表，查看节点的对象吞吐量。</block>
  <block id="30e3cb616cf5e7ce3feca273c7e2d63e" category="list-text">对 StorageGRID 系统中的每个管理节点或网关节点重复上述步骤。</block>
  <block id="704f92affadf9d7c2bd7070fdd40a6b6" category="list-text">或者，也可以使用流量分类策略来查看负载平衡器服务所提供流量的更详细细分。</block>
  <block id="60cde3b499397c588d1dec12afea77ad" category="list-text">如果 S3 或 Swift 客户端使用 CLB 服务进行连接（已弃用），请执行以下检查：</block>
  <block id="547ac80898f1fc387deb3f196dc65d1d" category="list-text">选择一个网关节点。</block>
  <block id="2cf8f464ca07d3e9fd5470b701307e11" category="list-text">在 * 概述 * 选项卡上，检查节点接口是否位于 HA 组中，以及节点接口是否具有主接口角色。</block>
  <block id="ad032ae38a827cc7be9d63d8e448f08a" category="list-text">对于应主动分发客户端请求的每个网关节点，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。</block>
  <block id="fe05b528804b776c7a20f6fbdfa80cc5" category="list-text">选择 * 网关节点 _* &gt; * CLB* &gt; * http * &gt; * 概述 * &gt; * 主 * 。</block>
  <block id="ef4cd252497d8b029236022d7938d777" category="list-text">查看 * 传入会话数 - 已建立 * 以验证网关节点是否一直在主动处理请求。</block>
  <block id="e450ee2c0b2429f630abd4ff58f1c574" category="list-text">验证这些请求是否均匀分布到存储节点。</block>
  <block id="3ab3540c7500864314a3150d81ba26d5" category="list-text">选择 * 存储节点 _* &gt; * LDR* &gt; * HTTP * 。</block>
  <block id="ee156cfcf08512593693679d11d20ee0" category="list-text">查看 * 当前已建立的传入会话 * 的数量。</block>
  <block id="812409e2428b5b4a4f70871117fd7385" category="list-text">对网格中的每个存储节点重复上述步骤。</block>
  <block id="03feb6fd2866ae3c2c0bf0c4af525872" category="paragraph">所有存储节点的会话数应大致相等。</block>
  <block id="58c457875eada9c04052d1991d0a2b14" category="paragraph"><block ref="58c457875eada9c04052d1991d0a2b14" category="inline-xref-macro-rx"></block></block>
  <block id="e51aef7d6c3292140f61c5c673ba5ca0" category="summary">下表列出了所有默认 StorageGRID 警报。您可以根据需要创建自定义警报规则，以适合您的系统管理方法。</block>
  <block id="2b5538ca9f6ea70120eb1afdf1b1cef7" category="paragraph">请参见有关的信息 <block ref="563ea3bfbb1378256c329b0680898c93" category="inline-xref-macro-rx"></block> 了解其中某些警报中使用的指标。</block>
  <block id="d1e98b80ce256bde51850d0018afe053" category="cell">警报名称</block>
  <block id="aa5e25cc400fc7801f49f9cca5e83634" category="cell">问题描述 和建议的操作</block>
  <block id="670baa8ff72f8aa008cc23605ac3c560" category="paragraph">设备电池已过期</block>
  <block id="84abc42b2f30c839ae843f83ff778f5d" category="paragraph">设备存储控制器中的电池已过期。</block>
  <block id="4703a1bd5a436e646b1d5da666d18fc9" category="list-text">更换电池。在更换存储控制器时，操作步骤 中提供了电池的拆卸和更换步骤。请参见适用于您的存储设备的说明：</block>
  <block id="93cd495486c18e6c6f149286d49dc6b0" category="list-text">如果此警报仍然存在，请联系技术支持。</block>
  <block id="fb09f86744cd911009ee91a6f84484bf" category="paragraph">设备电池出现故障</block>
  <block id="3afac124f16d4ce0afebcacfed96c24b" category="paragraph">设备存储控制器中的电池出现故障。</block>
  <block id="7fa9dd8439b81c53ba87d0746362d505" category="paragraph">设备电池的已学习容量不足</block>
  <block id="c5dd292b690b406e2fa2862d4471b3c4" category="paragraph">设备存储控制器中的电池已获取容量不足。</block>
  <block id="850082030e8586c7f0f8ebe958d62467" category="paragraph">设备电池即将过期</block>
  <block id="1c0e9ec614f03b507301a6d1d9a2782d" category="paragraph">设备存储控制器中的电池即将过期。</block>
  <block id="ed4e01b936030d95d0b5d0c03a99ea86" category="list-text">请尽快更换电池。在更换存储控制器时，操作步骤 中提供了电池的拆卸和更换步骤。请参见适用于您的存储设备的说明：</block>
  <block id="0b6ffdf31bd07fe6f081b9600aafd46a" category="paragraph">已取出设备电池</block>
  <block id="c3122846b8b2d2bea4d0858ecdb01797" category="paragraph">设备存储控制器中的电池缺失。</block>
  <block id="d49504f1f20e1c56b2147edface7d988" category="list-text">安装电池。在更换存储控制器时，操作步骤 中提供了电池的拆卸和更换步骤。请参见适用于您的存储设备的说明：</block>
  <block id="f4c8c2c0a4c83019d558932f7ba3a6bf" category="paragraph">设备电池过热</block>
  <block id="51b9aad905e2b21fce0c140b433b4889" category="paragraph">设备存储控制器中的电池过热。</block>
  <block id="7620799913cedaca471d5d7799f4597b" category="list-text">确定是否存在其他影响此节点的警报。解决另一个警报后，此警报可能会得到解决。</block>
  <block id="a66b9250584dbfcf0472acc970b1c47f" category="list-text">调查可能导致温度升高的原因，例如风扇或暖通空调出现故障。</block>
  <block id="2ee8b0742de8453f9da0e5a40f5fc81b" category="paragraph">设备 BMC 通信错误</block>
  <block id="a1beac80317d14ad835c71b08c0751ca" category="paragraph">与基板管理控制器（ BMC ）的通信已丢失。</block>
  <block id="ddc626544f9a932839c7cdb4a83de022" category="list-text">确认 BMC 运行正常。选择 * 节点 * ，然后选择设备节点的 * 硬件 * 选项卡。找到 Compute Controller BMC IP 字段，然后浏览到此 IP 。</block>
  <block id="f59a96b2f87f31b1971b7ce3ead58aa0" category="list-text">尝试将节点置于维护模式，然后关闭并重新打开设备电源，以恢复 BMC 通信。请参见适用于您的设备的说明：</block>
  <block id="5ddb2cf1df5312b27bb90c6f5bdedc82" category="paragraph">设备缓存备份设备失败</block>
  <block id="52bc8f241a74c18bc4ae0b1567eb17cc" category="paragraph">永久性缓存备份设备出现故障。</block>
  <block id="b82af2bc2293e888b5bd07022d380212" category="paragraph">设备缓存备份设备容量不足</block>
  <block id="94eb55e41cb176bea28ed9a5c1d631c0" category="paragraph">缓存备份设备容量不足。</block>
  <block id="4443ba9a28330e20a65b21c1929efe5d" category="paragraph">设备缓存备份设备已写保护</block>
  <block id="b57ea73c5b181f028865d82c29b439b8" category="paragraph">缓存备份设备受写保护。</block>
  <block id="09bc6144c4c7eab3ffcd3531be15c980" category="paragraph">设备缓存内存大小不匹配</block>
  <block id="c7c23a937e166f9d2a8b701246669292" category="paragraph">设备中的两个控制器具有不同的缓存大小。</block>
  <block id="fd9e15734cee74519d5fe488395d46fb" category="paragraph">设备计算控制器机箱温度过高</block>
  <block id="bc50ad7c4b4d4973b83f3c36a763f144" category="paragraph">StorageGRID 设备中计算控制器的温度已超过额定阈值。</block>
  <block id="97b09fb100da3cc52fb8add02a066498" category="list-text">检查硬件组件是否过热，并按照建议的操作进行操作：</block>
  <block id="b925adee88e570631e8ba057ebcc3d4d" category="list-text">如果您使用的是 SG100 ， SG1000 或 SG6000 ，请使用 BMC 。</block>
  <block id="562f0c7e3aa5882062d2256574a0d409" category="list-text">如果您使用的是 SG5600 或 SG5700 ，请使用 SANtricity 系统管理器。</block>
  <block id="bf74d82ad08c87e4414b2a722445622b" category="list-text">如有必要，请更换组件。请参见适用于您的设备的说明：</block>
  <block id="f22459e7ec11f263a07f2d4b08a37238" category="paragraph">设备计算控制器 CPU 温度过高</block>
  <block id="5b7cdf58a471dd5d50e97a5ab8b61b5b" category="paragraph">StorageGRID 设备中计算控制器的 CPU 温度已超过额定阈值。</block>
  <block id="0fd5c9eaf16ce56d5eb14a3651342ecd" category="paragraph">设备计算控制器需要引起注意</block>
  <block id="3cad3bb94e8632fc5345ffc8925ae327" category="paragraph">在 StorageGRID 设备的计算控制器中检测到硬件故障。</block>
  <block id="7c97d3b5135414f99a4cada94abaa923" category="list-text">检查硬件组件是否存在错误，并按照建议的操作进行操作：</block>
  <block id="d252371025ebd85db8f1c82dbdc30d3b" category="paragraph">设备计算控制器电源 A 出现问题</block>
  <block id="80bfc354eadcfd7c3b6e2b4c17041015" category="paragraph">计算控制器中的电源 A 存在问题。此警报可能指示电源出现故障或无法供电。</block>
  <block id="a510b60ed19dab68ec1c1762812a24d9" category="paragraph">设备计算控制器电源 B 出现问题</block>
  <block id="2a3c8aa24ca4814c0f0f74505287b5c3" category="paragraph">计算控制器中的电源 B 出现问题。</block>
  <block id="abf10f69946df492d019a9be58010781" category="paragraph">此警报可能指示电源出现故障或无法供电。</block>
  <block id="26880749b1898579459d04116ec71caa" category="paragraph">设备计算硬件监控服务已停止</block>
  <block id="9277fd1028c316a60b7ce2e536e1a2cf" category="paragraph">监控存储硬件状态的服务已停止报告数据。</block>
  <block id="f042c618890478331918051ec18a663f" category="list-text">在基础操作系统中检查 EOS 系统状态服务的状态。</block>
  <block id="c5969ccec657f56df9138819cae8492d" category="list-text">如果此服务处于 stopped 或 error 状态，请重新启动此服务。</block>
  <block id="1a4065021be1e357bc9d867fa668c9d2" category="paragraph">检测到设备光纤通道故障</block>
  <block id="815c7ac6c71dafb6ecb5e5265fbe1ee1" category="paragraph">检测到设备存储控制器和计算控制器之间存在光纤通道链路问题。</block>
  <block id="f7db9853070771ec86bdbf3a542c2095" category="paragraph">此警报可能指示设备中存储控制器和计算控制器之间的光纤通道连接出现问题。</block>
  <block id="451ad9146a321bb32617cb1357e19b00" category="list-text">检查硬件组件是否存在错误（ * 节点 * &gt; * 设备节点 _* &gt; * 硬件 * ）。如果任何组件的状态不是 "`标称，` " ，请执行以下操作：</block>
  <block id="f236331e8984a6f6b4236ef013e1a5ae" category="list-text">验证控制器之间的光纤通道缆线是否已完全连接。</block>
  <block id="a1b10a383b0baf01a8bde9d251319841" category="list-text">确保光纤通道缆线没有过度弯曲。</block>
  <block id="ed14745fb2bdfd73235bef722e0ba341" category="list-text">确认 SFP+ 模块已正确就位。</block>
  <block id="26c00e9980531bb8560ee8e0a96b956c" category="paragraph">* 注： * 如果此问题仍然存在，则 StorageGRID 系统可能会自动使有问题的连接脱机。</block>
  <block id="31080c438ba527590ae5de1509b8a978" category="list-text">如有必要，请更换组件。请参见适用于您的设备的说明：</block>
  <block id="3e13146c21615f28554adc877b3f9092" category="paragraph">设备光纤通道 HBA 端口故障</block>
  <block id="87df7a8d4d4e9fc32ca5bc0bc0992a97" category="paragraph">光纤通道 HBA 端口出现故障或出现故障。</block>
  <block id="730a025ef028cf989946205dac0e8d18" category="paragraph">设备闪存缓存驱动器非最佳</block>
  <block id="819d68e52f4daf930542c4b15eb3be43" category="paragraph">用于 SSD 缓存的驱动器并非最佳驱动器。</block>
  <block id="caac7b088feaddebbbae2a2904be665c" category="list-text">更换 SSD 缓存驱动器。请参见适用于您的设备的说明：</block>
  <block id="40c31f33686e6834cc6cb0fad69a2512" category="paragraph">已卸下设备互连 / 电池箱</block>
  <block id="7b855379c139b91e31a671f048787c83" category="paragraph">互连 / 电池箱缺失。</block>
  <block id="472dca531e25032f1625b1fc6f6bfe20" category="list-text">更换电池。在更换存储控制器时，操作步骤 中提供了电池的拆卸和更换步骤。请参见适用于您的存储设备的说明。</block>
  <block id="c6c2c00143935e7466df48cf3b08c417" category="paragraph">缺少设备 LACP 端口</block>
  <block id="891a30ca325f5d400b11306ae37ab1ea" category="paragraph">StorageGRID 设备上的端口不参与 LACP 绑定。</block>
  <block id="bba9de3918c2d94a18cf1451e0c454fa" category="list-text">检查交换机的配置。确保接口配置在正确的链路聚合组中。</block>
  <block id="9c7f2c5c6772af01fb57bcf855f2d591" category="paragraph">设备整体电源性能下降</block>
  <block id="7d79c7b090c34c9054e1b1afcb0e4e13" category="paragraph">StorageGRID 设备的电源已偏离建议的工作电压。</block>
  <block id="a74341d57cb19cc43f17531479be4be6" category="list-text">检查电源 A 和 B 的状态以确定哪个电源运行异常，并按照建议的操作进行操作：</block>
  <block id="a841c83841571debe9ef98027b754a4b" category="paragraph">设备存储控制器 A 出现故障</block>
  <block id="8f4b3fb47778c67c6af4df7d1ac835da" category="paragraph">StorageGRID 设备中的存储控制器 A 出现故障。</block>
  <block id="fd7919f1061ad847d45e561807c9f45b" category="list-text">使用 SANtricity 系统管理器检查硬件组件，并按照建议的操作进行操作。</block>
  <block id="492403e775aaa0bc814ecedea36586a9" category="paragraph">设备存储控制器 B 故障</block>
  <block id="17fe2151d7e6d87950467304bd0205a3" category="paragraph">StorageGRID 设备中的存储控制器 B 出现故障。</block>
  <block id="8ee4b825237ff56aca36d0fe0461c0f6" category="paragraph">设备存储控制器驱动器故障</block>
  <block id="88c35b96cfbc7113c9beed3353eadbec" category="paragraph">StorageGRID 设备中的一个或多个驱动器出现故障或不是最佳驱动器。</block>
  <block id="c3836b288963bc15610b4e58157e9fc4" category="paragraph">设备存储控制器硬件问题描述</block>
  <block id="221e3b8e82ed839883f3a9a9fee18639" category="paragraph">SANtricity 软件报告 StorageGRID 设备中的某个组件 " 需要关注 " 。</block>
  <block id="63bcf29ec04a3da6691d97b0ab27dbb4" category="paragraph">设备存储控制器电源 A 出现故障</block>
  <block id="24393d62a48deea1d9162acd7f68c249" category="paragraph">StorageGRID 设备中的电源 A 与建议的工作电压不同。</block>
  <block id="98f613926220f23e344224219ece2873" category="paragraph">设备存储控制器电源 B 故障</block>
  <block id="d0ac9e0c64073ba3aef73bc7bb380223" category="paragraph">StorageGRID 设备中的电源 B 与建议的工作电压不同。</block>
  <block id="7a793c2561d9b6f4c35f12fb4ad47e41" category="paragraph">设备存储硬件监控服务已停止</block>
  <block id="5ce26f92621c90a48c248a84ce7fd932" category="paragraph">设备存储架降级</block>
  <block id="e46daf3feb7047d61e6993c91914d1c5" category="paragraph">存储设备存储架中某个组件的状态为已降级。</block>
  <block id="e0e13ff4d15941cef16fe368295c0862" category="paragraph">已超过设备温度</block>
  <block id="8837282d3038d67b5bc5fb85c389dc3d" category="paragraph">已超过设备存储控制器的额定或最大温度。</block>
  <block id="6102a9601d31bb84d403bd05f4ad2dba" category="paragraph">已卸下设备温度传感器</block>
  <block id="fc92b789f4059b2dcfcb7d3bf980ad40" category="paragraph">已卸下温度传感器。请联系技术支持。</block>
  <block id="8bb4f12d575ec9df6436aa18e8e10eee" category="paragraph">Cassandra auto-compactor 错误</block>
  <block id="9913ec42b0214d8b1985b2d3d0a87c80" category="paragraph">Cassandra 自动 compactor 出现错误。</block>
  <block id="a21ff0a0349e75e786ba1b54ea5bda1d" category="paragraph">Cassandra 自动 compactor 位于所有存储节点上，用于管理 Cassandra 数据库的大小，以覆盖和删除繁重的工作负载。虽然此情况持续存在，但某些工作负载的元数据消耗量会异常高。</block>
  <block id="2b7e4485d79ae1bbe5ce3cc14895f701" category="paragraph">节点无法将日志发送到本地系统日志服务器，并且内存队列正在填满。</block>
  <block id="8e4346d8977c809d28ec3a771ad941f8" category="list-text">确保 rsyslog 服务正在节点上运行。</block>
  <block id="a7c3cffedcbb7b8246c9f13276ef9ae7" category="list-text">如有必要，请使用命令 `sservice rsyslog restart` 在节点上重新启动 rsyslog 服务。</block>
  <block id="af288c2e8bd6b655c34f295e1f7a34e2" category="list-text">如果无法重新启动 rsyslog 服务，并且您未在管理节点上保存审核消息，请联系技术支持。如果不更正此情况，审核日志将丢失。</block>
  <block id="d5710bd6dceb68b5ec5e6d477fc570b9" category="paragraph">Cassandra 自动数据压缩器指标已过期</block>
  <block id="9b144036f8e1f85a9c562e68cb16f759" category="paragraph">描述 Cassandra 自动数据压缩器的指标已过时。</block>
  <block id="cff27ffa461940bb460fe8d7462526a2" category="paragraph">Cassandra 自动 compactor 位于所有存储节点上，用于管理 Cassandra 数据库的大小，以覆盖和删除繁重的工作负载。尽管此警报持续存在，但某些工作负载的元数据消耗量会异常高。</block>
  <block id="650376ad6e876f9e95029874437b1a61" category="paragraph">Cassandra 通信错误</block>
  <block id="98bf8e2f33eb8e962802270007802e84" category="paragraph">运行 Cassandra 服务的节点无法彼此通信。</block>
  <block id="f03366f52bef4300f7051aad46df6234" category="paragraph">此警报表示存在干扰节点到节点通信的情况。一个或多个存储节点上可能存在网络问题描述 或 Cassandra 服务已关闭。</block>
  <block id="83e5dd54c56286c0e93eef9ac2688281" category="list-text">确定是否存在其他影响一个或多个存储节点的警报。解决另一个警报后，此警报可能会得到解决。</block>
  <block id="280338e6498390a0fc7dbeb531f370fa" category="list-text">检查是否存在可能影响一个或多个存储节点的网络问题描述 。</block>
  <block id="15adfa335a9c34cce907efaf5704972c" category="list-text">对于系统中的每个存储节点，选择 * SSM* &gt; * 服务 * 。确保 Cassandra 服务的状态为 "running" 。</block>
  <block id="62810ca572e42e14a7622b786f4a8acc" category="inline-xref-macro">启动或重新启动服务</block>
  <block id="55df656fa9a7a7550cd77b72af01b460" category="list-text">如果 Cassandra 未运行，请按照的步骤进行操作 <block ref="b462611bdf4839a103bcd942c68ada0a" category="inline-xref-macro-rx"></block>。</block>
  <block id="63c6eecedff50e6bb3bc126357315a99" category="list-text">如果 Cassandra 服务的所有实例现在都在运行，并且警报未得到解决，请联系技术支持。</block>
  <block id="25991404e783f81bf737912f6fefddc3" category="paragraph">Cassandra compActions 已过载</block>
  <block id="802609c5390d7624ef1d8106ee9f4f13" category="paragraph">Cassandra 数据缩减过程过载。</block>
  <block id="5be4eb075b5ab9c45d6bcd31ba1fbaaf" category="paragraph">如果数据缩减过程过载，读取性能可能会下降， RAM 可能会用尽。Cassandra 服务也可能无响应或崩溃。</block>
  <block id="658f34294cea8fe0c64f878472431950" category="inline-xref-macro">正在重新启动服务</block>
  <block id="9cff2cb301e44a8c87913f51dbb40b68" category="list-text">按照的步骤重新启动 Cassandra 服务 <block ref="fa256d28e792a7689923ab936025e09e" category="inline-xref-macro-rx"></block>。</block>
  <block id="88c067fcfc0bc37372d2ed78cbea1dbd" category="paragraph">Cassandra 修复指标已过期</block>
  <block id="23f74ad21af7b5f439a1cd4b73fea28c" category="paragraph">描述 Cassandra 修复作业的指标已过时。如果此情况持续 48 小时以上，则存储分段列表等客户端查询可能会显示已删除的数据。</block>
  <block id="a872c095945f558c7ff646f0a25f1af4" category="list-text">重新启动节点。在网格管理器中，转到 * 节点 * ，选择节点，然后选择任务选项卡。</block>
  <block id="8e8a274d6951f1fdca7f33e9d1848de1" category="paragraph">Cassandra 修复进度缓慢</block>
  <block id="0eef8b5339aa7704cf34c7cf1aeb2601" category="paragraph">Cassandra 数据库修复进度缓慢。</block>
  <block id="437cee7a7219b884dfbbf02c2796b2c1" category="paragraph">当数据库修复速度较慢时， Cassandra 数据一致性操作会受到阻碍。如果此情况持续 48 小时以上，则存储分段列表等客户端查询可能会显示已删除的数据。</block>
  <block id="f958ea226dad86678cfa1222173fab47" category="list-text">确认所有存储节点均已联机，并且没有与网络相关的警报。</block>
  <block id="e4019a9b987bc02ab4eb5d47c9d93880" category="list-text">监控此警报最多 2 天，查看问题描述 是否自行解决。</block>
  <block id="cea22e9cb0017edd099c707b7d0b1cce" category="list-text">如果数据库修复继续缓慢进行，请联系技术支持。</block>
  <block id="7b0619de54aea25949d0db304a91eff9" category="paragraph">Cassandra 修复服务不可用</block>
  <block id="8b560e3354b456300de2e11fca66905d" category="paragraph">Cassandra 修复服务不可用。</block>
  <block id="34eaf61cd62920bffb02d88c0214c012" category="paragraph">Cassandra 修复服务位于所有存储节点上，可为 Cassandra 数据库提供关键修复功能。如果此情况持续 48 小时以上，则存储分段列表等客户端查询可能会显示已删除的数据。</block>
  <block id="d80e576f33ddecd25e4cdbaf6f31f178" category="list-text">对于系统中的每个存储节点，选择 * SSM* &gt; * 服务 * 。确保 Cassandra Reaper 服务的状态为 "running" 。</block>
  <block id="4506d4491075cc5057b0cd7235169238" category="list-text">如果 Cassandra Reaper 未运行，请按照中的步骤进行操作 <block ref="b462611bdf4839a103bcd942c68ada0a" category="inline-xref-macro-rx"></block>。</block>
  <block id="ac35e243f15c3146622ab06c6304b560" category="list-text">如果 Cassandra Reaper 服务的所有实例现在都在运行，并且警报未得到解决，请联系技术支持。</block>
  <block id="136e5c7fa6c233a8297564b102a27fb3" category="paragraph">Cassandra 检测到表损坏。</block>
  <block id="a207df515481d3b95b796728e24dc002" category="paragraph">如果 Cassandra 检测到表损坏，则它会自动重新启动。</block>
  <block id="42124f9805508e566ae9c81f2508ccd7" category="paragraph">云存储池连接错误</block>
  <block id="0e860502b62c176b465c3331f8eb6ab8" category="paragraph">云存储池的运行状况检查检测到一个或多个新错误。</block>
  <block id="146b8099b60bee0f7553349ea00981f7" category="list-text">转到 " 存储池 " 页面的 " 云存储池 " 部分。</block>
  <block id="f22ed5e2fb8148af2ad640db4690f80c" category="list-text">查看 Last Error 列以确定哪个 Cloud Storage Pool 存在错误。</block>
  <block id="d6a94380c18ce6b0a599c772e6a7471a" category="list-text">请参见的说明 <block ref="31630c9fbc2e405319a335abafc12b71" category="inline-xref-macro-rx"></block>。</block>
  <block id="7a32a4bea1d8653176a7a15249d31c84" category="paragraph">DHCP 租约已过期</block>
  <block id="243410277253e9023b789c6f22fe5d57" category="paragraph">网络接口上的 DHCP 租约已过期。如果 DHCP 租约已过期，请执行建议的操作：</block>
  <block id="30b9abbfef453ca0bb64e2cb7655cdae" category="list-text">确保此节点与受影响接口上的 DHCP 服务器之间存在连接。</block>
  <block id="db6cef8a25b783abd586aa2fdeb9bbfd" category="list-text">确保 DHCP 服务器上的受影响子网中有可分配的 IP 地址。</block>
  <block id="5cf5644ae23822d5c06e7370a9e11903" category="list-text">确保为 DHCP 服务器中配置的 IP 地址预留了永久空间。或者，使用 StorageGRID 更改 IP 工具在 DHCP 地址池之外分配静态 IP 地址。请参见 <block ref="19b11cf95ca2d99c2c66bb7262096ff3" category="inline-xref-macro-rx"></block>。</block>
  <block id="387eccb611937a69e658e2c3d2efd41d" category="paragraph">DHCP 租约即将到期</block>
  <block id="660afb88686b82a0942c9572c8b61acc" category="paragraph">网络接口上的 DHCP 租约即将到期。</block>
  <block id="81dd46cfcaae4abaf6500bd1c5c8ca3e" category="paragraph">要防止 DHCP 租约到期，请执行建议的操作：</block>
  <block id="fbf39ec84b016eed2df2fe5c457bf36a" category="paragraph">DHCP 服务器不可用</block>
  <block id="4e0e53c2df65eedd47d3cfeaa44f0d05" category="paragraph">DHCP 服务器不可用。</block>
  <block id="6119dd39ef7eb899079ce09cb3e479a0" category="paragraph">StorageGRID 节点无法联系您的 DHCP 服务器。无法验证节点 IP 地址的 DHCP 租约。</block>
  <block id="19f706cf8f20b8f50566f8b548c3ecef" category="paragraph">磁盘 I/O 速度非常慢</block>
  <block id="22440a4357cb4e6e983689b4f45523ee" category="paragraph">磁盘 I/O 非常慢可能会影响 StorageGRID 性能。</block>
  <block id="427d0bbdff13b4e88ff2042a40ad3d7b" category="list-text">如果问题描述 与存储设备节点相关，请使用 SANtricity 系统管理器检查是否存在故障驱动器，存在预测故障的驱动器或正在进行的驱动器修复。此外，还应检查设备计算控制器和存储控制器之间的光纤通道或 SAS 链路的状态，以查看是否有任何链路已关闭或显示的错误率过高。</block>
  <block id="1d94396ea42c59caeefad8e20e56a629" category="list-text">检查托管此节点的卷的存储系统，以确定并更正慢速 I/O 的根发生原因</block>
  <block id="b3118c8af22736c3e92b536b30fdbf0b" category="paragraph">* 注意： * 受影响的节点可能会禁用服务并自行重新启动，以避免影响整体网格性能。如果清除了底层条件，并且这些节点检测到正常 I/O 性能，则它们将自动恢复到完全服务状态。</block>
  <block id="6c64040bda7c5319b373649867347b7d" category="paragraph">在存储节点之间重新平衡擦除编码的数据的作业失败或已被用户暂停。</block>
  <block id="5e4229f0f4c81cfff380e027c800386a" category="list-text">确保要重新平衡的站点上的所有存储节点均已联机且可用。</block>
  <block id="8b6c06076f93d670c4ac46e55ba0868d" category="list-text">确保要重新平衡的站点上没有卷故障。如果存在，请终止 EC 重新平衡作业，以便您可以运行修复作业。</block>
  <block id="128319d5faf00c70a599cbe9bb2bb53b" category="paragraph">`"rebalance-data terminate -job-id &lt;ID&gt;"`</block>
  <block id="e8d1f53107ad7741d9442883b3b06685" category="list-text">确保要重新平衡的站点上没有服务故障。如果服务未运行，请按照恢复和维护说明中有关启动或重新启动服务的步骤进行操作。</block>
  <block id="3449c8d4805bf10b32dec44b7e5f31e8" category="list-text">解决任何问题后，请在主管理节点上运行以下命令以重新启动作业：</block>
  <block id="07662de96afdb57a668726d49714aa17" category="paragraph">`"rebalance-data start -job-id &lt;ID&gt;"`</block>
  <block id="e621b3674a7cd7abb9831de690e69080" category="list-text">如果无法解决此问题，请联系技术支持。</block>
  <block id="71fd58246e9390dac04c28bcb87d9a39" category="paragraph">擦除编码数据的修复作业失败或已停止。</block>
  <block id="5a2cc5d3797a931cbd6fef05750428ce" category="list-text">确保有足够的可用存储节点或卷来替代发生故障的存储节点或卷。</block>
  <block id="8f01bae40ce8fe5253c4b2f51076149a" category="list-text">确保有足够的可用存储节点来满足活动 ILM 策略的要求。</block>
  <block id="684842a53c09f333b348f969bff8e284" category="list-text">确保没有网络连接问题。</block>
  <block id="d5d014d3de495f435fe379b29a88ac2b" category="paragraph">`"repair-data start-EC-node-repair -repair-id &lt;ID&gt;"`</block>
  <block id="ff41e80f64fa2bbd4d401ca485363555" category="paragraph">擦除编码数据的修复作业已停止。</block>
  <block id="e1ff2447e179f58033ef9138461ed0d2" category="list-text">解决任何问题后，请检查警报是否已解决。要查看有关修复进度的更详细报告，请在主管理节点上运行以下命令：</block>
  <block id="629fa665a00925741890fac75ae96e3d" category="paragraph">`"repair-data show-EC-repair-status -repair-id &lt;ID&gt;"`</block>
  <block id="77ace2c0272239026e1afe5a63bc081d" category="paragraph">电子邮件通知失败</block>
  <block id="2856715fa7f1ff13b213cd55e083a4b1" category="paragraph">无法发送警报电子邮件通知。</block>
  <block id="a94116fa84cb94999b01a004774c9634" category="paragraph">如果警报电子邮件通知失败或无法传送测试电子邮件（从 * 警报 * &gt; * 电子邮件设置 * 页面发送），则会触发此警报。</block>
  <block id="dc9a15a89621c5cd4168328e10f30d7a" category="list-text">从警报的 * 站点 / 节点 * 列中列出的管理节点登录到网格管理器。</block>
  <block id="6a0ddda6380cf9172818c4cf58a5958e" category="list-text">转到 * 警报 * &gt; * 电子邮件设置 * 页面，检查设置，并根据需要进行更改。</block>
  <block id="cfb31177c97587f215d051ac9ad47eb1" category="list-text">单击 * 发送测试电子邮件 * ，然后检查测试收件人的收件箱中是否存在此电子邮件。如果无法发送测试电子邮件，则可能会触发此警报的新实例。</block>
  <block id="3f8864793ce11d0eb761beadad791814" category="list-text">如果无法发送测试电子邮件，请确认您的电子邮件服务器已联机。</block>
  <block id="df1d981c081f288a30623ba66c01c289" category="list-text">如果服务器正在运行，请选择 * 支持 * &gt; * 工具 * &gt; * 日志 * ，然后收集管理节点的日志。指定警报时间前后 15 分钟的时间段。</block>
  <block id="732a453315e8579e519f3831dfa2b346" category="list-text">提取下载的归档并查看 `Prometheus.log` ` （ _/GID&lt;time_stamp&gt;/&lt;site_node&gt;/&lt;time_stamp&gt;/metrics/Prometheus.log ）` 的内容。</block>
  <block id="bf82333903a85968ffc1bae3d7222a0e" category="paragraph">在 " 证书 " 页面上配置的客户端证书到期</block>
  <block id="8b791d843fc717133e9cbe0600f27ac1" category="paragraph">在 " 证书 " 页面上配置的一个或多个客户端证书即将过期。</block>
  <block id="89f62923890348c518304001fec32481" category="list-text">在网格管理器中，选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * ，然后选择 * 客户端 * 选项卡。</block>
  <block id="53fe61d21425fcf380d695c0cba00a70" category="list-text">选择一个即将到期的证书。</block>
  <block id="5de0765839ebab6b30e18f1773ce1299" category="inline-xref-macro">上传或生成新证书</block>
  <block id="a96ad1bc6045319e5d714a1390b9c932" category="list-text">选择 * 附加新证书 * <block ref="524e46fa417a91aa4471582f75b1cac9" category="inline-xref-macro-rx"></block>。</block>
  <block id="18f53f78bbc75cc66a2a4523a2674c0d" category="list-text">对即将过期的每个证书重复上述步骤。</block>
  <block id="aa53afffd9e7b546dbd4aa6f66f98415" category="paragraph">负载平衡器端点证书到期</block>
  <block id="e39aed91d30e7a756c7b30bdde005af3" category="paragraph">一个或多个负载平衡器端点证书即将过期。</block>
  <block id="cd41a4f4c767ee6cd3fce4b9507ee501" category="list-text">选择 * 配置 * &gt; * 网络 * &gt; * 负载平衡器端点 * 。</block>
  <block id="1c9c80f2748cf1d46465471b330ec156" category="list-text">选择证书即将过期的端点。</block>
  <block id="8a9b95bce23a13c4a0bf8402304428b9" category="list-text">选择 * 编辑端点 * 可上传或生成新证书。</block>
  <block id="86051880c404717778f77b30385fda0a" category="list-text">对证书已过期或即将过期的每个端点重复上述步骤。</block>
  <block id="a6134786f0e515801f7230bad02e5bf0" category="paragraph">有关管理负载平衡器端点的详细信息，请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="da29948ddb23cf62d0f6b0ee3ed177fa" category="paragraph">管理接口的服务器证书到期</block>
  <block id="3f06671225b2b37274d43d2a24044b5b" category="paragraph">用于管理接口的服务器证书即将过期。</block>
  <block id="6e4b46a338fc501db0029a433dc3e88d" category="paragraph">用于访问存储 API 端点的服务器证书即将过期。</block>
  <block id="e0b7a2e2c55a546a75679b122a885e67" category="paragraph">用于签署外部系统日志服务器证书的证书颁发机构（ CA ）证书即将过期。</block>
  <block id="47597d879ed5633f51f5bf9ad798bd08" category="list-text">更新外部系统日志服务器上的 CA 证书。</block>
  <block id="a7d06a6b451b148027f917334660f0f5" category="list-text">获取更新后的 CA 证书的副本。</block>
  <block id="18681f5f362d292d481bde7662bf6897" category="list-text">在网格管理器中，转到 * 配置 * &gt; * 监控 * &gt; * 审核和系统日志服务器 * 。</block>
  <block id="decff86630e04835df930f6d7545161f" category="list-text">选择 * 编辑外部系统日志服务器 * 。</block>
  <block id="84a67d73b83448941f0bff5a155087ed" category="list-text">选择 * 浏览 * 以上传新证书。</block>
  <block id="1860e85c09b00a7dc49cc0c1ee1a93a4" category="list-text">完成配置向导以保存新证书和密钥。</block>
  <block id="5f5bae42dff7ca2270a2afb380acb907" category="paragraph">外部系统日志服务器的客户端证书即将过期。</block>
  <block id="0fb51bafa48d2b15b6d3becaa4b311a5" category="list-text">选择 * 浏览 * 以上传新的私钥。</block>
  <block id="75960bbcddfa0d606ae730539d7b3e82" category="paragraph">外部系统日志服务器提供的服务器证书即将过期。</block>
  <block id="0a0aa8e562097f9f40f8c384df9c8c58" category="list-text">更新外部系统日志服务器上的服务器证书。</block>
  <block id="3265c97c9e0ce95fde1b634d8c0cc01b" category="list-text">如果您之前使用网格管理器 API 提供用于证书验证的服务器证书，请使用 API 上传更新后的服务器证书。</block>
  <block id="7610e4b5a6a4666c447325675772e4b8" category="paragraph">节点无法将日志转发到外部系统日志服务器。</block>
  <block id="92a20e93cbd15917c5daa1562bbf8830" category="list-text">继续执行配置向导，直到您能够选择 * 发送测试消息 * 。</block>
  <block id="f2e4953b160900564be658e7574abbf2" category="list-text">选择 * 发送测试消息 * 以确定无法将日志转发到外部系统日志服务器的原因。</block>
  <block id="371d8a78a23c2a9ae59fc50d382a193d" category="list-text">解决报告的任何问题。</block>
  <block id="95ea49b5998ea6dff1a361dc7d0aa41a" category="paragraph">网格网络 MTU 不匹配</block>
  <block id="afc3dd687212315730b6f49664d55b7a" category="paragraph">网格网络接口（ eth0 ）的最大传输单元（ MTU ）设置在网格中的各个节点之间差别很大。</block>
  <block id="f93d4a3c44038f82bf46823db3edf56a" category="paragraph">MTU 设置的差异可能表明，某些（但并非所有） eth0 网络配置了巨型帧。如果 MTU 大小不匹配大于 1000 ，则可能会出现发生原因 网络性能问题。</block>
  <block id="8deb5335aba0122f6616beedf1eaad05" category="paragraph">请参见中有关网格网络 MTU 不匹配警报的说明 <block ref="14f51b91662cc57f2514869dfa4883cd" category="inline-xref-macro-rx"></block>。</block>
  <block id="e48f787015830873eca5270e09e92e41" category="paragraph">Java 堆使用率较高</block>
  <block id="996b0709a7096a17611934c0d54e2a86" category="paragraph">正在使用的 Java 堆空间百分比很高。</block>
  <block id="d93eb1842a9d770166d0dee73605b49d" category="paragraph">如果 Java 堆已满，则元数据服务可能不可用，客户端请求可能会失败。</block>
  <block id="1001551b60daecc6aaa97fa4949bc12e" category="list-text">查看信息板上的 ILM 活动。当 ILM 工作负载减少时，此警报可能会自行解决。</block>
  <block id="4a6bcf557a60566f126631f969eeb896" category="paragraph">元数据查询延迟较长</block>
  <block id="7d8db07ffb4b09f6691f3499570d37da" category="paragraph">Cassandra 元数据查询的平均时间过长。</block>
  <block id="3bbf8303f5ee4e9141e51c9f17ccf63f" category="paragraph">查询延迟增加的原因可能包括硬件更改，例如更换磁盘，工作负载更改（例如载入量突然增加）或网络更改（例如节点和站点之间的通信问题）。</block>
  <block id="f5c1a8060e50efc6934b3284d044f5d0" category="list-text">确定查询延迟增加前后是否发生任何硬件，工作负载或网络更改。</block>
  <block id="0edbb917f0359620df71c2e6fb1bcc7f" category="paragraph">身份联合同步失败</block>
  <block id="9bd4ea210067d7bdc98c8a2e91ed135e" category="paragraph">无法从身份源同步联合组和用户。</block>
  <block id="c128faaa9288ff9058dcd8d636ad4aaf" category="list-text">确认已配置的 LDAP 服务器已联机且可用。</block>
  <block id="85c13263868aac5330fbdbcd041674b7" category="list-text">查看身份联合页面上的设置。确认所有值均为最新值。请参见 <block ref="fbc561afe07e407794c85fdcd15f880d" category="inline-xref-macro-rx"></block> 在管理 StorageGRID 的说明中。</block>
  <block id="84a323aa1eab143e9f6b1a6f97109a93" category="list-text">单击 * 测试连接 * 以验证 LDAP 服务器的设置。</block>
  <block id="9e62fa8f7c3abac4280469161b9c028e" category="list-text">如果无法解决此问题描述 ，请联系技术支持。</block>
  <block id="08de73bc11b4535f2c0f48a4c4876257" category="paragraph">无法从租户配置的身份源同步联合组和用户。</block>
  <block id="1569839b07f02e308097851ffdafd5ad" category="list-text">登录到租户管理器。</block>
  <block id="313ae88e12b89e5caed4a83763d02e0c" category="list-text">确认租户配置的 LDAP 服务器已联机且可用。</block>
  <block id="fa0d3e5191727f8daa3a4b220fbc9dc5" category="list-text">查看身份联合页面上的设置。确认所有值均为最新值。请参见 <block ref="7663cec1ab2cab29ba4f931a620a88a7" category="inline-xref-macro-rx"></block> 在使用租户帐户的说明中。</block>
  <block id="eb426e2104d433a7eab052c97f6d858c" category="paragraph">无法实现 ILM 放置</block>
  <block id="a3ad0f72bee974f71782362904b59803" category="paragraph">无法为某些对象实现 ILM 规则中的放置指令。</block>
  <block id="8814291c6001f2f2a6899cf04881330c" category="paragraph">此警报表示放置指令所需的节点不可用或 ILM 规则配置不当。例如，规则可能指定的复制副本数可能多于存储节点数。</block>
  <block id="ce2506fc8b3326353601498de86a9bac" category="list-text">确保所有节点均已联机。</block>
  <block id="bfd29ba6a86000fab56f26158f7dd3c2" category="inline-xref-macro">有关通过信息生命周期管理来管理对象的说明</block>
  <block id="efa1a50d01310435aff0ea3439fbb831" category="list-text">如果所有节点均处于联机状态，请查看使用活动 ILM 策略的所有 ILM 规则中的放置说明。确认所有对象都有有效的说明。请参见 <block ref="72e1c01117293b1a1f6b67e4c2f925da" category="inline-xref-macro-rx"></block>。</block>
  <block id="8e962481b87cc0c4d9f5a8b5154b1126" category="list-text">根据需要更新规则设置并激活新策略。</block>
  <block id="32d252dbba5aaa93885bb13b01e2f1aa" category="paragraph">* 注意： * 清除警报可能需要长达 1 天的时间。</block>
  <block id="f56e9bd59ad58ca77a4bbb17d94e3e7a" category="paragraph">* 注意： * 此警报可能会在升级期间出现，并且可能会在升级成功完成后持续 1 天。当此警报由升级触发时，它将自行清除。</block>
  <block id="c185aa79521c78704b689103bdff5002" category="paragraph">ILM 扫描周期过长</block>
  <block id="662ba9010e97ee0525ac3ca46ead7d1f" category="paragraph">扫描，评估对象和应用 ILM 所需的时间过长。</block>
  <block id="373389e3798a923c23caebcc7fe066c6" category="paragraph">如果完成对所有对象的完整 ILM 扫描的估计时间过长（请参见信息板上的 * 扫描时间段 - 估计值 * ），则活动 ILM 策略可能不会应用于新载入的对象。对 ILM 策略所做的更改可能不会应用于现有对象。</block>
  <block id="f30f216efb4ed125783bf26300e5d8f3" category="list-text">确认所有存储节点均已联机。</block>
  <block id="3813390e73b6e86670e9f5067253c0db" category="list-text">临时减少客户端流量。例如，在网格管理器中，选择 * 配置 * &gt; * 网络 * &gt; * 流量分类 * ，然后创建一个限制带宽或请求数量的策略。</block>
  <block id="588c97f21d73978987a2a4c1c1716105" category="list-text">如果磁盘 I/O 或 CPU 过载，请尝试减少负载或增加资源。</block>
  <block id="2acc51fc917e964cfec8185f63ab65fe" category="list-text">如有必要，请更新 ILM 规则以使用同步放置（对于在 StorageGRID 11.3 之后创建的规则，默认设置）。</block>
  <block id="b4f510b671792942dfbe07a6aa7e1192" category="paragraph">ILM 扫描速率低</block>
  <block id="e560a6cd12ebd777b3d974ee11e02e96" category="paragraph">ILM 扫描速率设置为每秒不到 100 个对象。</block>
  <block id="9e5e97dc3cc1fceec12bb940ddc3e3ca" category="paragraph">此警报表示有人已将系统的 ILM 扫描速率更改为每秒不到 100 个对象（默认值： 400 个对象 / 秒）。活动 ILM 策略可能不会应用于新载入的对象。此后对 ILM 策略所做的更改不会应用于现有对象。</block>
  <block id="545f3af2503273f553638b4c7266ee31" category="list-text">在持续支持调查中，确定是否临时更改了 ILM 扫描速率。</block>
  <block id="fa5ff8100fde3897be6c637a4bdc4ba3" category="admonition">请勿在未联系技术支持的情况下更改 ILM 扫描速率。</block>
  <block id="e43dffaac1bb58b9b1241c267c6f51bf" category="paragraph">Kms CA 证书到期</block>
  <block id="c3f2bb36d02b0c328b2547530f6bbf9c" category="paragraph">用于对密钥管理服务器（ KMS ）证书进行签名的证书颁发机构（ CA ）证书即将过期。</block>
  <block id="cba702532b9002b97e3deba53755c981" category="list-text">使用 KMS 软件更新密钥管理服务器的 CA 证书。</block>
  <block id="06b87cdfcb4f216bc2de36b2fa5d2485" category="list-text">在网格管理器中，选择 * 配置 * &gt; * 安全性 * &gt; * 密钥管理服务器 * 。</block>
  <block id="07db1cc96c9c9aa59476885a038db74a" category="list-text">选择证书状态警告的 KMS 。</block>
  <block id="e17867ff7b7efecf6f737023e8353b02" category="list-text">选择 * 下一步 * 转到步骤 2 （上传服务器证书）。</block>
  <block id="3dd2b5be26d1a4e66213e0c52917582d" category="paragraph">Kms 客户端证书到期</block>
  <block id="6f4a3ca9c313f0265c0208445fabdae4" category="paragraph">密钥管理服务器的客户端证书即将过期。</block>
  <block id="1b4b3a7bbd08b1e2ce0114eb87e2c9ad" category="list-text">选择 * 下一步 * 转到步骤 3 （上传客户端证书）。</block>
  <block id="603cfe1fb3ccb7562e89afb195d6217a" category="paragraph">无法加载 Kms 配置</block>
  <block id="ea94814ce41929e52e0f7015de6a8c89" category="paragraph">密钥管理服务器的配置存在，但无法加载。</block>
  <block id="620a0026e4168baeb67f2e9b041248df" category="paragraph">Kms 连接错误</block>
  <block id="69df971b0b42947604d5afe002ade6ad" category="paragraph">设备节点无法连接到其站点的密钥管理服务器。</block>
  <block id="b88ca5254232c1dea8a3dea88aae370b" category="list-text">确认端口和主机名条目正确无误。</block>
  <block id="d7782df449c0a0fa7d3ad25771377d17" category="list-text">确认服务器证书，客户端证书和客户端证书专用密钥正确且未过期。</block>
  <block id="a8594c06e4659cc81e0a3012ad6c2717" category="list-text">确保防火墙设置允许设备节点与指定的 KMS 进行通信。</block>
  <block id="4c4056ba7acd62740853a8fa596fa419" category="list-text">更正任何网络或 DNS 问题。</block>
  <block id="8b98d156095d54e4f433f37e3579d7fb" category="list-text">如果您需要帮助或此警报持续存在，请联系技术支持。</block>
  <block id="874c5703f47e829538a28d816d9ebdd8" category="paragraph">未找到 Kms 加密密钥名称</block>
  <block id="0fcb747ffd0a274bd4cff669566cc411" category="paragraph">配置的密钥管理服务器没有与提供的名称匹配的加密密钥。</block>
  <block id="43eedfceecb0a2a94e0e3b7fe342389e" category="list-text">确认分配给站点的 KMS 使用的加密密钥名称以及任何先前版本正确无误。</block>
  <block id="e3c3e4097b95f02be40c4a0f6ac4fe17" category="paragraph">Kms 加密密钥轮换失败</block>
  <block id="9d557c17a10428120a26b83c4b1d014c" category="paragraph">所有设备卷均已解密，但一个或多个卷无法轮换到最新密钥。请联系技术支持。</block>
  <block id="c3121dd30b6ba796a999bca72c5cef32" category="paragraph">未配置公里</block>
  <block id="d05c16b8eaa5cb149e6a0114b313012f" category="paragraph">此站点不存在密钥管理服务器。</block>
  <block id="726093e85dceddecbf8ea243ae926bdd" category="list-text">为此站点添加 KMS 或添加默认 KMS 。</block>
  <block id="16f638f617081241cd5d739dac435282" category="paragraph">Kms 密钥无法对设备卷进行解密</block>
  <block id="b56368bb2070b9278d90a8322b0c7c27" category="paragraph">无法使用当前 KMS 密钥对启用了节点加密的设备上的一个或多个卷进行解密。</block>
  <block id="bd1ee6be8fcbb1dd2e79aa5e5f8818c4" category="list-text">确保密钥管理服务器（ KMS ）已配置加密密钥以及任何先前的密钥版本。</block>
  <block id="42c69a25cd60a3243908eb5846734ed5" category="paragraph">Kms 服务器证书到期</block>
  <block id="b0976a08dc267fe0d40183916b493f9a" category="paragraph">密钥管理服务器（ KMS ）使用的服务器证书即将过期。</block>
  <block id="e279d3b36fcbaecc6c7d042e8e81eec1" category="list-text">使用 KMS 软件更新密钥管理服务器的服务器证书。</block>
  <block id="35634c7855eb96f335d773499d045d01" category="paragraph">审核队列较大</block>
  <block id="7bd6a77346562e3a8c0e9aa2d179fc17" category="paragraph">审核消息的磁盘队列已满。</block>
  <block id="1449f05e416d4dd6096817fe3fea1754" category="list-text">检查系统上的负载—如果事务数量很多，则警报应逐渐自行解决，您可以忽略此警报。</block>
  <block id="ed1daef74fad37495bb2de51df66ace2" category="list-text">如果警报持续存在且严重性增加，请查看队列大小图表。如果此数量在数小时或数天内稳定增加，则审核负载可能已超过系统的审核容量。</block>
  <block id="3e37ef46b2f565f35f6bda49d60e3eac" category="list-text">通过将客户端写入和客户端读取的审核级别更改为 " 错误 " 或 " 关闭 " （ * 配置 * &gt; * 监控 * &gt; * 审核和系统日志服务器 * ），降低客户端操作速率或减少记录的审核消息数量。</block>
  <block id="e30a8377339fd30925b1a2d506ac52cd" category="paragraph">某些客户端可能正在使用默认 S3 和 Swift API 证书连接到已弃用的 CLB 负载平衡器服务。</block>
  <block id="233d38d684d7ad56d2f208d4d13ce9b4" category="list-text">要简化未来升级，请在 * 证书 * 页面的 * 全局 * 选项卡上安装自定义 S3 和 Swift API 证书。然后，确保连接到原有 CLB 的所有 S3 或 Swift 客户端都具有新证书。</block>
  <block id="08e9d428167cdd0cc1699db2d27f34e2" category="list-text">创建一个或多个负载平衡器端点。然后，将所有现有 S3 和 Swift 客户端定向到这些端点。如果需要重新映射客户端端口，请联系技术支持。</block>
  <block id="f21109678a34fabcb8852994381b2bc7" category="paragraph">其他活动可能会触发此警报，包括端口扫描。要确定当前是否正在使用已弃用的 CLB 服务，请查看 `storagegRid_private_clb_http_connection_established_successful` Prometheus 指标。</block>
  <block id="f25d7f806fc3e2c0261e0a6f0bdd6bf1" category="paragraph">如果不再使用 CLB 服务，请根据需要静默或禁用此警报规则。</block>
  <block id="d14440df0d85c97cc276aa32b9e592cc" category="paragraph">节点无法将日志转发到外部系统日志服务器，并且磁盘队列正在填满。</block>
  <block id="00faa6b5293ffe1b21c18b01a85ed5c6" category="paragraph">审核日志磁盘容量低</block>
  <block id="18eb7aad329dd5834f6cf726f8137c66" category="paragraph">可用于审核日志的空间不足。</block>
  <block id="5847c14040fc98393577e6b59209cd83" category="list-text">监控此警报，查看问题描述 是否自行解析且磁盘空间是否再次可用。</block>
  <block id="66bbbab90945c7d781dec7795a063891" category="list-text">如果可用空间继续减少，请联系技术支持。</block>
  <block id="914061fe33d1c2ebd3a70fcb8339df02" category="paragraph">可用节点内存不足</block>
  <block id="2b397d39ddd8d4d60711472e0f2212a6" category="paragraph">节点上的可用 RAM 量较低。</block>
  <block id="db4320aeda28b02319fc95d4f0e4947c" category="paragraph">可用 RAM 不足可能表示工作负载发生变化或一个或多个节点发生内存泄漏。</block>
  <block id="edcad716293bc426be90e1693b7862e4" category="list-text">监控此警报以查看问题描述 是否自行解决。</block>
  <block id="1a4b27a39dc7c03b4f9e9b9c114c56df" category="list-text">如果可用内存低于主要警报阈值，请联系技术支持。</block>
  <block id="ef949ccc72f24b816bbce55ad92059f0" category="paragraph">存储池可用空间不足</block>
  <block id="747e2167d9f8806213bb70ad6b52e82d" category="paragraph">可用于在存储池中存储对象数据的空间量较低。</block>
  <block id="63ab187eee94cbd11d7982027ce6e91d" category="list-text">选择 * ILM * &gt; * 存储池 * 。</block>
  <block id="ac7600eebeb352a51e05dd93948f7e5c" category="list-text">选择警报中列出的存储池，然后选择 * 查看详细信息 * 。</block>
  <block id="69f024cbdf796d0f58a83fc409cfa2f1" category="list-text">确定需要额外存储容量的位置。您可以向存储池中的每个站点添加存储节点，也可以向一个或多个现有存储节点添加存储卷（ LUN ）。</block>
  <block id="6b77804b2269a4cbb2e51b1c4b171ff6" category="list-text">执行扩展操作步骤 以增加存储容量。</block>
  <block id="512999fe1d33035be36656b60a9e8925" category="paragraph">节点内存不足</block>
  <block id="87e9a70d17910b567ca9cb08dd6e222f" category="paragraph">节点上安装的内存量不足。</block>
  <block id="190fcdfe8bfc84f68fb69871e7cf5c53" category="paragraph">增加虚拟机或 Linux 主机可用的 RAM 量。检查主要警报的阈值，以确定 StorageGRID 节点的默认最低要求。请参见适用于您的平台的安装说明：</block>
  <block id="dcf2ea72df3b5e84bfc626343de64a20" category="paragraph">元数据存储不足</block>
  <block id="44196e0afe0a162be616c0bf2a6343b1" category="paragraph">可用于存储对象元数据的空间不足。</block>
  <block id="e54f3d4cc38b89e8f209653416c7fba6" category="paragraph">* 严重警报 *</block>
  <block id="a36c5a457db7a9c47e973832df67b651" category="list-text">停止载入对象。</block>
  <block id="abc0174e3708fb711902c627b95279cf" category="list-text">立即在扩展操作步骤 中添加存储节点。</block>
  <block id="1d3fc1b046b924ed073ca72708c30545" category="paragraph">* 主要警报 *</block>
  <block id="bc336fb82b4b8a0f8d921137fece7900" category="paragraph">* 次要警报 *</block>
  <block id="aee7c847409fb4e432d922c00dcb8d7d" category="list-text">监控对象元数据空间的使用速率。选择 * 节点 * &gt; * 存储节点 _* &gt; * 存储 * ，然后查看已用存储 - 对象元数据图。</block>
  <block id="bafbf1f0d3053f3b5e724473b37663be" category="inline-xref-macro">扩展操作步骤</block>
  <block id="5de3503d75876b1065b29cf276d42a29" category="list-text">在中添加存储节点 <block ref="0f429049865af634099b510f6cc5eb74" category="inline-xref-macro-rx"></block> 请尽快。</block>
  <block id="9b4ca8f939d75967afa7abee6837c4ef" category="paragraph">添加新存储节点后，系统会自动在所有存储节点之间重新平衡对象元数据，并清除警报。</block>
  <block id="6aeea892e2ba9e7bd47e7cb58ebe9651" category="paragraph">请参见中有关 " 低元数据存储 " 警报的说明 <block ref="b298670d2d55c367430ec8c2e4d5363b" category="inline-xref-macro-rx"></block>。</block>
  <block id="4ec15e6b13edfe99c47962e5f70a9747" category="paragraph">低指标磁盘容量</block>
  <block id="7c9458566008e6de83a80cc19f6a3ce4" category="paragraph">可用于指标数据库的空间不足。</block>
  <block id="6aafe6a7a53a0837f4f3888f25caa14d" category="paragraph">对象数据存储不足</block>
  <block id="e980c1dae50fe1a17fbe743af823463d" category="paragraph">可用于存储对象数据的空间不足。</block>
  <block id="cd5044d1559c25ffd8cf1bb0e326168a" category="paragraph">执行扩展操作步骤 。您可以向现有存储节点添加存储卷（ LUN ），也可以添加新的存储节点。</block>
  <block id="186d9c35076eaa9c3c587d9e347d08e8" category="paragraph"><block ref="186d9c35076eaa9c3c587d9e347d08e8" category="inline-xref-macro-rx"></block></block>
  <block id="b204cc6c63756cbbe8fb302c92de40f0" category="paragraph">存储卷软只读水印覆盖小于存储节点的最小优化水印。</block>
  <block id="c914364f03477825aaee421cd81748e6" category="paragraph">要了解如何解决此警报，请转至 <block ref="2350e31ac5aece082c2bfe741747688f" category="inline-xref-macro-rx"></block>。</block>
  <block id="ab0c9a2d546fccd517baf6c2b663c5e4" category="paragraph">根磁盘容量低</block>
  <block id="216a15c3505da3c693385da34039630f" category="paragraph">根磁盘的可用空间不足。</block>
  <block id="2d0c2df2393a6c9912de4da6eb3fb9c2" category="paragraph">系统数据容量低</block>
  <block id="a243bf60cce931817c1780b38966dfff" category="paragraph">在 ` /var/local` 文件系统上可用于 StorageGRID 系统数据的空间不足。</block>
  <block id="cdc73131e12bf9fd953f5fcb823b54ce" category="paragraph">/tmp 目录中的可用空间不足。</block>
  <block id="afe29964620c0a13b183fca378f9f1a6" category="paragraph">节点网络连接错误</block>
  <block id="c4f1f3c14f91551eccaea4bbf7411f03" category="paragraph">在节点之间传输数据时出错。</block>
  <block id="293f423658cc973bf6b36b1d401ea47d" category="paragraph">网络连接错误可能会在无需手动干预的情况下清除。如果错误无法清除，请联系技术支持。</block>
  <block id="a384bd3fbbe96f3ed15e45af98dfb201" category="paragraph">请参见中的网络接收错误（ NRER ）警报说明 <block ref="14f51b91662cc57f2514869dfa4883cd" category="inline-xref-macro-rx"></block>。</block>
  <block id="e630b3fe53e4a6d09375a279a211583e" category="paragraph">节点网络接收帧错误</block>
  <block id="b064689dbbda972d4bc86de2d47044b6" category="paragraph">节点收到的网络帧中有很高比例出现错误。</block>
  <block id="86120f7704a225dd8a5bab2f4edbcbdc" category="paragraph">此警报可能指示硬件问题描述 ，例如以太网连接任一端的缆线损坏或收发器出现故障。</block>
  <block id="50e3b574ce0387c9646d14ca14a97985" category="list-text">如果您使用的是设备，请尝试更换每个 SFP+ 或 SFP28 收发器和缆线，一次更换一个，以查看警报是否清除。</block>
  <block id="9103165167f742521eff343c637bd9d0" category="paragraph">节点与 NTP 服务器不同步</block>
  <block id="09de685fb0762a9ccea049ee9fcbeeb5" category="paragraph">节点的时间与网络时间协议（ NTP ）服务器不同步。</block>
  <block id="809af6401b13d9d9412882ff1afb0727" category="list-text">验证您是否已指定至少四个外部 NTP 服务器，每个服务器均提供 Stratum 3 或更好的参考。</block>
  <block id="2c28b6ae3afdda18e4a4655da75e6187" category="list-text">检查所有 NTP 服务器是否均正常运行。</block>
  <block id="fe25b6f0e49654f663ac94d7e486ac45" category="list-text">验证与 NTP 服务器的连接。确保它们未被防火墙阻止。</block>
  <block id="a8df10ce54e51c3668353d91857797bc" category="paragraph">节点未使用 NTP 服务器锁定</block>
  <block id="9ab496a582c8bbf7d7deeaab72e31d62" category="paragraph">节点未锁定到网络时间协议（ NTP ）服务器。</block>
  <block id="8d577b1fffd04e43689536aea1119132" category="paragraph">非设备节点网络已关闭</block>
  <block id="e8a94e1df58bca2bd6d9e5f465d56496" category="paragraph">一个或多个网络设备已关闭或断开连接。此警报表示无法访问虚拟机或 Linux 主机上安装的节点的网络接口（ eth ）。</block>
  <block id="426a79f14adc387de2fda566bd4695ee" category="paragraph">对象存在检查作业失败。</block>
  <block id="354f8fdf7c500d4c71af3411f3166b7a" category="list-text">选择 * 维护 &gt; 对象存在检查 * 。</block>
  <block id="5de5f9e5f11547e569f48a4702c26364" category="list-text">记下错误消息。执行相应的更正操作：</block>
  <block id="4dba0457d4221b1831a6919f206e7383" category="paragraph">* 无法启动 * ， * 连接断开 * ， * 未知错误 *</block>
  <block id="9ccc75539471096a2bc93dce5e2d5001" category="list-text">确保作业中包含的存储节点和卷处于联机状态且可用。</block>
  <block id="2bbbfae6cb0445fb689b31de16bb716e" category="list-text">确保存储节点上没有服务或卷故障。如果某个服务未运行，请启动或重新启动该服务。请参见 <block ref="19b11cf95ca2d99c2c66bb7262096ff3" category="inline-xref-macro-rx"></block>。</block>
  <block id="1812580291cfc8480138c7dffa15934a" category="list-text">确保可以满足选定的一致性控制。</block>
  <block id="a3f181122902874ccb7452b5d329d3a9" category="list-text">解决任何问题后，选择 * 重试 * 。作业将从最后一个有效状态恢复。</block>
  <block id="7aa1c41362436a23330288b24778b888" category="paragraph">卷中的 * 严重存储错误 *</block>
  <block id="9830d4c001b5f6ac21e40e509ef706ad" category="list-text">恢复故障卷。请参见 <block ref="19b11cf95ca2d99c2c66bb7262096ff3" category="inline-xref-macro-rx"></block>。</block>
  <block id="2c2174fde5f4ed4c741ed61fc3dc05c4" category="list-text">选择 * 重试 * 。</block>
  <block id="a11e06298b3acf20fdbb6291f7ea43a0" category="list-text">作业完成后，为节点上的其余卷创建另一个作业，以检查是否存在其他错误。</block>
  <block id="5f072c41775e6fa344e35f9c6a762bd9" category="list-text">如果无法解决这些问题，请联系技术支持。</block>
  <block id="baf9da3dc2e43a2a19657ba002f6df0b" category="paragraph">对象存在检查作业已停止。</block>
  <block id="9b2d637374a03218db9193620d000e05" category="paragraph">对象存在检查作业无法继续。作业中包含的一个或多个存储节点或卷脱机或无响应，或者由于节点过多或不可用，无法再满足选定一致性控制。</block>
  <block id="16910629b5361293b603ca9a6672fe7f" category="list-text">确保所有要检查的存储节点和卷均处于联机状态且可用（选择 * 节点 * ）。</block>
  <block id="e7da94ba2c3d78c0414bf66eec8712ed" category="list-text">确保有足够的存储节点处于联机状态且可用，以使当前协调者节点能够使用选定一致性控制读取对象元数据。如有必要，启动或重新启动服务。请参见 <block ref="19b11cf95ca2d99c2c66bb7262096ff3" category="inline-xref-macro-rx"></block>。</block>
  <block id="4aa29ff39661483e99ba6e1d41b5c97e" category="paragraph">解决步骤 1 和 2 后，作业将自动从停止位置开始。</block>
  <block id="3e7a7f42391931bad7fae2dec2de7735" category="list-text">如果无法满足选定的一致性控制，请取消作业并使用较低的一致性控制启动另一个作业。</block>
  <block id="4a65139193810b59261b58f45f7e0d92" category="paragraph">对象丢失</block>
  <block id="3790bfa533dd8c53da3ba7366adf5a83" category="paragraph">一个或多个对象已从网格中丢失。</block>
  <block id="756969bf794d8d36c96d237aae91dd53" category="paragraph">此警报可能指示数据已永久丢失，无法检索。</block>
  <block id="7130861d9777a1017b7b6bc1be846d26" category="list-text">立即调查此警报。您可能需要采取措施以防止进一步数据丢失。如果您立即采取措施，则还可以还原丢失的对象。</block>
  <block id="b129da7767be5e30f0ac8fe698176db5" category="list-text">解决底层问题后，重置计数器：</block>
  <block id="a1030a042ed8c4f2d7fc13ae60b8c049" category="list-text">对于发出警报的存储节点，请选择 * ； site_* &gt; * ； grid node_* &gt; * LDR* &gt; * 数据存储 * &gt; * 配置 * &gt; * 主 * 。</block>
  <block id="19890ac01a600728c92442c7a463c104" category="list-text">选择 * 重置丢失的对象计数 * ，然后单击 * 应用更改 * 。</block>
  <block id="217a4ebf11a9936ffeddca50e4d93240" category="paragraph">平台服务不可用</block>
  <block id="a9093f319660a1d948ab101378659755" category="paragraph">具有 RSM 服务的存储节点在站点上运行或可用的数量太少。</block>
  <block id="8f5b726a880f2940d8b66764af1579f2" category="paragraph">确保受影响站点上拥有 RSM 服务的大多数存储节点均处于运行状态且无错误状态。</block>
  <block id="9afcd89d55439fa029bb811004c20d6e" category="paragraph">请参见中的 "`解决平台服务问题` " <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="b225419932a9ecbedffcb430c9e81141" category="paragraph">S3 客户端正在尝试执行超过 S3 大小限制的 PUT 对象操作。</block>
  <block id="4bd34732c81433ae2ef2766ae7bf06b5" category="list-text">使用警报详细信息中显示的租户 ID 来标识租户帐户。</block>
  <block id="e26c654bbffdd1110013c5beef8ed421" category="list-text">转至 * 支持 * &gt; * 工具 * &gt; * 日志 * ，然后收集警报详细信息中显示的存储节点的应用程序日志。指定警报时间前后 15 分钟的时间段。</block>
  <block id="bcc73277b8a4f5837a74922c54936029" category="list-text">提取下载的归档，然后导航到 `byncast.log` 的位置（` /GID&lt;grid_id&gt;_&lt;time_stamp&gt;/&lt;site_node&gt;/&lt;time_stamp&gt;/grid/byncast.log` ）。</block>
  <block id="7dee882fc2c6352a9d73a21be26736ac" category="list-text">在 `byncast.log` 的内容中搜索 ` "method =pt"` ，并通过查看 `clientIP` 字段确定 S3 客户端的 IP 地址。</block>
  <block id="9cd608554ccea1cd0e193d32a0e467d6" category="list-text">通知所有客户端用户， PUT 对象大小上限为 5 GiB 。</block>
  <block id="312580e00a7597bae2c7337f445c9ff7" category="list-text">对大于 5 GiB 的对象使用多部分上传。</block>
  <block id="230c9b25400dd6b1d78708550ddb7f3b" category="paragraph">管理网络端口 1 上的服务设备链路已关闭</block>
  <block id="24da2de3dbe00d3a63e2eb5494e2d6db" category="paragraph">设备上的管理网络端口 1 已关闭或断开连接。</block>
  <block id="59f089af9cd01bb4a6b5dbdc68997428" category="list-text">检查连接到管理网络端口 1 的缆线和物理连接。</block>
  <block id="6c4b13ff12a6d231f521f8fa9099f785" category="list-text">解决任何连接问题。请参见适用于您的设备硬件的安装和维护说明。</block>
  <block id="0e417dbacaf118af5588795165025649" category="list-text">如果此端口已按目的断开连接，请禁用此规则。在网格管理器中，选择 * 警报 * &gt; * 规则 * ，选择规则，然后单击 * 编辑规则 * 。然后，取消选中 * 已启用 * 复选框。</block>
  <block id="721058bcb97d4bd177e5ce5e006b9497" category="paragraph">管理网络（或客户端网络）上的服务设备链接已关闭</block>
  <block id="1413e90f520ad0457a209da7f068d079" category="paragraph">管理网络（ eth1 ）或客户端网络（ eth2 ）的设备接口已关闭或断开连接。</block>
  <block id="4188e82a3b2c245ce7cdc23496ad2570" category="list-text">检查与 StorageGRID 网络的缆线， SFP 和物理连接。</block>
  <block id="febdba107cfbfbea62f6104984d3b3ad" category="paragraph">网络端口 1 ， 2 ， 3 或 4 上的服务设备链路已关闭</block>
  <block id="e30415b09da1fb928721aecb3e94f4ec" category="paragraph">设备上的网络端口 1 ， 2 ， 3 或 4 已关闭或断开连接。</block>
  <block id="f5879d4c6d7d1bb8f7d921f54080a0f5" category="paragraph">服务设备存储连接已降级</block>
  <block id="bc104d081e590dcedfae4bbc8e539c48" category="paragraph">服务设备中的两个 SSD 之一出现故障或与另一个 SSD 不同步。</block>
  <block id="d8579ae79b935e04cd52dc60e8765a2e" category="paragraph">设备功能不受影响，但您应立即解决问题描述 。如果两个驱动器都发生故障，则设备将无法再正常运行。</block>
  <block id="d77bc57b598377104c2525fc44d2fbde" category="list-text">在网格管理器中，选择 * 节点 * &gt; ***_services appliage_ ，然后选择 "* 硬件 " 选项卡。</block>
  <block id="a78355609310b3972c5156e906fe26b6" category="list-text">查看 * 存储 RAID 模式 * 字段中的消息。</block>
  <block id="b421a87b3effb5dfb6f8bf57f5c616e7" category="list-text">如果此消息显示重新同步操作的进度，请等待此操作完成，然后确认警报已解决。重新同步消息表示 SSD 最近已更换，或者由于其他原因正在重新同步。</block>
  <block id="5ef3ab1a7cd97dcc3b56265f73d0c026" category="list-text">如果此消息指示其中一个 SSD 发生故障，请尽快更换发生故障的驱动器。</block>
  <block id="e8cefb41077d33df56dda371c9502517" category="paragraph">有关如何更换服务设备中的驱动器的说明，请参见 SG100 和 SG1000 设备安装和维护指南。</block>
  <block id="7a62544c6b8f0172563bffe8884ca921" category="paragraph">管理网络端口 1 上的存储设备链路已关闭</block>
  <block id="d66002e6be9c61561f97d4656297160b" category="paragraph">管理网络（或客户端网络）上的存储设备链接已关闭</block>
  <block id="587b159834ea140434f40d60aeb9ab7e" category="paragraph">网络端口 1 ， 2 ， 3 或 4 上的存储设备链路已关闭</block>
  <block id="0adc0ba0756b56907665ff5a2ec7c6a8" category="paragraph">存储设备存储连接已降级</block>
  <block id="96f6408e238da2b30e9bc2aff4db5722" category="paragraph">计算控制器和存储控制器之间的一个或多个连接出现问题。</block>
  <block id="00fc74fbb3fe9bc861e3e8356a1806af" category="list-text">转至设备以检查端口指示灯。</block>
  <block id="44fea3e67c87ef8b958a9159f4d91669" category="list-text">如果端口指示灯不亮，请确认缆线已正确连接。根据需要更换缆线。</block>
  <block id="150b5146f3a7c517a21737ee4cebb624" category="list-text">最多等待五分钟。</block>
  <block id="be84264eb87501dc55f90cb87082911e" category="paragraph">* 注： * 如果需要更换另一根缆线，请至少拔下 5 分钟。否则，根卷可能会变为只读，这需要重新启动硬件。</block>
  <block id="3ab5101427fa8d405e8593b067f90569" category="list-text">在网格管理器中，选择 * 节点 * 。然后，选择出现问题的节点的硬件选项卡。验证警报条件是否已解决。</block>
  <block id="95c6e1d3176020b46a55aa9ae582410b" category="paragraph">无法访问存储设备</block>
  <block id="973617220d82fad634d8bbccc808396a" category="paragraph">无法访问存储设备。</block>
  <block id="a228fef7be447d74641fe2e372564c09" category="paragraph">此警报表示由于底层存储设备出现问题，无法挂载或访问卷。</block>
  <block id="90744746f54064945d4659a566fe4ed8" category="list-text">检查用于此节点的所有存储设备的状态：</block>
  <block id="1c278516b983c55ea47c8a7843ff8de0" category="list-text">如果节点安装在虚拟机或 Linux 主机上，请按照您的操作系统的说明运行硬件诊断或执行文件系统检查。</block>
  <block id="cbdf0b25561213656af5e9ee63b26ca8" category="list-text">如果节点安装在 SG100 ， SG1000 或 SG6000 设备上，请使用 BMC 。</block>
  <block id="c61a153cdabdc365ced523264c736ac1" category="list-text">如果此节点安装在 SG5600 或 SG5700 设备上，请使用 SANtricity 系统管理器。</block>
  <block id="360915f68384193078a7081c83695635" category="paragraph">租户配额使用量高</block>
  <block id="899ea10320fe96d574acdfb4fea93601" category="paragraph">正在使用的租户配额空间百分比很高。如果租户超过其配额，则新的载入将被拒绝。</block>
  <block id="28eb8f184efaa111a9f56af36e948ea0" category="paragraph">* 注： * 默认情况下，此警报规则处于禁用状态，因为它可能会生成大量通知。</block>
  <block id="efb42457c87d73010399dbd29c6b0d91" category="list-text">在网格管理器中，选择 * 租户 * 。</block>
  <block id="8531e830ea228a6e0e5b6f7c6f56d65d" category="list-text">按 * 配额利用率 * 对表进行排序。</block>
  <block id="16e01405403a60ebc3a7ad4aa4eb9f73" category="list-text">选择配额利用率接近 100% 的租户。</block>
  <block id="30ed6e31759ed72bb258aa6d49d3540d" category="list-text">执行以下操作之一或同时执行这两项操作：</block>
  <block id="7acea8162a1ddf9fcd6b63cb5c42f3cb" category="list-text">选择 * 编辑 * 以增加租户的存储配额。</block>
  <block id="4ce2dba0fbcea97329bc3dd7b0001ea7" category="list-text">通知租户其配额利用率较高。</block>
  <block id="7b8a7f694191474310e7a2bf5b2cf477" category="paragraph">无法与节点通信</block>
  <block id="fa9cc4fe1e8cf84a76af72b5c8c81a7a" category="paragraph">一个或多个服务无响应，或者无法访问节点。</block>
  <block id="ce80ed6b95e2a3a19f7d705027179117" category="paragraph">此警报表示节点已因未知原因断开连接。例如，节点上的服务可能已停止，或者节点可能已因电源故障或意外中断而丢失网络连接。</block>
  <block id="d9fb4d677b38110120260e9558ef10d1" category="paragraph">监控此警报以查看问题描述 是否自行解决。如果问题描述 仍然存在：</block>
  <block id="4b272e988bd322531015c081c2515c8c" category="list-text">确认此节点上的所有服务均已运行。如果某个服务已停止，请尝试启动它。请参见 <block ref="19b11cf95ca2d99c2c66bb7262096ff3" category="inline-xref-macro-rx"></block>。</block>
  <block id="105576ad06622b9b41a625a968a1098b" category="list-text">确保节点的主机已启动。如果不是，请启动主机。</block>
  <block id="7499a5ab2e34a866a90989113a16baf6" category="paragraph">* 注： * 如果关闭了多个主机，请参见 <block ref="19b11cf95ca2d99c2c66bb7262096ff3" category="inline-xref-macro-rx"></block>。</block>
  <block id="85bc14b438545d7a75fd00bc3883dbf4" category="list-text">确定此节点与管理节点之间是否存在网络连接问题描述 。</block>
  <block id="27fffac96939afe0fc263ba5fa9980f5" category="list-text">如果无法解决此警报，请联系技术支持。</block>
  <block id="b3c67c4f30b336f9cd882e2311d5e506" category="paragraph">节点意外重新启动</block>
  <block id="dff4aad4d1c9962ad6a8d312ce1c140b" category="paragraph">节点在过去 24 小时内意外重新启动。</block>
  <block id="7e731505a4e499c6b87ad4ff566d4209" category="list-text">监控此警报。此警报将在 24 小时后清除。但是，如果节点再次意外重新启动，则会再次触发此警报。</block>
  <block id="a1f6c571fd9e7151110d5f76c185b9c7" category="list-text">如果无法解决此警报，则可能存在硬件故障。请联系技术支持。</block>
  <block id="7ef1f7c1a4badeea0be0268346d7c5d4" category="paragraph">检测到未标识的损坏对象</block>
  <block id="bb60880b882204f4052d912b23043989" category="paragraph">在复制的对象存储中找到无法标识为复制对象的文件。</block>
  <block id="52da503b17bb503ec730b1fe2b516a87" category="list-text">确定存储节点上的底层存储是否存在任何问题。例如，运行硬件诊断或执行文件系统检查。</block>
  <block id="09a49f26db3670a9e4080097810b2529" category="inline-xref-macro">运行对象存在检查</block>
  <block id="a3aa5f9cc7fcb4f77717c36af2011cc9" category="list-text">解决任何存储问题后， <block ref="8d1f62e2d2591b0f388cbf27a3c6bd49" category="inline-xref-macro-rx"></block> 确定是否缺少 ILM 策略定义的任何复制副本。</block>
  <block id="8c9ec6c543ce5037aef75cfa8e3852dc" category="list-text">监控此警报。此警报将在 24 小时后清除，但如果问题描述 未修复，则会再次触发。</block>
  <block id="b74a5df96bee4f97054292485d5242e3" category="summary">在调查 StorageGRID 系统并验证所有记录的丢失对象是否永久丢失或是否为虚假警报之后，您可以将丢失对象属性的值重置为零。</block>
  <block id="6c305cae35387f407503f69945df1398" category="paragraph">您可以从以下任一页面重置丢失的对象计数器：</block>
  <block id="760d981bc42436b439b193ec5afcb6e5" category="list-text">* 支持 * &gt; * 工具 * &gt; * 网格拓扑 * &gt; * 站点 _* &gt; * 存储节点 _* &gt; * LDR* &gt; * 数据存储 * &gt; * 概述 * &gt; * 主 *</block>
  <block id="60cc2010c9ebec7ef6e675eb21e5b8cd" category="list-text">* 支持 * &gt; * 工具 * &gt; * 网格拓扑 * &gt; * 站点 _* &gt; * 存储节点 _* &gt; * DDS* &gt; * 数据存储 * &gt; * 概述 * &gt; * 主 *</block>
  <block id="c3b55ae6a62fb0488eabe09ef17d86c3" category="paragraph">以下说明显示了如何从 * LDR* &gt; * 数据存储 * 页面重置计数器。</block>
  <block id="ce12fc1f54d58ed13aacd3f683558ba8" category="list-text">对于出现 "* 对象丢失 " 警报或 " 丢失 " 警报的存储节点，选择 * 站点 _* &gt; * 存储节点 _* &gt; * * 存储节点 * &gt; * 数据存储 * &gt; * 配置 * 。</block>
  <block id="c4e41b704efa626ae63a9761ce3f4259" category="list-text">选择 * 重置丢失的对象计数 * 。</block>
  <block id="5499b9d4dcb5a01fe0e7e8a1c12d0bd2" category="image-alt">LDR 重置丢失对象计数的屏幕截图</block>
  <block id="1fde4211fc870feb0ef3613e2f96c956" category="paragraph">丢失的对象属性将重置为 0 ，并且 * 对象丢失 * 警报和丢失警报将清除，这可能需要几分钟的时间。</block>
  <block id="fd9eefc52f33af158e4f0e61c1857253" category="list-text">或者，也可以重置在识别丢失的对象过程中可能会递增的其他相关属性值。</block>
  <block id="7cd1e064d95b2c4585148989cf5f4a3f" category="list-text">选择 * 站点 _* &gt; * 存储节点 _* &gt; * LDR* &gt; * 擦除编码 * &gt; * 配置 * 。</block>
  <block id="1df04ac4c58c0acbe3569b2ae96af72d" category="list-text">选择 * 重置读取失败计数 * 和 * 重置检测到的损坏副本计数 * 。</block>
  <block id="af3f679f5120cd595b99fcc62daa411a" category="list-text">选择 * 站点 _* &gt; * 存储节点 _* &gt; * LDR* &gt; * 验证 * &gt; * 配置 * 。</block>
  <block id="bd4ca4649439ac1089812c9e58184403" category="list-text">选择 * 重置缺少的对象计数 * 和 * 重置损坏的对象计数 * 。</block>
  <block id="edbc0883d9faa0ea4b303a020383af72" category="list-text">如果您确信不需要隔离对象，则可以选择 * 删除隔离对象 * 。</block>
  <block id="79cd47780cb6d6f3bf1e1c6cca454cf1" category="paragraph">在后台验证发现复制的对象副本损坏时，将创建隔离的对象。在大多数情况下， StorageGRID 会自动替换损坏的对象，并且可以安全地删除隔离的对象。但是，如果触发 * 对象丢失 * 警报或丢失警报，技术支持可能需要访问隔离的对象。</block>
  <block id="f7e7cbf8318344cb7880eba70015c974" category="paragraph">单击 * 应用更改 * 后，可能需要几分钟时间才能重置属性。</block>
  <block id="d93af564cafae3919267384a29b5fc87" category="summary">通过网格拓扑树，您可以访问有关 StorageGRID 系统元素的详细信息，包括站点，网格节点，服务和组件。在大多数情况下，只有在文档中说明或与技术支持合作时，您才需要访问网格拓扑树。</block>
  <block id="d8f820e69a6ddb1f2c187e9563924cc2" category="doc">查看网格拓扑树</block>
  <block id="72a500f8de332f58d55612b9cd54687d" category="paragraph">要访问网格拓扑树，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。</block>
  <block id="b873e6ec437f27164bc00d0558640215" category="image-alt">网格拓扑树的各个部分</block>
  <block id="14a554d58a5cdbc7c72ed116f1174f0b" category="inline-image-macro">加号图标</block>
  <block id="a4b931a5b37da496573aba438dcac3c0" category="inline-image-macro">减号图标</block>
  <block id="f1ea0616f389486787797450a4c02940" category="paragraph">要展开或折叠网格拓扑树，请单击 <block ref="fece21da7311b011dc9ec307eebaf9f7" category="inline-image-macro-rx" type="image"></block> 或 <block ref="5940d6f0f4d4ea2465c8f7c8fb4ff97d" category="inline-image-macro-rx" type="image"></block> 在站点，节点或服务级别。要展开或折叠整个站点或每个节点中的所有项，请按住 * 键 * 并单击。</block>
  <block id="fa67bbd9c9ceb19432dd8602c189cae9" category="summary">根据问题，您可能需要确认对象数据的存储位置。例如，您可能需要验证 ILM 策略是否按预期执行，以及对象数据是否按预期存储。</block>
  <block id="caefb511c4d243451f50364312bb55df" category="list-text">您必须具有一个对象标识符，该标识符可以是以下项之一：</block>
  <block id="4b35021eeba87c17ebb52fc5917768f8" category="list-text">* UUID * ：对象的通用唯一标识符。以全大写形式输入 UUID 。</block>
  <block id="ab80fae0edbe603eb08b7083b41aa124" category="list-text">* CBID* ： StorageGRID 中对象的唯一标识符。您可以从审核日志中获取对象的 CBID 。输入全部大写的 CBID 。</block>
  <block id="0fb39c768d6c4b35f0db6e902746feb8" category="list-text">* S3 存储分段和对象密钥 * ：通过 S3 接口载入对象时，客户端应用程序使用存储和标识对象的分段和对象密钥组合。</block>
  <block id="a57e11d491cd4b6c6e5dfbef1266e168" category="list-text">* Swift 容器和对象名称 * ：通过 Swift 界面输入对象时，客户端应用程序将使用容器和对象名称组合来存储和标识对象。</block>
  <block id="79081749efd4670ccc6546f8b184262d" category="list-text">选择 * ILM * &gt; * 对象元数据查找 * 。</block>
  <block id="4a45de635a9e199ffc604e4f9b2b3c85" category="list-text">在 * 标识符 * 字段中键入对象的标识符。</block>
  <block id="376cd776e04f804f48ca227273e2dbe1" category="paragraph">您可以输入 UUID ， CBID ， S3 存储分段 / 对象密钥或 Swift 容器 / 对象名称。</block>
  <block id="cf2d5ccb3977be263c1d51ec5481a5a2" category="list-text">如果要查找对象的特定版本，请输入版本 ID （可选）。</block>
  <block id="07565b93c38674e54c661b2aad9e5130" category="image-alt">对象查找页面</block>
  <block id="99bdca031669ffbd159ec2fdb6a9e8a7" category="list-text">选择 * 查找 * 。</block>
  <block id="baa748b558447864db43a00671a86e00" category="paragraph">此时将显示对象元数据查找结果。此页面列出了以下类型的信息：</block>
  <block id="9ee23e4397d8729a0c16d4d84fa9c20a" category="list-text">系统元数据，包括对象 ID （ UUID ），版本 ID （可选），对象名称，容器名称，租户帐户名称或 ID ，对象的逻辑大小，首次创建对象的日期和时间以及上次修改对象的日期和时间。</block>
  <block id="91b08644ef3e50381478d7f42ab32f1d" category="list-text">与对象关联的任何自定义用户元数据键值对。</block>
  <block id="21ff24b10cf30c3d93eee72b6f893ee1" category="list-text">对于 S3 对象，是指与该对象关联的任何对象标记键值对。</block>
  <block id="0424959886aa235949e5645d15acd765" category="list-text">对于复制的对象副本，为每个副本提供当前存储位置。</block>
  <block id="9138ac3f4691f5bff8a3e727e8af846f" category="list-text">对于经过擦除编码的对象副本，为每个片段的当前存储位置。</block>
  <block id="29042d1403e4cb39baf3dc4bc6d2b042" category="list-text">对于云存储池中的对象副本，此对象的位置，包括外部存储分段的名称和对象的唯一标识符。</block>
  <block id="d433aab028777ba91b8b7b05fa9ac620" category="list-text">对于分段对象和多部分对象，包含分段标识符和数据大小的对象分段列表。对于包含 100 个以上区块的对象，仅显示前 100 个区块。</block>
  <block id="9f512cb92b817eda3df2af0dc88bb7dd" category="list-text">所有对象元数据均采用未处理的内部存储格式。此原始元数据包括内部系统元数据，不能保证这些元数据在版本之间持续存在。</block>
  <block id="881a6982bea4b0718068efda82944b6c" category="paragraph">以下示例显示了存储为两个复制副本的 S3 测试对象的对象元数据查找结果。</block>
  <block id="a5a5667955e1d948aeb8633a65eeb486" category="image-alt">对象查找结果</block>
  <block id="4321f8a5f48a9106058f6d4ca569adbf" category="summary">对象选项卡提供了有关 S3 和 Swift 载入和检索速率的信息。</block>
  <block id="e2ab7c65b21ed8cc1c3b642b5e36429e" category="inline-xref-macro">S3</block>
  <block id="ae832e9b5bda2699db45f3fa6aa8c556" category="inline-xref-macro">Swift</block>
  <block id="94304a813141c4fff403856e366d7426" category="paragraph">对象选项卡提供了有关的信息 <block ref="11a455c9332c9e3400eede3886540c5d" category="inline-xref-macro-rx"></block> 和 <block ref="e9273538622c22d1425b6bcc6800a48a" category="inline-xref-macro-rx"></block> 载入和检索速率。</block>
  <block id="926808d29c7903a4367ec32a91a4b371" category="paragraph">此时将显示每个存储节点，每个站点和整个网格的对象选项卡。对于存储节点，对象选项卡还提供对象计数以及有关元数据查询和后台验证的信息。</block>
  <block id="299fa16163982155a1b5c1947e63e017" category="image-alt">节点页面对象选项卡</block>
  <block id="62291426b0bcf062ff0b2781814f482b" category="summary">您可以搜索和查看已解决的警报历史记录。</block>
  <block id="61bad7d7b3a8c5ee65b73852a38f12eb" category="list-text">要查看已解决的警报，请执行以下操作之一：</block>
  <block id="ecda1811db771bf01574f7492d3b0720" category="list-text">从信息板上的 " 运行状况 " 面板中，单击 * 最近解决的警报 * 。</block>
  <block id="b7e355512be6fd9555f30b57688076cd" category="paragraph">只有在过去一周触发了一个或多个警报且这些警报现已解决时， * 最近解决的警报 * 链接才会显示。</block>
  <block id="8d154c6eaabb2c395079d7c541cd1f9e" category="list-text">选择 * 警报 * &gt; * 已解决 * 。此时将显示 "Resolved Alerts" 页面。默认情况下，将显示上周触发的已解决警报，而最近触发的警报将首先显示。此页面上的警报先前显示在 " 当前警报 " 页面或电子邮件通知中。</block>
  <block id="ab51ed5d5652abc52ee555ba70bf7c3e" category="image-alt">警报已解决页面</block>
  <block id="821888171d70e51f450003f9c16884ce" category="paragraph">警报的严重性。</block>
  <block id="97c6fce7d6f7e19ab43ca4d0c029e816" category="paragraph">触发警报多长时间前。</block>
  <block id="b15daa88e5f08f1bf0e96be4d6497d68" category="paragraph">已解决时间</block>
  <block id="a817d62062d04ee0399c8673712f923c" category="paragraph">警报解决多长时间前。</block>
  <block id="2fa40eaa4e5fb366648b6b87112642a2" category="paragraph">发生警报的站点和节点的名称。</block>
  <block id="62dcf10a9592df3098a3349c7a2ac2c0" category="paragraph">触发值</block>
  <block id="15d5308bc5285b029e74f590164fefe1" category="paragraph">导致触发警报的度量值。对于某些警报，还会显示其他值，以帮助您了解和调查此警报。例如，为 "* 对象数据存储空间不足 * " 警报显示的值包括已用磁盘空间百分比，磁盘空间总量和已用磁盘空间量。</block>
  <block id="f4f2edafb2cc3bc8c709e111d98104c1" category="list-text">要对已解决警报的整个列表进行排序，请单击向上 / 向下箭头 <block ref="69253343f61d2797f22f2847e7363e90" category="inline-image-macro-rx" type="image"></block> 在每个列标题中。</block>
  <block id="c8e8f8e744a6144b1ef7b3cf9b261412" category="paragraph">例如，您可能希望按 * 站点 / 节点 * 对已解决的警报进行排序，以查看影响特定节点的警报。</block>
  <block id="30924d63e82feaa617301410c5526f2b" category="list-text">或者，也可以使用表顶部的下拉菜单筛选已解决警报列表。</block>
  <block id="23f79e287351fe0ebaeb06cecb967f33" category="list-text">从 * 何时触发 * 下拉菜单中选择一个时间段，以根据触发警报的时间长度显示已解决的警报。</block>
  <block id="9a6fbb6a49131c46997e1ce28e3abcc7" category="paragraph">您可以搜索在以下时间段内触发的警报：</block>
  <block id="97da881bad55e7ca916bfdc9c432a1c9" category="list-text">过去一小时</block>
  <block id="ca64b33e992780cb21dd1e62b5871c0c" category="list-text">最后一天</block>
  <block id="fbe887dba27876bd6638bf4010d25ddc" category="list-text">上周（默认视图）</block>
  <block id="80cbddde2192d459a99ee9b8088a6df5" category="list-text">上个月</block>
  <block id="8d5f967bd87edabdac8d897d4b92f0bb" category="list-text">任何时间段</block>
  <block id="a9f319f7050d40fcf113c03530c77106" category="list-text">自定义（用于指定时间段的开始日期和结束日期）</block>
  <block id="223d0dec1f02e92c1a814b5443a99037" category="list-text">从 * 严重性 * 下拉菜单中选择一个或多个严重性，以筛选已解决的特定严重性警报。</block>
  <block id="cb3ccf2563449c3fa470b5d3fbf1544c" category="list-text">从 * 警报规则 * 下拉菜单中选择一个或多个默认或自定义警报规则，以筛选与特定警报规则相关的已解决警报。</block>
  <block id="d34ed4a25caf41827018dd73bdcfed94" category="list-text">从 * 节点 * 下拉菜单中选择一个或多个节点，以筛选与特定节点相关的已解决警报。</block>
  <block id="b68e3baaece85a7fd6bb5480a8b002d0" category="list-text">单击 * 搜索 * 。</block>
  <block id="c85e7b1b54b53b88188079280c9c8c91" category="list-text">要查看特定已解决警报的详细信息，请从表中选择该警报。</block>
  <block id="db0677be14e7df395d5553d1e2a876b1" category="summary">您可以使用 StorageGRID 日志对问题进行故障排除。</block>
  <block id="8d7acbe1b30b17bcd398e1f976e48f0b" category="doc">StorageGRID 软件日志</block>
  <block id="868d5d56208acdbb75e37aa0851f2add" category="admonition">如果要将日志发送到外部系统日志服务器或更改 `byncast.log` 和 `NMS.log` 等审核信息的目标，请参见 <block ref="8126c7b605167d7e771b27db78a96de4" category="inline-xref-macro-rx"></block>。</block>
  <block id="ee9210ffa49f9835e7c4d1c6f0545fa6" category="section-title">常规 StorageGRID 日志</block>
  <block id="04340603ee3ab90b363361a78fa035d0" category="paragraph">` /var/local/log/byncast.log`</block>
  <block id="811fee06cbee256dc1feae651a7e9f84" category="paragraph">主 StorageGRID 故障排除文件。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 节点 _* &gt; * SSM* &gt; * 事件 * 。</block>
  <block id="bb27718158d53a942194279dff7de049" category="paragraph">` /var/local/log/byncast-err.log`</block>
  <block id="4390631f7f95905495ddb7731977f60c" category="paragraph">包含一个子集 `byncast.log` （严重性错误和严重的消息）。系统中也会显示严重消息。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 _* &gt; * 节点 _* &gt; * SSM* &gt; * 事件 * 。</block>
  <block id="152f2628340d5b9cf3eade75d1dce1f9" category="paragraph">` /var/local/core/`</block>
  <block id="57e1ccd2e88ca7b7230682b0231d9316" category="paragraph">包含在程序异常终止时创建的任何核心转储文件。可能的原因包括断言失败，违规或线程超时。</block>
  <block id="8cdd47c254e445895f93aae8a1c5ee01" category="admonition">文件 `` /var/local/core/kexec_cmd` 通常位于设备节点上，并不表示存在错误。</block>
  <block id="6d98d108f509cf51b61217517e86b5a0" category="section-title">Server Manager 日志</block>
  <block id="c4af1579d3b92321ec6cf5704b004fc7" category="paragraph">` /var/local/log/servermanager.log`</block>
  <block id="a3f215e7e5e5e653843b4765017ac83f" category="paragraph">服务器上运行的 Server Manager 应用程序的日志文件。</block>
  <block id="89c2034098ff84a2ec0e2addebcba14d" category="paragraph">` /var/local/log/GridstatBackend.errlog`</block>
  <block id="2fbf6f20e8af2f37073c1f565918faf3" category="paragraph">Server Manager GUI 后端应用程序的日志文件。</block>
  <block id="f72f8f8f2531f3f54cf4954d9240bcc0" category="paragraph">` /var/local/log/gridstat.errlog`</block>
  <block id="cba2f3a4e5608627a8b621e41001fc4a" category="paragraph">Server Manager 图形用户界面的日志文件。</block>
  <block id="81a3ebc1b6eed296401002c36ade7a07" category="section-title">StorageGRID 服务的日志</block>
  <block id="3f6d2ab56989d4617790477b74ab370f" category="paragraph">` /var/local/log/Acct.errlog`</block>
  <block id="bc3a2b0e05f1ad9919ce4870d5dfc5a8" category="paragraph">运行此 ADC 服务的存储节点</block>
  <block id="eaf15f18875a703da27e381ae6a43697" category="paragraph">` /var/local/log/ADC.errlog`</block>
  <block id="572da62116c03b90854748af5414ecc3" category="paragraph">包含相应服务的标准错误（ stderr ）流。每个服务有一个日志文件。除非服务出现问题，否则这些文件通常为空。</block>
  <block id="297711fef3ee6a8d7c971e1a736f040d" category="paragraph">` /var/local/log/AMS.errlog`</block>
  <block id="08748aa3401a3d44942e3d2cf8c3bb74" category="paragraph">` /var/local/log/arc.errlog`</block>
  <block id="642d98314d0c1f0e48c2dd7d08656b9f" category="paragraph">` /var/local/log/Cassandra/system.log`</block>
  <block id="1f70409bb4e8e7b6fc1600de61242585" category="paragraph">元数据存储（ Cassandra 数据库）的信息，如果添加新存储节点时出现问题或节点池修复任务停止，则可以使用这些信息。</block>
  <block id="f7b08bb0155c4435acbf6c8d65ec4b35" category="paragraph">` /var/local/log/Cassandra-reaper.log`</block>
  <block id="ae34059a864b4f2d99a6d3bef22d6723" category="paragraph">Cassandra Reaper 服务的信息，用于修复 Cassandra 数据库中的数据。</block>
  <block id="29e0547fd297f85334d7d045e745f967" category="paragraph">` /var/local/log/Cassandra-reaper.errlog`</block>
  <block id="bb7912ca1711199cad2179b6e76f47f7" category="paragraph">Cassandra Reaper 服务的错误信息。</block>
  <block id="3e21fabad9413ae67484dd1a8cbc5495" category="paragraph">` /var/local/log/chun.errlog`</block>
  <block id="8829ac5698d4bf68b9c74c462c6d1907" category="paragraph">` /var/local/log/CLB.errlog`</block>
  <block id="de7a242205763c7f6f0a7fef00725a72" category="paragraph">CLB 服务的错误信息。</block>
  <block id="45dd397574358e4142dd241609899b79" category="paragraph">* 注： * CLB 服务已弃用。</block>
  <block id="29dd7db2be1b71e385b4a94c8a6883d3" category="paragraph">` /var/local/log/CMN.errlog`</block>
  <block id="ccfd3908c2ed92e21a8b46f2f2ca8b5d" category="paragraph">` /var/local/log/cms.errlog`</block>
  <block id="cdf406a718caab94bbc0d84ae4f9fd38" category="paragraph">此日志文件可能存在于已从旧版 StorageGRID 升级的系统上。它包含旧信息。</block>
  <block id="2cf936dc326bd6712c39a0628349abc7" category="paragraph">` /var/local/log/CTS.errlog`</block>
  <block id="330e5078b6abfa82b7db37fe61c4753a" category="paragraph">只有当目标类型为 * 云分层 - 简单存储服务（ S3 ） * 时，才会创建此日志文件</block>
  <block id="aa9dc90d28ac96bd07ac9aad7be64d0c" category="paragraph">` /var/local/log/dds.errlog`</block>
  <block id="ec54bbeca56027905afb47686a52f92a" category="paragraph">` /var/local/log/DMV.errlog`</block>
  <block id="134f5aa8d174a7599f4cb62888a4f6b3" category="paragraph">` /var/local/log/dynip*`</block>
  <block id="710b2d4e3dc1b7de9a69be8193f4594b" category="paragraph">包含与 dynip 服务相关的日志，该日志可监控网格中的动态 IP 更改并更新本地配置。</block>
  <block id="3067e72b9bacc0d8939cd75d62897f08" category="paragraph">` /var/local/log/grafana.log`</block>
  <block id="5d182f647011f9fc7bb46d87bbe6ff3d" category="paragraph">与 Grafana 服务关联的日志，用于在网格管理器中显示指标。</block>
  <block id="1b7a45a5a35db7237d73d0133be5eb62" category="paragraph">` /var/local/log/hagroups.log`</block>
  <block id="003faa866fb9b2516e5877ef51bc10b3" category="paragraph">与高可用性组关联的日志。</block>
  <block id="b245d6e5fa60051d42faa481504ccafc" category="paragraph">管理节点和网关节点</block>
  <block id="81b7cb7b0c8b533a10c974c337c9c99d" category="paragraph">` /var/local/log/hagroup_events.log`</block>
  <block id="39a32e2643918ae459dd0a74e8bd1417" category="paragraph">跟踪状态更改，例如从备份过渡到主节点或故障。</block>
  <block id="439ef996336bcef008baebe825402833" category="paragraph">` /var/local/log/idnt.errlog`</block>
  <block id="c91518208815cb7ffc2a8a004fc4243a" category="paragraph">` /var/local/log/jaeger.log`</block>
  <block id="29f475d45b712e6d15638ac2767a7e64" category="paragraph">与 jaeger 服务关联的日志，用于收集跟踪。</block>
  <block id="f05a19fd7435a43d6926a2231547dc84" category="paragraph">` /var/local/log/kstn.errlog`</block>
  <block id="f5f752ce62b652e5cbc92f504f093b5b" category="paragraph">` /var/local/log/lambda/*`</block>
  <block id="d75e671c767641aaed9c541f51868829" category="paragraph">包含 S3 Select 服务的日志。</block>
  <block id="270a8cd4cc8fc6a75f5b40656ac22419" category="paragraph">管理节点和网关节点</block>
  <block id="6c6543031c655bec60a53c07f5d653df" category="inline-xref-macro">S3 Select 管理节点和网关节点的要求和限制</block>
  <block id="8e15250cb56f2fb22fd7985930d01d78" category="paragraph">只有某些管理节点和网关节点才包含此日志。请参见 <block ref="dbe04375372018359ca1490dfba429ac" category="inline-xref-macro-rx"></block>。</block>
  <block id="0cd201ac9754b796b15e454d7a3642aa" category="paragraph">` /var/local/log/LDer.errlog`</block>
  <block id="f44ec8b2f73b14bf594bb6f49e2a88e9" category="paragraph">` /var/local/log/miscd/* 。 log`</block>
  <block id="c35704a1c46f494cc97a1bcc73f76814" category="paragraph">包含 MISCd 服务（信息服务控制守护进程）的日志，此服务提供一个界面，用于查询和管理其他节点上的服务以及管理节点上的环境配置，例如查询其他节点上运行的服务的状态。</block>
  <block id="38fdcc02a4bc07c7919c311cebca48fc" category="paragraph">` /var/local/log/nginx/* 。 log`</block>
  <block id="bc6af0b3996933815c6488644faafd1c" category="paragraph">包含 nginx 服务的日志，此服务可充当各种网格服务（例如 Prometheus 和动态 IP ）的身份验证和安全通信机制，以便能够通过 HTTPS API 与其他节点上的服务进行通信。</block>
  <block id="72fc28c3ee95dd180a68525c803611d3" category="paragraph">` /var/local/log/nginx gw/* 。 log`</block>
  <block id="ec037c112986d36b8ceb39e63610551b" category="paragraph">包含管理节点上受限管理端口和负载平衡器服务的日志，该服务可对从客户端到存储节点的 S3 和 Swift 流量进行负载平衡。</block>
  <block id="afd66f0f0f95d90ee6e3cef115dc465c" category="paragraph">` /var/local/log/persistence *`</block>
  <block id="89155b880c7f5a6f0d0bd8559f5b1072" category="paragraph">包含永久性服务的日志，该服务用于管理根磁盘上需要在重新启动后持续存在的文件。</block>
  <block id="f362462fb86bc002316b5964bb689cca" category="paragraph">` /var/local/log/Prometheus.log`</block>
  <block id="5db46c0ba2ab3b073f02a6e7e590990d" category="paragraph">对于所有节点，包含节点导出程序服务日志和 ade-exporter指标 服务日志。</block>
  <block id="a7d0b386f45eeb569f68196b709952ea" category="paragraph">对于管理节点，还包含 Prometheus 和警报管理器服务的日志。</block>
  <block id="7497c4771c6c9fac3502ee2b6781e393" category="paragraph">` /var/local/log/raf.log`</block>
  <block id="223b90e52a864570d68bbbec184fdc6f" category="paragraph">包含用于 raft 协议的 RSM 服务所使用的库的输出。</block>
  <block id="c6eddfe69cc5aa13027e73cbbe409ccd" category="paragraph">具有 RSM 服务的存储节点</block>
  <block id="cab9b7447423d15b70c59d5fe9e60358" category="paragraph">` /var/local/log/rms.errlog`</block>
  <block id="9121674fa330f7abc576cfdf8e819c1f" category="paragraph">包含用于 S3 平台服务的复制状态机服务（ RSM ）服务的日志。</block>
  <block id="a58b4c6160fab841ef3a5337f590e5b2" category="paragraph">` /var/local/log/sSM.errlog`</block>
  <block id="ff47aae45af47c6d599a03ec2af0211f" category="paragraph">` /var/local/log/update-s3vs-domains.log`</block>
  <block id="2a701398b26197aa8d9e248f2578f1ac" category="paragraph">包含与处理 S3 虚拟托管域名配置的更新相关的日志。请参见实施 S3 客户端应用程序的说明。</block>
  <block id="33d408d2ceb63da20efbf7fd0ac2c65f" category="paragraph">` /var/local/log/update-snmp-firewall.*`</block>
  <block id="0cc32593082bf7c2882db40ea5b11103" category="paragraph">包含与为 SNMP 管理的防火墙端口相关的日志。</block>
  <block id="cf762b40b98f8a8fdd9da96b1e38039a" category="paragraph">` /var/local/log/update-sysl.log`</block>
  <block id="888dcec0e28622824ba3fe82ee0abfea" category="paragraph">包含与对系统系统系统日志配置所做更改相关的日志。</block>
  <block id="ff81ca5d6238a0b2928cac3be09909f0" category="paragraph">` /var/local/log/update-traffic 类 .log`</block>
  <block id="ec89311174d2f5be5297f5461795c087" category="paragraph">包含与流量分类器配置更改相关的日志。</block>
  <block id="215f88f3282c8d9c461cd2b9f48568a2" category="paragraph">` /var/local/log/update-utcn/log`</block>
  <block id="ce7ff9a63d432450c626236b558ae988" category="paragraph">包含与此节点上的不可信客户端网络模式相关的日志。</block>
  <block id="2c5edc3d4bbfde51991a7a0f3fa7bedc" category="section-title">NMS 日志</block>
  <block id="30930469b42bea0865417e44de7e5eba" category="paragraph">` /var/local/log/NMS.log`</block>
  <block id="8431277fc7d1cad41bd60d877bfeef9b" category="list-text">从网格管理器和租户管理器捕获通知。</block>
  <block id="aec866b62cdaac544b05c2ea4d3f1662" category="list-text">捕获与 NMS 服务运行相关的事件，例如警报处理，电子邮件通知和配置更改。</block>
  <block id="b53fe30e27e158973c6f3610532c16c7" category="list-text">包含因系统中的配置更改而导致的 XML 包更新。</block>
  <block id="98df78f25bd88ba8590d732af9f043c2" category="list-text">包含与每天执行一次的属性缩减采样相关的错误消息。</block>
  <block id="a03eb7b3c9dc3c497d92274bbe12722e" category="list-text">包含 Java Web 服务器错误消息，例如页面生成错误和 HTTP 状态 500 错误。</block>
  <block id="a0607cb7a9c4faa8d972b7c12bf5ef55" category="paragraph">` /var/local/log/NMS.errlog`</block>
  <block id="ed0bb259ced318ba310dc9dce008ab80" category="paragraph">包含与 MySQL 数据库升级相关的错误消息。</block>
  <block id="72e68b6661ca433c3e50e1c859c2a341" category="paragraph">` /var/local/log/nms.requestlog`</block>
  <block id="8ac508bce54933ab919aa2d34408450c" category="paragraph">包含有关从管理 API 到内部 StorageGRID 服务的传出连接的信息。</block>
  <block id="e0e45fb10e6855ca539f6ac3bf4f1dcc" category="inline-xref-macro">关于 bycast.log</block>
  <block id="cfc608f78e45e48b6cca97ddc6c6bd67" category="paragraph"><block ref="cfc608f78e45e48b6cca97ddc6c6bd67" category="inline-xref-macro-rx"></block></block>
  <block id="64ceea52a70f7b8d008846d7929b9d1a" category="summary">所有客户端活动都与租户帐户相关联。您可以使用网格管理器监控租户的存储使用情况或网络流量，也可以使用审核日志或 Grafana 信息板收集有关租户如何使用 StorageGRID 的更多详细信息。</block>
  <block id="2a549a03bb6cdf1284d312600c24ef7e" category="doc">监控租户活动</block>
  <block id="3c7584d3e0253636ec1f191f8459e6a7" category="paragraph">所有客户端活动都与租户帐户相关联。您可以使用网格管理器监控租户的存储使用情况或网络流量，也可以使用审核日志或 Grafana 信息板收集有关租户如何使用 StorageGRID 的更多详细信息。</block>
  <block id="0b2445ee924c2461dede650f5a072170" category="list-text">您具有 root 访问权限或管理员权限。</block>
  <block id="a8392af0f04737aa4f8b1e05f3f96c38" category="admonition">已用空间值是估计值。这些估计值受载入时间，网络连接和节点状态的影响。</block>
  <block id="b2f9f234aa7ff20e67522a4479201054" category="list-text">选择 * 租户 * 可查看所有租户使用的存储量。</block>
  <block id="9bbdb0f691dcb9647850c9d1f4edb318" category="paragraph">系统会为每个租户列出已用逻辑空间，配额利用率，配额和对象计数。如果未为租户设置配额，则配额利用率和配额字段包含一个短划线（ &amp;#8212 ；）。</block>
  <block id="087c2de6ec270cc2a07db2350d590878" category="image-alt">租户帐户页面</block>
  <block id="e1bf5daf7d6aafdf9fabbcd56e404733" category="inline-image-macro">租户登录图标</block>
  <block id="93d095544f5e9a6aad4afc13a51810c0" category="paragraph">您可以通过选择登录链接登录到租户帐户 <block ref="18d34a9d1093ccad0864f0868154baa5" category="inline-image-macro-rx" type="image"></block> 在表的 * 登录 / 复制 URL* 列中。</block>
  <block id="6bbbeee6478bfef14fa42fb7f441d3af" category="inline-image-macro">租户副本 URL 图标</block>
  <block id="004ee4c8bb7285fab6787d6f2dd3319f" category="paragraph">您可以通过选择复制 URL 链接来复制租户登录页面的 URL <block ref="241d2b62f33b2be28c2b230f8660dbff" category="inline-image-macro-rx" type="image"></block> 在表的 * 登录 / 复制 URL* 列中。</block>
  <block id="1d65610d5b5051bbc3f6bb9cc2b7f034" category="list-text">或者，选择 * 导出到 CSV* 以查看和导出包含所有租户的使用量值的 .csv 文件。</block>
  <block id="6cfa8d6f3bf676f50d4c33a8816b57bb" category="paragraph">系统会提示您打开或保存 ` .csv` 文件。</block>
  <block id="854e90fdbb6a9deecbec3545fe342994" category="paragraph">.csv 文件的内容如下所示：</block>
  <block id="224785443a252100a40bde01a80fec95" category="image-alt">租户帐户示例 .csv</block>
  <block id="41383c11e973d5182c75e35f4d87c7c6" category="paragraph">您可以在电子表格应用程序中打开 .csv 文件，也可以在自动化环境中使用该文件。</block>
  <block id="1f2a3f521b38779d5b1681bf8b433c1b" category="list-text">要查看特定租户的详细信息，包括使用情况图表，请从租户页面中选择租户帐户名称。</block>
  <block id="ef3be2b02a0ec25bff7dc8346a8e4154" category="image-alt">租户使用模式</block>
  <block id="d916c07c4ad5580f764b6c290d10950e" category="list-text">* 租户概述 *</block>
  <block id="766e7c52b6d0292f2426489b4560c122" category="paragraph">租户的概述区域包含对象计数，配额利用率，已用逻辑空间和配额设置的值。</block>
  <block id="740c2c2d2ab17ee904134ecfa35060dc" category="list-text">* 空间细分 - 空间消耗 *</block>
  <block id="a2d87c75b6bc6e9fd761701ccec46647" category="paragraph">" 空间细分 " 选项卡包含分段（ S3 ）或容器（ Swift ）总空间消耗值以及每个分段或容器的已用空间和对象计数。</block>
  <block id="93c230195e818a14118f883054d19fba" category="paragraph">如果为此租户设置了配额，则已用配额量和剩余配额量将以文本形式显示（例如， `85.00 GB of 100 GB used` ）。如果未设置配额，则租户的配额为无限制，并且文本仅包含已用空间量（例如， `85.00 GB used` ）。条形图显示每个分段或容器中的配额百分比。如果租户超过存储配额 1% 以上且至少超过 1 GB ，则此图表将显示总配额和超额量。</block>
  <block id="2cc19a0ae9e7749df6ada62c400e7e1a" category="paragraph">您可以将光标置于条形图上方，以查看每个分段或容器使用的存储。您可以将光标置于可用空间段上方以查看剩余存储配额量。</block>
  <block id="ae39659aefc24e2d00c76e85cbdf4589" category="image-alt">租户存储分段使用情况条形图</block>
  <block id="582dfaafc3304e1ba8a5cb632e4a15b5" category="admonition">配额利用率基于内部估计值，在某些情况下可能会超出此值。例如，当租户开始上传对象时， StorageGRID 会检查配额，如果租户超过配额，则会拒绝新的载入。但是，在确定是否超过配额时， StorageGRID 不会考虑当前上传的大小。如果删除对象，则可能会暂时阻止租户上传新对象，直到重新计算配额利用率为止。配额利用率计算可能需要 10 分钟或更长时间。</block>
  <block id="f2b0875c67e1d7b09c062f478d55bdfb" category="admonition">租户的配额利用率表示租户已上传到 StorageGRID 的对象数据总量（逻辑大小）。配额利用率并不表示用于存储这些对象及其元数据副本的空间（物理大小）。</block>
  <block id="d3128337d91c710e80db0be49aa23557" category="admonition">您可以启用 * 租户配额使用量高 * 警报，以确定租户是否正在使用其配额。如果启用，则在租户已使用其配额的 90% 时触发此警报。有关详细信息，请参见警报参考。</block>
  <block id="7a2a39d796e1e68a6ad838709a8470e0" category="list-text">* 空间细分 - 分段或容器详细信息 *</block>
  <block id="0939e460b3b5159f22012ce8df3ac4bf" category="paragraph">* 分段详细信息 * （ S3 ）或 * 容器详细信息 * （ Swift ）表列出了租户的分段或容器。已用空间是指存储分段或容器中的对象数据总量。此值不表示 ILM 副本和对象元数据所需的存储空间。</block>
  <block id="a54afe5189e72e41dfab758f775e8a71" category="list-text">或者，也可以选择 * 导出到 CSV* 以查看和导出包含每个分段或容器的使用量值的 .csv 文件。</block>
  <block id="74152865e0bd2078fc741f6473a8a7de" category="paragraph">单个 S3 租户的 .csv 文件的内容如下所示：</block>
  <block id="c8c53933e249e89f0d36d6b1d9764054" category="image-alt">租户存储分段详细信息 CSV 示例</block>
  <block id="c549088494efd697345f3ff3607a9a57" category="list-text">如果某个租户已设置流量分类策略，请查看该租户的网络流量。</block>
  <block id="027e40d85661fc3597393c7734e4552c" category="list-text">查看策略列表以确定适用于特定租户的策略。</block>
  <block id="6f39752682a41cb3c99bb104aebb6c07" category="list-text">要查看与策略关联的指标，请选择策略左侧的单选按钮，然后单击 * 指标 * 。</block>
  <block id="f2e3531e4ea3523cc74d395967442a45" category="list-text">分析图形以确定策略限制流量的频率以及是否需要调整策略。</block>
  <block id="a2752288d94cfa1632cf3053dc6b4c72" category="paragraph">要创建，编辑或删除流量分类策略，请参见有关管理 StorageGRID 的说明。</block>
  <block id="df612784f0cfeb33a4adf545be276594" category="list-text">或者，也可以使用审核日志更精细地监控租户的活动。</block>
  <block id="6aaeecb6af1ebac77372e2de6c91f62f" category="paragraph">例如，您可以监控以下类型的信息：</block>
  <block id="5fd4f3781233cd1dada72f929a5e0668" category="list-text">特定客户端操作，例如 PUT ， GET 或 DELETE</block>
  <block id="df2fb97bb22114933cfaeded774986b5" category="list-text">对象大小</block>
  <block id="ac74722d1a073dcb0ccc40a62d513a2a" category="list-text">应用于对象的 ILM 规则</block>
  <block id="e50242f3b87750b5bdac83a932c42a74" category="list-text">客户端请求的源 IP</block>
  <block id="3e3942b44e38b7fd13a7188f1fc5148b" category="paragraph">审核日志会写入文本文件，您可以使用所选的日志分析工具进行分析。这样，您可以更好地了解客户活动，或者实施复杂的成本分摊和计费模式。</block>
  <block id="751fb162fb20e14aff18b8943a5582ff" category="paragraph">有关详细信息，请参见了解审核消息的说明。</block>
  <block id="fc6c38ab2dcd02bde187c9b7f5023ac9" category="list-text">或者，也可以使用 Prometheus 指标报告租户活动：</block>
  <block id="ba4a19285418383c9c2ee7ad4f5a7c02" category="list-text">在网格管理器中，选择 * 支持 * &gt; * 工具 * &gt; * 指标 * 。您可以使用现有信息板（如 S3 概述）查看客户端活动。</block>
  <block id="7126821c87fc8b20c776c83348a0ba85" category="admonition">指标页面上提供的工具主要供技术支持使用。这些工具中的某些功能和菜单项会有意失效。</block>
  <block id="e2a5b2e9dace3fcdc380f1d1295f67ab" category="list-text">从网格管理器的顶部，选择帮助图标并选择 * API Documentation" 。您可以使用网格管理 API 的 " 指标 " 部分中的指标为租户活动创建自定义警报规则和信息板。</block>
  <block id="2169dc3a2f383a6d1cedfbafc36fa7a4" category="summary">所有 StorageGRID 节点都会生成审核消息以跟踪系统活动和事件。您可以调整审核级别以增加或减少记录的审核消息的类型和数量。</block>
  <block id="363568846c3825d684bd4ceb5f7ac6f1" category="paragraph">审核消息和日志可记录系统活动和安全事件，是监控和故障排除的重要工具。您可以调整审核级别以增加或减少记录的审核消息的类型和数量。您也可以定义要包含在客户端读取和写入审核消息中的任何 HTTP 请求标头。您还可以配置外部系统日志服务器并更改审核信息的目标。</block>
  <block id="dc4720f6e38545a3ba5ec127477f463c" category="paragraph">有关审核消息的详细信息，请参见 <block ref="6678ff9ab033a73c5956a0530afa2bed" category="inline-xref-macro-rx"></block>。</block>
  <block id="7d69edddecb8c16a5bbaf64a4f2d3dc1" category="list-text">您具有维护或 root 访问权限。</block>
  <block id="16c2678674d99bd0a3940c50c1482a02" category="paragraph">所有 StorageGRID 节点都会生成审核消息和日志，以跟踪系统活动和事件。默认情况下，审核信息会发送到管理节点上的审核日志。您可以调整审核级别以增加或减少审核日志中记录的审核消息的类型和数量。您也可以将审核信息配置为发送到远程系统日志服务器或临时存储在源节点上以手动收集。</block>
  <block id="f70a31c1dd2bc0168e980495ccb7e56a" category="section-title">更改审核日志中的审核消息级别</block>
  <block id="3df5df0a85c70621ccc586930b88f995" category="paragraph">您可以为审核日志中的以下每种消息设置不同的审核级别：</block>
  <block id="68dc6d15871653f54f7220615ed02d95" category="cell">审核类别</block>
  <block id="a45da96d0bf6575970f2d27af22be28a" category="paragraph">系统</block>
  <block id="7483d9bdb3975c2dc4c182437bb694a4" category="inline-xref-macro">系统审核消息</block>
  <block id="310207a8309e80eb1c5382f2ed53edd7" category="paragraph">默认情况下，此级别设置为 " 正常 " 。请参见 <block ref="23bd9013b91f07f1c16b5304e8e86df5" category="inline-xref-macro-rx"></block>。</block>
  <block id="0f4511940e0cd310266a29e9b461e173" category="inline-xref-macro">对象存储审核消息</block>
  <block id="bd3f600db89def5dcfb342f8fe4672e9" category="paragraph">默认情况下，此级别设置为 Error 。请参见 <block ref="47f4ffe26508d2ed9117cfd6fe4a8773" category="inline-xref-macro-rx"></block>。</block>
  <block id="fe4dbcab9b910577e5035e97ac068dae" category="paragraph">管理</block>
  <block id="c712f7a33dc9d9aa1985ba3aeab59f9f" category="inline-xref-macro">管理审核消息</block>
  <block id="9220d8292c53784a45e30dfa86aa9b50" category="paragraph">默认情况下，此级别设置为 " 正常 " 。请参见 <block ref="b3aa77060afa0079443186bfefc1741b" category="inline-xref-macro-rx"></block>。</block>
  <block id="446d223b066dc78021ff717249641ee6" category="paragraph">客户端读取</block>
  <block id="7910252c6292646b3d3809a20882429e" category="inline-xref-macro">客户端读取审核消息</block>
  <block id="c16df120b6670b946e700c0023ac0040" category="paragraph">默认情况下，此级别设置为 " 正常 " 。请参见 <block ref="9278d16c2485326fef27ef2a70488c3f" category="inline-xref-macro-rx"></block>。</block>
  <block id="570a811802d81dc7a682e4b8c4ddee48" category="paragraph">客户端写入</block>
  <block id="94d6754b29d19d435756b66e70dd2abd" category="inline-xref-macro">客户端写入审核消息</block>
  <block id="632f75c7e90601fa4a52fe0b96c7e3cc" category="paragraph">默认情况下，此级别设置为 " 正常 " 。请参见 <block ref="b2ac13ab79050de5a314e7fe5a33d66b" category="inline-xref-macro-rx"></block>。</block>
  <block id="36d9faa40dea7bb868d1c2358d088585" category="admonition">如果您最初使用 10.3 或更高版本安装 StorageGRID ，则这些默认设置适用。如果您已从早期版本的 StorageGRID 升级，则所有类别的默认值均设置为正常。</block>
  <block id="1f4ec6fd3fd3103dcba446f594cc97cc" category="admonition">升级期间，审核级别配置不会立即生效。</block>
  <block id="2d4f7bb0dae026d9103598fdbec49160" category="list-text">选择 * 配置 * &gt; * 监控 * &gt; * 审核和系统日志服务器 * 。</block>
  <block id="d1ce6f575fcd9f4206a807c1728b11eb" category="image-alt">审核消息主页</block>
  <block id="af2ca729172557f8d06cba5e1f76aa3d" category="list-text">对于每个审核消息类别，从下拉列表中选择一个审核级别：</block>
  <block id="9a7300e866d4294dd432c97176ef413e" category="cell">审核级别</block>
  <block id="d15305d7a4e34e02489c74a5ef542f36" category="paragraph">关闭</block>
  <block id="de7ee5d5df1bc45f48c7889eb24bd7a5" category="paragraph">不会记录此类别中的任何审核消息。</block>
  <block id="902b0d55fddef6f8d651fe1035b7d4bd" category="paragraph">error</block>
  <block id="017cbf278ea0235fcc74ad85a524bc57" category="paragraph">仅会记录错误消息—审核结果代码不是 " 成功 " （ SUC ）的消息。</block>
  <block id="960b44c579bc2f6818d2daaf9e4c16f0" category="paragraph">正常</block>
  <block id="612853f26d88543e1c8fa82979a7a03f" category="paragraph">系统会记录标准事务处理消息，即这些说明中针对此类别列出的消息。</block>
  <block id="a603905470e2a5b8c13e96b579ef0dba" category="paragraph">调试</block>
  <block id="d66ea19baa7705ee7e5e12e219738636" category="paragraph">已弃用。此级别的行为与正常审核级别相同。</block>
  <block id="c5b0483b1ad6a435805d22fe1e89a0a4" category="paragraph">对于任何特定级别，包含的消息都包括那些将在较高级别记录的消息。例如，正常级别包括所有错误消息。</block>
  <block id="3f6f8ce48c1b805c15137e49d36c122e" category="list-text">或者，在 * 审核协议标头 * 下，定义要包含在客户端读取和写入审核消息中的任何 HTTP 请求标头。使用星号（ \* ）作为通配符，以匹配零个或多个字符。使用转义序列（ \* ）匹配文字星号。</block>
  <block id="2b12634cde5f844541692751b72e7c50" category="admonition">审核协议标头仅适用于 S3 和 Swift 请求。</block>
  <block id="9d1e6a94bc0d0fabf655a4392b69b71b" category="list-text">如果需要，选择 * 添加另一个标题 * 以创建其他标题。</block>
  <block id="a93dfbe1ade38b97fd4fb3a000cd4ad3" category="paragraph">在请求中找到 HTTP 标头后，它们将包含在审核消息中的字段 HTRH 下。</block>
  <block id="ed364346251373c3d9814822f46be568" category="admonition">只有当 * 客户端读取 * 或 * 客户端写入 * 的审核级别不是 * 关闭 * 时，才会记录审核协议请求标头。</block>
  <block id="969d795be0732afa7c8d6bc59c89a090" category="list-text">选择 * 保存 *</block>
  <block id="47d99c4ca43654f1250962628905d092" category="paragraph">此时将显示一个绿色横幅，指示您的配置已成功保存。</block>
  <block id="6b81bf3ed5d0c3815e927adc21f19bd5" category="section-title">使用外部系统日志服务器</block>
  <block id="5ae15ac3b69504cfcd41c5200c522617" category="paragraph">如果要远程保存审核信息，可以配置外部系统日志服务器。</block>
  <block id="8c6881731394c4c14d4f30822f69401f" category="inline-xref-macro">配置外部系统日志服务器</block>
  <block id="1d760cf9b3700fe23d28ff4fea571389" category="list-text">如果要将审核信息保存到外部系统日志服务器，请转至 <block ref="d7123583c2aa37e46ea3d0a500ec8620" category="inline-xref-macro-rx"></block>。</block>
  <block id="9dbccc9978bf7a6cd6f61454ca3dd73d" category="inline-xref">选择审核信息目标</block>
  <block id="162a036371b723e41d39b086030443c5" category="list-text">如果您不使用外部系统日志服务器，请转至 <block ref="87072221f37d4bc0cc02a909f99f56e5" category="inline-xref-macro-rx"></block>。</block>
  <block id="4838d84ef4c2286904864d9a08b1bafe" category="paragraph">您可以指定将审核日志，安全事件日志和应用程序日志发送到何处。</block>
  <block id="b5c2b776891e71f46a57ab83c513fcd4" category="admonition">只有在使用外部系统日志服务器时，某些目标才可用。请参见 <block ref="d7123583c2aa37e46ea3d0a500ec8620" category="inline-xref-macro-rx"></block> 配置外部系统日志服务器。</block>
  <block id="aa8307c648ccd5390c4a48fe2f0c9b44" category="admonition">有关 StorageGRID 软件日志的详细信息，请参见 <block ref="77dd1d716bbc5c24517cbadae913d084" category="inline-xref-macro-rx"></block>。</block>
  <block id="43faa036cb22117dff5c78001213ef24" category="list-text">在 Audit and syslog server 页面上，从列出的选项中选择审核信息的目标：</block>
  <block id="2c6208cfc20ee2ff253e019eb06045f3" category="paragraph">默认（管理节点 / 本地节点）</block>
  <block id="cf12f4eb637edaf6b8956dc68e61094a" category="paragraph">审核消息会发送到管理节点上的审核日志（`audit.log` ），而安全事件日志和应用程序日志会存储在生成它们的节点（也称为 " 本地节点 " ）上。</block>
  <block id="50ea2454931a155c2505f19e549486ff" category="paragraph">外部系统日志服务器</block>
  <block id="d6221e84832d85757958610cbae34879" category="paragraph">审核信息将发送到外部系统日志服务器并保存在本地节点上。发送的信息类型取决于您配置外部系统日志服务器的方式。只有在配置了外部系统日志服务器之后，才会启用此选项。</block>
  <block id="b43d00e439104a2a74c665f36b98b78d" category="paragraph">管理节点和外部系统日志服务器</block>
  <block id="795afd2e3d8004b76e1a38a855d57b99" category="paragraph">审核消息会发送到管理节点上的审核日志（`audit.log` ），审核信息会发送到外部系统日志服务器并保存在本地节点上。发送的信息类型取决于您配置外部系统日志服务器的方式。只有在配置了外部系统日志服务器之后，才会启用此选项。</block>
  <block id="fdb2bf60b14a38fc76e2aa2751ab1fee" category="paragraph">仅限本地节点</block>
  <block id="7c014d86de7707d36ea38b96970109f0" category="paragraph">不会向管理节点或远程系统日志服务器发送任何审核信息。审核信息仅保存在生成该信息的节点上。</block>
  <block id="81da46a822c3d41f2a5329f9b2dd2765" category="paragraph">* 注 * ： StorageGRID 会定期轮换删除这些本地日志以释放空间。当节点的日志文件达到 1 GB 时，系统将保存现有文件并启动新的日志文件。日志的轮换限制为 21 个文件。创建日志文件的第 22 版时，将删除最早的日志文件。每个节点平均存储约 20 GB 的日志数据。</block>
  <block id="015a49ed70ecb8e93b1754e0e31e1fde" category="admonition">在每个本地节点上生成的审核信息存储在 ` /var/local/log/localaudit.log` 中</block>
  <block id="44ee1d8b09546ab1a5b307ac70d910bb" category="paragraph">此时将显示一条警告消息：</block>
  <block id="04a02a5c0863935d1d3de0a70851a714" category="admonition">是否更改日志目标？</block>
  <block id="9ca20f8379effa25da410ec0cc1a4a31" category="list-text">选择 * 确定 * 以确认要更改审核信息的目标。</block>
  <block id="49e72f270a1554c2e4c5cb06b0bb991b" category="paragraph">此时将显示一个绿色横幅，通知您已成功保存审核配置。</block>
  <block id="8b51293f81004c349be339bcd18267f0" category="paragraph">新日志将发送到选定的目标。现有日志将保留在其当前位置。</block>
  <block id="e0fd4fa1e4d5a66ad85ca1b9e5a68c0e" category="inline-xref-macro">外部系统日志服务器的注意事项</block>
  <block id="9180d6862535cf4500c0521a9c7bd081" category="paragraph"><block ref="9180d6862535cf4500c0521a9c7bd081" category="inline-xref-macro-rx"></block></block>
  <block id="6a8795d51388249af64eddc9ab78e8d8" category="inline-xref-macro">对外部系统日志服务器进行故障排除</block>
  <block id="77ca6508e21cfcda0a778ad17075116d" category="paragraph"><block ref="77ca6508e21cfcda0a778ad17075116d" category="inline-xref-macro-rx"></block></block>
  <block id="9d9ff624ec8745ca97420dd9200d1ef4" category="summary">对象数据存储空间 * 不足警报可监控每个存储节点上可用于存储对象数据的空间量。</block>
  <block id="00d3ea2328b059857a71cce25b12f03b" category="paragraph">如果存储节点上复制和擦除编码的对象数据总量满足警报规则中配置的条件之一，则会触发 * 对象数据存储空间不足 * 警报。</block>
  <block id="acea0d7d9f35ae10547c7c3debad87b5" category="paragraph">默认情况下，如果此情况评估为 true ，则会触发重大警报：</block>
  <block id="4cea76ec9a62ee048316984426020a2f" category="paragraph">在这种情况下：</block>
  <block id="30e07f806424ac89f25ff08b4d26882a" category="list-text">`storagegRid_storage_utilization_data_bytes` 是对存储节点的已复制和擦除编码对象数据总大小的估计值。</block>
  <block id="0d10f52e3ac07cb6efce854c7cee569b" category="list-text">`storagegRid_storage_utilization_usable_space_bytes` 是存储节点剩余的对象存储空间总量。</block>
  <block id="7b85af319a72fdd764ec0fd314d9e5ae" category="paragraph">如果触发主要或次要的 * 对象数据存储空间不足 * 警报，则应尽快执行扩展操作步骤 。</block>
  <block id="9d425c6001c325d2240cf2219c5c8111" category="paragraph">此时将显示警报页面。</block>
  <block id="a7ef6f53369a4a367a910d24652f4f8f" category="list-text">如果需要，从警报表中展开 * 对象数据存储空间不足 * 警报组，然后选择要查看的警报。</block>
  <block id="043d028a35b42d100d2f7dcf8b2ecf15" category="admonition">选择警报，而不是一组警报的标题。</block>
  <block id="343de9cf952a6973eff90fae25cf5ad5" category="list-text">查看对话框中的详细信息，并注意以下事项：</block>
  <block id="d56df4a34be2de632eec2062b8cfa9ac" category="list-text">站点和节点的名称</block>
  <block id="cccfa18de56a7ae0b4374a7878e0ad3f" category="list-text">此警报的指标的当前值</block>
  <block id="8920900af2dabaaa66ed6119407cd6a5" category="list-text">选择 * 节点 * &gt; * 存储节点或站点 _* &gt; * 存储 * 。</block>
  <block id="ac216b64e9a37bfea1640a9ecc7635c7" category="list-text">将光标悬停在 "Storage Used - Object Data" 图上。</block>
  <block id="a9d9d742357784c96043906975025ec2" category="list-text">选择图形上方的时间控件可查看不同时间段的存储使用情况。</block>
  <block id="ffad7fe3fb329d1fde7300d16c22f433" category="paragraph">查看一段时间内的存储使用量有助于您了解触发警报前后的存储使用量，并有助于您估计节点的剩余空间可能需要多长时间才能达到全满状态。</block>
  <block id="7abb0c24b45810390a8f9dcd3d973bd6" category="list-text">请尽快执行扩展操作步骤 以添加存储容量。</block>
  <block id="8b017dacf52e9f6684e8fbdf4d5a4446" category="paragraph">您可以向现有存储节点添加存储卷（ LUN ），也可以添加新的存储节点。</block>
  <block id="c03505f82c1cd1bbae239b5b6072f8c6" category="admonition">要管理完整的存储节点，请参见有关管理 StorageGRID 的说明。</block>
  <block id="de84cc8f4755fffa5776d55ed5bc7ce8" category="summary">请按照以下准则估算外部系统日志服务器所需的容量。</block>
  <block id="e24aaa658c92a8a495a5adc7e198e4b8" category="paragraph">请按照以下准则估算所需外部系统日志服务器的大小。</block>
  <block id="3fcef10db30d0fbf8419f4b81bca6823" category="section-title">什么是外部系统日志服务器？</block>
  <block id="82f0526611440e45e6fe4be0c64671f3" category="paragraph">外部系统日志服务器是 StorageGRID 外部的服务器，您可以使用它在一个位置收集系统审核信息。通过使用外部系统日志服务器，您可以配置审核信息的目标，以便减少管理节点上的网络流量并更高效地管理信息。可以发送到外部系统日志服务器的审核信息类型包括：</block>
  <block id="8520ac2e084f8af10a6ce22d4b61fbfa" category="list-text">包含在正常系统操作期间生成的审核消息的审核日志</block>
  <block id="2024520775703a87ecdd249a34146d89" category="list-text">与安全相关的事件，例如登录和上报给 root</block>
  <block id="f94efb86360e0b2eb7553603856b2226" category="list-text">如果需要创建支持案例以对遇到的问题描述 进行故障排除，则可能需要请求的应用程序日志</block>
  <block id="8e89b2c938e99afa5823628fd6165a35" category="section-title">如何估算外部系统日志服务器的大小</block>
  <block id="ce32cf4d24cc733269959d7b190b0d1c" category="paragraph">通常，您的网格会进行规模估算，以达到所需的吞吐量，该吞吐量是按每秒 S3 操作数或每秒字节数定义的。例如，您可能要求网格每秒处理 1 ， 000 次 S3 操作，或者每秒处理 2 ， 000 MB 的对象载入和检索。您应根据网格的数据要求调整外部系统日志服务器的大小。</block>
  <block id="d16edfd43815298860ed28382f7cf993" category="paragraph">本节提供了一些启发式公式，可帮助您估算外部系统日志服务器需要能够处理的各种类型的日志消息的速率和平均大小，这些消息以网格的已知或所需性能特征（每秒 S3 操作数）表示。</block>
  <block id="f261755426c9a5a7d74f915a17bbec8e" category="section-title">在估计公式中使用每秒 S3 操作数</block>
  <block id="0eef5c7cf0e0a30bb7b991c03b4a8234" category="paragraph">如果网格的大小以每秒字节为单位表示，则必须将此规模估算转换为每秒 S3 操作，才能使用估算公式。要转换网格吞吐量，您必须先确定平均对象大小，您可以使用现有审核日志和指标（如果有）中的信息或根据您对将使用 StorageGRID 的应用程序的了解来确定平均对象大小。例如，如果您的网格大小调整为可实现 2 ， 000 MB/ 秒的吞吐量，而您的平均对象大小为 2 MB ，则您的网格大小将调整为能够每秒处理 1 ， 000 次 S3 操作（ 2 ， 000 MB/ 2 MB ）。</block>
  <block id="d6628f897039d71fff448eca96f32b42" category="admonition">以下各节中用于估算外部系统日志服务器规模的公式提供了常见案例估算（而不是最坏案例估算）。根据您的配置和工作负载，您可能会发现系统日志消息或系统日志数据卷的速率高于或低于公式的预测。这些公式仅供参考。</block>
  <block id="db95c8410e77480d46c453e43bad7085" category="section-title">审核日志的估计公式</block>
  <block id="6977a2a3b4ebd1a9e1fd6386551721b6" category="paragraph">如果除了网格应支持的每秒 S3 操作数之外，您没有其他有关 S3 工作负载的信息，则可以使用以下公式估算外部系统日志服务器需要处理的审核日志卷， 假设您将审核级别设置为默认值（所有类别均设置为正常，但存储设置为错误除外）：</block>
  <block id="7f4d7cd25be61162f308520d7aaa0355" category="paragraph">例如，如果网格的大小为每秒 1 ， 000 次 S3 操作，则外部系统日志服务器的大小应为每秒支持 2 ， 000 条系统日志消息，并且应能够以每秒 1.6 MB 的速率接收（并且通常存储）审核日志数据。</block>
  <block id="082fa2d6a0e188c6319ad9a7135d8e6a" category="paragraph">如果您对工作负载有更多了解，可以进行更准确的估计。对于审核日志，最重要的附加变量是放置的 S3 操作的百分比（与获取）以及以下 S3 字段的平均大小（以字节为单位）（表中使用的 4 个字符缩写为审核日志字段名称）：</block>
  <block id="3a54b983fb02d18ece78ba99e7b476c4" category="paragraph">SACC</block>
  <block id="b9e849c2d9f9f0b6fd12b581805e21b6" category="paragraph">S3 租户帐户名称（请求发件人）</block>
  <block id="6eab99d763091c67242e37afc4b926cc" category="paragraph">发送请求的用户的租户帐户名称。匿名请求为空。</block>
  <block id="959197f0c64db8bced9b3132fa795ec3" category="paragraph">SBAC</block>
  <block id="ccd2132c3cc2f50d7d49a6f5fd08c2f7" category="paragraph">S3 租户帐户名称（存储分段所有者）</block>
  <block id="ca510cfa2c412017369f49b4af89d8b4" category="paragraph">存储分段所有者的租户帐户名称。用于标识跨帐户或匿名访问。</block>
  <block id="569eaec930100bff5f8bf6ad11ce2228" category="paragraph">S3BK</block>
  <block id="84ace9fb8e132c96d1dfcd31447efedc" category="paragraph">S3 存储分段</block>
  <block id="8a28065939edb065dca8e0c1bcba0101" category="paragraph">S3 存储分段名称。</block>
  <block id="595954bce4f87bf4acfae5e7b0b83056" category="paragraph">S3KY</block>
  <block id="9d53107db1d750ee30af1cff9d18ada2" category="paragraph">S3 密钥</block>
  <block id="088516ee6c158484e74ec4612b7ccc33" category="paragraph">S3 密钥名称，不包括存储分段名称。存储分段上的操作不包括此字段。</block>
  <block id="1f617db168c0b7285cfb5d06985c171a" category="paragraph">让我们使用 P 表示所放置的 S3 操作的百分比，其中 0 ≤ P ≤ 1 （因此，对于 100% PUT 工作负载， P = 1 ，对于 100% GET 工作负载， P = 0 ）。</block>
  <block id="c41bfbb23fc320faa4d9bbde49fee98b" category="paragraph">我们使用 K 表示 S3 帐户名称， S3 Bucket 和 S3 密钥之和的平均大小。假设 S3 帐户名始终为 my-s3-account （ 13 字节），存储分段的名称长度固定，例如 /my/application/bucket-12345 （ 28 字节），而对象的密钥长度固定，例如 5733a5d7-f069-41ef-8fbd-13247494c69c （ 36 字节）。然后， K 值为 90 （ 13+13+28+36 ）。</block>
  <block id="88f257165fcbc064c0d0d805b572632c" category="paragraph">如果您可以确定 P 和 K 的值，则可以使用以下公式估算外部系统日志服务器需要处理的审核日志卷，前提是您将审核级别设置为默认值（除存储外的所有类别均设置为正常）。 设置为 Error ）：</block>
  <block id="ffcc3da4b6a837fffa7ae205ada53ba1" category="paragraph">例如，如果您的网格大小为每秒 1 ， 000 次 S3 操作，则工作负载将占 50% ， S3 帐户名称，存储分段名称， 对象名称平均为 90 字节，您的外部系统日志服务器应调整大小以支持每秒 1 ， 500 条系统日志消息，并且应能够以大约每秒 1 MB 的速率接收（并且通常存储）审核日志数据。</block>
  <block id="6f864b0d2ffcf24c66cc392dcec2bb77" category="section-title">非默认审核级别的估计公式</block>
  <block id="d0391e4fd03823deff83bd09e331f342" category="paragraph">为审核日志提供的公式假定使用默认审核级别设置（所有类别均设置为 " 正常 " ，但存储设置为 " 错误 " 除外）。无法使用详细的公式来估算非默认审核级别设置的审核消息的速率和平均大小。但是，可以使用下表粗略估算此速率； 您可以使用为审核日志提供的平均大小公式，但请注意，这可能会导致过度估计，因为 " 额外 " 审核消息平均小于默认审核消息。</block>
  <block id="313a6a3d25aa041ee3dc3cbd65d4f22b" category="cell">公式</block>
  <block id="a94632cb1d48ce648e0ca5e837f6d53b" category="paragraph">Replication ： Audit Levels all set to Debug or Normal</block>
  <block id="f98bce96ea8ed8bbc2e3163c6ac90d98" category="paragraph">审核日志速率 = 8 x S3 操作速率</block>
  <block id="9272ef94e6a5f72fb665ecc20c230419" category="paragraph">纠删编码：审核级别均设置为 " 调试 " 或 " 正常 "</block>
  <block id="990bb15c572cf57ddd85d3bfcd8ba5af" category="paragraph">使用与默认设置相同的公式</block>
  <block id="5fa501041232a5e22cd951e10adcb934" category="section-title">安全事件的估计公式</block>
  <block id="c49daacafa461d049188d4e346405cd1" category="paragraph">安全事件与 S3 操作无关，通常会生成可忽略不计的日志和数据卷。出于这些原因，不提供任何估计公式。</block>
  <block id="c13a076fb27d8e1bd38232aa9e737414" category="section-title">应用程序日志的估计公式</block>
  <block id="34e10db12547f175dddbc95d3f2690c4" category="paragraph">如果除了网格预期支持的每秒 S3 操作数之外，您没有其他有关 S3 工作负载的信息，则可以使用以下公式估算外部系统日志服务器需要处理的应用程序日志卷：</block>
  <block id="51db33e234286e7801a975e7f53600c7" category="paragraph">因此，例如，如果网格的大小为每秒 1 ， 000 次 S3 操作，则外部系统日志服务器的大小应为每秒支持 3 ， 300 个应用程序日志，并且能够以大约每秒 1.2 MB 的速率接收（和存储）应用程序日志数据。</block>
  <block id="4ed21b5dc55ab4ce609027b09cd703a8" category="paragraph">如果您对工作负载有更多了解，可以进行更准确的估计。对于应用程序日志，最重要的附加变量是数据保护策略（复制与纠删编码），所执行 S3 操作的百分比（与GES/OTHER其他 ）以及以下 S3 字段的平均大小（以字节为单位）（表中使用的 4 个字符缩写是审核日志字段名称）：</block>
  <block id="f0ea89064dd689d64eafe5673110c555" category="section-title">规模估算示例</block>
  <block id="3f98c3f5c7dbe01fdac02ae2ae214ff9" category="paragraph">本节介绍了如何使用网格估算公式和以下数据保护方法的示例案例：</block>
  <block id="8c340dc334134096f68b880b42a8692c" category="list-text">Replication</block>
  <block id="038afeba6c37ac285797839cd2f53aff" category="list-text">纠删编码</block>
  <block id="76badb8a17c879fc859a65b83ccbf312" category="section-title">如果使用复制来保护数据</block>
  <block id="0e25f87579d32ba726b2c2b2b725468b" category="paragraph">Let P 表示所放置的 S3 操作的百分比，其中 0 ≤ P ≤ 1 （因此，对于 100% PUT 工作负载， P = 1 ，对于 100% GET 工作负载， P = 0 ）。</block>
  <block id="365d25113d6486bfdaf74636ba3da6a8" category="paragraph">让 K 表示 S3 帐户名称， S3 Bucket 和 S3 密钥之和的平均大小。假设 S3 帐户名始终为 my-s3-account （ 13 字节），存储分段的名称长度固定，例如 /my/application/bucket-12345 （ 28 字节），而对象的密钥长度固定，例如 5733a5d7-f069-41ef-8fbd-13247494c69c （ 36 字节）。K 的值为 90 （ 13+13+28+36 ）。</block>
  <block id="25b4fe0b5d3a56f7c70ed61768e75432" category="paragraph">如果您可以确定 P 和 K 的值，则可以使用以下公式估算外部系统日志服务器必须能够处理的应用程序日志卷。</block>
  <block id="c64849cf8d1a56459538c3245a6abac1" category="paragraph">因此，例如，如果网格的大小为每秒 1 ， 000 次 S3 操作，工作负载占用率为 50% ， S3 帐户名称，存储分段名称和对象名称平均为 90 字节，则外部系统日志服务器的大小应为每秒支持 1800 个应用程序日志。 并且将以每秒 0.5 MB 的速率接收（并通常存储）应用程序数据。</block>
  <block id="6a039660d1703bd3bf528856093f41f2" category="section-title">如果您使用纠删编码进行数据保护</block>
  <block id="0178fffc93a8254f2981f4b9331293ca" category="paragraph">让 K 表示 S3 帐户名称， S3 Bucket 和 S3 密钥之和的平均大小。假设 S3 帐户名始终为 my-s3-account （ 13 字节），存储分段的名称长度固定，例如 /my/application/bucket-12345 （ 28 字节），而对象的密钥长度固定，例如 5733a5d7-f069-41ef-8fbd-13247494c69c （ 36 字节）。K 的值为 90 （ 13+13+28+36 ）。</block>
  <block id="a3d7fafa0b1081b4105b69f6e1c67db5" category="paragraph">因此，例如，如果您的网格大小为每秒 1 ， 000 次 S3 操作，则您的工作负载为 50% ， S3 帐户名称，存储分段名称， 对象名称平均为 90 字节，您的外部系统日志服务器应调整大小以支持每秒 2 ， 250 个应用程序日志，并且应能够以每秒 0.6 MB 的速率接收并将其存储。</block>
  <block id="8af65afff2c3a91dfde4b6dcf638e26e" category="paragraph">有关配置审核消息级别和外部系统日志服务器的详细信息，请参见以下内容：</block>
  <block id="d7123583c2aa37e46ea3d0a500ec8620" category="list-text"><block ref="d7123583c2aa37e46ea3d0a500ec8620" category="inline-xref-macro-rx"></block></block>
  <block id="ae288695ae0d1fa43aff6e30548d4024" category="list-text"><block ref="ae288695ae0d1fa43aff6e30548d4024" category="inline-xref-macro-rx"></block></block>
  <block id="463ac2bedc2f237c0608b38b9f389b7f" category="summary">您可能需要禁用 SNMP 通知，更新社区字符串，或者添加或删除代理地址， USM 用户和陷阱目标。</block>
  <block id="f7268ee2b17d46ae4d79567ff1886312" category="doc">更新 SNMP 代理</block>
  <block id="d266888ab0169b002b61c42be8cc8520" category="list-text">您必须具有 root 访问权限。</block>
  <block id="2e13d5f4724c69dff7db656be7f31131" category="inline-xref-macro">SNMP 代理配置</block>
  <block id="2920c1a419c290fd1ba431767cf220c3" category="paragraph">更新时 <block ref="c5ccd565075f6c0d41e26de7a0f05f5a" category="inline-xref-macro-rx"></block>，请注意，您必须单击 SNMP 代理页面底部的 * 保存 * 以提交对每个选项卡所做的任何更改。</block>
  <block id="d6e20a6391bb603730e0d35b141c7660" category="list-text">如果要在所有网格节点上禁用 SNMP 代理，请取消选中 * 启用 SNMP* 复选框，然后单击 * 保存 * 。</block>
  <block id="3eb4aecc85335f15e8397bdddcb87eb7" category="paragraph">已对所有网格节点禁用 SNMP 代理。如果稍后重新启用代理，则会保留先前的任何 SNMP 配置设置。</block>
  <block id="fd0591495daaad3a8a5838e6595a92b1" category="list-text">或者，更新您为 * 系统联系人 * 和 * 系统位置 * 输入的值。</block>
  <block id="4fc4a665b8686b614aad655f5b764d6f" category="list-text">如果您不再希望 StorageGRID SNMP 代理发送陷阱并通知通知，也可以取消选中 * 启用 SNMP 代理通知 * 复选框。</block>
  <block id="7f1e7d804f95344e14054efd86e247cf" category="paragraph">取消选中此复选框后， SNMP 代理支持只读 MIB 访问，但不会发送任何 SNMP 通知。</block>
  <block id="1977295940d114a629e64cce39853360" category="list-text">或者，如果您不再希望 StorageGRID SNMP 代理在收到未经正确身份验证的协议消息时发送身份验证陷阱，请取消选中 * 启用身份验证陷阱 * 复选框。</block>
  <block id="f804c23b54ad3ec9e4e11193458ee780" category="list-text">如果您使用 SNMPv1 或 SNMPv2c ，也可以更新社区字符串部分。</block>
  <block id="5cdfc8ca76e0dfc46aea24213c6d813b" category="admonition">如果要删除默认社区字符串，必须首先确保所有陷阱目标都使用自定义社区字符串。</block>
  <block id="ff3bf90e7bdf37febc515da3c5e85010" category="list-text">如果要更新代理地址，请选择其他配置部分中的代理地址选项卡。</block>
  <block id="92a510a90d5383c2f17e860880ef21b2" category="paragraph">使用此选项卡指定一个或多个 "`侦听地址。` " 这些是 SNMP 代理可以接收查询的 StorageGRID 地址。每个代理地址都包括一个 Internet 协议，一个传输协议，一个 StorageGRID 网络和一个端口。</block>
  <block id="eaa04147ca1f544e6ca3efff575612ef" category="list-text">要添加代理地址，请单击 * 创建 * 。然后，请参见有关配置 SNMP 代理的说明中的代理地址步骤。</block>
  <block id="818dee13b01e17a5de818bddae477d07" category="list-text">要编辑代理地址，请选择该地址的单选按钮，然后单击 * 编辑 * 。然后，请参见有关配置 SNMP 代理的说明中的代理地址步骤。</block>
  <block id="0906986d3017b3b1e8e54c899ca56416" category="list-text">要删除代理地址，请选择该地址的单选按钮，然后单击 * 删除 * 。然后，单击 * 确定 * 以确认要删除此地址。</block>
  <block id="34e2f2111c6fd6a999b7dab54e94c24c" category="list-text">要提交更改，请单击 SNMP 代理页面底部的 * 保存 * 。</block>
  <block id="898d3a2c8a353c2975a22fbffc1423b8" category="list-text">如果要更新 USM 用户，请在其他配置部分中选择 USM 用户选项卡。</block>
  <block id="a5867aca59bebc0d22e01d716e8da18a" category="list-text">要添加 USM 用户，请单击 * 创建 * 。然后，请参见配置 SNMP 代理的说明中适用于 USM 用户的步骤。</block>
  <block id="ee59b66d50539baf29ac31c4aad41bd9" category="list-text">要编辑 USM 用户，请选择该用户的单选按钮，然后单击 * 编辑 * 。然后，请参见配置 SNMP 代理的说明中适用于 USM 用户的步骤。</block>
  <block id="803694a7b99c417992ec5e52edb59866" category="paragraph">无法更改现有 USM 用户的用户名。如果需要更改用户名，必须删除此用户并创建新用户名。</block>
  <block id="977031bae6528c6afa4cb99259b4400b" category="inline-xref">SNMP 陷阱目标</block>
  <block id="1aafc249dcdc3e24a5cece576bca8856" category="admonition">如果您添加或删除用户的权威引擎 ID ，并且当前已选择该用户作为目标，则必须按照步骤中所述编辑或删除该目标 <block ref="d95660b4bdeeace52f61ee1f7edb33b7" category="inline-xref-macro-rx"></block>。否则，在保存 SNMP 代理配置时会发生验证错误。</block>
  <block id="3f116302ad2c49930d156b6c88a67ca6" category="list-text">要删除 USM 用户，请选择该用户的单选按钮，然后单击 * 删除 * 。然后，单击 * 确定 * 以确认要删除此用户。</block>
  <block id="4a2a7569c2accdf4b9ca34aea49ee612" category="admonition">如果当前已为陷阱目标选择删除的用户，则必须按照步骤中所述编辑或删除此目标 <block ref="d95660b4bdeeace52f61ee1f7edb33b7" category="inline-xref-macro-rx"></block>。否则，在保存 SNMP 代理配置时会发生验证错误。</block>
  <block id="feb5fecdf35bfa234488341a5417add0" category="image-alt">SNMP USM 用户删除错误</block>
  <block id="a3c8b9f587bac1745426df0ce28ab888" category="list-text">【 SNMP 陷阱目标， start=9]] 如果要更新陷阱目标，请选择其他配置部分中的陷阱目标选项卡。</block>
  <block id="ea2242f2c4fdefe1d2f47a9970f665dc" category="list-text">要添加陷阱目标，请单击 * 创建 * 。然后，请参见配置 SNMP 代理的说明中有关陷阱目标的步骤。</block>
  <block id="c80d8fb0f8eeb762f9aadd77c25baa99" category="list-text">要编辑陷阱目标，请选择用户的单选按钮，然后单击 * 编辑 * 。然后，请参见配置 SNMP 代理的说明中有关陷阱目标的步骤。</block>
  <block id="59c6044d3b9fb2ab12d26b14a3765c01" category="list-text">要删除陷阱目标，请选择目标的单选按钮，然后单击 * 删除 * 。然后，单击 * 确定 * 以确认要删除此目标。</block>
  <block id="ecd78f6712bc1b39bc5e87dc67570343" category="list-text">更新 SNMP 代理配置后，单击 * 保存 * 。</block>
  <block id="a35c2334833654440c2e897367d5ce4e" category="summary">如果您在尝试使用 Web 浏览器， S3 或 Swift 客户端或外部监控工具连接到 StorageGRID 时看到安全或证书问题描述 ，则应检查此证书。</block>
  <block id="c0ab456f0abef06dc0935c0f2309e8e9" category="doc">对证书错误进行故障排除</block>
  <block id="9071537f8af632291412a2031ffad3a1" category="paragraph">尝试使用网格管理器，网格管理 API ，租户管理器或租户管理 API 连接到 StorageGRID 时，证书错误可能会出现发生原因 问题。尝试连接到 S3 或 Swift 客户端或外部监控工具时，也可能发生证书错误。</block>
  <block id="41d936fd3218a39de4125b6921531e0f" category="paragraph">如果您要使用域名而非 IP 地址访问网格管理器或租户管理器，则在发生以下任一情况时，浏览器将显示证书错误，并且无法绕过此错误：</block>
  <block id="129de59be14d023e4608f78ab901d161" category="list-text">您的自定义管理接口证书将过期。</block>
  <block id="da6ea3f5fe758046799fa6ebdc86f72d" category="list-text">您可以从自定义管理接口证书还原到默认服务器证书。</block>
  <block id="a8af658a5d9e19491abd8d8b35b3071e" category="paragraph">以下示例显示了自定义管理接口证书过期时的证书错误：</block>
  <block id="5856eedac42266c29b7573bb7e6075de" category="image-alt">证书错误示例</block>
  <block id="573c6c50d4d235f3982d7dc91032e69b" category="paragraph">为了确保操作不会因服务器证书失败而中断，当服务器证书即将过期时，将触发 * 管理接口的服务器证书到期 * 警报。</block>
  <block id="2defc8298f4c919f6617ee4f42e071d3" category="paragraph">在使用客户端证书进行外部 Prometheus 集成时，证书错误可能是由 StorageGRID 管理接口证书或客户端证书引起的。当客户端证书即将过期时，将触发 " 证书 " 页面上配置的 * 客户端证书到期 * 警报。</block>
  <block id="42e5888a8f46b1ea597ab1ff9cf1d704" category="inline-xref-macro">选择相应的证书选项卡</block>
  <block id="d04e695163b4088b4b9985fb10088228" category="paragraph">如果您收到有关证书已过期的警报通知，请访问证书详细信息：。选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * ，然后选择 <block ref="3f4a2f8d05b29cf467820d2bac722ff2" category="inline-xref-macro-rx"></block>。</block>
  <block id="1adb2bfe7397039eb9c65d1f9e087a38" category="list-text">检查证书的有效期。+ 某些 Web 浏览器以及 S3 或 Swift 客户端不接受有效期超过 398 天的证书。</block>
  <block id="aa89cc7f21ac5b7f8c109ac858575bbf" category="list-text">如果证书已过期或即将过期，请上传或生成新证书。</block>
  <block id="19a754b09204d4d1923df0f166ea6005" category="inline-xref-macro">为网格管理器和租户管理器配置自定义服务器证书</block>
  <block id="e9da4c1dbb32d537cf24b0cb32f1cb04" category="list-text">有关服务器证书，请参见的步骤 <block ref="1598d5554eb25eabcb88b7437f9f41f3" category="inline-xref-macro-rx"></block>。</block>
  <block id="c76e4926ceb52757d6fcf0c447b345ab" category="inline-xref-macro">配置客户端证书</block>
  <block id="9b74663b0262c4a9bdae08926c870d65" category="list-text">有关客户端证书，请参见的步骤 <block ref="61402f4158b582d238b17dd91780c933" category="inline-xref-macro-rx"></block>。</block>
  <block id="ec49cb4f111bbf1f4e4111d265bb1939" category="list-text">对于服务器证书错误，请尝试以下任一或两个选项：</block>
  <block id="b0d47d5c1bfeae29015c86ec6c210301" category="list-text">确保已填充证书的使用者备用名称（ SAN ），并且 SAN 与要连接到的节点的 IP 地址或主机名匹配。</block>
  <block id="080569d19668671647642b95a1518c97" category="list-text">如果您尝试使用域名连接到 StorageGRID ：</block>
  <block id="2767628cdbe6b8c6f2d18a73f76ff2ae" category="list-text">输入管理节点的 IP 地址，而不是域名，以绕过连接错误并访问网格管理器。</block>
  <block id="a30ef0e2e734826067a329b2d67f91be" category="list-text">在网格管理器中，选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * ，然后选择 <block ref="3f4a2f8d05b29cf467820d2bac722ff2" category="inline-xref-macro-rx"></block> 安装新的自定义证书或继续使用默认证书。</block>
  <block id="3b363dec8e8f8ff31a04bd948abb2c02" category="list-text">在管理 StorageGRID 的说明中，请参见的步骤 <block ref="1598d5554eb25eabcb88b7437f9f41f3" category="inline-xref-macro-rx"></block>。</block>
  <block id="6237f0949372cf00e08585de68f5ddc4" category="summary">管理节点上的 Prometheus 服务从所有节点上的服务收集时间序列指标。虽然 Prometheus 收集的指标超过 1000 个，但监控最关键的 StorageGRID 操作需要的指标相对较少。</block>
  <block id="150d0134ce879a9d166b41de3477e050" category="paragraph">指标会存储在每个管理节点上，直到为 Prometheus 数据预留的空间已满为止。当 ` /var/local/mysql_ibdata/` 卷达到容量时，首先删除最旧的指标。</block>
  <block id="91dc22a669cdf93fc1368201cef956f6" category="paragraph">要获取完整的指标列表，请使用网格管理 API 。</block>
  <block id="667b6d7138b25680d74a08ef064fb56c" category="list-text">从网格管理器的顶部，选择帮助图标并选择 * API Documentation" 。</block>
  <block id="05bc2cc8eeec2894b1f8beaf96ca7517" category="list-text">找到 * 指标 * 操作。</block>
  <block id="bad646f080bf146a7c8a96cb9d08baa5" category="list-text">执行 `GET /grid/metric-names` 操作。</block>
  <block id="1c79425701bdc7120c8e6d81cec4b370" category="list-text">下载结果。</block>
  <block id="b9d78baec47dee7f81fa2be48078e5f6" category="paragraph">下表列出了最常用的 Prometheus 指标。您可以参考此列表来更好地了解默认警报规则中的条件，或者为自定义警报规则构建条件。</block>
  <block id="0ed1e60950361fe0c4bf6383ccc062cc" category="paragraph">alertmanager_notifications _failed_total</block>
  <block id="5d169641db2b6194f14a62d8dddf670f" category="paragraph">失败警报通知的总数。</block>
  <block id="dcd771bf6f7a901789494181d211d9e8" category="paragraph">node_filesystem_avail_bytes</block>
  <block id="a452a3390337e674f8388da56d12feb6" category="paragraph">非 root 用户可用的文件系统空间量（以字节为单位）。</block>
  <block id="a13696997f4e637a625dd6bd2d7ec0f3" category="paragraph">node_memory_MemAvailable_bytes</block>
  <block id="78618a924450f4ab49c8057b9b696b61" category="paragraph">内存信息字段 MemAvailable_bytes 。</block>
  <block id="7414e0b4d388070e51fe636c8cb37949" category="paragraph">node_network_Carrier</block>
  <block id="f6180c9fc110e4781c293c42d4981c66" category="paragraph">/sys/class/net/&lt;iface&gt; 的托架值。</block>
  <block id="e309e0d9808d616c0269d5356542ea0d" category="paragraph">node_network_receive ； errs_total</block>
  <block id="6b6f5847067ddea3bc3fcdaeed5286ec" category="paragraph">网络设备统计信息 Receive _errs 。</block>
  <block id="7ed5607a29078e2c28cb406a04462606" category="paragraph">node_network_transmit_errs_total</block>
  <block id="9670a2a648dbdaa555ce25b913e83ec5" category="paragraph">网络设备统计信息 transmit_errs 。</block>
  <block id="63a7c3f42eb9af3431cd7f1c3e79aaff" category="paragraph">storaggrid_administratively 关闭</block>
  <block id="f7bae3e392c16681c527e89b4b143763" category="paragraph">由于预期原因，节点未连接到网格。例如，节点或节点上的服务已正常关闭，节点正在重新启动或软件正在升级。</block>
  <block id="f64403d4947b637a07f10d9305292824" category="paragraph">storagegrid_appliage_compute_controller_hardware_status</block>
  <block id="c794499659cfa044465ec9d790d9fd80" category="paragraph">设备中计算控制器硬件的状态。</block>
  <block id="60178c4421474a2ebf9f3b0e76a8f0e8" category="paragraph">storagegrid_appliation_failed_disks</block>
  <block id="2adca97e4b27e1ab1359dcf3b5178f5c" category="paragraph">对于设备中的存储控制器，是指不是最佳的驱动器数量。</block>
  <block id="d971859bc00b75cf4331847b7920d1d4" category="paragraph">storagegrid_appliage_storage_controller_hardware_status</block>
  <block id="18f4a52eb71c18fbc2dc1b1886b4d114" category="paragraph">设备中存储控制器硬件的整体状态。</block>
  <block id="325d6b8ea117650f21de2af378b4ea21" category="paragraph">storagegrid_content_bages_and_containers</block>
  <block id="ae89935ed3732c31d6fd1f30857ba91a" category="paragraph">此存储节点已知的 S3 存储分段和 Swift 容器总数。</block>
  <block id="a650624f6b6024392a7d4a8030d00dd8" category="paragraph">storaggrid_content_objects</block>
  <block id="924a831c1b5b113fdfeff7a42302c051" category="paragraph">此存储节点已知的 S3 和 Swift 数据对象总数。计数仅适用于通过 S3 或 Swift 与系统连接的客户端应用程序创建的数据对象。</block>
  <block id="7993c18821315162246fc339c332c2a2" category="paragraph">storaggrid_content_objects_lost</block>
  <block id="8b91e3c5864bcf021f113c68dd081635" category="paragraph">此服务在 StorageGRID 系统中检测到缺失的对象总数。应采取措施确定丢失的发生原因 以及是否可以恢复。</block>
  <block id="2835afe25f9064f0c31c9e33a3726b70" category="paragraph">storagegRid_http_sessions_incoming_attempted</block>
  <block id="64b7349ccaac9489715d93ec80d4d49c" category="paragraph">尝试访问存储节点的 HTTP 会话总数。</block>
  <block id="50ffff513c166e8d2dd4800339157da9" category="paragraph">storaggrid_http_sessions_incoming_currently 已建立</block>
  <block id="c4690f46cec28f007b778a73eaa23eae" category="paragraph">存储节点上当前处于活动状态（已打开）的 HTTP 会话数。</block>
  <block id="aa7bca4c2380890e697a571fd88f7a6b" category="paragraph">storagegRid_http_sessions_incoming_failed</block>
  <block id="6d612e15af28aeb8e76efdd61fe749fe" category="paragraph">由于 HTTP 请求格式错误或在处理操作时失败而无法成功完成的 HTTP 会话总数。</block>
  <block id="09c732aad81537d47465e26dbb95c52f" category="paragraph">storagegRid_http_sessions_incoming_successful</block>
  <block id="11b676f5e514b15600312787fcfd0dbc" category="paragraph">已成功完成的 HTTP 会话总数。</block>
  <block id="8f56b4797716f8d938256a27df7aae06" category="paragraph">storaggrid_ilm_awaiting 背景对象</block>
  <block id="16ef7ad21c89d89a6cd831857eabcf55" category="paragraph">此节点上等待通过扫描进行 ILM 评估的对象总数。</block>
  <block id="c085df8b4cc0b71433d5dea79614e8af" category="paragraph">storaggrid_ilm_awaiting 客户端评估对象每秒对象数</block>
  <block id="1e855bf9f386df800118addbd539de9b" category="paragraph">根据此节点上的 ILM 策略评估对象的当前速率。</block>
  <block id="d7063532995ca479c284c22a6e8da6b6" category="paragraph">storaggrid_ilm_awaiting 客户端对象</block>
  <block id="008ba717f796168ea5a34abc30589904" category="paragraph">此节点上等待通过客户端操作进行 ILM 评估的对象总数（例如，载入）。</block>
  <block id="fdf91739c5a568316fdd4553426d019a" category="paragraph">storaggrid_ilm_awaing_total_objects</block>
  <block id="1f03574a03c3470cd9bb1b14339e2e81" category="paragraph">等待 ILM 评估的对象总数。</block>
  <block id="8cba9af3df4ae8540e0cc62672502ecc" category="paragraph">storagegrid_ilm_scanne_objects_per_second</block>
  <block id="37f26512f56b83cf9aa2288c0d8515f5" category="paragraph">此节点拥有的对象在 ILM 中进行扫描和排队的速率。</block>
  <block id="9524051c346fa06d223852b445936f2b" category="paragraph">storaggrid_ilm_scann_period_estimated_minutes</block>
  <block id="056d7dc6fef5267716d2c5d489209845" category="paragraph">在此节点上完成完整 ILM 扫描的估计时间。</block>
  <block id="c008a9b5b314ef57abc0674d8712da0b" category="paragraph">* 注： * 完全扫描并不能保证 ILM 已应用于此节点拥有的所有对象。</block>
  <block id="8d2098ef2e37629609e090bc03f08b79" category="paragraph">storagegRid_load_Balancer_endpoint_ct_expiry_time</block>
  <block id="096e8f6f0836d92e6ee6a031d459c87f" category="paragraph">负载平衡器端点证书自 Epoch 以来的到期时间（以秒为单位）。</block>
  <block id="6b3d9410c0fe731b9a2c68c5f7c7d849" category="paragraph">storaggrid_metadata_queries_average ； latency ；毫秒</block>
  <block id="62106a97b7e7561f9455f4a47853fc66" category="paragraph">通过此服务对元数据存储运行查询所需的平均时间。</block>
  <block id="55db0ba180c24e7e022b3640b54ab8ab" category="paragraph">storaggrid_network_received_bytes</block>
  <block id="fd461f7403bf9b6caf8522c2a5b9cfee" category="paragraph">自安装以来接收的总数据量。</block>
  <block id="8553b4da953469bca1c6df82785c459d" category="paragraph">storaggrid_network_transmated_bytes</block>
  <block id="eb7187e8976c1ee682f28cfbd04cd299" category="paragraph">自安装以来发送的总数据量。</block>
  <block id="e6684c76ba09bee2157f77eb5c13b151" category="paragraph">storagegrid_node_cpu_utilization 百分比</block>
  <block id="4997acf27a6246d95e9f06de0dee99e4" category="paragraph">此服务当前正在使用的可用 CPU 时间的百分比。指示服务的繁忙程度。可用 CPU 时间量取决于服务器的 CPU 数量。</block>
  <block id="04bac74f0847f40aed15c5266a29b42f" category="paragraph">storaggrid_ntp_chosed_time_source_offset_mms</block>
  <block id="0be750830271aeac13ee2af0678f2265" category="paragraph">选定时间源提供的系统时间偏移。如果到达某个时间源的延迟与该时间源到达 NTP 客户端所需的时间不相等，则会引入偏移。</block>
  <block id="ab6541670b40bdb5ea928dea5466790c" category="paragraph">storaggrid_ntp_locked</block>
  <block id="71eaed5d2b33918d3a08b6a385f1b968" category="paragraph">storaggrid_s3_data_transfers_bytes_ingested</block>
  <block id="dc1eaf8506b8f533b002de52bd01a710" category="paragraph">自上次重置属性以来从 S3 客户端载入到此存储节点的总数据量。</block>
  <block id="df91bba6ebb9ecec65ab00cf583f0414" category="paragraph">已检索 storagegRid_s3_data_transfers_bytes_reRetrieved</block>
  <block id="75a022f1f75cec0a4e2bc3cffc239a9d" category="paragraph">自上次重置属性以来 S3 客户端从此存储节点检索的总数据量。</block>
  <block id="7aedaefa96ca92c35325198a04db083a" category="paragraph">storaggrid_s3_operations_failed</block>
  <block id="730d09f1bf944ffecca5108a8a8cbf1d" category="paragraph">S3 操作失败的总数（ HTTP 状态代码 4xx 和 5xx ），不包括因 S3 授权失败而导致的操作。</block>
  <block id="e5956c235bb73e9103a00acac94628e6" category="paragraph">storaggrid_s3_operations_successful</block>
  <block id="6fd8c81af3663b4a159296e432b92ecf" category="paragraph">成功执行 S3 操作的总数（ HTTP 状态代码 2xx ）。</block>
  <block id="326fd2535653fb98a164b9772c276f6a" category="paragraph">storaggrid_s3_operations_unauthorized</block>
  <block id="68b982c375426a2f4631b7cb2a1d3d33" category="paragraph">授权失败导致的 S3 操作失败的总数。</block>
  <block id="42462afb373a59dd34a30ef8713fe5c5" category="paragraph">storagegRid_servercertificate_management_interface_cert_expiry_days</block>
  <block id="c9cfd937b82055b73d0f8f7ae4b35237" category="paragraph">管理接口证书到期前的天数。</block>
  <block id="087afc7472d27ba85e9249dbdc382a0f" category="paragraph">storagegRid_servercertificate_storage_api_Endpoints" 证书到期日 "</block>
  <block id="e9f658000917374ea7b97e83092fa2c8" category="paragraph">对象存储 API 证书到期前的天数。</block>
  <block id="c7eb329acd0c9ddec7374adce0de53f6" category="paragraph">storaggrid_service_cpu_seconds</block>
  <block id="d0979fa0d37a92ef395b4fbf8087d2a7" category="paragraph">自安装以来此服务使用 CPU 的累积时间。</block>
  <block id="cba085c1b1b8ee81a621b1eaa18a14ba" category="paragraph">storagegrid_service_memory_usage_bytes</block>
  <block id="a172147e35f64b13a8175dbd8928bc04" category="paragraph">此服务当前正在使用的内存量（ RAM ）。此值与 Linux 顶部实用程序显示的值相同，即 Res 。</block>
  <block id="e894bc674a22ec51ba25e62ebcbea118" category="paragraph">storaggrid_service_network_received_bytes</block>
  <block id="2ee960eea10c05e106fdbb5d209ec4f0" category="paragraph">自安装以来此服务收到的总数据量。</block>
  <block id="8e7c5e8bf83c3937f15c37fcf8c1d79d" category="paragraph">storaggrid_service_network_transmated_bytes</block>
  <block id="e107e4dd5ac586e70ef93d769c62e605" category="paragraph">此服务发送的总数据量。</block>
  <block id="d9a80471037f8bcaed453549a7657432" category="paragraph">storagegrid_service_Restart</block>
  <block id="eba9495e43fa0238bd0dbd7a26aa2745" category="paragraph">重新启动服务的总次数。</block>
  <block id="b34c3335fec432e337f0c02e49a81bae" category="paragraph">storaggrid_service_runtime_seconds</block>
  <block id="97b93b591a5a85872680acad36126def" category="paragraph">自安装以来服务一直运行的总时间量。</block>
  <block id="d17c1f1c003567862b0d4b41b872d35e" category="paragraph">storaggrid_service_uptime_seconds</block>
  <block id="b5d87bcf3b9562061085461492f1b53a" category="paragraph">服务自上次重新启动以来的总运行时间。</block>
  <block id="7fd1f7bdf889c9f746f974acf9387829" category="paragraph">storaggrid_storage_state_current</block>
  <block id="30e3f9a05601423e0f7390cc38c11937" category="paragraph">存储服务的当前状态。属性值为：</block>
  <block id="776923d386e6f94c793d88078dfe3079" category="list-text">10 = 脱机</block>
  <block id="eba5c4c5a0deaa493ad347cb0e407bae" category="list-text">15 = 维护</block>
  <block id="871bf9f47859f29ef211ecb8b3bea8a7" category="list-text">20 = 只读</block>
  <block id="bf6acfb75fcfedaa456db6adb4b73b44" category="list-text">30 = 联机</block>
  <block id="2f965187c551d0aface828abd3f5991a" category="paragraph">storagegrid_storage_status</block>
  <block id="06260e4e8f4c5e11c98003daea2b76e4" category="paragraph">存储服务的当前状态。属性值为：</block>
  <block id="baf0d25655f9c36d1f3d9e1d3bfe7d4f" category="list-text">0 = 无错误</block>
  <block id="47ec91e5f389879c4cdcf9fd0cbb027a" category="list-text">10 = 正在过渡</block>
  <block id="7aa4e14ee22b698fe55c95f89d364edf" category="list-text">20 = 可用空间不足</block>
  <block id="793f960f69bc612d1868d618baf19e85" category="list-text">30 = 卷不可用</block>
  <block id="598ba924ee70720da6a2ff7da009cdbc" category="list-text">40 = 错误</block>
  <block id="c6b6cca477d6f0461eabaeb3190c7c00" category="paragraph">storaggrid_storage_utilization metadata_bytes</block>
  <block id="c1e5152fdeb7e35ec8d1645bd5119452" category="paragraph">存储节点上复制和擦除编码的对象数据的估计总大小。</block>
  <block id="f7d2d2269a5293b64c8a75e51b482bbd" category="paragraph">storaggrid_storage_utilization metadata_allowed_bytes</block>
  <block id="1ba78557194afa3f370fc6bab81dadef" category="paragraph">每个存储节点的卷 0 上允许用于对象元数据的总空间。此值始终小于为节点上的元数据预留的实际空间，因为必要的数据库操作（如数据缩减和修复）以及未来的硬件和软件升级都需要预留部分空间。对象元数据允许的空间控制整体对象容量。</block>
  <block id="fc10f42fa89c54507f0581003d535b8e" category="paragraph">存储卷 0 上的对象元数据量，以字节为单位。</block>
  <block id="a301f19ba9f8d5afcb2e3dc16bb72a7b" category="paragraph">storaggrid_storage_utilization 总空间字节</block>
  <block id="8f8e97f6600096a80c1d6353e2378727" category="paragraph">分配给所有对象存储的存储空间总量。</block>
  <block id="7feb69a85f8a628d2ec7f5d09a8829b2" category="paragraph">storagegRid_storage_utilization_usable_space_bytes</block>
  <block id="76b34775fc2fa4698d35341d1b204685" category="paragraph">剩余的对象存储空间总量。计算方法是将存储节点上所有对象存储的可用空间量相加。</block>
  <block id="082b77908a800ed522663e613cf18212" category="paragraph">storagegrid_swif_data_transfers_bytes_ingested</block>
  <block id="33a49cdac51dda01dccdf8e79853a5f7" category="paragraph">自上次重置属性以来从 Swift 客户端载入到此存储节点的总数据量。</block>
  <block id="3a3d397fe5435be6c0dab228f1f8c858" category="paragraph">已检索 storaggrid_swif_data_transfers_bytes_reRetrieved</block>
  <block id="81412f56d970fd3b6fbf6fa2d6c9a386" category="paragraph">自上次重置属性以来 Swift 客户端从此存储节点检索的总数据量。</block>
  <block id="0e419a07e79fb54367539281b54da789" category="paragraph">storaggrid_swif_operations_failed</block>
  <block id="82bfe5e4df3ec4055b4e6057ad135a54" category="paragraph">Swift 操作失败的总数（ HTTP 状态代码 4xx 和 5xx ），不包括因 Swift 授权失败而导致的操作。</block>
  <block id="9ad90dbf202f586382868617e1877151" category="paragraph">storagegrid_swif_operations_successful</block>
  <block id="edb05f2552ac9be778043400ed0a31a5" category="paragraph">成功的 Swift 操作总数（ HTTP 状态代码 2xx ）。</block>
  <block id="1dcf6867bea8bf458b16988401094d3c" category="paragraph">storaggrid_swif_operations_unauthorized</block>
  <block id="1f13b3219f70fd78928effd91d298360" category="paragraph">授权失败导致的 Swift 操作失败的总数（ HTTP 状态代码 401 ， 403 ， 405 ）。</block>
  <block id="868e9fe41fbf8d037be8614b19d2821e" category="paragraph">storagegrid_tenant_usage_data_bytes</block>
  <block id="be696e17fb390990af1e94d9d2033b67" category="paragraph">租户的所有对象的逻辑大小。</block>
  <block id="ebd19ae3c0b26e0ecfd20d0dd35970b1" category="paragraph">storagegrid_tenant_usage_object_count</block>
  <block id="d91402998353ef7512def04cfe06fbf8" category="paragraph">租户的对象数。</block>
  <block id="11be2d76f8715f3c24e14f096d7d01c2" category="paragraph">storagegRid_tenant_usage_quota_bytes</block>
  <block id="0454da783d3cbd096a946c23e98d5058" category="paragraph">可用于租户对象的最大逻辑空间量。如果未提供配额指标，则可用空间量不受限制。</block>
  <block id="0e13f11065871a332e1ee4c79aebed06" category="summary">下表介绍了系统日志服务器错误消息并列出了更正操作。</block>
  <block id="c38e5c9b85a303d81893dd02e1ae8b9d" category="doc">对外部系统日志服务器进行故障排除</block>
  <block id="59b7a1e11c44d7c36415c2b3b07ad80d" category="paragraph">下表介绍了外部系统日志服务器错误消息并列出了更正操作。</block>
  <block id="e20cbb947afcf84cf58de1358ee1068d" category="cell">错误消息</block>
  <block id="21c45e215c3c6dfc032325653a388e74" category="paragraph">无法解析主机名</block>
  <block id="66e15e9c2f217d204b4d1a4c253925fd" category="paragraph">您为系统日志服务器输入的 FQDN 无法解析为 IP 地址。</block>
  <block id="7ffc4b0f4ca639cceca6b921307b919f" category="list-text">检查输入的主机名。如果输入了 IP 地址，请确保其为 w.x.y.z （ " 点分十进制 " ）表示法中的有效 IP 地址。</block>
  <block id="f014d8d4ae0e65f2bd4b95d5bb1b98c5" category="list-text">检查 DNS 服务器是否配置正确。</block>
  <block id="263ac33894122df028610e89db2fc24e" category="list-text">确认每个节点均可访问 DNS 服务器的 IP 地址。</block>
  <block id="1867e4a765d502c76e2b022504c37d92" category="paragraph">连接被拒绝</block>
  <block id="4031f1a3ffd9d9dc0b77644e913b0951" category="paragraph">拒绝与系统日志服务器建立 TCP 或 TLS 连接。可能没有服务在侦听主机的 TCP 或 TLS 端口，或者防火墙可能正在阻止访问。</block>
  <block id="cf4c8bc2ed710a7f87acf58cb7225485" category="list-text">检查您为系统日志服务器输入的 FQDN 或 IP 地址，端口和协议是否正确。</block>
  <block id="e8291fa4329b3c814de031239e7da85b" category="list-text">确认系统日志服务的主机正在运行侦听指定端口的系统日志守护进程。</block>
  <block id="611f4e3ca1a4a70d219c1c0a251be139" category="list-text">确认防火墙不会阻止从节点到系统日志服务器的 IP 和端口的 TCP/TLS 连接访问。</block>
  <block id="463c71f82b6cda033a87d770271d7b62" category="paragraph">无法访问网络</block>
  <block id="b21ae0df731a6a572a210fe1375a0982" category="paragraph">系统日志服务器不在直连子网上。路由器返回 ICMP 失败消息，指示它无法将测试消息从列出的节点转发到系统日志服务器。</block>
  <block id="d717c68304cbd46a7de83601d71077a3" category="list-text">检查您为系统日志服务器输入的 FQDN 或 IP 地址是否正确。</block>
  <block id="c587f12b6e36a30c3c4263c0da285fde" category="list-text">对于列出的每个节点，请检查网格网络子网列表，管理网络子网列表和客户端网络网关。确认这些配置已通过预期网络接口和网关（网格，管理员或客户端）将流量路由到系统日志服务器。</block>
  <block id="d226a9e9b57bb470ce3a90c39debe14a" category="paragraph">无法访问主机</block>
  <block id="71dfcc95183defbea02b90d7536c5e45" category="paragraph">系统日志服务器位于直连子网上（列出的节点用于其网格，管理员或客户端 IP 地址的子网）。节点尝试发送测试消息，但未收到对系统日志服务器 MAC 地址的 ARP 请求的响应。</block>
  <block id="003db875cd9147ab2de41cd397824150" category="list-text">检查运行系统日志服务的主机是否已启动。</block>
  <block id="0743b27e61f40845e36144152bed8fa1" category="paragraph">连接超时</block>
  <block id="1e97d05f9b14481b5b0deef516798d25" category="paragraph">已尝试进行 TCP/TLS 连接，但系统日志服务器长时间未收到任何响应。可能存在路由配置不当或防火墙在未发送任何响应的情况下丢弃流量（通用配置）。</block>
  <block id="b5d2135c9db33bf54746bb0f7ce4fbfc" category="list-text">对于列出的每个节点，请检查网格网络子网列表，管理网络子网列表和客户端网络网关。确认已将这些配置为通过网络接口和网关（网格，管理员或客户端）将流量路由到系统日志服务器，而您希望通过该网关访问系统日志服务器。</block>
  <block id="e21a34be7dc927c025da34e1dfb51ffc" category="list-text">确认防火墙未阻止从列出的节点到系统日志服务器的 IP 和端口访问 TCP/TLS 连接。</block>
  <block id="9674cf83591123761a7301fc800dd665" category="paragraph">配对节点已关闭连接</block>
  <block id="8ec56a813065230e3e56e22c164162cb" category="paragraph">已成功建立与系统日志服务器的 TCP 连接，但稍后关闭。原因可能包括：</block>
  <block id="f4caa37114e2c4bac97c9e64cc981a17" category="list-text">系统日志服务器可能已重新启动或重新启动。</block>
  <block id="cf5eb75a6daa664cb6f2d0f5a1282d33" category="list-text">节点和系统日志服务器可能具有不同的 TCP/TLS 设置。</block>
  <block id="beabb65034af5ea7b4f2eeb38c03d0c2" category="list-text">中间防火墙可能正在关闭闲置的 TCP 连接。</block>
  <block id="ec6031e02a221f82d141b53e02b752b1" category="list-text">侦听系统日志服务器端口的非系统日志服务器可能已关闭连接。</block>
  <block id="5923260afb39c284861dece0b7ff20e7" category="list-text">如果您使用的是 TLS ，请确认系统日志服务器也使用 TLS 。如果您使用的是 TCP ，请确认系统日志服务器也使用 TCP 。</block>
  <block id="e3083b5ee199c660a1fbb2751d9d613d" category="list-text">检查中间防火墙是否未配置为关闭空闲 TCP 连接。</block>
  <block id="0b777fbdf21d945a62fea7f9c1c99c79" category="paragraph">TLS 证书错误</block>
  <block id="89b010c6da2860255d3c2c89c69fcb39" category="paragraph">从系统日志服务器收到的服务器证书与您提供的 CA 证书包和客户端证书不兼容。</block>
  <block id="660a7e3c5be47c5510b06c94f98e7ea9" category="list-text">确认 CA 证书包和客户端证书（如果有）与系统日志服务器上的服务器证书兼容。</block>
  <block id="785c032d73a065632f96b6d063cd4c67" category="list-text">确认系统日志服务器的服务器证书中的身份包含预期的 IP 或 FQDN 值。</block>
  <block id="1446195813897697bad7148ce294e2e8" category="paragraph">转发已暂停</block>
  <block id="d111264227bb1a69fac973a38b32f887" category="paragraph">系统日志记录不再转发到系统日志服务器， StorageGRID 无法检测到原因。</block>
  <block id="c5bcd646fd971425db380bbb33fa8f5f" category="paragraph">查看随此错误提供的调试日志，尝试确定根发生原因 。</block>
  <block id="6c2b39919494ee9a1b34549e089019b0" category="paragraph">TLS 会话已终止</block>
  <block id="519b99fcea256fa4627a98ca53a5e778" category="paragraph">系统日志服务器已终止 TLS 会话， StorageGRID 无法检测到原因。</block>
  <block id="c51d9f5d4a851c979618423fafb1ac4f" category="list-text">确认 CA 证书包和客户端证书（如果有）与系统日志服务器的服务器证书兼容。</block>
  <block id="426321cb5e4097e1f9309220be4f03b8" category="paragraph">结果查询失败</block>
  <block id="d51abc9beafd42f6418ae44a571e06d9" category="paragraph">用于系统日志服务器配置和测试的管理节点无法从列出的节点请求测试结果。一个或多个节点可能已关闭。</block>
  <block id="9b136fe009af91379518e93cfc1c477d" category="list-text">按照标准故障排除步骤操作，确保节点联机且所有预期服务均正在运行。</block>
  <block id="021440df46faef71e81fc961785ef0ec" category="list-text">在列出的节点上重新启动 miscd 服务。</block>
  <block id="856770d57102a3afdaec67970de327e4" category="summary">如果平台服务消息传送到无法接受数据的目标，则会在网格管理器中触发总事件（ SMT ）警报。</block>
  <block id="c6e0cd55ee1d31b52b1c7496bafaae6c" category="doc">对平台服务消息的传送进行故障排除（ SMTTT 警报）</block>
  <block id="40973769f8aacebeba9266f0b4a97f69" category="paragraph">例如，即使无法将关联的复制或通知消息传送到已配置的端点， S3 多部分上传也可以成功。或者，如果元数据过长，则可能无法传送有关 CloudMirror 复制的消息。</block>
  <block id="fe91f41ed394c998858e38dfba0a315f" category="paragraph">SMT 警报包含最后一条事件消息，其中显示： `failed to publish notifications for _bucket-name object key_` for the last object whose notification failed.</block>
  <block id="35fc07b4115ff25a5cd43aefc217c65f" category="inline-xref-macro">从租户管理器访问租户</block>
  <block id="18fcf09b45e8e5b22c8c492e687d384c" category="paragraph">有关追加信息 对平台服务进行故障排除的信息，请参见 <block ref="d0a22347ee5d27b6923650db86efeead" category="inline-xref-macro-rx"></block>。您可能需要 <block ref="32143f745d5a9bdea6a8a28e000dc80d" category="inline-xref-macro-rx"></block> 调试平台服务错误。</block>
  <block id="42974e0283b03a450ee21cd6f86b4ace" category="list-text">要查看警报，请选择 * 节点 * &gt; * 站点 _* &gt; * 网格节点 _* &gt; * 事件 * 。</block>
  <block id="6553e35d88030c0cd7766ee8d1263c5e" category="list-text">在表顶部查看上次事件。</block>
  <block id="1a24d4b814c8de1c4cfca53042fc0efd" category="paragraph">事件消息也会在 ` /var/local/log/byncast-err.log` 中列出。</block>
  <block id="5514e2f8a809830ed785780a47dbc05c" category="list-text">按照 SMT 警报内容中提供的指导更正问题描述 。</block>
  <block id="d7a8402eb65e9a3f235f4b3bcec57f36" category="list-text">选择 * 重置事件计数 * 。</block>
  <block id="3070ece41dc03dd9a614c499c9754b3a" category="list-text">将尚未传送平台服务消息的对象通知租户。</block>
  <block id="3e127c50cee695573c4c98627388f964" category="list-text">指示租户通过更新对象的元数据或标记来触发失败的复制或通知。</block>
  <block id="dd96ae749bb3d390736f57caa9ff71e1" category="summary">如果对存储卷水印使用自定义值，则可能需要解决 " 只读水印覆盖不足 " 警报。如果可能，您应更新系统以开始使用优化值。</block>
  <block id="097a9c0c1fa3eac1f10c5cbaffbf8d69" category="paragraph">如果对存储卷水印使用自定义值，则可能需要解决 * 低只读水印覆盖 * 警报。如果可能，您应更新系统以开始使用优化值。</block>
  <block id="1d75f253c5fdfbea5bb7060890e07402" category="inline-xref-macro">存储卷水印</block>
  <block id="7ccb03e6b06bead9c2d5e2a20c36167d" category="paragraph">在先前版本中，这三个 <block ref="c6980cc2b386d0ae4306dc63555646aa" category="inline-xref-macro-rx"></block> 为全局设置 &amp;#8212 ；应用于每个存储节点上的每个存储卷的值相同。从 StorageGRID 11.6 开始，软件可以根据存储节点的大小和卷的相对容量为每个存储卷优化这些水印。</block>
  <block id="84c40cf1536b648c8896fdf325f3a789" category="paragraph">升级到 StorageGRID 11.6 时，经过优化的只读和读写水印会自动应用于所有存储卷，除非满足以下条件之一：</block>
  <block id="f96593907c79cc193cddb4a31de7f639" category="list-text">您的系统容量已接近，如果应用了优化的水印，则无法接受新数据。在这种情况下， StorageGRID 不会更改水印设置。</block>
  <block id="ee1924f893f4f718dd2125fc5359e962" category="list-text">您先前已将任何存储卷水印设置为自定义值。StorageGRID 不会使用优化值覆盖自定义水印设置。但是，如果您对存储卷软只读水印的自定义值太小，则 StorageGRID 可能会触发 * 低只读水印覆盖 * 警报。</block>
  <block id="4e49288ff2fbfac1d239021ebe6cfaf6" category="section-title">了解警报</block>
  <block id="bb7a44fe51095681d485508c0b0d940e" category="paragraph">如果对存储卷水印使用自定义值，则可能会为一个或多个存储节点触发 * 低只读水印覆盖 * 警报。</block>
  <block id="c59073b2c8767d5cacea81fde0a1b49b" category="paragraph">每个警报实例都指示 * 存储卷软只读水印 * 的自定义值小于该存储节点的最小优化值。如果您继续使用自定义设置，则存储节点可能会在空间严重不足的情况下运行，然后才能安全地过渡到只读状态。当节点达到容量时，某些存储卷可能无法访问（自动卸载）。</block>
  <block id="6854f5e5e35a3bcde74b5c80a5b723fe" category="paragraph">例如，假设您先前已将 * 存储卷软只读水印 * 设置为 5 GB 。现在，假设 StorageGRID 已为存储节点 A 中的四个存储卷计算出以下优化值：</block>
  <block id="4f03c07a6e76726ce3c7be2caf80e629" category="paragraph">卷 0</block>
  <block id="469228004487fcc667bf369582833cc1" category="paragraph">12 GB</block>
  <block id="fc452c26db3c4aa6f6213b9c5d9e3abc" category="paragraph">卷 1</block>
  <block id="ef0e038a9f9b0db74b504d5521e7a0fc" category="paragraph">第 2 卷</block>
  <block id="1d7fbd28c8c3ec18de513fbbfde5c7df" category="paragraph">11 GB</block>
  <block id="409d77b68d3e62d2e2e21fe75590492c" category="paragraph">第 3 卷</block>
  <block id="9f101c0e6e5929a04c9e7663fdf91eda" category="paragraph">15 GB</block>
  <block id="c879a08b9e2284106efefea152a3b3e4" category="paragraph">为存储节点 A 触发 * 低只读水印覆盖 * 警报，因为您的自定义水印（ 5 GB ）小于该节点中所有卷的最小优化值（ 11 GB ）。如果继续使用自定义设置，则节点可能会在空间严重不足的情况下运行，然后才能安全过渡到只读状态。</block>
  <block id="8f53eff36f564cd695f4e4881564b48c" category="section-title">解决警报</block>
  <block id="a27fbf411908221bd33fb72c36e18b52" category="paragraph">如果触发了一个或多个 * 低只读水印覆盖 * 警报，请执行以下步骤。如果您当前正在使用自定义水印设置，并且希望开始使用优化设置，即使未触发任何警报，也可以使用这些说明。</block>
  <block id="8b82561f4594d9b0bf87e6af45d19ec5" category="list-text">您已完成 StorageGRID 11.6 的升级。</block>
  <block id="e4718ea6afcf48cce586646f29f074a6" category="list-text">您具有 root 访问权限。</block>
  <block id="f66a4dfea247b753ba38c7a13ef80bd4" category="paragraph">您可以通过将自定义水印设置更新为新的水印覆盖来解决 * 低只读水印覆盖 * 警报。但是，如果一个或多个存储节点接近全满或您有特殊的 ILM 要求，则应首先查看优化的存储水印并确定使用它们是否安全。</block>
  <block id="33883d345e99706cef4889c3edd3caee" category="section-title">评估整个网格的对象数据使用情况</block>
  <block id="69c3954dce8ed61d258ca6d3527325b6" category="list-text">对于网格中的每个站点，展开节点列表。</block>
  <block id="dec23e8afb4260afec44976d9bc435c9" category="list-text">查看每个站点的每个存储节点的 * 对象数据已用 * 列中显示的百分比值。</block>
  <block id="3517ad0f55c97698cf6b48d829340f5c" category="image-alt">节点页面，显示用于 3 SnS 的对象数据</block>
  <block id="c79535f484f21adb09a8d93fb4f11558" category="list-text">如果所有存储节点均未接近全满（例如，所有 * 已使用的对象数据 * 值均小于 80% ），则可以开始使用覆盖设置。转至 <block ref="549ab18ffcb62ee820ceaed66f6d737c" category="inline-xref-macro-rx"></block>。</block>
  <block id="de2401f722f114d29e8550f2847be7e6" category="admonition">此一般规则存在一些例外情况。例如，如果 ILM 规则使用严格的载入行为或特定存储池接近全满，则应首先执行中的步骤 <block ref="f43e8acb8f91d0c2ad4b26af560a1ad2" category="inline-xref-macro-rx"></block> 和 <block ref="68f0df488f7370c63c2b4b0ef26a3eb9" category="inline-xref-macro-rx"></block>。</block>
  <block id="7fb81e968ee366343691f28dbeceadbe" category="list-text">如果还有一个存储节点接近全满，请执行中的步骤 <block ref="f43e8acb8f91d0c2ad4b26af560a1ad2" category="inline-xref-macro-rx"></block> 和 <block ref="68f0df488f7370c63c2b4b0ef26a3eb9" category="inline-xref-macro-rx"></block>。</block>
  <block id="486f3a9ce362bcf1e98982f74521ddb8" category="section-title">查看优化的存储水印</block>
  <block id="bae641b56ae0f476a7b1b2bc0f02d03d" category="paragraph">StorageGRID 使用两个 Prometheus 指标来显示它为 * 存储卷软只读水印 * 计算的优化值。您可以查看网格中每个存储节点的最小和最大优化值。</block>
  <block id="a1b4ec151a0bb638b4dc5f3114824fa6" category="list-text">选择 * 支持 * &gt; * 工具 * &gt; * 指标 * 。</block>
  <block id="d4073f2d6e2a05c8f1676b5ddacf7db3" category="list-text">在 Prometheus 部分中，选择用于访问 Prometheus 用户界面的链接。</block>
  <block id="b910bc7a6c3f7bbf46adb7564e285803" category="list-text">要查看建议的最小软只读水印，请输入以下 Prometheus 指标，然后选择 * 执行 * ：</block>
  <block id="a3268409347b6fc33ba13d289229e234" category="paragraph">最后一列显示每个存储节点上所有存储卷的软只读水印的最小优化值。如果此值大于 * 存储卷软只读水印 * 的自定义设置，则会为存储节点触发 * 低只读水印覆盖 * 警报。</block>
  <block id="28b0ddcbb9217f12575b1d5163c72bab" category="list-text">要查看建议的最大软只读水印数，请输入以下 Prometheus 指标，然后选择 * 执行 * ：</block>
  <block id="a4f0cefd0c7124e59f38104a96d09d5e" category="paragraph">最后一列显示每个存储节点上所有存储卷的软只读水印的最大优化值。</block>
  <block id="dd3608b69a3ad1619289b36560d64087" category="list-text">【最大优化值】记下每个存储节点的最大优化值。</block>
  <block id="a3b0e3e7b7d2b9cbc45ad2a984e74fdf" category="section-title">确定是否可以使用优化的水印</block>
  <block id="078fd3a902fbe38b5a1fa9c0cc5c2d65" category="list-text">对每个联机存储节点重复上述步骤：</block>
  <block id="b00364e332fce5d7f00c942f003bdf17" category="list-text">选择 * 存储节点 _* &gt; * 存储 * 。</block>
  <block id="a20abf03541425a67ccc01e30586a76d" category="list-text">向下滚动到对象存储表。</block>
  <block id="013f07c4b3a6305680a9ebb164f884ba" category="list-text">将每个对象存储（卷）的 * 可用 * 值与您为该存储节点记下的最大优化水印进行比较。</block>
  <block id="b0aa7977c2ed0da82f38ac9c02c63544" category="list-text">如果每个联机存储节点上至少有一个卷的可用空间超过该节点的最大优化水印容量，请转至 <block ref="549ab18ffcb62ee820ceaed66f6d737c" category="inline-xref-macro-rx"></block> 开始使用经过优化的水印。</block>
  <block id="faf096034085aeff578500ead826f60e" category="inline-xref-macro">扩展网格</block>
  <block id="36c6546cb8204efa97eb5bfe15149e02" category="paragraph">否则， <block ref="7d333f0cb4a5f72307adb11176aeb20a" category="inline-xref-macro-rx"></block> 请尽快。向现有节点添加存储卷或添加新的存储节点。然后，转到 <block ref="549ab18ffcb62ee820ceaed66f6d737c" category="inline-xref-macro-rx"></block> 更新水印设置。</block>
  <block id="0e82533c37fced763be34a5c21d720c9" category="inline-xref-macro">静默</block>
  <block id="0aaa87422396fdd678498793b6d5250e" category="inline-xref-macro">-disable</block>
  <block id="99bac51da0bdfd95312ca87376cc1ce1" category="list-text">如果需要继续对存储卷水印使用自定义值， <block ref="aac3bc8a8c55c95af17047ae84b1c74f" category="inline-xref-macro-rx"></block> 或 <block ref="358f9ad0cdfc5cd11bd7f0f3da8cb4f3" category="inline-xref-macro-rx"></block> * 低只读水印覆盖 * 警报。</block>
  <block id="e3fdbcfb307acc71ceacd78fd6d5b679" category="admonition">相同的自定义水印值将应用于每个存储节点上的每个存储卷。对存储卷水印使用小于建议值可能发生原因 会导致某些存储卷在节点达到容量时无法访问（自动卸载）。</block>
  <block id="dc67ac01fdb611c534d2b5ffee7fb756" category="section-title">使用优化的水印</block>
  <block id="0a1b31f773b41358c15f85e83f317b8a" category="list-text">转至 * 配置 * &gt; * 系统 * &gt; * 存储选项 * 。</block>
  <block id="0e5f26a293a4f69618153e4f6eda97d5" category="list-text">从存储选项菜单中选择 * 配置 * 。</block>
  <block id="7584b4534487dba977d487162a318ef7" category="list-text">将所有三个 " 水印覆盖 " 更改为 0 。</block>
  <block id="e358dea3b6e909d1a3f4c2e0b6fb5f83" category="paragraph">现在，根据存储节点的大小和卷的相对容量，优化的存储卷水印设置将对每个存储卷生效。</block>
  <block id="971d43a388d64b43e98c2c3ca4a76c60" category="image-alt">存储卷水印覆盖</block>
  <block id="2fcb4961b987e56a8cc0a5313e3dbe44" category="summary">网络选项卡显示一个图形，其中显示了通过节点，站点或网格上的所有网络接口接收和发送的网络流量。</block>
  <block id="f840990ae9a957b137cd4b2efa43e205" category="paragraph">此时将显示所有节点，每个站点和整个网格的网络选项卡。</block>
  <block id="c5e8fa2543aad1855bef2b887e0324ca" category="paragraph">对于节点，网络接口表提供了有关每个节点的物理网络端口的信息。网络通信表提供了有关每个节点的接收和传输操作以及任何驱动程序报告的故障计数器的详细信息。</block>
  <block id="62b9fd5f57698fb8537dd7c237606430" category="image-alt">节点页面网络选项卡</block>
  <block id="0fa64fc080e02c92c505cf5a1546b608" category="paragraph"><block ref="0fa64fc080e02c92c505cf5a1546b608" category="inline-xref-macro-rx"></block></block>
  <block id="e52bf8188f682c215235269aa347c21e" category="summary">通过任务选项卡，您可以重新启动选定节点。此时将显示所有节点的任务选项卡。</block>
  <block id="8c29ad02a5a0923ed1707d2d2216d028" category="doc">使用任务选项卡重新启动网格节点</block>
  <block id="aba90cb511f0ca4d88eaac8352b61097" category="paragraph">您可以使用任务选项卡重新启动节点。对于设备节点，您还可以使用任务选项卡将设备置于维护模式。</block>
  <block id="1c7813b2101dd4c2b5d6ce6762a506c4" category="list-text">从任务选项卡重新启动网格节点会在目标节点上发出 reboot 命令。重新启动节点时，该节点将关闭并重新启动。所有服务都会自动重新启动。</block>
  <block id="2d5b3cc77dcae0a75f5d9a11d84a6b4c" category="paragraph">如果您计划重新启动存储节点，请注意以下事项：</block>
  <block id="386f22c59d884f73ffabbdd3cdc465c0" category="list-text">如果 ILM 规则指定了 " 双提交 " 的载入行为或规则指定了 " 已平衡 " ，并且无法立即创建所有必需的副本，则 StorageGRID 会立即将任何新载入的对象提交到同一站点上的两个存储节点，并在稍后评估 ILM 。如果要重新启动给定站点上的两个或多个存储节点，则在重新启动期间可能无法访问这些对象。</block>
  <block id="c69c9d83bb77a7e4e6580e2615651a09" category="list-text">为了确保您可以在存储节点重新启动时访问所有对象，请在重新启动节点之前，停止在站点上载入对象大约一小时。</block>
  <block id="e39e3e0af00a20fee35687bfa57d854c" category="list-text">您可能需要将 StorageGRID 设备置于维护模式才能执行某些过程，例如更改链路配置或更换存储控制器。有关说明，请参见设备的硬件安装和维护说明。</block>
  <block id="fe62ccf091158cab327749ce99c3398f" category="list-text">选择要重新启动的网格节点。</block>
  <block id="42a8b99a16aa64412f3bb3a0e3a1e0b2" category="list-text">选择 * 任务 * 选项卡。</block>
  <block id="df827068d86b2f5d5b661e7ecb632161" category="image-alt">节点 &gt; 任务 &gt; 重新启动按钮</block>
  <block id="4c9c1c7aba43cc80a0902cce0bea7773" category="list-text">选择 * 重新启动 * 。</block>
  <block id="76b92f04aff84f82fcde1da8919aa290" category="admonition">如果要重新启动主管理节点，则确认对话框会提醒您，服务停止后，浏览器与网格管理器的连接将暂时断开。</block>
  <block id="f2ad6207fdf94ea7cedbf6d6a3c09ebf" category="list-text">输入配置密码短语，然后单击 * 确定 * 。</block>
  <block id="f3c97123e18e6234746db32fb860efe8" category="list-text">等待节点重新启动。</block>
  <block id="419b9e2e1fc5f2dc42510f0a9cfda718" category="paragraph">关闭服务可能需要一些时间。</block>
  <block id="711bab39ec5a163794eb7f9efc7414e8" category="paragraph">节点重新启动时， * 节点 * 页面左侧会显示灰色图标（管理员关闭）。当所有服务重新启动且节点已成功连接到网格时， * 节点 * 页面应显示正常状态（节点名称左侧没有图标），表示没有活动警报且节点已连接到网格。</block>
  <block id="4eb656b08f6a86cc9d74753ecadea8ed" category="summary">/var/local/log/bycast.log 文件是 StorageGRID 软件的主要故障排除文件。每个网格节点都有一个 `byncast.log` 文件。该文件包含特定于该网格节点的消息。</block>
  <block id="1dbc2cb58d7d224da0374403bb6c90b8" category="paragraph">文件 ` /var/local/log/byncast.log` 是 StorageGRID 软件的主要故障排除文件。每个网格节点都有一个 `byncast.log` 文件。该文件包含特定于该网格节点的消息。</block>
  <block id="88437af1449d58935d6c39f3ed36b6e4" category="paragraph">文件 ` /var/local/log/byncast-err.log` 是 `byncast.log` 的子集。它包含严重性错误和严重的消息。</block>
  <block id="89d30d0c5596d693ac83bdbab3b77aea" category="section-title">bycast.log 的文件轮换</block>
  <block id="4570403b18d79e5798778647ff8cff52" category="paragraph">当 `byncast.log` 文件达到 1 GB 时，将保存现有文件并启动新的日志文件。</block>
  <block id="14f863a6a095d77acf733e30c9465a84" category="paragraph">保存的文件将重命名为 `byncast.log.1` ，新文件名为 `byncast.log` 。当新的 `byncast.log` 达到 1 GB 时， `byncast.log.1` 将重命名并压缩为 `byncast.log.2.gz` ，而 `byncast.log` 将重命名为 `byncast.log.1` 。</block>
  <block id="55b8d6a82d4e75aafaea65090e63c79d" category="paragraph">`byncast.log` 的轮换限制为 21 个文件。创建 `byncast.log` 文件的第 22 个版本时，将删除最旧的文件。</block>
  <block id="f33108650c2b3a6e45deecff4cbe783a" category="paragraph">`byncast-err.log` 的轮换限制为七个文件。</block>
  <block id="5d697351fd411159834160152fa9f010" category="admonition">如果日志文件已被压缩，则不能将其解压缩到写入该文件的同一位置。将文件解压缩到同一位置可能会干扰日志轮换脚本。</block>
  <block id="53e71151103edf97a563d2b1c128b02a" category="section-title">bycast.log 中的消息</block>
  <block id="76922693e9db4cc8140cd70d890b51fc" category="paragraph">`byncast.log` 中的消息由 ADE （异步分布式环境）写入。ADE 是每个网格节点的服务所使用的运行时环境。</block>
  <block id="4e2c796b4e0648ddf46fed77dc1a85f4" category="paragraph">ADE 消息示例：</block>
  <block id="c25296854e43c79cbaf630c7f144196a" category="paragraph">ADE 消息包含以下信息：</block>
  <block id="0a9ec64804faf2108a160a187cfacab2" category="cell">消息段</block>
  <block id="a8a5e1bfc72c259034ed2eb2f4447538" category="cell">示例中的值</block>
  <block id="5c7209cbcf1475a6e48114564f387e20" category="paragraph">节点 ID</block>
  <block id="f957633e2fa870728787b04e9b222cb6" category="cell">12455685</block>
  <block id="d70a248e69b1bc76fb079fedf68d36d0" category="paragraph">ADE 进程 ID</block>
  <block id="e52b460eebdda48b90a14207b1c5d3ba" category="cell">0357819531</block>
  <block id="07403a8bc81d7865c8e040e718ec7828" category="paragraph">模块名称</block>
  <block id="9d251864337f7f7d808d5302cc97e1ca" category="cell">SVMR</block>
  <block id="8b593be803bb308bf5b196034d330bac" category="paragraph">消息标识符</block>
  <block id="ddf894b9fb738558da817646f90a1704" category="cell">EVHR</block>
  <block id="233581a71f30c4b7475ab04a53a6b7b3" category="paragraph">UTC 系统时间</block>
  <block id="70dafc5d5ec85d449b1c993f2cfbb8cf" category="cell">2019-05-05T27T17 ： 10 ： 29.784677 （ YYYY-MM-DDTHH ： MM ： SS.uuuuu ）</block>
  <block id="f04eba667839806ceb188d5cdf29e14f" category="paragraph">严重性级别</block>
  <block id="bb1ca97ec761fc37101737ba0aa2e7c5" category="cell">error</block>
  <block id="816bc2e1eac438901e0124d466ea920f" category="paragraph">内部跟踪编号</block>
  <block id="7fc3ee9aad33036cc501b2ca7c163fc1" category="cell">0906</block>
  <block id="2aaf497e681c43add10d49678d0f74e8" category="cell">SVMR ：卷 3 的运行状况检查失败，原因为 "Tut"</block>
  <block id="063bd4e9a04adf0bc71f1b159c3d0c85" category="section-title">bycast.log 中的消息严重性</block>
  <block id="1608e5004a0147f3b7979e2a979c911c" category="paragraph">已为 `byncast.log` 中的消息分配严重性级别。</block>
  <block id="bd5619e20e1b39c4b56d494612db4a5c" category="list-text">* 通知 * —发生了应记录的事件。大多数日志消息都处于此级别。</block>
  <block id="a8ab151193bd46c4c4cb619e62c231cc" category="list-text">* 警告 * - 发生意外情况。</block>
  <block id="55c95f292318aa50d2f6191510cc02c0" category="list-text">* 错误 * —发生了一个会影响操作的重大错误。</block>
  <block id="2c218b85b198ef2d7ced81d38e637ddb" category="list-text">* 严重 * —发生异常情况，导致正常操作停止。您应立即解决基本情况。网格管理器中也会显示严重消息。选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后选择 * 站点 * &gt; * 节点 * &gt; * SSM* &gt; * 事件 * 。</block>
  <block id="32003296e6113dcd1dde4ed3c46a6e78" category="section-title">bycast.log 中的错误代码</block>
  <block id="66b14a531f287350af6ab27b05057391" category="paragraph">`byncast.log` 中的大多数错误消息都包含错误代码。</block>
  <block id="ed84464801f1f5f01cad78d90f48b93d" category="paragraph">下表列出了 `byncast.log` 中的常见非数字代码。非数字代码的确切含义取决于报告该代码的上下文。</block>
  <block id="5f36cf760a5c474cc32a6d35d9c50d05" category="cell">错误代码</block>
  <block id="81d6d431d02da74f88bba8b0f1f363f2" category="paragraph">SUC</block>
  <block id="676acd05bebe09f967d3b9e9caf194a5" category="paragraph">无错误</block>
  <block id="3fd1405872f8c67990cf4bf62482df24" category="paragraph">GERR</block>
  <block id="8f1eab9ed1b86b9b1fabdaabbcddc410" category="paragraph">已完成</block>
  <block id="0e22fe7d45f8e5632a4abf369b24e29c" category="paragraph">已取消</block>
  <block id="0ea5595b7ba674b330ad853c7b93d74a" category="paragraph">异常</block>
  <block id="721c28f4c74928cc9e0bb3fef345e408" category="paragraph">已中止</block>
  <block id="653ca670c6fb2f76ae56f37949343b84" category="paragraph">输出</block>
  <block id="c85a251cc457840f1e032f1b733e9398" category="paragraph">超时</block>
  <block id="dbf6e570f41466f90d5613311f9e4e72" category="paragraph">调用</block>
  <block id="4bbb8f967da6d1a610596d7257179c2b" category="paragraph">无效</block>
  <block id="4f4ea17205fc7e84e4ed49624fd33668" category="paragraph">NFND</block>
  <block id="9e076f5885f5cc16a4b5aeb8de4adff5" category="paragraph">未找到</block>
  <block id="b158c7c9272f33adbd9c7a8c4fbbb013" category="paragraph">服务器</block>
  <block id="8d428c502adec040b6a51e880034b9f4" category="paragraph">配置</block>
  <block id="254f642527b45bc260048e30704edb39" category="paragraph">Configuration</block>
  <block id="c2759effffc94bb9acc71d69fe3e8a1f" category="paragraph">失败</block>
  <block id="d7c8c85bf79bbe1b7188497c32c3b0ca" category="paragraph">失败</block>
  <block id="2dbccb722c436d68ca6dbb835571c59e" category="paragraph">ICPL</block>
  <block id="4307e7e7986aa21a4b7c3ef2b5e948f6" category="paragraph">未完成</block>
  <block id="2ba22e58ca17bb728d522bba36cf8350" category="paragraph">完成</block>
  <block id="f92965e2c8a7afb3c1b9a5c09a263636" category="paragraph">完成</block>
  <block id="0fc3462faec8bc029b2c700a0de65ff3" category="paragraph">SUNV</block>
  <block id="9ed1d9418efab93ff8b4b1793913fabe" category="paragraph">服务不可用</block>
  <block id="3b6358c2cb95a22075915e16d0c29066" category="paragraph">下表列出了 `byncast.log` 中的数字错误代码。</block>
  <block id="b7ff49b16d9bf978075ff18a42591c47" category="cell">错误编号</block>
  <block id="dc5c7986daef50c1e02ab09b442ee34f" category="paragraph">001</block>
  <block id="9b55d5c5a53c3aa6c9cf84b350df62d6" category="paragraph">EPERM</block>
  <block id="7627e13d3e1910d7f604aa77914613da" category="paragraph">不允许执行此操作</block>
  <block id="93dd4de5cddba2c733c65f233097f05a" category="paragraph">002</block>
  <block id="41f34de2f9010303c03df6b4853b28b3" category="paragraph">已执行</block>
  <block id="95a48edf930f191149f6cc6d5aabd5d3" category="paragraph">没有此类文件或目录</block>
  <block id="e88a49bccde359f0cabb40db83ba6080" category="paragraph">003</block>
  <block id="ebf11dc1534478b98ef08883e24b6818" category="paragraph">ESRCH</block>
  <block id="3c897b759ec12a6c91869775b1655761" category="paragraph">无此过程</block>
  <block id="11364907cf269dd2183b64287156072a" category="paragraph">004</block>
  <block id="4e4cedecd54c77cb0dae2a7848f3f2df" category="paragraph">EINTR</block>
  <block id="1f7c98edbf055afba7a5d455ff648d30" category="paragraph">系统调用中断</block>
  <block id="ce08becc73195df12d99d761bfbba68d" category="paragraph">005.</block>
  <block id="4cc54443a9a90cdd1f8d2af31c9065a5" category="paragraph">EIO</block>
  <block id="e51dd78d2d02b6a1fe8595e435eaa66e" category="paragraph">I/O 错误</block>
  <block id="568628e0d993b1973adc718237da6e93" category="paragraph">006</block>
  <block id="880ae4e110566cf9b4c98a7a94da8830" category="paragraph">ENXIO</block>
  <block id="3561b9320cdac7471b578515482fcc1a" category="paragraph">没有此类设备或地址</block>
  <block id="9e94b15ed312fa42232fd87a55db0d39" category="paragraph">007</block>
  <block id="ee18d5b8c3818d9fdcf973fdc100b158" category="paragraph">E2BIG</block>
  <block id="b9bab1eefe77198a7c3069d8daabab11" category="paragraph">参数列表太长</block>
  <block id="a13ee062eff9d7295bfc800a11f33704" category="paragraph">008</block>
  <block id="5bd3636fd04dce1b0556b3c12fd7535b" category="paragraph">ENOExec</block>
  <block id="c9aedcf39467ccaa4367766d8857e294" category="paragraph">Exec 格式错误</block>
  <block id="dc5e819e186f11ef3f59e6c7d6830c35" category="paragraph">009.</block>
  <block id="061ef2ecf5015a37867fd5c688fdb222" category="paragraph">EBADF</block>
  <block id="7cb2e32436b77abfe0c61a739623c076" category="paragraph">文件编号错误</block>
  <block id="ea20a043c08f5168d4409ff4144f32e2" category="paragraph">010</block>
  <block id="22954c63e64d1c15383bca3803415e89" category="paragraph">ECHILD</block>
  <block id="09c39820a3ceadfc2347525b5939e71d" category="paragraph">无子进程</block>
  <block id="84eb13cfed01764d9c401219faa56d53" category="paragraph">011</block>
  <block id="ab75fb89d8c60a8aeb1baaedcf8ce28c" category="paragraph">EAGAIN</block>
  <block id="f915a95e609bbd517a8a1e7bdcceef37" category="paragraph">请重试</block>
  <block id="d2490f048dc3b77a457e3e450ab4eb38" category="paragraph">012</block>
  <block id="8db3dbd7b26bafda049682c8c401b74a" category="paragraph">ENOMEM</block>
  <block id="150699a9eac0857fb8496c1236679448" category="paragraph">内存不足</block>
  <block id="441954d29ad2a375cef8ea524a2c7e73" category="paragraph">013</block>
  <block id="d8691af0af565302ee7aded88dda69f9" category="paragraph">EACCE</block>
  <block id="c52a1454518514aae5d63f785cf50105" category="paragraph">权限被拒绝</block>
  <block id="0e51011a4c4891e5c01c12d85c4dcaa7" category="paragraph">014</block>
  <block id="bbfd8555074a307c1d1425c33733e52a" category="paragraph">默认</block>
  <block id="dbfdb39c2251ff72f42f7078ab347611" category="paragraph">地址错误</block>
  <block id="af032fbcb07ffc7bd2569d86ae4ce1f5" category="paragraph">015</block>
  <block id="d43a5a80e4b1ce45fddb38f9ead02167" category="paragraph">ENOTBLK</block>
  <block id="d27fa37598f993ff5d95f3f4bd74db55" category="paragraph">需要块设备</block>
  <block id="73f7634ab3f381fb40995f93740b3f8a" category="paragraph">016</block>
  <block id="194499b01c4579387c14d23ba0ef3c15" category="paragraph">EBUSY</block>
  <block id="e8afbb96dab726354daad097e7f788f0" category="paragraph">设备或资源繁忙</block>
  <block id="738cccd4fda172441f216712a488dca6" category="paragraph">017</block>
  <block id="fe5b587e469de1ade7033fd172a3ffcc" category="paragraph">EEXIST</block>
  <block id="64b4b1405f7ecef7bf165c08af78a1de" category="paragraph">文件已存在</block>
  <block id="7658d0d2112eb265d6496cbac9de1e24" category="paragraph">018</block>
  <block id="5b14d0589153fbf85edb9faa855cede2" category="paragraph">EXDEV</block>
  <block id="4a21946b754bc88ba427dc4fd83c3ddf" category="paragraph">跨设备链路</block>
  <block id="9c3ce93643ed68583a32f9056b0dd3b6" category="paragraph">019</block>
  <block id="1a247355fd3ea662e058cac1190a18a4" category="paragraph">ENODEV</block>
  <block id="2407cea95923bbd94ebb077c328fb266" category="paragraph">没有此类设备</block>
  <block id="8f03ad02c6cad600d2c00a972a9bcce6" category="paragraph">020</block>
  <block id="40cf58d8337bcddb56c276f9112217d7" category="paragraph">ENOTDIR</block>
  <block id="4436379b213e1e91e414ce1f3e92b070" category="paragraph">不是目录</block>
  <block id="f803dfeb3583d5099a58a7478f28bd75" category="paragraph">21</block>
  <block id="89cf74abbfb59199f85893806a024853" category="paragraph">EISDIR</block>
  <block id="5792d3a69cc2fb2802718c95a87c3c03" category="paragraph">是一个目录</block>
  <block id="7f5144f962efde75e0f7661e032166db" category="paragraph">0222</block>
  <block id="4ba017fca4fa1049cace6f49d490e44e" category="paragraph">EINVAL</block>
  <block id="252f5f505187b9cb9f33c06d718a9073" category="paragraph">参数无效</block>
  <block id="8fc4c7ab4453d247e011738197b6136c" category="paragraph">023</block>
  <block id="0c3e9261f8e119c1010b118dda7ed23a" category="paragraph">ENFILE</block>
  <block id="a8429c074b2e8b7ce965c1babbe81ecc" category="paragraph">文件表溢出</block>
  <block id="defd40204344c9659a0a3eb4ebc125f6" category="paragraph">024</block>
  <block id="19944f82166e78105958c27938849506" category="paragraph">EMFILE</block>
  <block id="69ccb7ef78a14aa201ceef70bfaa08ec" category="paragraph">打开的文件过多</block>
  <block id="c4de9fe96832a877668d0dced80657b8" category="paragraph">025</block>
  <block id="2fd4946cc8a396a836c1ae63ab1e15a7" category="paragraph">ENOTTY</block>
  <block id="167aeeb8b62a0a0a9933a4442bc887d7" category="paragraph">不是一种打字机</block>
  <block id="2c62105ee18ecd5f0ee37bc8c35718eb" category="paragraph">026</block>
  <block id="6df502b8a09b9453d802e223fa7c386d" category="paragraph">ETXTBSY</block>
  <block id="50824b3c1b129027295e125ccc6890bd" category="paragraph">文本文件繁忙</block>
  <block id="3994f23bfb2b89994bd6e828977b42ae" category="paragraph">027</block>
  <block id="ee59f4c65ba5696369bce16975501e0e" category="paragraph">EFBIG</block>
  <block id="4a9eb2abc7d203e51527110d11ec8e94" category="paragraph">文件太大</block>
  <block id="cf2e4f52be52a8f281a8ee892ae60535" category="paragraph">028</block>
  <block id="e654d1196cfba5f5e0c0a869185f35cf" category="paragraph">ENOSPC</block>
  <block id="9e5b486193c8dbe8b218159e809a7453" category="paragraph">设备上没有剩余空间</block>
  <block id="5c7d5705ab73466c0584cc782cb12d2e" category="paragraph">029</block>
  <block id="50c2d088032bac022e0d31a35782ae18" category="paragraph">ESPIPE</block>
  <block id="f2c4ee0940d0a4455cc54c29f44b4def" category="paragraph">非法寻道</block>
  <block id="9f9cee5b98b2e350d739b5ebea4576a6" category="paragraph">030</block>
  <block id="7d92868ccd5a66ea4cb965918256951d" category="paragraph">EROFS</block>
  <block id="e396775543515bfb2579093f9d764963" category="paragraph">只读文件系统</block>
  <block id="28fd0fbd334515deb8a8291b71941c9e" category="paragraph">0331</block>
  <block id="7e223d5ed36d74887abbe5db2a888b5a" category="paragraph">EMLINK</block>
  <block id="2115337d0b53330ac985bef8a984b0ce" category="paragraph">链路太多</block>
  <block id="9ac05befca7d6499e3abec9bdfef2b68" category="paragraph">032</block>
  <block id="14fc0d9df428444f1613078f87cf2c3e" category="paragraph">EPIPE</block>
  <block id="6681806cc935ac88a71a90c499427c58" category="paragraph">管道已断开</block>
  <block id="1732cb437260c60a0744aea8aedfa331" category="paragraph">033</block>
  <block id="d8941e64bc4f689781f047b7b935c814" category="paragraph">以登</block>
  <block id="49065bc28bc65792b68b1ea00d9eba9d" category="paragraph">数学参数不在功能域中</block>
  <block id="e1eee5e2b42d45443cdc82db1a3bc465" category="paragraph">034</block>
  <block id="5cc4e4e2a0fe22b25b923e5c8920f7d4" category="paragraph">电子书</block>
  <block id="bb2d2861891ac119776ef3d905bbcb4d" category="paragraph">数学结果不可代表</block>
  <block id="7d06a9cf10f2e9e47e77d6c6cfaa7f54" category="paragraph">035</block>
  <block id="f599fb8fcbb84cd89405b6276be7898a" category="paragraph">EDEADLK</block>
  <block id="7c15ae23e7a74f83090e8a214fe77db0" category="paragraph">可能会发生资源死锁</block>
  <block id="2618045a3a5fc883e65b6bec2fcac3c8" category="paragraph">036</block>
  <block id="5c5359d560953293e971db60ceb8adf3" category="paragraph">ENAMETOOLONG</block>
  <block id="4eeb89c9c7ae218f3d9cb4faaf8f1e38" category="paragraph">文件名太长</block>
  <block id="b6aea7af56564f32a22ce27f25936b82" category="paragraph">037</block>
  <block id="0da44c05b2341af3a11b499f311a36db" category="paragraph">ENOLCK</block>
  <block id="a73f1ac2c22619d763637436508f45ea" category="paragraph">没有可用的记录锁定</block>
  <block id="842f3298f90f01fa8d7086b05252e705" category="paragraph">038</block>
  <block id="db443917ffb0a833c65a300ecbcc8a89" category="paragraph">ENOSYS</block>
  <block id="1eca57d3d0979320ac8fd587d766ad9d" category="paragraph">未实施功能</block>
  <block id="2a452c50d7c60fb1974ac813f3c6f2bb" category="paragraph">039</block>
  <block id="a147667a26bffd6d89c2d44a682cb896" category="paragraph">ENOTEMPTY</block>
  <block id="0018515ce80a6a49ffb5efce1ca44df1" category="paragraph">目录不为空</block>
  <block id="21addf589817401ad295073cf611e4b9" category="paragraph">40</block>
  <block id="2ff7d4489a41b63a67b320b09f87a424" category="paragraph">ELOOP</block>
  <block id="ad6b2460718ff7a44ca752d35ea1c64b" category="paragraph">遇到的符号链接太多</block>
  <block id="a27ef1c79c867d68d049751af69f4b38" category="paragraph">041</block>
  <block id="2ba100d60448c3b5fe2dc55a892104f0" category="paragraph">042</block>
  <block id="3d5f9f35ec6dae7345ebd35d4e9893e1" category="paragraph">ENOMSG</block>
  <block id="7050a126f386940e480bc68ed42f19a3" category="paragraph">没有所需类型的消息</block>
  <block id="2f1ee6251bc23a0f35118b54170177cb" category="paragraph">043</block>
  <block id="df7fb67b6e118bd12d81055be28126ee" category="paragraph">EIDRM</block>
  <block id="c0551ad35c37d2809ffb71a910b908be" category="paragraph">已删除标识符</block>
  <block id="bff82d18862ce94df14bdee55295f812" category="paragraph">044</block>
  <block id="50bd98685dd9e69ce8cd2f676b19f69c" category="paragraph">ECHRNG</block>
  <block id="33525eab9b26ae9aaf478be22540a8f0" category="paragraph">通道编号超出范围</block>
  <block id="e46d0ac1f15ac7dac2a8948245a02da4" category="paragraph">045</block>
  <block id="c3929d49745f9b664250e759a8b06ea7" category="paragraph">EL2NSync</block>
  <block id="16909529aa137f74bc813bf73d42ad82" category="paragraph">2 级未同步</block>
  <block id="bf97f24695f24fac060bc44b4e97acc1" category="paragraph">046</block>
  <block id="ecef98bb61b3e33a3eb4d14306a885c9" category="paragraph">EL3HLT</block>
  <block id="8a5cdd9cbbf08347254998c52bfe2a69" category="paragraph">3 级已暂停</block>
  <block id="2c4a8495407bfb55ce1a93970445bd38" category="paragraph">047</block>
  <block id="9cce6bab8736fda12876fc883b23d347" category="paragraph">EL3RST</block>
  <block id="5be86f2d65600aa71f7074d37a932d2f" category="paragraph">3 级重置</block>
  <block id="6d4a60c0cdc04146a1ef2c56caf03d80" category="paragraph">048</block>
  <block id="68fff15481f66fbe0b238269d6297899" category="paragraph">ELNRNG</block>
  <block id="b94e55b55850157b751dfb3fc130d10a" category="paragraph">链路编号超出范围</block>
  <block id="65cfedc1257708b982a1843db9b46872" category="paragraph">049</block>
  <block id="2c6d3b790aa345f2ff06a476b5305038" category="paragraph">EUNATCH</block>
  <block id="f2b7e4999fb269aaa310cc19994f9d5e" category="paragraph">未连接协议驱动程序</block>
  <block id="a3458cbbcc333c58cfd7847834972ffe" category="paragraph">050</block>
  <block id="42166c82fd2b45699382f3d24b69975b" category="paragraph">ENOCSI</block>
  <block id="2fef7f6c834419bebc39850359726602" category="paragraph">没有可用的 CSI 结构</block>
  <block id="8c9611718f0422ac8dd0baf0903d22e5" category="paragraph">051</block>
  <block id="ba433f5c8570eadfc3c784ea8f80b862" category="paragraph">EL2HLT</block>
  <block id="e87aa017532f05d79cc0939e73099c5b" category="paragraph">级别 2 已暂停</block>
  <block id="a71d83915f8839e1da511021db1b3aa0" category="paragraph">052</block>
  <block id="f813f01761cf529f8f6fe519c66a105d" category="paragraph">EBADE</block>
  <block id="60a8bb02a64ba4df2259a474b9c957d8" category="paragraph">交换无效</block>
  <block id="5759d9ff2a54eeab381f9cf6062800e8" category="paragraph">053</block>
  <block id="b3c0cfac5f728f910db6360ff8f11585" category="paragraph">EBADR</block>
  <block id="8dc56b17c6cc752bcefcd57bbecfea22" category="paragraph">请求描述符无效</block>
  <block id="f75c3dad51560c41ab90ac39560d7a2a" category="paragraph">054</block>
  <block id="bd2cf314dbab0ae9fcdebef243715e9c" category="paragraph">EXFULL</block>
  <block id="4d02475ffceb184087f449831b264a42" category="paragraph">Exchange 已满</block>
  <block id="b7923fe9afe7142a24720692484321c5" category="paragraph">055</block>
  <block id="293761b816f979ab8d1c858f67f41493" category="paragraph">ENOANO</block>
  <block id="2eaa2a37910d31acde814dd192849627" category="paragraph">无阳极</block>
  <block id="88ddadec554e6dd3adfdd7eb1ceaef6b" category="paragraph">056</block>
  <block id="2793c5980b9f995b538504d0bf0cee7f" category="paragraph">EBADRQC</block>
  <block id="e7de9484087ce2f5ac42328a0da56d8a" category="paragraph">请求代码无效</block>
  <block id="671f8ff3e6c9b665f711c75a801c04b1" category="paragraph">057</block>
  <block id="9bda43111487cac0b8ab71a8ef6316e6" category="paragraph">EBADLT</block>
  <block id="f4e2ed1c50e0e6032e7ac8c3f6613091" category="paragraph">插槽无效</block>
  <block id="e7db56dbec713f0510010c6d997d9ddd" category="paragraph">058</block>
  <block id="682670d9ab0aaa4dc01895a59aa8f91b" category="paragraph">059</block>
  <block id="728685935be41a3864444ae2a32b4cc8" category="paragraph">EBFNT</block>
  <block id="ccc58095f058f1755ce0ca7fb075ff7a" category="paragraph">字体文件格式错误</block>
  <block id="03b90eb112838f07e019adb36c4300ed" category="paragraph">060</block>
  <block id="eb27fab371c15c12b537244b7e417dbb" category="paragraph">ENOSTR</block>
  <block id="80af71d2e5cda9fc4d3dbdfd79ff3bb2" category="paragraph">设备不是流</block>
  <block id="307fd7f231593cf189b68d28f91f63bb" category="paragraph">061</block>
  <block id="5f3349330648b58d67a4b1d6947cce78" category="paragraph">ENODATA</block>
  <block id="efba20a02ee4c1c0f9ca2ce2b5f92b0d" category="paragraph">无可用数据</block>
  <block id="18230e1fb6e5dd3cfb0bcec4f863e167" category="paragraph">062</block>
  <block id="90998328b15fa9292f306488a0aa49d6" category="paragraph">时间</block>
  <block id="27147981a9dd65f8f138adf27199070e" category="paragraph">计时器已过期</block>
  <block id="f157be1f0051274be438c6d905607d3a" category="paragraph">063</block>
  <block id="1af936d8edafbed413e1ecf8d6079386" category="paragraph">ENOSR</block>
  <block id="edbbaebd9412c0187616fb49cbaee5f4" category="paragraph">流资源不足</block>
  <block id="b34f33d0bc25185dfb84d1c9c565f228" category="paragraph">064</block>
  <block id="8d9f6fe50b398021803579a7fc06ef10" category="paragraph">ENONET</block>
  <block id="9a74b876e5ccb9344e89e9c2c10893e1" category="paragraph">计算机不在网络上</block>
  <block id="a91f7d0f27f3c35bd2692c05876cc13f" category="paragraph">065</block>
  <block id="bebb90e3515994501eadfaa2ec73e189" category="paragraph">ENOPK</block>
  <block id="e295b096f1872d410c58ee168efc694d" category="paragraph">未安装软件包</block>
  <block id="7ba15e3f075e78d4d10235aaf3b15ff8" category="paragraph">066</block>
  <block id="48a6d5856fc0b7a9d248520890bf62b6" category="paragraph">EREMOTE</block>
  <block id="7a9c0e456f2cf14eaeaa96e659b6e44b" category="paragraph">对象为远程对象</block>
  <block id="84150c44ef2321996556362d9b877f64" category="paragraph">067</block>
  <block id="15d5b936f8639e08586accd13126b5df" category="paragraph">ENOLINK</block>
  <block id="5aae6d9bc3fe4037df39e84f2cc8003a" category="paragraph">链路已切断</block>
  <block id="fb8490a9504a36c212b5a1be7b4ca7e4" category="paragraph">068</block>
  <block id="b2e971482ca67fff8d539fc9e30087e5" category="paragraph">EADV</block>
  <block id="b5b63180a7fa0f64adfb381e8843ed2f" category="paragraph">公布错误</block>
  <block id="275a967a527ef7d3279ac140323c569a" category="paragraph">069</block>
  <block id="c2152cc2e4345cd4bdc8952623c4724b" category="paragraph">ESRMNT</block>
  <block id="8d2ce65ec0066c52c956b6ff9f739480" category="paragraph">Srmount 错误</block>
  <block id="a7228a7d885a3f09046ee2a8fb2e3252" category="paragraph">070</block>
  <block id="0a02b9a128b21087cb07ffc7f81a957e" category="paragraph">eComm</block>
  <block id="25a1c8a8e01d6fb5f09a837e2bd51b8e" category="paragraph">发送时出现通信错误</block>
  <block id="a74b59c0f4fd1cc6e7ff3acb630e455c" category="paragraph">071</block>
  <block id="abf3ade32747c0f42f1ba8edfe2efef9" category="paragraph">EPROTO</block>
  <block id="b8b717b15b05bc8553c3382f97f46778" category="paragraph">协议错误</block>
  <block id="c4258e0f536604c99f79545e930d5a22" category="paragraph">072</block>
  <block id="b5150fff6ae9aa22df7bd7cac4d3885c" category="paragraph">EMULTIHOP</block>
  <block id="885c106302ca8f36c4da1a31dcd7a15e" category="paragraph">已尝试多跃点</block>
  <block id="871c14878fa75bc327ba87d2d284d596" category="paragraph">073</block>
  <block id="83381a140bbb1bccae97990378a82b8a" category="paragraph">EDOTDOT</block>
  <block id="3f4b74c01cf4ac83aaf3f32559f60a0e" category="paragraph">RFS 专用错误</block>
  <block id="31c8f1568c7dd69a946aaaa062bdbe17" category="paragraph">074</block>
  <block id="b8007787af374ea979d348b3390b64ec" category="paragraph">EBADMSG</block>
  <block id="77943e2bfce202f1d1d59ec046dbc381" category="paragraph">不是数据消息</block>
  <block id="207f466f93e1ea0d07fb2607ee058df7" category="paragraph">075</block>
  <block id="c9aa36f2079550482156725d8c58586c" category="paragraph">超越</block>
  <block id="26a50f019048b76897357fa75cd31a67" category="paragraph">对于定义的数据类型，值太大</block>
  <block id="ba55ff88bddf71220a86105441fd2fff" category="paragraph">076</block>
  <block id="34f6224f17b3c5f8b8a378af8ccf16c9" category="paragraph">ENOTUNIQ</block>
  <block id="f970e7cc7fc3e9852ef613afd06c9334" category="paragraph">名称在网络上不唯一</block>
  <block id="a861405761149022ffe871c0967b2412" category="paragraph">077</block>
  <block id="b88aa46dd635c30d03c606b8db60b21f" category="paragraph">EBADFD</block>
  <block id="dedb50ae381dac712a638179e1aa243a" category="paragraph">文件描述符处于错误状态</block>
  <block id="b1e0a5a7b01ab8d76921b9b26ea8d1f4" category="paragraph">078</block>
  <block id="a4a730a13f8b3edb549712c0313791d5" category="paragraph">错误</block>
  <block id="d8e9c1cc87c9bee864c655e2440aa03b" category="paragraph">已更改远程地址</block>
  <block id="38b18881fc8d864a177afe3864c10aba" category="paragraph">079</block>
  <block id="5ea739ed4316649f2629b2c6aca99a2c" category="paragraph">EIBAcc</block>
  <block id="823ec75d18bde87fc9d3b932ecfa4a6c" category="paragraph">无法访问所需的共享库</block>
  <block id="31b7b72368bd13d8bfca653ccbae5693" category="paragraph">080</block>
  <block id="53745eb596ffd05f1c900ac2ae669b2a" category="paragraph">EIBBAD</block>
  <block id="9a7c31bd9d1a943671d73d480b7bedd0" category="paragraph">访问损坏的共享库</block>
  <block id="13c022b0b3f191667e834e0e155b0651" category="paragraph">081</block>
  <block id="cb3ca8702768c29fd5968e97a698bc57" category="paragraph">ELIBSCN</block>
  <block id="06eb133bbfaef5b68abe123e005a7c95" category="paragraph">082</block>
  <block id="0d6c6e9dd34f8630ea9894239a814c39" category="paragraph">ELIBMAX</block>
  <block id="cb725a37531add6827ea3cbd8ffe219b" category="paragraph">正在尝试链接过多的共享库</block>
  <block id="18bbcaa5ef823894fc2814721a5976ae" category="paragraph">083</block>
  <block id="889c03d242a983579ba46b9752c9a279" category="paragraph">ELIBExec</block>
  <block id="3ea2dcc4fd002823eb2c2ff9565b149d" category="paragraph">无法直接执行共享库</block>
  <block id="37bc1b6433166494d611199664a8b3e1" category="paragraph">084</block>
  <block id="1696034d3c6a2a748b0b02e5166242c1" category="paragraph">EILSEQ</block>
  <block id="2ae153bb1df7194f6d3e064a70e8dec4" category="paragraph">字节序列非法</block>
  <block id="914b62192c43efb8aa203ef848054856" category="paragraph">085</block>
  <block id="8e4c29caeeb1fe323f467eb7fd6eb006" category="paragraph">错误</block>
  <block id="8afe45b83613006f3467cf06b2471117" category="paragraph">应重新启动中断的系统调用</block>
  <block id="bbf14f4f9bf8b235b2902781c38247b3" category="paragraph">086</block>
  <block id="224e1e9e29326567dd2fe6628101a97e" category="paragraph">ESTRPIPE</block>
  <block id="a61b2026634a7f548c4b3510ff3cc0ff" category="paragraph">流管道错误</block>
  <block id="962e611a0fdbd09ad6368caece8df75c" category="paragraph">087</block>
  <block id="6359e09e193cea20692dd61e3b1b6a1f" category="paragraph">EUSERs.</block>
  <block id="fc8be0f303a867a58b2a2be371fb5411" category="paragraph">用户过多</block>
  <block id="d5f038a4537e6a3f89b32ae3227b6702" category="paragraph">088</block>
  <block id="e6be2e6903887d6a3437f6ba47ca2e12" category="paragraph">ENOTSOCK</block>
  <block id="2060a9791286d792976644e4dfd27d7e" category="paragraph">在非套接字上执行套接字操作</block>
  <block id="5072d348b267983ddc0786d821c3fe32" category="paragraph">089</block>
  <block id="504f4f6058a615a17165b695e8f0733f" category="paragraph">EDESTADDRREQ</block>
  <block id="b9dfbbcaee5ab302865ff2a993bd6337" category="paragraph">目标地址为必填项</block>
  <block id="56d9ba4ec637e6b48278c3a7837db9e9" category="paragraph">090</block>
  <block id="bf346269352e9e61da61f43b20f2f204" category="paragraph">EMSSIZE</block>
  <block id="a77463f3da304929ccfb14b68f45cb27" category="paragraph">消息太长</block>
  <block id="d2716515bd05082789a31002d4bbc958" category="paragraph">091</block>
  <block id="5d9fa8bbacdb95e7bcdba2bdc9a191c9" category="paragraph">EPROTOTYPE</block>
  <block id="e345a1ab82826d8fec9b994dfc52d57f" category="paragraph">套接字的协议类型错误</block>
  <block id="e64770ac6bac05626b4f59b6a03e2ff8" category="paragraph">092</block>
  <block id="8f6d4d17f01dd41142a1147a07542888" category="paragraph">ENOPROTOOPT</block>
  <block id="fa957c11fbf399967d108501f4a53405" category="paragraph">协议不可用</block>
  <block id="f43686bab1c60489c1eac5ecb1ec8c7b" category="paragraph">093</block>
  <block id="5c2d2948a8a7e7c8415edc0bb54fb101" category="paragraph">产品说明</block>
  <block id="54a1b44a892ca1cb9be382183f2cbe20" category="paragraph">不支持协议</block>
  <block id="ebf11048b18616fbd6ba58d38a1858be" category="paragraph">094</block>
  <block id="106e73495942bf4d5385052bc6d8df64" category="paragraph">ESOCKTNOSUPPORT</block>
  <block id="42d948b2116f1697f8cb5a986c1b1288" category="paragraph">不支持套接字类型</block>
  <block id="fb9ce87f03a0429d0af0760d01b74612" category="paragraph">095</block>
  <block id="6144b9516f7ebbf4bc8650072d988067" category="paragraph">EOPNOTSUPP</block>
  <block id="e8589fd5d34e39eff4a4c58b74e4a412" category="paragraph">传输端点上不支持此操作</block>
  <block id="95b3019deacb238e7455893b97926528" category="paragraph">096</block>
  <block id="9f84b9304a101a8b8fa8f36c66ab2305" category="paragraph">EPFNOSUPPORT</block>
  <block id="a0c122c1b6740c5b1d5b8e7d86c3a59d" category="paragraph">不支持协议系列</block>
  <block id="64b2c118675af170ec2f5274d45852d7" category="paragraph">097</block>
  <block id="fa945e58887d7f75c3a4810ce7b9ba06" category="paragraph">EAFNOSUPPORT</block>
  <block id="755b6cac1dd919a32f34d3a342a463e7" category="paragraph">协议不支持地址系列</block>
  <block id="92daa86ad43a42f28f4bf58e94667c95" category="paragraph">098</block>
  <block id="ab6660ef146116405472dbe51ded359c" category="paragraph">EADDRINUSE</block>
  <block id="30fa62ee914ef0e1b44d2965f55cfe51" category="paragraph">地址已在使用中</block>
  <block id="8638096e4ddb49a0dd6592c57d9f50ab" category="paragraph">099</block>
  <block id="36ac74d3ed0089e6d249e173802e73cb" category="paragraph">EADDRNOTAVAIL</block>
  <block id="902098a24ba9b8c2e712c78279659446" category="paragraph">无法分配请求的地址</block>
  <block id="c97ea1b2a351efa2e27adaea0b346103" category="paragraph">ENETDOWN</block>
  <block id="9d4848417bb6c4a1457dd5ea44483b9f" category="paragraph">网络已关闭</block>
  <block id="38b3eff8baf56627478ec76a704e9b52" category="paragraph">101.</block>
  <block id="41ead59eabb888e0213e5c4fe2bfffd8" category="paragraph">ENETUNREACH</block>
  <block id="732459f835489c5b33ba494b4cf0e0f1" category="paragraph">无法访问网络</block>
  <block id="ec8956637a99787bd197eacd77acce5e" category="paragraph">102.</block>
  <block id="e3e7b57ca402abf8c9738d916bd6d06d" category="paragraph">ENETRESET</block>
  <block id="da70fa5c934d0cc9178efff5a2ec8d3c" category="paragraph">由于重置，网络已断开连接</block>
  <block id="6974ce5ac660610b44d9b9fed0ff9548" category="paragraph">103.</block>
  <block id="0761e06334b125c84dc7b471f6abc32e" category="paragraph">已完成</block>
  <block id="f07633dc7c73d5dda5fdd4362e31f136" category="paragraph">软件导致连接中止</block>
  <block id="c9e1074f5b3f9fc8ea15d152add07294" category="paragraph">104</block>
  <block id="db578acb71b020e7e09c2e6f59013809" category="paragraph">ECONNRESET</block>
  <block id="cc248e0b1cbcb7a6bf8c335da374fcc1" category="paragraph">对等方重置连接</block>
  <block id="65b9eea6e1cc6bb9f0cd2a47751a186f" category="paragraph">105.</block>
  <block id="1b30524842c2f15f6091ca5a7fe2c783" category="paragraph">ENOBUFS</block>
  <block id="1eaecebcdde3a2fc9bbbc8a1eca099c4" category="paragraph">无可用缓冲区空间</block>
  <block id="f0935e4cd5920aa6c7c996a5ee53a70f" category="paragraph">106.</block>
  <block id="2110bfdecdc493223b67c464c637c110" category="paragraph">EISCONN</block>
  <block id="994097b2035c834fd0c6b50894242f18" category="paragraph">传输端点已连接</block>
  <block id="a97da629b098b75c294dffdc3e463904" category="paragraph">107.</block>
  <block id="8c414727f844643f2c2d4bc3b7c41bce" category="paragraph">ENOTCONN</block>
  <block id="1340c20e28c73df1c66c043005c9247c" category="paragraph">传输端点未连接</block>
  <block id="a3c65c2974270fd093ee8a9bf8ae7d0b" category="paragraph">108.</block>
  <block id="b6b367c12b2f3bbfc26e7ec770b2179d" category="paragraph">ESHUTDOWN</block>
  <block id="164c95c0f02c555f5708889667b4caee" category="paragraph">传输端点关闭后无法发送</block>
  <block id="2723d092b63885e0d7c260cc007e8b9d" category="paragraph">109.</block>
  <block id="1bda7ad70235ffe673f8e18fcf99b544" category="paragraph">ETOOMANYREFS</block>
  <block id="e837ca5d2fa409f9ea1f05e96a0a5665" category="paragraph">引用过多：无法接合</block>
  <block id="5f93f983524def3dca464469d2cf9f3e" category="paragraph">110</block>
  <block id="196070b5afc11e02989d3e7df0b2ffe5" category="paragraph">ETIMEDOUT</block>
  <block id="315a8da0ce460ec10c4ff1b6e4f3acf8" category="paragraph">ECONNREFUSED</block>
  <block id="7f6ffaa6bb0b408017b62254211691b5" category="paragraph">112</block>
  <block id="81f7537ae282ab9f88f1efe7709b9cb9" category="paragraph">EHOSTDOWN</block>
  <block id="58d22835f19d3094d125d4fbfd5d2443" category="paragraph">主机已关闭</block>
  <block id="73278a4a86960eeb576a8fd4c9ec6997" category="paragraph">113</block>
  <block id="b23b885b5906dde71cb137842a4d2409" category="paragraph">EHOSTUNREACH</block>
  <block id="d41e1ff400847dc63de9f6f79d466975" category="paragraph">没有到主机的路由</block>
  <block id="5fd0b37cd7dbbb00f97ba6ce92bf5add" category="paragraph">114</block>
  <block id="3d621f54d392f78ceee60fc9956560e2" category="paragraph">EALREADY</block>
  <block id="edcf3f46911a884d70efd1bbe72ad064" category="paragraph">操作已在进行中</block>
  <block id="2b44928ae11fb9384c4cf38708677c48" category="paragraph">115</block>
  <block id="e3a82f54b1a5fa475c3c7de94792030c" category="paragraph">EINPROGRESS</block>
  <block id="5921cad06eed132eb216eb097e2fed96" category="paragraph">操作正在进行中</block>
  <block id="c45147dee729311ef5b5c3003946c48f" category="paragraph">116</block>
  <block id="eb160de1de89d9058fcb0b968dbbbd68" category="paragraph">117</block>
  <block id="fe7ace371da97779aed291d71282cec5" category="paragraph">EUC</block>
  <block id="204298832d64dfd7860a78b5b304299e" category="paragraph">结构需要清理</block>
  <block id="5ef059938ba799aaa845e1c2e8a762bd" category="paragraph">118</block>
  <block id="b0a26fd5868fe0e855a5c6ef70d45dca" category="paragraph">ENOTCAM</block>
  <block id="cc6f4bb123b5edaec2a2e6f9b5c43b1c" category="paragraph">不是名为 type 的 Xenix 文件</block>
  <block id="07e1cd7dca89a1678042477183b7ac3f" category="paragraph">119</block>
  <block id="b5059f4788e287737562b0e76066c2b8" category="paragraph">ENAVAIL</block>
  <block id="d677f1d2bf0baf47e562dd408ecb45ec" category="paragraph">没有可用的 Xenix 信号</block>
  <block id="da4fb5c6e93e74d3df8527599fa62642" category="paragraph">120</block>
  <block id="a0dcbd1f7602ecd3ee64b253d7414c63" category="paragraph">EISNAM</block>
  <block id="80a5e13f5939145f9f31515fde65aa2b" category="paragraph">是一个命名类型的文件</block>
  <block id="4c56ff4ce4aaf9573aa5dff913df997a" category="paragraph">121.</block>
  <block id="d50323c84e3ce751493c29464743563c" category="paragraph">EREMOTEIO</block>
  <block id="8532bfc51b39c7486b8cad41afdd591e" category="paragraph">远程 I/O 错误</block>
  <block id="a0a080f42e6f13b3a2df133f073095dd" category="paragraph">122.</block>
  <block id="913f9ef988170593efe58f8a14d05612" category="paragraph">EDQUOT</block>
  <block id="8ab99de86fbcd57eb4e9409b204fc71b" category="paragraph">已超过配额</block>
  <block id="0523833d5378099af7be068dc8337b28" category="paragraph">ENOMINDIUM</block>
  <block id="b57b026ced1fc2407ea531a69974b097" category="paragraph">未找到介质</block>
  <block id="c8ffe9a587b126f152ed3d89a146b445" category="paragraph">124.</block>
  <block id="505be2c75dd7b4f4d11ea102c2af8b25" category="paragraph">EMeduMTYPE</block>
  <block id="6c3eaca6c7ddfc9b47b4d1827be08e87" category="paragraph">介质类型错误</block>
  <block id="3def184ad8f4755ff269862ea77393dd" category="paragraph">125.</block>
  <block id="7a22ece21d5e3f18bc793c7598a32feb" category="paragraph">ECANCELED</block>
  <block id="33112f9149247e00010b0141b0adc833" category="paragraph">操作已取消</block>
  <block id="069059b7ef840f0c74a814ec9237b6ec" category="paragraph">126.</block>
  <block id="e21ee2f9f16fe06818f595a84cc11087" category="paragraph">ENOKEY</block>
  <block id="298a18cb27671dd80c0b2be67c57a375" category="paragraph">所需密钥不可用</block>
  <block id="ec5decca5ed3d6b8079e2e7e7bacc9f2" category="paragraph">127.</block>
  <block id="be2955210d6c25a92820debf429d799d" category="paragraph">EKEYEXPIRED</block>
  <block id="10ea4b99ca9429d6e2d50cb4491aaff8" category="paragraph">密钥已过期</block>
  <block id="76dc611d6ebaafc66cc0879c71b5db5c" category="paragraph">128.</block>
  <block id="ad4019213de46c93d090c5639aeae422" category="paragraph">EKBREVOKED</block>
  <block id="352ca91c9b54a80b5071af5408ca6278" category="paragraph">密钥已撤销</block>
  <block id="d1f491a404d6854880943e5c3cd9ca25" category="paragraph">129.</block>
  <block id="7a7cf878e58b0705f132cef1942ab107" category="paragraph">已完成</block>
  <block id="9cfeeac77816a5e30e7d8bb1bdf52887" category="paragraph">密钥已被服务拒绝</block>
  <block id="9b8619251a19057cff70779273e95aa6" category="paragraph">130</block>
  <block id="d754603e641f9e283503f194d9cc8d95" category="paragraph">终止</block>
  <block id="3c643c5c7f010d6e86fe3aaae7cebf36" category="paragraph">对于稳定可靠的 mMutexes ： owner died</block>
  <block id="1afa34a7f984eeabdbb0a7d494132ee5" category="paragraph">131.</block>
  <block id="d26281aa152e375a0b4db9cb5e43a7e3" category="paragraph">ENOTRECOVERABLE</block>
  <block id="906bba10b9bf57e93ea0064984e0eb06" category="paragraph">对于强大的 mutexes ：状态不可恢复</block>
  <block id="ea32c3df5d231181bafc0f83871161d4" category="summary">StorageGRID 系统会验证存储节点上对象数据的完整性，并检查是否存在损坏和缺失的对象。</block>
  <block id="7a998dccbdd3f77b2f533917abb95dcc" category="paragraph">验证过程有两个：后台验证和对象存在检查（以前称为前台验证）。它们协同工作，确保数据完整性。后台验证会自动运行，并持续检查对象数据的正确性。用户可以触发对象存在检查，以便更快速地验证对象是否存在（尽管不是正确）。</block>
  <block id="d5d10ea47455cdb4badb1ef71c056cc9" category="section-title">什么是后台验证？</block>
  <block id="7e234005c7f06bfca421fe9bfe7727fa" category="paragraph">后台验证过程会自动持续检查存储节点中是否存在损坏的对象数据副本，并自动尝试修复发现的任何问题。</block>
  <block id="c228b20c52347497c6258d906629361d" category="paragraph">后台验证将检查复制对象和经过纠删编码的对象的完整性，如下所示：</block>
  <block id="6c2957697a8683c53590e229e7b1cad6" category="list-text">* 复制对象 * ：如果后台验证过程发现复制的对象已损坏，则损坏的副本将从其位置中删除，并隔离到存储节点上的其他位置。然后，系统将生成一个未损坏的新副本并放置该副本以满足活动 ILM 策略的要求。新副本可能不会放置在用于原始副本的存储节点上。</block>
  <block id="3fae141d1509a1d36fbc307ac703d016" category="admonition">损坏的对象数据将被隔离而不是从系统中删除，以便仍可访问。有关访问隔离对象数据的详细信息，请联系技术支持。</block>
  <block id="dc7fa7b25707e8ef7b8cf1bb534a7a07" category="list-text">* 擦除编码对象 * ：如果后台验证过程检测到擦除编码对象的片段已损坏，则 StorageGRID 会自动尝试使用剩余的数据和奇偶校验片段在同一个存储节点上原位重建缺失的片段。如果损坏的片段无法重建，则会尝试检索对象的另一个副本。如果检索成功，则会执行 ILM 评估以创建经过纠删编码的对象的替代副本。</block>
  <block id="8854fbd7f7aa439f853dc725b51d9d3f" category="paragraph">后台验证过程仅检查存储节点上的对象。它不会检查归档节点或云存储池中的对象。对象必须超过四天，才能进行后台验证。</block>
  <block id="d6111e2cf277cf196f6726329df5a741" category="paragraph">后台验证以连续速率运行，不会干扰普通系统活动。无法停止后台验证。但是，如果您怀疑存在问题，则可以提高后台验证率，以便更快地验证存储节点的内容。</block>
  <block id="79d21a505f1b4cdf94def22bf2df4818" category="section-title">与后台验证相关的警报和警报（传统）</block>
  <block id="ea56f7dc0836143ddc42bd6d57d38829" category="paragraph">如果系统检测到某个损坏的对象，而该对象无法自动更正（因为该损坏会阻止识别该对象），则会触发 * 检测到未标识的损坏对象 * 警报。</block>
  <block id="e0069fd5843fa48799c0f0518759407d" category="paragraph">如果后台验证无法替换损坏的对象，因为它找不到其他副本，则会触发 * 对象丢失 * 警报。</block>
  <block id="c9fe67e5c57b2a95f78d04da4be03a7b" category="section-title">更改后台验证速率</block>
  <block id="ba41a01acef05c2a0a11ce5dfbb2ffc1" category="paragraph">如果您担心数据完整性，可以更改后台验证检查存储节点上复制的对象数据的速率。</block>
  <block id="edc7b8df97e5ad5eb9cc4e641f6424ff" category="paragraph">您可以更改存储节点上用于后台验证的验证速率：</block>
  <block id="33b988608bf82cdfcef21beec5ea2f68" category="list-text">Adaptive ：默认设置。此任务用于验证速度最多为 4 MB/ 秒或 10 个对象 / 秒（以先超过者为准）。</block>
  <block id="80f3e96eb715793bae5ee56058623e4d" category="list-text">high ：存储验证进展迅速，速度可能会减慢常规系统活动。</block>
  <block id="e1e2140d7d3d6e58a6ec25583cb51c95" category="paragraph">只有当您怀疑硬件或软件故障可能包含损坏的对象数据时，才使用 " 高 " 验证率。高优先级后台验证完成后，验证率将自动重置为自适应。</block>
  <block id="ca330cc10861e88e1f82be0824f1c1ef" category="list-text">选择 * 存储节点 _* &gt; * LDR* &gt; * 验证 * 。</block>
  <block id="3431e32e7f0971ed5af0acf7edc4c6a8" category="list-text">选择 * 配置 * &gt; * 主 * 。</block>
  <block id="5e928af3bedfc854e95e3876ae73e6ce" category="list-text">转至 * LDR* &gt; * 验证 * &gt; * 配置 * &gt; * 主 * 。</block>
  <block id="732744364df87c11fe08e790c615ed2d" category="list-text">在后台验证下，选择 * 验证速率 * &gt; * 高 * 或 * 验证速率 * &gt; * 自适应 * 。</block>
  <block id="72a6f4033fcbf57e4218964c9ecd056d" category="image-alt">正在设置验证率</block>
  <block id="e148d39c2e50c86f1aa32e59ddc813b8" category="admonition">将验证速率设置为高会在通知级别触发 VPRi （验证速率）传统警报。</block>
  <block id="bd111574c03fae2a7ae28cfc97cf7a6f" category="list-text">监控复制对象的后台验证结果。</block>
  <block id="76a6e64837e400e6e8b9166fbd7a66d6" category="list-text">转至 * 节点 * &gt; * 存储节点 _* &gt; * 对象 * 。</block>
  <block id="4968e9b7bbc297665e240bd1b84fe644" category="list-text">在验证部分中，监控 * 损坏对象 * 和 * 未标识的损坏对象 * 的值。</block>
  <block id="7d3b84430f0868e6d80ad83dca7bf385" category="paragraph">如果后台验证发现复制的对象数据损坏，则 * 损坏的对象 * 指标将递增， StorageGRID 将尝试从数据中提取对象标识符，如下所示：</block>
  <block id="056c3d1fb425a995c8a77d4ffba11cce" category="list-text">如果可以提取对象标识符， StorageGRID 会自动为对象数据创建一个新副本。可以在 StorageGRID 系统中满足活动 ILM 策略的任何位置创建新副本。</block>
  <block id="b6c9613d8d110bb8dd998ffcadf95a1c" category="list-text">如果无法提取对象标识符（因为它已损坏），则会增加 "Corrupt Objects Unidentifited" 指标，并触发 "* Unidentified Corrupt object detected* " 警报。</block>
  <block id="bb6db5c8f125a16da1ba5801543cbfe1" category="list-text">如果发现复制的对象数据损坏，请联系技术支持以确定损坏的根发生原因 。</block>
  <block id="b60a940577ab37aee45e210b8d1334ad" category="list-text">监控纠删编码对象的后台验证结果。</block>
  <block id="ae8bb7ed1319badfb710ec0e86f3a6e0" category="paragraph">如果后台验证发现擦除编码对象数据的损坏片段，则检测到的损坏片段属性将递增。StorageGRID 通过在同一存储节点上原位重建损坏的片段来恢复。</block>
  <block id="46ea1ed04b63b6f03a101e446c84e2f0" category="list-text">选择 * 存储节点 _* &gt; * LDR* &gt; * 擦除编码 * 。</block>
  <block id="43c93d0406eb05f226d11491b3c08a79" category="list-text">在验证结果表中，监控已检测到损坏的碎片（ ECCD ）属性。</block>
  <block id="cb9be932c092413dedb2f4ca5fc554c1" category="list-text">在 StorageGRID 系统自动还原损坏的对象后，重置损坏的对象计数。</block>
  <block id="6e662401f2b1fac75dd0e1a780765ba2" category="list-text">选择 * 存储节点 _* &gt; * LDR* &gt; * 验证 * &gt; * 配置 * 。</block>
  <block id="64f63bef782f673881ce6db4f39f9c2b" category="list-text">选择 * 重置损坏的对象计数 * 。</block>
  <block id="9c9a47b9ef7852e3dd5dc3586059a60b" category="list-text">如果您确信不需要隔离对象，可以将其删除。</block>
  <block id="ba1cae99938844083d6b7dd6a523e99b" category="admonition">如果触发了 * 对象丢失 * 警报或丢失（对象丢失）旧警报，技术支持可能希望访问隔离的对象以帮助调试底层问题描述 或尝试数据恢复。</block>
  <block id="1fd7785d818e217538860832571445dd" category="section-title">什么是对象存在检查？</block>
  <block id="4d5b449cbbecf077aa504b55e0062c18" category="paragraph">对象存在检查可验证存储节点上是否存在所有预期复制的对象副本以及经过纠删编码的片段。对象存在检查不会验证对象数据本身（后台验证会验证）；相反，它可以提供一种验证存储设备完整性的方法，尤其是在最新的硬件问题描述 可能会影响数据完整性的情况下。</block>
  <block id="51a664e130af6a36f3ca2217927b4e0b" category="paragraph">与自动执行的后台验证不同，您必须手动启动对象存在检查作业。</block>
  <block id="d9843887c9f693db177802a973fc3670" category="paragraph">对象存在检查会读取存储在 StorageGRID 中的每个对象的元数据，并验证是否存在复制的对象副本和经过纠删编码的对象片段。任何缺失的数据将按以下方式处理：</block>
  <block id="d1330521534c02272689a89ee28d4d4d" category="list-text">* 复制的副本 * ：如果缺少已复制对象数据的副本， StorageGRID 会自动尝试替换存储在系统其他位置的副本中的副本。存储节点通过 ILM 评估运行现有副本，该评估将确定此对象不再符合当前 ILM 策略，因为缺少另一个副本。系统会生成并放置一个新副本以满足系统的活动 ILM 策略。此新副本可能不会放置在存储缺失副本的同一位置。</block>
  <block id="68dccfd43b7d413d03186fd58c6d5d69" category="list-text">* 擦除编码片段 * ：如果缺少擦除编码对象的片段， StorageGRID 会自动尝试使用剩余片段在同一存储节点上原位重建缺失的片段。如果无法重建缺少的片段（因为丢失了太多的片段）， ILM 将尝试查找对象的另一个副本，以便生成经过纠删编码的新片段。</block>
  <block id="43bc0daa3b78d03e17a190243db83db6" category="section-title">运行对象存在检查</block>
  <block id="99de120ae4b9e414face1ca3fa569853" category="paragraph">一次创建并运行一个对象存在检查作业。创建作业时，您可以选择要验证的存储节点和卷。您还可以为作业选择一致性控制。</block>
  <block id="2b3efdc1051ca7c536edf4ca8519cbab" category="list-text">您具有维护或根访问权限。</block>
  <block id="49c7230e5b3b6d743cfaaafb4ed6700f" category="list-text">您已确保要检查的存储节点处于联机状态。选择 * 节点 * 以查看节点表。确保要检查的节点的节点名称旁边未显示任何警报图标。</block>
  <block id="bb0a563c4ad383bdf9170d3b88566dbd" category="list-text">您已确保要检查的节点上 * 未 * 运行以下过程：</block>
  <block id="c895c0715a15afed146c92c135bc6ad9" category="list-text">网格扩展以添加存储节点</block>
  <block id="d9f0b788b1530a17d65386edf38b11dc" category="list-text">存储节点停用</block>
  <block id="1652cbe79356be6bb7504464c1bcf284" category="list-text">恢复发生故障的存储卷</block>
  <block id="a5f7850285236749bf95f17087f748dd" category="list-text">恢复系统驱动器出现故障的存储节点</block>
  <block id="54d9d1a5455e1484135aa377fe4973f2" category="list-text">EC 重新平衡</block>
  <block id="f83dab2dc4f8fe67956ad1c2facd79b9" category="list-text">设备节点克隆</block>
  <block id="72771371d63f8664fb186f7d8f23dea4" category="paragraph">在这些过程中，对象存在检查不会提供有用的信息。</block>
  <block id="3ca23da2df841f3e11932b0ab25a580b" category="paragraph">根据网格中的对象数量，选定存储节点和卷以及选定一致性控制，完成对象存在检查作业可能需要数天或数周时间。一次只能运行一个作业，但可以同时选择多个存储节点和卷。</block>
  <block id="eb563fd423ea209404f96359c5112151" category="list-text">选择 * 维护 * &gt; * 任务 * &gt; * 对象存在检查 * 。</block>
  <block id="90e74075564b746a4f2e592cbbac0bc6" category="list-text">选择 * 创建作业 * 。此时将显示创建对象存在检查作业向导。</block>
  <block id="81f81e130c85103954af3240ebdfbc03" category="list-text">选择包含要验证的卷的节点。要选择所有联机节点，请选中列标题中的 * 节点名称 * 复选框。</block>
  <block id="49af36215853243c1c80ab17489941a7" category="paragraph">您可以按节点名称或站点进行搜索。</block>
  <block id="834ebb27ac419e00a3b061822521c573" category="paragraph">您不能选择未连接到网格的节点。</block>
  <block id="136dc09835924029e4299fa28f17233d" category="list-text">选择 * 继续 * 。</block>
  <block id="8b7ece3b725efa1ae913171d83bd0885" category="list-text">为列表中的每个节点选择一个或多个卷。您可以使用存储卷编号或节点名称搜索卷。</block>
  <block id="de8a6d8b636c4ac939def9eb21c136c2" category="paragraph">要为选定的每个节点选择所有卷，请选中列标题中的 * 存储卷 * 复选框。</block>
  <block id="1bbe0c61b61d5081c2d1acd11a1f4320" category="list-text">选择作业的一致性控制。</block>
  <block id="4f008da50c453f16b0996250866f070a" category="paragraph">一致性控制用于确定对象存在检查所使用的对象元数据副本数。</block>
  <block id="eeb98e9ced020cc1c643348c2c33aaf1" category="list-text">* 强站点 * ：在一个站点上创建两个元数据副本。</block>
  <block id="f7d359bf81205a0843c21766f959caa1" category="list-text">* 强 - 全局 * ：每个站点上有两个元数据副本。</block>
  <block id="4890160fdefde24f4b19de9fa93c1deb" category="list-text">* 全部 * （默认）：每个站点上的所有三个元数据副本。</block>
  <block id="027494198b2e558f59b8988cf1e33826" category="paragraph">有关一致性控制的详细信息，请参见向导中的说明。</block>
  <block id="93b9df5a5c08844759e6935b4ab762eb" category="list-text">查看并验证您的选择。您可以选择 * 上一步 * 以转到向导中的上一步以更新所做的选择。</block>
  <block id="b3cdec763b20613cfd5a9c9ee1de2527" category="paragraph">此时将生成并运行对象存在检查作业，直到出现以下情况之一：</block>
  <block id="3faed7b3c6912c2b44a3613a65c4dd46" category="list-text">作业完成。</block>
  <block id="f13eed193c916d682bf4a7266ff2d369" category="list-text">暂停或取消作业。您可以恢复已暂停的作业，但无法恢复已取消的作业。</block>
  <block id="65e76a3192d2da5ee556fd1cbb328845" category="list-text">作业停止。此时将触发 * 对象存在检查已停止 * 警报。按照为警报指定的更正操作进行操作。</block>
  <block id="611f21da397dd92907f0206ca9ca820f" category="list-text">作业失败。触发 * 对象存在检查失败 * 警报。按照为警报指定的更正操作进行操作。</block>
  <block id="97255795a01ca7301c4da1cbe1b958c8" category="list-text">此时将显示 " 服务不可用` " 或 "`内部服务器错误 `S` " 消息。一分钟后，刷新页面以继续监控作业。</block>
  <block id="5441ff2f6d9c62dcf6163a9cdde03b87" category="admonition">您可以根据需要离开对象存在检查页面并返回以继续监控作业。</block>
  <block id="de627d429283675c34553587d5802e6b" category="list-text">在作业运行时，查看 * 活动作业 * 选项卡，并记下检测到的缺少对象副本的值。</block>
  <block id="0faf9ffaec09e9acace47e4a3ebc605d" category="paragraph">此值表示缺少一个或多个片段的复制对象和经过纠删编码的对象的副本总数。</block>
  <block id="8fe5decc410212f516a0c0408c0a1e3a" category="paragraph">如果检测到的缺少对象副本数大于 100 ，则可能存在存储节点存储的问题描述 。</block>
  <block id="948760d2e778adb224c5b8f8c1e806d1" category="image-alt">OEC 活动作业</block>
  <block id="7c73306f09e040e037b546c6b6f89df6" category="list-text">作业完成后，执行任何其他所需操作：</block>
  <block id="877d0b408120fca96e9e7f334a3f8464" category="list-text">如果检测到缺少对象副本为零，则未发现任何问题。无需执行任何操作。</block>
  <block id="44e544177ad9406011456bb88458afed" category="list-text">如果检测到缺少对象副本大于零，并且未触发 * 对象丢失 * 警报，则系统会修复所有缺少的副本。验证是否已更正任何硬件问题，以防止将来对对象副本造成损坏。</block>
  <block id="8a8b4368afe99c68cdc61110f361dea1" category="list-text">如果检测到缺少对象副本大于零，并且已触发 * 对象丢失 * 警报，则数据完整性可能会受到影响。请联系技术支持。</block>
  <block id="7c3bff06059f31a9ec3d10d4c55fa126" category="list-text">您可以使用 grep 提取 LLST 审核消息来调查丢失的对象副本： `grep LLST audit_file_name` 。</block>
  <block id="2f307a5598cca772ba369b96759b3d1e" category="inline-xref-macro">调查丢失的对象</block>
  <block id="4f93a4be32e61c506072f88c7dd8f9df" category="paragraph">此操作步骤 类似于的 <block ref="9348adac6198873324ff545b53727d03" category="inline-xref-macro-rx"></block>，尽管对于对象副本，您搜索的是 `LLST` 而不是 `OLST` 。</block>
  <block id="29541b1df3c2047129e359aab57eb49e" category="list-text">如果您为作业选择了强站点一致性或强全局一致性控制，请等待大约三周以保持元数据一致性，然后在相同卷上重新运行此作业。</block>
  <block id="c6b7235fa608452620c0ae596cbb1e96" category="paragraph">如果 StorageGRID 有时间为作业中包含的节点和卷实现元数据一致发生原因 性，则重新运行作业可能会错误地清除报告的缺失对象副本，或者如果未选中其他对象副本，则重新运行作业可能会清除这些副本。</block>
  <block id="929e7fb3fb99ce6deb3e19cbc4879397" category="list-text">选择 * 维护 * &gt; * 对象存在检查 * &gt; * 作业历史记录 * 。</block>
  <block id="b19562b2002daf4ca8dc926ffa634a68" category="list-text">确定哪些作业已准备好重新运行：</block>
  <block id="414328f3c2a444516394a4aa1ee6781e" category="list-text">查看 * 结束时间 * 列，确定三周前运行的作业。</block>
  <block id="87acb8c97696d98750661272f4b62e2f" category="list-text">对于这些作业，请扫描一致性控制列中的强站点或强全局。</block>
  <block id="c905e6bb653022d182c092c8c452cc44" category="list-text">选中要重新运行的每个作业对应的复选框，然后选择 * 重新运行 * 。</block>
  <block id="ff51a1026afc044e206bac30dd5ced5c" category="image-alt">重新运行 OEC</block>
  <block id="f8aa2c72b9f4ebd709a944e34125082c" category="list-text">在重新运行作业向导中，查看选定节点和卷以及一致性控制。</block>
  <block id="f4efb0f63fe158c2b00bb2aebdf9d588" category="list-text">准备好重新运行作业后，请选择 * 重新运行 * 。</block>
  <block id="1ae60cc756117fdbc3ca234c3b3c01fb" category="paragraph">此时将显示活动作业选项卡。您选择的所有作业都将在强站点的一致性控制下作为一个作业重新运行。详细信息部分中的 * 相关作业 * 字段列出了原始作业的作业 ID 。</block>
  <block id="0c99ba0d885131b67b74ec449c153bb3" category="paragraph">如果您仍对数据完整性有顾虑，请转到 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * &gt; * 站点 _* &gt; * 存储节点 _* &gt; * LDR* &gt; * 验证 * &gt; * 配置 * &gt; * 主 * 并提高验证后台速率。后台验证会检查所有已存储对象数据的准确性，并修复发现的任何问题。尽快发现并修复潜在问题可降低数据丢失的风险。</block>
  <block id="0eb08e63818ea896e7f2d060a46035f0" category="summary">如果要将审核日志，应用程序日志和安全事件日志保存到网格外部的位置，请使用此操作步骤 配置外部系统日志服务器。</block>
  <block id="5b5c97803b632845df432b7876c18846" category="list-text">您有一个能够接收和存储日志文件的系统日志服务器。有关详细信息，请参见 <block ref="9180d6862535cf4500c0521a9c7bd081" category="inline-xref-macro-rx"></block>。</block>
  <block id="891c6f2d3b62c0a44d2532924f83a24c" category="list-text">如果您计划使用 TLS 或 ROLP/TLS ，则您拥有正确的服务器和客户端认证。</block>
  <block id="12f1e65ead7bbfb237ed747064e3f168" category="paragraph">如果要将审核信息发送到外部系统日志服务器，则必须先配置外部服务器。</block>
  <block id="9ab2ae568bb0a55fd8723afb1bc5f867" category="paragraph">通过将审核信息发送到外部系统日志服务器，您可以：</block>
  <block id="4023049fc3c464f6592e483e738e4489" category="list-text">更高效地收集和管理审核信息，例如审核消息，应用程序日志和安全事件</block>
  <block id="01004f5bb932ad1dfe47525bb517f347" category="list-text">减少管理节点上的网络流量，因为审核信息直接从各种存储节点传输到外部系统日志服务器，而无需通过管理节点</block>
  <block id="0df087ffe7bec1a01a575544c7f91c29" category="admonition">将日志发送到外部系统日志服务器时，超过 8192 字节的单个日志会在消息末尾截断，以符合外部系统日志服务器实施中的常见限制。</block>
  <block id="8cf6c3063a417fcaf29da8cd81972bdc" category="admonition">为了在外部系统日志服务器发生故障时最大程度地提高完整数据恢复的选项，每个节点上最多会保留 20 GB 的本地审核记录日志（ localaudit.log ）。</block>
  <block id="53cbbe3e0aceeecb7ed7c17595d55f8b" category="admonition">如果此操作步骤 中提供的配置选项不够灵活，无法满足您的要求，则可以使用专用 API `audit-destinations` 端点应用其他配置选项。例如，可以对不同的节点组使用不同的系统日志服务器。</block>
  <block id="d7274fe4a345546d6c4cdb5cb3b75b90" category="section-title">访问系统日志服务器配置向导</block>
  <block id="bd3e3e7b3cfbd08554c670430660021a" category="list-text">从 Audit and syslog server 页面中，选择 * 配置外部系统日志服务器 * 。如果先前已配置外部系统日志服务器，请选择 * 编辑外部系统日志服务器 * 。</block>
  <block id="4fdae353bf6d3066fc61906fb04fb183" category="section-title">输入系统日志信息</block>
  <block id="158c66fd1e81210b893cb6e9cbe13d72" category="list-text">在 * 主机 * 字段中输入外部系统日志服务器的有效完全限定域名或 IPv4 或 IPv6 地址。</block>
  <block id="07c6c9672cfac79f824659210ffe117d" category="list-text">输入外部系统日志服务器上的目标端口（必须是介于 1 到 65535 之间的整数）。默认端口为 514 。</block>
  <block id="12c3bb3e99b922eed478866a75700b5a" category="list-text">选择用于向外部系统日志服务器发送审核信息的协议。</block>
  <block id="b7b3154460244eb7712fe95fb685c09d" category="paragraph">建议使用 TLS 或 RELP/TLS 。您必须上传服务器证书才能使用其中任一选项。</block>
  <block id="16794d6f6737d1126ecfc7f72a2791d4" category="inline-xref-macro">使用 StorageGRID 安全证书</block>
  <block id="766601f882fb38997d35ca1ba428d265" category="paragraph">使用证书有助于确保网格与外部系统日志服务器之间的连接安全。有关详细信息，请参见 <block ref="62b2ccb9329db7759fc1f13f2c5aa371" category="inline-xref-macro-rx"></block>。</block>
  <block id="618f85b2a7e36190ce124c982fd42f23" category="paragraph">所有协议选项都需要外部系统日志服务器的支持和配置。您必须选择与外部系统日志服务器兼容的选项。</block>
  <block id="f8cbfd01c1fbfdc6d19c6c89757e413f" category="admonition">可靠事件日志记录协议（ Relp ）扩展了系统日志协议的功能，可提供可靠的事件消息传送。如果外部系统日志服务器必须重新启动，则使用 RELP 有助于防止审核信息丢失。</block>
  <block id="da0144bbc0cdfc913b2425fa081eab9a" category="list-text">【附加证书】如果您选择了 * TLS * 或 * ROLP/TLS* ，请上传以下证书：</block>
  <block id="f77e526a4d3a9e4261b56a12974d1726" category="list-text">* 服务器 CA 证书 * ：一个或多个用于验证外部系统日志服务器的可信 CA 证书（采用 PEM 编码）。如果省略此参数，则会使用默认网格 CA 证书。您在此上传的文件可能是 CA 捆绑包。</block>
  <block id="1db352919701192df14b3c4644bc3312" category="list-text">* 客户端证书 * ：用于向外部系统日志服务器进行身份验证的客户端证书（采用 PEM 编码）。</block>
  <block id="87f4669d2de82e02a74c0602f67e4093" category="list-text">* 客户端专用密钥 * ：客户端证书的专用密钥（采用 PEM 编码）。</block>
  <block id="056ad291c0c65f3aedba9e3d8ee7db57" category="admonition">如果使用客户端证书，则还必须使用客户端专用密钥。如果您提供加密的私钥，则还必须提供密码短语。使用加密的私钥不会带来显著的安全优势，因为必须存储密钥和密码短语；为了简化操作，建议使用未加密的私钥（如果可用）。</block>
  <block id="715d45ec575e5a470f42a7a98c4565a4" category="list-text">为要使用的证书或密钥选择 * 浏览 * 。</block>
  <block id="69a08012c523b9baf0f09a689e888d09" category="list-text">选择证书文件或密钥文件。</block>
  <block id="955f50fe48bab57762dd3a0e4d9ccf0a" category="list-text">选择 * 打开 * 上传文件。</block>
  <block id="c5a854e8e2c347b295d2582e299e7aa2" category="paragraph">证书或密钥文件名称旁边会显示一个绿色复选框，通知您已成功上传此证书或密钥文件。</block>
  <block id="a093603944ea429c1abfd08e1afc1d4c" category="section-title">管理系统日志内容</block>
  <block id="2e6546d2f52dfdf6639d614c2fc5096a" category="list-text">选择要发送到外部系统日志服务器的每种审核信息。</block>
  <block id="6bc23d37582ce72fa9a285882b500cf9" category="list-text">* 发送审核日志 * ： StorageGRID 事件和系统活动</block>
  <block id="15874c9a05d7a76e71d8b4f4b09a806b" category="list-text">* 发送安全事件 * ：安全事件，例如，未经授权的用户尝试登录或用户以 root 身份登录时</block>
  <block id="a2aa33b34b7bbb936facf76cf00c8f4e" category="list-text">* 发送应用程序日志 * ：日志文件可用于故障排除，其中包括：</block>
  <block id="da63af0129b9e737c56f070a29e9c107" category="list-text">bycast-err.log</block>
  <block id="027a013000ae74a3c6ae81d2374960c5" category="list-text">bycast.log</block>
  <block id="daa0b66f091e4c83966e1f09a4ea1bae" category="list-text">jaeger.log</block>
  <block id="45f5054dcddccb57d2e2e94f5597010a" category="list-text">nms.log （仅限管理节点）</block>
  <block id="b072f9098f8ec01eacb44440d26dc465" category="list-text">prometheus.log</block>
  <block id="4834b7cc19f7ec9afe37fed5fc065983" category="list-text">raft.log</block>
  <block id="b129bc122d9cf64dfc7ed35518a6885d" category="list-text">hagroups.log</block>
  <block id="bf3a5468cbaed9e005fd0bd96e8e9a07" category="list-text">使用下拉菜单为要发送的审核信息类别选择严重性和工具（消息类型）。</block>
  <block id="ce65ce6113cd770afc123a1704a1d6ed" category="paragraph">如果为严重性和设备选择 * 直通 * ，则发送到远程系统日志服务器的信息将获得与本地登录到节点时相同的严重性和设备。设置工具和严重性可以帮助您以可自定义的方式聚合日志，以便于分析。</block>
  <block id="4a59daf82b3498e93867beab44d0d685" category="list-text">对于 * 严重性 * ，如果希望发送到外部系统日志的每个消息的严重性值与本地系统日志中的严重性值相同，请选择 * 直通 * 。</block>
  <block id="667debf6dfa27f372ad1ce8c3590c7b1" category="paragraph">对于审核日志，如果选择 * 直通 * ，则严重性为 "info" 。</block>
  <block id="f0dd9f19053d6762e32f45e0bec26d4a" category="paragraph">对于安全事件，如果选择 * 直通 * ，则严重性值由节点上的 Linux 分发版生成。</block>
  <block id="4ef9927349b6fa62bbe78eca7cfdac21" category="paragraph">对于应用程序日志，如果选择 * 直通 * ，则 " 信息 " 和 " 通知 " 之间的严重性会有所不同，具体取决于问题描述 的含义。例如，添加 NTP 服务器并配置 HA 组会提供一个值 "info" ，而有意停止 SSM 或 RSM 服务则会提供一个值 "notice" 。</block>
  <block id="35f148302469cd7c6a24c7a97e87a3c2" category="list-text">如果不想使用直通值，请选择一个介于 0 到 7 之间的严重性值。</block>
  <block id="8d53dbd23af4e5bad24c086ae7e100bc" category="paragraph">选定值将应用于此类型的所有消息。如果选择使用固定值覆盖严重性，则有关不同严重性的信息将丢失。</block>
  <block id="cfcd208495d565ef66e7dff9f98764da" category="paragraph">0</block>
  <block id="941d719b1eeeb7001c65a6f4559b9059" category="paragraph">紧急：系统不可用</block>
  <block id="c74560f83cbfd98a02dc05dcebc97c55" category="paragraph">alert ：必须立即执行操作</block>
  <block id="03d6ebea8b965c79ff1551ece3e8ae95" category="paragraph">严重：严重情况</block>
  <block id="24854210a049447ed978a122239fb4ad" category="paragraph">错误：错误情况</block>
  <block id="112e4cab6018255bf232fee2a16b4f98" category="paragraph">警告：警告条件</block>
  <block id="bb74a6d7a8d121a2703c4bf025bbb3a6" category="paragraph">注意：正常但重要的情况</block>
  <block id="4a3bb8b653b992a4df6837a680e6c5c4" category="paragraph">Informational ：信息性消息</block>
  <block id="8f14e45fceea167a5a36dedd4bea2543" category="paragraph">7.</block>
  <block id="f41cf064c1b41faece131340716e1d98" category="paragraph">debug ：调试级别的消息</block>
  <block id="0ae5c16972fde19816d0128d1dfba3b5" category="list-text">对于 * 设备 * ，如果希望发送到外部系统日志的每个消息都与本地系统日志中的设备值相同，请选择 * 直通 * 。</block>
  <block id="f192bb0c9ef89496b2b4327abeab5559" category="paragraph">对于审核日志，如果选择 * 直通 * ，则发送到外部系统日志服务器的工具为 "local7" 。</block>
  <block id="652c0ed967c1aa249043635fb69874c6" category="paragraph">对于安全事件，如果选择 * 直通 * ，则设备值由节点上的 Linux 分发版生成。</block>
  <block id="96a0d43089e49a386d105194b4c8e12f" category="paragraph">对于应用程序日志，如果选择 * 直通 * ，则发送到外部系统日志服务器的应用程序日志具有以下设施值：</block>
  <block id="d870fba37d68752041265a286259efaf" category="cell">应用程序日志</block>
  <block id="227132e2ad188cb41ded60be6b046296" category="cell">直通值</block>
  <block id="fe39dc690e96e8395f13256c72d4ddbd" category="paragraph">用户或守护进程</block>
  <block id="b52e77765f9f16e0a5c6cfe59a63b16a" category="paragraph">用户，守护进程， local3 或 local4</block>
  <block id="35e9bee79b773c9023fe5f1df96624f0" category="paragraph">本地 2.</block>
  <block id="3d1bf47f65af8ecb08cb7d839ce75be6" category="paragraph">nms.log</block>
  <block id="e1bc28e8f1beac9d97588c9447c48353" category="paragraph">本地 3.</block>
  <block id="9bd88603540bcee76ec0374a17bd6730" category="paragraph">本地 4.</block>
  <block id="1274d108a43d042dccf76d44de99e186" category="paragraph">本地 5.</block>
  <block id="51ba87b7504c20a3ebbce00aacf4b5e1" category="paragraph">本地 6.</block>
  <block id="8d3b304436ecd6582f02a87135657aed" category="list-text">如果不想使用直通值，请选择 0 到 23 之间的设施值。</block>
  <block id="13abdc2dfb9ea19b6caa594506d14997" category="paragraph">选定值将应用于此类型的所有消息。如果您选择使用固定值覆盖设施，则有关不同设施的信息将丢失。</block>
  <block id="864798e8ced1fd43a14cac968720fbfc" category="cell">设施</block>
  <block id="c30d600765e07e52584373ebd9c473f6" category="paragraph">KERN （内核消息）</block>
  <block id="5788431453720bf7485daf7bfa4bf4e9" category="paragraph">用户（用户级消息）</block>
  <block id="b83a886a5c437ccd9ac15473fd6f1788" category="paragraph">邮件</block>
  <block id="8364da03fdb0e789d362bd7586f3bf7b" category="paragraph">守护进程（系统守护进程）</block>
  <block id="f4b5e1c4d46672fb2bfe77fe9cb01b71" category="paragraph">auth （安全 / 授权消息）</block>
  <block id="a0cfdba73173dbab7aafe3219addb473" category="paragraph">系统日志（由 syslogd 在内部生成的消息）</block>
  <block id="7706db84dc5b7822ecbb4bc86d0595eb" category="paragraph">LPR （行式打印机子系统）</block>
  <block id="297e7c3d5b4ac66e0b0d3b91f8002601" category="paragraph">新闻（网络新闻子系统）</block>
  <block id="c9f0f895fb98ab9159f51fd0297e236d" category="paragraph">8.</block>
  <block id="46e0017f9f8bd4ac1f18904cfa50aeaf" category="paragraph">uucp</block>
  <block id="45c48cce2e2d7fbdea1afc51c7c6ad26" category="paragraph">9</block>
  <block id="ce4d3af6201d51b46927190dda0d1e2f" category="paragraph">cron （时钟守护进程）</block>
  <block id="8285d31a53c983fa6084059c2b1d9fed" category="paragraph">安全性（安全性 / 授权消息）</block>
  <block id="6512bd43d9caa6e02c990b0a82652dca" category="paragraph">11.</block>
  <block id="c728a49363c9a93a43a7e7f232b5a54a" category="paragraph">FTP</block>
  <block id="c20ad4d76fe97759aa27a0c99bff6710" category="paragraph">12</block>
  <block id="c51ce410c124a10e0db5e4b97fc2af39" category="paragraph">13</block>
  <block id="df0d696755960e86d933148f35501bed" category="paragraph">日志审核（日志审核）</block>
  <block id="aab3238922bcc25a6f606eb525ffdc56" category="paragraph">14</block>
  <block id="7e1286b4fe9d68ab5f2b983874a325d6" category="paragraph">日志警报（日志警报）</block>
  <block id="9bf31c7ff062936a96d3c8bd1f8f2ff3" category="paragraph">15</block>
  <block id="12e97314941a87c6a02b20620d7833d8" category="paragraph">时钟（时钟守护进程）</block>
  <block id="c74d97b01eae257e44aa9d5bade97baf" category="paragraph">16.</block>
  <block id="5383337459a9ea598578681bcb0480db" category="paragraph">本地 0</block>
  <block id="70efdf2ec9b086079795c442636b55fb" category="paragraph">17</block>
  <block id="0b38c3f207fab673809810d9e049414c" category="paragraph">本地 1</block>
  <block id="6f4922f45568161a8cdf4ad2299f6d23" category="paragraph">18</block>
  <block id="1f0e3dad99908345f7439f8ffabdffc4" category="paragraph">19</block>
  <block id="3c59dc048e8850243be8079a5c74d079" category="paragraph">21</block>
  <block id="1830d14f102923840362ae13e7f7f937" category="paragraph">本地 7.</block>
  <block id="62a0989c99c0c6ddf96e43f532ce70d5" category="section-title">发送测试消息</block>
  <block id="520fc9507aac3561e96dd9d964620270" category="paragraph">在开始使用外部系统日志服务器之前，您应请求网格中的所有节点向外部系统日志服务器发送测试消息。在提交向外部系统日志服务器发送数据之前，您应使用这些测试消息来帮助验证整个日志收集基础架构。</block>
  <block id="8d747eb07650050d6097a044803369b3" category="admonition">在确认外部系统日志服务器从网格中的每个节点收到测试消息且消息已按预期进行处理之前，请勿使用外部系统日志服务器配置。</block>
  <block id="3a9df867170b3dc871da33504754945c" category="list-text">如果您不希望发送测试消息，并且您确定外部系统日志服务器配置正确，并且可以从网格中的所有节点接收审核信息，请选择 * 跳过并完成 * 。</block>
  <block id="f39625ca6828e1bdaa071f3d3eada206" category="paragraph">此时将显示一个绿色横幅，指示您的配置已成功保存。</block>
  <block id="d9549f51f4683393d673dc37cfd0ed04" category="list-text">否则，请选择 * 发送测试消息 * 。</block>
  <block id="e07ce98c3766168a9fd3eeb752877a2b" category="paragraph">测试结果会持续显示在页面上，直到您停止测试为止。测试期间，审核消息会继续发送到先前配置的目标。</block>
  <block id="4ab3a53dea422d43a935d3318519c4ce" category="inline-xref-macro">对外部系统日志服务器进行故障排除</block>
  <block id="03406122d37fb1b66f6b030f8713ed0c" category="list-text">如果收到任何错误，请更正这些错误，然后再次选择 * 发送测试消息 * 。请参见 <block ref="43a8711436dd53af09c58e333ec8f09f" category="inline-xref-macro-rx"></block> 以帮助您解决任何错误。</block>
  <block id="b008046231acad7871c3399e71761ec3" category="list-text">请等待，直到看到一个绿色横幅，指示所有节点均已通过测试。</block>
  <block id="af44eb623b875d9f3c733b5debd98184" category="list-text">检查系统日志服务器以确定是否按预期接收和处理了测试消息。</block>
  <block id="c94e5a6c1fe2711157f9dbf92c16cc69" category="admonition">如果使用的是 UDP ，请检查整个日志收集基础架构。UDP 协议不允许像其他协议那样严格地检测错误。</block>
  <block id="e67657a7435dfc25dd16ff60279e50f3" category="list-text">选择 * 停止并完成 * 。</block>
  <block id="31b3d665478f8c0f2e175d7352514d0b" category="paragraph">此时将返回到 * 审核和系统日志服务器 * 页面。此时将显示一个绿色横幅，通知您已成功保存系统日志服务器配置。</block>
  <block id="c35bc3da9a7a988ac723405f6f696c31" category="admonition">除非选择包含外部系统日志服务器的目标，否则不会将 StorageGRID 审核信息发送到外部系统日志服务器。</block>
  <block id="05448e0183bce8bd0df9112fe0baee99" category="paragraph">您可以指定将安全事件日志，应用程序日志和审核消息日志发送到何处。</block>
  <block id="b2b68559740632d3c7618fd2c0ce20e6" category="list-text">选择 * 保存 * 。然后，选择确定以接受对日志目标所做的更改。</block>
  <block id="0bef3b8f5d6b101c078116cd92269b3d" category="list-text">如果选择 * 外部系统日志服务器 * 或 * 管理节点和外部系统日志服务器 * 作为审核信息的目标，则会显示一条附加警告。查看警告文本。</block>
  <block id="cdd73fcae12bc014e686b9f6b6201fd3" category="admonition">您必须确认外部系统日志服务器可以接收测试 StorageGRID 消息。</block>
  <block id="9d36c80eabcdc1b1138cac44b99a0cc7" category="inline-xref-macro">审核消息概述</block>
  <block id="f85900f67abc989e325dd1c70004bd9b" category="paragraph"><block ref="f85900f67abc989e325dd1c70004bd9b" category="inline-xref-macro-rx"></block></block>
  <block id="23bd9013b91f07f1c16b5304e8e86df5" category="paragraph"><block ref="23bd9013b91f07f1c16b5304e8e86df5" category="inline-xref-macro-rx"></block></block>
  <block id="47f4ffe26508d2ed9117cfd6fe4a8773" category="paragraph"><block ref="47f4ffe26508d2ed9117cfd6fe4a8773" category="inline-xref-macro-rx"></block></block>
  <block id="b3aa77060afa0079443186bfefc1741b" category="paragraph"><block ref="b3aa77060afa0079443186bfefc1741b" category="inline-xref-macro-rx"></block></block>
  <block id="9278d16c2485326fef27ef2a70488c3f" category="paragraph"><block ref="9278d16c2485326fef27ef2a70488c3f" category="inline-xref-macro-rx"></block></block>
  <block id="16cb83dbbaef52433fc7d46b5a14cc4e" category="summary">如果一个或多个节点与网格断开连接，则关键 StorageGRID 操作可能会受到影响。您必须监控节点连接状态并及时解决任何问题。</block>
  <block id="4ac8530ed6e8e3b46c668e35851dba9c" category="paragraph">节点可以具有以下三种连接状态之一：</block>
  <block id="b306e0b40c77baee3d0fb945652829f6" category="list-text">如果信息板的 " 运行状况 " 面板上显示蓝色或灰色图标，请单击该图标或单击 * 网格详细信息 * 。（只有在至少有一个节点与网格断开连接时，才会显示蓝色或灰色图标以及 * 网格详细信息 * 链接。）</block>
  <block id="82999b54c8c55ffd374343e8505dfbb1" category="paragraph">此时将显示节点树中第一个蓝色节点的 "Overview" 页面。如果没有蓝色节点，则会显示树中第一个灰色节点的 " 概述 " 页面。</block>
  <block id="a0aee1cd4b9d8f825f8d9d04efcd2749" category="paragraph">在此示例中，名为 DC1-S3 的存储节点具有一个蓝色图标。节点信息面板上的 * 连接状态 * 为 * 未知 * ，并且 * 无法与节点 * 通信警报处于活动状态。此警报指示一个或多个服务无响应或无法访问节点。</block>
  <block id="63fdb3dddb377f799bf5677b10348fb8" category="image-alt">节点连接状态为蓝色</block>
  <block id="a5c2f8780d9a13ed61edf4a34aae5e4b" category="list-text">如果节点有蓝色图标，请按照以下步骤操作：</block>
  <block id="9e5fabf71cc3f28e9950b30aeaab5415" category="list-text">选择表中的每个警报，然后按照建议的操作进行操作。</block>
  <block id="f023e610bfe53cc5e0329e7059f4e830" category="paragraph">例如，您可能需要重新启动已停止的服务或重新启动节点的主机。</block>
  <block id="cbebe0f5f41b3964f16d4c5135fd852c" category="list-text">如果无法使节点恢复联机，请联系技术支持。</block>
  <block id="9cb7e0727a02d59be5b5fe17d83f4ddd" category="list-text">如果节点有灰色图标，请执行以下步骤：</block>
  <block id="4215d075a405200da62a7fc737f65868" category="paragraph">在维护过程中，灰色节点是预期的，并且可能与一个或多个警报关联。根据底层问题描述 ，这些 "`administratively down` " 节点通常会恢复联机，而无需任何干预。</block>
  <block id="95cce49aaad289f9f4353efc4514f11f" category="list-text">查看警报部分，并确定是否有任何警报影响此节点。</block>
  <block id="d4571b54485635b055c62b1366910533" category="list-text">如果一个或多个警报处于活动状态，请选择表中的每个警报，然后按照建议的操作进行操作。</block>
  <block id="8fd192227998546a22999901d658d22c" category="summary">信息生命周期管理 \ （ ILM ）系统可为网格中存储的所有对象提供数据管理。您必须监控 ILM 操作，以了解网格是否可以处理当前负载，或者是否需要更多资源。</block>
  <block id="c98bb23835172f45faeebe5475bd1c5d" category="doc">监控信息生命周期管理</block>
  <block id="7306dcaef17602fd836974102b5332aa" category="paragraph">信息生命周期管理（ ILM ）系统可为网格中存储的所有对象提供数据管理。您必须监控 ILM 操作，以了解网格是否可以处理当前负载，或者是否需要更多资源。</block>
  <block id="fc028c3596470b36120734366a4caa8c" category="paragraph">StorageGRID 系统通过应用活动 ILM 策略来管理对象。ILM 策略和关联的 ILM 规则可确定创建的副本数，创建的副本类型，副本放置位置以及每个副本的保留时间长度。</block>
  <block id="a25173787c07728b70344e6c7ee0c9d4" category="paragraph">对象载入和其他与对象相关的活动可能会超过 StorageGRID 评估 ILM 的速率，从而导致系统对无法近乎实时地执行 ILM 放置指令的对象进行排队。您可以通过绘制 waiting - Client 属性来监控 StorageGRID 是否与客户端操作保持一致。</block>
  <block id="e1b05ddbd63d568f108b085e21e9f9fd" category="paragraph">要对此属性进行绘制，请执行以下操作：</block>
  <block id="94d33fe0bf761ebe31fc24468a481a92" category="list-text">登录到网格管理器。</block>
  <block id="a371159daa52f0e7b01eeaba07c825ae" category="list-text">在信息板中，在信息生命周期管理（ ILM ）面板中找到 * 正在等待 - 客户端 * 条目。</block>
  <block id="d757754f83a36563666bd826423aa4e3" category="list-text">单击图表图标 <block ref="fef6c5928d3879aa90997661396b15f7" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="df644e85b89caf2d49f9b6adbc3bf376" category="paragraph">此示例图表显示了以下情形：等待 ILM 评估的对象数量以不可持续的方式临时增加，然后最终减少。这种趋势表明， ILM 暂时未近乎实时地完成。</block>
  <block id="86fb49471fb95133dc6139a7d20e32d7" category="image-alt">正在等待 - 客户端与时间图表</block>
  <block id="c9ea91e9b83352d85db3ff25be4bb324" category="paragraph">等待 - 客户端图表中的临时峰值是预期的。但是，如果图表上显示的值持续增加且从不下降，则网格需要更多资源来高效运行：存储节点更多，或者如果 ILM 策略将对象放置在远程位置，则网络带宽更多。</block>
  <block id="56bd8301a8bed77174cba7adc744cd37" category="paragraph">您可以使用 * 节点 * 页面进一步调查 ILM 队列。</block>
  <block id="a084ab20777d6f6c05fa66fc3b643f6d" category="list-text">选择 * 网格名称 _* &gt; * ILM * 。</block>
  <block id="ad5e3886121eebaf4958e025a2f5877b" category="list-text">将光标悬停在 ILM 队列图上，可查看给定时间点以下属性的值：</block>
  <block id="fe9d94f167dbda864abc6e7c3f82fd9f" category="list-text">* 已排队的对象（来自客户端操作） * ：由于客户端操作（例如载入）而等待 ILM 评估的对象总数。</block>
  <block id="5b61092f462d6ce4528e3ecda9816f6f" category="list-text">* 已排队的对象（从所有操作） * ：等待 ILM 评估的对象总数。</block>
  <block id="34b7a7ac7ed617763c6093f674a5d1ec" category="list-text">* 扫描速率（对象 / 秒） * ：为 ILM 扫描网格中的对象并使其排队的速率。</block>
  <block id="b0a68af6c7fc08712595af8e506b1be6" category="list-text">* 评估速率（对象 / 秒） * ：根据网格中的 ILM 策略评估对象的当前速率。</block>
  <block id="26e29ee84857a31bcfcd96f9a4e75c4d" category="list-text">在 "ILM Queue" 部分中，查看以下属性。</block>
  <block id="7ca9fe3ad28c8c4daef0f56e7569cc2d" category="admonition">"ILM Queue" 部分仅适用于网格。此信息不会显示在站点或存储节点的 "ILM " 选项卡上。</block>
  <block id="db97d95f2884035df1107cdb83e856f1" category="list-text">* 扫描期间 - 估计 * ：完成对所有对象的完整 ILM 扫描的估计时间。</block>
  <block id="4dfcaf5bcb2a25153990de851182501d" category="admonition">完全扫描并不能保证 ILM 已应用于所有对象。</block>
  <block id="8da135e3f22cabbf117f9eb1d8d14a25" category="list-text">* 已尝试修复 * ：已尝试对复制数据执行的对象修复操作总数。每当存储节点尝试修复高风险对象时，此计数都会递增。如果网格繁忙，高风险 ILM 修复会优先处理。</block>
  <block id="d25ee1b3635b660762cd7f351bd47f9f" category="admonition">如果修复后复制失败，则同一对象修复可能会再次增加。</block>
  <block id="4051fd7d7e915eed21294f1c707bc71d" category="paragraph">在监控存储节点卷恢复的进度时，这些属性可能会很有用。如果尝试的修复次数停止增加，并且已完成完整扫描，则修复可能已完成。</block>
  <block id="5aea472d3db9f9834f499a6e4dee09df" category="summary">如果您希望 StorageGRID 在发生警报时发送 SNMP 通知，则必须启用 StorageGRID SNMP 代理并配置一个或多个陷阱目标。</block>
  <block id="119cbf7ab94b300da64ed851a97d7cca" category="doc">为警报设置 SNMP 通知</block>
  <block id="239d73b46b2474385cdca0b4a7bc8555" category="paragraph">您可以使用网格管理器中的 * 配置 * &gt; * 监控 * &gt; * SNMP 代理 * 选项或网格管理 API 的 SNMP 端点来启用和配置 StorageGRID SNMP 代理。SNMP 代理支持所有三个版本的 SNMP 协议。</block>
  <block id="9c5c9629201371472debf27b7c4349d4" category="paragraph">要了解如何配置 SNMP 代理，请参见 <block ref="5c0a1c5c1754700425aaed3898088f5c" category="inline-xref-macro-rx"></block>。</block>
  <block id="4221e8ead34b19955f0cccbc4e63fa29" category="paragraph">配置 StorageGRID SNMP 代理后，可以发送两种类型的事件驱动型通知：</block>
  <block id="0b0bb8ee76324cb93174bbb4e41a4582" category="list-text">陷阱是指 SNMP 代理发送的通知，不需要管理系统确认。陷阱用于通知管理系统 StorageGRID 中发生了某种情况，例如触发警报。所有三个版本的 SNMP 均支持陷阱。</block>
  <block id="69b850e53202bca915fa36f4747591b0" category="list-text">通知与陷阱类似，但需要管理系统确认。如果 SNMP 代理未在特定时间内收到确认，则会重新发送通知，直到收到确认或达到最大重试值为止。SNMPv2c 和 SNMPv3 支持 INFORM 。</block>
  <block id="b4c2ad29cc6e211b06d73fa6a940ea18" category="paragraph">在任何严重性级别触发默认或自定义警报时，系统都会发送陷阱和通知通知通知。要禁止警报的 SNMP 通知，您必须为此警报配置静默。请参见 <block ref="e6cde2278b5401ffc7334cb091703824" category="inline-xref-macro-rx"></block>。</block>
  <block id="99b02d1ed877a4e1ac239f7a9065910f" category="paragraph">警报通知由配置为首选发送方的任何管理节点发送。默认情况下，会选择主管理节点。请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="2a690a2d25641d58694f04e79c182285" category="admonition">在指定严重性级别或更高级别触发某些警报（传统系统）时，也会发送陷阱和通知通知通知；但是，不会针对每个警报或每个警报严重性发送 SNMP 通知。请参见 <block ref="2944118cc651b06a1f98e3feab5bc9e8" category="inline-xref-macro-rx"></block>。</block>
  <block id="4149445b41c0d31383b5e147e8c3af41" category="summary">StorageGRID 警报系统旨在通知您需要关注的操作问题。旧警报系统已弃用。</block>
  <block id="cd36965f7161ebfccfbd1872e8029bb6" category="section-title">警报系统</block>
  <block id="b8ce5a4895daf69a25de80029b5965bd" category="paragraph">警报系统是用于监控 StorageGRID 系统中可能发生的任何问题的主要工具。警报系统提供了一个易于使用的界面，用于检测，评估和解决问题。</block>
  <block id="50459c1956f5ea0934a91e704127af04" category="paragraph">当警报规则条件评估为 true 时，系统将在特定严重性级别触发警报。触发警报后，将执行以下操作：</block>
  <block id="6dabb03526a66fce39ffa982222ec7c7" category="list-text">网格管理器的信息板上会显示一个警报严重性图标，当前警报计数将递增。</block>
  <block id="25936a80cb425da909e70b1903480141" category="list-text">警报显示在 * 节点 * 摘要页面和 * 节点 * &gt; * 节点 _* &gt; * 概述 * 选项卡上。</block>
  <block id="347adf1cc7845433442a8932c5703797" category="list-text">假定您已配置 SMTP 服务器并为收件人提供了电子邮件地址，则会发送电子邮件通知。</block>
  <block id="7fa8b5c0906633a9de5197a27e76cf51" category="list-text">假定您已配置 StorageGRID SNMP 代理，则会发送简单网络管理协议（ SNMP ）通知。</block>
  <block id="b88e8ccd2835c5f395af545e4cebf716" category="section-title">传统警报系统</block>
  <block id="55ec92345c7099ef029433682ef2c5d6" category="paragraph">与警报一样，当属性达到定义的阈值时，也会在特定严重性级别触发警报。但是，与警报不同的是，对于可以安全忽略的事件，系统会触发许多警报，这可能会导致电子邮件或 SNMP 通知过多。</block>
  <block id="69741e8f330d5a53055b6b1c8a208833" category="admonition">警报系统已弃用，将在未来版本中删除。如果您仍在使用传统警报，则应尽快完全过渡到警报系统。</block>
  <block id="6078a5df95ee027583c9558d057b5819" category="paragraph">触发警报后，将执行以下操作：</block>
  <block id="629c46fcac07a33acbae54abe9fb7f6d" category="list-text">警报将显示在 * 支持 * &gt; * 警报（原有） * &gt; * 当前警报 * 页面上。</block>
  <block id="ae8255baea9cfde9af630bb499296212" category="list-text">假定您已配置 SMTP 服务器并配置了一个或多个邮件列表，则会发送电子邮件通知。</block>
  <block id="2988e1f3d2d3cea8c25ed5d10632bdef" category="list-text">假设您已配置 StorageGRID SNMP 代理，则可能会发送 SNMP 通知。（并非针对所有警报或警报严重性发送 SNMP 通知。）</block>
  <block id="98e1ee6c21efb44ed19275c644c00f85" category="summary">按照以下说明监控 StorageGRID 系统，并评估和解决可能发生的问题。</block>
  <block id="a260578313859f4285eb53d1a56e136e" category="doc">监控和故障排除：概述</block>
  <block id="c090539110555acbbfce0b784c61265e" category="paragraph">以下说明介绍如何使用网格管理器监控 StorageGRID 系统。您将了解应定期监控哪些信息，如何管理警报和旧警报，如何使用 SNMP 进行监控以及如何获取其他 StorageGRID 数据，包括指标和诊断。</block>
  <block id="d4cc43d6c88a34234e0e5c4da8a1e040" category="paragraph">这些说明还介绍如何对 StorageGRID 系统进行故障排除，并介绍所有系统警报，旧警报和日志文件。</block>
  <block id="a4a7b7bd47c421681d53972b411451b9" category="paragraph">如果要在安装 StorageGRID 系统后对其进行监控和支持，请按照以下说明进行操作。</block>
  <block id="328e85806ea934c31eb3213c9d04c5c9" category="summary">您可以查看有关当前正在影响 StorageGRID 系统的警报或已解决的警报的详细信息。详细信息包括建议的更正操作，触发警报的时间以及与此警报相关的指标的当前值。</block>
  <block id="af267f7e9a60ac0fcb4db2e5d0171611" category="inline-xref-macro">静默当前警报</block>
  <block id="0e8c32204e053645dc8638365373f953" category="inline-xref-macro">更新警报规则</block>
  <block id="36671b32f2a0a3a8402f803c730bb453" category="paragraph">您也可以选择 <block ref="86c1cd7e584e1fc95f9f4604f7cf904a" category="inline-xref-macro-rx"></block> 或 <block ref="38be6496f0ca5093f49afe6fa7d1dced" category="inline-xref-macro-rx"></block>。</block>
  <block id="08c2481ec1097c4fe9625af909cdb2f7" category="list-text">根据您要查看当前警报还是已解决警报，执行以下操作之一：</block>
  <block id="364d7fd71def1c0700dede7790c5ef02" category="paragraph">当前警报</block>
  <block id="ab23b78898db53da7de7e3115c0c8b00" category="list-text">从信息板上的 " 运行状况 " 面板中，单击 * 当前警报 * 链接。只有当前至少有一个警报处于活动状态时，才会显示此链接。如果当前没有警报或当前所有警报均已静音，则此链接将隐藏。</block>
  <block id="82cecaaedeadc3d6c4ff6429f276c844" category="list-text">从 * 节点 * 页面中，为具有警报图标的节点选择 * 概述 * 选项卡。然后，在警报部分中，单击警报名称。</block>
  <block id="a17d747397e81f62edaab4f72f44089d" category="paragraph">已解决警报</block>
  <block id="887b0573d049f204f27a4e4b7d111939" category="list-text">从信息板上的 " 运行状况 " 面板中，单击 * 最近解决的警报 * 链接。（只有在过去一周触发了一个或多个警报且现已解决时，才会显示此链接。如果上周未触发和解决任何警报，则此链接将隐藏。）</block>
  <block id="ad7b5daba667db5cfdc50282d425bee6" category="list-text">根据需要展开一组警报，然后选择要查看的警报。</block>
  <block id="a6a020b10246288cb875038c0e947242" category="image-alt">警报页面选择警报</block>
  <block id="9c8111aad5fe88afe05495fd53a44246" category="paragraph">此时将显示一个对话框，其中提供了选定警报的详细信息。</block>
  <block id="1f5a59e5227e7d8a41a5726a8cd84b6c" category="image-alt">警报页面详细信息模式</block>
  <block id="8fccaa7f058711628b8a8a2f5f4ccc9c" category="list-text">查看警报详细信息。</block>
  <block id="a82be0f551b8708bc08eb33cd9ded0cf" category="cell">信息</block>
  <block id="86faacd202cf11f473d00910e03638ab" category="paragraph">_title_</block>
  <block id="1f2c61747f1a620560062e716c66293b" category="paragraph">警报的名称。</block>
  <block id="9787242dac2dfee7246b26a9c55d36c0" category="paragraph">第一段 _</block>
  <block id="7f765616fc0a4af4e7648559e3496e4b" category="paragraph">建议的操作</block>
  <block id="651137c7a1c06bbebd2517184be5d3c1" category="paragraph">此警报的建议操作。</block>
  <block id="52f36a2c3b5156fbfe872ca0624af45c" category="paragraph">在您当地时间和 UTC 时间触发警报的日期和时间。</block>
  <block id="6c959dfb4ad868c4e91dfe34bed8620a" category="paragraph">仅对于已解决的警报，是指在您当地时间和 UTC 解决警报的日期和时间。</block>
  <block id="9f1d19fa27cdb87c4119865732e665e3" category="paragraph">警报的状态：活动，静音或已解决。</block>
  <block id="9a7265951a560c0b10c8528e90f8e9c1" category="paragraph">受警报影响的站点和节点的名称。</block>
  <block id="a67784f67bb140375a77a70d3c1e64eb" category="paragraph">数据值 _</block>
  <block id="2a06778b86e44fb67d66753b1a237464" category="paragraph">此警报的指标的当前值。对于某些警报，还会显示其他值，以帮助您了解和调查此警报。例如，为 "* 低元数据存储 * " 警报显示的值包括已用磁盘空间百分比，磁盘空间总量和已用磁盘空间量。</block>
  <block id="5829d3571b35a1420389c03da89642d0" category="list-text">或者，也可以单击 * 静默此警报 * 以静默导致触发此警报的警报规则。</block>
  <block id="c284a5b87a9360c0511e6b90ea80542f" category="paragraph">要使警报规则静默，您必须具有管理警报或 root 访问权限。</block>
  <block id="570849b6c702dcc7d5b4222b09587388" category="admonition">在决定静默警报规则时，请务必小心。如果某个警报规则已静音，则在阻止完成关键操作之前，您可能无法检测到潜在问题。</block>
  <block id="b07b57c8b7670cded5ab4b4d9b13650b" category="list-text">要查看警报规则的当前条件，请执行以下操作：</block>
  <block id="42c6091e1f5cad55dccde574d6ee0ea7" category="list-text">在警报详细信息中，单击 * 查看条件 * 。</block>
  <block id="2708f188f7e4220cccc95afe6386f813" category="paragraph">此时将显示一个弹出窗口，其中列出了每个已定义严重性的 Prometheus 表达式。</block>
  <block id="98c3cc791ad9a421bc141aa71803c3da" category="image-alt">警报页面详细信息模式视图条件</block>
  <block id="9656f008e0dce9075ef892e649a243f1" category="list-text">要关闭此弹出窗口，请单击此弹出窗口以外的任意位置。</block>
  <block id="1c915caa174dba3e4da84e0a13ddd121" category="list-text">或者，也可以单击 * 编辑规则 * 来编辑导致触发此警报的警报规则：</block>
  <block id="7269b9c4b6983fb76330d7930fc45127" category="paragraph">要编辑警报规则，您必须具有管理警报或 root 访问权限。</block>
  <block id="5c77e3aae35fb8b4588c30e8205ed8f6" category="admonition">决定编辑警报规则时请务必小心。如果更改了触发值，则可能无法检测到潜在问题，直到它阻止完成关键操作为止。</block>
  <block id="62c0deeaed1a444c59afb20b2c880f37" category="list-text">要关闭警报详细信息，请单击 * 关闭 * 。</block>
  <block id="f68366a374481bffaca438ea64f97802" category="summary">如果要使用简单网络管理协议（ SNMP\ ）监控 StorageGRID ，则必须配置 StorageGRID 附带的 SNMP 代理。</block>
  <block id="622b033776b8eeef4ea052760c388c6e" category="paragraph">如果要使用简单网络管理协议（ Simple Network Management Protocol ， SNMP ）监控 StorageGRID ，则必须配置 StorageGRID 附带的 SNMP 代理。</block>
  <block id="0e7986369449f36389f0a59de8c536b5" category="list-text"><block ref="0e7986369449f36389f0a59de8c536b5" category="inline-xref-macro-rx"></block></block>
  <block id="82ec2cd6fda87713f588da75c3b1d0ed" category="section-title">功能</block>
  <block id="6a80c159498227fbadc7721aca804b09" category="paragraph">每个 StorageGRID 节点都运行一个 SNMP 代理或守护进程，该代理或守护进程可提供一个管理信息库（ Management Information Base ， MIB ）。StorageGRID MIB 包含警报和警报的表和通知定义。MIB 还包含系统问题描述 信息，例如每个节点的平台和型号。每个 StorageGRID 节点还支持一组 MIB-II 对象。</block>
  <block id="e83f12f08f00d1bea703b75852444340" category="paragraph">最初，所有节点上都会禁用 SNMP 。配置 SNMP 代理时，所有 StorageGRID 节点都会收到相同的配置。</block>
  <block id="ed8bf2b264744ee1824cfd0ba3244d0b" category="paragraph">StorageGRID SNMP 代理支持所有三个版本的 SNMP 协议。它为查询提供只读 MIB 访问权限，并可向管理系统发送两种类型的事件驱动型通知：</block>
  <block id="d5f5cf0b3ae45fdad65deb5cc8076c2d" category="list-text">* 陷阱 * 是 SNMP 代理发送的通知，不需要管理系统确认。陷阱用于通知管理系统 StorageGRID 中发生了某种情况，例如触发警报。</block>
  <block id="20f04375cc686eb876e19d13c0da9006" category="paragraph">所有三个版本的 SNMP 均支持陷阱。</block>
  <block id="809b18f8c551d7d322ca12cd33a5af25" category="list-text">* 通知 * 与陷阱类似，但它们需要管理系统确认。如果 SNMP 代理未在特定时间内收到确认，则会重新发送通知，直到收到确认或达到最大重试值为止。</block>
  <block id="bc42336988c15bb1e9490a502a29b2e1" category="paragraph">SNMPv2c 和 SNMPv3 支持 INFORM 。</block>
  <block id="7e2c22e6a1eb55c997d962e66b6df2cb" category="paragraph">在以下情况下会发送陷阱和通知通知通知：</block>
  <block id="fe9e6097f754ea9c9bf6d01ae5173ca7" category="list-text">默认或自定义警报将在任何严重性级别触发。要禁止警报的 SNMP 通知，您必须为此警报配置静默。警报通知由配置为首选发送方的任何管理节点发送。</block>
  <block id="395a1009d21f201b15c68ea7e1f633b5" category="paragraph">每个警报都会根据警报的严重性级别映射到以下三种陷阱类型之一： activeMinorAlert ， activeMajorAlert 和 activeCriticalAlert 。有关可能触发这些陷阱的警报的说明，请参见 <block ref="e57c041c201cd6f222e0a0442144f5ef" category="inline-xref-macro-rx"></block>。</block>
  <block id="d2fdf543e74191169ce7724a56700fa9" category="list-text">某些警报（旧系统）会在指定的严重性级别或更高级别触发。</block>
  <block id="6797fa3a347903e12d089b6f7cdc5897" category="admonition">不会针对每个警报或每个警报严重性发送 SNMP 通知。</block>
  <block id="a683865cde9691562e3ef603e0481f88" category="section-title">SNMP 版本支持</block>
  <block id="3fff2b85b29876e5d06222895eb8348b" category="paragraph">下表简要总结了每个 SNMP 版本支持的功能。</block>
  <block id="cf43137803fb51915f84cbc5c3068d34" category="paragraph">查询</block>
  <block id="37032095678c0e8bc0df586f608c40bc" category="paragraph">只读 MIB 查询</block>
  <block id="0acff3201e8003d47bdf55b240cd4858" category="paragraph">查询身份验证</block>
  <block id="774521a17defc9efdd617262a2c5bc7a" category="paragraph">社区字符串</block>
  <block id="b0eaadd685210ca13583b9ed51d1b4f9" category="paragraph">基于用户的安全模型（ USM ）用户</block>
  <block id="2d74d2c78457f064fe24d804c1e1ff7e" category="paragraph">仅陷阱</block>
  <block id="72e56d617730eaa8ff7a39e539c84898" category="paragraph">陷阱和通知</block>
  <block id="64e6d115731069ac9d741ef22f2f6e14" category="paragraph">通知身份验证</block>
  <block id="ccced80cb5af4cf69db5d97377e0ab00" category="paragraph">每个陷阱目标的默认陷阱社区或自定义社区字符串</block>
  <block id="dd879625b6e774723d7eef004cd972cc" category="paragraph">每个陷阱目标的 USM 用户</block>
  <block id="e646e16bee8b32e6ea29e30d01970a6c" category="section-title">限制</block>
  <block id="d89d9952a1c4cc7e4ddb9bb27a05eecb" category="list-text">StorageGRID 支持只读 MIB 访问。不支持读写访问。</block>
  <block id="5a6f135dff04eff41e20bd423939d3fc" category="list-text">网格中的所有节点都接收相同的配置。</block>
  <block id="6aa9ba553141ef1510964950edacb180" category="list-text">SNMPv3 ： StorageGRID 不支持传输支持模式（ TSM ）。</block>
  <block id="3cc63913064deb0ba441c26317112540" category="list-text">SNMPv3 ：支持的唯一身份验证协议是 SHA （ HMAC-SHA-96 ）。</block>
  <block id="9c010a009dd175a19177ba9d282625a9" category="list-text">SNMPv3 ：支持的唯一隐私协议是 AES 。</block>
  <block id="db799b1202912f0e3e3be9b1d0939f7d" category="section-title">访问 MIB</block>
  <block id="bf992c903322cb4c5cb467bba5404a63" category="paragraph">您可以在任何 StorageGRID 节点上的以下位置访问 MIB 定义文件：</block>
  <block id="0b80cc987b52ab844a1d81bd62293e3d" category="paragraph">` /usr/share/snmp/MIBS/NetApp-STORAGEGRID-MIB.txt`</block>
  <block id="8b28291c2a3c41d970036630c764b288" category="summary">您可以编辑警报规则以更改触发条件，对于自定义警报规则，您还可以更新规则名称，问题描述 和建议的操作。</block>
  <block id="5bb9e18e9587e545f504607a7550bc67" category="paragraph">编辑默认警报规则时，您可以更改次要警报，主要警报和严重警报的条件以及持续时间。编辑自定义警报规则时，您还可以编辑规则的名称，问题描述 和建议的操作。</block>
  <block id="62cb785838d030c30b04d71b89c7d58e" category="list-text">选择要编辑的警报规则对应的单选按钮。</block>
  <block id="a907626924b52dfce1093477d54d2931" category="paragraph">此时将显示编辑规则对话框。此示例显示了一个默认警报规则— Unique Name ，问题描述 和 Recommended Actions 字段已禁用，无法编辑。</block>
  <block id="09a409ca254c273df70e0309817617f1" category="image-alt">警报 &gt; 编辑规则</block>
  <block id="1a46ff3236b1fae55da78a5fb3a3c10b" category="admonition">如果您对当前警报禁用警报规则，则必须等待几分钟，使警报不再显示为活动警报。</block>
  <block id="0e493a6bfb48e2326ca688bf9a6c09ef" category="list-text">对于自定义警报规则，请根据需要更新以下信息。</block>
  <block id="c697960da70301422706e8a78f51e6de" category="admonition">您不能为默认警报规则编辑此信息。</block>
  <block id="f94b2d3eeef579b0600137b236c58f4c" category="paragraph">也可以选择触发此警报时建议采取的操作。以纯文本格式输入建议的操作（无格式化代码）。警报规则的建议操作可以介于 0 到 1 ， 024 个字符之间。</block>
  <block id="e2f36383f23346df09b6f1f57a2dd577" category="list-text">在条件部分中，输入或更新一个或多个警报严重性级别的 Prometheus 表达式。</block>
  <block id="2d81b54cd730771142f958543ccee525" category="admonition">如果要将已编辑默认警报规则的条件还原为其原始值，请选择已修改条件右侧的三个点。</block>
  <block id="a159f43cec5e7fb9eaeaecfaceaacc2c" category="image-alt">警报规则：将已编辑的条件还原为默认值</block>
  <block id="762b2123953d1cd2930789c8147b9392" category="admonition">如果您更新了当前警报的条件，则在解决上一条件之前，可能无法实施您所做的更改。下次满足规则的其中一个条件时，警报将反映更新后的值。</block>
  <block id="f0e9a10d5473e6910d670f30c48ae248" category="list-text">在 * 持续时间 * 字段中，输入在触发警报之前条件必须持续保持有效的时间量，然后选择时间单位。</block>
  <block id="537c01e0bfe642b9feea8db3fd977843" category="paragraph">如果您编辑了默认警报规则，则 "Type" 列中将显示 "* 默认值 " 。如果禁用了默认或自定义警报规则， * 状态 * 列中将显示 * 已禁用 * 。</block>
  <block id="fbb1dfa95354aa1fe89c7278ced2fcbc" category="summary">如果存储节点的对象存储剩余可用空间不足，则会触发存储状态（ SSTS ）警报。</block>
  <block id="40564bc6d5cf0970bf54ba3bb05338ab" category="paragraph">当存储节点中每个卷上的可用空间量降至存储卷软只读水印（ * 配置 * &gt; * 系统 * &gt; * 存储选项 * ）的值以下时， SSTS （存储状态）警报将在通知级别触发。</block>
  <block id="0fc4e6395938ea2ef5bf34bbfb581d0c" category="image-alt">存储选项概述</block>
  <block id="20e45d8ef926c1955ec40ed43a60a0ff" category="paragraph">例如，假设存储卷软只读水印设置为 10 GB ，这是其默认值。如果存储节点中的每个存储卷上的可用空间不足 10 GB ，则会触发 SSTS 警报。如果任何卷具有 10 GB 或更大的可用空间，则不会触发警报。</block>
  <block id="2a03d33f1dfaf3e8c59463941b60522a" category="paragraph">如果已触发 SSTS 警报，您可以按照以下步骤更好地了解问题描述 。</block>
  <block id="69740b61fc6cfaf9824e0e5468af89e2" category="list-text">从服务列中，选择与 SSTS 警报关联的数据中心，节点和服务。</block>
  <block id="9c8dada6c8fef76e738b75716419e122" category="paragraph">此时将显示网格拓扑页面。警报选项卡显示选定节点和服务的活动警报。</block>
  <block id="bfba8f886aa9af40fb01a135844bd512" category="image-alt">存储节点 &gt; LDR &gt; 存储 &gt; 警报选项卡</block>
  <block id="35e1779dc4aab3539c53cdcc6e66a437" category="paragraph">在此示例中，已在通知级别触发 SSTS （存储状态）和 SAVP （总可用空间（百分比））警报。</block>
  <block id="64322801c0d128f6ff9b21feec94adf5" category="admonition">通常， SSTS 警报和 SAVP 警报会同时触发；但是，是否同时触发这两个警报取决于以 GB 为单位的水印设置和以百分比表示的 SAVP 警报设置。</block>
  <block id="9be16141b66e5d7ae92e989724b9c7fe" category="list-text">要确定实际可用空间量，请选择 * LDR* &gt; * 存储 * &gt; * 概述 * ，然后找到总可用空间（ STAMP ）属性。</block>
  <block id="22f09902a8845aa9b9a7efad4675e061" category="image-alt">总可用空间</block>
  <block id="6a29fc1f17c57892ce30b3f0ab51bc3d" category="paragraph">在此示例中，此存储节点上 164 GB 空间中只有 19.6 GB 可用。请注意，总计值是三个对象存储卷的 * 可用 * 值之和。之所以触发 SSTS 警报，是因为这三个存储卷中的每个卷的可用空间均小于 10 GB 。</block>
  <block id="27b6bc6344c78c557f10bbd8bcd21276" category="list-text">要了解存储在一段时间内的使用情况，请选择 * 报告 * 选项卡，然后绘制过去几小时的总可用空间。</block>
  <block id="35531aa4470538c8a680ebfa71bd9e29" category="paragraph">在此示例中，总可用空间从 12 ： 00 处的大约 155 GB 降至 12 ： 35 处的 20 GB ，这与触发 SSTS 警报的时间相对应。</block>
  <block id="28e4387d3352a3bc9c32426f9c241b52" category="image-alt">总可用空间 - 图表</block>
  <block id="440ba3ed1035d14bc4e40176c731a927" category="list-text">要了解存储的使用情况占总空间的百分比，请绘制过去几小时的总可用空间（百分比）。</block>
  <block id="b0a93f0e12fc1859d7e820d1eb70f546" category="paragraph">在此示例中，总可用空间大约同时从 95% 下降到 10% 以上。</block>
  <block id="4043f554b8f9ea1b699552638e5735ce" category="image-alt">总可用空间（百分比）—图表</block>
  <block id="3fa1f6caf45cc3798d6e92f30d1ef444" category="inline-xref-macro">扩展 StorageGRID 系统</block>
  <block id="3e91650146dbaf7812fadb1a524a5708" category="list-text">根据需要添加存储容量 <block ref="5f1f8661f3b167ef7d0b70b89ce20d4a" category="inline-xref-macro-rx"></block>。</block>
  <block id="3314ffe090bd7b7bcc2eda1df0f3a943" category="paragraph">有关如何管理完整存储节点的过程，请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block>。</block>
  <block id="eff90916219132b7c1e570593db5582c" category="summary">如果提供了修补程序或新版本的 StorageGRID 软件，您应评估此更新是否适合您的系统，并在需要时进行安装。</block>
  <block id="13c1822902194aa70f5ab78075b4ec2e" category="doc">如有必要，应用修补程序或升级软件</block>
  <block id="b00931b136eb07afb4dd136a62631221" category="paragraph">StorageGRID 修补程序包含在功能或修补程序版本之外进行的软件更改。未来版本也会进行同样的更改。</block>
  <block id="672ec0a78cde6d18f99199b897f02b2a" category="list-text">选择 * 类型 / 选择版本 * 字段的向下箭头可查看可供下载的更新列表：</block>
  <block id="7b6d1fbef3ba83751f015681990ad702" category="list-text">* StorageGRID 软件版本 * ： 11._x.y_</block>
  <block id="111b8484d1c06f780307657111aabd3d" category="list-text">* StorageGRID 修补程序 * ： 11._x.y.z_</block>
  <block id="f772d42713539d97d934a78fb233fc69" category="list-text">查看更新中包含的更改：</block>
  <block id="c9f1084f3a8fac6008773992b91d47a4" category="list-text">从下拉菜单中选择版本，然后单击 * 执行 * 。</block>
  <block id="4f1f03821082dbcc7368b63246a31d20" category="list-text">使用您的 NetApp 帐户的用户名和密码登录。</block>
  <block id="068860d8cda9450cbe52a5ff1ddbb835" category="paragraph">此时将显示选定版本的下载页面。</block>
  <block id="48bb8c8848d9d6d27abff631260a258d" category="list-text">了解软件版本或修补程序中包含的更改。</block>
  <block id="d48f5749672a1d9e1af1565a48958ca4" category="list-text">有关新的软件版本，请参见 StorageGRID 升级说明中的 "`新增功能` " 主题。</block>
  <block id="48448097fa2811c50d64857ad7293a63" category="list-text">对于热修补程序，请下载 README 文件以获取热修补程序中所做更改的摘要。</block>
  <block id="29b8d189b961ee94afe9230b86b10384" category="list-text">如果您确定需要软件更新，请在继续操作之前找到相关说明。</block>
  <block id="295fec994014f2a0f200b7df05209bba" category="list-text">对于新的软件版本，请仔细按照说明升级 StorageGRID 。</block>
  <block id="52c8cead6adae723ecadd88b25f34651" category="list-text">有关热修补程序，请在恢复和维护说明中找到热修补程序操作步骤</block>
  <block id="acec4ca9f1268439dc5818d41d03e220" category="summary">您可以使用图表和报告监控 StorageGRID 系统的状态并对问题进行故障排除。网格管理器中提供的图表和报告类型包括环形图（仅限信息板上），图形和文本报告。</block>
  <block id="924562ad29e41b6dfd48e0a72fd08d53" category="paragraph">您可以使用图表和报告监控 StorageGRID 系统的状态并对问题进行故障排除。网格管理器中提供的图表和报告类型包括圆环图（仅在信息板上），图形和文本报告。</block>
  <block id="93152d31f68d43b8e30f2ce200d2d65e" category="section-title">图表类型</block>
  <block id="8640ec82a403fa9a88f63bf1bcbc4d35" category="paragraph">图表和图形汇总了特定 StorageGRID 指标和属性的值。</block>
  <block id="67df7e155b723d7c071705bbc3cb416d" category="paragraph">网格管理器信息板包含圆环图表，用于汇总网格和每个站点的可用存储。</block>
  <block id="27b9decd0942d1afda6271c496a0f81d" category="image-alt">信息板可用存储面板</block>
  <block id="60a1f6d796e2595b0ef49acf84cabc6a" category="paragraph">租户管理器信息板上的存储使用情况面板显示以下内容：</block>
  <block id="61b3338c5f580f0bdc9737cf75c67ed3" category="list-text">租户最大的分段（ S3 ）或容器（ Swift ）列表</block>
  <block id="adced5051a7935a8a0e7140c9e4d5eff" category="list-text">一个条形图，表示最大分段或容器的相对大小</block>
  <block id="81db3254ce48e32b749793cf7c477e26" category="list-text">已用总空间量，如果设置了配额，则还会显示剩余空间量和百分比</block>
  <block id="5a84e2527ba3a9b06088db7f96b9379e" category="image-alt">租户信息板</block>
  <block id="ec5dbe846516136fe9777f8f81f81491" category="paragraph">此外，还可以从节点页面和 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 页面查看显示 StorageGRID 指标和属性随时间变化的图形。</block>
  <block id="7a75d0f542589d684345679da54037d4" category="paragraph">图形有四种类型：</block>
  <block id="96ac48828fe5fb3eeb79d12260cf0f68" category="list-text">* 格拉法纳图表 * ：如节点页面上所示，格拉法纳图表用于绘制一段时间内的 Prometheus 指标值。例如，存储节点的 * 节点 * &gt; * 网络 * 选项卡包含网络流量的 Grafana 图表。</block>
  <block id="d66d6d8eb1f5a4dc704cab8d9e044b60" category="admonition">Grafana 图表也包含在预构建的信息板中，这些信息板可从 * 支持 * &gt; * 工具 * &gt; * 指标 * 页面获得。</block>
  <block id="13daa5e1f58b32bf6086b601be1b7e00" category="inline-image-macro">图标图表（新增）</block>
  <block id="92284c0f70dea02cbf937e8b00ccd87c" category="list-text">* 折线图 * ：可从节点页面和 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 页面（选择图表图标 <block ref="c39f78c5b3781f1c082ecded4046fa99" category="inline-image-macro-rx" type="image"></block> 在数据值之后，使用折线图绘制具有单位值（例如 NTP 频率偏移，以 PPM 为单位）的 StorageGRID 属性值。值的更改会按定期数据间隔（箱）绘制。</block>
  <block id="47b20445f92253c3ab75c7d9d2a6e03c" category="image-alt">折线图</block>
  <block id="dadac852f7c6242c2a21683e1929a6cb" category="list-text">* 区域图形 * ：可从节点页面和 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 页面（选择图表图标 <block ref="c39f78c5b3781f1c082ecded4046fa99" category="inline-image-macro-rx" type="image"></block> 在数据值之后，使用分区图绘制容量属性数量，例如对象计数或服务负载值。区域图形与折线图类似，但在折线下方会显示浅棕色阴影。值的更改会按定期数据间隔（箱）绘制。</block>
  <block id="854ac4997e3edefc4308934a6f312668" category="image-alt">区域图形</block>
  <block id="4478b573fa47f2640d8bf67075d69cd6" category="list-text">某些图形使用不同类型的图表图标表示 <block ref="fef6c5928d3879aa90997661396b15f7" category="inline-image-macro-rx" type="image"></block> 格式不同：</block>
  <block id="f1a1ce8929441860ff74441e3ddb777d" category="image-alt">检测到图表丢失对象</block>
  <block id="8a5bb9183bfdcd235480e976f3b8a7a0" category="list-text">* 状态图 * ：可从 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 页面访问（选择图表图标 <block ref="c39f78c5b3781f1c082ecded4046fa99" category="inline-image-macro-rx" type="image"></block> 在数据值之后，状态图用于绘制表示不同状态的属性值，例如服务状态可以是联机，备用或脱机。状态图与折线图类似，但过渡不连续，即值从一个状态值跳到另一个状态值。</block>
  <block id="c7d7a4b24333e42ef061f02b736f9388" category="image-alt">状态图</block>
  <block id="99bb37708391554a2b47a35d5c6303cc" category="paragraph"><block ref="99bb37708391554a2b47a35d5c6303cc" category="inline-xref-macro-rx"></block></block>
  <block id="40436ba71a53a3aa31dd5d3b2819c1aa" category="paragraph"><block ref="40436ba71a53a3aa31dd5d3b2819c1aa" category="inline-xref-macro-rx"></block></block>
  <block id="0a928c6ee93754da3049fce5465cffbe" category="section-title">图表图例</block>
  <block id="f3b33479d7d6283df5677f60b9ae727a" category="paragraph">用于绘制图表的线条和颜色具有特定的含义。</block>
  <block id="c5dd1b2697720fe692c529688d3f4f8d" category="cell">示例</block>
  <block id="a255099626dbda7cdd2bfcde42559c62" category="inline-image-macro">显示深绿色线条的屏幕截图</block>
  <block id="c765f88ab2a2f8d587b32ea2be7dfedc" category="paragraph"><block ref="c765f88ab2a2f8d587b32ea2be7dfedc" category="inline-image-macro-rx" type="image"></block></block>
  <block id="81e192c2302acc96647beed633a664f2" category="paragraph">报告的属性值使用深绿色线绘制。</block>
  <block id="fc62ca6e67231d1d2e95be31c49a1476" category="inline-image-macro">屏幕截图显示了指示数据绑带的阴影</block>
  <block id="a552ae881f384a14f85735bcd3afc7d8" category="paragraph"><block ref="a552ae881f384a14f85735bcd3afc7d8" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c99499788a3c98021188c776dbdb1737" category="paragraph">暗绿线周围的浅绿色阴影表示该时间范围内的实际值各不相同，并且已 "`绑定` " 以加快绘制速度。暗线表示加权平均值。绿色的范围表示箱内的最大值和最小值。区域图使用浅棕色阴影来指示容量数据。</block>
  <block id="1086c9de209dc12e7d8881f0cde0ce3d" category="inline-image-macro">显示绘图线上空白区域的屏幕截图</block>
  <block id="2c915698795952c77a80d21f0489fa99" category="paragraph"><block ref="2c915698795952c77a80d21f0489fa99" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ab990927e6414e43e9d4b92b814d03a5" category="paragraph">空白区域（未绘制任何数据）表示属性值不可用。背景可以是蓝色，灰色或灰色和蓝色混合，具体取决于报告属性的服务的状态。</block>
  <block id="8b3b7c8ff6aa6b5a11bdb64fa40cf43b" category="inline-image-macro">屏幕截图显示浅蓝色阴影，表示不确定值</block>
  <block id="ba991a3ca29b23cc35d8535ec7fda456" category="paragraph"><block ref="ba991a3ca29b23cc35d8535ec7fda456" category="inline-image-macro-rx" type="image"></block></block>
  <block id="b55cf328dbc0c8b48eafdb209f59f2d3" category="paragraph">浅蓝色阴影表示当时的部分或全部属性值不确定；属性未报告值，因为服务处于未知状态。</block>
  <block id="7a50a5eb7b4039669d81a339013cf8e6" category="inline-image-macro">屏幕截图显示了由于未知值而导致的灰色阴影</block>
  <block id="aa1745386117768b0c7be822e199a244" category="paragraph"><block ref="aa1745386117768b0c7be822e199a244" category="inline-image-macro-rx" type="image"></block></block>
  <block id="9e81ba92859592ff79b9a1ab68fb05b9" category="paragraph">灰色阴影表示当时部分或全部属性值未知，因为报告属性的服务已被管理员关闭。</block>
  <block id="7959cdf78fad90737ed40d4a77124dac" category="inline-image-macro">显示不确定值和未知值混合的屏幕截图</block>
  <block id="be6acd96c1348e95a8dec6634822c528" category="paragraph"><block ref="be6acd96c1348e95a8dec6634822c528" category="inline-image-macro-rx" type="image"></block></block>
  <block id="4f4937dc0837a2ea41d5dde275c68b49" category="paragraph">灰色和蓝色阴影混合表示当时的某些属性值不确定（因为服务处于未知状态），而其他属性值则未知，因为报告属性的服务已被管理员关闭。</block>
  <block id="90fe7f4327b626c426866cdb956c41d4" category="section-title">显示图表和图形</block>
  <block id="1fc9339b51a68b74fdf78f3b9ff5dae7" category="paragraph">节点页面包含您应定期访问的图表和图形，用于监控存储容量和吞吐量等属性。在某些情况下，尤其是在与技术支持人员合作时，您可以使用 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 页面访问其他图表。</block>
  <block id="4365a4842bc99094b5bd27721cd731cd" category="list-text">选择 * 节点 * 。然后，选择节点，站点或整个网格。</block>
  <block id="f22ac0dd5af9dae48ea45462cd110417" category="list-text">选择要查看其信息的选项卡。</block>
  <block id="d3da2e4fb5c13d0054cf22a715fa8c47" category="paragraph">某些选项卡包含一个或多个 Grafana 图表，用于绘制一段时间内 Prometheus 指标的值。例如，节点的 * 节点 * &gt; * 硬件 * 选项卡包含两个 Grafana 图表。</block>
  <block id="2feef23aff18b87af4fa7733b63c4864" category="image-alt">节点页面硬件选项卡图形</block>
  <block id="9ad7453df64da75f9b6b3301e28d24d0" category="list-text">或者，将光标悬停在图表上方可查看特定时间点的更详细值。</block>
  <block id="3f1d1ad7c682ecd3dafd11342af142ab" category="image-alt">节点页面内存使用情况详细信息</block>
  <block id="a76e3338b66e8b309b15bcacf0af5811" category="list-text">您通常可以根据需要显示特定属性或指标的图表。从节点页面上的表中，选择图表图标 <block ref="fef6c5928d3879aa90997661396b15f7" category="inline-image-macro-rx" type="image"></block> 属性名称右侧。</block>
  <block id="80bc65c91974adafc4273e05117ebe61" category="admonition">并非所有指标和属性都有图表。</block>
  <block id="34cfddb4b0a22e5be0f5c074b28d9e24" category="paragraph">* 示例 1* ：从存储节点的对象选项卡中，您可以选择图表图标 <block ref="fef6c5928d3879aa90997661396b15f7" category="inline-image-macro-rx" type="image"></block> 可查看存储节点的成功元数据存储查询总数。</block>
  <block id="bc6882037b50b77d82d6888c92f304b1" category="image-alt">元数据查询成功</block>
  <block id="546e9a31bc0b9e5c64a3e49d48ee5396" category="image-alt">对成功的元数据查询进行图表绘制</block>
  <block id="a0920cb28f55fbe927671c2a14974d80" category="paragraph">* 示例 2* ：从存储节点的对象选项卡中，您可以选择图表图标 <block ref="fef6c5928d3879aa90997661396b15f7" category="inline-image-macro-rx" type="image"></block> 可查看随时间检测到的丢失对象计数的 Grafana 图形。</block>
  <block id="73fc06cef72f764c9eab310833f7d33a" category="image-alt">对象计数表</block>
  <block id="4f1f3c7b20f62f25a0e058481b486871" category="list-text">要显示节点页面未显示的属性的图表，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。</block>
  <block id="5d259d6202029de696e04364b8d27af2" category="list-text">选择 *_GRID NODE_* &gt; * 组件或 service_* &gt; * 概述 * &gt; * 主要 * 。</block>
  <block id="97250a6c90a4fdba802cc28f8111816f" category="image-alt">周围文本所述的屏幕截图</block>
  <block id="3a61e2e4578c78b5c89f8eb98611462f" category="list-text">选择图表图标 <block ref="fef6c5928d3879aa90997661396b15f7" category="inline-image-macro-rx" type="image"></block> 属性旁边。</block>
  <block id="2a2c3a419da571ed9949cc2632247f56" category="paragraph">显示内容将自动更改为 "* 报告 * &gt; * 图表 * " 页面。此图表显示属性在过去一天的数据。</block>
  <block id="edf95c82eca76eb1a2aaa3d62ab44320" category="section-title">生成图表</block>
  <block id="679afd1d2ce5b57c612c6a44dad3cd77" category="paragraph">图表以图形方式显示属性数据值。您可以报告数据中心站点，网格节点，组件或服务。</block>
  <block id="197e4867661a1a813cf4b549a54bdbbd" category="list-text">选择 *_GRID NODE_* &gt; * 组件或 service_* &gt; * 报告 * &gt; * 图表 * 。</block>
  <block id="09cc65f4ecc358c982620e82289ced03" category="list-text">从 * 属性 * 下拉列表中选择要报告的属性。</block>
  <block id="abaf71ee62b035dc1cdf6e5a00b4938f" category="list-text">要强制 Y 轴从零开始，请取消选中 * 垂直扩展 * 复选框。</block>
  <block id="bd0ef5f1bf27ad77d618ec2a1404fd6a" category="list-text">要以完全精确度显示值，请选中 * 原始数据 * 复选框，或者要将值舍入为最多三位小数（例如，对于以百分比形式报告的属性），请取消选中 * 原始数据 * 复选框。</block>
  <block id="97c7ac835cc439d4d5ab3a31b110a4ff" category="list-text">从 * 快速查询 * 下拉列表中选择要报告的时间段。</block>
  <block id="529da80ce40f87aa4e353c4d2e82906c" category="paragraph">选择自定义查询选项以选择特定的时间范围。</block>
  <block id="ce43d0908973cd5f1468cc091edd3ab9" category="paragraph">稍后，图表将显示。请留出几分钟时间，以表格形式列出较长的时间范围。</block>
  <block id="9dd468c39d18989db2af61524463cc45" category="list-text">如果选择了自定义查询，请输入 * 开始日期 * 和 * 结束日期 * 自定义图表的时间段。</block>
  <block id="d347d63ce5a41a64c40bcaa9d0ad045d" category="paragraph">在当地时间使用格式 ` YYYY/MM/DDHH ： MM ： SS_` 。要与格式匹配，必须使用前导零。例如， 2017/4/6 7 ： 30 ： 00 验证失败。正确格式为 2017 年 4 月 06 日 07 ： 30 ： 00 。</block>
  <block id="f80c7645668946a32fbc3e65f7d5bd54" category="paragraph">几秒钟后会生成一个图表。请留出几分钟时间，以表格形式列出较长的时间范围。根据为查询设置的时间长度，将显示原始文本报告或聚合文本报告。</block>
  <block id="bf0d75838dc2be84b3b1f21af963678f" category="summary">ILM 选项卡提供了有关信息生命周期管理 \ （ ILM ）操作的信息。</block>
  <block id="c99b91e56629030e9d51ccd13304f2ba" category="paragraph">ILM 选项卡提供了有关信息生命周期管理（ ILM ）操作的信息。</block>
  <block id="f4eaf419d40f87395a6c8b77991d8695" category="paragraph">此时将显示每个存储节点，每个站点和整个网格的 ILM 选项卡。对于每个站点和网格， "ILM " 选项卡会显示一个 ILM 队列随时间变化的图形。对于网格，此选项卡还提供完成对所有对象的完整 ILM 扫描的估计时间。</block>
  <block id="90e56b3227c5b9c90fd32508285d9e4c" category="paragraph">对于存储节点， "ILM " 选项卡提供有关纠删编码对象的 ILM 评估和后台验证的详细信息。</block>
  <block id="1ded50de2dbad2d0232d1bc82b86f386" category="image-alt">节点页面 ILM 选项卡</block>
  <block id="7e11638b15f2f1d665ab0ce8685a7957" category="paragraph"><block ref="7e11638b15f2f1d665ab0ce8685a7957" category="inline-xref-macro-rx"></block></block>
  <block id="8697199f2f025137d8f5c76e3f82c412" category="summary">下表列出了生成 SNMP 通知的原有警报。与警报不同，并非所有警报都会生成 SNMP 通知。只有列出的警报才会生成 SNMP 通知，并且严重性仅为指示值或更高。</block>
  <block id="1e6dbc0f5d11fae4b551980c55d3239d" category="summary">StorageGRID 系统可以验证存储节点上对象数据的完整性，并检查是否存在损坏和缺失的对象。</block>
  <block id="744420645307b49b92baa9df6b11d80d" category="list-text">您必须具有维护或根访问权限。</block>
  <block id="e4470b6fc9273807063087492441cc04" category="inline-xref-macro">验证过程</block>
  <block id="c43e6692d51abe1efeaf49c92cd82e09" category="paragraph">两个 <block ref="9d2c2ede05c4eaa17611588d10f73a11" category="inline-xref-macro-rx"></block> 协同工作以确保数据完整性：</block>
  <block id="cc6d11f4311e5c67aa13ba2ea62b0d96" category="list-text">* 后台验证 * 会自动运行，并持续检查对象数据的正确性。</block>
  <block id="53ccff156c968502d77ef363def6e7d6" category="paragraph">后台验证会自动持续检查所有存储节点，以确定复制的和经过纠删编码的对象数据是否存在损坏的副本。如果发现问题， StorageGRID 系统会自动尝试替换存储在系统其他位置的副本中损坏的对象数据。后台验证不会在归档节点或云存储池中的对象上运行。</block>
  <block id="09f0653b10533b5845b625ce0a4be64a" category="admonition">如果系统检测到无法自动更正的损坏对象，则会触发 * 检测到未标识的损坏对象 * 警报。</block>
  <block id="507217455d540daf3ba92e85f77feb64" category="list-text">用户可以触发 * 对象存在检查 * ，以便更快速地验证对象数据是否存在（尽管不是正确）。</block>
  <block id="7c56bed918a644c94055b2bf35aa75a6" category="paragraph">对象存在检查可验证存储节点上是否存在所有预期复制的对象副本以及经过纠删编码的片段。对象存在检查提供了一种验证存储设备完整性的方法，尤其是在最新的硬件问题描述 可能会影响数据完整性的情况下。</block>
  <block id="c23d2d1dee96cad09eb015f9120f32ad" category="paragraph">您应定期查看后台验证和对象存在检查的结果。立即调查任何对象数据损坏或丢失的实例，以确定根发生原因 。</block>
  <block id="653723296e07fb83e7f285551494f4f9" category="list-text">查看后台验证的结果：</block>
  <block id="96becc41be11dc2626c4466f37f08eb5" category="list-text">选择 * 节点 * &gt; * 存储节点 _* &gt; * 对象 * 。</block>
  <block id="ded6b09af7f78e52a594e2f7c8252151" category="list-text">检查验证结果：</block>
  <block id="26fa66c512152a6b0da4bc03bc5db198" category="list-text">要检查复制的对象数据验证，请查看验证部分中的属性。</block>
  <block id="19fbc244cc75c45dacfaea76501e0413" category="image-alt">节点 &gt; 存储节点 &gt; 对象 &gt; 验证</block>
  <block id="77bb1812b4fffec767cc5cc94e6fc297" category="list-text">要检查擦除编码的片段验证，请选择 * 存储节点 _* &gt; * ILM * ，然后查看擦除编码验证部分中的属性。</block>
  <block id="fb256e72770b774db324b0fe4cd2cfe6" category="image-alt">节点 &gt; 存储节点 &gt; ILM &gt; EC 验证</block>
  <block id="59b40a4df998529eb7264171ced09202" category="inline-image-macro">问号</block>
  <block id="92d48526ccbd48a5fb814404551658ba" category="paragraph">选择问号 <block ref="299b45f50e7403d875c980dd46a3c64d" category="inline-image-macro-rx" type="image"></block> 在属性名称旁边显示帮助文本。</block>
  <block id="1a22c347d8da3a966d7dd23c57f95c7a" category="list-text">查看对象存在检查作业的结果：</block>
  <block id="752d9a7dce6e210d29c809b862640000" category="inline-xref-macro">对象丢失警报</block>
  <block id="f6b4067c0e68d4abaca87bd6cab73866" category="list-text">扫描检测到的缺少对象副本列。如果任何作业导致缺少 100 个或更多对象副本和 <block ref="56cd0aac8dabca810d51032ac243ed2d" category="inline-xref-macro-rx"></block> 已触发，请联系技术支持。</block>
  <block id="70cdd16ae942caf7a527b5f0bb6e24f0" category="image-alt">对象存在检查作业历史记录</block>
  <block id="a9930f08438ca3cd0e4b3a433980d0d0" category="summary">通过警报，您可以监控 StorageGRID 系统中的各种事件和状况。您可以通过创建自定义警报，编辑或禁用默认警报，设置警报电子邮件通知以及使警报通知静音来管理警报。</block>
  <block id="6ae39c8971f99ac76b3023c7a9003bf9" category="doc">管理警报：概述</block>
  <block id="c3cbe14606156baa5292690141d2e4a2" category="section-title">关于 StorageGRID 警报</block>
  <block id="9869fbd5a57275f953ba4d3f8b439451" category="paragraph">警报系统提供了一个易于使用的界面，用于检测，评估和解决 StorageGRID 运行期间可能发生的问题。</block>
  <block id="a2ad22cbf3388c861bba9c25c5bf0edb" category="list-text">警报系统侧重于系统中可操作的问题。对于需要您立即关注的事件，系统会触发警报，而对于可以安全忽略的事件，则不会触发警报。</block>
  <block id="22dc76c86bd2d12d13aa643e076877fb" category="list-text">" 当前警报 " 页面提供了一个便于用户查看当前问题的界面。您可以按各个警报和警报组对列表进行排序。例如，您可能希望按节点 / 站点对所有警报进行排序，以查看哪些警报正在影响特定节点。或者，您可能希望按触发时间对组中的警报进行排序，以查找特定警报的最新实例。</block>
  <block id="efc3debe3eb6d803ab94c2d9651f2760" category="list-text">" 已解决警报 " 页面提供的信息与 " 当前警报 " 页面上的信息类似，但您可以搜索和查看已解决警报的历史记录，包括警报触发时间和解决时间。</block>
  <block id="c65518eaeadeb2855d2ac0385547f742" category="list-text">同一类型的多个警报会分组到一个电子邮件中，以减少通知数量。此外，同一类型的多个警报将在警报页面上显示为一个组。您可以展开和折叠警报组以显示或隐藏各个警报。例如，如果多个节点报告 "* 无法与节点 * 通信 " 警报大致同时出现，则只会发送一封电子邮件，并且警报会在警报页面上显示为一个组。</block>
  <block id="fceeacbf0a89f349325ada8bdab8c317" category="list-text">警报使用直观的名称和说明来帮助您快速了解问题。警报通知包括有关受影响节点和站点的详细信息，警报严重性，触发警报规则的时间以及与警报相关的指标的当前值。</block>
  <block id="832c10e6f995ff1a3ffbf698f6e0caea" category="list-text">警报电子邮件通知以及 " 当前警报 " 和 " 已解决警报 " 页面上的警报列表提供了解决警报的建议操作。这些建议操作通常包括直接链接到 StorageGRID 文档中心，以便于查找和访问更详细的故障排除过程。</block>
  <block id="9c0dba185c5873682870d5308fbe217c" category="list-text">如果需要在一个或多个严重性级别临时禁止警报通知，您可以轻松地在指定持续时间内对整个网格，单个站点或单个节点静默特定警报规则。您还可以将所有警报规则静默，例如，在软件升级等计划内维护操作步骤 期间。</block>
  <block id="247e3fa40b1e36b07367a59045e52b79" category="list-text">您可以根据需要编辑默认警报规则。您可以完全禁用警报规则，也可以更改其触发条件和持续时间。</block>
  <block id="805127150644ef60c578665f908d8a99" category="list-text">您可以创建自定义警报规则，以确定与您的情况相关的特定条件，并提供您自己的建议操作。要定义自定义警报的条件，请使用网格管理 API 的 " 指标 " 部分提供的 Prometheus 指标创建表达式。</block>
  <block id="a56f355affaaceda5039fd4f9b681bfd" category="paragraph">要了解更多信息，请查看以下视频：</block>
  <block id="775ef04096d219a1ab3b5abef47e91cf" category="list-text"><block ref="775ef04096d219a1ab3b5abef47e91cf" category="inline-link-rx"></block></block>
  <block id="b72eb00f102ec006d9ab1566f16feb12" category="list-text"><block ref="b72eb00f102ec006d9ab1566f16feb12" category="inline-link-rx"></block></block>
  <block id="8095481826ff9081718ae18aa567168f" category="summary">您可以执行多项任务来帮助确定与 StorageGRID 网络，硬件和平台问题相关的问题的根源。</block>
  <block id="519851567b7f351b863f8f6ae8529ae5" category="section-title">对 "422 ： Unprocessable Entity" 错误进行故障排除</block>
  <block id="dec97b0e480514b6a7b7165e684ef20b" category="paragraph">错误 422 ：在许多情况下可能会出现 Unprocessable Entity 。检查错误消息以确定导致问题描述 的原因。</block>
  <block id="3135a0d462a4d1a9477e38e60cb12f58" category="paragraph">如果您看到列出的错误消息之一，请采取建议的操作。</block>
  <block id="0941032571610ac1cfc44d46150dea92" category="cell">根发生原因 和更正操作</block>
  <block id="15d72b8d377359277ed79024d73f5146" category="paragraph">如果在使用 Windows Active Directory （ AD ）配置身份联合时为传输层安全（ TLS ）选择 * 不使用 TLS* 选项，则可能会出现此消息。</block>
  <block id="2d37238ad7665e97c0422b7df6116f56" category="paragraph">不支持对强制执行 LDAP 签名的 AD 服务器使用 * 不使用 TLS* 选项。您必须为 TLS 选择 * 使用 STARTTL* 选项或 * 使用 LDAPS* 选项。</block>
  <block id="3925b828dbc6c653318115cf57a3fb9e" category="paragraph">如果您尝试使用不受支持的密码从 StorageGRID 到用于标识联合或云存储池的外部系统建立传输层安全（ TLS ）连接，则会显示此消息。</block>
  <block id="04617e62d896bce72fd1f027e49d7b9f" category="paragraph">检查外部系统提供的密码。系统必须使用 StorageGRID 支持的其中一个密码进行传出 TLS 连接，如 StorageGRID 管理说明所示。</block>
  <block id="c2c2a5415b866ca64f1cd94c7913e577" category="section-title">对网格网络 MTU 不匹配警报进行故障排除</block>
  <block id="5ab908c9ee0e66e298e9b6c1bd837094" category="paragraph">如果网格网络接口（ eth0 ）的最大传输单元（ MTU ）设置在网格中的各个节点之间差别很大，则会触发 * 网格网络 MTU 不匹配 * 警报。</block>
  <block id="28375c98d727c787e107735ba1e32585" category="list-text">列出所有节点上 eth0 的 MTU 设置。</block>
  <block id="4977f393492c3547c20ef7571d4714e3" category="list-text">使用网格管理器中提供的查询。</block>
  <block id="130716025735a65d0023ad662453580d" category="list-text">导航到 ` 主管理节点 IP 地址 _/metrics/graph` 并输入以下查询： `node_network_mtu 字节 ｛ interface="eth0' ｝`</block>
  <block id="cd088855ff2723cbc8e87ff478674de3" category="list-text">根据需要修改 MTU 设置，以确保所有节点上的网格网络接口（ eth0 ）设置相同。</block>
  <block id="c335c002cb8e701f9f64d89baf7fe8b8" category="list-text">对于设备节点，请参见适用于您的设备的安装和维护说明。</block>
  <block id="28c019ef2ca68fabe2aecb80eac96e26" category="list-text">对于基于 Linux 和 VMware 的节点，请使用以下命令： ` +/usr/sbin/change-ip.py （ -h] （ -n 节点） MTU 网络（ network...） +`</block>
  <block id="39086b265758c5696b5fd7592c512e47" category="paragraph">* 示例 * ： `change-ip.py -n node 1500 grid admin`</block>
  <block id="c0f88147e97969935bd53090d6842237" category="paragraph">* 注 * ：在基于 Linux 的节点上，如果容器中网络所需的 MTU 值超过主机接口上已配置的值，则必须先将主机接口配置为具有所需的 MTU 值， 然后，使用 `change-ip.py` 脚本更改容器中网络的 MTU 值。</block>
  <block id="fae69286d68c851c4e17cdd3a52f97ee" category="paragraph">使用以下参数修改基于 Linux 或 VMware 的节点上的 MTU 。</block>
  <block id="9d73af86d3c449967eadfe839823050c" category="cell">定位参数</block>
  <block id="4101cdf1a0614fc510c0d1403309bebc" category="paragraph">`mtu`</block>
  <block id="13458d1c1a203ebd4521952cb30e4214" category="paragraph">要设置的 MTU 。必须介于 1280 到 9216 之间。</block>
  <block id="1631dca111b8c1a922c7f29d48eb7121" category="paragraph">`网络`</block>
  <block id="6432aa5612939f040527c89f18ed60b1" category="paragraph">要应用 MTU 的网络。包括以下一种或多种网络类型：</block>
  <block id="ff4a008470319a22d9cf3d14af485977" category="list-text">网格</block>
  <block id="21232f297a57a5a743894a0e4a801fc3" category="list-text">管理员</block>
  <block id="62608e08adc29a8d6dbc9754e659f125" category="list-text">客户端</block>
  <block id="7750e70d94670e5c88e1a1be41fc6f20" category="cell">可选参数</block>
  <block id="2854e5f3daea227a3e6eab245406cf56" category="paragraph">` h ，–帮助`</block>
  <block id="75c2f95ff8620adbb9aae65b28a31d94" category="paragraph">显示帮助消息并退出。</block>
  <block id="1a840e83797009793d77fd2964ea2c17" category="paragraph">` -n node ， -node node`</block>
  <block id="20094bcb251222a38e9e56ec41e77ba6" category="paragraph">节点。默认值为本地节点。</block>
  <block id="67ea5bfa312905793fdfa5abc82bcd75" category="section-title">对网络接收错误（ NRER ）警报进行故障排除</block>
  <block id="6d501f082bb2970c9faa9977f36a5dd2" category="paragraph">StorageGRID 与网络硬件之间的连接问题可能会导致网络接收错误（ NRER ）警报。在某些情况下，无需手动干预即可清除 NRER 错误。如果未清除这些错误，请执行建议的操作。</block>
  <block id="7b448656758468f32f2fc1da7f3dd4bc" category="paragraph">与 StorageGRID 连接的网络硬件出现以下问题可能会导致 NRER 警报：</block>
  <block id="b16111ae2ac1cc26100b945e66b1eaa8" category="list-text">需要正向错误更正（ FEC ），但不在使用中</block>
  <block id="095b6847cf0ceac3ba4b13c348bd927d" category="list-text">根据您的网络配置，对 NRER 警报的所有潜在原因执行故障排除步骤。</block>
  <block id="152148e93c9c994f3dc5cfe90dc0aa9f" category="list-text">如果此错误是由 FEC 不匹配引起的，请执行以下步骤：</block>
  <block id="ef04710460e09d1a4be170f791f58b33" category="paragraph">* 注 * ：这些步骤仅适用于 StorageGRID 设备上 FEC 不匹配导致的 NRER 错误。</block>
  <block id="1411a2efa9504c11ea4e3eccf3641f3f" category="list-text">检查连接到 StorageGRID 设备的交换机中端口的 FEC 状态。</block>
  <block id="374b29a57b81c22cf61b1656dbb19a4d" category="list-text">检查从设备到交换机的缆线的物理完整性。</block>
  <block id="333a138a3a3f7d16f7b60d8ae3e60fed" category="list-text">如果要更改 FEC 设置以尝试解决 NRER 警报，请首先确保在 StorageGRID 设备安装程序的 " 链路配置 " 页面上将设备配置为 * 自动 * 模式（请参见适用于您设备的安装和维护说明）。然后，更改交换机端口上的 FEC 设置。如果可能， StorageGRID 设备端口会调整其 FEC 设置以匹配。</block>
  <block id="d93bf5e7fffbcb663d58ffcf9671c75b" category="paragraph">（您不能在 StorageGRID 设备上配置 FEC 设置。相反，设备会尝试发现并镜像其所连接的交换机端口上的 FEC 设置。如果强制链路达到 25 GbE 或 100 GbE 网络速度，则交换机和 NIC 可能无法协商通用 FEC 设置。如果没有通用的 FEC 设置，网络将回退到 "`no-FEC` " 模式。如果未启用 FEC ，则连接更容易受到电气噪声引起的错误的影响。）</block>
  <block id="f57028a95e324a81b5d3efeb8f7e0aee" category="paragraph">* 注 * ： StorageGRID 设备支持光纤节点（ FC ）和 Reed Solomon （ RS ） FEC ，并且不支持 FEC 。</block>
  <block id="49da6bdcb4b2bf96afb255353d58c85d" category="list-text">如果此错误是由于交换机端口和 NIC MTU 不匹配导致的，请检查节点上配置的 MTU 大小是否与交换机端口的 MTU 设置相同。</block>
  <block id="f80d935f6b39cf21e6fdd152a624ad14" category="paragraph">节点上配置的 MTU 大小可能小于节点所连接的交换机端口上的设置。如果 StorageGRID 节点收到的以太网帧大于其 MTU ，则可能会报告 NRER 警报。如果您认为发生了这种情况，请根据端到端 MTU 目标或要求更改交换机端口的 MTU 以匹配 StorageGRID 网络接口 MTU ，或者更改 StorageGRID 网络接口的 MTU 以匹配交换机端口。</block>
  <block id="340dbd87a43dc0a66e51731f6135c797" category="admonition">要更改 MTU 设置，请参见适用于您的设备的安装和维护指南。</block>
  <block id="eef9a6addd208866bc3a9d427144fbd8" category="list-text">如果此错误是由高链路错误率引起的，请执行以下步骤：</block>
  <block id="7ac2e0e367b58d5625a522b4c9364c4d" category="list-text">启用 FEC （如果尚未启用）。</block>
  <block id="5d9463c7b9a1581da2fa29d1a1ea3c29" category="list-text">确认网络布线质量良好，并且未损坏或连接不正确。</block>
  <block id="6a8629c16086093428c3bd8abd8ebcc5" category="list-text">如果电缆似乎不存在问题，请联系技术支持。</block>
  <block id="1c350cff3b23b9127f4815987ab7cfee" category="admonition">在具有高电噪声的环境中，您可能会发现错误率较高。</block>
  <block id="a3933018d94b5f06e6be717880fd1bb1" category="list-text">如果错误是 NIC 环缓冲区溢出，请联系技术支持。</block>
  <block id="93f371c1470f831987ba4dde3f8b69c0" category="paragraph">如果 StorageGRID 系统过载且无法及时处理网络事件，则环缓冲区可能会溢出。</block>
  <block id="4020050c9cc3559863ebf7071737796e" category="list-text">解决基本问题后，重置错误计数器。</block>
  <block id="a8155f3c1e22fd8b18d0b60ec4556710" category="list-text">选择 * 站点 _* &gt; * 网格节点 _* &gt; * SSM* &gt; * 资源 * &gt; * 配置 * &gt; * 主 * 。</block>
  <block id="d298eea0772d1cdb8b07c5098eb4361d" category="list-text">选择 * 重置接收错误计数 * ，然后单击 * 应用更改 * 。</block>
  <block id="dfe32a971b5f397125ac1d251645200a" category="paragraph"><block ref="b318c208525b705af5c3dedca58d3096" category="inline-xref-macro-rx"></block></block>
  <block id="86ddb1c4742807a72c273d7811fc1e24" category="section-title">对时间同步错误进行故障排除</block>
  <block id="9c673ce1d7fd93a347fb27876e7da0d8" category="paragraph">您可能会在网格中看到时间同步问题。</block>
  <block id="20a41bc6c1a7f88b6a60a254c2f1ee7f" category="paragraph">如果遇到时间同步问题，请确认您至少指定了四个外部 NTP 源，每个源均提供 Stratum 3 或更好的参考，并且所有外部 NTP 源均正常运行且可由 StorageGRID 节点访问。</block>
  <block id="c797064a4859c998899093e04e28a19d" category="section-title">Linux ：网络连接问题</block>
  <block id="7281dc613834c7a1431807ab8192f712" category="paragraph">您可能会看到 Linux 主机上托管的 StorageGRID 网格节点的网络连接问题。</block>
  <block id="e5703729e0d44b1d81686c282fde5b97" category="section-title">MAC 地址克隆</block>
  <block id="ef4d8629379a23f3d8fe0f3851186086" category="paragraph">在某些情况下，可以使用 MAC 地址克隆来解决网络问题。如果使用的是虚拟主机，请在节点配置文件中将每个网络的 MAC 地址克隆密钥值设置为 "true" 。此设置会使 StorageGRID 容器的 MAC 地址使用主机的 MAC 地址。要创建节点配置文件，请参见适用于您的平台的安装指南中的说明。</block>
  <block id="79429566bf1dd91a01ab538dc2a26e13" category="admonition">创建单独的虚拟网络接口，以供 Linux 主机操作系统使用。如果发生原因 虚拟机管理程序未启用混杂模式，则对 Linux 主机操作系统和 StorageGRID 容器使用相同的网络接口可能会使主机操作系统无法访问。</block>
  <block id="4b78eb8903d05844aad99ed47510714b" category="paragraph">有关启用 MAC 克隆的详细信息，请参见适用于您的平台的安装指南中的说明。</block>
  <block id="035acdce289d4527a215e24f468512fe" category="section-title">混杂模式</block>
  <block id="61e29706c3b083eb7391e8e9d62b49fd" category="paragraph">如果您不希望使用 MAC 地址克隆，而希望允许所有接口接收和传输非虚拟机管理程序分配的 MAC 地址的数据， 对于配置模式， MAC 地址更改和伪造传输，请确保虚拟交换机和端口组级别的安全属性设置为 * 接受 * 。虚拟交换机上设置的值可以被端口组级别的值覆盖，因此请确保这两个位置的设置相同。</block>
  <block id="bce71aede41b7f9ef0404488b7b5a14f" category="section-title">Linux ：节点状态为 " 孤立 "</block>
  <block id="3f73cc700215efbd485e4f0f5bc1745c" category="paragraph">处于孤立状态的 Linux 节点通常表示控制节点容器的 StorageGRID 服务或 StorageGRID 节点守护进程意外终止。</block>
  <block id="4f6334c6527e05527066542f06cb2d5f" category="paragraph">如果 Linux 节点报告其处于孤立状态，您应：</block>
  <block id="0eca2bfe0a45b8187eba69eb875c6c27" category="list-text">检查日志中的错误和消息。</block>
  <block id="d8b18736218424988d9f6731542e480a" category="list-text">尝试重新启动节点。</block>
  <block id="7e8f04ec3d766ab92cbe714eacea8bb5" category="list-text">如有必要，请使用 container engine 命令停止现有节点容器。</block>
  <block id="8edd4058a46cfd42d9abfc82e2726f4f" category="list-text">重新启动节点。</block>
  <block id="f0a7e4bb9cfb9cd353aa2118634806b0" category="list-text">检查服务守护进程和孤立节点的日志，查看是否存在明显的错误或有关意外退出的消息。</block>
  <block id="32d83ba21773b9033168c2e7c7269275" category="list-text">以 root 身份或使用具有 sudo 权限的帐户登录到主机。</block>
  <block id="34cb4127ff164e17aceaa450c1e5ac1d" category="list-text">运行以下命令，尝试重新启动节点： ` $sudo StorageGRID node start node-name`</block>
  <block id="0cdcd0ffea4dace57f0a84cdac653578" category="paragraph">如果节点已孤立，则响应为</block>
  <block id="d2065862b5521d32b06f4a647155b254" category="list-text">在 Linux 中，停止容器引擎以及任何控制存储节点进程。例如：``sudo Docker stop -time secondscontainer-name``</block>
  <block id="d05d19441daecd62f9c6ea4c15d63f68" category="paragraph">对于 `seconds` ，输入要等待容器停止的秒数（通常为 15 分钟或更短）。例如：</block>
  <block id="12e6069adb5c67dacf117430e5c36f5c" category="list-text">重新启动节点： `StorageGRID node start node-name`</block>
  <block id="28556b8cd0502e9e5f5819d20cd3ce91" category="section-title">Linux ：对 IPv6 支持进行故障排除</block>
  <block id="65a126f6e3299fdf69f0739bfe2a8ad6" category="paragraph">如果您在 Linux 主机上安装了 StorageGRID 节点，并且注意到尚未按预期为节点容器分配 IPv6 地址，则可能需要在内核中启用 IPv6 支持。</block>
  <block id="a332a70f4dae01a7f8755f08b9998078" category="paragraph">您可以在网格管理器的以下位置查看已分配给网格节点的 IPv6 地址：</block>
  <block id="bc4659ccf26e224d5ba8283ff670e197" category="list-text">选择 * 节点 * ，然后选择节点。然后，在概述选项卡上选择 * IP 地址 * 旁边的 * 显示更多 * 。</block>
  <block id="ab6541e936b7b9883e2f8761aae807a0" category="image-alt">"Nodes" （节点） &gt;"Overview"&gt;"IP Addresses" （概述 &gt; IP 地址）的屏幕</block>
  <block id="a8f1f39be884386b446e8e4014c3a79c" category="list-text">选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后，选择 * ； node_* &gt; * 。 ssm * &gt; * 资源 * 。如果已分配 IPv6 地址，则此地址将列在 * 网络地址 * 部分的 IPv4 地址下方。</block>
  <block id="f5e99cc943401f82afb0377f4bc12533" category="paragraph">如果未显示 IPv6 地址且节点安装在 Linux 主机上，请按照以下步骤在内核中启用 IPv6 支持。</block>
  <block id="4d8fab86d752b6a6eab76729b055ae8f" category="list-text">运行以下命令： `sysctl net.ipv6.conf.all.disable_ipv6`</block>
  <block id="243f2b71ce3c8821ec5a176494b56586" category="paragraph">结果应为 0 。</block>
  <block id="cdb7fa47009551db7f48a6fc728477c0" category="admonition">如果结果不是 0 ，请参见适用于您的操作系统的文档，了解如何更改 `sysctl` 设置。然后，将此值更改为 0 ，然后再继续。</block>
  <block id="f7721da2705adc6780a4cba95a3b48a4" category="list-text">输入 StorageGRID 节点容器： `StorageGRID node enter node-name`</block>
  <block id="a00988b5e34b076443f4f0b2f7bf2a96" category="paragraph">结果应为 1 。</block>
  <block id="515bf1687805966ba5997c36b4aac083" category="admonition">如果结果不是 1 ，则此操作步骤 不适用。请联系技术支持。</block>
  <block id="8012a097b0c099b7d38f4f67f1e2dcc4" category="list-text">退出容器： `exit`</block>
  <block id="82229a92bb375f0ab83bf0ffccb5ed11" category="list-text">以 root 用户身份编辑以下文件： ` /var/lib/storaggrid/settings/sysctl.d/net.conf` 。</block>
  <block id="adc359d418bd7b8a8eff7aca3d86bb81" category="list-text">找到以下两行并删除注释标记。然后，保存并关闭该文件。</block>
  <block id="12d02033235fdf886144c1d7c7bd3288" category="list-text">运行以下命令重新启动 StorageGRID 容器：</block>
  <block id="119022d8a1d3ead83d4ebcd85afe9a9d" category="summary">警报规则用于定义触发特定警报的条件。StorageGRID 包含一组默认警报规则，您可以按原定义使用或修改这些规则，也可以创建自定义警报规则。</block>
  <block id="bdfde3d2e50cb52d8d63969f44aac7c6" category="inline-xref-macro">特定警报</block>
  <block id="1fd0bb4adf01c14d4d9cc4e614cb05b0" category="paragraph">警报规则用于定义触发的条件 <block ref="e5e6f20b2cda3afd806464e510c67c68" category="inline-xref-macro-rx"></block>。StorageGRID 包含一组默认警报规则，您可以按原定义使用或修改这些规则，也可以创建自定义警报规则。</block>
  <block id="0d1a6c89abf6dfa5c01edb9605461048" category="paragraph">您可以查看所有默认和自定义警报规则的列表，以了解将触发每个警报的条件以及是否已禁用任何警报。</block>
  <block id="8517b7025a29439e75720fb236ff6ae3" category="list-text">您也可以观看以下视频：<block ref="b9310c1287ef1c07470398ab9995c21b" category="inline-link-rx"></block></block>
  <block id="cb35dbd6b36b75ab65e4f3572b94342a" category="image-alt">警报规则页面</block>
  <block id="99362a4ba2f6b2fe37113034bfdffcd3" category="list-text">查看警报规则表中的信息：</block>
  <block id="6612a680d7c86378893df5f75dec9d5d" category="paragraph">警报规则的唯一名称和问题描述 。首先列出自定义警报规则，然后列出默认警报规则。警报规则名称是电子邮件通知的主题。</block>
  <block id="229eb04083e06f419f9ac494329f957d" category="paragraph">条件</block>
  <block id="a07bbfc71f97adc7da4771f10bfde3e8" category="paragraph">用于确定何时触发此警报的 Prometheus 表达式。可以在以下一个或多个严重性级别触发警报，但不需要为每个严重性设置一个条件。</block>
  <block id="6407c2cda8af0c4c62093612f8f82a13" category="paragraph">警报规则的类型：</block>
  <block id="35c08a6b66eac52c7b45136e0950c4ae" category="list-text">* 默认 * ：随系统提供的警报规则。您可以禁用默认警报规则或编辑默认警报规则的条件和持续时间。您不能删除默认警报规则。</block>
  <block id="474cced7dd48cedb165e4c985683fb9a" category="list-text">* 默认值 * ：包含已编辑条件或持续时间的默认警报规则。根据需要，您可以轻松地将修改后的条件还原回原始默认值。</block>
  <block id="b005e3ff6df31f69b8e667cb5885dbf7" category="list-text">* 自定义 * ：创建的警报规则。您可以禁用，编辑和删除自定义警报规则。</block>
  <block id="362ad7299f72fb733268b4c13fa3f5f5" category="paragraph">当前是否已启用此警报规则。不会评估已禁用警报规则的条件，因此不会触发任何警报。</block>
  <block id="4c48d96c7db0ebd462a1d2a9922f9653" category="summary">审核消息可帮助您更好地了解 StorageGRID 系统的详细操作。您可以使用审核日志对问题进行故障排除并评估性能。</block>
  <block id="1b60dbe8133d4ee87e51646480f4bfa3" category="paragraph">在系统正常运行期间，所有 StorageGRID 服务都会生成审核消息，如下所示：</block>
  <block id="ceee91106c9c83efa37c8bb3b16b98cf" category="list-text">系统审核消息与审核系统本身，网格节点状态，系统范围的任务活动和服务备份操作相关。</block>
  <block id="acc57bcd888feb6fddaf2b778ed8ca96" category="list-text">对象存储审核消息与 StorageGRID 中对象的存储和管理相关，包括对象存储和检索，网格节点到网格节点的传输以及验证。</block>
  <block id="597ef2507a7196b5964a75770efd75d7" category="list-text">当 S3 或 Swift 客户端应用程序请求创建，修改或检索对象时，系统会记录客户端读写审核消息。</block>
  <block id="94b5a3306420c51e54667deb8dfe97a1" category="list-text">管理审核消息会将用户请求记录到管理 API 。</block>
  <block id="f7d7316a9140179a82861fa357f61a6b" category="paragraph">每个管理节点都会将审核消息存储在文本文件中。审核共享包含活动文件（ audit.log ）以及前几天压缩的审核日志。网格中的每个节点还会存储在该节点上生成的审核信息的副本。</block>
  <block id="875e97303be78711c06e80a95f405118" category="paragraph">为了便于访问审核日志，您可以为 NFS 和 CIFS 配置客户端对审核共享的访问权限（ CIFS 已弃用）。您也可以直接从管理节点的命令行访问审核日志文件。</block>
  <block id="9022d2bbdf9902f0b4acd9409985cb05" category="paragraph">有关审核日志文件的详细信息，审核消息的格式，审核消息的类型以及可用于分析审核消息的工具，请参见审核消息的说明。要了解如何配置审核客户端访问，请参见有关管理 StorageGRID 的说明。</block>
  <block id="c098d34dc680427ff916773dac2eb2c1" category="summary">文本报告以文本形式显示 NMS 服务已处理的属性数据值。根据您报告的时间段，会生成两种类型的报告：一周以下时段的原始文本报告和一周以上时段的聚合文本报告。</block>
  <block id="582c76d2da4a6bbd0633734430a817e1" category="section-title">原始文本报告</block>
  <block id="8bc2c3b5f4a4eaaac2fdc3721b54fa9c" category="paragraph">原始文本报告显示有关选定属性的详细信息：</block>
  <block id="af61ec3b7e024289be5c93e5d1d02c09" category="list-text">Time Received ： NMS 服务处理属性数据样本值的本地日期和时间。</block>
  <block id="747546594690eea0c1a125ff464bf454" category="list-text">采样时间：在源上采样或更改属性值的本地日期和时间。</block>
  <block id="6753536f49766f3f99a5e5fb10866dea" category="list-text">value ：样本时间的属性值。</block>
  <block id="ecbe078d06024c87d83d6e22f5fd2706" category="image-alt">显示原始文本报告的屏幕截图</block>
  <block id="78c0561c64ca1b8f365a340a391039e8" category="section-title">聚合文本报告</block>
  <block id="11e70c65a77062d125fb17c2315ac913" category="paragraph">聚合文本报告显示的数据比原始文本报告显示的时间更长（通常为一周）。每个条目都是由 NMS 服务在一段时间内将多个属性值（属性值的聚合）汇总到一个条目中的结果，其中包含从聚合派生的平均值，最大值和最小值。</block>
  <block id="d756d5c104cd0cd2a64ed1df038a44c7" category="paragraph">每个条目都会显示以下信息：</block>
  <block id="9b99cf2fd223b311562bc2478e614622" category="list-text">聚合时间： NMS 服务聚合（收集）一组更改属性值的最后本地日期和时间。</block>
  <block id="496bd96347463839f6c7dc66d4a288a8" category="list-text">Average value ：属性值在聚合时间段内的平均值。</block>
  <block id="5a99c3e6899d340800ffc5f6a14803a4" category="list-text">最小值：聚合时间段内的最小值。</block>
  <block id="45d570080f18f35719ae8f4c97ae70c1" category="list-text">最大值：聚合时间段内的最大值。</block>
  <block id="cf1420f56751f5e10aca477751be2aff" category="image-alt">显示聚合文本报告的屏幕截图</block>
  <block id="75cc0f427734b82f5193e705dc905331" category="section-title">生成文本报告</block>
  <block id="6172ab29e352d7f83aff9ee7c3d4a676" category="paragraph">文本报告以文本形式显示 NMS 服务已处理的属性数据值。您可以报告数据中心站点，网格节点，组件或服务。</block>
  <block id="1763cc38339fdf6d617e7b5bca2c25f6" category="paragraph">对于预期会持续更改的属性数据， NMS 服务（在源上）会定期对这些属性数据进行采样。对于不经常更改的属性数据（例如，基于状态或状态更改等事件的数据），当属性值发生更改时，会将该属性值发送到 NMS 服务。</block>
  <block id="5fd20590090e86979ae15e249107bbdb" category="paragraph">显示的报告类型取决于配置的时间段。默认情况下，系统会为超过一周的时间段生成聚合文本报告。</block>
  <block id="c74d94a51626bdf4f6d0e8c628eff0c5" category="paragraph">灰色文本表示服务在取样期间被管理员关闭。蓝色文本表示服务处于未知状态。</block>
  <block id="f01fda6bf3046cae3fe5945357568b55" category="list-text">选择 *_GRID NODE_* &gt; * 组件或 service_* &gt; * 报告 * &gt; * 文本 * 。</block>
  <block id="189c79b67febca8af1e678574a8b3f1d" category="list-text">从 * 每页结果 * 下拉列表中选择每页结果数。</block>
  <block id="e4362727a3a24349abef4c0b0c0fab26" category="list-text">要将值舍入为最多三位小数（例如，对于以百分比形式报告的属性），请取消选中 * 原始数据 * 复选框。</block>
  <block id="4da2ead30ebe994c761261a8c11e59f2" category="paragraph">此报告将在片刻后显示。请留出几分钟时间，以表格形式列出较长的时间范围。</block>
  <block id="74fbe94a64724d81530f3ec999b46c76" category="list-text">如果选择了自定义查询，则需要输入 * 开始日期 * 和 * 结束日期 * 来自定义要报告的时间段。</block>
  <block id="8bbfd433527447a14390a87a7b323987" category="paragraph">在当地时间使用格式 `YYYY/MM/DDHH ： MM ： SS` 。要与格式匹配，必须使用前导零。例如， 2017/4/6 7 ： 30 ： 00 验证失败。正确格式为 2017 年 4 月 06 日 07 ： 30 ： 00 。</block>
  <block id="811aebb1f834acc9175a29b469af4fee" category="paragraph">稍后将生成一个文本报告。请留出几分钟时间，以表格形式列出较长的时间范围。根据为查询设置的时间长度，将显示原始文本报告或聚合文本报告。</block>
  <block id="acc8926055db6e0e16e862725da7f783" category="section-title">导出文本报告</block>
  <block id="07b20fd6f64e117b13720f5ee997fe65" category="paragraph">导出的文本报告将打开一个新的浏览器选项卡，在此可以选择和复制数据。</block>
  <block id="694be4d765a9d3d3fe1a17c74ee5aeb4" category="paragraph">然后，可以将复制的数据保存到新文档（例如电子表格）中，并用于分析 StorageGRID 系统的性能。</block>
  <block id="d0c4899a1bad7d46de91810f850b7157" category="list-text">创建文本报告。</block>
  <block id="07f8a94031a331b7df121af52f7c3df6" category="inline-image-macro">导出图标</block>
  <block id="d768dc43f7704a5c5a779f13e35afcc1" category="list-text">单击 * 导出 *<block ref="2c669faa12e0bd9a5e067638da8e6a4c" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="f577a5acbe2ef8dd5cfaceb08d4455a8" category="paragraph">此时将打开导出文本报告窗口，其中显示了此报告。</block>
  <block id="95dc13bc7070933add56f1b9d89a00ca" category="image-alt">显示示例文本报告的屏幕截图</block>
  <block id="aa993431639c0e903828bd968456478f" category="list-text">选择并复制导出文本报告窗口的内容。</block>
  <block id="de03bff200417a210d1510ba6b740c37" category="paragraph">现在，可以将此数据粘贴到电子表格等第三方文档中。</block>
  <block id="fc59daab50859e447ee184639a38ff7f" category="summary">StorageGRID 是一种容错分布式存储系统，即使发生错误或节点或站点不可用，它也可以继续运行。您必须主动监控系统运行状况，工作负载和使用情况统计信息，以便在潜在问题影响网格的效率或可用性之前采取措施解决这些问题。</block>
  <block id="abb1052c61fe9d9a14b455f07eb9b303" category="doc">您应定期监控的信息</block>
  <block id="46dc480534f6aaa8a6ced58aaaa9b30f" category="paragraph">StorageGRID 是一种容错分布式存储系统，即使发生错误或节点或站点不可用，它也可以继续运行。您必须主动监控系统运行状况，工作负载和使用情况统计信息，以便在潜在问题影响网格的效率或可用性之前采取措施解决这些问题。</block>
  <block id="4ed08d314b8b262c8728659fb4aec275" category="paragraph">繁忙的系统会生成大量信息。本节提供了有关持续监控的最重要信息的指导。</block>
  <block id="a4b06834cc9bc0bd7cd8c821b2538ad2" category="cell">要监控的内容</block>
  <block id="7cf395303ce3665a9834721d4b748e4b" category="cell">Frequency</block>
  <block id="5a30e45ffc9094cd0856f4603d6e69b3" category="inline-xref-macro">系统运行状况数据</block>
  <block id="a399b5f19c7733541b519607c91ef774" category="paragraph">。 <block ref="7ffc02d0bb608c7990b2fb977f0b10c0" category="inline-xref-macro-rx"></block> 显示在网格管理器信息板上。记下是否与前一天发生了任何更改。</block>
  <block id="c512b685438f41daa7386329a3b8f8d3" category="paragraph">每天</block>
  <block id="c9f21734ef6996e39c390adb09ca1c65" category="inline-xref-macro">存储节点对象和元数据容量</block>
  <block id="0d430cebebe5129d04cb3d5635ab0fc7" category="paragraph">速率 <block ref="1bf17ba08bd31e8b6d96fb6690684d2f" category="inline-xref-macro-rx"></block> 正在使用</block>
  <block id="6c25e6a6da95b3d583c6ec4c3f82ed4d" category="paragraph">每周</block>
  <block id="2bb5a99d1f2242fa4afee33752349c8a" category="inline-xref-macro">信息生命周期管理操作</block>
  <block id="0c35bbe4b1e9fb24ec3b1f59451c030e" category="paragraph"><block ref="0c35bbe4b1e9fb24ec3b1f59451c030e" category="inline-xref-macro-rx"></block></block>
  <block id="cb112b54a4e3b821aff69482c149fab4" category="inline-xref-macro">性能，网络和系统资源</block>
  <block id="5783dd662cd55f66f0fbbe11d716d860" category="paragraph"><block ref="c24fa4f19cb7850d146e3e4933f85d1a" category="inline-xref-macro-rx"></block>：</block>
  <block id="0c05ab2d8df12d5082109a3470e080d6" category="list-text">查询延迟</block>
  <block id="7e5c5e1644c0a140b858fecce259aaf5" category="list-text">连接和网络连接</block>
  <block id="652c1c5845bf663866e5a22f1bdd301a" category="list-text">节点级资源</block>
  <block id="568e78ab7cd91708f4d72e22a5e524b6" category="inline-xref-macro">租户活动</block>
  <block id="ea715aec7e8d69498a5023f572bba417" category="paragraph"><block ref="ea715aec7e8d69498a5023f572bba417" category="inline-xref-macro-rx"></block></block>
  <block id="3b088ce6b61c59e2ab7739c230c5359a" category="inline-xref-macro">外部归档存储系统的容量</block>
  <block id="d9627b19571f04b7374741516ea78746" category="paragraph"><block ref="d9627b19571f04b7374741516ea78746" category="inline-xref-macro-rx"></block></block>
  <block id="fb21fff5579d4e299c1d4d8bb44077b1" category="inline-xref-macro">负载平衡操作</block>
  <block id="c5a5444c004022a30a3d2e9824c1ff55" category="paragraph"><block ref="c5a5444c004022a30a3d2e9824c1ff55" category="inline-xref-macro-rx"></block></block>
  <block id="3069323001bbe90a78fd2e9609510bc6" category="paragraph">在初始配置之后以及任何配置更改之后</block>
  <block id="8d830fc0648877a61fa492268b6f5d3a" category="inline-xref-macro">提供软件修补程序和软件升级</block>
  <block id="6a6c2ba261a8ced16203d3a6424f22e6" category="paragraph"><block ref="6a6c2ba261a8ced16203d3a6424f22e6" category="inline-xref-macro-rx"></block></block>
  <block id="9030e39f00132d583da4122532e509e9" category="paragraph">每月</block>
  <block id="00611e39d313aa100e45ae1dba22bd1e" category="summary">触发 * 对象丢失 * 警报时，您必须立即进行调查。收集有关受影响对象的信息并联系技术支持。</block>
  <block id="25a840b33ccf596f179b080e0ab48f01" category="paragraph">"* 对象丢失 * " 警报表示 StorageGRID 认为网格中没有对象副本。数据可能已永久丢失。</block>
  <block id="33c482b2d19c5050a433531cdc02e5e7" category="paragraph">立即调查丢失的对象警报。您可能需要采取措施以防止进一步数据丢失。在某些情况下，如果您立即采取措施，则可能能够还原丢失的对象。</block>
  <block id="aa68d84fbf802e434c72d432a53ea704" category="list-text">选择 * 存储节点 _* &gt; * 对象 * 。</block>
  <block id="c6139bab26b76f90a58699ebbd7cbc72" category="list-text">查看对象计数表中显示的丢失对象的数量。</block>
  <block id="a3f11b92ec7aaf5717f8e8a7c4db5d23" category="paragraph">此数字表示此网格节点在整个 StorageGRID 系统中检测到缺少的对象总数。该值是 LDR 和 DDS 服务中数据存储组件的丢失对象计数器之和。</block>
  <block id="b249b823efa220cdc92c155f83791484" category="image-alt">节点存储节点对象页面丢失对象</block>
  <block id="b3dc3f9e05c1a1f55e360bc99ad2b84c" category="list-text">从管理节点访问审核日志，以确定触发 * 对象丢失 * 警报的对象的唯一标识符（ UUID ）：</block>
  <block id="0697b9e89c4bfa33af38861603cf8fa0" category="list-text">更改为审核日志所在的目录。输入： `cd /var/local/audit/export/`</block>
  <block id="bed0f95aae778342ff2aff4af6b18c52" category="list-text">使用 grep 提取对象丢失（ OLST ）审核消息。输入： `grep OLST audit_file_name`</block>
  <block id="e296ae2c06db7d039be70a412b2c22a7" category="list-text">记下消息中包含的 UUID 值。</block>
  <block id="7a9ff12f88af18b0bd23124ab09acd1f" category="list-text">使用 `ObjectByUUID` 命令按对象标识符（ UUID ）查找对象，然后确定数据是否存在风险。</block>
  <block id="80bf41dbc56e70b663a01b98218688d1" category="list-text">Telnet 到 localhost 1402 以访问 LDR 控制台。</block>
  <block id="699aab537c3942073cc5187c936ddac9" category="list-text">输入： ` /proc/obrp/ObjectByUUID UID_Value`</block>
  <block id="a304dd99265583b3c66d5579dc54615b" category="paragraph">在第一个示例中， `UUID 为 926026C4-00A4-449B-AC72-BCCA72DD1311` 的对象列出了两个位置。</block>
  <block id="723e087b9adb4ef0ac5703456af8ecb3" category="paragraph">在第二个示例中， `UUID 为 926026C4-00A4-449B-AC72-BCCA72DD1311` 的对象没有列出任何位置。</block>
  <block id="f9486c75b98bbe2474c3b6118fef512b" category="list-text">查看 /proc/obrp/ObjectByUUID 的输出，并采取相应的操作：</block>
  <block id="ce21470ab49d1d1976bc3dc72438c183" category="cell">元数据</block>
  <block id="6f8b794f3246b0c1e1780bb4d4d5dc53" category="cell">结论</block>
  <block id="0602dd5bd3c2086ee65272222bb5f93c" category="paragraph">未找到对象（ "error" ： "" ）</block>
  <block id="b550ffa914a9c082c0a601215da282e3" category="paragraph">如果未找到对象，则返回消息 "error" ： "" 。</block>
  <block id="34b05e09d22f594869dca874ff4db76c" category="paragraph">如果未找到此对象，您可以重置 * 丢失的对象 * 计数以清除警报。缺少对象表示该对象已被有意删除。</block>
  <block id="41fa6d05848a39b83bdf1e0eda3a219f" category="paragraph">位置 &gt; 0</block>
  <block id="115e099595156f590eb1ae14f264dc49" category="paragraph">如果输出中列出了一些位置，则 * 对象丢失 * 警报可能为误报。</block>
  <block id="970b844f939d2be671ec2515eb7eb9ae" category="paragraph">确认对象存在。使用输出中列出的节点 ID 和文件路径确认对象文件位于列出的位置。</block>
  <block id="a965f120cfa77ad1d1b761110ea2da42" category="inline-xref-macro">正在搜索可能丢失的对象</block>
  <block id="fa4cc56d9aac447d02d359da79024adf" category="paragraph">（的操作步骤 <block ref="743f321b52dd50f05d60f50f985edc4b" category="inline-xref-macro-rx"></block> 介绍如何使用节点 ID 查找正确的存储节点。）</block>
  <block id="78ae7873c7b03fdd801803206904920d" category="paragraph">如果对象存在，您可以重置 * 丢失的对象 * 计数以清除警报。</block>
  <block id="4289ff461c9fa681ad5d9954f07e1792" category="paragraph">位置 = 0</block>
  <block id="7fb6f9d18ad98cb3f4828587ca72facc" category="inline-xref-macro">搜索并还原对象</block>
  <block id="7c183bc269c22d8e5c3de37a18cde307" category="paragraph">如果输出中未列出任何位置，则此对象可能会丢失。您可以尝试 <block ref="d9ed4bf47869682a0e2192b397be1884" category="inline-xref-macro-rx"></block> 您也可以联系技术支持。</block>
  <block id="9aed879d4da2ca21458a6cdd5241d43a" category="inline-xref-macro">将对象数据还原到存储卷</block>
  <block id="46f87b61569be7e386a41022e176fdd4" category="paragraph">技术支持可能会要求您确定是否正在进行存储恢复操作步骤 。也就是说，是否已在任何存储节点上发出 _repair-data_ 命令，并且恢复是否仍在进行中？请参见有关的信息 <block ref="dcad702e0ece67534e39dd6b79a2b885" category="inline-xref-macro-rx"></block>。</block>
  <block id="eccfa7f5d8d6ec3fb1fdbaf628aac319" category="summary">您可以执行多项任务来帮助确定与管理节点和 StorageGRID 用户界面相关的问题的根源。</block>
  <block id="1df56826bbf74b30712683963dc96099" category="doc">对管理节点和用户界面问题进行故障排除</block>
  <block id="9ab27a879f433e37b6ebb3645e013bf5" category="section-title">对登录错误进行故障排除</block>
  <block id="fc77b345fa01f12902a9017d51da5104" category="paragraph">如果您在登录到 StorageGRID 管理节点时遇到错误，则您的系统可能具有身份联合配置的问题描述 ，网络或硬件问题，具有管理节点服务的问题描述 或连接的存储节点上具有 Cassandra 数据库的问题描述 。</block>
  <block id="bee15f7fd8b55695389eaf8b26ba388e" category="paragraph">如果在尝试登录到管理节点时看到以下任何错误消息，请遵循以下故障排除准则：</block>
  <block id="7d082e3162493166e3363b98662c1f4b" category="list-text">`您的此帐户凭据无效。请重试。`</block>
  <block id="7871153d16ca21b060878716276cea1e" category="list-text">`正在等待服务启动 ...`</block>
  <block id="1ead30ee9c53876c502ea23f2a2be8e7" category="list-text">`内部服务器错误。服务器遇到错误，无法完成您的请求。请重试。如果问题仍然存在，请联系技术支持。`</block>
  <block id="3ccdf3f11c6adb1cc330b3af8d587387" category="list-text">`无法与服务器通信。正在重新加载页面 ...`</block>
  <block id="edcc8e7bf4ce1163987b9e8be08cb0d2" category="list-text">等待 10 分钟，然后重新尝试登录。</block>
  <block id="7aa87100d47a183549627c2e3a42021a" category="paragraph">如果此错误未自动解决，请转至下一步。</block>
  <block id="9a1f064f41c01d9b612dfae60c49d958" category="list-text">如果您的 StorageGRID 系统具有多个管理节点，请尝试从另一个管理节点登录到网格管理器。</block>
  <block id="f106557961c2a238c082a8638197ccfc" category="list-text">如果您能够登录，则可以使用 * 信息板 * ， * 节点 * ， * 警报 * 和 * 支持 * 选项来帮助确定错误的发生原因 。</block>
  <block id="7d4758dbd366c01cd1d351eb7c1573f8" category="list-text">如果只有一个管理节点，或者您仍然无法登录，请转至下一步。</block>
  <block id="c9fb9e3752f097c08a685ee0a7cbb671" category="list-text">确定节点的硬件是否脱机。</block>
  <block id="99c04e6fed1e99138c64b76e803c21e6" category="list-text">如果为 StorageGRID 系统启用了单点登录（ SSO ），请参见 StorageGRID 管理说明中的配置单点登录步骤。</block>
  <block id="59c340b214061c20d609fab3e0c5ef70" category="paragraph">要解决任何问题，您可能需要暂时禁用并重新启用单个管理节点的 SSO 。</block>
  <block id="d6a30689c80d38aa08034967da3edc00" category="admonition">如果启用了 SSO ，则无法使用受限端口登录。必须使用端口 443 。</block>
  <block id="d7535a851bd13cd215b4127140830053" category="list-text">确定您正在使用的帐户是否属于联合用户。</block>
  <block id="2f0d5d45d99cdb4309c5c180a75663b9" category="paragraph">如果此联合用户帐户不起作用，请尝试以本地用户（例如 root ）身份登录到网格管理器。</block>
  <block id="57aee2a4d5cedc1125f7790f2f6a47ea" category="list-text">如果本地用户可以登录：</block>
  <block id="de2b7fcc707a6ec5597a30a16377fd47" category="list-text">查看显示的任何警报。</block>
  <block id="99eb15e2e0e866e7aff020ecc1600646" category="list-text">选择 * 配置 * &gt; * 访问控制 * &gt; * 身份联合 * 。</block>
  <block id="b69eda2fcff7293ac1c5f11f1a8cd8c6" category="list-text">单击 * 测试连接 * 以验证 LDAP 服务器的连接设置。</block>
  <block id="0cb9d6ca3bfff0e7e03b90b5280d47e9" category="list-text">如果测试失败，请解决任何配置错误。</block>
  <block id="77557024af408e2723ae57830ce87c09" category="list-text">如果本地用户无法登录，并且您确信凭据正确无误，请转至下一步。</block>
  <block id="77bad9cdb9bfb1cc58f0258a2c516e98" category="list-text">使用安全 Shell （ ssh ）登录到管理节点：</block>
  <block id="74699cf16f931d5b759c468a4d626edf" category="list-text">输入以下命令： `ssh admin@Admin_Node_IP`</block>
  <block id="e3938101dabff2e1a25dfa5f41d7388b" category="list-text">查看网格节点上运行的所有服务的状态： `storagegRid-status`</block>
  <block id="ccce8bc7f46482abe54ef6ce00c322bb" category="paragraph">确保 NMS ， Mi ， nginx 和 mgmt API 服务均已运行。</block>
  <block id="4d7e059ccba58661a8af7a9e930b671e" category="paragraph">如果服务状态发生变化，输出将立即更新。</block>
  <block id="e8b921058559f8a475f0a4b60a1c9894" category="list-text">确认 nginx gw 服务正在运行 ` # service nginx gw status`</block>
  <block id="62d0edebb086b8e74f75495551417bb2" category="list-text">【使用 _lumberjack_to_collect_logs ， start=9]] 使用 lumberjack 收集日志： ` # /usr/local/sbin/lumberjack.rb`</block>
  <block id="6b43110e262d38073ae742b1406f5a3e" category="paragraph">如果身份验证在过去失败，您可以使用 -start 和 -end Lumberjack 脚本选项指定适当的时间范围。有关这些选项的详细信息，请使用 lumberjack -h 。</block>
  <block id="8201fe8ed7dab1714901266d2d9dc548" category="paragraph">终端的输出指示日志归档的复制位置。</block>
  <block id="c4c2b23d4ad0fed1f828e2ab7c83564e" category="list-text">【 review_logs ， start=10]] 查看以下日志：</block>
  <block id="7c979c291a38b699d6a089e31af4cdbe" category="list-text">` //* 命令 .txt`</block>
  <block id="470eeaa65a4f5696dfff35b860106b5a" category="list-text">如果您无法确定管理节点存在任何问题问题描述 ，请执行以下任一命令来确定在您的站点上运行此 ADA 服务的三个存储节点的 IP 地址。通常，这些存储节点是站点上安装的前三个存储节点。</block>
  <block id="728eed732693877f9ce12eda7298c393" category="paragraph">管理节点会在身份验证过程中使用此 ADC 服务。</block>
  <block id="bf387d26f24b6efee5c0ea66bb81dd59" category="list-text">从管理节点中，使用您确定的 IP 地址登录到每个 ADC 存储节点。</block>
  <block id="ae2bdf5d71e27c6d8319a74ac242e9e9" category="paragraph">确保 idnt ， Acct ， nginx 和 Cassandra 服务均已运行。</block>
  <block id="2a00466a54d8c0f50fe807bac45fa95f" category="inline-xref">使用 Lumberjack 收集日志</block>
  <block id="652c1fd4c3f18378b3487997c9f40fd6" category="inline-xref">查看日志</block>
  <block id="a8e99ece007bb5e22d911a52f7eb8dc1" category="list-text">重复步骤 <block ref="da08fa65e4aff0350f94949456076d9e" category="inline-xref-macro-rx"></block> 和 <block ref="01e2ea165d4ce0077012219ace509b01" category="inline-xref-macro-rx"></block> 查看存储节点上的日志。</block>
  <block id="e83cf00a5cb682e520dbc3f1b08eb0e9" category="list-text">If you are unable to resolve the issue, contact technical support.</block>
  <block id="b2afde037d59ab6934161a8d086f71c7" category="paragraph">将收集的日志提供给技术支持。另请参见 <block ref="131cc2ffa68aaf30f5a09737dee48023" category="inline-xref-macro-rx"></block>。</block>
  <block id="009d77053907f5c15c28c386866b2ead" category="admonition">StorageGRID 11.5 的浏览器支持已更改。确认您使用的是受支持的版本。</block>
  <block id="66ff10bbee02cbe2236482b2bcb87777" category="section-title">检查不可用管理节点的状态</block>
  <block id="1d12f470efae3363b72184ba21488bca" category="paragraph">如果 StorageGRID 系统包含多个管理节点，则可以使用另一个管理节点检查不可用管理节点的状态。</block>
  <block id="4e2fd062b63eb76da4aad73e50a299e0" category="list-text">从可用的管理节点中，使用登录到网格管理器 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="433b76f7c86ea52f4349c021197bc47e" category="list-text">选择 * 站点 * &gt; * 不可用管理节点 _* &gt; * SSM* &gt; * 服务 * &gt; * 概述 * &gt; * 主 * 。</block>
  <block id="bf1e9d06519289c901b3c26fa80a8a19" category="list-text">查找状态为未运行且可能也显示为蓝色的服务。</block>
  <block id="0ed79adda181dd7cea1095bae6e176e2" category="list-text">确定是否已触发警报。</block>
  <block id="981d7a1c1b1d9362975c9219ad358546" category="list-text">采取适当的操作解决问题描述 。</block>
  <block id="e87c60bc5e0122e5a2100fd0f80cdba8" category="summary">您不能通过 StorageGRID 系统直接监控外部归档存储系统的容量。但是，您可以监控归档节点是否仍可将对象数据发送到归档目标，这可能表示需要扩展归档介质。</block>
  <block id="1acf814714d06cd5369a75924afef400" category="doc">监控归档容量</block>
  <block id="1ac27a1db775b2dfe51700bde38b410b" category="paragraph">您不能通过 StorageGRID 系统直接监控外部归档存储系统的容量。但是，您可以监控归档节点是否仍可将对象数据发送到归档目标，这可能表示需要扩展归档介质。</block>
  <block id="2838dfa91cbd9139faa3fb4b084bedf9" category="paragraph">您可以监控存储组件以检查归档节点是否仍可将对象数据发送到目标归档存储系统。存储故障（ ARVF ）警报还可能指示目标归档存储系统已达到容量，无法再接受对象数据。</block>
  <block id="de6a692b86a8f58121e51c7b2e13468d" category="list-text">选择 * ：归档节点 _* &gt; * 。 ARR&gt;&gt; 概述 &gt;&gt; 主系统 * 。</block>
  <block id="221e8f89dcc311bad6238a4a35a53673" category="list-text">检查存储状态和存储状态属性以确认存储组件处于联机状态且无错误。</block>
  <block id="1e49544b856daea691a6ed623f224b42" category="image-alt">屏幕截图显示 "ARC_Overview"&gt;"Main"</block>
  <block id="b69c909f449a0c8a691461c1bee52942" category="paragraph">脱机存储组件或存在错误的组件可能指示目标归档存储系统无法再接受对象数据，因为它已达到容量。</block>
  <block id="fe10313e4f704ee9c6b0d0fdf40bbea2" category="summary">您应监控各个网格节点以检查其资源利用率级别。</block>
  <block id="f49d5f0349b1b7b90cc5e3879bfbe75a" category="doc">监控节点级资源</block>
  <block id="f043b42f56041e6ff1d5cc907431f813" category="paragraph">如果节点始终过载，则可能需要更多节点才能高效运行。</block>
  <block id="16633ca4edb42b92c3091d8b39d0e50c" category="list-text">要查看有关网格节点硬件利用率的信息，请执行以下操作：</block>
  <block id="a0f93c15dca30dc73621f323f373e051" category="list-text">从 * 节点 * 页面中，选择节点。</block>
  <block id="cad3e03738d6e111693d3cecd63b668c" category="list-text">选择 * 硬件 * 选项卡以显示 CPU 利用率和内存使用情况的图形。</block>
  <block id="4e22f3dc1b0c6000bb49e8cebd2be673" category="list-text">如果节点托管在存储设备或服务设备上，请向下滚动以查看组件表。所有组件的状态均应为 "`标称值。` " 调查具有任何其他状态的组件。</block>
  <block id="70e45ea60ef06b023220df49fff0d656" category="paragraph"><block ref="70e45ea60ef06b023220df49fff0d656" category="inline-xref-macro-rx"></block></block>
  <block id="8e134958a0f31e10d1ac8b7cf11a8aee" category="paragraph"><block ref="8e134958a0f31e10d1ac8b7cf11a8aee" category="inline-xref-macro-rx"></block></block>
  <block id="87ada9f6794fb1885ab82dc609e363bd" category="summary">StorageGRID 提供了用于捕获事件，诊断消息和错误情况的日志。系统可能会要求您收集日志文件并将其转发给技术支持以协助进行故障排除。</block>
  <block id="c8c4ef29c8e80190dc404a32abc0e801" category="paragraph">这些日志分为以下几类：</block>
  <block id="423a4d7398dd6ef0dcafb65167b5d39d" category="list-text"><block ref="423a4d7398dd6ef0dcafb65167b5d39d" category="inline-xref-macro-rx"></block></block>
  <block id="4331f2add8ad2cdd11f56b939abc06f1" category="list-text"><block ref="4331f2add8ad2cdd11f56b939abc06f1" category="inline-xref-macro-rx"></block></block>
  <block id="0ba83243e703036177ceaf9da65d49d0" category="list-text"><block ref="0ba83243e703036177ceaf9da65d49d0" category="inline-xref-macro-rx"></block></block>
  <block id="f0c473678ae2487877419bd9febbb90a" category="admonition">为每种日志类型提供的详细信息仅供参考。这些日志可供技术支持进行高级故障排除。使用审核日志和应用程序日志文件重建问题历史记录的高级技术不在本说明的范围之内。</block>
  <block id="1b26277f8f6c86c09e8f0f1577a9feca" category="paragraph">要访问日志，您可以将日志文件和系统数据作为一个日志文件归档（ * 支持 * &gt; * 工具 * &gt; * 日志 * ）从一个或多个节点收集。或者，如果主管理节点不可用或无法访问特定节点，您可以按如下所示访问每个网格节点的各个日志文件：</block>
  <block id="ed7b52c7f82ec9d45ebb31c8d84ec53b" category="paragraph">StorageGRID 日志文件归档包含为每个类别描述的日志以及包含指标和调试命令输出的其他文件。</block>
  <block id="3f5e5ba22bca77be4ef9498eeaefb6c5" category="cell">归档位置</block>
  <block id="a5a63d9b90e6bfe9261e70b66afec721" category="cell">审核</block>
  <block id="d3708b0480fc7c8fa16fdb3a2d2be456" category="paragraph">在正常系统操作期间生成的审核消息。</block>
  <block id="d0e7fc121a67aaae60f72ea992429cef" category="cell">基础操作系统日志</block>
  <block id="3b910a060e9ad236bcb3e2b632b4b093" category="paragraph">基本操作系统信息，包括 StorageGRID 映像版本。</block>
  <block id="9e21e19f42862a3b26cd7aae135a3f74" category="cell">捆绑包</block>
  <block id="d98891a343d173615745c57db3b0f84d" category="paragraph">全局配置信息（捆绑包）。</block>
  <block id="121c60df0c03083d2693c251f15fdfb2" category="cell">Cassandra</block>
  <block id="85847b4b52afc8d83b7625c995a1f52b" category="paragraph">Cassandra 数据库信息和 Reaper 修复日志。</block>
  <block id="2f53e6f3f2acb041a4e0737e58c45321" category="cell">EC</block>
  <block id="c4418b9053d160a8e03ca694ed676405" category="paragraph">按配置文件 ID 显示有关当前节点和 EC 组的 vCSs 信息。</block>
  <block id="da3929c6e233323a1ba4f7f766ce7dba" category="paragraph">常规网格日志，包括调试（`byncast.log` ）和 `servermanager` 日志。</block>
  <block id="c3ba071d21b3270c3db534f6d77df783" category="cell">grid.xml</block>
  <block id="52f141d7b9ba7fc7e11389e0842cba23" category="paragraph">网格配置文件在所有节点之间共享。</block>
  <block id="c47c47e6d1be4e5e5b7637e52324f7da" category="cell">hagroup</block>
  <block id="05b3ac8780379be5668168afb536ba21" category="paragraph">高可用性组指标和日志。</block>
  <block id="19ad89bc3e3c9d7ef68b89523eff1987" category="cell">安装</block>
  <block id="bcbd98aee593b8eca94b5b3357a5fe2c" category="paragraph">`Gdu-server` 和安装日志。</block>
  <block id="e56e12136a9a56f8c95ab0143a3f4d3d" category="cell">lumberjack.log</block>
  <block id="07a027cab1e42678e824d88bb644032e" category="paragraph">与日志收集相关的调试消息。</block>
  <block id="514c2f6df1e18d6370c0773709239f94" category="cell">lambda-arbitrator</block>
  <block id="9e95df89f77af3f8e2b85250a7350e9c" category="paragraph">与 S3 Select 代理请求相关的日志。</block>
  <block id="f32c3edaacea72c0ddb30ecf0135c4de" category="cell">指标</block>
  <block id="75316a7a23add7922770d6acc3a31160" category="paragraph">Grafana ， Jaeger ，节点导出程序和 Prometheus 的服务日志。</block>
  <block id="339d4d0d803c50fc61c34da35da56fdc" category="cell">错误</block>
  <block id="01c1d701279080a314fa1df75d51d2bc" category="paragraph">其他访问和错误日志。</block>
  <block id="81c3b080dad537de7e10e0987a4bf52e" category="cell">MySQL</block>
  <block id="220742c85f4081bdb5dd2195b6475b61" category="paragraph">MariaDB 数据库配置和相关日志。</block>
  <block id="40fa73c9d0083043c6576dd2b40511e4" category="cell">网络</block>
  <block id="8a0f4017b3c95d418066882442bdfd10" category="paragraph">网络相关脚本和动态 IP 服务生成的日志。</block>
  <block id="ee434023cf89d7dfb21f63d64f0f9d74" category="cell">nginx</block>
  <block id="8c3147fd1c1e62b9b15154de0be25aef" category="paragraph">负载平衡器配置文件和日志。还包括 Grid Manager 和租户管理器流量日志。</block>
  <block id="1f653d6a78b3d693a2c4a1e92ba88092" category="cell">nginx 网关</block>
  <block id="348cb76531cd2205b9b7de3974ccc6f2" category="paragraph">负载平衡器配置文件和日志。</block>
  <block id="c09633a606c51a161b16f8bf38f5ebb1" category="cell">NTP</block>
  <block id="f79485e5f042e26868b64f81c046f675" category="paragraph">NTP 配置文件和日志。</block>
  <block id="dd302f94682dbd2a114d63b0433602e0" category="cell">os</block>
  <block id="e699b390fb34102844e58f58ababa192" category="paragraph">节点和网格状态文件，包括服务 `pid` 。</block>
  <block id="795f3202b17cb6bc3d4b771d8c6c9eaf" category="cell">其他</block>
  <block id="2e17c99af39d63303db59994a4a96510" category="paragraph">` /var/local/log` 下未在其他文件夹中收集的日志文件。</block>
  <block id="3a0b03ba8f3b6c0cd97ca15da2d57731" category="cell">性能</block>
  <block id="fb50644f2232e1fcadbd2ada3f8357c5" category="paragraph">CPU ，网络和磁盘 I/O 的性能信息</block>
  <block id="db154d93e8377e8db5e02d6c2cfd0fe4" category="cell">Prometheus-data</block>
  <block id="39624d7f933d64e52efed4d4a57323e7" category="paragraph">当前 Prometheus 指标（如果日志收集包含 Prometheus 数据）。</block>
  <block id="f57c4e385a9dfe278204e6918a890b4a" category="cell">配置</block>
  <block id="e2423d8c7942616d0f62bb7bd5764f23" category="paragraph">与网格配置过程相关的日志。</block>
  <block id="2fd2520c380bb75725067d50f3d61c48" category="cell">草稿</block>
  <block id="663ea66eb7b1282d068540e83c3a5859" category="paragraph">来自平台服务中使用的 raft 集群的日志。</block>
  <block id="96f9963e25520a9011c82401920794f0" category="cell">SNMP</block>
  <block id="9192129f4528521170fabefc6ac49273" category="paragraph">用于发送 SNMP 通知的 SNMP 代理配置和警报允许 / 拒绝列表。</block>
  <block id="234b934312ef8eadb036358e3a0cb49d" category="cell">套接字数据</block>
  <block id="026d37b6915ab4c33c60fc62b0bd235b" category="paragraph">用于网络调试的套接字数据。</block>
  <block id="3c0957b09c081a46e05a599d042db4fb" category="cell">system-commands.txt</block>
  <block id="b5b53f7af9ad03c9860f70c26dca77d2" category="paragraph">StorageGRID 容器命令的输出。包含系统信息，例如网络连接和磁盘使用情况。</block>
  <block id="cc17e2be95f671883ac2029b3dc30e9e" category="summary">您可以使用 StorageGRID Deb 软件包安装 StorageGRID 主机服务。</block>
  <block id="27112609274a969ff5e857175df65259" category="doc">安装 StorageGRID 主机服务</block>
  <block id="cf5b3730ad8d62a51f0da325953a86b3" category="paragraph">以下说明介绍如何从 Deb 软件包安装主机服务。或者，您也可以使用安装归档中包含的 APT 存储库元数据远程安装 Deb 软件包。请参见适用于 Linux 操作系统的 APT 存储库说明。</block>
  <block id="15f6418922e9d08863615e3179966168" category="list-text">将 StorageGRID Deb 软件包复制到每个主机，或使其在共享存储上可用。</block>
  <block id="134d0275241b9fddea74b91e550627d1" category="paragraph">例如，将其放置在 ` /tmp` 目录中，以便您可以在下一步中使用示例命令。</block>
  <block id="a4dee0380437e6c358ca445db409faff" category="list-text">以 root 身份或使用具有 sudo 权限的帐户登录到每个主机，然后运行以下命令。</block>
  <block id="3645f9535247f0caaa4cdf57caebd40a" category="paragraph">您必须先安装 `images` 软件包，再安装 `sservice` 软件包。如果您将软件包放置在非 ` /tmp` 目录中，请修改命令以反映您使用的路径。</block>
  <block id="19a0f0106721a270082104c87c99dc42" category="admonition">必须先安装 Python 2.7 ，然后才能安装 StorageGRID 软件包。`sudo dpkg -install /tmp/storagegrid-webscale-images-version-SHA.deb` 命令将失败，直到您执行此操作为止。</block>
  <block id="6e5195bd485299c87d3dace137c91bbe" category="summary">您必须为每个主机分配块存储卷。</block>
  <block id="44b60f2b8ed3d164be1bc8e917557912" category="doc">配置主机存储</block>
  <block id="d234caa7be7294ea6cbcb36493d21044" category="paragraph">您已阅读以下主题，其中提供了完成此任务所需的信息：</block>
  <block id="56c3f066b363047dffb885f6ef7abf16" category="inline-xref-macro">节点容器迁移要求</block>
  <block id="9134236b30f307ac599e773c40456920" category="paragraph"><block ref="9134236b30f307ac599e773c40456920" category="inline-xref-macro-rx"></block></block>
  <block id="fc3b98e1ff5bd48657f89eb58181ff25" category="paragraph">在将块存储卷（ LUN ）分配给主机时，请使用 `S存储要求` 中的表确定以下内容：</block>
  <block id="4a37a3695fcf3ae54b50fd8ea4ee1c23" category="list-text">每个主机所需的卷数（根据要在该主机上部署的节点的数量和类型）</block>
  <block id="f2457bcf3e90cdffe5568251aa9101ff" category="list-text">每个卷的存储类别（即系统数据或对象数据）</block>
  <block id="16a3e965fae2f20adbc035f41e628b31" category="list-text">每个卷的大小</block>
  <block id="41a533d31fa2b4157af12437cc49e4cd" category="paragraph">在主机上部署 StorageGRID 节点时，您将使用此信息以及 Linux 为每个物理卷分配的永久性名称。</block>
  <block id="5b561db4acdcb49ebd2b6ffa1438df90" category="admonition">您无需对其中任何卷进行分区，格式化或挂载；您只需确保这些卷对主机可见即可。</block>
  <block id="3880e519f346be403c9530431d4ac15b" category="paragraph">在编写卷名称列表时，请避免使用 "`raw` " 特殊设备文件（例如，` /dev/sdb` ）。这些文件可能会在主机重新启动后发生更改，从而影响系统的正常运行。如果您使用的是 iSCSI LUN 和设备映射程序多路径，请考虑在 ` /dev/mapper` 目录中使用多路径别名，尤其是在 SAN 拓扑包含指向共享存储的冗余网络路径时。或者，您也可以在 ` /dev/disk/by-path/` 下使用系统创建的软链接作为永久性设备名称。</block>
  <block id="87e71a1398d56f76b1006bc105d098c8" category="paragraph">每个安装的结果会有所不同。</block>
  <block id="115ad0d89bcbc49365c3df863bfd6e60" category="paragraph">为每个块存储卷分配友好名称，以简化初始 StorageGRID 安装和未来维护过程。如果使用设备映射程序多路径驱动程序对共享存储卷进行冗余访问，则可以在 ` /etc/multipath.conf` 文件中使用 `alias` 字段。</block>
  <block id="55891fe11d452ca3dbc30ba22cb4d71d" category="paragraph">这样就会对别名进行发生原因 ，使其显示为主机上的 ` /dev/mapper` 目录中的块设备，从而可以在配置或维护操作需要指定块存储卷时指定一个易于验证的友好名称。</block>
  <block id="0da0d82786eaff946fcc3308af55bb5c" category="admonition">如果要设置共享存储以支持 StorageGRID 节点迁移并使用设备映射程序多路径功能，则可以在所有主机上创建并安装通用的 ` /etc/multipath.conf` 。只需确保在每个主机上使用不同的 Docker 存储卷即可。使用别名并将目标主机名包含在每个 Docker 存储卷 LUN 的别名中，这一点便于记住，建议这样做。</block>
  <block id="73cd8a5b1174f0db74dd549941100951" category="list-text">使用 "root" 用户和您在安装期间指定的密码登录到网格管理器。</block>
  <block id="d1da32fd9c1078d37b5f4ae8a6b9f94d" category="paragraph">* 注意 * ： StorageGRID 安装归档中包含一个非生产许可证，可用于测试和概念验证网格。</block>
  <block id="7072bc322d6ebbb5a3c3f3a4c386c436" category="paragraph">StorageGRID 系统通过服务笔记本电脑进行安装。</block>
  <block id="a780c1c2cec491a5271bfbf9aeb56b0f" category="list-text">单击 * 浏览 * ，找到 NetApp 许可证文件（`NLFunique_id.txt` ），然后单击 * 打开 * 。</block>
  <block id="127ccc94e7c26e00aef3f684f45962a3" category="summary">/etc/network/interfaces 文件包括三个部分，分别定义了物理接口，绑定接口和 VLAN 接口。您可以将这三个示例部分合并为一个文件，该文件将四个 Linux 物理接口聚合为一个 LACP 绑定，然后建立三个 VLAN 接口，将此绑定分包为 StorageGRID 网格，管理和客户端网络接口。</block>
  <block id="cdf1e8dcdca7905da0de88f0d20b2404" category="doc">/etc/network/interfaces 示例</block>
  <block id="ab69f7b2f31ce70c0ee16244aaf87c2c" category="paragraph">` /etc/network/interfaces` 文件包括三个部分，分别定义了物理接口，绑定接口和 VLAN 接口。您可以将这三个示例部分合并为一个文件，该文件将四个 Linux 物理接口聚合为一个 LACP 绑定，然后建立三个 VLAN 接口，将此绑定分包为 StorageGRID 网格，管理和客户端网络接口。</block>
  <block id="ad514481f367b771c0d0367397b2b509" category="section-title">物理接口</block>
  <block id="bb30089893e7337668e0d7ea780d8851" category="paragraph">请注意，链路另一端的交换机还必须将这四个端口视为一个 LACP 中继或端口通道，并且必须至少通过三个带标记的参考 VLAN 。</block>
  <block id="7720bf1b8b8d21480ab345b3a2decb98" category="section-title">绑定接口</block>
  <block id="79f4ca3542d3ab8b20c3f9300204177e" category="section-title">VLAN 接口</block>
  <block id="b3ec51f5d57b2de7500b47b26a5460d0" category="summary">您必须下载 StorageGRID 安装归档并提取所需文件。</block>
  <block id="4030be316b025eeaf082b9c36455a4d7" category="list-text">在 * 安装 StorageGRID * 列中，为 Ubuntu 或 Debian 选择 .tgz 或 .zip 文件。</block>
  <block id="5b5070d3a358e0a30d5a3d6358ee09df" category="admonition">如果您在服务笔记本电脑上运行 Windows ，请选择 ` .zip` 文件。</block>
  <block id="c84d1ac806e2816ecc93e6423fe07938" category="paragraph">所需的文件集取决于您规划的网格拓扑以及如何部署 StorageGRID 网格。</block>
  <block id="55cdb46b298f37bbf84f50bc096a4be1" category="summary">安装 Docker 之前，您可能需要格式化 Docker 存储卷并将其挂载到 /var/lib/Docker 上。</block>
  <block id="987bc1d6f79d5114230cf7cba7a42b40" category="doc">配置 Docker 存储卷</block>
  <block id="95711bfc73f56b04c3c397744325fd74" category="paragraph">在安装 Docker 之前，您可能需要格式化 Docker 存储卷并将其挂载到 ` /var/lib/Docker` 上。</block>
  <block id="787802912b98089b9f119cf2e3ed1711" category="paragraph">如果您计划对 Docker 存储卷使用本地存储，并且包含 ` /var/lib` 的主机分区上有足够的可用空间，则可以跳过这些步骤。</block>
  <block id="631e76ca5fde58ba1382b69d40da257f" category="list-text">在 Docker 存储卷上创建文件系统：</block>
  <block id="47bd409ed6e20fdb6a9e705e84ff48f4" category="list-text">挂载 Docker 存储卷：</block>
  <block id="9cdbd0a35f0aae569a54b41133554348" category="list-text">将 Docker 存储卷设备条目添加到 /etc/fstab 中。</block>
  <block id="71d8f2c72c2b4c8403c5b48643ad70b7" category="paragraph">此步骤可确保存储卷将在主机重新启动后自动重新挂载。</block>
  <block id="e7199d6d21d0a283583e021d10d107a7" category="summary">节点配置文件是一个小型文本文件，用于提供 StorageGRID 主机服务启动节点并将其连接到适当的网络和块存储资源所需的信息。节点配置文件用于虚拟节点，不用于设备节点。</block>
  <block id="a19ae2f666d3332c7dfaa6d2168dbfac" category="section-title">应将节点配置文件放在何处？</block>
  <block id="108bb0fcaa8ec8f321c50971e71b540a" category="paragraph">您必须将每个 StorageGRID 节点的配置文件放置在要运行该节点的主机上的 ` /etc/storaggrid/nodes` 目录中。例如，如果您计划在主机 A 上运行一个管理节点，一个网关节点和一个存储节点，则必须将三个节点配置文件放置在主机 A 上的 ` /etc/storaggrid/nodes` 中。您可以使用文本编辑器（例如 vim 或 nanan ）在每个主机上直接创建配置文件，也可以在其他位置创建配置文件并将其移动到每个主机。</block>
  <block id="cf5b3f90fcc102f398502b960fc7b3d4" category="section-title">节点配置文件的名称是什么？</block>
  <block id="92bb07ecf2d126589ca0dada912886b5" category="paragraph">配置文件的名称非常重要。格式为 `node-name.conf` ，其中 `node-name` 是您分配给节点的名称。此名称显示在 StorageGRID 安装程序中，用于节点维护操作，例如节点迁移。</block>
  <block id="f409c095834d53e1fa43d89557bb0e8a" category="paragraph">节点名称必须遵循以下规则：</block>
  <block id="734c17dea57800ea13f861cfe570517c" category="list-text">必须是唯一的</block>
  <block id="fa2b5da42b626dfc66dbcccf5d127d9f" category="list-text">必须以字母开头</block>
  <block id="c823794ec8501a949b449fb50c35476d" category="list-text">可以包含字符 A 到 Z 和 a 到 z</block>
  <block id="e92b6207aa67363eaddce3d146080252" category="list-text">可以包含数字 0 到 9</block>
  <block id="4ec11da50c858b6ea0d1cfc2e2a28f8e" category="list-text">可以包含一个或多个连字符（ - ）</block>
  <block id="cca6e004e9c9db98e9e0b91fc31ed4d4" category="list-text">不得超过 32 个字符，不包括 ` 。 conf` 扩展名</block>
  <block id="72d99aaa2283287a8ef56d20c9795ce6" category="paragraph">主机服务不会解析 ` /etc/storaggrid/nodes` 中不符合这些命名约定的任何文件。</block>
  <block id="05f9b361432cb2587119165bfef8c69b" category="paragraph">如果您为网格规划了多站点拓扑，则典型的节点命名方案可能是：</block>
  <block id="ae42c94bbcf288888f766d4f5e124200" category="paragraph">例如，您可以对 Data Center 1 中的第一个管理节点使用 `dc1-adm1.conf` ，而对 Data Center 2 中的第三个存储节点使用 `dc2-SN3.conf` 。但是，只要所有节点名称都遵循命名规则，您就可以使用所需的任何方案。</block>
  <block id="871afaf37428604b02cc38c0b2ca8696" category="section-title">节点配置文件中的内容是什么？</block>
  <block id="3f98cb4f698cf19b3406d0af25165aa2" category="paragraph">配置文件包含密钥 / 值对，每行一个密钥和一个值。对于每个密钥 / 值对，您必须遵循以下规则：</block>
  <block id="af44eaca72f8748f1db0fe45984dad64" category="list-text">密钥和值必须以等号（` =` ）和可选空格分隔。</block>
  <block id="ac3b312131feaceb817dd3d94740c6fc" category="list-text">密钥不能包含空格。</block>
  <block id="b79e67cd7b257159a967915eb9164e5d" category="list-text">这些值可以包含嵌入的空格。</block>
  <block id="e7c800fd0c2567669c63907e67e1853e" category="list-text">忽略任何前导或尾随空格。</block>
  <block id="88ae8f2d500b061a35847a9501a9b214" category="paragraph">每个节点都需要一些密钥，而其他密钥则是可选的，或者仅适用于某些节点类型。</block>
  <block id="fc0e1475d2029b7fa6df25391a05e3fb" category="paragraph">下表定义了所有支持的密钥的可接受值。在中间列中：</block>
  <block id="f4dab62e451966fbb05b2dabe6ec97fc" category="paragraph">* R* ：必填项 + bp ：最佳实践 + O ：可选</block>
  <block id="af85b420b41267d48d93424b29b46baa" category="cell">R ， Bp 或 O ？</block>
  <block id="5fbcb0ddd03dff12d4c956633a67f69f" category="paragraph">admin_ip</block>
  <block id="96d4cdff8ed57e93e3b3d843cffe3af7" category="paragraph">bp</block>
  <block id="7e52e50fcbc940aa99cc8293b9b2bb0b" category="paragraph">此节点所属网格的主管理节点的网格网络 IPv4 地址。使用为 node_type = VM_Admin_Node 且 admin_role = Primary 的网格节点的 grid_network_IP 指定的相同值。如果省略此参数，则节点将尝试使用 mDNS 发现主管理节点。</block>
  <block id="9778d5755d564cb871f77399a526ee11" category="paragraph">* 注 * ：此值在主管理节点上被忽略，并且可能被禁止。</block>
  <block id="ac34868301cfa20dc314fdd21f923ce6" category="paragraph">admin_network_config</block>
  <block id="f186217753c37b9b9f958d906208506e" category="paragraph">O</block>
  <block id="f47b4a55d88457421030fc50847e2603" category="paragraph">DHCP ，静态或已禁用</block>
  <block id="7b25a73933576163f07ec41c9a4d927f" category="paragraph">admin_network_esl</block>
  <block id="38bc8f6c23feb75802775630a2e60b75" category="paragraph">此节点应通过管理网络网关与 CIDR 表示法中的子网列表，以逗号分隔。</block>
  <block id="7c40fc9d0fabae31093dca41ae5782d7" category="paragraph">示例： `172.16.0.0/21.172.17.0.0/21`</block>
  <block id="108c301b9c5353d29dad817f90ad11e0" category="paragraph">admin_network_gateway</block>
  <block id="7877841d8d0983591d212107f76483e7" category="paragraph">O （ * R* ）</block>
  <block id="25d5897cefb56d617afcb41e628248a8" category="paragraph">此节点的本地管理网络网关的 IPv4 地址。必须位于 admin_network_ip 和 admin_network_mask 定义的子网上。对于配置了 DHCP 的网络，此值将被忽略。</block>
  <block id="bc7d5e4dc394a4f5d66b98af34845a3a" category="paragraph">* 注释 * ：如果指定 admin_network_esl ，则需要此参数。</block>
  <block id="fd05d7f6bfc90e815087880e8e915b43" category="paragraph">示例</block>
  <block id="694a654f9094f5fba50a60db8fa832d8" category="paragraph">`1.1.1.1`</block>
  <block id="5a8bf22856ba59434f892b3a5a2b6e0c" category="paragraph">`10.2244.81`</block>
  <block id="d09f750a94665b1c441b359423195f16" category="paragraph">admin_network_ip</block>
  <block id="63fc4ca90e134e4b53226eadd8024310" category="paragraph">此节点在管理网络上的 IPv4 地址。只有当 admin_network_config = static 时才需要此密钥；不要为其他值指定此密钥。</block>
  <block id="6970f5ed75fbbd8d1bb4bb92e5e8b93b" category="paragraph">admin_network_MAC</block>
  <block id="78c38b69c7fc82905f06008ed4fcdff6" category="paragraph">容器中管理网络接口的 MAC 地址。</block>
  <block id="656493c39ce78c4b6d4f2ea08583f783" category="paragraph">此字段为可选字段。如果省略此参数，则会自动生成 MAC 地址。</block>
  <block id="54b2334985c35ff9af9b4c2979d5e213" category="paragraph">必须为 6 对十六进制数字，以冒号分隔。</block>
  <block id="924e5cc287015f31c1ad2f1ac3b15788" category="paragraph">示例： `B2 ： 9c ： 02 ： C2 ： 27 ： 10`</block>
  <block id="425b510551cc522a0dcb1e6541be7c83" category="paragraph">admin_network_mask</block>
  <block id="3f2a1f79935cf82daaef1e712ccfffcf" category="paragraph">此节点的 IPv4 网络掩码，位于管理网络上。只有当 admin_network_config = static 时才需要此密钥；不要为其他值指定此密钥。</block>
  <block id="641a75c3ee7d25986c38ebf1196039b7" category="paragraph">`255.255.255.0`</block>
  <block id="b7ee91b191502aa54070fb920af776b8" category="paragraph">`255.255.248.0`</block>
  <block id="7f10e5692d0335064a1141456982b2d8" category="paragraph">admin_network_mtu</block>
  <block id="cb455ce61414912ddd4efd6ff3b75c4a" category="paragraph">管理网络上此节点的最大传输单元（ MTU ）。请勿指定 admin_network_config 是否为 DHCP 。如果指定，则此值必须介于 1280 和 9216 之间。如果省略，则使用 1500 。</block>
  <block id="6c49c2a5dfc0951072721f2141c2e5db" category="paragraph">* 重要信息 * ：网络的 MTU 值必须与节点所连接的交换机端口上配置的值匹配。否则，可能会发生网络性能问题或数据包丢失。</block>
  <block id="cf267a1a08df116f786a60d929d590f7" category="paragraph">`1500`</block>
  <block id="154c0ce692e82163e626d52344cdaf53" category="paragraph">`8192`</block>
  <block id="cb34f992da29424b939aa5bff0c00072" category="paragraph">admin_network_target</block>
  <block id="fd722f40d6dcb6963b6257ceef6adbae" category="paragraph">StorageGRID 节点用于管理网络访问的主机设备的名称。仅支持网络接口名称。通常，您使用的接口名称与为 grid_network_target 或 client_network_target 指定的接口名称不同。</block>
  <block id="c675952cc5204f77096f28020425198b" category="paragraph">* 注 * ：请勿使用绑定或网桥设备作为网络目标。可以在绑定设备上配置 VLAN （或其他虚拟接口），也可以使用网桥和虚拟以太网（ veth ）对。</block>
  <block id="a8c5b5b880478bebf4254eed35086a3b" category="paragraph">* 最佳实践 * ：指定一个值，即使此节点最初不具有管理员网络 IP 地址也是如此。然后，您可以稍后添加管理员网络 IP 地址，而无需重新配置主机上的节点。</block>
  <block id="11ed7a9b1f5cd359ce6068c5218b9697" category="paragraph">`bond0.1002`</block>
  <block id="7bc6896c6f04037ff63480c381259562" category="paragraph">`ens256`</block>
  <block id="0cca1dd371c8c9d5b4e38d670615b5f1" category="paragraph">admin_network_target_type</block>
  <block id="3c1aac82863ed9e5a9aca8ce687f711d" category="paragraph">接口</block>
  <block id="c44e271cb966f4e8f3bfa5c95d2db29a" category="paragraph">（这是唯一受支持的值。）</block>
  <block id="b3708be489116ba10043017df7d0f5c5" category="paragraph">admin_network_target_type_interface_clone_MAC</block>
  <block id="ea26f90475cd85de45c23353863ef5f9" category="paragraph">判断对错</block>
  <block id="d8053fe8ec74ee2f4c2fb42aea126398" category="paragraph">将密钥设置为 "true" 以发生原因 StorageGRID 容器使用管理网络上主机主机目标接口的 MAC 地址。</block>
  <block id="001530f2b426d1a8cc7dd977f1894f88" category="paragraph">* 最佳实践： * 在需要混杂模式的网络中，请改用 admin_network_target_type_interface_clone_MAC 密钥。</block>
  <block id="c125ac51cb409f024b6ffab9373942d1" category="paragraph">有关 MAC 克隆的详细信息，请参见：</block>
  <block id="36c0002dd5e7fb8d32b72201f1a92687" category="inline-xref-macro">MAC 地址克隆的注意事项和建议（ Red Hat Enterprise Linux 或 CentOS ）</block>
  <block id="ec96493315eb74c7361ba0f7272fa626" category="paragraph"><block ref="ec96493315eb74c7361ba0f7272fa626" category="inline-xref-macro-rx"></block></block>
  <block id="16045bc4f329580b7aefd541dbf45a9c" category="inline-xref-macro">MAC 地址克隆（ Ubuntu 或 Debian ）的注意事项和建议</block>
  <block id="fc6b90f09eef8dcfa451407f6f43ac9b" category="paragraph"><block ref="fc6b90f09eef8dcfa451407f6f43ac9b" category="inline-xref-macro-rx"></block></block>
  <block id="d1d3cd794c30bd67c0811864775ce3f0" category="paragraph">管理角色</block>
  <block id="1ad1170a4a4920aafaadc0fa0a9f6ce8" category="paragraph">* R*</block>
  <block id="339af43fe2cf9dfe36696f6068e6b1ee" category="paragraph">主卷或非主卷</block>
  <block id="b824686e109ac6e126979904bab10db8" category="paragraph">只有当 node_type = VM_Admin_Node 时才需要此密钥；不要为其他节点类型指定此密钥。</block>
  <block id="af4ce7036b04c96874c762dd87978e03" category="paragraph">block_device_audit_logs</block>
  <block id="8f328f98c79891c08f7c65a19b2f6bb7" category="paragraph">此节点将用于永久存储审核日志的块设备专用文件的路径和名称。只有 node_type = VM_Admin_Node 的节点才需要此密钥；不要为其他节点类型指定此密钥。</block>
  <block id="a464dddd812b6d8ebc5be6c21e278fbb" category="paragraph">` /dev/disk/by-path/PCI-0000 ： 03 ： 00.0-SCSI-0 ： 0 ： 0 ： 0 ： 0`</block>
  <block id="c9c60e06e3a1e7a7531a034f4ddd77c8" category="paragraph">` /dev/disk/by-id/WWS-0x600a09800059d6df000060d757b475fd`</block>
  <block id="1be3682efb6fea0caa2c753764850118" category="paragraph">` /dev/mapper/sgws-ad1-audit-logs`</block>
  <block id="b1bed73191d38e26324d6e8e1cbf630e" category="paragraph">block_device_RANGEDB_000</block>
  <block id="713258d18a3bb7a9ded2234f6ae5084d" category="paragraph">block_device_RANGEDB_001</block>
  <block id="e3d76ade0503c4f8927a43cba3885d52" category="paragraph">block_device_RANGEDB_002</block>
  <block id="0b3e63be06d5e763e2ad4446c5b7308f" category="paragraph">block_device_RANGEDB_003</block>
  <block id="429cb0f8156593fb54d9e52fab4b9510" category="paragraph">block_device_RANGEDB_004</block>
  <block id="0a6ab3023ff0065919096e9e1556264b" category="paragraph">block_device_RANGEDB_005</block>
  <block id="99fdc5c408aec312e75236d884c3820b" category="paragraph">block_device_RANGEDB_006</block>
  <block id="13ae0099b710009d9c41187631496a15" category="paragraph">block_device_RANGEDB_007</block>
  <block id="b1d52b09e10801747c1969f227ab3f2a" category="paragraph">block_device_RANGEDB_008</block>
  <block id="d1dff545072d4281c2a80dc306de7617" category="paragraph">block_device_RANGEDB_009</block>
  <block id="9752589946671056b32caa3fa25e79f5" category="paragraph">block_device_RANGEDB_010</block>
  <block id="94d6cec18da6f5d6a9c4f8fb8daf58cb" category="paragraph">block_device_RANGEDB_011</block>
  <block id="37ffb4f366ca1c1f5cec133d8093f65e" category="paragraph">block_device_RANGEDB_012</block>
  <block id="16470eeaf5eaf84e1dc4624e43db1e10" category="paragraph">block_device_RANGEDB_013</block>
  <block id="49593fc1067201a4b68c958cc94bce1e" category="paragraph">block_device_RANGEDB_014</block>
  <block id="c175c654d8936162d73554de49d1f68e" category="paragraph">block_device_RANGEDB_015</block>
  <block id="a9a4903086864fa96e29cb45e9639ddc" category="paragraph">此节点将用于永久性对象存储的块设备专用文件的路径和名称。只有 node_type = VM_Storage_Node 的节点才需要此密钥；不要为其他节点类型指定此密钥。</block>
  <block id="afaad00310032be9c31548090ecb6698" category="paragraph">仅需要 block_device_RANGEDB_000 ；其余为可选。为 block_device_RANGEDB_000 指定的块设备必须至少为 4 TB ；其他块设备可以更小。</block>
  <block id="2cc96b6c7a4082c372b9d42673e76fb2" category="paragraph">请勿留下空隙。如果指定 block_device_RANGEDB_005 ，则还必须指定 block_device_RANGEDB_004 。</block>
  <block id="a3a0eb76b30f66dc58cc6b9ebfc98f4b" category="paragraph">* 注 * ：为了与现有部署兼容，升级后的节点支持两位数的密钥。</block>
  <block id="b89f51b3841bc0ee773f1809335a5454" category="paragraph">` /dev/mapper/sgws-SN1-rangedb-000`</block>
  <block id="7d1de44774290edc24aef96956195f2b" category="paragraph">block_device_tables</block>
  <block id="10bbc72fa79244f8f479f2b4451fe2ce" category="paragraph">此节点将用于永久存储数据库表的块设备专用文件的路径和名称。只有 node_type = VM_Admin_Node 的节点才需要此密钥；不要为其他节点类型指定此密钥。</block>
  <block id="a52f34f93b449b4006f957c33d26b0cd" category="paragraph">` /dev/mapper/sgws-ad1-tables`</block>
  <block id="75452846fc4694e8dd77c42c1832beeb" category="paragraph">block_device_var_local</block>
  <block id="df770df3feabef773282ef322ad1dea9" category="paragraph">此节点将用于其 /var/local 永久性存储的块设备专用文件的路径和名称。</block>
  <block id="0f2a82dd6b43a2cdad95d09481b3691f" category="paragraph">` /dev/mapper/sgws-SN1-var-local`</block>
  <block id="66057e529a6dd3b9c7d08c1335c534a8" category="paragraph">client_network_config</block>
  <block id="cae1d8dce905883090ae40f096b0931f" category="paragraph">client_network_gateway</block>
  <block id="ed90a425939a59a0db88513226c7fa1b" category="paragraph">此节点的本地客户端网络网关的 IPv4 地址，该地址必须位于 client_network_ip 和 client_network_mask 定义的子网上。对于配置了 DHCP 的网络，此值将被忽略。</block>
  <block id="39a5e608eac9f8a8d1056091140668bc" category="paragraph">client_network_IP</block>
  <block id="0aea80e9f69277c9eb4572b490a122b9" category="paragraph">此节点在客户端网络上的 IPv4 地址。只有当 client_network_config = static 时才需要此密钥；不要为其他值指定此密钥。</block>
  <block id="af1d082ee225a21a8997538f5e2ab173" category="paragraph">客户端网络 MAC</block>
  <block id="4b8ac81fc2be883dfccc4e7b459641a4" category="paragraph">容器中客户端网络接口的 MAC 地址。</block>
  <block id="892817d7afe3f4a36f7b14d5b1c6b1fb" category="paragraph">示例： `B2 ： 9c ： 02 ： C2 ： 27 ： 20`</block>
  <block id="090ccc5b77af3adf5215a4dd33506da3" category="paragraph">client_network_mask</block>
  <block id="ed2ec11f889cab740ac82b3277a82d28" category="paragraph">此节点在客户端网络上的 IPv4 网络掩码。只有当 client_network_config = static 时才需要此密钥；不要为其他值指定此密钥。</block>
  <block id="af3c7b27553a9ccfbdbeb73cfaabd48b" category="paragraph">client_network_mtu</block>
  <block id="9fe219a8e4127c4d06041023c9fe9013" category="paragraph">客户端网络上此节点的最大传输单元（ MTU ）。请勿指定 client_network_config 是否为 DHCP 。如果指定，则此值必须介于 1280 和 9216 之间。如果省略，则使用 1500 。</block>
  <block id="80e7cce82d01be15430cbfe95cc99994" category="paragraph">client_network_target</block>
  <block id="51510aa8ad3bd0aa9c6322dbfc9ab5e7" category="paragraph">StorageGRID 节点用于客户端网络访问的主机设备的名称。仅支持网络接口名称。通常，您使用的接口名称与为 grid_network_target 或 admin_network_target 指定的接口名称不同。</block>
  <block id="dff08c20f4dd9cf3a9de3f4835915317" category="paragraph">* 最佳实践： * 指定一个值，即使此节点最初不会具有客户端网络 IP 地址也是如此。然后，您可以稍后添加客户端网络 IP 地址，而无需重新配置主机上的节点。</block>
  <block id="cd23b3978cb29bfa42767f332dca85ec" category="paragraph">`bond0.1003`</block>
  <block id="ac61b9aba97646d31de80b985c6de257" category="paragraph">`ens423`</block>
  <block id="5f2356b71839a53db0c99f4ddc75c3f8" category="paragraph">client_network_target_type</block>
  <block id="01f416fe46d223df88e76978c97dde7c" category="paragraph">（此值仅受支持。）</block>
  <block id="72fa84635891517050800bd00add24e6" category="paragraph">client_network_target_type_interface_clone_MAC</block>
  <block id="d5dc8d767d627e8a6a11c1f819a7a04a" category="paragraph">将密钥设置为 "true" ，以便对 StorageGRID 容器进行发生原因 处理，以使用客户端网络上主机目标接口的 MAC 地址。</block>
  <block id="70591d8e95f145767ee5ecd1628ba0e6" category="paragraph">* 最佳实践： * 在需要混杂模式的网络中，请改用 client_network_target_type_interface_clone_MAC 密钥。</block>
  <block id="c0eb82768dfbb1ac2bb0fca85f696605" category="paragraph">grid_network_config</block>
  <block id="d5f388e02d76dd14580e7362d1a68060" category="paragraph">静态或 DHCP</block>
  <block id="fd6c025a572f6987b3404e070b977b85" category="paragraph">（如果未指定，则默认为 static 。）</block>
  <block id="6304269f7fce22a4dc6c7242f8d38e2c" category="paragraph">grid_network_gateway</block>
  <block id="eb4a1302a8b547a0c978f05a27e8325e" category="paragraph">此节点的本地网格网络网关的 IPv4 地址，该网关必须位于 grid_network_ip 和 grid_network_mask 定义的子网上。对于配置了 DHCP 的网络，此值将被忽略。</block>
  <block id="dc0c0fb0aab41ee8b6fe122b02f9d72d" category="paragraph">如果网格网络是没有网关的单个子网，请使用该子网的标准网关地址（ X.y.Z.1 ）或此节点的 GRID_NETWORK_IP 值；任一值都将简化未来可能进行的网格网络扩展。</block>
  <block id="d95aea4b0767aae255b5299f72337543" category="paragraph">GRID_NETWORK_IP</block>
  <block id="30a1825259ce3c85c02931639824bcbd" category="paragraph">此节点在网格网络上的 IPv4 地址。只有当 grid_network_config = static 时才需要此密钥；不要为其他值指定此密钥。</block>
  <block id="3dc5febea22be7d2c8f2078fca557465" category="paragraph">GRID_NETWORK_MAC</block>
  <block id="5452f52d11e75e40ad3dc1efa05fd696" category="paragraph">容器中网格网络接口的 MAC 地址。</block>
  <block id="62c58631be0637f0851ef32ccbdbf5ab" category="paragraph">示例： `B2 ： 9c ： 02 ： C2 ： 27 ： 30`</block>
  <block id="a6e3e7a06954c11ac242ac848a620bf5" category="paragraph">grid_network_mask</block>
  <block id="9a67158a58c7c22dac44063a6b3d01b1" category="paragraph">此节点在网格网络上的 IPv4 网络掩码。只有当 grid_network_config = static 时才需要此密钥；不要为其他值指定此密钥。</block>
  <block id="801157f3741cafe6d8bb89e285d0c932" category="paragraph">grid_network_mtu</block>
  <block id="ea0dbbeea892c84df26094af86e62e5a" category="paragraph">网格网络上此节点的最大传输单元（ MTU ）。请勿指定 grid_network_config 是否为 DHCP 。如果指定，则此值必须介于 1280 和 9216 之间。如果省略，则使用 1500 。</block>
  <block id="4f0ae2432d752392558f5c2fcb09452a" category="paragraph">* 重要信息 * ：为获得最佳网络性能，应在所有节点的网格网络接口上配置类似的 MTU 值。如果网格网络在各个节点上的 MTU 设置有明显差异，则会触发 * 网格网络 MTU 不匹配 * 警报。并非所有网络类型的 MTU 值都相同。</block>
  <block id="41ac29d5fc78a299954b92428e86df73" category="paragraph">1500 8192</block>
  <block id="f4e1cbe0fc74e06e92761c0c2e872f0a" category="paragraph">grid_network_target</block>
  <block id="14244181a99784f8c1601f93abf879fe" category="paragraph">StorageGRID 节点要用于网格网络访问的主机设备的名称。仅支持网络接口名称。通常，您使用的接口名称与为 admin_network_target 或 client_network_target 指定的接口名称不同。</block>
  <block id="cd4a0b46be06ee505366b9684ec96dbe" category="paragraph">`bond0.1001`</block>
  <block id="267a0846584ebb193f0d77fa67a9cb75" category="paragraph">`ens192`</block>
  <block id="048a4ca83de3b40c4c5e9ba056ba42de" category="paragraph">grid_network_target_type</block>
  <block id="0243268269ae6763a98158c7cf17cd25" category="paragraph">grid_network_target_type_interface_clone_MAC</block>
  <block id="db37e289ae694737b500626cd2593c44" category="paragraph">* bp*</block>
  <block id="ee01e6f2e1a5316925bc20a1433b1d5c" category="paragraph">将密钥值设置为 "true" ，以便对 StorageGRID 容器进行发生原因 处理，以使用网格网络上主机目标接口的 MAC 地址。</block>
  <block id="ed9c327dc0a0dcbb5cc181cb206af0e6" category="paragraph">* 最佳实践： * 在需要混杂模式的网络中，请改用 grid_network_target_type_interface_clone_MAC 密钥。</block>
  <block id="d961b85efe653b9829c612e721b697b6" category="paragraph">interfaces_target_nnnn</block>
  <block id="2c7c5db0197a389a1e8076ebf25e5109" category="paragraph">要添加到此节点的额外接口的名称和可选问题描述 。您可以向每个节点添加多个额外接口。</block>
  <block id="414091bd41062f7ed5cbc73baec5ad1f" category="paragraph">对于 _nnnn_ ，请为要添加的每个 interfaces_target 条目指定一个唯一编号。</block>
  <block id="49838787e2561b0469bda13980169dcd" category="paragraph">对于此值，请指定裸机主机上物理接口的名称。然后，也可以添加一个逗号并提供接口的问题描述 ，该接口将显示在 "VLAN interfaces" 页面和 "HA Groups" 页面上。</block>
  <block id="264c1f44030a578fee488bbf36f70563" category="paragraph">例如： `interfaces_target_01=ens256 ， Trunk`</block>
  <block id="1834d9884c954dff98fdb3e0ee16097c" category="paragraph">如果添加中继接口，则必须在 StorageGRID 中配置 VLAN 接口。如果添加访问接口，则可以将该接口直接添加到 HA 组；而无需配置 VLAN 接口。</block>
  <block id="6acca87731a36c0d551f1052e67fb178" category="paragraph">最大 RAM</block>
  <block id="f5a893661fca1e0ef3eed3cd881f5481" category="paragraph">此节点允许使用的最大 RAM 量。如果省略此密钥，则节点不存在内存限制。在为生产级节点设置此字段时，请指定一个值，该值应至少比系统 RAM 总量少 24 GB ，并且要少 16 到 32 GB 。</block>
  <block id="914cc9931c9cde7fc4d1a1e16fada26f" category="paragraph">* 注 * ： RAM 值会影响节点的实际元数据预留空间。请参见 <block ref="0466c9eb48b81d05ef9ed61c69116339" category="inline-xref-macro-rx"></block> 用于问题描述 的元数据预留空间。</block>
  <block id="d63d2cf30748a93511fde72810dc1528" category="paragraph">此字段的格式为 ` &lt; 数字 &gt;&lt; 单位 &gt;` ，其中 ` &lt; 单位 &gt;` 可以是 `b` ， `k` ， `m` 或 `g` 。</block>
  <block id="9f31edb9d74088ce256afca03861e569" category="paragraph">`24G`</block>
  <block id="1aeab9b572e4d98096ef2866eabf7334" category="paragraph">`38654705664b`</block>
  <block id="4b4905baded7b57fc3c3c268541694f1" category="paragraph">* 注 * ：如果要使用此选项，必须为内存 cgroups 启用内核支持。</block>
  <block id="5bc763ee8edcf5e8cbf339c971001784" category="paragraph">node_type</block>
  <block id="aa4bca68a83cd00a8453dc55e1d6ef50" category="paragraph">节点类型：</block>
  <block id="4e1bf4ea3f226f33feaeda99c81f6f61" category="paragraph">VM_Admin_Node VM_Storage_Node VM_Archive_Node VM_API_Gateway</block>
  <block id="38b6b4c3eab5bcc593ca4ec0ccb75143" category="paragraph">port_remap</block>
  <block id="30635621dabd1ea1534ef53c1aa83c4a" category="paragraph">重新映射节点用于内部网格节点通信或外部通信的任何端口。如果企业网络策略限制 StorageGRID 使用的一个或多个端口，则必须重新映射端口，如 "`内部网格节点通信` " 或 "`外部通信 " 中所述。`</block>
  <block id="01cde79485a736299d738a00beb841f4" category="paragraph">* 重要信息 * ：请勿重新映射计划用于配置负载平衡器端点的端口。</block>
  <block id="1c22f0f4e99d3ed04431c169a15828c2" category="paragraph">* 注意 * ：如果仅设置 port_remap ，则指定的映射将同时用于入站和出站通信。如果同时指定 port_remap_inbound ， port_remap 将仅应用于出站通信。</block>
  <block id="ff28c280d1de689fb07d20928d2960a6" category="paragraph">使用的格式为： ` &lt; 网络类型 &gt;/&lt; 协议 &gt;/&lt; 网格节点使用的默认端口 &gt;/&lt; 新端口 &gt;` ，其中 ` &lt; 网络类型 &gt;` 是网格，管理员或客户端，协议是 TCP 或 UDP 。</block>
  <block id="9d5de42c86fe2d98007577ed7fd3bd8f" category="paragraph">`port_remap = client/TCP/18082/443`</block>
  <block id="0aab9607206b2f1daede9b848b7d8258" category="paragraph">port_remap_inbound</block>
  <block id="c31a80f33063ec86822c4d752a386ee4" category="paragraph">将入站通信重新映射到指定端口。如果指定 port_remap_inbound ，但未指定 port_remap 的值，则端口的出站通信将保持不变。</block>
  <block id="dab32be17207d790d739280dc2fe1a38" category="paragraph">使用的格式为： ` &lt; 网络类型 &gt;/&lt; 协议： &gt;/&lt; 网格节点使用的默认端口 &gt;/&lt; 网格节点使用的默认端口 &gt;` ，其中 ` &lt; 网络类型 &gt;` 是网格，管理员或客户端，协议是 TCP 或 UDP 。</block>
  <block id="cffdd419b789c1dd98d86884a9fa1a98" category="paragraph">`port_remap_inbound = grid/tcp/3022/22`</block>
  <block id="3c490ba284e34960f28fbc15fd39db9a" category="summary">在 /etc/storagegrid/nodes 中为每个 StorageGRID 节点创建配置文件后，您必须验证这些文件的内容。</block>
  <block id="dc4612641e4d411db59d98ad82463408" category="doc">验证 StorageGRID 配置</block>
  <block id="e9c891e3deccfffd6c3a49588112e15a" category="paragraph">在 ` /etc/storaggrid/nodes` 中为每个 StorageGRID 节点创建配置文件后，您必须验证这些文件的内容。</block>
  <block id="7af406a1a11ca43d1f4d41e02bec23aa" category="paragraph">要验证配置文件的内容，请在每个主机上运行以下命令：</block>
  <block id="70fcd83f5d9d9f257326cad5b7125f85" category="paragraph">如果这些文件正确无误，则输出将为每个配置文件显示 * 已通过 * ，如示例所示。</block>
  <block id="2d07d783ff87f6850bce2d29425f66d0" category="admonition">对于自动安装，您可以通过在 `StorageGRID` 命令中使用 ` -q` 或 ` -quiet` 选项（例如， `StorageGRID --quiet …` ）来禁止此输出。如果禁止输出，则在检测到任何配置警告或错误时，命令的退出值将为非零。</block>
  <block id="7327a1a2d2f0f17810fa50b9ffee951b" category="paragraph">如果配置文件不正确，则这些问题将显示为 * 警告 * 和 * 错误 * ，如示例所示。如果发现任何配置错误，则必须先更正这些错误，然后再继续安装。</block>
  <block id="2b42270bcfc73781a2b992f41bfae68f" category="summary">StorageGRID 系统作为一组 Docker 容器在 Linux 上运行。在安装 StorageGRID 之前，您必须先安装 Docker 。</block>
  <block id="d2e76c80cf106b0ec7857ece4367a212" category="doc">安装 Docker</block>
  <block id="785444f54982542a5db9be46b8ac07c6" category="list-text">按照适用于您的 Linux 版本的说明安装 Docker 。</block>
  <block id="da534a1f67293ad139d37cfd78f8b6c0" category="admonition">如果您的 Linux 分发版不包含 Docker ，您可以从 Docker 网站下载它。</block>
  <block id="55bde76a21f9a4cffa4e4990619106c2" category="list-text">运行以下两个命令，确保已启用并启动 Docker ：</block>
  <block id="51d0d7e7a7f669ffd0e355334b1386db" category="list-text">输入以下命令确认您已安装预期版本的 Docker ：</block>
  <block id="6feae6cdb3c43d336f52038f19c43f7e" category="paragraph">客户端和服务器版本必须为 1.11.0 或更高版本。</block>
  <block id="0d62408bb7b7b53f5e74940e571d629b" category="paragraph"><block ref="0d62408bb7b7b53f5e74940e571d629b" category="inline-xref-macro-rx"></block></block>
  <block id="b40d11da9aa6852439b5644bdbd40bb9" category="summary">通过节点迁移功能，您可以手动将节点从一台主机移动到另一台主机。通常，两台主机位于同一物理数据中心。</block>
  <block id="6fd3059ea9c633b57b9838b17c0f0fe2" category="paragraph">通过节点迁移，您可以在不中断网格操作的情况下执行物理主机维护。您只需逐个将所有 StorageGRID 节点移动到另一台主机，然后再使物理主机脱机。迁移节点只需要每个节点短暂停机，不应影响网格服务的运行或可用性。</block>
  <block id="32e40a76f2cffff53457a6545395e2dd" category="paragraph">如果要使用 StorageGRID 节点迁移功能，则部署必须满足其他要求：</block>
  <block id="d2fce1cfdc74c3e9229c97394ed91fdf" category="list-text">在一个物理数据中心的主机之间使用一致的网络接口名称</block>
  <block id="862bf7ea0536045befdd2b3fbcc9ea8e" category="list-text">StorageGRID 元数据和对象存储库卷的共享存储，可由单个物理数据中心中的所有主机访问。例如，您可以使用 NetApp E 系列存储阵列。</block>
  <block id="36592906af7a975ff92a379e0b0ba575" category="paragraph">如果您使用的是虚拟主机，并且底层虚拟机管理程序层支持 VM 迁移，则可能需要使用此功能，而不是 StorageGRID 的节点迁移功能。在这种情况下，您可以忽略这些附加要求。</block>
  <block id="1c3555a8f7e4748e445f294fdce81c0c" category="inline-xref-macro">关闭网格节点</block>
  <block id="5f623a28f1c283a11843ebcf35882aa5" category="paragraph">在执行迁移或虚拟机管理程序维护之前，请正常关闭节点。请参见的说明 <block ref="7bae2188ae466442caea16315a7082cb" category="inline-xref-macro-rx"></block>。</block>
  <block id="fb114712460045d32af7c6f23b4ab6a6" category="section-title">不支持 VMware 实时迁移</block>
  <block id="88d048b9339d4702522739895820180b" category="paragraph">OpenStack 实时迁移和 VMware 实时 vMotion 发生原因 虚拟机时钟跳转时间，不支持任何类型的网格节点。尽管时钟时间不正确，但极少会导致数据丢失或配置更新。</block>
  <block id="61286197c652153783f7ab37081c8e3d" category="paragraph">支持冷迁移。在冷迁移中，您需要先关闭 StorageGRID 节点，然后再在主机之间迁移它们。请参见的说明 <block ref="7bae2188ae466442caea16315a7082cb" category="inline-xref-macro-rx"></block>。</block>
  <block id="832d709bd61c6fe4747ff3c0a41f7c26" category="section-title">网络接口名称一致</block>
  <block id="77081eab9da5e4db4cee9c0ff80170d2" category="paragraph">为了将节点从一台主机移动到另一台主机， StorageGRID 主机服务需要一定程度地确信该节点在其当前位置的外部网络连接可以在新位置进行复制。它可以通过在主机中使用一致的网络接口名称来获得这种信心。</block>
  <block id="9715db4fae238736bb39f103d452551e" category="paragraph">例如，假设主机 1 上运行的 StorageGRID 节点 A 已配置以下接口映射：</block>
  <block id="c36a360b6f68bb2b1fbe0c92fa988181" category="paragraph">箭头的左侧对应于从 StorageGRID 容器中查看的传统接口（即网格接口，管理接口和客户端网络接口）。箭头的右侧对应于提供这些网络的实际主机接口，它们是同一物理接口绑定下的三个 VLAN 接口。</block>
  <block id="6095c15ee0af494f4b9165111966df79" category="paragraph">现在，假设您要将节点 A 迁移到 Host2 。如果 Host2 还具有名为 bond0.1001 ， bond0.1002 和 bond0.1003 的接口，则系统将允许移动，前提是同名接口在 Host2 上提供的连接与在 Host1 上提供的连接相同。如果 Host2 的接口名称不相同，则不允许移动。</block>
  <block id="1e8830b897a3cef229127b72c56d4ca0" category="inline-xref-macro">配置主机网络</block>
  <block id="08b01fa721377b1ca50411503e60ce72" category="paragraph">可以通过多种方法在多个主机之间实现一致的网络接口命名；请参见 <block ref="76af0d6ef7ecefcc6be4e80397b1c47b" category="inline-xref-macro-rx"></block> 例如。</block>
  <block id="928fe421f0c735b90f3b3ec353741235" category="section-title">共享存储</block>
  <block id="e04d32eef0faa561b4f7cfecf0f579e2" category="paragraph">为了实现快速，低开销的节点迁移， StorageGRID 节点迁移功能不会物理移动节点数据。而是将节点迁移作为一对导出和导入操作来执行，如下所示：</block>
  <block id="2a14e3a5c70c2e49927cefca9572e76b" category="list-text">在 "`node export` " 操作期间，会从主机 A 上运行的节点容器中提取少量永久性状态数据，并将其缓存在该节点的系统数据卷上。然后，将对 HostA 上的节点容器进行实例化。</block>
  <block id="4ba26e688e0d4b37dc0cb385192e2821" category="list-text">在 "`node import` " 操作期间，系统将实例化 HostB 上使用与 HostA 相同的网络接口和块存储映射的节点容器。然后，缓存的永久性状态数据将插入到新实例中。</block>
  <block id="83dacb8767fd04a2df798fb9708e7ed9" category="paragraph">在这种操作模式下，节点的所有系统数据和对象存储卷都必须可从主机 A 和主机 B 访问，才能允许迁移并正常运行。此外，它们必须已使用名称映射到节点，这些名称可以保证引用主机 A 和主机 B 上的相同 LUN 。</block>
  <block id="77d160004ca4a46d75504c116bb32031" category="paragraph">以下示例显示了一个解决方案 ，用于 StorageGRID 存储节点的块设备映射，其中主机正在使用 DM 多路径，并且在 ` /etc/multipath.conf` 中使用了 alias 字段，以提供所有主机上可用的一致且友好的块设备名称。</block>
  <block id="bf094efb471f3de7188b1d953e97f281" category="inline-xref-macro">自动化安装</block>
  <block id="8c36f17222d2642193408b7c4f58454a" category="paragraph"><block ref="8c36f17222d2642193408b7c4f58454a" category="inline-xref-macro-rx"></block></block>
  <block id="5bab8d132b724ec187e9b33da9018e71" category="summary">您可以自动安装 StorageGRID 主机服务和配置网格节点。</block>
  <block id="6bbdd89352f87407b197a4a8b9ce1690" category="doc">自动安装（ Ubuntu 或 Debian ）</block>
  <block id="494e534f7106d27c37d25785a84bc231" category="paragraph">在以下任一情况下，自动部署可能会很有用：</block>
  <block id="7ce7299289041ff96dfdce934ba728e8" category="list-text">您已使用标准业务流程框架（例如 Ansible ， Puppet 或 Chef ）部署和配置物理或虚拟主机。</block>
  <block id="9b4056b318d7b38bd1ceb4b88437f434" category="list-text">您打算部署多个 StorageGRID 实例。</block>
  <block id="d9733193ac6346bb5d89b6ac87a7d250" category="list-text">您正在部署一个大型的复杂 StorageGRID 实例。</block>
  <block id="cdebbe5a2d50c98d560fdfa0f1f57c7e" category="paragraph">StorageGRID 主机服务由软件包安装，并由配置文件驱动，这些配置文件可以在手动安装期间以交互方式创建，也可以提前准备（或以编程方式），以便使用标准业务流程框架实现自动安装。StorageGRID 提供了可选的 Python 脚本，用于自动配置 StorageGRID 设备和整个 StorageGRID 系统（ "`grid` " ）。您可以直接使用这些脚本，也可以对其进行检查，了解如何在您自己开发的网格部署和配置工具中使用 StorageGRID 安装 REST API 。</block>
  <block id="4f980bb8e75d7d950bb3874fea374461" category="section-title">自动安装和配置 StorageGRID 主机服务</block>
  <block id="8a3a9623acf4bb03e907bdb6541aa3f0" category="paragraph">您可以使用 Ansible ， Puppet ， Chef ， Fabric 或 SaltStack 等标准业务流程框架自动安装 StorageGRID 主机服务。</block>
  <block id="73a1934f0bc60c300961842d13953754" category="paragraph">StorageGRID 主机服务打包在 DEB 中，并由配置文件驱动，这些配置文件可以提前准备（或以编程方式）以启用自动安装。如果您已经使用标准业务流程框架来安装和配置 Ubuntu 或 Debian ，则在攻略手册或秘诀中添加 StorageGRID 应该非常简单。</block>
  <block id="7a1fbaa7429df0895575ac3fe81db1d8" category="paragraph">您可以自动执行以下任务：</block>
  <block id="4cf96104f181f070484cca6f9d423112" category="list-text">安装 Linux</block>
  <block id="fed7c35599e51d1303139874405ce20c" category="list-text">配置 Linux</block>
  <block id="6e391c2cf927899ff6bc4fd8c0a31d2d" category="list-text">配置主机网络接口以满足 StorageGRID 要求</block>
  <block id="2f6b94b57d6ea44de5adb83981877da1" category="list-text">配置主机存储以满足 StorageGRID 要求</block>
  <block id="102e2348e3a85877555c12649df3228c" category="list-text">安装 Docker</block>
  <block id="0eda5a32c75ae2310e75acb45932f17b" category="list-text">安装 StorageGRID 主机服务</block>
  <block id="3a304b2220abd8f8b629512771a51a21" category="list-text">在 ` /etc/storaggrid/nodes` 中创建 StorageGRID 节点配置文件</block>
  <block id="6a73c4d17e77f4d92d764544fbb79c3d" category="list-text">正在验证 StorageGRID 节点配置文件</block>
  <block id="8ab5ce200b57a3c73108620e35c022b4" category="list-text">启动 StorageGRID 主机服务</block>
  <block id="73e1457fb9eb3f09f1830fd8042c1b4e" category="section-title">Ansible 角色和攻略手册示例</block>
  <block id="889e3efb4c2ef30b51069a24e8877e06" category="paragraph">安装归档在 /Extras 文件夹中提供了示例 Ansible 角色和攻略手册。Ansible 攻略手册介绍了 `StorageGRID` 角色如何准备主机并将 StorageGRID 安装到目标服务器上。您可以根据需要自定义角色或攻略手册。</block>
  <block id="d42999e11d448444fcd378e8c99ca423" category="paragraph">其中 `platform` is `dEBS` ， `rpms` 或 `vSphere` 。</block>
  <block id="76227a4d598885f23b49235f4757b61d" category="summary">如果在安装 StorageGRID 系统时出现任何问题，您可以访问安装日志文件。技术支持可能还需要使用安装日志文件来解决问题。</block>
  <block id="3a2e6b4f28f239a9a62253137c1a68a9" category="paragraph">运行每个节点的容器提供了以下安装日志文件：</block>
  <block id="3a87772b372d3aab898a45a623113d18" category="paragraph">主机上提供了以下安装日志文件：</block>
  <block id="d23f0ee003d4b48a27dc3522e66579aa" category="paragraph">要了解如何访问日志文件，请参见有关 StorageGRID 监控和故障排除的说明。有关排除设备安装问题的帮助，请参见适用于您的设备的安装和维护说明。如果您需要其他帮助，请联系技术支持。</block>
  <block id="e90afe06a17b46a8f0764d5b770d12bd" category="list-text">随机生成的命令行控制台和 SSH 密码存储在恢复软件包的 Passwords.txt 文件中。</block>
  <block id="c384938de011be5af8a96a6c9a5454da" category="admonition">如果在安装完成后您希望稍后更改配置密码短语，则可以使用网格管理器。选择 * 配置 * &gt; * 访问控制 * &gt; * 网格密码 * 。</block>
  <block id="50eee08b00b75f4664d07aa6c0f2775f" category="admonition">单击摘要页面上的 * 安装 * 后，系统将提示您下载恢复软件包文件（ `sGWS-recovery-package-id-revision.zip` ）。您必须 <block ref="0f273c14ddd4d817cf88ba5f0c5a4fa4" category="inline-xref-macro-rx"></block> 以完成安装。访问系统所需的密码存储在恢复软件包文件中的 Passwords.txt 文件中。</block>
  <block id="617ccfbeea0bd9c6bb6e747eab2343e1" category="summary">自动执行全部或部分 StorageGRID 安装可能会让您受益匪浅。</block>
  <block id="3055d014d6448fa09855f6aca43c3612" category="doc">部署工具</block>
  <block id="2ca7dc5d015c9b4f6e055c53a6b8d002" category="inline-xref-macro">自动安装</block>
  <block id="dbe4aba93c06b7e64e33522af030a231" category="paragraph">如果您希望自动执行全部或部分 StorageGRID 部署，请查看 <block ref="868d7a27b0fd72dc924bac4cebaccb47" category="inline-xref-macro-rx"></block> 开始安装过程之前。</block>
  <block id="dff09f9960d1a46407a1ca582361be0f" category="summary">您必须在所有网格主机上安装 Ubuntu 或 Debian 。使用 NetApp 互操作性表工具可获取受支持版本的列表。</block>
  <block id="30debfeba9c65bfc1e9e012a98d7309e" category="doc">安装 Linux</block>
  <block id="8c8fd156a31864a71cf501c9ab210a29" category="paragraph">您必须在所有网格主机上安装 Linux 。使用<block ref="0aaf04254af18646f3d246cd4a4b417d" category="inline-link-rx"></block> 以获取支持的版本列表。</block>
  <block id="a5e51a8974cda23e4f6e75bbdbac5a00" category="list-text">按照分销商的说明或您的标准操作步骤 在所有物理或虚拟网格主机上安装 Linux 。</block>
  <block id="bb6ccf4ed771adb62babbaf8d6baf03a" category="admonition">请勿安装任何图形桌面环境。安装 Ubuntu 时，必须选择 * 标准系统实用程序 * 。建议选择 * OpenSSH 服务器 * 以启用对 Ubuntu 主机的 ssh 访问。所有其他选项均可保持未选中状态。</block>
  <block id="451cef48e701b7faef9a8a51f350deee" category="list-text">确保所有主机均可访问 Ubuntu 或 Debian 软件包存储库。</block>
  <block id="b4b91c9ea402f4b4ca5244ed376f98a9" category="list-text">如果已启用交换：</block>
  <block id="1eae61a18f46072d25fd472a1bd80912" category="list-text">运行以下命令： ` $sudo swapoff -all`</block>
  <block id="7436358a5b80235ed631e763d8895c2d" category="list-text">从 ` /etc/fstab` 中删除所有交换条目以保留这些设置。</block>
  <block id="2522e8159c562bc548e18205bb912878" category="admonition">如果未完全禁用交换，则会严重降低性能。</block>
  <block id="dba019ff5439d4c20b20a6d060a32750" category="summary">您可以使用示例节点配置文件帮助设置 StorageGRID 系统的节点配置文件。这些示例显示了所有类型网格节点的节点配置文件。</block>
  <block id="34baf6b19122f36cededd1879658470c" category="doc">示例节点配置文件</block>
  <block id="01ad456f688928d1544cf3b256dcdb33" category="paragraph">对于大多数节点，在使用网格管理器或安装 API 配置网格时，您可以添加管理员和客户端网络地址信息（ IP ，掩码，网关等）。主管理节点除外。如果要浏览到主管理节点的管理网络 IP 以完成网格配置（例如，由于网格网络未路由），则必须在主管理节点的节点配置文件中配置主管理节点的管理网络连接。示例显示了这一点。</block>
  <block id="f201921d45efbaf178593c1485d1a7bc" category="admonition">在这些示例中，已将客户端网络目标配置为最佳实践，即使客户端网络默认处于禁用状态也是如此。</block>
  <block id="08b09a3719bd79aee09b5e3b338b016f" category="section-title">主管理节点的示例</block>
  <block id="e029ef81f504cf7fd41bce81c2ee2be8" category="paragraph">* 示例文件名 * ： ` /etc/storagegRid/nodes/DC1-ad1.conf`</block>
  <block id="f060706a9913ab2dd01796b43dc075ca" category="paragraph">* 示例文件内容： *</block>
  <block id="a879e62c1a14f5078b0327035d84e188" category="section-title">存储节点示例</block>
  <block id="7c45d75a258bf91bfc7f347cf826260b" category="paragraph">* 示例文件名： * ` /etc/storagegRid/nodes/DC1-SN1.conf`</block>
  <block id="5f702d89ae30ffd5ccc5c863519ae4fb" category="section-title">归档节点示例</block>
  <block id="fbe759865ed69b091189339f5c90cb84" category="paragraph">* 示例文件名： * ` /etc/storagegriid/nodes/DC1-arc1.conf`</block>
  <block id="97958a700e7df44742b0899296f2f108" category="section-title">网关节点示例</block>
  <block id="1d4009833d9efe539852fe74e9292c80" category="paragraph">* 示例文件名： * ` /etc/storagegRid/nodes/DC1-GW1.conf`</block>
  <block id="f8b161795a5c6a1c64fda02794f58b2d" category="section-title">非主管理节点的示例</block>
  <block id="52742569cc81b533fff308aca8f382ee" category="paragraph">* 示例文件名： * ` /etc/storagegRid/nodes/DC1-adm2.conf`</block>
  <block id="912f04892c19b82d9cc2689322995c99" category="summary">在主机上完成 Linux 安装后，您可能需要执行一些额外的配置，以便在每个主机上准备一组适合映射到稍后要部署的 StorageGRID 节点的网络接口。</block>
  <block id="9549287d15ac8f6f20f46720a7f0c289" category="inline-xref-macro">StorageGRID 网络连接准则</block>
  <block id="f0bad587992e6ae9a76fc48b11beb81c" category="list-text">您已查看 <block ref="50f1cb6d7da5303aec687fedfc931416" category="inline-xref-macro-rx"></block>。</block>
  <block id="1f881b51ab54b10bd44880dc308e9f4a" category="inline-xref-macro">节点容器迁移要求</block>
  <block id="8787a5189f450ff37aa9fa230d8f61b4" category="list-text">您已查看有关的信息 <block ref="ef3f314e6959cff2d9861f53f41b68b3" category="inline-xref-macro-rx"></block>。</block>
  <block id="defb63474129cd243ba21c00022bc12b" category="inline-xref">MAC 地址克隆的注意事项和建议</block>
  <block id="131411df6771debc86513a1e8824a89d" category="list-text">如果您使用的是虚拟主机，则已阅读 <block ref="fd237bca52593822eee5911a9bf54ac6" category="inline-xref-macro-rx"></block> 配置主机网络之前。</block>
  <block id="75ed0d213e8a382a51acf9dc6f6f18b1" category="admonition">如果要使用 VM 作为主机，则应选择 VMXNET 3 作为虚拟网络适配器。VMware E1000 网络适配器已导致在某些 Linux 版本上部署 StorageGRID 容器时出现连接问题。</block>
  <block id="f7aa32c8513aceba74cfacf413879f05" category="paragraph">网格节点必须能够访问网格网络，还可以访问管理网络和客户端网络。您可以通过创建映射来提供此访问权限，此映射会将主机的物理接口与每个网格节点的虚拟接口相关联。创建主机接口时，请使用友好名称以方便在所有主机之间进行部署，并启用迁移。</block>
  <block id="bf09c08308ade0ec1de22bb14739bdcd" category="paragraph">同一接口可以在主机与一个或多个节点之间共享。例如，您可以使用相同的接口进行主机访问和节点管理网络访问，以便于维护主机和节点。尽管主机和各个节点之间可以共享同一接口，但所有接口都必须具有不同的 IP 地址。不能在节点之间或主机与任何节点之间共享 IP 地址。</block>
  <block id="be0e969b32a3e753737b4ccf97519e1b" category="paragraph">您可以使用相同的主机网络接口为主机上的所有 StorageGRID 节点提供网格网络接口；可以为每个节点使用不同的主机网络接口；也可以在这两者之间执行操作。但是，通常不会提供与单个节点的网格和管理网络接口相同的主机网络接口，也不会提供与一个节点的网格网络接口和另一个节点的客户端网络接口相同的主机网络接口。</block>
  <block id="877edb8109954c7e79459592370cf2d2" category="paragraph">您可以通过多种方式完成此任务。例如，如果您的主机是虚拟机，而您要为每个主机部署一个或两个 StorageGRID 节点，则只需在虚拟机管理程序中创建正确数量的网络接口并使用一对一映射即可。如果要在裸机主机上部署多个节点以供生产使用，则可以利用 Linux 网络堆栈对 VLAN 和 LACP 的支持来实现容错和带宽共享。以下各节详细介绍了这两个示例的方法。您无需使用上述任一示例；您可以使用任何满足您需求的方法。</block>
  <block id="0b6e57a0c730714ff16a5449c80055df" category="admonition">请勿直接使用绑定或网桥设备作为容器网络接口。这样做可能会阻止内核问题描述 在容器命名空间中对绑定和网桥设备使用 MACVLAN 导致节点启动。请改用非绑定设备，例如 VLAN 或虚拟以太网（ Veth ）对。在节点配置文件中指定此设备作为网络接口。</block>
  <block id="22ea66f113a10c0f4f01ad53841656b6" category="section-title">MAC 地址克隆的注意事项和建议</block>
  <block id="2776377c6f9b70f1de762dab076827ed" category="paragraph">MAC 地址克隆会使容器使用主机的 MAC 地址，而主机则使用您指定的地址或随机生成的地址的 MAC 地址。您应使用 MAC 地址克隆来避免使用混杂模式网络配置。</block>
  <block id="3258bdb37f37b40198dce49974cb84b1" category="section-title">启用 MAC 克隆</block>
  <block id="22f84d2d85375941d2fc4a91e09baef7" category="paragraph">在某些环境中，可以通过 MAC 地址克隆来增强安全性，因为它使您可以对管理网络，网格网络和客户端网络使用专用虚拟 NIC 。让容器使用主机上专用 NIC 的 MAC 地址可以避免使用混杂模式网络配置。</block>
  <block id="3e08fd9160396c6d234ce9e959503097" category="admonition">MAC 地址克隆用于安装虚拟服务器，可能无法在所有物理设备配置中正常运行。</block>
  <block id="2ab2ee42eb31db8273d742be8b9dbb7d" category="admonition">如果某个节点由于 MAC 克隆目标接口繁忙而无法启动，则在启动节点之前，您可能需要将链路设置为 " 关闭 " 。此外，在链路启动时，虚拟环境可能会阻止网络接口上的 MAC 克隆。如果某个节点由于接口繁忙而无法设置 MAC 地址并启动，则在启动该节点之前将链路设置为 " 关闭 " 可能会修复问题描述 。</block>
  <block id="d13035c81dac1e35a9fbfc79185c20a4" category="paragraph">默认情况下， MAC 地址克隆处于禁用状态，必须通过节点配置密钥进行设置。您应在安装 StorageGRID 时启用它。</block>
  <block id="7531567abff55baec654efda44aa727f" category="paragraph">每个网络有一个密钥：</block>
  <block id="c7e731ead84d92b17389072b537f630e" category="list-text">`admin_network_target_type_interface_clone_MAC`</block>
  <block id="268cfebb137372150460709bb066fbb4" category="list-text">`grid_network_target_type_interface_clone_MAC`</block>
  <block id="b2b025193bf1ee82143977ed76ef0796" category="list-text">`client_network_target_type_interface_clone_MAC`</block>
  <block id="8408d55f35d24ede50db8a34db90b267" category="paragraph">如果将密钥设置为 "true" ，则容器将使用主机 NIC 的 MAC 地址。此外，主机将使用指定容器网络的 MAC 地址。默认情况下，容器地址是随机生成的地址，但如果您使用 ` _network_MAC` 节点配置密钥设置了一个地址，则会改用该地址。主机和容器始终具有不同的 MAC 地址。</block>
  <block id="5535c72927b0a1c6871acf2d3352f777" category="admonition">在虚拟主机上启用 MAC 克隆而不同时在虚拟机管理程序上启用混杂模式可能会使用主机的接口发生原因 Linux 主机网络连接停止工作。</block>
  <block id="401253f776004f8e252db65623a85a88" category="section-title">Mac 克隆使用情形</block>
  <block id="ddf234ecb0e3453cecd55647953778d3" category="paragraph">MAC 克隆需要考虑两种使用情形：</block>
  <block id="22b2c6a881de890ecda4314e3106cd3e" category="list-text">未启用 MAC 克隆：如果节点配置文件中的 ` clone_mac` 密钥未设置或设置为 "false" ，则主机将使用主机 NIC MAC ，并且容器将具有 StorageGRID 生成的 MAC ，除非在 ` _network_mac` 密钥中指定了 MAC 。如果在 ` _network_MAC` 项中设置了地址，则容器将具有在 ` _network_MAC` 项中指定的地址。此密钥配置要求使用混杂模式。</block>
  <block id="8773b8274211d0a0d3d20239dd096a9e" category="list-text">已启用 MAC 克隆：如果节点配置文件中的 ` clone_mac` 密钥设置为 "true" ，则容器将使用主机 NIC MAC ，而主机将使用 StorageGRID 生成的 MAC ，除非在 ` _network_mac` 密钥中指定了 MAC 。如果在 ` _network_MAC` 项中设置了地址，则主机将使用指定的地址，而不是生成的地址。在此密钥配置中，不应使用混杂模式。</block>
  <block id="2c39f790ef2240e348b5700cefcf86d0" category="inline-xref-macro">有关创建节点配置文件的说明</block>
  <block id="9241b82d221be012eddd8d5bef9a3d81" category="paragraph">要启用 MAC 克隆，请参见 <block ref="48e9c4837eda3a6eb414138d09d46c98" category="inline-xref-macro-rx"></block>。</block>
  <block id="3044bd26dd35f8e3de3f0ee5a192a606" category="section-title">Mac 克隆示例</block>
  <block id="ce5768b46cca81b082128f4bc7740c14" category="paragraph">在 MAC 地址为 11 ： 22 ： 33 ： 44 ： 55 ： 66 的主机上为接口 ens256 启用 MAC 克隆的示例，以及节点配置文件中的以下密钥：</block>
  <block id="0c28031d1e6418d3aba4a36a31b1d1fa" category="list-text">`admin_network_target = ens256`</block>
  <block id="e6c2bee866a0179ec3d5597c3ca01723" category="list-text">`admin_network_MAC = B2 ： 9c ： 02 ： C2 ： 27 ： 10`</block>
  <block id="9158ed94ca0e62f2cb79f25c4e9ec263" category="list-text">`admin_network_target_type_interface_clone_MAC = true`</block>
  <block id="0347c85f011be69b8c5ab7467c7d8517" category="paragraph">结果： ens256 的主机 MAC 为 B2 ： 9c ： 02 ： C2 ： 27 ： 10 ，管理网络 MAC 为 11 ： 22 ： 33 ： 44 ： 55 ： 66</block>
  <block id="7c080364e3bbd117232064c351a9598c" category="section-title">示例 1 ：映射到物理或虚拟 NIC 的一对一映射</block>
  <block id="7eecc0b16339197ee4405f7ed8a6caef" category="paragraph">示例 1 介绍了一个简单的物理接口映射，该映射只需要很少的主机端配置或根本不需要主机端配置。</block>
  <block id="0ccc0ce0ac39cf812cd3ccd0cf12b5b8" category="image-alt">VLAN 图</block>
  <block id="d4c5f23a99046192eab0cbf9cd5a663a" category="paragraph">Linux 操作系统会在安装或启动期间或热添加接口时自动创建 ensXYZ 接口。除了确保接口设置为在启动后自动启动之外，无需进行任何配置。您必须确定哪个 ensXYZ 与哪个 StorageGRID 网络（网格，管理员或客户端）相对应，以便稍后在配置过程中提供正确的映射。</block>
  <block id="41fa8a116cf73ab04c802e85185fdef4" category="paragraph">请注意，此图显示了多个 StorageGRID 节点；但是，通常情况下，您会对单节点 VM 使用此配置。</block>
  <block id="24d8584c846ce923b4047e8798f545ec" category="paragraph">如果交换机 1 是物理交换机，则应将连接到接口 10G~1~ 到 10G~3~ 的端口配置为访问模式，并将其放置在相应的 VLAN 上。</block>
  <block id="99316f783d391aec28e3440cf5a31106" category="section-title">示例 2 ： LACP 绑定传输 VLAN</block>
  <block id="937082795d3f3c8b3f42e16be8a316dc" category="paragraph">示例 2 假定您熟悉绑定网络接口以及在所使用的 Linux 分发版上创建 VLAN 接口。</block>
  <block id="5268c0959d89d63148cd22ded2aa8394" category="paragraph">示例 2 介绍了一种基于 VLAN 的通用灵活方案，该方案有助于在单个主机上的所有节点之间共享所有可用网络带宽。此示例尤其适用于裸机主机。</block>
  <block id="734031b08b38c7d034418394c08a8851" category="paragraph">要了解此示例，假设每个数据中心有三个单独的网格网络，管理员网络和客户端网络子网。子网位于不同的 VLAN （ 1001 ， 1002 和 1003 ）上，并通过 LACP 绑定的中继端口（ bond0 ）提供给主机。您应在此绑定上配置三个 VLAN 接口： bond0.1001 ， bond0.1002 和 bond0.1003 。</block>
  <block id="6c82fbc540bb512cbae56f5ebfc6d804" category="paragraph">如果同一主机上的节点网络需要单独的 VLAN 和子网，则可以在绑定上添加 VLAN 接口并将其映射到主机（如图中的 bond0.1004 所示）。</block>
  <block id="efdb8260b30b1c10d1f62201c735cd59" category="list-text">将用于 StorageGRID 网络连接的所有物理网络接口聚合到一个 LACP 绑定中。</block>
  <block id="d0adffca7fec7329a232be46d3e125ac" category="paragraph">对每个主机上的绑定使用相同的名称，例如 bond0 。</block>
  <block id="0b70c16b483a708a21d9b0eaad8a360a" category="list-text">使用标准 VLAN 接口命名约定 `physdev-name.vlan ID` 创建使用此绑定作为关联 "`物理设备，` " 的 VLAN 接口。</block>
  <block id="226b7e1b26474be7cf06a33e1f2484b2" category="paragraph">请注意，步骤 1 和 2 要求对终止网络链路另一端的边缘交换机进行适当配置。此外，边缘交换机端口还必须聚合到 LACP 端口通道中，并配置为中继，并允许通过所有必需的 VLAN 。</block>
  <block id="a2a02be86eb089e8f623d6a95699bf1b" category="paragraph">本文档提供了此每主机网络配置方案的示例接口配置文件。</block>
  <block id="be48b13975f7aaf74182d5b802fba84e" category="paragraph"><block ref="be48b13975f7aaf74182d5b802fba84e" category="inline-xref-macro-rx"></block></block>
  <block id="7bbf57bb7943b53f861ba56ca53067fe" category="summary">您必须了解 StorageGRID 节点的存储要求，以便提供足够的空间来支持初始配置和未来的存储扩展。</block>
  <block id="3d19f64ecebc27213a1663afe8f47be5" category="paragraph">StorageGRID 节点需要三种逻辑存储类别：</block>
  <block id="e51d492e78d451625c803cf626d8a437" category="list-text">* 容器池 * - 节点容器的性能层（ 10K SAS 或 SSD ）存储，在支持 StorageGRID 节点的主机上安装和配置 Docker 时，此存储将分配给 Docker 存储驱动程序。</block>
  <block id="d38b90f26c1a8ee0ec3ec19783f21553" category="list-text">* 系统数据 * —性能层（ 10K SAS 或 SSD ）存储，用于按节点永久存储系统数据和事务日志， StorageGRID 主机服务将使用这些存储并将其映射到各个节点。</block>
  <block id="f929bf595f1933a74385a3e3880e0eed" category="list-text">* 对象数据 * —性能层（ 10K SAS 或 SSD ）存储和容量层（ NL-SAS/SATA ）批量存储，用于永久存储对象数据和对象元数据。</block>
  <block id="ed04bd26c4089c96346ad28ba48f1359" category="paragraph">您必须对所有存储类别使用 RAID 支持的块设备。不支持非冗余磁盘， SSD 或 JBOD 。您可以对任何存储类别使用共享或本地 RAID 存储；但是，如果要使用 StorageGRID 的节点迁移功能，则必须将系统数据和对象数据存储在共享存储上。</block>
  <block id="029cf65c10aa369184918a7cc4bed567" category="paragraph">用于容器池，系统数据和对象元数据的卷的性能会显著影响系统的整体性能。您应对这些卷使用性能层（ 10K SAS 或 SSD ）存储，以确保在延迟，每秒输入 / 输出操作数（ IOPS ）和吞吐量方面具有足够的磁盘性能。您可以使用容量层（ NL-SAS/SATA ）存储来永久存储对象数据。</block>
  <block id="7999aa17a85bdd642e0166871bf4d15d" category="paragraph">用于容器池，系统数据和对象数据的卷必须启用回写缓存。缓存必须位于受保护或永久性介质上。</block>
  <block id="033b11604d22f90475e1bf675610355b" category="section-title">使用 NetApp AFF 存储的主机的要求</block>
  <block id="2c7f3f11d2047514e2cc0fe3fb72c8b9" category="section-title">所需的主机数</block>
  <block id="b0c4cff02578bc18154c8be8dc452f1e" category="paragraph">其他类型的节点（例如管理节点或网关节点）可以部署在同一主机上，也可以根据需要部署在自己的专用主机上。</block>
  <block id="16bae36f36dffa3101cc4b04b851bba9" category="section-title">每个主机的存储卷数量</block>
  <block id="1c19b7c52c8b9079144837a0b58a547e" category="paragraph">下表显示了每个主机所需的存储卷（ LUN ）数量以及每个 LUN 所需的最小大小，具体取决于要在该主机上部署的节点。</block>
  <block id="68462e996438bc5809b9bd3ca1d05c42" category="paragraph">测试的最大 LUN 大小为 39 TB 。</block>
  <block id="6fc549150965e90e2f130b1e6d5f715e" category="admonition">这些数字适用于每个主机，而不适用于整个网格。</block>
  <block id="553ce76e41b15044745c302f9ec38760" category="cell">LUN 用途</block>
  <block id="ebec00d780c203d65a562e9b286cc908" category="cell">存储类别</block>
  <block id="0af38a14209cc9bc1b292891a3e005da" category="cell">LUN 数量</block>
  <block id="0a4b56efbcf31c1221ca23c506a6e429" category="cell">最小大小 /LUN</block>
  <block id="cb84f733417d20f74decc72ef980c9a5" category="paragraph">容器引擎存储池</block>
  <block id="78bd5fdc1b744afe0c5437fed4f643d3" category="paragraph">容器池</block>
  <block id="26234ea46aa9bb1d4c4a2f6a21477d90" category="paragraph">节点总数 × 100 GB</block>
  <block id="e0e56bc55f45043720ce267d66488c87" category="paragraph">` /var/local` 卷</block>
  <block id="c692525651c26ba6fafc2c1b97a07de1" category="paragraph">系统数据</block>
  <block id="af3144c84ea0b44d0b773c3fa4c6cc3d" category="paragraph">此主机上的每个节点 1 个</block>
  <block id="eb3db80ec2336fd5596023f87be5485d" category="paragraph">90 GB</block>
  <block id="0df51dc869c05895b3417062b8239a22" category="paragraph">对象数据</block>
  <block id="7d3a49cf894d799795ce950c6315ec33" category="paragraph">此主机上的每个存储节点 3 个</block>
  <block id="5fbe1be68e07b3a60e4d84e1fa23507c" category="paragraph">* 注： * 基于软件的存储节点可以包含 1 到 16 个存储卷；建议至少使用 3 个存储卷。</block>
  <block id="e06f8a6d4d2559b7692189210ba398b0" category="paragraph">12 TB （ 4 TB/LUN ）有关详细信息，请参见存储节点的存储要求。</block>
  <block id="0e5b4dad894f9f1f4d06845c532bb7aa" category="paragraph">管理节点审核日志</block>
  <block id="a544a3d8cac1f94bf02ca1c91220b9bb" category="paragraph">此主机上的每个管理节点 1 个</block>
  <block id="62d55b7ec00889c64a085189d167b574" category="paragraph">200 GB</block>
  <block id="1d26aea4fa9afb62ca6a7e40e5530c01" category="paragraph">管理节点表</block>
  <block id="36f4f6362b82ad94d882519fef57f17e" category="section-title">主机的最小存储空间</block>
  <block id="f1169ab207decb43e8782d0abb9b48b6" category="paragraph">下表显示了每种类型的节点所需的最小存储空间。您可以使用此表根据要在每个存储类别中部署的节点确定必须为主机提供的最小存储量。</block>
  <block id="dcfebc6fbca2c5316f55c914e6593d2d" category="paragraph">100 GB</block>
  <block id="1e70523eca766b24bc1c59d9e2476c37" category="paragraph">4 ， 000 GB</block>
  <block id="cb1a50fd3dcf338ace23204045426814" category="paragraph">490 GB （ 3 个 LUN ）</block>
  <block id="b51a03f5836fd3d6967be06588d4f47f" category="paragraph">_ 不适用 _</block>
  <block id="16598910feb68d46c142ee6c59437100" category="section-title">示例：计算主机的存储要求</block>
  <block id="7ed16f45c622b116652d7e00c87663a7" category="paragraph">假设您计划在同一主机上部署三个节点：一个存储节点，一个管理节点和一个网关节点。您应至少为主机提供九个存储卷。节点容器至少需要 300 GB 的性能层存储，系统数据和事务日志至少需要 6.7 GB 的性能层存储，对象数据至少需要 12 TB 的容量层存储。</block>
  <block id="396a637853d3500fa3904bdb5b2155a3" category="cell">LUN 大小</block>
  <block id="06884f5aed854e7d88ee67db8e778977" category="paragraph">Docker 存储池</block>
  <block id="589e7c1e974044ee2fe5ab6ebeab2ef8" category="paragraph">300 GB （ 100 GB/ 节点）</block>
  <block id="cb006c0fe8fe039a9d9441c441fdaacf" category="paragraph">12 TB （ 4 TB/LUN ）</block>
  <block id="eb4d9d672d3385c4f440bde6b95eeb77" category="paragraph">* 总计 *</block>
  <block id="fba0ab279264d3c9ca703266793b3da7" category="paragraph">*9*</block>
  <block id="1f11313abbd1ddd6eac432557b57842d" category="paragraph">* 容器池： * 300 GB</block>
  <block id="18ca1cd6f10f9d1afbea672bf64ff5ba" category="paragraph">* 系统数据： * 670GB</block>
  <block id="4f936569b0076d3dee0f2ee943177d4c" category="paragraph">* 对象数据： * 12 ， 000 GB</block>
  <block id="a613d9a307e7f4fca651a4dbc3a1ac65" category="summary">在 Ubuntu 或 Debian 环境中安装 StorageGRID 系统包括三个主要步骤。</block>
  <block id="fd1ccfe37481879bd9a6c6c705288dd0" category="doc">安装 Ubuntu 或 Debian ：概述</block>
  <block id="6078dc804cf9002c83a021fd979bb47d" category="list-text">了解 StorageGRID 的硬件和存储要求。</block>
  <block id="822bbe6c7c57ccabf2871dab1ecf9a11" category="list-text">确定并准备要用于托管 StorageGRID 网格节点的物理或虚拟服务器。</block>
  <block id="778e175dc81fcd8737dc94e74c776c34" category="list-text">安装 StorageGRID 主机服务</block>
  <block id="8bf55fe621a86debbc6833d6b77e62cc" category="list-text">* 部署 * ：使用适当的用户界面部署网格节点。部署网格节点时，它们会作为 StorageGRID 系统的一部分创建并连接到一个或多个网络。</block>
  <block id="f2ff838773f7d37fac032b3b8bdb47ae" category="list-text">使用 Linux 命令行和节点配置文件在步骤 1 准备的主机上部署虚拟网格节点。</block>
  <block id="fcee152a059521afb481151f428d6bb3" category="paragraph">以下说明为在 Ubuntu 或 Debian 环境中部署和配置 StorageGRID 系统提供了标准方法。另请参见有关以下替代方法的信息：</block>
  <block id="af283b1118798a01ce13188fe3670172" category="list-text">使用 Ansible ， Puppet 或 Chef 等标准业务流程框架安装 Ubuntu 或 Debian ，配置网络和存储，安装 Docker 和 StorageGRID 主机服务以及部署虚拟网格节点。</block>
  <block id="d6b0bf916e1561dfcab01d4e9d7ac0f6" category="summary">要启动 StorageGRID 节点并确保它们在主机重新启动后重新启动，您必须启用并启动 StorageGRID 主机服务。</block>
  <block id="305ba923e73a73db21932cf8f5d5c002" category="doc">启动 StorageGRID 主机服务</block>
  <block id="f446727b85625cf3f064e226c434a768" category="list-text">在每个主机上运行以下命令：</block>
  <block id="baf5d21ed19b5dc989bc0b2ad06a3c93" category="list-text">运行以下命令以确保部署正在进行：</block>
  <block id="6f3305758c23486f199c9ee15a9c5d65" category="paragraph">对于返回状态为 "`not running` " 或 " `S顶部` " 的任何节点，请运行以下命令：</block>
  <block id="68491103cd853a363d6dd0e31957f2e3" category="list-text">如果您先前已启用并启动 StorageGRID 主机服务（或者不确定此服务是否已启用和启动），请同时运行以下命令：</block>
  <block id="cdbd1a2b8c871d1b62f9fc51fa365033" category="summary">如果您在自行部署的 Ubuntu 环境中运行并使用了必需的 AppArmor-Access Control 系统，则与在基础系统上安装的软件包关联的 StorageGRID 配置文件可能会被随一起安装的相应软件包阻止。</block>
  <block id="481c8e9dca0d0519ae849704b4f81473" category="doc">了解安装的 AppArmor. 配置文件</block>
  <block id="20bbfd24ff13f1dfa875548884956e83" category="paragraph">默认情况下，系统会为您在基础操作系统上安装的软件包安装 AppArmort 配置文件。从 StorageGRID 系统容器运行这些软件包时，将阻止这些配置文件。DHCP ， MySQL ， NTP 和 TCdump 基本软件包与 AppArp 冲突，而其他基本软件包也可能发生冲突。</block>
  <block id="f5e0f038f36f9bd9b17af4cbb595e9a5" category="paragraph">您可以选择两种方法来处理 AppArmor 配置文件：</block>
  <block id="532af89067741c31493d47b529890ab6" category="list-text">为基础系统上安装的与 StorageGRID 系统容器中的软件包重叠的软件包禁用各个配置文件。禁用各个配置文件时， StorageGRID 日志文件中会显示一个条目，指示已启用。</block>
  <block id="6c6fc8170d5835a9523b6f4e5572b125" category="paragraph">使用以下命令：</block>
  <block id="c26fe677a830587ef1c141567a86c86a" category="paragraph">* 示例： *</block>
  <block id="66523f38fea407cfe408f604eaec5356" category="inline-link">禁用 AppArmor</block>
  <block id="08bb02de0b5ad6823f891c6fa885cdd4" category="list-text">完全禁用 AppArmor 。对于 Ubuntu 9.10 或更高版本，请按照 Ubuntu 联机社区中的说明进行操作：<block ref="a5bf692e2a844755800ebcd2bcdea520" category="inline-link-rx"></block>。</block>
  <block id="17855c7349424a99f05bbf68d043f22c" category="paragraph">禁用了 StorageGRID 后，日志文件中将不会显示任何指示已启用该功能的条目。</block>
  <block id="3d92a1d4aa034b10b60a19d37164779f" category="doc">安装之前（ Ubuntu 或 Debian ）</block>
  <block id="251e90febf4df1f04fd8bcbb5f8d0e2c" category="paragraph">StorageGRID 部署和配置过程假定您熟悉 StorageGRID 系统的架构和操作。</block>
  <block id="92af581c9585ac0ad0f4f40ed38e957e" category="paragraph">在开始安装 StorageGRID 之前，您必须：</block>
  <block id="5fd8a01f1820a39d222fde01576e6208" category="list-text">了解 StorageGRID 的计算要求，包括每个节点的最低 CPU 和 RAM 要求。</block>
  <block id="0347a4cb23043548c248d69b84fb09a3" category="list-text">了解 StorageGRID 如何支持多个网络以实现流量隔离，安全性和管理便利性，并计划要连接到每个 StorageGRID 节点的网络。</block>
  <block id="18734f6f61e1a45f3d643a8f958256cc" category="paragraph">请参见 StorageGRID 网络连接准则。</block>
  <block id="de8eeac7209634e4959d07738a6516be" category="list-text">了解每种类型的网格节点的存储和性能要求。</block>
  <block id="c7483880ba50c7aba8a7c218cea85a06" category="list-text">确定一组服务器（物理服务器，虚拟服务器或两者），这些服务器可在聚合中提供足够的资源来支持您计划部署的 StorageGRID 节点的数量和类型。</block>
  <block id="dda725b5684267a4a17489c1e044b3d6" category="list-text">如果要在不中断任何服务的情况下对物理主机执行计划内维护，请了解节点迁移的要求。</block>
  <block id="3660eccda8b0eb1108ce748cd4faa25e" category="summary">拆下控制器盖板，以便检修内部组件以进行维护。</block>
  <block id="0153be6f4023df04cc716509c821fdee" category="doc">拆下 SG6000-CN 控制器盖板</block>
  <block id="0b91578386973ee3d4aa5f794dcc6843" category="paragraph">从机柜或机架中卸下控制器，以便检修顶盖。</block>
  <block id="14d3f5840bd699b7cd395185311aab29" category="inline-xref-macro">从机柜或机架中卸下 SG6000-CN 控制器</block>
  <block id="1e4016a688aeecfaefc32d0ba832f5e8" category="paragraph"><block ref="1e4016a688aeecfaefc32d0ba832f5e8" category="inline-xref-macro-rx"></block></block>
  <block id="3f92f74003e2cf6a88bf18dc6d769126" category="list-text">确保 SG6000-CN 控制器盖板闩锁未锁定。如有必要，将蓝色塑料闩锁按解锁方向转动四分之一圈，如闩锁上所示。</block>
  <block id="863993afc02fe313731198d2ed750f32" category="list-text">将闩锁向 SG6000-CN 控制器机箱的后部来回旋转，直到其停止为止；然后，小心地将机箱盖从机箱中提起并放在一旁。</block>
  <block id="e73fb038de377f4a30106724647cfd33" category="image-alt">SG6060 盖板闩锁打开</block>
  <block id="fc44c126bd2e074276abc95e548a870b" category="admonition">将 ESD 腕带的腕带一端绑在腕带周围，并将扣具一端固定到金属接地，以防止在 SG6000-CN 控制器内部工作时发生静电放电。</block>
  <block id="efa41fe2e707a838c9b520763fa564f0" category="inline-xref-macro">删除光纤通道 HBA</block>
  <block id="598c49cdb4c67e61f83eaf0326bf914f" category="paragraph"><block ref="598c49cdb4c67e61f83eaf0326bf914f" category="inline-xref-macro-rx"></block></block>
  <block id="66a05384c891c390cd34f3b79245d267" category="inline-xref-macro">有关准备重新安装设备的说明</block>
  <block id="aed541b03d8b8a0de19df858fcb7aa9a" category="paragraph">在设备重新启动并确认 KMS 已清除且设备处于预安装状态后，您可以从 StorageGRID 系统中物理删除此设备。请参见 <block ref="64240232fd05f34637ac7631111da38c" category="inline-xref-macro-rx"></block>。</block>
  <block id="4af5e876e8e421ad4d25da83a88979b1" category="summary">您必须在机柜或机架中为 E2860 控制器架安装一组导轨，然后将控制器架滑入导轨。如果您要安装 60 个驱动器扩展架，则需要使用相同的操作步骤 。</block>
  <block id="1337940e56203617bbabc289a0fd8476" category="doc">SG6060 ：将 60 个驱动器磁盘架安装到机柜或机架中</block>
  <block id="0835dd05e1a77d417056577f207cbfb1" category="admonition">每个 60 个驱动器架的重量约为 132 磅（ 60 千克），而未安装驱动器。要安全移动磁盘架，需要四个人或一台机械升降机。</block>
  <block id="6c8023792579de712179232052cb44e4" category="admonition">为避免损坏硬件，如果安装了驱动器，请勿移动磁盘架。移动磁盘架之前，必须先卸下所有驱动器。</block>
  <block id="d522d9fa8f508f9779ce05b04b6dc540" category="admonition">安装 E2860 控制器架或可选扩展架时，请从机架或机柜的底部到顶部安装硬件，以防止设备发生倾翻。要确保最重的设备位于机柜或机架的底部，请在 E2860 控制器架和扩展架上方安装 SG6000-CN 控制器。</block>
  <block id="d73eb48a30f3fa50c29cc3fa3a724b99" category="admonition">在提交安装之前，请确认设备随附的 0.5 米光缆或您提供的缆线长度足以满足计划的布局要求。</block>
  <block id="2222f7f1fb65f3c37db013addee24d45" category="paragraph">对于方孔机柜，您必须先安装提供的锁紧螺母，以使用螺钉固定磁盘架的前后。</block>
  <block id="3b8eeba53bd8896fccd4aaf05d1dbf99" category="list-text">卸下设备的外包装箱。然后，向下折叠内箱上的挡板。</block>
  <block id="4ec8013ee56fc8c0ad2e3284440a3119" category="list-text">如果您要用手提设备，请将四个手柄连接到机箱两侧。</block>
  <block id="c345f0fd9ef7cf7b8ec78620b2c03cc2" category="paragraph">向上推每个手柄，直到其卡入到位。</block>
  <block id="cdd183e21c79853807009cc0cb766ba6" category="image-alt">提升把手</block>
  <block id="88fb938cab2db663f5ab4895cb9e117b" category="list-text">将磁盘架的背面（带有连接器的一端）放在导轨上。</block>
  <block id="96453e86341b5d12f0dba435a4a81b5c" category="list-text">从底部支撑好磁盘架，将其滑入机柜。如果使用的是手柄，请在滑入磁盘架时使用拇指闩锁一次分离一个手柄。</block>
  <block id="7eca41fa843166c1772cfa9dbde555aa" category="paragraph">要卸下手柄，请向后拉释放闩锁，向下推，然后从磁盘架中拉出。</block>
  <block id="21711bcb61e550e4380d192aab37a324" category="list-text">将磁盘架固定到机柜正面。</block>
  <block id="84d42dc318d81a8a9003d06387f87ac6" category="paragraph">将螺钉插入两侧磁盘架顶部的第一个和第三个孔中。</block>
  <block id="b95cec4341679be6d853474bd76ad714" category="list-text">将磁盘架固定到机柜后部。</block>
  <block id="32df81942fa533c5ce80d137a1b1b7d4" category="paragraph">将两个后支架放在磁盘架后上部分的每一侧。将螺钉插入每个支架的第一个和第三个孔中。</block>
  <block id="23e51412e4f02e43d03d54648ee8f47f" category="image-alt">挂载硬件</block>
  <block id="d1798e901796a419c71814584dc22728" category="list-text">对任何扩展架重复上述步骤。</block>
  <block id="9b608e6c6c826b0b55ff4d9d50cca29d" category="summary">为了安全起见，您必须更改 BMC root 用户的密码。</block>
  <block id="163e990877c051f862469101624dbe8e" category="doc">更改 BMC 接口的根密码</block>
  <block id="aef807c203879dfdbdd2599e239e93d2" category="paragraph">为了安全起见，您必须更改 BMC root 用户的密码。</block>
  <block id="1aaddabf02717cf086be730cd636fb47" category="list-text">管理客户端正在使用 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="07f3fc119890dab09c01ecf5546351e3" category="paragraph">首次安装设备时， BMC 会使用 root 用户的默认密码（`root/calvin` ）。您必须更改 root 用户的密码以保护您的系统。</block>
  <block id="17c2ba6f5d294a5e23ff98a2ff52d694" category="list-text">选择 * 配置硬件 * &gt; * BMC 配置 * 。</block>
  <block id="aef23cdc48ae3ad9e0fa5ebf7ce30990" category="image-alt">显示 " 高级 "&gt;"BMC 配置 " 选项的屏幕截图</block>
  <block id="449368099d0de5a7077c42f1aca8c1f6" category="paragraph">此时将显示 Baseboard Management Controller Configuration 页面。</block>
  <block id="89538382eda31a13add0c97de57bce57" category="list-text">在提供的两个字段中输入 root 帐户的新密码。</block>
  <block id="e88d06b2b0f965c1327b49d6bf105337" category="image-alt">BMC root 密码</block>
  <block id="544eaea668d90a00a09074df2494e8ef" category="summary">您可以在首次部署 StorageGRID 时安装一个或多个 StorageGRID 存储设备，也可以稍后在扩展过程中添加设备存储节点。在恢复操作中，您可能还需要安装设备存储节点。</block>
  <block id="a0af5d6f11b6bf8272eb137affb04577" category="paragraph">您的 StorageGRID 系统正在使用所需版本的 StorageGRID 软件。</block>
  <block id="094510e337dd8b7cf5e9b586c9b86a0e" category="cell">所需的 StorageGRID 版本</block>
  <block id="a26a67481756277bab5a3b7717208278" category="paragraph">SG6060 ，不含扩展架</block>
  <block id="f91cfe944f91cd5b4783e57696a79b40" category="paragraph">11.1.1 或更高版本</block>
  <block id="e27a7f903fcb1b23ade481abca7bbfd0" category="paragraph">带有扩展架（一个或两个）的 SG6060</block>
  <block id="f3eb5cfd2aebcddab749c530b2ee195c" category="paragraph">11.3 或更高版本</block>
  <block id="84133809d8a3d459066de0d29e60d85b" category="paragraph">* 注意： * 如果在初始部署后添加扩展架，则必须使用 11.4 或更高版本。</block>
  <block id="fc37e9e354b0df98cf9532f4f7638f56" category="paragraph">SGF6024</block>
  <block id="f48659136c919154ec34882b33b9cc01" category="section-title">安装和部署任务</block>
  <block id="46ef973edf8dcc8a4793778a9e94662a" category="list-text">安装驱动器</block>
  <block id="c0a33fec97c8010ec721ce4e1160921c" category="list-text">安装可选扩展架（仅限 SG6060 型号；最多两个扩展架）</block>
  <block id="e6dc2a7a70c86edc04b40089b8f9bd91" category="list-text">访问 SANtricity 系统管理器以配置 SANtricity 系统管理器设置</block>
  <block id="ba4767764af5b63cfaa37c0ec77cee39" category="list-text">访问 StorageGRID 设备安装程序，为存储控制器上的管理端口 1 设置静态 IP 地址，以及配置连接到 StorageGRID 网络所需的链路和网络 IP 设置</block>
  <block id="b7d2defdc2eb93e911f601250ad42b23" category="list-text">访问 SG6000-CN 控制器上的基板管理控制器（ BMC ）接口</block>
  <block id="2887b9646e30951b402267ec9c186c15" category="inline-xref-macro">准备安装（ SG6000 ）</block>
  <block id="7f0213dcd6f56be74d320dd8dba42693" category="paragraph"><block ref="7f0213dcd6f56be74d320dd8dba42693" category="inline-xref-macro-rx"></block></block>
  <block id="69a838c2c7e53b63edfc5e2e6d005c4d" category="inline-xref-macro">安装硬件（ SG6000 ）</block>
  <block id="886feb66ecda68eab1c35455741ab83e" category="paragraph"><block ref="886feb66ecda68eab1c35455741ab83e" category="inline-xref-macro-rx"></block></block>
  <block id="6feec5b1996f00069b5598a289e84540" category="paragraph"><block ref="6feec5b1996f00069b5598a289e84540" category="inline-xref-macro-rx"></block></block>
  <block id="2777c52f72f2751c0f8410cf6d526347" category="summary">如果硬件故障或布线错误导致存储控制器或 SG6000-CN 控制器无法完成启动处理，则 StorageGRID 设备安装程序可能不可用。</block>
  <block id="88cb8e11641e3ab5691695f982caa863" category="doc">硬件设置似乎挂起（ SG6000 ）</block>
  <block id="d5ec4bc22a9f826f959e580dde26c5ee" category="list-text">对于存储控制器，请查看七段显示器上的代码。</block>
  <block id="01d00f6ca3231202b68e5f91aab530d0" category="paragraph">在启动期间初始化硬件时，两个七段显示一系列代码。硬件成功启动后，这两个七段显示 `99` 。</block>
  <block id="63d993afcb4219a7cdf3e91d3dc6db0a" category="list-text">查看 SG6000-CN 控制器上的 LED 以及 BMC 中显示的启动和错误代码。</block>
  <block id="6421176b7576840956cded6e57372e76" category="list-text">如果您需要有关解决问题描述 的帮助，请联系技术支持。</block>
  <block id="b9ab20d943b72cc7bfbe23873d430770" category="inline-xref-macro">查看 SG6000 存储控制器的启动状态代码</block>
  <block id="dd1ec3b8e9cb7a1fae5e012df4d2c60e" category="paragraph"><block ref="dd1ec3b8e9cb7a1fae5e012df4d2c60e" category="inline-xref-macro-rx"></block></block>
  <block id="4ce5efbae61934eaee477f9d75b8b156" category="inline-xref-macro">查看 SG6000-CN 控制器上的状态指示灯和按钮</block>
  <block id="3bf0a5d2cd8e5019f6053d98e1ad6936" category="paragraph"><block ref="3bf0a5d2cd8e5019f6053d98e1ad6936" category="inline-xref-macro-rx"></block></block>
  <block id="485e79202e2ae401effd30aa748bc449" category="inline-xref-macro">查看 SG6000-CN 控制器的启动代码</block>
  <block id="f80060755897d2b20e8ba54488955cb0" category="paragraph"><block ref="f80060755897d2b20e8ba54488955cb0" category="inline-xref-macro-rx"></block></block>
  <block id="60fe3b2569d8e402b6c0f6a7ad089945" category="inline-xref-macro">查看 SG6000-CN 控制器的错误代码</block>
  <block id="535d65dd98f64908e7b96babdb976051" category="paragraph"><block ref="535d65dd98f64908e7b96babdb976051" category="inline-xref-macro-rx"></block></block>
  <block id="1ca9c37b6efff7aabf07372129fd87c5" category="summary">关闭 SG6000-CN 控制器以执行硬件维护。</block>
  <block id="8e35462b461cf867d6412ed05c1b3321" category="doc">关闭 SG6000-CN 控制器</block>
  <block id="da5b7d9becc1a0564dd019a76d9650d8" category="list-text">您已将需要维护的 SG6000-CN 控制器物理定位在数据中心。</block>
  <block id="e88e7850949c101a6ac5da27f5cb63fe" category="inline-xref-macro">在数据中心中找到控制器</block>
  <block id="1dd212b048cde960a47616fde1652b03" category="paragraph"><block ref="1dd212b048cde960a47616fde1652b03" category="inline-xref-macro-rx"></block></block>
  <block id="4116d48786cfe063f4527ed1e8e4dabb" category="paragraph">要防止服务中断，请在可以接受服务中断期间的计划维护窗口期间关闭控制器或关闭控制器之前，确认所有其他存储节点均已连接到网格。请参见有关通过信息生命周期管理管理对象的说明中有关确定节点连接状态的信息。</block>
  <block id="f5a1fa595d944ba01328de44dc1ad96c" category="admonition">如果您使用的 ILM 规则只创建一个对象的一个副本，则必须在计划的维护窗口期间关闭控制器。否则，在此操作步骤 期间，您可能暂时无法访问这些对象。</block>
  <block id="985295d79d6aa0eb8d392f25fdaa8ec2" category="paragraph">+ 查看有关通过信息生命周期管理管理对象的信息。</block>
  <block id="30c67215c36f9dc07e3376ff20c80205" category="list-text">将设备置于维护模式后，关闭 SG6000-CN 控制器：</block>
  <block id="bf0dbea730e3beb55473b0b10171817d" category="admonition">您必须通过输入以下指定的命令来控制控制器的关闭。使用电源开关关闭控制器将导致数据丢失。</block>
  <block id="eb180f0a52370d08aa199b50acd3cdb2" category="list-text">使用 PuTTY 或其他 ssh 客户端登录到网格节点：</block>
  <block id="e1809c94072ee2a1f87178e134c53aaa" category="list-text">关闭 SG6000-CN 控制器： + ` * shutdown -h now*`</block>
  <block id="e025b55b9e9112ed1ae93e214ea847de" category="paragraph">此命令可能需要长达 10 分钟才能完成。</block>
  <block id="ced8eb6072baf8880c410310684807bd" category="list-text">使用以下方法之一验证 SG6000-CN 控制器是否已关闭：</block>
  <block id="2f41660576a0cb144a78043b7fd2c7e5" category="list-text">查看控制器正面的蓝色电源 LED ，确认其已关闭。</block>
  <block id="1cfbee9771bcfb2c59a2fff30a962f01" category="image-alt">SG6060 前面板电源 LED —关闭</block>
  <block id="2161f16a2f3fd81089a46625cad037a4" category="list-text">查看控制器背面两个电源上的绿色 LED ，确认它们以正常速率闪烁（大约每秒闪烁一次）。</block>
  <block id="37d199daa9d0c115de24036663fc914a" category="image-alt">SG6060 后面板电源 LED</block>
  <block id="b742d82e244d2be256ad1cb9f937b054" category="list-text">使用控制器 BMC 界面：</block>
  <block id="f21c0350fe3c154bcb20b38b2f12c317" category="list-text">访问控制器 BMC 界面。</block>
  <block id="f1cde1d926b27bece1f9766d9fb81481" category="inline-xref-macro">访问 BMC 界面</block>
  <block id="54eb5a33c71a3e9f6debac9be9c8aca6" category="paragraph"><block ref="54eb5a33c71a3e9f6debac9be9c8aca6" category="inline-xref-macro-rx"></block></block>
  <block id="ec649dfc3dae403dcdd3057ab7674e5c" category="list-text">选择 * 电源控制 * 。</block>
  <block id="16067295008b81a3c39772210abbf5a4" category="list-text">验证电源操作是否指示主机当前已关闭。</block>
  <block id="1a100c9493192ebd382a085ef4176c33" category="image-alt">BMC 电源控制页面—控制器关闭</block>
  <block id="b52551cc1af2dd8011bedce51592a5cc" category="summary">将 60 个驱动器的磁盘架安装到机柜或机架中后，必须将所有 60 个驱动器安装到该磁盘架中。E2860 控制器架的发货包含两个 SSD 驱动器，您应将其安装在控制器架的顶部抽屉中。每个可选扩展架都包含 60 个 HDD 驱动器，而不包含 SSD 驱动器。</block>
  <block id="9e740e61db014edf32aa78af62b330b4" category="doc">SG6060 ：安装驱动器</block>
  <block id="7573d14621f93432270e49430bc3a259" category="paragraph">您已在机柜或机架中安装 E2860 控制器架或可选扩展架（一个或两个）。</block>
  <block id="76fee4ac20a9a6bc637a1a53c9f866c8" category="list-text">将 ESD 腕带的腕带一端绕在腕带上，并将扣具一端固定到金属接地，以防止静电放电。</block>
  <block id="842271a5ce00217f5db3bff6794b1c1b" category="list-text">将驱动器从其包装中取出。</block>
  <block id="694f6bd13df1cea2611c2ca0eb573cab" category="list-text">找到两个 SSD 驱动器。</block>
  <block id="ebf6180e8dbe3871b4eb80b5d8c214b2" category="admonition">扩展架不使用 SSD 驱动器。</block>
  <block id="1e404f443d7fbee552cfa4e0957a4e86" category="list-text">将每个驱动器把手提起至垂直位置。</block>
  <block id="ee8de15318910ac15b045064e2c68d3e" category="list-text">将两个 SSD 驱动器安装在插槽 0 和 1 中（前两个插槽沿抽盒左侧）。</block>
  <block id="8d186382305768ca2c39f811fbac84ca" category="list-text">将每个驱动器轻轻放入其插槽中，然后放低凸起的驱动器把手，直到其卡入到位。</block>
  <block id="2df6e2837f5939612efbb6348b56528a" category="image-alt">安装驱动器</block>
  <block id="827bc7d73ab3c40d18dcf66e51ac3666" category="list-text">将 10 个 HDD 驱动器安装到顶部抽盒中。</block>
  <block id="fc36b29558f68c86c16d272723050b84" category="list-text">推中间并轻轻合上两个拉杆，将抽盒滑回原位。</block>
  <block id="01702a5fc1ec38047a598b174e9d380a" category="admonition">如果您感到绑定，请停止推动抽盒。Use the release levers at the front of the drawer to slide the drawer back out.然后，小心地将抽盒重新插入插槽。</block>
  <block id="1d87a33546eedb311316c32f62be11c2" category="list-text">重复上述步骤，将 HDD 驱动器安装到其他四个抽盒中。</block>
  <block id="9b4984bbb95a010ef66b13fef9d61fde" category="list-text">将前挡板连接到磁盘架。</block>
  <block id="d5db6ba99ab0efffe356662c3fc55f4c" category="list-text">如果您有扩展架，请重复上述步骤，在每个扩展架的每个抽盒中安装 12 个 HDD 驱动器。</block>
  <block id="9cdf68498d339fb0d7d4e4972e1695ce" category="list-text">按照说明将 SG6000-CN 安装到机柜或机架中。</block>
  <block id="4ab0d3527d97fad0ed29ac782ddc2422" category="summary">如果您为 SG6060 安装了扩展架，但这些扩展架未显示在 StorageGRID 设备安装程序中，则应验证这些磁盘架是否已完全安装并打开电源。</block>
  <block id="584896d4f862df2cb4a5560340838228" category="doc">扩展架未显示在设备安装程序中</block>
  <block id="b5ff9dd24a254301f6fb1ec4117de4f3" category="paragraph">您可以通过在 StorageGRID 设备安装程序中查看以下信息来验证扩展架是否已连接到设备：</block>
  <block id="0e21c5bbafa6d8ed80584e02b43335f5" category="list-text">主页 * 页面包含一条有关扩展架的消息。</block>
  <block id="e2bb16d85ea54fe1d225f4c104ee0fe7" category="image-alt">扩展架消息</block>
  <block id="8ff4610b95b0826e4bb5755eb469568b" category="list-text">* 高级 * &gt; * RAID 模式 * 页面可通过驱动器数量指示设备是否包含扩展架。例如，在以下屏幕截图中，显示了两个 SSD 和 178 个 HDD 。包含两个扩展架的 SG6060 总共包含 180 个驱动器。</block>
  <block id="a68aa13802d145b4141115a4eb44e0ac" category="image-alt">驱动器数量</block>
  <block id="8c5c95bdb0ea9e8ec7c0a3f0ab7698df" category="paragraph">如果 StorageGRID 设备安装程序页面未指示存在扩展架，请遵循此操作步骤 。</block>
  <block id="6f75d78b97139925f52c3fe669c61253" category="inline-xref-macro">所有必需的缆线均已牢固连接</block>
  <block id="3fe64b12424e2c1605f3c1331a838379" category="list-text">请验证 <block ref="980b279e58d69ee7d2eca4aeb3a1f63e" category="inline-xref-macro-rx"></block>。</block>
  <block id="55c5338c72851bf392411ba3c223a9cd" category="inline-xref-macro">已打开扩展架电源</block>
  <block id="2319fef378feec57b8aaf7ff906b7d23" category="list-text">验证您是否已安装 <block ref="db7d5413d480abed201b7bf7773765aa" category="inline-xref-macro-rx"></block>。</block>
  <block id="8f8bfc2485dec56ee00986396ace07ff" category="summary">StorageGRID SG6060 设备包括一个计算控制器和一个存储控制器架，其中包含两个存储控制器和 60 个驱动器。此外，还可以向设备添加 60 个驱动器的扩展架。</block>
  <block id="798c602c5f799e5a6f389d2d97ef3774" category="doc">SG6060 概述</block>
  <block id="0e1679d9980e7ae9df2aef49f226a68e" category="section-title">SG6060 组件</block>
  <block id="2ea91a37525386b51dabfecd01b3757f" category="paragraph">SG6060 设备包括以下组件：</block>
  <block id="62d2f7547c6e80e1d00231bba240cec6" category="paragraph">SG6000-CN 控制器，一种单机架单元（ 1U ）服务器，其中包括：</block>
  <block id="d24ed86e011aedb5e7b463f8f20269f8" category="list-text">40 个核心（ 80 个线程）</block>
  <block id="b71ebf87fdefafedeb5bcf2240a17a3a" category="list-text">192 GB RAM</block>
  <block id="7cc955b1272030331634f3395824779e" category="list-text">高达 4 × 25 Gbps 聚合以太网带宽</block>
  <block id="f4a3ee57b07cb44d52940c1c316489a7" category="list-text">4 × 16 Gbps 光纤通道（ FC ）互连</block>
  <block id="4e838a74ff1273d4b01455a7501ea6ce" category="list-text">可简化硬件管理的基板管理控制器（ BMC ）</block>
  <block id="e3083fc50d4eb78034247503b1fed738" category="list-text">冗余电源</block>
  <block id="106866cec57920deba057c9f484c21da" category="paragraph">存储控制器架</block>
  <block id="469d6d2176a1e36dd7a27fa98b7ed817" category="paragraph">E 系列 E2860 控制器架（存储阵列），一个 4U 架，其中包括：</block>
  <block id="f832806642bada8644b1ec80f2f761b9" category="list-text">两个 E 系列 E2800 控制器（双工配置），用于提供存储控制器故障转移支持</block>
  <block id="eacf049be950966a821c2be0e8daa3c1" category="list-text">五抽屉驱动器架，可容纳 60 个 3.5 英寸驱动器（ 2 个固态驱动器或 SSD 以及 58 个 NL-SAS 驱动器）</block>
  <block id="74a6557eb4f47a507c121b436ff30317" category="paragraph">可选：存储扩展架</block>
  <block id="f3ec0432236dcc59d9c46c8b987bcf34" category="paragraph">* 注： * 扩展架可以在初始部署期间安装，也可以稍后添加。</block>
  <block id="692758ed5d332d6deeef8be23840f4c2" category="paragraph">E 系列 DE460C 机箱，一个 4U 磁盘架，其中包括：</block>
  <block id="14c0a932542253014400f3171d017bbc" category="list-text">两个输入 / 输出模块（ IOM ）</block>
  <block id="c77b44526ad1c04e27ee7fac027a2afd" category="list-text">五个抽盒，每个抽盒容纳 12 个 NL-SAS 驱动器，总共 60 个驱动器</block>
  <block id="03477dcedfa26ef30995339439710b2e" category="paragraph">每个 SG6060 设备可以有一个或两个扩展架，总共可容纳 180 个驱动器。</block>
  <block id="0ed40cf5bbc562aba79df689d747de91" category="section-title">SG6060 图表</block>
  <block id="0bef24d5774cfc06b5c619c91294f449" category="paragraph">此图显示了 SG6060 的正面，其中包括一个 1U 计算控制器和一个 4U 磁盘架，其中包含两个存储控制器和五个驱动器抽盒中的 60 个驱动器。</block>
  <block id="c6975a3861b82abaa5ae6abb773d1ba8" category="image-alt">SG6060 正面图</block>
  <block id="49df8adbf1a514577d031e2f36d37ba6" category="paragraph">带有前挡板的 SG6000-CN 计算控制器</block>
  <block id="0d656dbcb43a6a6e57759b614f7ad925" category="paragraph">带前挡板的 E2860 控制器架（可选扩展架看起来相同）</block>
  <block id="88b514b907df39164d852cc5a5f7f984" category="paragraph">SG6000-CN 计算控制器，已卸下前挡板</block>
  <block id="62af5c471ddb63de40f13233f62d7fbd" category="paragraph">已卸下前挡板的 E2860 控制器架（可选扩展架看起来相同）</block>
  <block id="da12af63a61c54dcb084a7b7658a3d62" category="paragraph">此图显示了 SG6060 的背面，包括计算和存储控制器，风扇和电源。</block>
  <block id="20507c212f34ab6cbd417f864a343443" category="image-alt">SG6060 背面图</block>
  <block id="0451b159b8d7b5f674412ca96596741a" category="paragraph">SG6000-CN 计算控制器的电源（第 1 页，共 2 页）</block>
  <block id="f020981851ac335a8683c964148c91de" category="paragraph">用于 SG6000-CN 计算控制器的连接器</block>
  <block id="8bc6e3c73cc40847168853eba4535d92" category="paragraph">E2860 控制器架的风扇（图 1 ）</block>
  <block id="635468e8b093c1793d43f8afbb0b08e0" category="paragraph">E 系列 E2800 存储控制器（图 1 ）和连接器</block>
  <block id="1df2b06d3f3f49a11e874cd37a6680ce" category="paragraph">E2860 控制器架的电源（图 1 ）</block>
  <block id="dfa6cb7bde82057a2046cf7c20aea755" category="paragraph">此图显示了 SG6060 的可选扩展架的背面，包括输入 / 输出模块（ IOM ），风扇和电源。每个 SG6060 都可以安装一个或两个扩展架，这些扩展架可以包含在初始安装中，也可以稍后添加。</block>
  <block id="dfd654717194b27c3e138847b825e03b" category="image-alt">扩展架背面</block>
  <block id="6a3bd26801abb29d84794fbcaf0ce067" category="paragraph">扩展架的风扇（第 1 张，共 2 张）</block>
  <block id="53a90eae7407b413783a1731ffbb051f" category="paragraph">扩展架的 IOM （第 1 张，共 2 张）</block>
  <block id="e3902e7fa39f00960981b3a181ac482d" category="paragraph">扩展架的电源（图 1 ）</block>
  <block id="3afd7ff049858cd9f399b3deee0e31e4" category="list-text">找到存储控制器架的机箱序列号。</block>
  <block id="d01352834f5edbc58a32c979ad188dd3" category="admonition">存储设备上有多个序列号。存储控制器架上的序列号是您在设备上请求服务或支持时必须注册和使用的序列号。</block>
  <block id="d302ab60418523bd0761c847d8a30df9" category="summary">找到控制器，以便执行硬件维护或升级。</block>
  <block id="0636a539e7c50b052e11551aa970b3e7" category="list-text">您已确定哪个控制器需要维护。</block>
  <block id="0e98e3e6eda9242a3fa5be294df886f2" category="paragraph">（可选）要帮助查找数据中心中的控制器，请打开蓝色的 "Identify" LED 。</block>
  <block id="8ba05f33923228afdc642451d0590be3" category="inline-xref-macro">打开和关闭控制器标识 LED</block>
  <block id="f2b3de2bd2dcc47428ebd93fbd6517b8" category="paragraph"><block ref="f2b3de2bd2dcc47428ebd93fbd6517b8" category="inline-xref-macro-rx"></block></block>
  <block id="6ebe967bcd2a9c64993d3fdb4be2c976" category="list-text">在数据中心中查找需要维护的控制器。</block>
  <block id="a0d75e247d34a2a1261033d495195f9f" category="list-text">查看控制器正面或背面的蓝色标识 LED 是否亮起。</block>
  <block id="ffa0f84ee4415e8bd2220478e349353d" category="paragraph">正面识别 LED 位于控制器前挡板后面，如果已安装挡板，可能很难查看。</block>
  <block id="20fafac5502def3d91d73f201be12ecb" category="image-alt">正面识别 LED —亮起</block>
  <block id="afb70d553e116c551a8a126bb4af29d1" category="list-text">检查每个控制器正面附加的标签，以获取匹配的部件号。</block>
  <block id="b244a7d3242b0a1e4a16091939f7a3c2" category="list-text">卸下控制器前挡板（如果已安装），以访问前面板控件和指示灯。</block>
  <block id="adbf0f7aeceee102064dceee1611586e" category="list-text">可选：如果您使用蓝色标识 LED 来查找控制器，请将其关闭。</block>
  <block id="2e37df470e803da5cb8de1b2ce6e7cb6" category="list-text">按下控制器前面板上的识别 LED 开关。</block>
  <block id="1f5543fb79e26322727f6814659efacf" category="list-text">使用控制器 BMC 界面。</block>
  <block id="83b1f07610cf258d51ed3973ba27cafb" category="paragraph"><block ref="83b1f07610cf258d51ed3973ba27cafb" category="inline-xref-macro-rx"></block></block>
  <block id="df1cc8cc2566b5dd45677a005e2f1077" category="paragraph">驱动器固件文件的文件名类似于 + `D HUC101212CS600_30602291_MS01_2800_0002.DLP` 。</block>
  <block id="0feef34cc82f50f31bfa1fabfc7fda07" category="inline-xref-macro">升级存储控制器上的 SANtricity 操作系统</block>
  <block id="f150934b76b00b921db8dfbde29b445a" category="paragraph"><block ref="f150934b76b00b921db8dfbde29b445a" category="inline-xref-macro-rx"></block></block>
  <block id="d441e9af212dd125aa8aab1e2197a504" category="doc">使用维护模式升级存储控制器上的 SANtricity 操作系统</block>
  <block id="b15a6b5d00355398339c0468d891b7e7" category="list-text">如果 StorageGRID 设备在 StorageGRID 系统中运行，则 SG6000-CN 控制器已置于维护模式。</block>
  <block id="36fde19ae1fdd276915f6d40cd16218b" category="admonition">维护模式会中断与存储控制器的连接。</block>
  <block id="62f8a82e3dc73d6f7b5281835ada3bdc" category="list-text">按照 _upgrading SANtricity OS_ 指南或 SANtricity 系统管理器联机帮助中的说明升级固件和 NVSRAM 。</block>
  <block id="2b97e6e8607c146be2397ab0334af9c3" category="paragraph"><block ref="2b97e6e8607c146be2397ab0334af9c3" category="inline-xref-macro-rx"></block></block>
  <block id="e706a8230b7901d9f36f2aba5dbbbbd0" category="list-text">在 StorageGRID 设备安装程序中，单击 * 配置网络连接 * &gt; * 删除端口 * 。</block>
  <block id="5aa47f507ffcf48e8cca9312be78bb9f" category="image-alt">屏幕截图显示了 StorageGRID Webscale 设备安装程序中的 "Remap Ports" 选项</block>
  <block id="6b96c816096191206b1d61c9c7e2e948" category="summary">如果 SG6000-CN 控制器运行不正常或出现故障，您可能需要更换该控制器。</block>
  <block id="9b6aebf399bd8313d8106dcc9d231b6a" category="doc">更换 SG6000-CN 控制器</block>
  <block id="5ae9a2b4e0d41920e7df95571125b203" category="list-text">您已在数据中心中找到要更换的控制器。</block>
  <block id="ea78808698d1fa7493440cb6272b2ebd" category="paragraph">更换 SG6000-CN 控制器后，无法访问设备存储节点。如果 SG6000-CN 控制器运行正常，则可以在此操作步骤 开始时执行受控关闭。</block>
  <block id="d255dadee984d53041697c14cc90c687" category="list-text">如果 SG6000-CN 控制器运行充分，可以进行可控的关闭，请关闭 SG6000-CN 控制器。</block>
  <block id="4e85be7e653193968156d07528136ade" category="list-text">使用以下两种方法之一验证 SG6000-CN 控制器是否已关闭电源：</block>
  <block id="268da08fc11ecea28c14f6eba0e9af29" category="list-text">控制器正面的电源指示灯 LED 熄灭。</block>
  <block id="884573af65941757033681d0a81c6d27" category="list-text">BMC 界面的电源控制页面指示控制器已关闭。</block>
  <block id="97ba28ccf13504a560d1483eca26b24b" category="list-text">如果连接到控制器的 StorageGRID 网络使用 DHCP 服务器，请更新 DNS/network 和 IP 地址设置。</block>
  <block id="f6234cb04c44aa2c31ef18f2ce94bb19" category="list-text">找到 SG6000-CN 控制器正面的 MAC 地址标签，并确定管理网络端口的 MAC 地址。</block>
  <block id="c3b063c21358b38cf33928d3fbfdf0e8" category="admonition">MAC 地址标签列出了 BMC 管理端口的 MAC 地址。+ 要确定管理网络端口的 MAC 地址，必须在标签上的十六进制数中添加 * 。 2 *例如，如果标签上的 MAC 地址以 *09* 结尾，则管理端口的 MAC 地址将以 *0B* 结尾。如果标签上的 MAC 地址以 * （ _y_ ） FF* 结尾，则管理端口的 MAC 地址将以 * （ _y_+1 ） 01* 结尾。您可以通过在 Windows 中打开 Calculator ，将其设置为程序编程模式，选择十六进制，键入 MAC 地址，然后键入 * + 2 =* 来轻松进行计算。</block>
  <block id="5991830d26c07feb44e0d9ca98a6141b" category="list-text">请您的网络管理员将您删除的控制器的 DNS/network 和 IP 地址与替代控制器的 MAC 地址相关联。</block>
  <block id="90b7e0b582169a148faacbf5daaecaf3" category="admonition">在为替代控制器接通电源之前，您必须确保原始控制器的所有 IP 地址均已更新。否则，控制器将在启动时获取新的 DHCP IP 地址，并且可能无法重新连接到 StorageGRID 。此步骤将对连接到控制器的所有 StorageGRID 网络执行适用场景 。</block>
  <block id="2d26c30f4e1e80d93c00abad7e23c8f8" category="admonition">如果原始控制器使用静态 IP 地址，则新控制器将自动采用您删除的控制器的 IP 地址。</block>
  <block id="de3b0fa399c97b154afa128539b3204e" category="list-text">卸下并更换 SG6000-CN 控制器：</block>
  <block id="3d69dc7ed6e7de9abe353b36db5165f3" category="list-text">为缆线贴上标签，然后断开缆线以及任何 SFP+ 或 SFP28 收发器。</block>
  <block id="a119a02363c0bde14c6271124dbb0aaa" category="list-text">从机柜或机架中卸下故障控制器。</block>
  <block id="861f26fbda98e5c1b8e79beec93de5a2" category="list-text">将替代控制器安装到机柜或机架中。</block>
  <block id="9cf40557e63a28ff0adcbfa0a7e0287c" category="list-text">更换缆线以及任何 SFP+ 或 SFP28 收发器。</block>
  <block id="734e39d13a06c4f45640b634caaf271c" category="list-text">打开控制器电源并监控控制器 LED 和启动代码。</block>
  <block id="ac1cf92dc2f0411458204a08c7d903a4" category="list-text">在网格管理器中，选择 * 节点 * ，然后验证节点控制器的 BMC IP 地址是否正确。</block>
  <block id="bc8ca48b67f05e4728d83ad8dbdc8136" category="paragraph">如果节点控制器 IP 地址无效或不在预期范围内，请按照恢复和维护说明中所述重新配置 IP 地址。</block>
  <block id="dbd0e8683980bc84b0c536243021c2e9" category="admonition">如果您在初始安装期间应用了其他自定义设置，例如设置 SNMP 陷阱目标或电子邮件通知，则应记录并验证此配置，并在必要时重新应用此配置。</block>
  <block id="459b7706b33193cf30ef2ab2b36295d4" category="inline-xref-macro">SG6000-CN ：安装到机柜或机架中</block>
  <block id="7cb9ab36435b2c8262e27bdbdc12ec23" category="paragraph"><block ref="7cb9ab36435b2c8262e27bdbdc12ec23" category="inline-xref-macro-rx"></block></block>
  <block id="55026231cbbed21e11425ee8087a7271" category="inline-xref-macro">配置网络链路（ SG6000 ）</block>
  <block id="66d716097f562969c7708c61c803ad09" category="paragraph"><block ref="66d716097f562969c7708c61c803ad09" category="inline-xref-macro-rx"></block></block>
  <block id="2e89d326042fa65e5b33236d462e7848" category="doc">准备站点（ SG6000 ）</block>
  <block id="66a784980b98721463246c2cf1f783ed" category="list-text">确认您所在位置为 SG6060 提供 240 伏交流电源，为 SGF6024 提供 120 伏交流电源。</block>
  <block id="60476394f30e207e5084df5db534bb77" category="cell">磁盘架类型</block>
  <block id="738b3f34c7be9697d967296cafe0686c" category="paragraph">* 用于 SG6060 的 E2860 控制器架 *</block>
  <block id="25f454f219a937784ef7af70fd8c16e5" category="paragraph">* 用于 SG6060 （一个或两个）的可选扩展架 *</block>
  <block id="b520c2d602eff9673d736f2c4146342b" category="paragraph">用于 SGF6024 的 * EF570 控制器架 *</block>
  <block id="0305627c09807494ee21de3e6f51c788" category="paragraph">3.35 英寸</block>
  <block id="941d0cccda06818dc2174552768c47bb" category="paragraph">（ 8.50 厘米）</block>
  <block id="f628a1472fd82816a89fe57adf0e8f28" category="paragraph">19.00 英寸</block>
  <block id="4eb0633db9b128160afdeaa66b070598" category="paragraph">（ 48.26 厘米）</block>
  <block id="d4cfe0f387d433ff3b790bbd6057c97e" category="paragraph">51.74 磅</block>
  <block id="5e0bda06d284fdb69a85f8469a802170" category="paragraph">（ 23.47 千克）</block>
  <block id="691ddd630d89fef7ac9e06f81e00d9e0" category="paragraph">每个设备的 * SG6000-CN 控制器 *</block>
  <block id="b4a191b2ba8ccf04617999bb31b23566" category="paragraph">1.70 英寸</block>
  <block id="d586f8973c8d3203e26ddcb22275c92d" category="paragraph">（ 4.32 厘米）</block>
  <block id="498f8b088d760d584595db4f7f790c51" category="paragraph">17.32 英寸</block>
  <block id="5abd3c228ebe6558ac99b5765112c678" category="paragraph">（ 44.0 厘米）</block>
  <block id="8f93d611e03b1e312b747be79c043843" category="paragraph">32.0 英寸</block>
  <block id="d17f71cb306cfd4acbc4fb4e0844db78" category="paragraph">（ 81.3 厘米）</block>
  <block id="c2d9a4dc8df8bc7bc48099a64d2d5b53" category="paragraph">39 磅</block>
  <block id="0f2df428d587159138397912eeb3518f" category="paragraph">（ 17.7 千克）</block>
  <block id="d66a2d3c2473926cbdbb165b80ee050d" category="list-text">确定要在何处安装设备。</block>
  <block id="a5cc99d7fb52979ab3160fcb89aee886" category="inline-xref">配置硬件警报步骤</block>
  <block id="bffed2df45ae9015c55abc2b16a2ca6a" category="paragraph">此操作步骤 包含首次访问 SANtricity System Manager 的步骤。如果您已设置 SANtricity 系统管理器，请转到 <block ref="9efbd89d4869fc0fd8d7dff11ce44ec6" category="inline-xref-macro-rx"></block>。</block>
  <block id="3da56d2c04159b3c87b6ab07507f1fb4" category="paragraph">有关 E 系列 AutoSupport 的更多详细信息，请参见<block ref="432706f834f68f529b4dbc054bb2fb4a" category="inline-link-rx"></block>。</block>
  <block id="6a2d6acffdb0446a69830f33ce0b74f5" category="inline-xref-macro">存储控制器的 IP 地址</block>
  <block id="e426fd8e0d7ddbf92ecc69b182d04843" category="admonition">如果这些选项不可用或未显示登录页面，则必须使用 <block ref="241f30ba90bf387eadbc22ddf8004a26" category="inline-xref-macro-rx"></block>。浏览到存储控制器 IP 以访问 SANtricity System Manager 。</block>
  <block id="5b03c6aa051d14f2569f7d9a4a190c83" category="list-text">【 config_hardware_alerts_sg6000 ， start=4]] 配置硬件警报。</block>
  <block id="2732059bfabd55c422e68f46cd2e2e88" category="inline-xref-macro">有关配置存储代理设置的说明</block>
  <block id="cc12d85cb61ce756cc333392b923153d" category="paragraph">有关配置 StorageGRID 代理以在不使用管理端口的情况下发送 E 系列 AutoSupport 消息的具体说明，请转至 <block ref="89d3ed2156aede476cf13f028ca425c4" category="inline-xref-macro-rx"></block>。</block>
  <block id="4557b71ada8c2459a71a1bddebf48c48" category="list-text">按照 "`如何` " 说明更改密码。</block>
  <block id="c2bb46ea96eb50eae9e5b149b3d720eb" category="summary">如果您熟悉为硬件配置 SNMP ，则可以使用 BMC 界面为 SG6000-CN 控制器配置 SNMP 设置。您可以提供安全社区字符串，启用 SNMP 陷阱并最多指定五个 SNMP 目标。</block>
  <block id="2eae9abec3a7974b9c650fda66103cb9" category="doc">为 SG6000-CN 控制器配置 SNMP 设置</block>
  <block id="b8f1814f76171b0e01680b9ba48147be" category="list-text">您知道如何访问 BMC 信息板。</block>
  <block id="9161fc3aa8fa7b7a88dfef52f4cc6e9d" category="list-text">您在为 SNMPv1-v2c 设备配置 SNMP 设置方面具有经验。</block>
  <block id="2bdd2bb709683fab05659e6935438efc" category="admonition">如果 SG6000-CN 发生故障且需要更换，则可能无法保留此操作步骤 所做的 BMC 设置。请确保您已应用所有设置，以便在更换硬件后根据需要轻松重新应用这些设置。</block>
  <block id="34d0abdf9662decee16a0cfbbad11737" category="list-text">从 BMC 信息板中，选择 * 设置 * &gt; * SNMP 设置 * 。</block>
  <block id="cdedb938b38c85f788f6f0fcd6b4a138" category="list-text">在 SNMP 设置页面上，选择 * 启用 SNMP V1/V2 * ，然后提供只读社区字符串和读写社区字符串。</block>
  <block id="815fb9bf18d4780bf0d88537f5cf26bc" category="paragraph">只读社区字符串类似于用户 ID 或密码。您应更改此值，以防止入侵者获取有关网络设置的信息。读写社区字符串可保护设备免受未经授权的更改。</block>
  <block id="5e1530d609b360d7dfef5c69345d7451" category="list-text">（可选）选择 * 启用陷阱 * ，然后输入所需信息。</block>
  <block id="c297a8c6829cf4ef1c53846e89664e36" category="admonition">使用 IP 地址输入每个 SNMP 陷阱的目标 IP 。不支持完全限定域名。</block>
  <block id="f485bedaccf6d4b565ec070df8f29f30" category="paragraph">如果希望 SG6000-CN 控制器在 SNMP 控制台处于异常状态时立即向其发送通知，请启用陷阱。陷阱可能指示各种组件的硬件故障或超出温度阈值。</block>
  <block id="ec7d0e4797ec7bc2a3beb37328bdad24" category="list-text">或者，也可以单击 * 发送测试陷阱 * 来测试您的设置。</block>
  <block id="3295cfe8ad284a285ef72f6761b83b26" category="list-text">如果设置正确，请单击 * 保存 * 。</block>
  <block id="d46302ee034bf77847efddf3f09b0aa0" category="summary">您必须将存储控制器连接到 SG6000-CN 控制器，连接所有三个控制器上的管理端口，并将 SG6000-CN 控制器上的网络端口连接到网格网络和适用于 StorageGRID 的可选客户端网络。</block>
  <block id="972fb3bff2840b24192e6b917cf246cc" category="doc">缆线设备（ SG6000 ）</block>
  <block id="622dedd3d9518bbe8333a11e6a3906f0" category="list-text">设备附带有四根光缆，用于将两个存储控制器连接到 SG6000-CN 控制器。</block>
  <block id="482c49b0c4f478c3a53f43e2d9354ea9" category="list-text">您可以使用 RJ-45 以太网缆线（至少四根）连接管理端口。</block>
  <block id="45be1afb254f55a4cd60176019dc9ce0" category="list-text">您可以选择以下网络端口之一。这些项目不随设备提供。</block>
  <block id="f5849ac98be0d0ea68c524cd03af2a8f" category="list-text">一到四根双轴缆线，用于连接四个网络端口。</block>
  <block id="c7aa0392cfcfae7f9063e19db3429311" category="list-text">如果您计划使用光缆连接端口，则需要一到四个 SFP+ 或 SFP28 收发器。</block>
  <block id="fa834c7fe42df5e075444926d029ecf2" category="paragraph">下图显示了 SG6060 设备中的三个控制器，其中， SG6000-CN 计算控制器位于顶部，而两个 E2800 存储控制器位于底部。</block>
  <block id="9f970c998903035bde31f84f43c04397" category="image-alt">SG6000 到 E2800 连接</block>
  <block id="a6eba94539f07b2fdd6996797e695861" category="paragraph">下图显示了 SG6024 设备中的三个控制器，其中 SG6000-CN 计算控制器位于顶部，两个 EF570 存储控制器并排位于计算控制器下方。</block>
  <block id="ecc7f9bf7a3773b585990d3ba4d0a335" category="image-alt">SG6000 到 SGF570 连接</block>
  <block id="ebbb8668cf42ea291acdafe2029402e6" category="paragraph">SG6000-CN 控制器上的 BMC 管理端口</block>
  <block id="9273be8905f7db1348c29593b56b685a" category="paragraph">连接到访问 BMC 接口的网络。</block>
  <block id="43eff04d2f281d0660714efbe289d0c6" category="paragraph">FC 连接端口：</block>
  <block id="fa58b549904aa5078778f9a03d38e047" category="list-text">4 个用于 SG6000-CN 控制器</block>
  <block id="6be5a0cc179cf576b120c9d2335610e4" category="list-text">每个存储控制器上 2 个</block>
  <block id="38c92754998c7940072d5e685476473c" category="paragraph">16 Gb/ 秒 FC 光纤 SFP+</block>
  <block id="3603a26d62af07cb7fafeeeeb7122f88" category="paragraph">将每个存储控制器连接到 SG6000-CN 控制器。</block>
  <block id="9a3735061a3a2a11097c3940fe81ec53" category="paragraph">SG6000-CN 控制器上的四个网络端口</block>
  <block id="bec9c95661f53806b632b90716d86973" category="paragraph">10/225-GbE</block>
  <block id="301dbfbebca38c2267c1ad45b5032559" category="paragraph">SG6000-CN 控制器上的管理网络端口（图中标记为 P1 ）</block>
  <block id="c206bdfe04c51c21c00c8a4c1bc14e20" category="paragraph">* 重要信息： * 此端口仅以 1000 BASE/ 全满运行，不支持 10 或 100 MB 速度。</block>
  <block id="64f8e5c8004b4c01dae2fc51fcfa817a" category="paragraph">将 SG6000-CN 控制器连接到 StorageGRID 管理网络。</block>
  <block id="a0bda3fda0b5f7e0fa7a27a55faa857b" category="paragraph">SG6000-CN 控制器上最右侧的 RJ-45 端口</block>
  <block id="abee2b0068151eb69c53049c02da9291" category="list-text">在安装期间，如果 DHCP 分配的 IP 地址不可用，则可以使用将 SG6000-CN 控制器连接到服务笔记本电脑。</block>
  <block id="1e452f542c48d3d596cbd30c9e01f10b" category="paragraph">每个存储控制器上的管理端口 1</block>
  <block id="dfea31c5742f96637bb643781ccc4b7b" category="paragraph">连接到访问 SANtricity System Manager 的网络。</block>
  <block id="52899e2997cb33c7451f4c7e4d985354" category="paragraph">每个存储控制器上的管理端口 2</block>
  <block id="3c860e61c4c21d97275bb567cc835c12" category="list-text">使用以太网缆线将 SG6000-CN 控制器上的 BMC 管理端口连接到管理网络。</block>
  <block id="fba3a8de9d56dc0b32f962017ebbee5d" category="paragraph">虽然此连接是可选的，但建议便于支持。</block>
  <block id="30ef84a14590f940675eb89653524f7d" category="list-text">使用四根光缆和四个 SFP+ 收发器将每个存储控制器上的两个 FC 端口连接到 SG6000-CN 控制器上的 FC 端口。</block>
  <block id="10ee0d8ff3074bcb3ad26ff0b540ea4c" category="list-text">使用双轴缆线或光缆以及 SFP+ 或 SFP28 收发器将 SG6000-CN 控制器上的网络端口连接到相应的网络交换机。</block>
  <block id="78f4b526f872ec3d7173d8afaf525aa0" category="admonition">这四个网络端口必须使用相同的链路速度。如果您计划使用 10-GbE 链路速度，请安装 SFP+ 收发器。如果您计划使用 25 GbE 链路速度，请安装 SFP28 收发器。</block>
  <block id="ebb97e2349dc908264605f1124dc22a8" category="list-text">如果您计划使用 StorageGRID 管理网络，请使用以太网缆线将 SG6000-CN 控制器上的管理网络端口连接到管理网络。</block>
  <block id="4f7d5e619dc65fe215954d5458e7e074" category="list-text">如果您计划使用 SANtricity System Manager 的管理网络，请使用以太网缆线将每个存储控制器上的管理端口 1 （ P1 ）（左侧的 RJ-45 端口）连接到 SANtricity System Manager 的管理网络。</block>
  <block id="84f372381ba509234375259ea5675c91" category="paragraph">请勿使用存储控制器上的管理端口 2 （ P2 ）（右侧的 RJ-45 端口）。此端口是为技术支持预留的。</block>
  <block id="e61595ed283ee9c9c3c22732c0a3c883" category="inline-xref-macro">SG6000-CN 控制器的端口绑定模式</block>
  <block id="ec484c2434666d7392b2b13807f7595e" category="paragraph"><block ref="ec484c2434666d7392b2b13807f7595e" category="inline-xref-macro-rx"></block></block>
  <block id="4e0ee6e88bbdb2be7f04a241ac634890" category="inline-xref-macro">将 SG6000-CN 控制器重新安装到机柜或机架中</block>
  <block id="1df9eac5ec5c6c054f8000f2fe6097f9" category="paragraph"><block ref="1df9eac5ec5c6c054f8000f2fe6097f9" category="inline-xref-macro-rx"></block></block>
  <block id="e1ca9528e5ce3ecb174470edba38f434" category="doc">访问和配置 SANtricity System Manager （ SG6000 ）</block>
  <block id="b33667f57d8adef975808826a9a7f2bc" category="summary">每个存储控制器都有一个七段显示器，可在控制器启动时提供状态代码。E2800 控制器和 EF570 控制器的状态代码相同。</block>
  <block id="6c5832343720c0756cb4c6dc5dbc5033" category="paragraph">有关这些代码的说明，请参见适用于您的存储控制器类型的 E 系列系统监控信息。</block>
  <block id="197044d48df0792d292f643608398fa8" category="list-text">在启动期间，通过查看每个存储控制器的七段显示器上显示的代码来监控进度。</block>
  <block id="6c09a06fe86be1be0fe773d983a20dcd" category="paragraph">每个存储控制器上的七段显示会显示重复序列 * 操作系统 * ， * 可持续发展 * ， ` * 空白 _*` ，以指示控制器正在执行每日开始处理。</block>
  <block id="3c9f6a5eb78945e89ee6c5c33db1e3fe" category="list-text">控制器启动后，确认每个存储控制器显示 99 ，这是 E 系列控制器架的默认 ID 。</block>
  <block id="2f897e0ef5e7f7574c55de8ebd5bdc0f" category="paragraph">确保此值显示在两个存储控制器上，如本示例 E2800 控制器所示。</block>
  <block id="687f8b1e657e7980a626b54821bebbad" category="image-alt">E2800 的七段显示代码</block>
  <block id="945a3d79df4a320148f5e26ff3321254" category="inline-xref-macro">硬件安装故障排除（ SG6000 ）</block>
  <block id="f490ae68cbbb2a03ac833eec233a4239" category="list-text">如果一个或两个控制器显示其他值，请参见 <block ref="44e8c253dd4cb7fda826d632bc28cbb4" category="inline-xref-macro-rx"></block> 并确认您已正确完成安装步骤。如果无法解决此问题，请联系技术支持。</block>
  <block id="7334f35d75d355fa9e3bfdbd50c2b887" category="inline-xref-macro">打开 SG6000-CN 控制器的电源并验证其运行情况</block>
  <block id="d269dcb782a61f0569e11580d299f6c3" category="paragraph"><block ref="d269dcb782a61f0569e11580d299f6c3" category="inline-xref-macro-rx"></block></block>
  <block id="720eb32539e6d0eded042417bcc4ecc4" category="summary">您可以使用 BMC 管理端口的 DHCP 或静态 IP 地址访问 SG6000-CN 控制器上的 BMC 接口。</block>
  <block id="9a4294fedd03113f88ba330ca46f8120" category="list-text">SG6000-CN 控制器上的 BMC 管理端口将连接到您计划使用的管理网络。</block>
  <block id="acbd250fe4497459901d74856d878fe1" category="image-alt">SG6000-CN 控制器上的 BMC 管理端口</block>
  <block id="ec6bf1f67dead298c99ce0571160fd25" category="list-text">输入 BMC 接口的 URL ： + ` * https://_BMC_Port_IP_*`</block>
  <block id="e7e2d74588d8e30d494c305e6ac60d1b" category="paragraph">对于 ` BMC_Port_IP_` ，请使用 DHCP 或静态 IP 地址作为 BMC 管理端口。</block>
  <block id="62413447713cd833c89ad46c5d87fa3f" category="paragraph">此时将显示 BMC 登录页面。</block>
  <block id="8c7560b04b02b17e8ab3b302b93439b1" category="inline-xref-macro">配置 BMC 接口（ SG6000 ）</block>
  <block id="0b3995a1d66291429618c214494c5f07" category="admonition">如果尚未配置 `BMC_Port_IP` ，请按照中的说明进行操作 <block ref="84f607db8a0aef36a0333502a60634e5" category="inline-xref-macro-rx"></block>。如果由于硬件问题而无法遵循此操作步骤 ，并且尚未配置 BMC IP 地址，则仍可访问此 BMC 。默认情况下， BMC 使用 DHCP 获取 IP 地址。如果在 BMC 网络上启用了 DHCP ，则网络管理员可以提供分配给 BMC MAC 的 IP 地址，该地址印在 SG6000-CN 控制器正面的标签上。如果 BMC 网络上未启用 DHCP ， BMC 将在几分钟后不会做出响应，并为自己分配默认静态 IP `192.168.0.120` 。您可能需要将笔记本电脑直接连接到 BMC 端口，并更改网络设置以为笔记本电脑分配 IP ，例如 `192.168.0.200/24` ，以便浏览到 `192.168.0.120` 。</block>
  <block id="2a96ae6e809fd897bfb2a2c80afb1ec4" category="inline-xref-macro">已更改默认根密码</block>
  <block id="0967a75acaaedc7224b3f529690ea03d" category="list-text">使用您在时设置的密码输入 root 用户名和密码 <block ref="da8ee480ec62001756762779a684c81e" category="inline-xref-macro-rx"></block>：</block>
  <block id="f5b1d772251fcc2367043220dd1b28b2" category="image-alt">BMC 登录页面</block>
  <block id="fef21d15f408a7007b8e7b6030675b49" category="list-text">选择 * 登录 * 。</block>
  <block id="3d2617a79806784dcdff1764a653faa6" category="image-alt">BMC 信息板</block>
  <block id="6adb423f68265e8ab58f5f8a15224a84" category="list-text">或者，也可以选择 * 设置 * &gt; * 用户管理 * 并单击任何 " 已 `d` " 用户来创建其他用户。</block>
  <block id="5248cb4c17800f67dc54c68ab7192ff2" category="admonition">当用户首次登录时，系统可能会提示他们更改密码以提高安全性。</block>
  <block id="1fc307f4912476cad93bc35528367a92" category="paragraph">根据当前安装的 SANtricity OS 版本，使用以下过程之一：</block>
  <block id="cdc8c1bb63bb2ae19dd892619a487ff0" category="paragraph"><block ref="cdc8c1bb63bb2ae19dd892619a487ff0" category="inline-xref-macro-rx"></block></block>
  <block id="5e56321203b6b5dd968187ab3777997c" category="admonition">升级存储设备的 SANtricity 操作系统时，必须按照 StorageGRID 文档中的说明进行操作。如果您使用任何其他说明，则设备可能无法运行。</block>
  <block id="dfe07fa2838991e72459bc6162584c31" category="summary">如果您不确定要更换哪个光纤通道主机总线适配器（ HBA\ ），请完成此操作步骤 以进行识别。</block>
  <block id="c8b6e423cef7098766a6f6fe55ea5b84" category="doc">确认要更换的光纤通道 HBA</block>
  <block id="e3e021b9acb46575e7f3ad08605c6b2c" category="paragraph">如果您不确定要更换哪个光纤通道主机总线适配器（ HBA ），请完成此操作步骤 以进行识别。</block>
  <block id="cf42b5dafdab1fd18cf54d535607ccff" category="list-text">您拥有需要更换光纤通道 HBA 的存储设备或 SG6000-CN 控制器的序列号。</block>
  <block id="39367b82bd9a1560be755cdc44ada0d0" category="admonition">如果包含要更换的光纤通道 HBA 的存储设备的序列号以字母 Q 开头，则它不会在网格管理器中列出。您必须检查附加到数据中心中每个 SG6000-CN 控制器正面的标签，直到找到匹配项为止。</block>
  <block id="5d1dae3bfafe3be501488304c10ee528" category="list-text">从节点页面上的表中，选择设备存储节点。</block>
  <block id="410726a66e82d6f096a3e1c5f055c3f2" category="paragraph">检查 StorageGRID 设备部分中的 * 存储设备机箱序列号 * 和 * 计算控制器序列号 * 。查看其中一个序列号是否与要更换光纤通道 HBA 的存储设备的序列号匹配。如果任一序列号匹配，则表明您找到了正确的设备。</block>
  <block id="2df95b41858d1e70180a7ea339fefc19" category="image-alt">光纤通道 HCA 的设备部分</block>
  <block id="e4c35ad28398d0164d64d7a6904a0a5a" category="list-text">如果未显示 StorageGRID 设备部分，则选定节点不是 StorageGRID 设备。从树视图中选择其他节点。</block>
  <block id="830dfb7e6831468c3f994a3f0011f91d" category="list-text">如果设备型号不是 SG6060 ，请从树视图中选择其他节点。</block>
  <block id="dc3249672bc00763d4fbc5befc3f7d6c" category="list-text">如果序列号不匹配，请从树视图中选择其他节点。</block>
  <block id="7826d8104caf4ef8504cf79017081f0b" category="list-text">找到需要更换光纤通道 HBA 的节点后，记下 StorageGRID 设备部分列出的计算控制器 BMC IP 地址。</block>
  <block id="df206eb333ed4893a12cb6337268a2d6" category="paragraph">您可以使用此 IP 地址打开计算控制器识别 LED ，以帮助您在数据中心中找到设备。</block>
  <block id="d375ac9a074a9d4657a9ad2ad6217624" category="inline-xref-macro">打开和关闭控制器识别 LED</block>
  <block id="c3c67541a6e17f154ea355069d3e3467" category="paragraph"><block ref="c3c67541a6e17f154ea355069d3e3467" category="inline-xref-macro-rx"></block></block>
  <block id="d04e28580fd1db7fbcbc0a024726ec9c" category="summary">如果 SG6000-CN 控制器中的光纤通道主机总线适配器（ HBA ）运行不正常或出现故障，您可能需要更换该适配器。</block>
  <block id="6e59386fb6d09c0b4945ad4afa8a4092" category="doc">更换 SG6000-CN 控制器中的光纤通道 HBA</block>
  <block id="a72f603f0df0564e023c9b72cc924adf" category="paragraph">如果 SG6000-CN 控制器运行不正常或发生故障，您可能需要更换该控制器中的光纤通道主机总线适配器（ HBA ）。</block>
  <block id="002bfd3a3c38d973ecab5ce81ecc190c" category="summary">如果 E2800 控制器或 EF570 控制器运行不正常或出现故障，您可能需要更换该控制器。</block>
  <block id="9b495998b3894fb821a0e2b808f47015" category="doc">更换存储控制器</block>
  <block id="945c8f402d1589003105515f977edada" category="list-text">您已安装 ESD 腕带，或者已采取其他防静电预防措施。</block>
  <block id="d1746d129f580a3cb644a52459ce0ba7" category="list-text">您有一个 1 号十字螺丝刀。</block>
  <block id="be3882f5bf7b419d38d42d3dca42fcbe" category="list-text">您可以按照 E 系列说明更换双工配置中的控制器。</block>
  <block id="d7e281a1efa7f334b70860572f78723d" category="list-text">您已在数据中心中找到要更换控制器的物理存储设备。</block>
  <block id="98c8fffbfd4b847268c766489ddd1495" category="paragraph">您可以通过以下两种方式确定控制器是否出现故障：</block>
  <block id="1b7ce7d686379bbad46754306a9d442f" category="admonition">如果磁盘架中的两个控制器的警示 LED 均亮起，请联系技术支持以获得帮助。</block>
  <block id="c2bdfdb729b65678c85741a1194dd5cb" category="paragraph">由于存储控制器架包含两个存储控制器，因此，只要满足以下条件，您就可以在设备启动并执行读 / 写操作时更换其中一个控制器：</block>
  <block id="eb19f5720c0997f84db77a1ca7fb121a" category="list-text">磁盘架中的第二个控制器处于最佳状态。</block>
  <block id="09983770c1b831f8835c591c6d8417ba" category="list-text">SANtricity System Manager 中 Recovery Guru 的详细信息区域中的 "`确定删除` " 字段显示是，表示可以安全删除此组件。</block>
  <block id="82ca3038de58e56efe2f6bbc661c7283" category="admonition">如果可能，请将设备置于此替代操作步骤 的维护模式，以最大限度地减少意外错误或故障的潜在影响。</block>
  <block id="e58241132a1fa5ea12aa46badfedbd1c" category="admonition">如果磁盘架中的第二个控制器箱状态不是最佳，或者 Recovery Guru 指示无法卸下控制器箱，请联系技术支持。</block>
  <block id="752e2b22735dd0a3dc51389142f82b7a" category="paragraph">更换控制器时，您必须从原始控制器中取出电池，然后将其安装到替代控制器中。在某些情况下，您可能还需要从原始控制器中卸下主机接口卡，并将其安装在替代控制器中。</block>
  <block id="fbc7a81b7b1ada1e2be4ad9a4ed18832" category="admonition">大多数设备型号中的存储控制器不包括主机接口卡（ HIC ）。</block>
  <block id="ac4aec48ca363c61bde0b90a6357d2e0" category="list-text">拆开新控制器的包装，将其放在无静电的平面上。</block>
  <block id="71e69069470b78afcfd4256b5538ddde" category="paragraph">请保存包装材料，以便在运输故障控制器时使用。</block>
  <block id="e5a03effd8c40e9251d96a430d99a606" category="list-text">在替代控制器的背面找到 MAC 地址和 FRU 部件号标签。</block>
  <block id="b545f6cf7f6f32d6127615420319b3f9" category="paragraph">此图显示了 E2800 控制器。用于更换 EF570 控制器的操作步骤 是相同的。</block>
  <block id="8c24028e64b6e488de83fe5c7b3e2dab" category="image-alt">E2800 控制器上的 MAC 和 FRU 标签</block>
  <block id="b021df6aac4654c454f46c77646e745f" category="cell">Label</block>
  <block id="e7f4b6ea502ad375249af4ea0cb5e3fb" category="paragraph">MAC 地址</block>
  <block id="3e61e4f02cde23299a4b67de48384569" category="paragraph">管理端口 1 的 MAC 地址（ "`P1` " ）。如果您使用 DHCP 获取原始控制器的 IP 地址，则需要使用此地址连接到新控制器。</block>
  <block id="0dc7a4214baa5b04255a77288da0d15a" category="paragraph">FRU 部件号</block>
  <block id="2693802fb55a96803ffb1872271dfd3a" category="paragraph">FRU 部件号。此编号必须与当前安装的控制器的更换部件号匹配。</block>
  <block id="3c5c330f0ed1965bfe2a7755e5566287" category="list-text">准备删除控制器。</block>
  <block id="82dcb3420fdadaeb58cbcd6e8b500cf3" category="paragraph">您可以使用 SANtricity 系统管理器执行这些步骤。有关其他详细信息，请根据需要参阅 E 系列说明以更换存储控制器。</block>
  <block id="270d6e2086af600326a1899c14eefca1" category="list-text">确认故障控制器的更换部件号与更换控制器的 FRU 部件号相同。</block>
  <block id="3a3cd7aeaa367cf5f0aa0b6e9c59f5d6" category="paragraph">如果控制器出现故障并需要更换，则更换部件号将显示在 Recovery Guru 的 Details 区域中。如果需要手动查找此数字，可以在 * 基础 * 选项卡上查看控制器。</block>
  <block id="60b6749626ca89f905c5f63af4c0f4b4" category="admonition">* 可能会丢失数据访问机会 -* 如果两个部件号不同，请勿尝试使用此操作步骤 。</block>
  <block id="43598202524116cb1bfd3a49d541cc89" category="list-text">使计划更换的控制器脱机。</block>
  <block id="bdb73103cde6f7c2048621f44d239abe" category="list-text">如果原始控制器使用 DHCP 作为 IP 地址，请在替代控制器背面的标签上找到 MAC 地址。请您的网络管理员将您删除的控制器的 DNS/network 和 IP 地址与替代控制器的 MAC 地址相关联。</block>
  <block id="33aea404f049ac299242ffabf34b44e5" category="admonition">如果原始控制器未使用 DHCP 作为 IP 地址，则新控制器将采用您删除的控制器的 IP 地址。</block>
  <block id="382b88f728a1eedceb5f761c1a3da7da" category="list-text">使用 SANtricity 系统管理器使控制器联机：</block>
  <block id="78c81ee9fd7e37527fe34ac8a7a9cab4" category="list-text">选择 * 硬件 * 。</block>
  <block id="1e7821e41bd20adbe34afedfe248ea6c" category="list-text">如果图形显示了驱动器，请选择 * 显示磁盘架背面 * 。</block>
  <block id="7bd4fc9ce6fe73a0cad58fceb6e491b1" category="list-text">选择要置于联机状态的控制器。</block>
  <block id="67885fefca1fc4fab389901dbd919d98" category="list-text">从上下文菜单中选择 * 置于联机状态 * ，然后确认要执行此操作。</block>
  <block id="347c60efbdda8f3e3d6d53c2f065adea" category="list-text">验证七段显示屏是否显示状态 `99` 。</block>
  <block id="69aafd700cfa08e293ae0b0f33138afb" category="list-text">确认新控制器处于最佳状态，并收集支持数据。</block>
  <block id="3f40024d9c6351813c9473f8aea15218" category="summary">对于 SG6000-CN 控制器上的两个 1-GbE 管理端口，您可以选择独立网络绑定模式或主动备份网络绑定模式来连接到可选的管理网络。</block>
  <block id="ef6533bb799c780596b4bfbf32d9aaa5" category="paragraph">在独立模式下，只有左侧的管理端口连接到管理网络。此模式不提供冗余路径。右侧的管理端口未连接，可用于临时本地连接（使用 IP 地址 169.254.0.1 ）</block>
  <block id="b5b6690b966ef47f32c314490ec11b14" category="paragraph">在主动备份模式下，两个管理端口均连接到管理网络。一次只有一个端口处于活动状态。如果活动端口发生故障，其备份端口会自动提供故障转移连接。将这两个物理端口绑定到一个逻辑管理端口可提供指向管理网络的冗余路径。</block>
  <block id="7d12c6329834a0f62ef034f6fd0c7459" category="admonition">如果在将 1-GbE 管理端口配置为主动备份模式后需要临时本地连接到 SG6000-CN 控制器，请从两个管理端口拔下缆线，将临时缆线插入右侧的管理端口，然后使用 IP 地址 169.254.0.1 访问此设备。</block>
  <block id="fe02b6de7989efd01b370f3c8fb4d074" category="image-alt">1 GbE 端口</block>
  <block id="7fc56270e7a70fa81a5935b72eacbe29" category="paragraph">答</block>
  <block id="71ac9d3f85232d59fdd246c7a49ba8cc" category="paragraph">这两个管理端口都绑定到一个连接到管理网络的逻辑管理端口。</block>
  <block id="dd7536794b63bf90eccfd37f9b147d7f" category="paragraph">I</block>
  <block id="c223d45428a5469c2a2a074282e1d5fa" category="paragraph">左侧端口连接到管理网络。右侧端口可用于临时本地连接（ IP 地址 169.254.0.1 ）。</block>
  <block id="8cdd724b56036e184c327644a9671458" category="summary">在访问 BMC 接口之前，您必须为 SG6000-CN 控制器上的 BMC 管理端口配置 IP 地址。</block>
  <block id="b5d159ceaea94c3a2732ad570aa10c96" category="doc">设置 BMC 管理端口的 IP 地址</block>
  <block id="9933d496288dd877d141fe78728ec679" category="list-text">您正在使用可连接到 StorageGRID 网络的任何管理客户端。</block>
  <block id="7c5322ec774181b7e300e2cdb66d49c7" category="list-text">BMC 管理端口将连接到您计划使用的管理网络。</block>
  <block id="11996b8f8936f1cc4298032e84c813f5" category="paragraph">出于支持目的， BMC 管理端口允许进行低级硬件访问。</block>
  <block id="f92c15ca2127fce4dfe209ddc2e5b954" category="admonition">您只能将此端口连接到安全，可信的内部管理网络。如果没有此类网络可用，请保持 BMC 端口未连接或被阻止，除非技术支持请求 BMC 连接。</block>
  <block id="adb8f6d1df5fa5d58a54cef7c172c843" category="list-text">在客户端中，输入 StorageGRID 设备安装程序的 URL ： + ` * https://_SG6000-CN_Controller_IP_:8443*`</block>
  <block id="ee7dd40594ba697bd7791134dca389b9" category="paragraph">对于 `s 6000-CN_Controller_IP` ，请在任何 StorageGRID 网络上使用设备的 IP 地址。</block>
  <block id="b387480c32602d7d4ac7bb3512eed8ea" category="paragraph">DHCP 是为该端口分配 IP 地址的默认方法。</block>
  <block id="64f89d60272ac6e6ad720c4d2d1e534e" category="image-alt">显示 DHCP 地址的 " 底层管理控制器配置 " 页面</block>
  <block id="39a657274976bbb1e10fb080cd063c3f" category="list-text">也可以为 BMC 管理端口设置静态 IP 地址。</block>
  <block id="4ccf540eaa2191c8430174f93410db5a" category="admonition">您应该为 BMC 管理端口分配静态 IP ，或者为 DHCP 服务器上的地址分配永久租约。</block>
  <block id="7eb88061c9c3e57cb63e8f9fc96e4c5b" category="image-alt">Baseboard Management Controller Configuration Static 选项</block>
  <block id="11b108f29e0e476009dfaf52d2e18fe5" category="doc">无法连接到设备</block>
  <block id="4185a9fd0d4a8900861322bc5edab4f1" category="list-text">尝试使用管理网络上任一存储控制器的 IP 地址对设备执行 ping 操作，以查看 SANtricity System Manager ： + ` * ping _Storage_Controller_IP_*`</block>
  <block id="28fb788622774f40f4461daba34e7ac7" category="paragraph">使用任一存储控制器上的管理端口 1 的 IP 地址。</block>
  <block id="f70d518f6681ba772deebe3bf1edf5e3" category="list-text">输入 SANtricity 系统管理器的 URL ： + ` * https://_Storage_Controller_IP_*`</block>
  <block id="6db4b09f3f13d1976165aabcdde86305" category="list-text">如果无法连接到 SG6000-CN 控制器：</block>
  <block id="50842588682ba0d5e668b7cfe29f8048" category="list-text">尝试使用 SG6000-CN 控制器的 IP 地址对设备执行 ping 操作： + ` * ping _SG6000-CN_Controller_IP_*`</block>
  <block id="6781984286c3ada9cfb2d7a0765c0b1d" category="inline-xref-macro">访问 StorageGRID 设备安装程序</block>
  <block id="2ad33f8ed1df26b80855a6de3e4c170a" category="list-text">如果可以物理访问 SG6000-CN ，则可以使用与永久链路本地 IP `169.254.0.1` 的直接连接来检查控制器网络配置，并在必要时进行更新。有关详细说明，请参见中的步骤 2 <block ref="4c945f95e1f5cd993f50fa59e6a99938" category="inline-xref-macro-rx"></block>。</block>
  <block id="0f8beb4ca3926508e534303d7f61535c" category="list-text">输入 StorageGRID 设备安装程序的 URL ： + ` * https://_SG6000-CN_Controller_IP_:8443*`</block>
  <block id="f68249ccb694ca2d6a238fa8a17aca77" category="summary">如果在 SG6000-CN 控制器启动时发生硬件错误，则 BMC 会记录一个错误代码。您可以根据需要使用 BMC 界面查看这些错误代码，然后与技术支持联系以解决此问题描述 。</block>
  <block id="3021b3010c48f0d2b7c748318d470b7f" category="list-text">从 BMC 信息板中，选择 * BIOS POST Code* 。</block>
  <block id="9f6a064ac619f66aaa322807a61dad16" category="list-text">查看为当前代码和先前代码显示的信息。</block>
  <block id="af35dde73503f0e72952654c019cc720" category="paragraph">如果显示以下任一错误代码，请与技术支持联系以解决此问题描述 。</block>
  <block id="4b8f4e00f16e64b54f8b99abff991e78" category="paragraph">0x0E</block>
  <block id="eae1d5f71d5f76aa725e620003b05cd2" category="paragraph">未找到微代码</block>
  <block id="bb0cfa24aced58e8afcf208dfadc286c" category="paragraph">0x0F</block>
  <block id="5f60ac0e7a047c9f7d632c61e58e7b69" category="paragraph">未加载微代码</block>
  <block id="3336d68c67c9009d2b24ec89540c5be8" category="paragraph">0x50</block>
  <block id="d36374a2907dd4f5281160f1a174869f" category="paragraph">内存初始化错误。内存类型无效或内存速度不兼容。</block>
  <block id="ffbd8cbf65c4d412a56b75ec10788341" category="paragraph">0x51</block>
  <block id="52f9fdd3728df3bb8043a94543a36e76" category="paragraph">内存初始化错误。SPD 读取失败。</block>
  <block id="564357fab6d81ff5e75c7995b30d5baf" category="paragraph">0x52</block>
  <block id="a1a06085199cc19c6f22465f4232241c" category="paragraph">内存初始化错误。内存大小无效或内存模块不匹配。</block>
  <block id="8605b9b2799174c025e6872b1c816485" category="paragraph">0x53</block>
  <block id="3be3fa6ecc4132d0fbf0c11c1b09461d" category="paragraph">内存初始化错误。未检测到可用内存。</block>
  <block id="bc51f467eeb495cb3e2a9cc81f0a6ea0" category="paragraph">0x54</block>
  <block id="3835a00967765c9c960944b3f4bbd1f6" category="paragraph">未指定的内存初始化错误</block>
  <block id="aa3c065d1a6e9f6a4c6a34f568f269dc" category="paragraph">0x55</block>
  <block id="458591849dc608fd321fce4315053ef5" category="paragraph">未安装内存</block>
  <block id="62edf7786dc2109eacb70de90f339b8a" category="paragraph">0x56</block>
  <block id="d5b3ed0fac2c1aea0e52087ec23014d4" category="paragraph">CPU 类型或速度无效</block>
  <block id="2dae45e6a0146c6c854945c96b80959a" category="paragraph">0x57</block>
  <block id="d36fa89e72c673da1879a74a134b7bbf" category="paragraph">CPU 不匹配</block>
  <block id="ed043c6a64eba97d8adedb071c337b26" category="paragraph">0x58</block>
  <block id="ccea3dfa231ca6b76e2c1cc97e900e47" category="paragraph">CPU 自检失败或可能出现 CPU 缓存错误</block>
  <block id="25a540e9fbbc2c4e57250f5f9ace7641" category="paragraph">0x59</block>
  <block id="3940a9b4506f2ff3228fabfcba3099eb" category="paragraph">未找到 CPU 微代码或微代码更新失败</block>
  <block id="fdf5a5bc25727c2fdc06d04cdd3bc789" category="paragraph">0x5A</block>
  <block id="df2602a08b10b3b07f1d902e7d79bf6f" category="paragraph">内部 CPU 错误</block>
  <block id="1a3e6b52b0fe193cbacfcb29630725e0" category="paragraph">0x5B</block>
  <block id="32a9fca9720a04833e5ccf7f652cc19b" category="paragraph">重置 PPI 不可用</block>
  <block id="c00caad4e4c241bc45d15293b7d5c163" category="paragraph">0x5C</block>
  <block id="0ade79d5f75c535226cee5d9fd2e5bb2" category="paragraph">PEI 阶段 BMC 自检失败</block>
  <block id="97d19d90fcfb2cb0d3d3b34f29ba7d6e" category="paragraph">0xD0</block>
  <block id="2ba6cf668b29fa8166f45022cfa8154d" category="paragraph">CPU 初始化错误</block>
  <block id="318fba255465a9f857cb5d1690338567" category="paragraph">0xD1</block>
  <block id="713d316864a4dc48be43af9bda8239ef" category="paragraph">北网桥初始化错误</block>
  <block id="4f6c389743d7f9d8cfbf2881e40a87c5" category="paragraph">0xD2</block>
  <block id="3471f8438a8308118359882b21fac4ca" category="paragraph">南桥初始化错误</block>
  <block id="fd51b60bc30ff3d6cce09e9e40433262" category="paragraph">0xD3</block>
  <block id="8b50ebdae0d724b5e6a943f54b85ed70" category="paragraph">某些架构协议不可用</block>
  <block id="360c24589a33282aca4a15b542b8677c" category="paragraph">0xd4</block>
  <block id="bd59b182d476cb8cf4c5649bb2026756" category="paragraph">PCI 资源分配错误。资源不足。</block>
  <block id="1cf34d35d68725baf81af12f1bfd963d" category="paragraph">0xD5</block>
  <block id="c24f9534f34a8169689d8dc516582d2f" category="paragraph">原有选项 ROM 没有空间</block>
  <block id="518125bfcf10fdf2afa5423225907491" category="paragraph">0xD6</block>
  <block id="3a9a5250648976882b98db21669cc850" category="paragraph">未找到控制台输出设备</block>
  <block id="13f6cdb4e5364ce18fb0aa194c9c81a3" category="paragraph">0xD7</block>
  <block id="c63a9a2a5736ce022164ccc4a5569ec7" category="paragraph">未找到控制台输入设备</block>
  <block id="b52d527c11262a11025f6d59b0a84d37" category="paragraph">0xD8</block>
  <block id="cba0b206627d45fbf0ae707e20d4a38f" category="paragraph">密码无效</block>
  <block id="2d4db2999f99d6d86e12a0c2b1355796" category="paragraph">0xD9</block>
  <block id="60cff602d2728b0e240730dd232446ca" category="paragraph">加载启动选项时出错（ LoadImage 返回错误）</block>
  <block id="b905c4c700214b6e18297e562bf5f91c" category="paragraph">0xDA</block>
  <block id="dfdc74cf5350d191cff2a68618de8ce8" category="paragraph">启动选项失败（ StartImage 返回错误）</block>
  <block id="d9742597c9ac13b19ad33eca67fde5e3" category="paragraph">0xDB</block>
  <block id="bf5cf3c2d9aeb35e71520f113d6f6ce0" category="paragraph">闪存更新失败</block>
  <block id="8aafd83eadfa85847fbd8c0745070037" category="paragraph">0xDC</block>
  <block id="6a58403c79a0e745cae9f3e2e624422a" category="paragraph">重置协议不可用</block>
  <block id="05efb90540469d89f332405788955b64" category="paragraph">0xDD</block>
  <block id="08e775582d157bd8998b9c64ed3c89af" category="paragraph">Dxe 阶段 BMC 自检失败</block>
  <block id="3ed81a77e64d6d6cbd2bd71654000984" category="paragraph">0xE8</block>
  <block id="86c29784f2f0f2476aa8f93202892809" category="paragraph">MRC ： err_no_memory</block>
  <block id="9430602017e729c3186785608445d70f" category="paragraph">0xE9</block>
  <block id="c6b527b29c0b8e568de91ce021399a78" category="paragraph">MRC ： err_lt_lock</block>
  <block id="536953989c9591abbf94fe84e31c839e" category="paragraph">0xEA</block>
  <block id="b82e5a9ecdf53fd7be8ab8525b19ec08" category="paragraph">MRC ： err_DDR_init</block>
  <block id="0d6b70618408dbb554aa2e1a2fc403b9" category="paragraph">0xEB</block>
  <block id="def99c227120b8180f7e3d250980826e" category="paragraph">MRC ： ERR_MEM_TEST</block>
  <block id="875fa4b3661efc4d9e157dcd527b6664" category="paragraph">0xEC</block>
  <block id="55ee214353156a01a05f2c7c9d7592e7" category="paragraph">MRC ： err_vendor_specific</block>
  <block id="f17c71e9a098b67e63a015a68795199c" category="paragraph">0xED</block>
  <block id="2c0f78bd3a11b5092b633e99316e3625" category="paragraph">MRC ： ERR_DIMM_COMPAT</block>
  <block id="fba40a129d0b8260dfc1a3e6054691d1" category="paragraph">0xEE</block>
  <block id="53b3a1500388fcddc3366ecc82dbee06" category="paragraph">MRC ： err_MRC_compatibility</block>
  <block id="5276ff6f33af6d3f4df062c978ab5b06" category="paragraph">0xEF</block>
  <block id="1b304d23296c16923bec8173c7200192" category="paragraph">MRC ： err_MRC_struct</block>
  <block id="7499975842b44c878aedc21dfa0d42ea" category="paragraph">0xF0</block>
  <block id="9f43ec0b7a5d7dc2414d7eaa8adc1095" category="paragraph">MRC ： ERR_SET_VDD</block>
  <block id="1913fcb02ba3c21d5077ceef3e2a2a0b" category="paragraph">0xF1</block>
  <block id="c6a4ccba0c3a96ff6e51e2ad75dc7672" category="paragraph">MRC ： ERR_IOT_MEM_buffer</block>
  <block id="df222e17d1d739c86cd13d8e86db00e4" category="paragraph">0xF2</block>
  <block id="44c53412354d4a8ffa0fb623352a8f55" category="paragraph">MRC ： err_rc_internal</block>
  <block id="e065076c5acdb39b1be55b16ab5e3a5e" category="paragraph">0xF</block>
  <block id="cb821fa7e178a13df5244b07ddb304f3" category="paragraph">MRC ： err_invalid_REG_access</block>
  <block id="7ce66e624b5a669535dacce6795bca36" category="paragraph">0xf4</block>
  <block id="37bee07968f2aa7b7e258eba20bd5f82" category="paragraph">MRC ： ERR_SET_MC_FRQ</block>
  <block id="1d1e17f24fff427f603ca6d97b7d5190" category="paragraph">0xf5</block>
  <block id="b83da6edae96e2605496cd49c19097e0" category="paragraph">MRC ： err_read_mc_fREQ</block>
  <block id="fe67df924827d9068dbd1a043209322d" category="paragraph">0x70</block>
  <block id="65e16f2d953aa23c4f9e12158a5a1004" category="paragraph">MRC ： err_DIMM_channel</block>
  <block id="863f02ad4d6596893812aae9adb3b646" category="paragraph">0x74</block>
  <block id="f30d92fe68c45456eda7c470b8b080ec" category="paragraph">MRC ： err_smix_check</block>
  <block id="48006929fbcbbc98e03c309c2ca4eaeb" category="paragraph">0xf6</block>
  <block id="0d28cb3dac15466ab53a0c056e65a0ba" category="paragraph">MRC ： err_SMBUS</block>
  <block id="cc2810aa51b36a793544a7d9d97f18fd" category="paragraph">0xF7</block>
  <block id="d6efc7081c6b0e52c60ce703de7bc023" category="paragraph">MRC ： ERR_PCU</block>
  <block id="8afeb891815b1b52a988de629e3d37fc" category="paragraph">0xf8.</block>
  <block id="b476de089b467fcdb667715756b5c2a2" category="paragraph">MRC ： err_NGN</block>
  <block id="00653ca2ebfd8b8a6de680f453f12d97" category="paragraph">0xf9</block>
  <block id="446e411757994ec4e877710ee68ebcaf" category="paragraph">MRC ： err_interlef_failure</block>
  <block id="6f75a286f9dd807f8ba67d389d3f5934" category="summary">完成维护后，打开控制器电源。</block>
  <block id="708b87503b578e29e9248a121c84149e" category="list-text">您已将控制器安装在机柜或机架中并连接了数据和电源线。</block>
  <block id="568bd1c69e9c0fc36b73a7da700f63e1" category="list-text">您已将控制器物理定位在数据中心中。</block>
  <block id="468e3b1097fc79f0d7c911b293e279f1" category="list-text">启动 SG6000-CN 控制器，并使用以下方法之一监控控制器 LED 和启动代码：</block>
  <block id="61c170b3b9ad291a529a59c26db0b10f" category="list-text">按下控制器正面的电源开关。</block>
  <block id="07cc7bac2c2fac8ab2504c63619f8661" category="list-text">选择 * 启动服务器 * ，然后选择 * 执行操作 * 。</block>
  <block id="ae4ca703bdec504a925c57b5f0210cb9" category="image-alt">从 BMC 启动控制器</block>
  <block id="f265a91da58c980524a1d71711afcf6d" category="paragraph">使用 BMC 界面监控启动状态。</block>
  <block id="7bba528a2095b6eb21f631238b614d9a" category="list-text">确认设备控制器显示在网格管理器中且未显示任何警报。</block>
  <block id="e98388bc43645c2b8e08eb84fa1748b9" category="paragraph">控制器可能需要长达 20 分钟才能显示在网格管理器中。</block>
  <block id="91d5eefe0c7bdf5316719e0eba4f8f37" category="list-text">确认新的 SG6000-CN 控制器已完全正常运行：</block>
  <block id="3e113811911e73af7597d8703f8e1847" category="list-text">输入以下命令并验证其是否返回预期输出： + `cat /sys/class/fc_host/* / port_state`</block>
  <block id="d15e02bf0c54e008af2e8212aa7c7d4f" category="paragraph">预期输出：</block>
  <block id="47b5f7af2cede8433ea218fdf6fe5b3a" category="paragraph">如果未返回预期输出，请联系技术支持。</block>
  <block id="1c68905edb51641fa1d8a02697011459" category="list-text">输入以下命令并验证其是否返回预期输出： + `cat /sys/class/fc_host/*/speed`</block>
  <block id="00209b5e99ed3a7d4009097465aeb92b" category="list-text">在网格管理器的节点页面中，确保设备节点已连接到网格，并且没有任何警报。</block>
  <block id="53b7ec253acec6343906a096c9ea4b6f" category="admonition">请勿使其他设备节点脱机，除非此设备具有绿色图标。</block>
  <block id="e7ea150f8a7a56bfc1bc5cf5d7f7ca03" category="list-text">可选：如果已卸下前挡板，请安装前挡板。</block>
  <block id="feca10450b07e0ed8785917f09c34ad1" category="paragraph">如果要克隆设备节点，请为源设备节点使用的所有链路配置目标设备的网络链路。</block>
  <block id="9dac0b141117d903126611da86206bad" category="paragraph">如果您计划使用 25 GbE 链路速度：</block>
  <block id="082d55245d3701dc0ca105f7dcf0bd10" category="list-text">您正在使用 SFP28 双轴缆线，或者已在计划使用的网络端口中安装 SFP28 收发器。</block>
  <block id="91ae9dbd323c9bd57287a17e71a38dfe" category="list-text">您已将网络端口连接到可支持这些功能的交换机。</block>
  <block id="cee6ddf13ac0103d39091f901fca553d" category="paragraph">如果您计划使用聚合端口绑定模式， LACP 网络绑定模式或 VLAN 标记：</block>
  <block id="163622e40f69ff57a959650d4c37332c" category="list-text">您已将设备上的网络端口连接到可支持 VLAN 和 LACP 的交换机。</block>
  <block id="074d71da8e086a918032d3013e2b3869" category="paragraph">此图显示了四个网络端口在固定端口绑定模式下的绑定方式（默认配置）。</block>
  <block id="ad11c8bc4be124be6b1608f2975fcb5e" category="image-alt">图中显示了 SG6000-CN 控制器上的网络端口如何在固定模式下绑定</block>
  <block id="92379ee8ad9cec7ab760391c20577eb1" category="paragraph">此图显示了四个网络端口在聚合端口绑定模式下的绑定方式。</block>
  <block id="915a3659bf3c4582054ec53b24f864f5" category="image-alt">图中显示了 SG6000-CN 控制器上的网络端口如何在聚合模式下绑定</block>
  <block id="3324b5ad2ad4a3468803424c66eb37bf" category="paragraph">下表汇总了用于配置四个网络端口的选项。默认设置以粗体显示。只有在要使用非默认设置时，才需要在链路配置页面上配置设置。</block>
  <block id="8bd14b7b21934a91f57b966b7125251f" category="paragraph">请参见 <block ref="ec484c2434666d7392b2b13807f7595e" category="inline-xref-macro-rx"></block> 有关端口绑定和网络绑定模式的详细信息。</block>
  <block id="fe197f9b74847b8363b818a5791716f9" category="paragraph">此图显示了 SG6000-CN 控制器上的两个 1-GbE 管理端口如何在管理网络的主动备份网络绑定模式下绑定。</block>
  <block id="a06cc81e93b363e9f879d8865051ccaf" category="image-alt">已绑定管理网络端口</block>
  <block id="59de0e75f1afbce15644c003aef7551c" category="list-text">在 StorageGRID 设备安装程序中，单击 * 配置网络连接 * &gt; * 链路配置 * 。</block>
  <block id="1bcb3cfdec0c8f20c126374a958a271b" category="image-alt">SG6060 网络端口</block>
  <block id="8a9df43ee7ec94c93b983c69ff4e2e0a" category="image-alt">链路状态表</block>
  <block id="13ec900250dfbf5deff43edd1fa81325" category="list-text">* 链路速度 * 设置为 * 自动 * 。</block>
  <block id="cff1222d1c020eb5ac8acd4415ae9068" category="list-text">对于网格网络， * 网络绑定模式 * 设置为 * 主动备份 * 。</block>
  <block id="3e3e9191feadfc5b89f5dc7f97509ffd" category="image-alt">已修复网络链路配置</block>
  <block id="0c751e5a118fccd773987e6627283de7" category="list-text">如果您计划对网络端口使用 25 GbE 链路速度，请从链路速度下拉列表中选择 * 自动 * 。</block>
  <block id="903e61e4084b321cd75ac4206eec722b" category="paragraph">您用于网格网络和客户端网络的网络交换机也必须支持此速度并为此速度进行配置。您必须使用 SFP28 双轴缆线或光缆和 SFP28 收发器。</block>
  <block id="afa915f16c2341be09bcee3dec1859d8" category="paragraph">此时将显示网络端口的客户端网络设置。</block>
  <block id="68a18867002d487cc62c6a9ecebf9378" category="paragraph">此示例显示：</block>
  <block id="1d9e509ddb93a176b7d369a91ad7deaf" category="inline-xref-macro">IP 地址</block>
  <block id="db8b22965ab6beec4ba2c316a0837eae" category="admonition">如果更改了所连接的网络或链路，则可能会断开连接。如果您未在 1 分钟内重新连接，请使用其他 URL 之一重新输入 StorageGRID 设备安装程序的 URL <block ref="859c59ddcb4e4f9852ec68c14d478cbe" category="inline-xref-macro-rx"></block> 已分配给设备： ` * https://_SG6000-CN_Controller_IP_:8443*`</block>
  <block id="acb67fba627fa95707ed1eb195bb4ba3" category="summary">要增加存储容量，您可以向 StorageGRID 系统中部署的 SG6060 添加一个或两个扩展架。</block>
  <block id="7adedd5165bb23901a8b93ba3c4c2dd1" category="paragraph">要增加存储容量，您可以向已部署在 StorageGRID 系统中的 SG6060 添加一个或两个扩展架。</block>
  <block id="da90120d5af4b71424876a1a389590ff" category="list-text">您必须运行 StorageGRID 11.4 或更高版本。</block>
  <block id="1f72b27f7dc1b99b0c0b960e4f12623c" category="list-text">每个扩展架都有扩展架和两根 SAS 缆线。</block>
  <block id="ab7dbf3a405bd7c4560d47cf5aaadca8" category="list-text">您已将要在数据中心中添加扩展架的存储设备物理定位。</block>
  <block id="3d5df7344fd47302b622e2acc23e085c" category="paragraph">要添加扩展架，请执行以下高级步骤：</block>
  <block id="fedd411fd84a0f95b18d83ef8de88e65" category="list-text">在机柜或机架中安装硬件。</block>
  <block id="4a8b323005b53524103a972bf0b1b951" category="list-text">将 SG6060 置于维护模式。</block>
  <block id="ec71b514e127d293fe6da65f332b73e8" category="list-text">将扩展架连接到 E2860 控制器架或其他扩展架。</block>
  <block id="72f13c39c453183177f15456ae214312" category="list-text">使用 StorageGRID 设备安装程序启动扩展</block>
  <block id="20419a369a52afd370534c1d7f904fca" category="list-text">请稍候，直到配置完新卷为止。</block>
  <block id="a4d11518c31cab6834d1726eb134d107" category="paragraph">每个设备节点为一个或两个扩展架完成操作步骤 所需时间应至少为一小时。为了最大限度地减少停机时间，以下步骤将指导您在将 SG6060 置于维护模式之前安装新的扩展架和驱动器。每个设备节点的其余步骤大约需要 20 到 30 分钟。</block>
  <block id="54589a5eff9757c291e7cb979da1e06f" category="list-text">按照说明将 60 个驱动器磁盘架安装到机柜或机架中。</block>
  <block id="298be31759dabac64b04cc97ccb8fe54" category="paragraph"><block ref="298be31759dabac64b04cc97ccb8fe54" category="inline-xref-macro-rx"></block></block>
  <block id="5b53cd20842f109d53e1ec9a8c594aa3" category="list-text">按照说明安装驱动器。</block>
  <block id="43df41d732d4d9ab802e91976b6ca048" category="paragraph"><block ref="43df41d732d4d9ab802e91976b6ca048" category="inline-xref-macro-rx"></block></block>
  <block id="3712aa2edaa7d712110afd1e47829ed4" category="inline-xref-macro">将 SG6000-CN 控制器置于维护模式</block>
  <block id="8c4a117735a54e80e7be3f79f8676783" category="list-text">在网格管理器中， <block ref="0d43facf6d3cd37aef94a0e71169150a" category="inline-xref-macro-rx"></block>。</block>
  <block id="9e7c6b8296a14ab81bd940b0e45cff13" category="list-text">将每个扩展架连接到 E2860 控制器架，如图所示。</block>
  <block id="27691a0f633587484f0f94ad4c1b4c0d" category="paragraph">此图显示了两个扩展架。如果只有一个，请将 IOM A 连接到控制器 A ，并将 IOM B 连接到控制器 B</block>
  <block id="cd884c8f683d29c77026a01e74aed448" category="image-alt">SG6060 扩展架连接</block>
  <block id="a74e23cd9c9cc32b49d14df182179d73" category="paragraph">SG6000-CN</block>
  <block id="fd4d5aa37e119ed64d7d949da7e29cd6" category="paragraph">E2860 控制器架</block>
  <block id="595df28a8a4a9361a6231a9d84e8cd08" category="paragraph">控制器 A</block>
  <block id="a9e70fa35de61f4ac25cc4bcd706a55d" category="paragraph">控制器 B</block>
  <block id="8a17e91704b7947c0cdbc02b59638f3c" category="paragraph">扩展架 1</block>
  <block id="6ecc887e2c5c7d183e70cb57fb6fe3bd" category="paragraph">扩展架 1 的 IOM A</block>
  <block id="c8ff78962ba853baa9b45da6967486be" category="paragraph">扩展架 1 的 IOM B</block>
  <block id="9bbaa4702e38c757d08ed3ef28d43c4e" category="paragraph">扩展架 2.</block>
  <block id="0c11858a1a4f020214951d1884d05c07" category="paragraph">扩展架 2 的 IOM A</block>
  <block id="d324a9b0eec41c08d29a526acf5111d2" category="paragraph">扩展架 2 的 IOM B</block>
  <block id="02d66d4ca379192109765a8f84dd4fe6" category="list-text">连接电源线并为扩展架通电。</block>
  <block id="376efa4f57eb312068d89799bee214d5" category="list-text">将电源线连接到每个扩展架中的两个电源设备中的每个设备。</block>
  <block id="6a92db28b8ce88efcd04a4ab16ca256c" category="list-text">将每个扩展架中的两条电源线连接到机柜或机架中的两个不同 PDU 。</block>
  <block id="049a6ae202eafa3cbc263dd9ad6dadc3" category="list-text">打开每个扩展架的两个电源开关。</block>
  <block id="35a79182a56cf7b6a5c7f17b651e577a" category="list-text">首次启动时，扩展架中的风扇可能会发出很大的声音。启动期间发出较大的噪音是正常的。</block>
  <block id="74ebcbaf6455d0bcd9e4bb9ee4a1e5f2" category="list-text">监控 StorageGRID 设备安装程序的主页页面。</block>
  <block id="af67f8a003327c9eebf3ca126d6cb15e" category="paragraph">大约五分钟后，扩展架将完成启动，系统会检测到这些扩展架。主页页面将显示检测到的新扩展架数量，并且已启用开始扩展按钮。</block>
  <block id="957964cae6043f2330c8f38caea3a302" category="paragraph">屏幕截图显示了主页上可能显示的消息示例，具体取决于现有或新扩展架的数量，如下所示：</block>
  <block id="76cc5756e68583a87585e18328dacff2" category="list-text">此页面顶部圈出的横幅指示检测到的扩展架总数。</block>
  <block id="07f9fb3c25d4ea7d4a0c16903911a5c3" category="list-text">此横幅将指示扩展架的总数，无论是已配置和部署磁盘架，还是新磁盘架和未配置磁盘架。</block>
  <block id="ab80f29a225d89c0651a4e8cb849f351" category="list-text">如果未检测到扩展架，则不会显示横幅。</block>
  <block id="19e11cd215ec0245efaf88df78d9438c" category="list-text">页面底部圆圈内的消息表示扩展已准备就绪，可以启动。</block>
  <block id="1d130ab24341487fcdc1f035fbdedcd9" category="list-text">此消息指示 StorageGRID 检测到的新扩展架数量。"`Attached` " 表示检测到磁盘架。"`Unconfigured` " 表示磁盘架为新磁盘架，尚未使用 StorageGRID 设备安装程序进行配置。</block>
  <block id="1ed92d9dcc4dd6a40d6d43457510e867" category="admonition">此消息不包含已部署的扩展架。它们包含在页面顶部横幅的计数中。</block>
  <block id="86eb9f3adb90f037bdbc6d9f41b0a333" category="list-text">如果未检测到新的扩展架，则不会显示此消息。</block>
  <block id="d7d78702f25ae6e640f0e9ead01e70e3" category="image-alt">扩展架安装</block>
  <block id="6142d5c437d47108ffff21767d02e7c7" category="list-text">如有必要，请解决主页上的消息中所述的任何问题。</block>
  <block id="5dbe6dd58ce8816fc5c10017f5b548e0" category="paragraph">例如，使用 SANtricity 系统管理器解决任何存储硬件问题。</block>
  <block id="d3eecd11ceabfc66a157208681c6212a" category="list-text">验证主页上显示的扩展架数量是否与要添加的扩展架数量匹配。</block>
  <block id="185338fc6f177259971fd129ea421a6a" category="admonition">如果未检测到新的扩展架，请验证它们是否已正确布线并已启动。</block>
  <block id="25d87e8b2a6c2915dc06f4e9b9b88f03" category="list-text">[start_expand]] 单击 * 启动扩展 * 以配置扩展架并使其可用于对象存储。</block>
  <block id="6b2dcdd7d0c3d8607ad63fa1ffa831c6" category="list-text">监控扩展架配置的进度。</block>
  <block id="0b1a45d06edabb3a0d30f19e32313f3b" category="paragraph">进度条会显示在网页上，就像在初始安装期间一样。</block>
  <block id="423e88fbd5a2dc0f512f8a2aab010253" category="image-alt">监控扩展架配置</block>
  <block id="8e3fc62e7ff2327410f5fd196fe8eb39" category="paragraph">配置完成后，设备将自动重新启动以退出维护模式并重新加入网格。此过程可能需要长达 20 分钟。</block>
  <block id="22c78d9f214674f57243dd456395e62d" category="inline-xref">扩展架配置</block>
  <block id="8a0be3414d4074a33b893709085c355f" category="admonition">要在扩展架配置失败时重试此配置，请转到 StorageGRID 设备安装程序，选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择 * 重新启动至维护模式 * 。节点重新启动后，重试 <block ref="4cfad85fe4ed7cd2abe5a1a25adfc10c" category="inline-xref-macro-rx"></block>。</block>
  <block id="6337530d62799abe1e3e579f1a39fba6" category="paragraph">重新启动完成后， * 任务 * 选项卡将显示以下屏幕截图：</block>
  <block id="81e9272bb451de8aaf7b16d82b9f0208" category="image-alt">重新启动完成</block>
  <block id="a6b3ba0004b2a9a8396f15a73114a062" category="list-text">验证设备存储节点和新扩展架的状态。</block>
  <block id="d41e42ffcf5c17c2e784f16f968461fe" category="list-text">在网格管理器中，选择 * 节点 * 并验证设备存储节点是否具有绿色复选标记图标。</block>
  <block id="b2df8ba4f2a22836a145d89b4bfc1980" category="paragraph">绿色复选标记图标表示没有处于活动状态的警报，并且节点已连接到网格。有关节点图标的问题描述 ，请参见有关 StorageGRID 监控和故障排除的说明。</block>
  <block id="14596e3f470c9db656d16ab3f2b12a1e" category="list-text">选择 * 存储 * 选项卡，然后确认添加的每个扩展架的对象存储表中显示了 16 个新的对象存储。</block>
  <block id="22c69228c329b5116431e025cc44e63d" category="list-text">验证每个新扩展架的磁盘架状态是否为标称，配置状态是否为已配置。</block>
  <block id="f4406a4b213b850cc6c85e8e5a09781e" category="inline-xref-macro">打开包装箱（ SG6000 ）</block>
  <block id="32bf93ca687494bdc05f9bc53fd7dbf8" category="paragraph"><block ref="32bf93ca687494bdc05f9bc53fd7dbf8" category="inline-xref-macro-rx"></block></block>
  <block id="8195699eb05b1931af2372ca884528a5" category="summary">您必须在机柜或机架中为 EF570 控制器架安装一组导轨，然后将阵列滑入导轨。</block>
  <block id="7c625afd89b0c099ec1951a8aa25b999" category="doc">SGF6024 ：将 24 个驱动器磁盘架安装到机柜或机架中</block>
  <block id="65ce835407377465c53abd7d5d04177a" category="admonition">满载的磁盘架重约 52 磅（ 24 千克）。需要两个人才能安全移动机箱。</block>
  <block id="1947532e92c2ba3b594f3fbea6eca43a" category="list-text">小心地将机箱完全滑入导轨上。</block>
  <block id="01ac77782ef53a366dee0f656747c9f1" category="admonition">您可能需要调整导轨，以确保机箱一直滑入导轨。</block>
  <block id="f8255399c64ebc206e91fc989aa9d1f2" category="admonition">安装完机箱后，请勿在导轨上放置其他设备。导轨的设计不会增加重量。</block>
  <block id="6da2bc076a75870fcb82b52606f04eab" category="admonition">如果适用，您可能需要卸下磁盘架端盖或系统挡板，以将机箱固定到机架柱上；如果需要，则需要在完成操作后更换端盖或挡板。</block>
  <block id="a35f0fa82061fea64908f63dfab219b2" category="list-text">通过安装支架（预装在机箱正面的任意一侧），机架或系统机柜上的孔以及导轨正面的孔插入两个 M5 螺钉，将机箱固定到机箱或机架和导轨的正面。</block>
  <block id="7c28c4c3cf76b8e30e722e12ecef512a" category="image-alt">将磁盘架固定到机柜前部</block>
  <block id="7ed4cb055b3cff38213edc33fa7b8373" category="list-text">通过将两个 M5 螺钉插入机箱支架和导轨套件支架，将机箱固定到导轨背面。</block>
  <block id="bd06c61c8844792f7e753d0089eab5e9" category="list-text">如果适用，请更换磁盘架端盖或系统挡板。</block>
  <block id="b22c396bbd4c1698508bca94ede49c88" category="image-alt">更换磁盘架端盖</block>
  <block id="4480bda4e1c1646510eb563dc3767d53" category="summary">您必须在机柜或机架中为 SG6000-CN 控制器安装一组导轨，然后将控制器滑入导轨。</block>
  <block id="8fa9da0daa938951f810b1019cb5afae" category="list-text">您已安装 E2860 控制器架和驱动器或 EF570 控制器架。</block>
  <block id="68a9da8ccd6fd1e485fe708d994a9f57" category="list-text">在机柜或机架中安装的两个导轨上，展开导轨的可移动部分，直到听到卡嗒声为止。</block>
  <block id="49f1193d6a13cfa3b000f3649146c3c6" category="image-alt">SG6000 导轨</block>
  <block id="2eaf1d2b54350dd3f737f59ccc5990e1" category="list-text">将 SG6000-CN 控制器插入导轨。</block>
  <block id="985d6ddc26491fa6bd9f8fb0831d3670" category="list-text">将控制器滑入机柜或机架。</block>
  <block id="833f89bbdd6ee386cee43c592cf57294" category="paragraph">如果无法再移动控制器，请拉动机箱两侧的蓝色闩锁，将控制器完全滑入。</block>
  <block id="16b9b000fdc71d821a9201bba0890d6c" category="image-alt">在导轨上滑动 SG6000</block>
  <block id="b573065690170eaeaa90604429e37b43" category="admonition">在打开控制器电源之前，请勿连接前挡板。</block>
  <block id="0319b5ad9cf06584751a45bda10d092b" category="list-text">拧紧控制器前面板上的固定螺钉，将控制器固定在机架中。</block>
  <block id="a422f54a13a7a2044926b689c6c4555d" category="image-alt">SG6060 机架固定螺钉</block>
  <block id="d01019f61d595adbc8d00f61e184858f" category="summary">每个型号的 StorageGRID SG6000 设备都在 1U 机箱中包含一个 SG6000-CN 计算控制器，并在 2U 或 4U 机箱中包含双工 E 系列存储控制器，具体取决于型号。查看图表，了解有关每种控制器类型的更多信息。</block>
  <block id="405afbd13d4a0eaffae68c53cfe81111" category="doc">SG6000 设备中的控制器</block>
  <block id="b84293444f12b834b9fa1ad569de6024" category="section-title">所有设备： SG6000-CN 计算控制器</block>
  <block id="865099ec6b80d0ba3c430ebe2361f33d" category="list-text">为设备提供计算资源。</block>
  <block id="b99377cc8f2a4dda95d808006015911d" category="admonition">设备上未预安装 StorageGRID 软件。部署设备时，系统会从管理节点检索此软件。</block>
  <block id="84ec95bb7319389d94d8e8c234580143" category="list-text">连接到 E 系列存储控制器并作为启动程序运行。</block>
  <block id="bfb69f0512e28ea47f652a7c1bf6cf8e" category="paragraph">此图显示了 SG6000-CN 背面的连接器。</block>
  <block id="16dd76556fb0806842055ddf621f396a" category="image-alt">SG6000-CN 背面连接器</block>
  <block id="f4a7bf0f1a129811403f7145541af068" category="paragraph">互连端口 1-4</block>
  <block id="4bd9ad11114d8ffa64bf62518c7f44ae" category="paragraph">16 Gb/ 秒光纤通道（ FC ），具有集成光纤</block>
  <block id="1bdf9a4a282f63450411eb59a7c7cb71" category="paragraph">将 SG6000-CN 控制器连接到 E2800 控制器（每个 E2800 有两个连接）。</block>
  <block id="fbda6a09a9a62a55a08d0f4b97bfc8be" category="paragraph">10-GbE 或 25-GbE ，取决于缆线或 SFP 收发器类型，交换机速度和已配置的链路速度</block>
  <block id="a85d09b01989016235d0928d9ba672d7" category="paragraph">BMC 管理端口</block>
  <block id="8eb57bd766c2212ba9e6148642c48bf5" category="paragraph">连接到 SG6000-CN 基板管理控制器。</block>
  <block id="db4371197d1f58c7d4edb7dcd0565ad1" category="list-text">VGA</block>
  <block id="b6f2e560985de21b50cf9a5ff519db48" category="list-text">串行， 115200 8-N-1</block>
  <block id="7aca5ec618f7317328dcd7014cf9bdcf" category="list-text">USB</block>
  <block id="cd1945b4e55febada41a54062332e518" category="paragraph">管理网络端口 1</block>
  <block id="7dcb91ae6827e98921cddb2719955726" category="paragraph">将 SG6000-CN 连接到 StorageGRID 管理网络。</block>
  <block id="8598d4674dd2d2aadc4b6957acabdf9f" category="paragraph">管理网络端口 2</block>
  <block id="2a3bafd972ec756b17688f2b56c8be67" category="section-title">SG6060 ： E2800 存储控制器</block>
  <block id="ec30bf41447cd5cd6f18f44e3a83b08b" category="list-text">两个控制器，用于提供故障转移支持。</block>
  <block id="2836d40e657529ad7d3c13137a43cebd" category="list-text">管理驱动器上的数据存储。</block>
  <block id="3839f4cb7454d43a4539295d8299bf77" category="list-text">在双工配置中用作标准 E 系列控制器。</block>
  <block id="a953a329fc744127602073562f457be2" category="list-text">包括 SANtricity 操作系统软件（控制器固件）。</block>
  <block id="522b01d124c50baac86e88e66f5f6a1a" category="list-text">包括用于监控存储硬件和管理警报的 SANtricity System Manager ， AutoSupport 功能和驱动器安全功能。</block>
  <block id="0d5562f5cade2a3439f8b83435d984fc" category="list-text">连接到 SG6000-CN 控制器并提供对存储的访问权限。</block>
  <block id="8e3585b7f4314dc92fcf438837d073f2" category="paragraph">此图显示了每个 E2800 控制器背面的连接器。</block>
  <block id="cf034a8a84541f390005423227849043" category="paragraph">16 Gb/ 秒 FC 光纤 SFPa</block>
  <block id="8394363e80acb9755f238cad7a4d5402" category="cell">将每个 E2800 控制器连接到 SG6000-CN 控制器。SG6000-CN 控制器有四个连接（每个 E2800 有两个连接）。</block>
  <block id="079bec55222e406ad39f5777811ade1f" category="paragraph">驱动器扩展端口 1 和 2</block>
  <block id="37db39648a2ed2aba413302ba8035ec4" category="paragraph">将端口连接到扩展架中 IOM 上的驱动器扩展端口。</block>
  <block id="2f01d24575983344210b606dbb2670b1" category="section-title">SGF6024 ： EF570 存储控制器</block>
  <block id="f48b55f7bcef4e2157da8308d2411529" category="list-text">连接到 SG6000-CN 控制器并提供对闪存存储的访问权限。</block>
  <block id="9dc142468c08fb540df8b94aa7424263" category="paragraph">此图显示了每个 EF570 控制器背面的连接器。</block>
  <block id="51bf5e3b606b375657946ec6a33a42a6" category="image-alt">EF570 背面连接器</block>
  <block id="f46b7bf4492adfa8baef30c532b31d33" category="cell">将每个 EF570 控制器连接到 SG6000-CN 控制器。SG6000-CN 控制器有四个连接（每个 EF570 有两个连接）。</block>
  <block id="df5630384bcf0214f08e7b04b1967fca" category="paragraph">未使用。SGF6024 设备不支持扩展驱动器架。</block>
  <block id="7d0b5875dac650aad88f9715306c5f50" category="list-text">端口 1 连接到通过浏览器访问 SANtricity 系统管理器的网络。</block>
  <block id="c68bdabd67b859d6f5804afd41951e94" category="section-title">SG6060 ：用于可选扩展架的输入 / 输出模块</block>
  <block id="d5050ec1482dc1933b90e957d1feb1c2" category="paragraph">扩展架包含两个输入 / 输出模块（ IOM ），这些模块连接到存储控制器或其他扩展架。</block>
  <block id="4344e18eb87fde0e731aad92bc334609" category="image-alt">IOM 背面</block>
  <block id="83efb4793298cf1be44c56f318e82d18" category="paragraph">驱动器扩展端口 1-4</block>
  <block id="ff6dc47a6f325130d571eb2758d7092a" category="paragraph">将每个端口连接到存储控制器或其他扩展架（如果有）。</block>
  <block id="86bab6abe080a31094fa44356ea1db0a" category="doc">配置 StorageGRID IP 地址</block>
  <block id="43f5693ac3df7916312545691d59cddd" category="inline-xref-macro">有关更改 SG6000-CN 控制器的链路配置的说明</block>
  <block id="e4190f6304baaf2733d82a43b1c5645e" category="paragraph">如果要更改链路配置，请参见 <block ref="67dfc104eb2a1f399f48581763e6ff9b" category="inline-xref-macro-rx"></block>。</block>
  <block id="0f22d3c4dad1ddecef2e3527a53c0ad5" category="list-text">要配置管理网络，请在页面的 * 管理网络 * 部分中选择 * 静态 * 或 * DHCP * 。</block>
  <block id="910702ecff0fa11c3c8b6f934b97e89f" category="summary">内部硬件维护完成后，重新安装控制器盖板。</block>
  <block id="609d8c69cda307d4a1636a40f0ab9a68" category="doc">重新安装 SG6000-CN 控制器盖板</block>
  <block id="3c2b84734b5b2780f4eff533b1299b90" category="paragraph">您已完成控制器内部的所有维护过程。</block>
  <block id="be22413b6d83dfa62f58640777826874" category="list-text">打开主机盖闩锁后，握住机箱上方的主机盖，并将顶部主机盖闩锁中的孔与机箱中的销对齐。对齐后，将其放低到机箱上。</block>
  <block id="92f2025983d589506ff743650278422a" category="image-alt">SG6060 盖板闩锁对齐销</block>
  <block id="f2f4d90ef6566a91f0d4ee0f2bd0c0cf" category="list-text">向前和向下旋转机箱盖闩锁，直到其停止，并且机箱盖完全就位到机箱中。确认外盖前边缘没有间隙。</block>
  <block id="9e73dc97befd22c4d436b8b7c3d116e1" category="paragraph">如果外盖未完全就位，则可能无法将 SG6000-CN 控制器滑入机架。</block>
  <block id="bad1c962977ca3ccc3125850f38447b4" category="list-text">可选：将蓝色塑料闩锁按锁定方向转动四分之一圈，如闩锁上所示，以将其锁定。</block>
  <block id="8c9aa2ff17c9be39be774f2f801730ee" category="paragraph">在机柜或机架中重新安装控制器。</block>
  <block id="edf186824b1809c3d83da5c0a4e5ecef" category="summary">SG6000-CN 控制器上的 10/225-GbE 网络端口支持网格网络和客户端网络连接的固定端口绑定模式或聚合端口绑定模式。</block>
  <block id="59344e536795c7ab6903f2710ec2d4ea" category="image-alt">固定端口绑定模式</block>
  <block id="44e9b02ca2eaae82ee6620298e1e8d5d" category="paragraph">使用固定端口绑定模式时，可以使用主动备份模式或链路聚合控制协议模式（ LACP 802.3ad ）绑定端口。</block>
  <block id="9cd50c791a960176ad8959a51bab19b9" category="list-text">在主动备份模式（默认）下，一次只有一个端口处于活动状态。如果活动端口发生故障，其备份端口会自动提供故障转移连接。端口 4 为端口 2 （网格网络）提供备份路径，端口 3 为端口 1 （客户端网络）提供备份路径。</block>
  <block id="9fadb7aef0a90d4de8ad7f873bf8b89a" category="admonition">如果不需要冗余连接，则每个网络只能使用一个端口。但是，请注意，安装 StorageGRID 后，网格管理器中将触发警报，指示链路已关闭。由于此端口会有目的断开连接，因此您可以安全地禁用此警报。</block>
  <block id="cfce7be9a0232a491f4687c7b02cc45a" category="paragraph">在网格管理器中，选择 * 警报 * &gt; * 规则 * ，选择规则，然后单击 * 编辑规则 * 。然后，取消选中 * 已启用 * 复选框。</block>
  <block id="e60f782083944787db30dc2520f798a3" category="image-alt">聚合端口绑定模式</block>
  <block id="658a9f4de5f7af284e7bb13dc74702fc" category="paragraph">如果您计划使用聚合端口绑定模式：</block>
  <block id="eb0a3d70250c09aed74bc4410ebf863c" category="paragraph">StorageGRID 设备安装程序 API 可通过 HTTPS 从 ` Controller_IP_ ： 8443` 访问。</block>
  <block id="6c52ea6d30c4c2e79bc72f0e2774a601" category="doc">对连接问题进行故障排除（ SG6000 ）</block>
  <block id="511bc26995332ccd1bc373f2533ac9e7" category="inline-xref-macro">访问 SANtricity 系统管理器</block>
  <block id="c099b1dce317d386e4ef5c8ca503ad36" category="list-text"><block ref="a8d0f7515eef4d0ee772e47e8c9a6753" category="inline-xref-macro-rx"></block>。</block>
  <block id="12247f8ffbcfd7f5d62b1fd3c0e487fd" category="summary">在 StorageGRID 设备安装程序运行期间，您可能需要重新启动 SG6000-CN 控制器。例如，如果安装失败，您可能需要重新启动控制器。</block>
  <block id="29a27db620138eee23135c0a44f64c70" category="doc">在 StorageGRID 设备安装程序运行期间重新启动 SG6000-CN 控制器</block>
  <block id="0f7b5a8c753122ba5f8f085b28a32ca2" category="paragraph">只有在 SG6000-CN 控制器运行 StorageGRID 设备安装程序时，此操作步骤 才适用。安装完成后，此步骤将不再起作用，因为 StorageGRID 设备安装程序不再可用。</block>
  <block id="0f6ea7c46381331636d17142aee5ff44" category="summary">可以打开控制器正面和背面的蓝色标识 LED ，以帮助在数据中心中找到设备。</block>
  <block id="003e934959a768c3d7fbe857cfb70989" category="paragraph">您必须具有要标识的控制器的 BMC IP 地址。</block>
  <block id="f33a24fc68a182cd20809d4f943f7acc" category="list-text">选择 * 服务器标识 * 。</block>
  <block id="ef138133a89c907d3dd20e08c11cc132" category="list-text">选择 * 开 * ，然后选择 * 执行操作 * 。</block>
  <block id="053135ac7618476fbec884dbb178d1da" category="image-alt">打开 BMC 中的控制器识别 LED</block>
  <block id="21164d0deb1ca811ddaef4c00fe3050f" category="paragraph">控制器正面（如图所示）和背面的蓝色标识 LED 亮起。</block>
  <block id="f9d12aeb5c3b86ad770a497bca2ee3d5" category="admonition">如果控制器上安装了挡板，则可能很难看到正面的识别 LED 。</block>
  <block id="8a0f8e06a8d6573707da158fafb5b33c" category="paragraph">要关闭控制器识别 LED ，请执行以下操作：</block>
  <block id="0b7e06cb87cbe13471b0422326371ce0" category="list-text">从控制器 BMC 界面中，选择 * 服务器标识 * ，选择 * 关闭 * ，然后选择 * 执行操作 * 。</block>
  <block id="719ddb93de43bfe4e01139d9a3350db6" category="paragraph">控制器正面和背面的蓝色标识 LED 熄灭。</block>
  <block id="78b7a59237168cba2b9422dfc522e8d7" category="image-alt">正面识别 LED —熄灭</block>
  <block id="8b91925038f94e789ca78c846e8f2b5a" category="paragraph"><block ref="8b91925038f94e789ca78c846e8f2b5a" category="inline-xref-macro-rx"></block></block>
  <block id="8aff63663f952cf85f671f9abdcbf1d1" category="summary">在为设备接通电源时， BMC 会为 SG6000-CN 控制器记录一系列启动代码。您可以通过多种方式查看这些代码。</block>
  <block id="6f8d0df5d2b0b257c5456f28a8205ec3" category="list-text">如果您要使用 LAN 上串行（ Serial Over LAN ，故障转移），则具有使用 IPMI 故障转移控制台应用程序的经验。</block>
  <block id="2909ea4c8a062c2fbe59cb9894221a82" category="list-text">选择以下方法之一以查看设备控制器的启动代码，并收集所需的设备。</block>
  <block id="4c3880bb027f159e801041b1021e88e8" category="cell">方法</block>
  <block id="b2005eebb8110c1ded9ca09c2058487c" category="cell">所需设备</block>
  <block id="6b83ea39f7e5d0ed32e45246bf94131d" category="paragraph">VGA 控制台</block>
  <block id="6eff7dbd75151106d119733bf2ba96cc" category="list-text">支持 VGA 的显示器</block>
  <block id="ed5c5534d16a583509454725cdb40d78" category="list-text">VGA 缆线</block>
  <block id="d9817ded489aaa35d8ba40ab33bdfd4b" category="paragraph">KVM</block>
  <block id="8efb9137d15cd8ec28dc04ac2f559635" category="list-text">RJ-45 缆线</block>
  <block id="0626485f170944286cfbe3e303f2f1f5" category="paragraph">串行端口</block>
  <block id="54123f7bdd46ccbe86d70a2099d28daf" category="list-text">DB-9 串行缆线</block>
  <block id="33b1af1cee3edcd8ca889e64142ea9e9" category="list-text">虚拟串行终端</block>
  <block id="46ba9eba2f4b52116787dfa6fb4278e3" category="paragraph">解决</block>
  <block id="b6c942ff4a11a67ef706b05a1040d4f2" category="list-text">如果您使用的是 VGA 控制台，请执行以下步骤：</block>
  <block id="33aaf03997b6414a40d2ebdf6172e3ff" category="list-text">将支持 VGA 的显示器连接到设备背面的 VGA 端口。</block>
  <block id="45f34c0581a4a1e030fa2183476e0387" category="list-text">查看监控器上显示的代码。</block>
  <block id="38d551a7e79c023467be088cf490fbca" category="list-text">如果您使用的是 BMC KVM ，请执行以下步骤：</block>
  <block id="a34806ffdb24a585b0f89faf92c76720" category="list-text">连接到 BMC 管理端口并登录到 BMC Web 界面。</block>
  <block id="0fb635f91c349240932d5818391ed432" category="list-text">选择 * 远程控制 * 。</block>
  <block id="bba407efe4582c487fe634c20dade805" category="list-text">启动 KVM 。</block>
  <block id="f859a39130a3696f6253ff0ef1f06131" category="list-text">在虚拟监控器上查看代码。</block>
  <block id="7f4b94d5a4901ed63b7dd0eac74014ce" category="list-text">如果您使用的是串行端口和终端，请执行以下步骤：</block>
  <block id="114f2dd347c68bd8b5310e02290324cd" category="list-text">连接到设备背面的 DB-9 串行端口。</block>
  <block id="f7ebaccb557af83d6ab6ef8ced3118f4" category="list-text">使用设置 `115200 8-N-1` 。</block>
  <block id="532f1eabdf9572d662db693bd6024975" category="list-text">查看通过串行终端打印的代码。</block>
  <block id="1c50599d41fa9baecb0f79415f317fa0" category="list-text">如果您使用的是 SOL ，请执行以下步骤：</block>
  <block id="3ccdf5c6e76f58fd6100f7ed8e88affc" category="list-text">使用 BMC IP 地址和登录凭据连接到 IPMI SOL 。</block>
  <block id="2f5fe9cbd31fff70f4c7b7071ce4abf3" category="admonition">如果未更改 BMC root 帐户密码，则出厂默认值可能为 "calvin" 。</block>
  <block id="837cfb97b4b28245eab4fffee9afc6d7" category="paragraph">`ipmitool -i lanplus -H _BMC_Port_IP_ -U root -P _Password_ sole activate`</block>
  <block id="8616d487e1c6ff81c8864e2a135bbe1e" category="list-text">查看虚拟串行终端上的代码。</block>
  <block id="04c09c27e0c49faff7ca3ce108551c35" category="list-text">使用下表查找您的设备的代码。</block>
  <block id="53dce4e5bc1c7336ff3f54c0db8543c3" category="paragraph">系统正在检查是否需要更新网络接口卡（ Network Interface Card ， NIC ）固件。</block>
  <block id="6c7c9ddf0ab180feaee9c6cec3bd4736" category="paragraph">仅适用于设备存储节点：</block>
  <block id="63f8a311a41dff061b22199426592929" category="paragraph">系统正在等待与存储控制器建立连接并与 SANtricity 操作系统同步。</block>
  <block id="e4cddc7e5a58468b488cf3f2451703e6" category="paragraph">* 注： * 如果启动操作步骤 在此阶段未进展，请执行以下步骤：</block>
  <block id="c83a97463641415ca4468eb2453da3e0" category="list-text">确认 SG6000-CN 控制器与两个存储控制器之间的四根互连缆线已牢固连接。</block>
  <block id="1ffbc6cf88ad1c1128100c784ae5a2d9" category="list-text">根据需要更换一根或多根缆线，然后重试。</block>
  <block id="329b24a601562c9ed30b66f0b1fbe689" category="summary">硬件维护完成后，将控制器重新安装到机柜或机架中。</block>
  <block id="1173db4bffe50d0e64a698bea8cb3c84" category="paragraph">您已重新安装控制器盖板。</block>
  <block id="f7d0d9799835e3a36b8f42fdce73b04b" category="paragraph"><block ref="f7d0d9799835e3a36b8f42fdce73b04b" category="inline-xref-macro-rx"></block></block>
  <block id="a36ce381314742447954d6e12815ce42" category="list-text">按下蓝色导轨可同时释放两个机架导轨，并将 SG6000-CN 控制器滑入机架，直到其完全就位。</block>
  <block id="d6672c22f48df488e2fa9c24deaeb897" category="list-text">重新连接控制器数据缆线以及任何 SFP+ 或 SFP28 收发器。</block>
  <block id="ab1b85822af365736f8dd59e9a34a078" category="paragraph"><block ref="ab1b85822af365736f8dd59e9a34a078" category="inline-xref-macro-rx"></block></block>
  <block id="3a356db645500ec8236bc00114e2f4c3" category="list-text">重新连接控制器电源线。</block>
  <block id="9dc9adbcfc0d842e5ca6e833210103ef" category="inline-xref-macro">连接电源线并接通电源（ SG6000 ）</block>
  <block id="83e987cca99257d467a2db9a6735f329" category="paragraph"><block ref="83e987cca99257d467a2db9a6735f329" category="inline-xref-macro-rx"></block></block>
  <block id="3f1468a9feb95c8afb701c2f92f9c635" category="paragraph">可以重新启动控制器。</block>
  <block id="9870da16b49f528c04ac7817f4b125df" category="summary">如果发生硬件问题，您可能需要更换存储控制器架中的组件。</block>
  <block id="36312847d9ed62c091364066df9b573f" category="doc">更换存储控制器架中的硬件组件</block>
  <block id="9972e3c27a30d4e8595ff51251aa5042" category="list-text">您已在物理上找到要在数据中心中更换存储架硬件组件的存储设备。</block>
  <block id="c1f79e30a2fb4262aa6c6654428a9c77" category="paragraph">要更换存储控制器中的电池，请参见这些说明中有关更换存储控制器的说明。这些说明介绍了如何从设备中卸下控制器，从控制器中取出电池，安装电池以及更换控制器。</block>
  <block id="54375b801c1338b72975b4057646f2d4" category="paragraph">有关控制器架中其他现场可更换单元（ FRU ）的说明，请访问 E 系列系统维护流程。</block>
  <block id="c2722d3c32348b7adce5bfed9f61449a" category="cell">请参见说明</block>
  <block id="07f4d2a10bd82d72a5d65f382db25d2b" category="paragraph">StorageGRID （以下说明）：更换存储控制器</block>
  <block id="e8ced6b6f8edec510f4bdfce8d8d4ce8" category="paragraph">E 系列：</block>
  <block id="45e5b95f027a05014cb568fd518ffccb" category="list-text">更换驱动器（ 60 个驱动器）</block>
  <block id="5ee5097b71b0657d7279a81c788216c2" category="list-text">更换驱动器（ 12 个或 24 个驱动器）</block>
  <block id="4a17f9505c41e2b9d2fdf8e21809e428" category="paragraph">E 系列</block>
  <block id="607f7947f757dd2fb95ff0346170a6e2" category="list-text">更换电源箱（ 60 个驱动器）</block>
  <block id="194a0f39b2a45d9c0516cf9966755a1b" category="list-text">更换电源（ 12 个或 24 个驱动器）</block>
  <block id="35b941f9a67a41fd422633db90b1f48e" category="paragraph">风扇箱（仅限 60 驱动器架）</block>
  <block id="bc3283cd09b54cad63696bdd4f8bbc8c" category="paragraph">E 系列：更换风扇箱（ 60 个驱动器）</block>
  <block id="6161432e89c05e76c7510733582f3867" category="paragraph">驱动器抽盒（仅限 60 驱动器磁盘架）</block>
  <block id="650df2465678e01902f888e7fdea36d0" category="paragraph">E 系列：更换驱动器抽盒（ 60 个驱动器）</block>
  <block id="4e7c4e4da7254b502bbcf15c304aee4a" category="paragraph"><block ref="4e7c4e4da7254b502bbcf15c304aee4a" category="inline-xref-macro-rx"></block></block>
  <block id="d2e24c0452a70671ccaf02376a85e071" category="admonition">如果要将存储节点设备部署为节点克隆目标，请在此停止部署过程，然后继续执行节点克隆操作步骤 的恢复和维护。+<block ref="a0762e2dd5f1d14d4710e6c0139de3cc" category="inline-xref-macro-rx"></block></block>
  <block id="0693a3f092c14c286ce669678917c921" category="summary">SG6000-CN 控制器具有两个电源以实现冗余。如果其中一个电源发生故障，您必须尽快更换，以确保计算控制器具有冗余电源。</block>
  <block id="5b053a54554aa8c688ab4621828ddb08" category="doc">更换 SG6000-CN 控制器中的电源</block>
  <block id="e2e60b5db0c0ec87dc434da0da8dc01b" category="inline-xref-macro">更换 SG6000-CN 控制器中的两个电源</block>
  <block id="40eebfd26098c15f7cac904965a35397" category="admonition">两个电源的功率必须相同。如果需要更换这两个电源，请参见 <block ref="ee98c1e0c4ca1f53a92cfdc855edfba7" category="inline-xref-macro-rx"></block>。</block>
  <block id="ca75d275bcc17ab6a1083afd9328ffbd" category="list-text">您已卸载替代电源设备。</block>
  <block id="e62a6e9c74cc8f8d497b81dbe10945e6" category="list-text">您已在数据中心中找到要更换电源的控制器。</block>
  <block id="f55189ff6b87c5ad348e1fc80c80c315" category="list-text">您已确认另一个电源已安装且正在运行。</block>
  <block id="5a098c1ea66b7ee6ed8c3c02b7ff10d9" category="paragraph">此图显示了 SG6000-CN 控制器的两个电源设备，可从控制器背面访问这些设备。</block>
  <block id="30bb1f45e39618ba2379d74228c53a44" category="image-alt">带有两个电源的 SG6000-CN 背面</block>
  <block id="32553206a6cb9be2c70369832745793d" category="list-text">从电源拔下电源线。</block>
  <block id="3aa891a56c154d4f987e1134b1b15d34" category="list-text">提起凸轮把手。</block>
  <block id="ecf512f0da385d38fc379ab3641b2988" category="image-alt">提起凸轮把手以卸下 SG6000-CN PSU</block>
  <block id="1d6915469b216b8bb43a1da19788ffc6" category="list-text">按下蓝色闩锁并拉出电源。</block>
  <block id="d32bbbd1fff52ab1d6153b413d7967bf" category="image-alt">卸下 SG6000-CN 电源</block>
  <block id="ade932aeca639b3977473ef3d0d0d362" category="list-text">将替代电源滑入机箱。</block>
  <block id="17419f2a089463e9a106526edda9db79" category="paragraph">在滑入设备时，请确保蓝色闩锁位于右侧。</block>
  <block id="04f581185fd1f4e70cb32fe4dbff5c57" category="image-alt">将电源滑入 SG6000-CN</block>
  <block id="b395f8ec50e221a0118da6a06b9f8e90" category="list-text">向下推凸轮把手以固定电源。</block>
  <block id="ddd80a6df1b760d7f5e35a71783acf45" category="list-text">将电源线连接到电源，并确保绿色 LED 亮起。</block>
  <block id="a4b225b36f969d3caf4f32d007c68c0d" category="summary">为设备接通电源后，您必须配置 StorageGRID 要使用的网络连接。您必须配置 SANtricity 系统管理器，该软件将用于监控控制器架中的存储控制器和其他硬件。此外，还必须确保可以访问 SG6000-CN 控制器的 BMC 接口。</block>
  <block id="23bd7cddef0ed5a5157f0f8d2a949b91" category="list-text">如果设备安装了 StorageGRID 设备安装程序的低级版本，请转到<block ref="3bdb53fde48432d306823cbadbeb2429" category="inline-link-rx"></block>。</block>
  <block id="b96c8101a1845adc76ac9c16a415d845" category="inline-xref-macro">StorageGRID 设备安装程序</block>
  <block id="529146116cab21be755aa42ce831c30c" category="list-text">按照的升级固件页面上的说明进行操作 <block ref="640187a2d1310d31ffb2ad11ebbdbe6d" category="inline-xref-macro-rx"></block> 要执行以下步骤：</block>
  <block id="31b7f4afaff44d97bd4507909ce7925a" category="summary">在安装 StorageGRID 设备之前，您应了解可以将哪些网络连接到此设备。</block>
  <block id="b3cb7d3e58236644372bb2119a623abd" category="doc">查看设备网络连接（ SG6000 ）</block>
  <block id="fea50b5cc2c8e83d78f57c117693eded" category="paragraph">在 StorageGRID 系统中将 StorageGRID 设备部署为存储节点时，您可以将其连接到以下网络：</block>
  <block id="6b1efd964aead0e6f04b4f741107bf8e" category="list-text">* 适用于 SANtricity System Manager* 的管理网络（可选）：通过此网络，您可以访问存储控制器上的 SANtricity System Manager ，从而监控和管理存储控制器架中的硬件组件。此管理网络可以与 StorageGRID 的管理网络相同，也可以是一个独立的管理网络。</block>
  <block id="78207f483fe378531241c36eb1dc883f" category="list-text">SG6000-CN 控制器的 * BMC 管理网络 * （可选）：通过此网络可以访问 SG6000-CN 中的基板管理控制器，从而可以监控和管理 SG6000-CN 控制器中的硬件组件。此管理网络可以与 StorageGRID 的管理网络相同，也可以是一个独立的管理网络。</block>
  <block id="660fc24fc18dd99919bb0bc5149a6c14" category="paragraph">如果未连接可选的 BMC 管理网络，则某些支持和维护过程将更难执行。除非出于支持目的需要，否则您可以使 BMC 管理网络保持未连接状态。</block>
  <block id="ded539e932408569f0fd29c4702c0ed5" category="inline-xref-macro">收集安装信息（ SG6000 ）</block>
  <block id="4dac377cd32893388b1d52cfc2f64809" category="paragraph"><block ref="4dac377cd32893388b1d52cfc2f64809" category="inline-xref-macro-rx"></block></block>
  <block id="f0d23c02a29644ecf1ffce4110e1fd14" category="inline-xref-macro">网络准则</block>
  <block id="d24c9774843ca9ccfb240c74691e5127" category="paragraph"><block ref="d24c9774843ca9ccfb240c74691e5127" category="inline-xref-macro-rx"></block></block>
  <block id="383e4fc23d27d1de23957049f6f6d0e7" category="summary">在将 StorageGRID 设备部署为 StorageGRID 系统中的存储节点之前，您必须配置设备与计划使用的网络之间的连接。您可以通过浏览到 StorageGRID 设备安装程序来配置网络连接，该安装程序预安装在 SG6000-CN 控制器 \ （计算控制器 \ ）上。</block>
  <block id="7935dc511752d8722f79268cf8495696" category="doc">配置 StorageGRID 连接（ SG6000 ）</block>
  <block id="a86c49591bf9284344916c350fe74e7c" category="paragraph">在将 StorageGRID 设备部署为 StorageGRID 系统中的存储节点之前，您必须配置设备与计划使用的网络之间的连接。您可以通过浏览到 StorageGRID 设备安装程序来配置网络连接，该安装程序预安装在 SG6000-CN 控制器（计算控制器）上。</block>
  <block id="af906fbd0fe27215edb169110b7cd300" category="doc">在维护模式下监控节点加密（ SG6000 ）</block>
  <block id="4ae3b5898bb7c4b78740c71047d2b53b" category="inline-xref-macro">已将设备置于维护模式</block>
  <block id="984f0b4b4c5ac7036d65635c7d619160" category="list-text">您已拥有 <block ref="0ca60f46b6a29925e9e7e849dde0ea17" category="inline-xref-macro-rx"></block>。</block>
  <block id="3ec7e7f734d686129e29ef855a859d53" category="inline-xref-macro">清除 KMS 密钥</block>
  <block id="5aeccd0b1f1cfc49267f93bc4fc512bb" category="list-text">清除 KMS 密钥会禁用设备的节点加密，删除设备与为 StorageGRID 站点配置的密钥管理服务器之间的关联，并删除设备中的所有数据。您必须 <block ref="66f48fad643b3aebb837389a183597a1" category="inline-xref-macro-rx"></block> 在将设备安装到另一个 StorageGRID 系统之前。</block>
  <block id="c58c0c0b5d194ff0f02df10df32344a6" category="summary">您可以在设备上更改为其他 RAID 模式，以满足存储和恢复要求。您只能在部署设备存储节点之前更改此模式。</block>
  <block id="3fcd95974e20144abff9052c5d099063" category="doc">可选：更改 RAID 模式（仅限 SG6000 ）</block>
  <block id="fad1da10eedbd18a4eea8a0cf87394dc" category="list-text">客户端具有 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="8ba4f2876d967dc305c02b017752e0c5" category="paragraph">在将设备部署为存储节点之前，您可以选择以下卷配置选项之一：</block>
  <block id="cf2979ae1086a47f3e1dfcc4b3a792da" category="list-text">* DDP * ：此模式每八个数据驱动器使用两个奇偶校验驱动器。这是所有设备的默认和建议模式。与 RAID6 相比， DDP 可提高系统性能，缩短驱动器发生故障后的重建时间，并简化管理。</block>
  <block id="0106110ce7dd68ba13c9f24e6ff48c0d" category="paragraph">` * https://_Controller_IP_:8443*`</block>
  <block id="b4190a9abae7ab9861272a28cce5c7dd" category="summary">如果您希望在发生警报时发送电子邮件通知，则必须使用 BMC 界面配置 SMTP 设置，用户， LAN 目标，警报策略和事件筛选器。</block>
  <block id="8daf68389b5396b59376ef5db9fe5e2f" category="admonition">如果 SG6000-CN 发生故障且需要更换，则可能无法保留此操作步骤 所做的 BMC 设置。请确保您已应用所有设置，以便在更换硬件后根据需要轻松重新应用这些设置。</block>
  <block id="44d97ae9b656932a0ec0c337f1322020" category="paragraph">在 BMC 界面中，您可以使用设置页面上的 * SMTP 设置 * ， * 用户管理 * 和 * 平台事件筛选器 * 选项来配置电子邮件通知。</block>
  <block id="eb164878e3a11cd967b58b9804f069bd" category="image-alt">BMC 设置菜单</block>
  <block id="190b335d36cfefb43ccef20ec9e0a9a7" category="list-text">配置 SMTP 设置。</block>
  <block id="916ef707e474d612e9085b3576c42e8c" category="list-text">选择 * 设置 * &gt; * SMTP 设置 * 。</block>
  <block id="cc6f5de01b92b29440802debeadd4111" category="list-text">对于发件人电子邮件 ID ，请输入有效的电子邮件地址。</block>
  <block id="f75177d1ff1ad48df8b75f8b77482961" category="paragraph">此电子邮件地址在 BMC 发送电子邮件时作为发件人地址提供。</block>
  <block id="785cb6d9ae55a99a5dfa30407f297c34" category="list-text">设置用户以接收警报。</block>
  <block id="c2b90e781aad09954cc7b37608dab4b1" category="list-text">从 BMC 信息板中，选择 * 设置 * &gt; * 用户管理 * 。</block>
  <block id="0fbf0ef7055c69a92456c5e2869cd6d8" category="list-text">至少添加一个用户以接收警报通知。</block>
  <block id="2f12b80c3eb1d71c07e7436ea314536f" category="paragraph">您为用户配置的电子邮件地址是 BMC 向其发送警报通知的地址。例如，您可以添加一个通用用户，例如 "`notification -user ，` " ，并使用技术支持团队 Email发送名单 的电子邮件地址。</block>
  <block id="aae355be1af6a5b2e9f9c66138b04a35" category="list-text">配置警报的 LAN 目标。</block>
  <block id="fb30be6f5976561582373a81bb3c56b6" category="list-text">选择 * 设置 * &gt; * 平台事件筛选器 * &gt; * LAN 目标 * 。</block>
  <block id="a85b44dd3f0c248dfddec54a498c3ecb" category="list-text">至少配置一个 LAN 目标。</block>
  <block id="c1f8e6557f76b5dadb5f493d7a102d00" category="list-text">选择 * 电子邮件 * 作为目标类型。</block>
  <block id="dd71ab936334cea11c7e4534ef91e7be" category="list-text">对于 BMC 用户名，请选择先前添加的用户名。</block>
  <block id="380524d747b1d088044d5411d57fd997" category="list-text">如果您添加了多个用户并希望所有用户都接收通知电子邮件，则必须为每个用户添加一个 LAN 目标。</block>
  <block id="17b1e5e8af739f3f1fa16c53bfcefbe7" category="list-text">发送测试警报。</block>
  <block id="235ea467a42f092e83204b5693599627" category="list-text">配置警报策略，以便定义 BMC 发送警报的时间和位置。</block>
  <block id="c26ee589e8697a357e6958e38ad8192e" category="list-text">选择 * 设置 * &gt; * 平台事件筛选器 * &gt; * 警报策略 * 。</block>
  <block id="80618a24532657f3046edee2b63c4f43" category="list-text">为每个 LAN 目标至少配置一个警报策略。</block>
  <block id="74376fe89f3b3e30ef19e6c1ac7f1203" category="list-text">对于策略组编号，请选择 * 。 1</block>
  <block id="3aa833025dc45115055b45f035506fa9" category="list-text">对于策略操作，选择 * 始终向此目标发送警报 * 。</block>
  <block id="f94c446f7e215eb9d98451675ac3b127" category="list-text">对于 LAN 通道，选择 * 1 * 。</block>
  <block id="e6f5fa47bdb83dbd02e8aacdc2ebc5d1" category="list-text">在目标选择器中，选择策略的 LAN 目标。</block>
  <block id="b8b7410b724d34196fd48a37b7d880bd" category="list-text">配置事件筛选器以将不同事件类型的警报定向到相应的用户。</block>
  <block id="42b7a9c7dda597e96eb9cc1ca5d2a0c8" category="list-text">选择 * 设置 * &gt; * 平台事件筛选器 * &gt; * 事件筛选器 * 。</block>
  <block id="1648a2831dcf1ad2466828b8a9874cf7" category="list-text">对于警报策略组编号，输入 * 1 * 。</block>
  <block id="0fee0f52421181527dca342e62631904" category="list-text">为要通知警报策略组的每个事件创建筛选器。</block>
  <block id="be3213e417fd502705643e4549968d50" category="list-text">您可以为电源操作，特定传感器事件或所有事件创建事件筛选器。</block>
  <block id="5119bbd8747a73ede6231374d0ae78d9" category="list-text">如果不确定要监控哪些事件，请选择 "Sensor Type" （传感器类型）为 "All 传感器 " （所有传感器） * ，并选择 "Event Options" （事件选项）为 "All Events" （所有事件）。如果收到不需要的通知，您可以稍后更改所做的选择。</block>
  <block id="0916b9011bc9f5e3587986917cc3f596" category="summary">StorageGRIDSGF6024 包括一个计算控制器和一个存储控制器架，可容纳 24 个固态驱动器。</block>
  <block id="b1640fd639b44dd15b9be716f45893e9" category="doc">SGF6024 概述</block>
  <block id="5053d5bab118ca8919a7936d5c9de387" category="section-title">SGF6024 组件</block>
  <block id="9fc61cbe653e17a9ac8a096eec65b7fe" category="paragraph">SGF6024 设备包括以下组件：</block>
  <block id="3c35fd0a2f0110b49cd6133f4c94ee73" category="paragraph">闪存阵列（控制器架）</block>
  <block id="4e30eb5ab9d18088e1f5997263889058" category="paragraph">E 系列 EF570 闪存阵列（也称为控制器架），一个 2U 磁盘架，其中包括：</block>
  <block id="38543e52e34be4077be088318150ab20" category="list-text">两个 E 系列 EF570 控制器（双工配置），用于提供存储控制器故障转移支持</block>
  <block id="65114056cce8cc08800a49289ed6cfd7" category="list-text">24 个固态驱动器（也称为 SSD 或闪存驱动器）</block>
  <block id="22a3b174377c77e277b72455cf684f88" category="section-title">SGF6024 图表</block>
  <block id="e54d4c46513755f8fcbcf52ea6c0e7c4" category="paragraph">此图显示了 SGF6024 的正面，其中包括一个 1U 计算控制器和一个 2U 机箱，其中包含两个存储控制器和 24 个闪存驱动器。</block>
  <block id="4b9d3d7f12215341ea22f2335e5a9970" category="image-alt">SG6024 正面图</block>
  <block id="84a96c52a951124494916eb614431ec4" category="paragraph">EF570 闪存阵列，带前挡板</block>
  <block id="6ae0c58b1eab44e192742623a32aeb37" category="paragraph">已卸下前挡板的 EF570 闪存阵列</block>
  <block id="e359bd90e9c957cc3e4768e3e6d2ecc0" category="paragraph">此图显示了 SGF6024 的背面，包括计算和存储控制器，风扇和电源。</block>
  <block id="df7db996c2afccd44e6f92f960994f20" category="image-alt">SG6024 背面</block>
  <block id="920469dfdcdb9aa258def3e692dc6238" category="paragraph">EF570 闪存阵列的电源（第 1 页，共 2 页）</block>
  <block id="acbc82d8b7dd01bf324f2eceb9bf22b3" category="paragraph">E 系列 EF570 存储控制器（图 1 ）和连接器</block>
  <block id="b93283f45556daa23823ae488be334e4" category="summary">SG6000-CN 控制器包含一些指示灯，可帮助您确定控制器的状态，其中包括以下指示灯和按钮。</block>
  <block id="cc64e2baaea130f098dabae1e21d5005" category="image-alt">正面指示灯— SG6000-CN</block>
  <block id="d08e49a4d4fdced367f471133a8f6eec" category="paragraph">电源按钮</block>
  <block id="adcb6bac9bed11040d097243d4646284" category="list-text">蓝色：控制器已启动。</block>
  <block id="ed3e3432e98f906cb4b8f8932f5c3266" category="list-text">off ：控制器已关闭。</block>
  <block id="1f2c98ebefe0f2d91f95457e4066eeb1" category="paragraph">重置按钮</block>
  <block id="ec947c3007db56f14bd248322ffd45dc" category="paragraph">无指示符 _</block>
  <block id="f44c08c91e71aeece4b36327efb96054" category="paragraph">使用此按钮可对控制器执行硬重置。</block>
  <block id="3ddb7c7e0218fa3487004695d06d33e8" category="paragraph">识别按钮</block>
  <block id="c9d97bb47f51a17ab118d41b9822d01b" category="list-text">闪烁或稳定蓝色：标识机柜或机架中的控制器。</block>
  <block id="d98f2ebc8c35bd955f4edc41102d9773" category="list-text">off ：无法在机柜或机架中直观地识别控制器。</block>
  <block id="26f7f483d24e44158e92c7cd5b9ecdd6" category="paragraph">此按钮可以设置为闪烁，打开（稳定）或关闭。</block>
  <block id="b50a7cf91ffc6c447c18e7bc3e5d2ba5" category="paragraph">警报 LED</block>
  <block id="a2c29c813ad26fc6577856e5bbfd0993" category="list-text">琥珀色：发生错误。</block>
  <block id="75fcbb3506b534f3be4272a7a57c03fb" category="paragraph">* 注： * 要查看启动和错误代码，您必须访问 BMC 界面。</block>
  <block id="5e46656aa93b3c3c5cece3b58fc8c4a8" category="list-text">off ：不存在任何错误。</block>
  <block id="151819d15724b337a8f37e7d55aefb18" category="paragraph">在启动期间或在对 SG6000-CN 控制器进行硬重置后，将发生以下情况：</block>
  <block id="267d541f1479293e078bf7c5cdb95d19" category="list-text">基板管理控制器（ BMC ）会记录启动顺序的代码，包括发生的任何错误。</block>
  <block id="f3f6335798e3629727fd7a3ea54709f0" category="list-text">电源按钮将亮起。</block>
  <block id="fb025ef60231119d7c6af30cf84249f5" category="list-text">如果在启动期间发生任何错误，警报 LED 将亮起。</block>
  <block id="a4e1d4147dca130dc0440a18e72aae43" category="paragraph">要查看启动和错误代码，您必须访问 BMC 界面。</block>
  <block id="44e8c253dd4cb7fda826d632bc28cbb4" category="paragraph"><block ref="44e8c253dd4cb7fda826d632bc28cbb4" category="inline-xref-macro-rx"></block></block>
  <block id="84f607db8a0aef36a0333502a60634e5" category="paragraph"><block ref="84f607db8a0aef36a0333502a60634e5" category="inline-xref-macro-rx"></block></block>
  <block id="6db2809c291ac3b3cf0e6a7d15165100" category="list-text">您拥有正确的替代光纤通道 HBA 。</block>
  <block id="a60e2934c9743e111a7c75b568cb43bf" category="list-text">您已确定哪个 SG6000-CN 控制器包含要替换的光纤通道 HBA 。</block>
  <block id="40e2d7c0e40e16863a4b788f2b1576a0" category="list-text">您已在物理上找到要在数据中心中更换光纤通道 HBA 的 SG6000-CN 控制器。</block>
  <block id="bd44732c63e609c4dd597e83e20dadba" category="list-text">您已卸下控制器盖板。</block>
  <block id="8133560d0a392058c10100e234f68982" category="paragraph"><block ref="8133560d0a392058c10100e234f68982" category="inline-xref-macro-rx"></block></block>
  <block id="5ab665843e440c3de34ba3e3d19f53a7" category="paragraph">为了防止服务中断，请在开始更换光纤通道 HBA 之前确认所有其他存储节点均已连接到网格，或者在计划的维护时段内更换适配器，此时通常会发生服务中断。请参见有关通过信息生命周期管理管理对象的说明中有关确定节点连接状态的信息。</block>
  <block id="ea408e598641867fd2fd4e08f363e194" category="admonition">如果您使用的 ILM 规则只创建一个对象的一个副本，则必须在计划的维护窗口期间更换光纤通道 HBA 。否则，在此操作步骤 期间，您可能暂时无法访问这些对象。+ 查看有关通过信息生命周期管理管理对象的信息。</block>
  <block id="159de4d0f279530b02961025bd5110cb" category="list-text">找到包含光纤通道 HBA 的控制器背面的提升板部件。</block>
  <block id="3b9dbd7ec583332e8e82592d28507b10" category="image-alt">SG6060 提升板部件位置</block>
  <block id="078f7888ee57016d6ef976c61af2ca58" category="list-text">抓住竖板部件并穿过蓝色标记的孔，然后小心地将其向上提起。提起提升板部件时，将其向机箱前部移动，以使其已安装适配器中的外部连接器能够脱离机箱。</block>
  <block id="49316360485b327b8d3cfeda1619e7f7" category="list-text">将提升板卡放在平坦的防静电表面上，并使金属机架朝下，以便接触适配器。</block>
  <block id="2b7bb1d1b7d4b170ed432675def892d8" category="image-alt">SG6060 光纤通道 HBA 位于提升板部件中</block>
  <block id="bd7e3462fabc69150bb8ea9619abbfa2" category="paragraph">提升板部件中有两个适配器：一个光纤通道 HBA 和一个以太网网络适配器。图中显示了光纤通道 HBA 。</block>
  <block id="36811ee307a68fa90e065551cdedc258" category="list-text">打开蓝色适配器闩锁（带圆圈），然后小心地从提升板部件中卸下光纤通道 HBA 。稍微摇晃适配器，以便从其连接器中卸下适配器。请勿用力过大。</block>
  <block id="42ab1f4ab6c26707d2233a995c72c511" category="list-text">将适配器放在平坦的防静电表面上。</block>
  <block id="6d83ff0dc0df905782ca73d4d6adafab" category="paragraph">安装替代光纤通道 HBA 。</block>
  <block id="082f5531921de944954bd5ee1dbeec80" category="inline-xref-macro">重新安装光纤通道 HBA</block>
  <block id="2c97124a2c67db76bdee502b88106ced" category="paragraph"><block ref="2c97124a2c67db76bdee502b88106ced" category="inline-xref-macro-rx"></block></block>
  <block id="058f0ce3dfa2396f895d119201403085" category="paragraph"><block ref="058f0ce3dfa2396f895d119201403085" category="inline-xref-macro-rx"></block></block>
  <block id="e40da2e367c1ec8fc9e4c13a56ba411d" category="summary">硬件安装需要将 SG6000-CN 控制器和存储控制器架安装到机柜或机架中，连接缆线并接通电源。</block>
  <block id="627a627822bc0267b66539d3da4fc25e" category="summary">StorageGRID SG6000 设备是一种集成的存储和计算平台，可作为 StorageGRID 系统中的存储节点运行。这些设备可以在混合网格环境中使用，该环境将设备存储节点和虚拟 \ （基于软件的 \ ）存储节点结合在一起。</block>
  <block id="92026d97eecf712872977bd03644281b" category="doc">SG6000 设备：概述</block>
  <block id="7acfcf0efee496f4abd4e38aa5f5bf5c" category="paragraph">StorageGRID SG6000 设备是一种集成的存储和计算平台，可作为 StorageGRID 系统中的存储节点运行。这些设备可以在混合网格环境中使用，该环境将设备存储节点和虚拟（基于软件的）存储节点结合在一起。</block>
  <block id="93f483af25e4362e91609cb45cd4b247" category="paragraph">SG6000 设备提供以下功能：</block>
  <block id="acf92c105355fadd1f17ff8723b751ef" category="list-text">提供两种型号：</block>
  <block id="c7c159c9465eb3bcd546ae2216751cd7" category="list-text">SG6060 ，包含 60 个驱动器并支持扩展架。</block>
  <block id="9310cbc5701ffd9e96d086a68fed27d3" category="list-text">SGF6024 ，提供 24 个固态驱动器（ SSD ）。</block>
  <block id="63c4aebff5dcf4232c42fbc5ca0e270e" category="list-text">集成 StorageGRID 存储节点的存储和计算要素。</block>
  <block id="010e9e05f9959c97cfb20ad8a49f9350" category="list-text">包括 StorageGRID 设备安装程序，以简化存储节点的部署和配置。</block>
  <block id="00036bb2b66174fc5039c58ef024f9d1" category="list-text">包括 SANtricity System Manager ，用于管理和监控存储控制器和驱动器。</block>
  <block id="ff8c52b8c51daa9c6eed8a340ef553ea" category="list-text">包括一个基板管理控制器（ BMC ），用于监控和诊断计算控制器中的硬件。</block>
  <block id="c62d512bba7e04d7e2e967ad8c8ea3d3" category="list-text">最多支持四个连接到 StorageGRID 网格网络和客户端网络的 10-GbE 或 25-GbE 连接。</block>
  <block id="9e7ac1ee6ba88a40b86fe8f8bb37057e" category="list-text">支持联邦信息处理标准（ FIPS ）驱动器。如果将这些驱动器与 SANtricity 系统管理器中的驱动器安全功能结合使用，则会阻止未经授权的数据访问。</block>
  <block id="b23dec38a8878a199d3d2f51ec5a0bc2" category="summary">替代光纤通道 HBA 安装在与已删除的光纤通道 HBA 相同的位置。</block>
  <block id="a14120dd9bd8e50fd04e0e24b7c72729" category="list-text">您已删除现有光纤通道 HBA 。</block>
  <block id="e817d0b17af664f9ddeedf9f4eb8c461" category="list-text">从包装中取出更换用的光纤通道 HBA 。</block>
  <block id="0128207a57cbbde8a5c8ae59513580de" category="list-text">在蓝色适配器闩锁处于打开位置的情况下，将光纤通道 HBA 与其在提升板部件上的连接器对齐；然后，小心地将适配器按入连接器中，直到其完全就位。</block>
  <block id="882d1c5e587c427b48b1ac8d5f4357e4" category="list-text">找到与系统板上的导销对齐的竖板部件上的对齐孔（带圆圈），以确保竖板部件正确定位。</block>
  <block id="c791051ee0879f62cfadb1a1bd93db02" category="image-alt">SG6060 提升板部件上的对齐孔</block>
  <block id="bae27045604b0671698813f77070d605" category="list-text">将提升板部件置于机箱中，确保其与系统板上的连接器和导销对齐；然后，插入提升板部件。</block>
  <block id="d3d5c7b48aafd1e5b0fa1b1cee9319ec" category="list-text">小心地将竖板部件沿着其中心线，蓝色标记的孔旁边按到位，直到其完全就位。</block>
  <block id="febc4522989ee56598909f0b67f5633f" category="list-text">从要重新安装缆线的光纤通道 HBA 端口上取下保护盖。</block>
  <block id="ce4e4475862b1f0a4365d8eeb1fc1bb1" category="paragraph">如果控制器中没有其他要执行的维护过程，请重新安装控制器盖板。</block>
  <block id="2db0e30d41f473a1531c0cebd7d4cb53" category="summary">SG6000-CN 控制器具有两个电源以实现冗余。如果其中一个电源发生故障，您必须尽快更换，以确保计算控制器具有冗余电源。在控制器中运行的两个电源必须具有相同的型号和功率。</block>
  <block id="6fcf8fcea291cef61c4e9c4b3d9fcd92" category="doc">更换 SG6000-CN 控制器中的一个或两个电源</block>
  <block id="f2c576b01e0871b870cc9647d689c1d1" category="list-text">您已确定要更换电源的控制器数据中心的物理位置。</block>
  <block id="7ef36cccbc4a5c88023a9a2c31c9b9c2" category="inline-xref-macro">在数据中心中查找控制器</block>
  <block id="4600a4d4b0a75f8267b8d2d9900e2af5" category="paragraph"><block ref="4600a4d4b0a75f8267b8d2d9900e2af5" category="inline-xref-macro-rx"></block></block>
  <block id="1cd2fbea6b4557ebbdef9997da849035" category="list-text">如果仅更换一个电源：</block>
  <block id="e603e42ef80f04641d5ad59f2bf32bfa" category="list-text">您已卸载更换用的电源设备，并确保其型号和功率与要更换的电源设备相同。</block>
  <block id="6b69dbc8fdc7d73c8f1ddf678ee79813" category="list-text">如果要同时更换两个电源：</block>
  <block id="bee352f92659e8cf1c98511b11def313" category="list-text">您已卸载替代电源设备，并确保其型号和功率相同。</block>
  <block id="9df7925e2b2885f05a0b74b67c194f3b" category="paragraph">此图显示了 SG6000-CN 控制器的两个电源设备，可从控制器背面访问这些设备。使用此操作步骤 更换一个或两个电源。如果要更换这两个电源，则必须先对设备执行有控制的关闭。</block>
  <block id="9d6e81886c49275281a35eec733574b9" category="inline-xref">拔下电源线</block>
  <block id="374d5b5a336a35d011be0f6e8be0c1d9" category="list-text">如果您只更换一个电源，则无需关闭设备。转至 <block ref="a19d96ddc315b1bb832a1cf6b1c7d7e1" category="inline-xref-macro-rx"></block> 步骤。如果要同时更换两个电源，请在拔下电源线之前执行以下操作：</block>
  <block id="ebb60dc42d623e93d78fb6f829886794" category="inline-xref-macro">将设备置于维护模式</block>
  <block id="e68e4a039378b0d2e2ceda541835bd88" category="list-text"><block ref="b679663e32c9449022ef5748e58022b3" category="inline-xref-macro-rx"></block>。</block>
  <block id="8e47b28d317e5236782a994fe6d7f48a" category="inline-xref-macro">关闭设备</block>
  <block id="e69780ed4050c99e9b5318bd60ad0d09" category="list-text"><block ref="db8c733c3f48eb5499f584199cc17f4a" category="inline-xref-macro-rx"></block>。</block>
  <block id="d6840beb5951d97671ed87a38afe35d1" category="list-text">【拔掉电源线， start=2]] 从要更换的每个电源中拔下电源线。</block>
  <block id="ca2dabe37c3baab279bc22aba24b66cc" category="list-text">提起要更换的第一个电源上的凸轮把手。</block>
  <block id="ec99241ee0986661d42d408443ea6080" category="image-alt">提起凸轮把手以卸下 SG6000-CN PSU</block>
  <block id="40fb2db8894c190f04049582622f5a27" category="image-alt">卸下 SG6000-CN 电源</block>
  <block id="00fa77fb7071fe9d2bc27dd2ccc577eb" category="list-text">使蓝色闩锁位于右侧，将替代电源滑入机箱。</block>
  <block id="df6e34fb45db7b34153eb53a1314c815" category="admonition">两个电源的型号和功率必须相同。</block>
  <block id="a20aea4a0ce0de28ebd367d4657b7c91" category="paragraph">在中滑动更换部件时，请确保蓝色闩锁位于右侧。</block>
  <block id="ee58f0f0fab674d747ebc60717af5d90" category="image-alt">将电源滑入 SG6000-CN</block>
  <block id="6e486cec98fc057edbfa941683d1ccf6" category="list-text">向下推凸轮把手以固定更换用的电源。</block>
  <block id="54942085468667bc5633b5bd0aadac8f" category="list-text">如果要更换这两个电源，请重复步骤 2 到 6 以更换第二个电源。</block>
  <block id="c684dd7e7dadbfe482317c95c8fbf295" category="inline-xref-macro">将电源线连接到更换的设备并接通电源</block>
  <block id="3495f722e6b4c32f695cb41d58bcc023" category="list-text"><block ref="c52a655d6ec466b2dfdaa3a932d09316" category="inline-xref-macro-rx"></block>。</block>
  <block id="52191bebf1b9517323d2e46927478b50" category="list-text">如果您将设备置于维护模式，请退出维护模式。在 StorageGRID 设备安装程序中，选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择 * 重新启动至 StorageGRID * 。</block>
  <block id="3dceb459e0ab1dd33c70089f4797b5b4" category="doc">自动化设备安装和配置（ SG6000 ）</block>
  <block id="70709ff6f20ae5a4eb0941a5a7d9a01f" category="admonition">您可以直接使用 StorageGRID 自动化 Python 脚本，也可以使用它们作为示例，说明如何在您自己开发的网格部署和配置工具中使用 StorageGRID 安装 REST API 。请参见有关的信息 <block ref="7d115d841b777d77acb8e7788d41f966" category="inline-xref-macro-rx"></block> 在恢复和维护说明中。</block>
  <block id="8d48aa13f9634d5768c227830b03cf1c" category="section-title">连接到存储控制器上的 SANtricity System Manager 所需的信息</block>
  <block id="c72bf77f7e83a84c47daafe90cefb203" category="paragraph">您必须将设备中的两个存储控制器（ E2800 控制器或 EF570 控制器）连接到要用于 SANtricity System Manager 的管理网络。控制器位于每个设备中，如下所示：</block>
  <block id="7258903db257e8d508fa8ca329c94b1c" category="list-text">SG6060 ：控制器 A 位于顶部，控制器 B 位于底部。</block>
  <block id="d53f6f722fe2265b7e05de3d325b80e2" category="list-text">SGF6024 ：控制器 A 位于左侧，控制器 B 位于右侧。</block>
  <block id="cb5a4af01a865c34b85bc064244efcf2" category="cell">控制器 A 的值</block>
  <block id="25e77b50c6ef975e1a51a9dab03b46a2" category="cell">控制器 B 的值</block>
  <block id="1a1366b613ccf7019255cb6d4e358212" category="paragraph">要连接到管理端口 1 的以太网交换机端口（在控制器上标记为 P1 ）</block>
  <block id="288364296a42cb3c4253f47ed48aac31" category="paragraph">* 注： * 如果要连接到存储控制器的网络包含 DHCP 服务器，则网络管理员可以使用 MAC 地址确定 DHCP 服务器分配的 IP 地址。</block>
  <block id="edf5e99e0ecf79204af2a2f98c51308d" category="list-text">存储控制器路由器 IP 地址：</block>
  <block id="14e89035dd8994df0949a4b491809002" category="section-title">将 SG6000-CN 控制器连接到管理网络所需的信息</block>
  <block id="4d5b696596fe68c2c32b2e4286cc39ea" category="paragraph">StorageGRID 管理网络是一个可选网络，用于系统管理和维护。此设备使用 SG6000-CN 控制器上的以下 1-GbE 管理端口连接到管理网络。</block>
  <block id="c0611c41720ac8e23ee39d9b8384ed95" category="image-alt">RJ-45 端口</block>
  <block id="717d866ba4f0faca4091bd9f3d35d8a8" category="list-text">独立（默认）</block>
  <block id="d99846ccff6b4f39440a4359f1f77426" category="paragraph">图中红色圆圈中左侧端口的交换机端口（独立网络绑定模式的默认活动端口）</block>
  <block id="c3caec359dad5af74e5a6c5c8f0bf50d" category="paragraph">图中红色圆圈中右侧端口的交换机端口（仅限主动备份网络绑定模式）</block>
  <block id="c07655c950fb46574dc1805166c5b50f" category="paragraph">管理网络端口的 MAC 地址</block>
  <block id="8c92eca2f9dd927d74ced7dff95d4001" category="paragraph">* 注： * SG6000-CN 控制器正面的 MAC 地址标签列出了 BMC 管理端口的 MAC 地址。要确定管理网络端口的 MAC 地址，必须在标签上的十六进制数字中添加 * 。 2 *例如，如果标签上的 MAC 地址以 *09* 结尾，则管理端口的 MAC 地址将以 *0B* 结尾。如果标签上的 MAC 地址以 * （ _y_ ） FF* 结尾，则管理端口的 MAC 地址将以 * （ _y_+1 ） 01* 结尾。您可以通过在 Windows 中打开 Calculator ，将其设置为程序编程模式，选择十六进制，键入 MAC 地址，然后键入 * + 2 =* 来轻松进行计算。</block>
  <block id="a5ac1009e5e3b094004cbee1f5c11f70" category="paragraph">DHCP 为管理网络端口分配的 IP 地址（如果在启动后可用）</block>
  <block id="3f7b8bd04d7592a4aeafc0c711f023ac" category="paragraph">* 注： * 您可以使用 MAC 地址查找已分配的 IP 来确定 DHCP 分配的 IP 地址。</block>
  <block id="7b16075830716e759e9e49729352d506" category="section-title">在 SG6000-CN 控制器上连接和配置 10/225-GbE 端口所需的信息</block>
  <block id="be679dc22730f7d80b6d929c14dab671" category="paragraph">SG6000-CN 控制器上的四个 10/225-GbE 端口连接到 StorageGRID 网格网络和可选客户端网络。</block>
  <block id="e1f83090b2078f423f101834d3d15b12" category="list-text">自动（默认）</block>
  <block id="f813d4c41b3987dfffdcc0cea30c64cf" category="list-text">10 GbE</block>
  <block id="6f4a5b5c801b06f2722e05c2c780d734" category="paragraph">端口 1 的交换机端口（固定模式的客户端网络）</block>
  <block id="205b19902d06930fd088a77e76751741" category="paragraph">端口 2 的交换机端口（固定模式的网格网络）</block>
  <block id="fee0e6c084bce4ab4307bcb7d0da3ae9" category="paragraph">端口 3 的交换机端口（固定模式的客户端网络）</block>
  <block id="fcbae691ec7f8d7fdacc6f6f3b1f703a" category="paragraph">端口 4 的交换机端口（固定模式的网格网络）</block>
  <block id="383e46a531a1c8465fcf0e1726978275" category="section-title">将 SG6000-CN 控制器连接到网格网络所需的信息</block>
  <block id="4add43ebbef9ff9f63c410896b2334fc" category="paragraph">适用于 StorageGRID 的网格网络是一个必需的网络，用于所有内部 StorageGRID 流量。此设备使用 SG6000-CN 控制器上的 10/225-GbE 端口连接到网格网络。</block>
  <block id="58a28d9acff94f0bd7162f7699cd65b3" category="paragraph">网格网络子网（ GRID ）</block>
  <block id="aa30ae8bc47c8a575981314624a0fd24" category="section-title">将 SG6000-CN 控制器连接到客户端网络所需的信息</block>
  <block id="6be1e8789c3a780e9e8f8540a4264a73" category="paragraph">适用于 StorageGRID 的客户端网络是一个可选网络，通常用于提供对网格的客户端协议访问。设备使用 SG6000-CN 控制器上的 10/225-GbE 端口连接到客户端网络。</block>
  <block id="6d1b996756115fe391cc6a06a3d19642" category="paragraph">VLAN 标记（如果启用了 VLAN 标记）</block>
  <block id="5255581f070365e4d6400b0d07d9569b" category="section-title">将 SG6000-CN 控制器连接到 BMC 管理网络所需的信息</block>
  <block id="6a0fb49a54316c7e5f7fca9e2f6019ee" category="paragraph">您可以使用以下 1-GbE 管理端口访问 SG6000-CN 控制器上的 BMC 接口。此端口支持使用智能平台管理接口（ Intelligent Platform Management Interface ， IPMI ）标准通过以太网远程管理控制器硬件。</block>
  <block id="51c140f323da093598081071afea4181" category="paragraph">要连接到 BMC 管理端口的以太网交换机端口（在图中圈出）</block>
  <block id="5a1ebb8b6e4d7c3bc47620863a4fc96b" category="paragraph">为 BMC 管理网络分配的 DHCP IP 地址（如果在启动后可用）</block>
  <block id="0f7eb2a76b0ce24c9e72f6c7907ed38c" category="paragraph">您计划用于 BMC 管理端口的静态 IP 地址</block>
  <block id="a52f7f6156dbf995f0d591f54179f150" category="paragraph"><block ref="a52f7f6156dbf995f0d591f54179f150" category="inline-xref-macro-rx"></block></block>
  <block id="c91035caef972a56af44666c90f75770" category="paragraph"><block ref="c91035caef972a56af44666c90f75770" category="inline-xref-macro-rx"></block></block>
  <block id="5721e14f9037a70b561c940e7a5cc8de" category="paragraph"><block ref="5721e14f9037a70b561c940e7a5cc8de" category="inline-xref-macro-rx"></block></block>
  <block id="a270effeecbb6963016e75f06ac62cdb" category="summary">您可能需要更换扩展架中的输入 / 输出模块，电源或风扇。</block>
  <block id="297057bf431ff214cf5fb064c5a836ac" category="doc">更换可选 60 驱动器扩展架中的硬件组件</block>
  <block id="b1e9897e6210c899921ef33fcb531642" category="list-text">您已在物理上找到要在数据中心更换扩展架硬件组件的存储设备。</block>
  <block id="9ba5735449693e006e31d066a459868f" category="paragraph">要更换 60 驱动器扩展架中的输入 / 输出模块（ IOM ），请参见这些说明中有关更换存储控制器的说明。</block>
  <block id="f9e76bfe826950e0a95142157a295b1f" category="paragraph">要更换 60 驱动器扩展架中的电源或风扇，请访问 E 系列维护 60 驱动器硬件的过程。</block>
  <block id="24ff32d7b4048a15f478bbe8f202e93f" category="paragraph">输入 / 输出模块（ IOM ）</block>
  <block id="84d749b9f5b0b21eae7a17601b8f4161" category="paragraph">更换 IOM</block>
  <block id="e87621d4d3b3341d1a85640a80dbe8ba" category="paragraph">更换风扇箱（ 60 个驱动器）</block>
  <block id="9e8de8207a27e38055372b6f8749b8ce" category="summary">您可能需要对 SG6000 设备执行维护过程。本节中的过程假定设备已部署为 StorageGRID 系统中的存储节点。</block>
  <block id="d49b2753707b2e90ba23b4b9e95cf3ac" category="doc">维护 SG6000 设备</block>
  <block id="c0ce89e53f48ad69404bd79d5a7f6151" category="inline-xref-macro">监控节点连接状态</block>
  <block id="c3bbe47405feaec1ef0b52537f1a501e" category="paragraph">要防止服务中断，请在关闭设备之前确认所有其他存储节点均已连接到网格，或者在可接受服务中断期间的计划维护窗口期间关闭设备。请参见有关的信息 <block ref="c5f7717a9df0a4bd9fdc8c9364fafba7" category="inline-xref-macro-rx"></block>。</block>
  <block id="5cb682ad2667c3837020eb2029309423" category="admonition">如果您使用的 ILM 规则只创建一个对象的一个副本，则必须在计划维护时段关闭设备。否则，在任何维护操作步骤 导致存储节点停止服务期间，您可能暂时无法访问这些对象。请参见有关的信息 <block ref="31630c9fbc2e405319a335abafc12b71" category="inline-xref-macro-rx"></block>。</block>
  <block id="f8f92f8e3df4caaa331a15ebf21c66fe" category="summary">您必须访问 StorageGRID 设备安装程序以验证安装程序版本，并配置设备与以下三个 StorageGRID 网络之间的连接：网格网络，管理网络（可选）和客户端网络（可选）。</block>
  <block id="5ec7f22d3e51b38237d9e49f06df79c2" category="paragraph">您必须访问 StorageGRID 设备安装程序以验证安装程序版本，并配置设备与三个 StorageGRID 网络之间的连接：网格网络，管理网络（可选）和客户端网络（可选）。</block>
  <block id="e8a5c69551be42c8dd4c33d5d6d551ef" category="list-text">SG6000-CN 控制器连接到您计划使用的所有 StorageGRID 网络。</block>
  <block id="3bc5d9c4698fc543b5c55a6e6f197d60" category="list-text">您知道这些网络上 SG6000-CN 控制器的 IP 地址，网关和子网。</block>
  <block id="fb591e2f870c050b62f722d97b74a195" category="paragraph">要首次访问 StorageGRID 设备安装程序，您可以使用为 SG6000-CN 控制器上的管理网络端口分配的 DHCP IP 地址（假设控制器已连接到管理网络），也可以将服务笔记本电脑直接连接到 SG6000-CN 控制器。</block>
  <block id="d51eb175b7847677c0d7488eba56f7a5" category="list-text">如果可能，请使用 SG6000-CN 控制器上管理网络端口的 DHCP 地址来访问 StorageGRID 设备安装程序。</block>
  <block id="fc2152fa1256fe29402fa18e1500be75" category="image-alt">SG6000-CN 控制器上的管理网络端口</block>
  <block id="00b8dd43fd9fb155b3f6ca7b5db59602" category="paragraph">MAC 地址标签列出了 BMC 管理端口的 MAC 地址。</block>
  <block id="4b80588d491a6ce8eb2a7943c0a81f1a" category="paragraph">要确定管理网络端口的 MAC 地址，必须在标签上的十六进制数字中添加 * 。 2 *例如，如果标签上的 MAC 地址以 *09* 结尾，则管理端口的 MAC 地址将以 *0B* 结尾。如果标签上的 MAC 地址以 * （ _y_ ） FF* 结尾，则管理端口的 MAC 地址将以 * （ _y_+1 ） 01* 结尾。您可以通过在 Windows 中打开 Calculator ，将其设置为程序编程模式，选择十六进制，键入 MAC 地址，然后键入 * + 2 =* 来轻松进行计算。</block>
  <block id="e8549a3ccd59a799d2b6f1a3c705ae3d" category="list-text">向网络管理员提供 MAC 地址，以便他们可以在管理网络上查找设备的 DHCP 地址。</block>
  <block id="b03bddde0dcab4e49fad18f63bc9a999" category="list-text">在客户端中，输入 StorageGRID 设备安装程序的以下 URL ： + ` * https://_Appliance_Controller_IP_:8443*`</block>
  <block id="883a9d79f5bd6bbe165dbd1e29c2df78" category="paragraph">对于 ` SG6000-CN_Controller_IP_` ，请使用 DHCP 地址。</block>
  <block id="f0acc589bec1170fbd12f1dfdce34256" category="list-text">如果无法使用 DHCP 获取 IP 地址，则可以使用链路本地连接。</block>
  <block id="e48cf6d0f8b7e97e6e6c2c7f8f7f5769" category="list-text">使用以太网缆线将服务笔记本电脑直接连接到 SG6000-CN 控制器上最右侧的 RJ-45 端口。</block>
  <block id="c0d1a22a6201f2513c2d0165d0f286cf" category="image-alt">SG6000-CN 的管理端口位置</block>
  <block id="822b8add41b7fa11edf09c30e61c3792" category="paragraph">访问 StorageGRID 设备安装程序后：</block>
  <block id="4d6d918291a3ad533675a35a55b2346b" category="list-text">验证设备上的 StorageGRID 设备安装程序版本是否与 StorageGRID 系统上安装的软件版本匹配。如有必要，请升级 StorageGRID 设备安装程序。</block>
  <block id="e38bdd7be63ededd8fb5046f8d1a1341" category="list-text">查看 StorageGRID 设备安装程序主页页面上显示的所有消息，并根据需要配置链路配置和 IP 配置。</block>
  <block id="f79939e15a4e2ae7b3eacfb06b2cd7ee" category="summary">您可以更改 SG6000-CN 控制器的以太网链路配置。您可以更改端口绑定模式，网络绑定模式和链路速度。</block>
  <block id="d3f0897b32d832568c729d133096de53" category="doc">更改 SG6000-CN 控制器的链路配置</block>
  <block id="770a6485769b9568a9006d323b39354e" category="paragraph">更改 SG6000-CN 控制器的以太网链路配置的选项包括：</block>
  <block id="6e85a33bff1c0d81948e293cae0ff4b3" category="list-text">更改链路速度。</block>
  <block id="367036cf69b30581b06bcee0c6dc8adf" category="list-text">从 StorageGRID 设备安装程序中，选择 * 配置网络连接 * &gt; * 链路配置 * 。</block>
  <block id="39249c9931daa900d69b1741171b0d74" category="list-text">【 link_config_changes ， start=2]] 对链路配置进行所需的更改。</block>
  <block id="99f596594621d839b5c2be3f9b63bb86" category="paragraph">有关选项的详细信息，请参见 <block ref="66d716097f562969c7708c61c803ad09" category="inline-xref-macro-rx"></block>。</block>
  <block id="b6712ef431086884a511078a3c213265" category="admonition">如果更改了所连接的网络或链路，则可能会断开连接。如果 1 分钟内未重新连接，请使用分配给 StorageGRID 设备的其他 IP 地址之一重新输入此设备安装程序的 URL ： + ` * https://_Appliance_Controller_IP_:8443*`</block>
  <block id="a5276949540235b0bfe7c6ca0c13e8a6" category="paragraph">如果更改了 VLAN 设置，则设备的子网可能已更改。如果需要更改设备的 IP 地址，请按照执行操作 <block ref="67037509a929d1eef1f9980124c8bbf7" category="inline-xref-macro-rx"></block> 说明。</block>
  <block id="f2c49bd7cab500c744ce6ddbf12ffc47" category="list-text">从菜单中选择 * 配置网络连接 * &gt; * Ping 测试 * 。</block>
  <block id="130dad3fc255a765151e34f1dedaeab1" category="inline-xref">链路配置更改</block>
  <block id="ca0207a23fdc7eb15925595284432b74" category="list-text">使用 Ping 测试工具检查可能受中所做链路配置更改影响的任何网络上的 IP 地址连接 <block ref="7afc8857c1a1d694504049da9c46e74a" category="inline-xref-macro-rx"></block> 步骤。</block>
  <block id="81697b9af295bc0f7ef9d9c8847a0cee" category="paragraph">除了您选择执行的任何其他测试之外，请确认您可以对主管理节点的网格网络 IP 地址以及至少一个其他存储节点的网格网络 IP 地址执行 ping 操作。如有必要，请返回到 <block ref="7afc8857c1a1d694504049da9c46e74a" category="inline-xref-macro-rx"></block> 执行步骤并更正任何链路配置问题。</block>
  <block id="96c3d8a79b993ff0a7277d962c8b0afe" category="list-text">如果您对链路配置更改是否正常工作感到满意，并且在节点处于维护模式时还需要执行其他步骤，请立即执行这些操作。完成后，或者如果遇到任何故障并希望重新启动，请选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择以下选项之一：</block>
  <block id="9aee5b5b20308343d19d528117eef251" category="summary">如果您使用的是扩展架，则必须将其连接到 E2860 控制器架。每个 SG6060 设备最多可以有两个扩展架。</block>
  <block id="e19ee0eda20b81c7998cc8e23c4c74c0" category="doc">SG6060 ：为可选扩展架布线</block>
  <block id="e6986bbc02cd0c7829a632a3bf96c09d" category="list-text">每个扩展架附带两根 SAS 缆线。</block>
  <block id="5176bfe3ccb913a340364d4de19e1473" category="list-text">您已将扩展架安装在包含 E2860 控制器架的机柜或机架中。</block>
  <block id="212a9058e19eef56d871b5d16d9d9789" category="list-text">选择 * 重新启动至维护模式 * 以重新启动控制器，同时使节点仍处于维护模式。如果您在操作步骤 期间遇到任何故障并希望重新启动，请选择此选项。节点重新启动至维护模式后，从出现故障的操作步骤 中的相应步骤重新启动。</block>
  <block id="4dd8d90b697a95cc97234809eb450e5e" category="doc">获取其他设备和工具（ SG6000 ）</block>
  <block id="c6d84c039841e4010028eee85b875190" category="paragraph">您需要以下选项之一：</block>
  <block id="86b1ac55f4933a90e84d5ca6a59241b0" category="list-text">一到四根双轴缆线或光缆，用于您计划在 SG6000-CN 控制器上使用的 10/225-GbE 端口</block>
  <block id="f0685086b221a6af880a51e1a68181b5" category="list-text">如果要使用光缆和 10-GbE 链路速度，则为 10/225-GbE 端口提供一到四个 SFP+ 收发器</block>
  <block id="d88c07c8aea19f2f57357f13d0638cac" category="list-text">如果要使用光缆和 25 GbE 链路速度，则为 10/225-GbE 端口提供一到四个 SFP28 收发器</block>
  <block id="4149239a4c140db34472244774d1eeb1" category="list-text">* RJ-45 （ Cat5/Cat5e/Cat6 ）以太网缆线 *</block>
  <block id="e6959787543d4b7988a7e67a400cbaae" category="paragraph">1 GbE （ RJ-45 ）端口</block>
  <block id="7723561bef9572a7d986fe25e58a85af" category="paragraph">适用于 60 个驱动器磁盘架的机械升降机</block>
  <block id="ea423c3b4531e244c1f1b9d12ba4d6f5" category="list-text">不能仅包含数字</block>
  <block id="ed641522a489a5397aea87df020a5988" category="summary">连接网络缆线后，您可以为 SG6000-CN 控制器以及两个存储控制器或可选扩展架供电。</block>
  <block id="f6f06b25be80efdd7abd3278a004f8af" category="list-text">确认存储控制器架中的两个控制器均已关闭。</block>
  <block id="fff45fe01230ac8a1261fac20263e4ee" category="admonition">* 电击风险 * —在连接电源线之前，请确保两个存储控制器中每个控制器的电源开关均已关闭。</block>
  <block id="5a87c35f4a40325f604e590605bf0e27" category="list-text">如果您有扩展架，请确认两个 IOM 电源开关均已关闭。</block>
  <block id="153685b091adf190ff3322f43feb1701" category="admonition">* 电击风险 * —在连接电源线之前，请确保每个扩展架的两个电源开关均已关闭。</block>
  <block id="fc719673d36a155c2d226dd144a91b62" category="list-text">将电源线连接到 SG6000-CN 控制器中的两个电源设备中的每个设备。</block>
  <block id="46bda9320a15957311ad1824a896f1c2" category="list-text">将这两条电源线连接到机柜或机架中的两个不同配电单元（ PDU ）。</block>
  <block id="25887df7d3f5a78b2c3c363272fdd840" category="list-text">将电源线连接到存储控制器架中的两个电源设备中的每个设备。</block>
  <block id="1cc2ccd9cdf7d47d562498d9c6123979" category="list-text">如果您有扩展架，请分别为每个扩展架中的两个电源设备连接一根电源线。</block>
  <block id="8db4d11383140ebb624fc86d0bdc8050" category="list-text">将每个存储架（包括可选扩展架）中的两条电源线连接到机柜或机架中的两个不同 PDU 。</block>
  <block id="77c1aa2f90040d5f5d1c8e3f32f8213c" category="list-text">如果 SG6000-CN 控制器正面的电源按钮当前未呈蓝色亮起，请按此按钮打开控制器的电源。</block>
  <block id="0ed72f37481e538074a716210ae701a8" category="paragraph">在启动过程中，请勿再次按电源按钮。</block>
  <block id="17ef214ad94774f192a1567c7bc07533" category="list-text">打开存储控制器架背面的两个电源开关。如果您有扩展架，请打开每个架的两个电源开关。</block>
  <block id="3a4d1296944ec39de6eb8b45567d7d9f" category="list-text">首次启动时，存储控制器架和可选扩展架中的风扇可能会发出很大的声音。启动期间发出较大的噪音是正常的。</block>
  <block id="3fc547762fe391aab4cac5128e5e3c10" category="list-text">组件启动后，请检查其状态。</block>
  <block id="5b06ccc1c03f3b182fcc3f498ea6ed33" category="list-text">检查每个存储控制器背面的七段显示。有关详细信息，请参见有关查看启动状态代码的文章。</block>
  <block id="4c879409f52a908e9d590c416599dad7" category="list-text">验证 SG6000-CN 控制器正面的电源按钮是否亮起。</block>
  <block id="bda76aea00f9635bf27e355c1ff1fdc0" category="list-text">如果发生错误，请更正任何问题。</block>
  <block id="9354327818f8e50e42cf51da6c8e515f" category="list-text">如果已卸下 SG6000-CN 控制器，请将前挡板连接到该控制器。</block>
  <block id="eae36e5f3936b801931cc9e01f1380a8" category="summary">SG6000-CN 控制器上的基板管理控制器 \ （ BMC\ ）的用户界面提供了有关硬件的状态信息，并允许您为 SG6000-CN 控制器配置 SNMP 设置和其他选项。</block>
  <block id="e806c81fbc5a23e8653f92ef99849f64" category="paragraph">SG6000-CN 控制器上的基板管理控制器（ Baseboard Management Controller ， BMC ）的用户界面提供了有关硬件的状态信息，并允许您为 SG6000-CN 控制器配置 SNMP 设置和其他选项。</block>
  <block id="c6af409f25ccf29b30f8cccf9d18a15b" category="paragraph">进度条和一系列消息（包括 " 已发送请求 " ， " 正在停止 StorageGRID " 和 " 正在重新启动 " ）表示设备正在完成进入维护模式的步骤。</block>
  <block id="db0131db8bdf7f945ba4923f5330ebc2" category="summary">在为 SG6000-CN 配置网络链路时，您可以对连接到网格网络和可选客户端网络的 10/25GbE 端口以及连接到可选管理网络的 1-GbE 管理端口使用端口绑定。端口绑定可在 StorageGRID 网络和设备之间提供冗余路径，从而有助于保护数据。</block>
  <block id="f04e84c7e8084b27e4d0977f6963056f" category="summary">从机柜或机架中卸下 SG6000-CN 控制器，以便检修顶盖或将控制器移至其他位置。</block>
  <block id="f5c6457f50a7f69da1d5d7c0241b5312" category="list-text">您可以通过标签来标识连接到 SG6000-CN 控制器的每个缆线。</block>
  <block id="4956a44fb72375e8758856347d591b31" category="list-text">您已实际找到要在数据中心中执行维护的 SG6000-CN 控制器。</block>
  <block id="867950397d64f9562babcd56e474052a" category="list-text">您已关闭 SG6000-CN 控制器。</block>
  <block id="f00dbb4d781f7e95b5e5506d9a02ec9e" category="admonition">请勿使用电源开关关闭控制器。</block>
  <block id="b11147fa1347b600d9b97ea7fcd7432f" category="list-text">标记并断开控制器电源线。</block>
  <block id="449a22b2f7b99703562fbc5685f4141b" category="list-text">标记并断开控制器数据缆线以及任何 SFP+ 或 SFP28 收发器的连接。</block>
  <block id="bf6053b3925db409a1e189a167d1fb8f" category="list-text">松开控制器前面板上的两个固定螺钉。</block>
  <block id="f290e428034ab0ebbdd668f3c6c370c3" category="list-text">将 SG6000-CN 控制器向前滑出机架，直到安装导轨完全展开，并且您可以听到两侧的闩锁卡嗒声。</block>
  <block id="a0daadbd52193ed4cf1eb11323d86ae9" category="paragraph">可以访问控制器顶盖。</block>
  <block id="c143c736fd84690b2552aad501b7695b" category="list-text">可选：如果要从机柜或机架中完全卸下控制器，请按照导轨套件的说明从导轨中卸下控制器。</block>
  <block id="c69ff1785c16ab7db216e04b62e5ef4f" category="section-title">SG6060</block>
  <block id="0e5f7727083ba870fd25d1fa532304cb" category="list-text">* SG6000-CN 控制器 *</block>
  <block id="2709bb76e90bebee43baf26cdf50eda9" category="image-alt">SG6000-CN 控制器</block>
  <block id="cc37a264ad179916d115554149cab950" category="list-text">* 未安装驱动器的 E2860 控制器架 *</block>
  <block id="70dace34c69ad39d3bc2c6117536570f" category="list-text">* 两个前挡板 *</block>
  <block id="955bee217759d89479fa2fe9edceb502" category="image-alt">前挡板</block>
  <block id="47bf6e1f0db0af069498ebadcfb493a6" category="list-text">* 两个导轨套件，含说明 *</block>
  <block id="3203f5b22b1dc8f366f55d89a4e2d64f" category="list-text">* 60 个驱动器（ 2 个 SSD 和 58 个 NL-SAS ） *</block>
  <block id="3ecc3c77d7391179b198a81756227a03" category="list-text">* 四个句柄 *</block>
  <block id="8324e23164ccc1fad309e07f76168e91" category="list-text">* 用于方孔机架安装的背面支架和固定框架螺母 *</block>
  <block id="ccf1953df51cf25809cce64763ca7adb" category="section-title">SG6060 扩展架</block>
  <block id="63d28b4ae00b885d65a8abf735dcc30c" category="list-text">* 未安装驱动器的扩展架 *</block>
  <block id="976e9afbdd575d65773fe40aad4b24f7" category="list-text">* 前挡板 *</block>
  <block id="ed2f8261e636da4f84c09f3bd22981d8" category="image-alt">前挡板 DE460C</block>
  <block id="0e5fe6bab14540a72191f402ac631ddc" category="list-text">* 60 个 NL-SAS 驱动器 *</block>
  <block id="7345250905c31c03e1d8aef49e9a07fe" category="list-text">* 一个导轨套件，含说明 *</block>
  <block id="d3c653c8dfce54dfde071d0815f167da" category="list-text">* 已安装 24 个固态（闪存）驱动器的 EF570 闪存阵列 *</block>
  <block id="de006fe0acfc2bc6472d7f1c521082f0" category="image-alt">EF570 控制器架</block>
  <block id="388c9163025cad1b497ca39dd5ef19c8" category="image-alt">SG6024 前挡板</block>
  <block id="8d7a27a3f16a85d0447ede43ff4c2135" category="list-text">* 磁盘架端盖 *</block>
  <block id="21be58672293bedcffe93800104e5548" category="image-alt">端盖</block>
  <block id="36ff6547ff1a6136aeab850d03ac9a3f" category="list-text">* 您所在国家或地区的四根电源线 *</block>
  <block id="84aff3de32e17a0a50d311b3400f6d33" category="paragraph">用于 FC 互连端口的四根光缆</block>
  <block id="6912c0be2279b114257971ff59e30ad2" category="paragraph">四个 SFP+ 收发器，支持 16 Gb/ 秒 FC</block>
  <block id="df35820019668773a94977abfde92193" category="list-text">* 可选：两根 SAS 缆线用于连接每个 SG6060 扩展架 *</block>
  <block id="1d60b1c3bec03095c7a89434de069936" category="image-alt">SAS 缆线</block>
  <block id="e7156ac1994774d09c2c24ba3f916a1f" category="summary">您必须在网格管理器中创建一个租户帐户以供 FabricPool 使用。</block>
  <block id="0ab2da7a86593a4b07404b284224013c" category="doc">为 FabricPool 创建租户帐户</block>
  <block id="6d9c8062211232c7713ce994f9530cde" category="paragraph">租户帐户允许客户端应用程序在 StorageGRID 上存储和检索对象。每个租户帐户都有自己的帐户 ID ，授权组和用户，分段和对象。</block>
  <block id="ef03efe9fd85e66027b921d2306f1d77" category="paragraph">您可以对多个 ONTAP 集群使用相同的租户帐户。或者，您也可以根据需要为每个 ONTAP 集群创建一个专用租户帐户。</block>
  <block id="4d12a3edf8ece44edf7db089d03f3f77" category="inline-xref-macro">有关创建租户帐户的说明</block>
  <block id="e799977424ed3965e0e016bcbdbcb6f4" category="admonition">以下说明假定您已为网格管理器配置单点登录（ Single Sign-On ， SSO ）。如果未启用 SSO ，请使用 <block ref="067295fe1663bc75362654b608eaca33" category="inline-xref-macro-rx"></block> 而是。</block>
  <block id="b15881dc066175be5cef012cb3f57739" category="list-text">选择 * 租户 * 。</block>
  <block id="3c8acd19d20c9f8c792bb33dfd391164" category="list-text">输入显示名称和问题描述 。</block>
  <block id="2671f377a075dc45dcdb42d3f46632fd" category="list-text">选择 * 。 s3* 。</block>
  <block id="12fd47d5a4b02f9184f5081abf2682d8" category="list-text">将 * 存储配额 * 字段留空。</block>
  <block id="1bb5beed9f5993596319a87b83f85b65" category="list-text">选择 * 允许平台服务 * 可启用平台服务的使用。</block>
  <block id="f5f4c17cbf0366c628791daadd1cd2e5" category="paragraph">如果启用了平台服务，则租户可以使用 CloudMirror 复制等功能来访问外部服务。</block>
  <block id="dd27a9294c6d4971c21ac4eb27f11464" category="list-text">请勿选择 * 使用自己的身份源 * 。</block>
  <block id="d424c36632fcf2481ca41bdc42dce70b" category="list-text">请勿选择 * 允许 S3 选择 * 。</block>
  <block id="5d1e105993fe9ad0d255a2b44fd5dd7f" category="list-text">从网格管理器中选择一个现有联合组，以获得租户的初始根访问权限。</block>
  <block id="c2758fa9d8159cf174958c2a38dbf527" category="list-text">选择 * 创建租户 * 。</block>
  <block id="a98d2e3dc381ba9ba1c1278cdfabb6a9" category="summary">在将 StorageGRID 附加为 FabricPool 云层之前，您必须使用 StorageGRID 网格管理器至少配置一个负载平衡器端点。</block>
  <block id="53a6b25eab0c91ffb60f62add6c9d4bc" category="doc">负载平衡最佳实践</block>
  <block id="dab7f075d9c7be2eac9bcf7df5cb54e5" category="section-title">什么是负载平衡？</block>
  <block id="9f8e9c5e09b70871182c48203d58c39d" category="paragraph">在将数据从 FabricPool 分层到 StorageGRID 系统时， StorageGRID 会使用负载平衡器来管理载入和检索工作负载。负载平衡通过在多个存储节点之间分布 FabricPool 工作负载，最大限度地提高速度和连接容量。</block>
  <block id="944b71402cd24845ff39c563c96ca044" category="paragraph">StorageGRID 负载平衡器服务安装在所有管理节点和所有网关节点上，并提供第 7 层负载平衡。它会终止客户端请求，检查请求并与存储节点建立新的安全连接。</block>
  <block id="8d2a3eedf773a72befa932aed8d7f9ac" category="paragraph">将客户端流量转发到存储节点时，每个节点上的负载平衡器服务会独立运行。通过加权过程，负载平衡器服务会将更多请求路由到 CPU 可用性更高的存储节点。</block>
  <block id="8093bef8d3bd5322de90d79561037395" category="inline-link">TR-4626 ： StorageGRID 第三方和全局负载平衡器</block>
  <block id="a2c2070c2f3795327ecb2d6b0b1e4888" category="paragraph">虽然建议使用 StorageGRID 负载平衡器服务来平衡负载，但您可能希望集成第三方负载平衡器。有关信息，请联系您的 NetApp 客户代表或参阅<block ref="ec679a3314262150343eb4fab3671478" category="inline-link-rx"></block>。</block>
  <block id="7a70566cdfe11f85775164ef0744c103" category="admonition">网关节点上的单独连接负载平衡器（ CLB ）服务已弃用，不再建议用于 FabricPool 。</block>
  <block id="ffc35660cb01781fda0d8ca8311aa666" category="section-title">StorageGRID 负载平衡最佳实践</block>
  <block id="4cdd2e050ab7da0c29f3507feee7e60a" category="paragraph">作为一般最佳实践， StorageGRID 系统中的每个站点都应包含两个或更多具有负载平衡器服务的节点。例如，一个站点可能包含两个网关节点，或者同时包含一个管理节点和一个网关节点。无论您使用的是 SG100 或 SG1000 服务设备，裸机节点还是基于虚拟机（ VM ）的节点，确保每个负载平衡节点都有足够的网络，硬件或虚拟化基础架构。</block>
  <block id="c8d5702cdfb2eebc7baf61e80306eb20" category="paragraph">您必须配置 StorageGRID 负载平衡器端点，以定义网关节点和管理节点用于传入和传出 FabricPool 请求的端口。</block>
  <block id="f959b32293035926fe3db951186b247e" category="section-title">负载平衡器端点证书的最佳实践</block>
  <block id="7fc3ef6fb28f2d24d218001a57a02a7a" category="paragraph">创建用于 FabricPool 的负载平衡器端点时，应使用 HTTPS 作为协议。支持在不使用 TLS 加密的情况下与 StorageGRID 通信，但不建议这样做</block>
  <block id="baa36890523daed2443a6e0e6f18e79e" category="paragraph">然后，您可以上传由公共信任或私有证书颁发机构（ CA ）签名的证书，也可以生成自签名证书。此证书允许 ONTAP 向 StorageGRID 进行身份验证。</block>
  <block id="83d14706ccd2ebce6513378fb48cc0c7" category="paragraph">作为最佳实践，您应使用 CA 服务器证书来保护连接。由 CA 签名的证书可以无中断地轮换。</block>
  <block id="f7654e8fe6917124d2ec29b59ce87fe2" category="paragraph">请求用于负载平衡器端点的 CA 证书时，请确保此证书上的域名与您在 ONTAP 中为该负载平衡器端点输入的服务器名称匹配。如果可能，请使用通配符（ * ）来支持虚拟主机模式的 URL 。例如：</block>
  <block id="141a05d950997831b4e3beeab41dbf04" category="paragraph">在将 StorageGRID 添加为 FabricPool 云层时，必须将同一证书安装到 ONTAP 集群以及根证书颁发机构（ CA ）证书和任何从属证书颁发机构（ CA ）证书。</block>
  <block id="8add8e3488681cb066fc5ac256a884a6" category="admonition">StorageGRID 将服务器证书用于多种用途。如果要连接到负载平衡器服务，您可以选择使用 S3 和 Swift API 证书。</block>
  <block id="fa0644fddf70d7a25be36e6ec5d7fa1c" category="paragraph">要了解有关负载平衡端点的服务器证书的详细信息，请执行以下操作：</block>
  <block id="ab412983dcdc2d64f5eb319fec073b1f" category="list-text"><block ref="ab412983dcdc2d64f5eb319fec073b1f" category="inline-xref-macro-rx"></block></block>
  <block id="7227595c3b633f263ea6a6df909c8038" category="inline-xref-macro">服务器证书的强化准则</block>
  <block id="b28678540b44e3bca60da9927f68ce5e" category="list-text"><block ref="b28678540b44e3bca60da9927f68ce5e" category="inline-xref-macro-rx"></block></block>
  <block id="92a141588584c76e4504f125ba93b25a" category="summary">在配置 StorageGRID 以与 FabricPool 结合使用时，您可以选择创建一个或多个高可用性组（ HA\ ）。HA 组由管理节点，网关节点或这两者上的一个或多个网络接口组成。</block>
  <block id="4aa092a0b489c63c985eeea9b40b8d8a" category="doc">为 FabricPool 创建高可用性（ HA ）组</block>
  <block id="b53245e0644585c7442485bd9b0829ba" category="paragraph">在配置 StorageGRID 以与 FabricPool 结合使用时，您可以选择创建一个或多个高可用性（ HA ）组。HA 组由管理节点，网关节点或这两者上的一个或多个网络接口组成。</block>
  <block id="9f84d1bc77171208db2a021e16e65a58" category="list-text">如果您计划使用 VLAN ，则已创建 VLAN 接口。请参见 <block ref="4469d71444e4376d8f53ea1c79727026" category="inline-xref-macro-rx"></block>。</block>
  <block id="f8f33746643d61e687a6c77d27653c94" category="paragraph">每个 HA 组都使用虚拟 IP 地址（ VIP ）来提供对关联节点上共享服务的高可用性访问。</block>
  <block id="fb8cf1633670c2a402739187a4810472" category="paragraph">有关此任务的详细信息，请参见 <block ref="deb53d6ec4b9923d520c1ccf0f97a95d" category="inline-xref-macro-rx"></block>。</block>
  <block id="03801900101f2db430b7b8c06aa381ec" category="list-text">选择 * 配置 * &gt; * 网络 * &gt; * 高可用性组 * 。</block>
  <block id="b25efdc0ef4a6fa94949cc6b38bdd1b4" category="list-text">输入唯一名称，也可以选择输入问题描述 。</block>
  <block id="b074c83f6a2cb06d472ee8eac8d1222f" category="list-text">选择一个或多个接口以添加到此 HA 组。</block>
  <block id="53a788c23748712cc5f3846fa3ff2303" category="paragraph">使用列标题对行进行排序，或者输入搜索词以更快地找到接口。</block>
  <block id="1ccfe83566d73163011d6b19a37a5c48" category="list-text">确定此 HA 组的主接口和任何备份接口。</block>
  <block id="9b91c04dfd6155ba6b009d906ebd1197" category="paragraph">拖放行以更改 * 优先级顺序 * 列中的值。</block>
  <block id="228493b9639e45e4e4946d3ce385a295" category="paragraph">列表中的第一个接口是主接口。主接口是活动接口，除非发生故障。</block>
  <block id="fbd183816e5ac969a65d0f7573872b52" category="paragraph">如果 HA 组包含多个接口且活动接口发生故障，则 VIP 地址将按优先级顺序移至第一个备份接口。如果该接口发生故障， VIP 地址将移至下一个备份接口，依此类推。解决故障后， VIP 地址将移回可用的最高优先级接口。</block>
  <block id="0527602ea08f5aacce08d20be344ce26" category="list-text">以 CIDR 表示法 ##8212 指定 VIP 子网； IPv4 地址后跟斜杠和子网长度（ 0-32 ）。</block>
  <block id="51e0b25a2f75226a1130e19d1744f739" category="paragraph">网络地址不能设置任何主机位。例如， `192.16.0.0/22` 。</block>
  <block id="6c9fe1b48428e3d5b9f9696fef185503" category="list-text">或者，如果用于访问 StorageGRID 的 ONTAP IP 地址与 StorageGRID VIP 地址不在同一子网中，请输入 StorageGRID VIP 本地网关 IP 地址。本地网关 IP 地址必须位于 VIP 子网中。</block>
  <block id="e338ec2b6655dfa5836adff91966e7d7" category="list-text">输入 HA 组的一个或多个虚拟 IP 地址。最多可以添加 10 个 IP 地址。所有 VIP 都必须位于 VIP 子网中。</block>
  <block id="b87e75ff8f4d96c62e730ca9ca801add" category="paragraph">您必须至少提供一个 IPv4 地址。您也可以指定其他 IPv4 和 IPv6 地址。</block>
  <block id="072f11264de22954c7ab25e7e93bf6a4" category="list-text">选择 * 创建 HA 组 * ，然后选择 * 完成 * 。</block>
  <block id="b889ae93295af8cad019c487d7027e34" category="summary">在配置要与 FabricPool 结合使用的 StorageGRID 系统时，应避免设置可能影响数据保存方式的全局选项。</block>
  <block id="1a5da8987407d0b9ff513fbe72a3d092" category="doc">StorageGRID 和 FabricPool 的其他最佳实践</block>
  <block id="3b05b2d962a003800689cdb95d958d1d" category="section-title">对象加密</block>
  <block id="6bbad00fd13258515efe167232d89456" category="paragraph">配置 StorageGRID 时，如果其他 StorageGRID 客户端需要数据加密，您可以选择启用全局 * 存储对象加密 * 设置（ * 配置 * &gt; * 系统 * &gt; * 网格选项 * ）。从 FabricPool 分层到 StorageGRID 的数据已加密，因此不需要启用 StorageGRID 设置。客户端加密密钥归 ONTAP 所有。</block>
  <block id="7efe0297b212181f63e6d1aab7dfe577" category="section-title">对象压缩</block>
  <block id="84124766375843ed90af81e4d4b9a8bc" category="paragraph">配置 StorageGRID 时，请勿启用全局 * 压缩存储的对象 * 设置（ * 配置 * &gt; * 系统 * &gt; * 网格选项 * ）。已对从 FabricPool 分层到 StorageGRID 的数据进行压缩。启用 * 压缩存储的对象 * 不会进一步减小对象的大小。</block>
  <block id="689e56411cdf63a8d1c2ea1bce935640" category="section-title">一致性级别</block>
  <block id="af4d73da90971496489b983213043e04" category="inline-xref-macro">更改一致性级别</block>
  <block id="2d894ed88b542ae71158fdbecb8b4407" category="paragraph">对于 FabricPool 存储分段，建议的存储分段一致性级别为 `read-after-new-write 。` 不建议使用 "`Available` " 一致性级别。请参见 <block ref="026509913d462825b3e27615faf18956" category="inline-xref-macro-rx"></block>。</block>
  <block id="47f64097ec44c9f18f4025941f2e4436" category="section-title">FabricPool 分层</block>
  <block id="cf9b735365d85e144386b8a22f9ff509" category="paragraph">如果 StorageGRID 节点使用从 NetApp AFF 系统分配的存储，请确认此卷未启用 FabricPool 分层策略。例如，如果 StorageGRID 节点正在 VMware 主机上运行，请确保为 StorageGRID 节点的数据存储库提供支持的卷未启用 FabricPool 分层策略。对 StorageGRID 节点使用的卷禁用 FabricPool 分层可简化故障排除和存储操作。</block>
  <block id="8d3b6d457c9901ae063be4c70abfde9b" category="summary">在将 StorageGRID 附加为 FabricPool 云层之前，您应使用 StorageGRID 网格管理器配置高可用性 \ （ HA\ ）组。</block>
  <block id="c9e0b54f96514c469efeff81d988d17d" category="doc">高可用性组的最佳实践</block>
  <block id="ecee34b0a4ce486167c9703c55f5e0b3" category="paragraph">在将 StorageGRID 附加为 FabricPool 云层之前，您应使用 StorageGRID 网格管理器配置高可用性（ HA ）组。</block>
  <block id="d9c70fc77be1360d6c75a3570577bc06" category="section-title">什么是高可用性（ HA ）组？</block>
  <block id="460d9f013d74d8db4bef13d18d0db9fb" category="paragraph">为了确保负载平衡器服务始终可用于管理 FabricPool 数据，您可以将多个管理节点和网关节点的网络接口分组到一个实体中，称为高可用性（ High Availability ， HA ）组。如果 HA 组中的活动节点发生故障，则组中的另一个节点可以继续管理工作负载。</block>
  <block id="2466bdb134b62c9bd27761445e2cfbd9" category="paragraph">每个 HA 组均可提供对关联节点上共享服务的高可用性访问。例如，如果 HA 组仅包含网关节点上的接口，或者同时包含管理节点和网关节点上的接口，则可以对共享负载平衡器服务进行高可用性访问。</block>
  <block id="6f51103950eb311679c2d0112c258177" category="paragraph">要创建 HA 组，请执行以下常规步骤：</block>
  <block id="fe66eafc2e1f0268d0e888d1cf1042be" category="list-text">为一个或多个管理节点或网关节点选择网络接口。您可以选择网格网络接口（ eth0 ），客户端网络接口（ eth2 ）或 VLAN 接口。</block>
  <block id="78ca72f7d1616a7f7e971b17d62394f7" category="admonition">如果您计划使用 VLAN 接口隔离 FabricPool 流量，则网络管理员必须先配置中继接口和相应的 VLAN 。每个 VLAN 都通过一个数字 ID 或标记来标识。例如，您的网络可能会使用 VLAN 100 传输 FabricPool 流量。</block>
  <block id="f25d5eb34954f8f95f97816fc85eca4d" category="list-text">为组分配一个或多个虚拟 IP （ VIP ）地址。FabricPool 等客户端应用程序可以使用其中任何 VIP 地址连接到 StorageGRID 。</block>
  <block id="8a6b78f7ce154301be4ef12250c693d2" category="list-text">指定一个接口作为主接口，并确定任何备份接口的优先级顺序。主接口是活动接口，除非发生故障。</block>
  <block id="e28462eb11321849fdcaaff9112457e0" category="paragraph">如果 HA 组包含多个接口，而主接口出现故障，则 VIP 地址将按优先级顺序移至第一个备份接口。如果该接口发生故障， VIP 地址将移至下一个备份接口，依此类推。此故障转移过程通常只需几秒钟，并且速度足以使客户端应用程序不会受到任何影响，并且可以依靠正常的重试行为继续运行。</block>
  <block id="169d21b3f74b46bb7925539b771c7295" category="paragraph">解决故障后，如果更高优先级的接口再次可用，则 VIP 地址会自动移至可用的最高优先级接口。</block>
  <block id="70c65412bd804405e35fe44034117059" category="section-title">高可用性（ HA ）组的最佳实践</block>
  <block id="6d83ac4e13c82fcee2acaffb87e04c66" category="paragraph">为 FabricPool 创建 StorageGRID HA 组的最佳实践取决于工作负载，如下所示：</block>
  <block id="2a5fae7335dc9025b4c07eaa6f93c305" category="list-text">如果您计划将 FabricPool 与主工作负载数据结合使用，则必须创建一个至少包含两个负载平衡节点的 HA 组，以防止数据检索中断。</block>
  <block id="7bb65b063b10815715c92309590ad0d5" category="list-text">如果您计划使用 FabricPool snapshot-only 卷分层策略或非主本地性能层（例如，灾难恢复位置或 NetApp SnapMirror ® 目标），则只能为 HA 组配置一个节点。</block>
  <block id="71372ac93f8ea7ee8796d5b7bdbe7326" category="inline-xref-macro">HA 组的配置选项</block>
  <block id="1eaef1853f006acaaf0a750b9d5382c6" category="paragraph">以下说明介绍如何为主动备份 HA 设置 HA 组（一个节点为活动节点，一个节点为备份节点）。但是，您可能更喜欢使用 DNS 轮循或主动 - 主动 HA 。要了解这些其他 HA 配置的优势，请参见 <block ref="7956d0a67b83da3c41bdb165c9eae09d" category="inline-xref-macro-rx"></block>。</block>
  <block id="be3f0f9c7d8f09543819bb2410114531" category="summary">如果您使用 FabricPool 将数据分层到 StorageGRID ，则必须了解创建 StorageGRID 信息生命周期管理 \ （ ILM ）规则以及用于管理 FabricPool 数据的 ILM 策略的要求。您必须确保适用于 FabricPool 数据的 ILM 规则不会造成中断。</block>
  <block id="2b4a6c8b906a4fa44c292cb361d3f01c" category="doc">将 StorageGRID 信息生命周期管理与 FabricPool 数据结合使用</block>
  <block id="28ae5136f0b688a0cd3e830422b86468" category="paragraph">如果您使用 FabricPool 将数据分层到 StorageGRID ，则必须了解创建 StorageGRID 信息生命周期管理（ ILM ）规则和用于管理 FabricPool 数据的 ILM 策略的要求。您必须确保适用于 FabricPool 数据的 ILM 规则不会造成中断。</block>
  <block id="3038f117e10c19c85650592487d389f1" category="admonition">FabricPool 不了解 StorageGRID ILM 规则或策略。如果 StorageGRID ILM 策略配置不当，可能会发生数据丢失。请参见 <block ref="5143f9b7656d191fdc2d9db2e1591b49" category="inline-xref-macro-rx"></block> 有关详细的 ILM 说明。</block>
  <block id="b76764bed22a7118714d66222c4f3671" category="paragraph">请查看这些准则，以确保您的 ILM 规则和 ILM 策略适合 FabricPool 数据和业务要求。如果您已经在使用 StorageGRID ILM ，则可能需要更新活动的 ILM 策略以满足这些准则。</block>
  <block id="abea13366f1b490e3ae31eff6c1f0475" category="list-text">您可以使用复制和纠删编码规则的任意组合来保护云层数据。</block>
  <block id="2dc6dd75a0980fd12a01a8106aad23af" category="paragraph">建议的最佳实践是，在站点内使用 2+1 纠删编码，以实现经济高效的数据保护。纠删编码使用的 CPU 较多，但提供的存储容量明显低于复制。4+1 和 6+1 方案使用的容量小于 2+1 方案。但是，如果您需要在网格扩展期间添加存储节点， 4+1 和 6+1 方案的灵活性将会降低。有关详细信息，请参见 <block ref="92cf4a43c40412de1b7183f9fe07de3a" category="inline-xref-macro-rx"></block>。</block>
  <block id="3ee9b46a2989bdd610f49947455568c2" category="list-text">应用于 FabricPool 数据的每个规则都必须使用纠删编码，或者必须至少创建两个复制副本。</block>
  <block id="dad8f26f470a26f374807b3bddd0485f" category="admonition">如果 ILM 规则在任何时间段内仅创建一个复制副本，则会使数据面临永久丢失的风险。如果某个对象只存在一个复制副本，则在存储节点出现故障或出现严重错误时，该对象将丢失。在升级等维护过程中，您还会暂时失去对对象的访问权限。</block>
  <block id="d2e72700f6f87fd2820ff8f5e3f456a0" category="list-text">请勿使用将使 FabricPool 云层数据过期或删除的 ILM 规则。将每个 ILM 规则中的保留期限设置为 " 永久 " ，以确保 StorageGRID ILM 不会删除 FabricPool 对象。</block>
  <block id="78f5a8ff5acc84873cb71b84622d4b62" category="list-text">请勿创建将 FabricPool 云层数据从存储分段移至其他位置的规则。您不能使用 ILM 规则使用归档节点将 FabricPool 数据归档到磁带，也不能使用云存储池将 FabricPool 数据移动到其他对象存储。</block>
  <block id="06a216b3ab52d2c3cfb488eabbc19261" category="admonition">不支持将云存储池与 FabricPool 结合使用，因为从云存储池目标检索对象会增加延迟。</block>
  <block id="fde0183cccd4b6a882d8917fecc9a087" category="list-text">从 ONTAP 9.8 开始，您可以选择创建对象标记来帮助对分层数据进行分类和排序，以便于管理。例如，您只能在连接到 StorageGRID 的 FabricPool 卷上设置标记。然后，在 StorageGRID 中创建 ILM 规则时，您可以使用对象标记高级筛选器选择并放置此数据。</block>
  <block id="7fbb73d6b1930407d4106e5013022c6e" category="section-title">FabricPool 数据的 ILM 策略示例</block>
  <block id="155f320eda250a2eb8241c0b9166f092" category="paragraph">使用此简单的示例策略作为您自己的 ILM 规则和策略的起点。</block>
  <block id="15262cb352142c8220f6293f5212c599" category="paragraph">本示例假设您正在为一个 StorageGRID 系统设计 ILM 规则和 ILM 策略，该系统在科罗拉多州丹佛的一个数据中心内有四个存储节点。此示例中的 FabricPool 数据使用名为 `fabricpool-bucket` 的存储分段。</block>
  <block id="f52ff87174aae50156764c0bd8cd112d" category="admonition">以下 ILM 规则和策略仅为示例。配置 ILM 规则的方法有多种。在激活新策略之前，请模拟建议的策略，以确认它将按预期工作，以防止内容丢失。要了解更多信息，请参见 <block ref="5143f9b7656d191fdc2d9db2e1591b49" category="inline-xref-macro-rx"></block>。</block>
  <block id="9a6054893c628356940905fd83f24b01" category="list-text">创建一个名为 * 的存储池 * 。选择丹佛站点。</block>
  <block id="acf6a5582a013c2caad9fb3b2ea41a76" category="list-text">创建一个名为 *2 加 1* 的擦除编码配置文件。选择 2+1 纠删编码方案和 * DEN* 存储池。</block>
  <block id="e2ee74493dacdb915c9e2b85397838bf" category="list-text">创建仅适用于 `fabricpool-bucket` 中数据的 ILM 规则。此示例规则用于创建经过擦除编码的副本。</block>
  <block id="e35d59c335e26445eed5e3cf4fc88047" category="cell">规则定义</block>
  <block id="f2b79ea7fccde09a23cd5487aed8b66d" category="cell">示例值</block>
  <block id="165b5a2f9a41e7b74d014c70c86bb407" category="paragraph">规则名称</block>
  <block id="fbdcb0c00a02ecf5eec8160da5256576" category="paragraph">2 加上 1 个用于 FabricPool 数据的纠删编码</block>
  <block id="913481d870d2acf0ab766357afb6ea53" category="paragraph">`fabricpool-bucket`</block>
  <block id="7569251dac58f61027cb8efd7211aff1" category="paragraph">您也可以筛选 FabricPool 租户帐户。</block>
  <block id="53fe9d76b1ba589991576c0208798009" category="paragraph">高级筛选</block>
  <block id="898303d9e05c6af0b48eada30514b972" category="paragraph">对象大小（ MB ）大于 0.2 MB 。</block>
  <block id="c9f547aa299f18cf6e649dbdc65880b4" category="paragraph">* 注： * FabricPool 仅写入 4 MB 对象，但您必须添加对象大小筛选器，因为此规则使用纠删编码。</block>
  <block id="e9dd3563bf4ff5a71eb003c49776c930" category="paragraph">参考时间</block>
  <block id="ae13e51f99f3be623a6d44d7439d9bb5" category="paragraph">放置</block>
  <block id="6f6e4e904a4e2687567427b3823d163e" category="paragraph">从 Day 0 存储永久存储</block>
  <block id="29db2d07ae598d9355bbc248a226b128" category="paragraph">已进行纠删编码</block>
  <block id="ce5bf551379459c1c61d2a204061c455" category="paragraph">位置</block>
  <block id="53010a6c1bde7d901ff08e1e29389c40" category="paragraph">DEN （ 2 加 1 ）</block>
  <block id="80cb0c66c0080d1e4c291f66705ba62d" category="paragraph">载入行为</block>
  <block id="c6589f5236c0c434d0c63dc5f9a856f2" category="paragraph">平衡</block>
  <block id="04ffbb603d8e979fcf8d5583194febab" category="list-text">创建一个 ILM 规则，以便为第一个规则不匹配的任何对象创建两个复制副本。请勿选择基本筛选器（租户帐户或存储分段名称）或任何高级筛选器。</block>
  <block id="fde1ff1e7ef011138649ba4a36c1ff6c" category="paragraph">两个复制副本</block>
  <block id="2b05af508557171ef05e2ce095fc8809" category="paragraph">无 _</block>
  <block id="cde9e6576d2cd1bb93387925d982000d" category="paragraph">已复制</block>
  <block id="d622dafa9ced7bbde05af58d76115475" category="paragraph">DEN</block>
  <block id="add9854ea38db7cf26ce0ace532900a7" category="paragraph">副本</block>
  <block id="aa76cae3ae6da515e546b5c9b37de049" category="list-text">创建建议的 ILM 策略并选择两个规则。由于复制规则不使用任何筛选器，因此它可以是策略的默认（最后）规则。</block>
  <block id="11d828b0faee7e13d0eea69a8eb4aff9" category="list-text">将测试对象载入网格。</block>
  <block id="4936c585b8e089fc1f87fbae936ea93b" category="list-text">使用测试对象模拟策略以验证此行为。</block>
  <block id="35d18518cfbaf7c94225b28a19d0f7aa" category="list-text">激活策略。</block>
  <block id="0bacd0e9b7866a1a82505c452cc97b23" category="paragraph">激活此策略后， StorageGRID 将按如下所示放置对象数据：</block>
  <block id="990a8e212f89e2a340385e371fee869c" category="list-text">从 `fabricpool-bucket` 中的 FabricPool 分层的数据将使用 2+1 纠删编码方案进行纠删编码。两个数据片段和一个奇偶校验片段将放置在三个不同的存储节点上。</block>
  <block id="39976c7c4be1344206540dd88e4c7ae6" category="list-text">所有其他分段中的所有对象都将被复制。将创建两个副本并将其放置在两个不同的存储节点上。</block>
  <block id="595a096b2b6ccafe703157e69ce71c3b" category="list-text">经过纠删编码的副本和复制的副本将保留在 StorageGRID 中，直到 S3 客户端将其删除为止。StorageGRID ILM 不会删除这些项目。</block>
  <block id="1cc2df5e87d8cddad092e355df6526a7" category="summary">在将 StorageGRID 附加为 FabricPool 的云层之前，您必须在 StorageGRID 中执行一些配置步骤并获取某些值。</block>
  <block id="09af0f961abb06767889216bfbd10c4b" category="doc">将 StorageGRID 附加为云层所需的信息</block>
  <block id="da6b102b68464a1c33ee4f3134e15ec3" category="paragraph">下表列出了在将 StorageGRID 作为 FabricPool 的云层附加时必须向 ONTAP 提供的信息。本节中的主题介绍如何使用 StorageGRID 网格管理器和租户管理器来获取所需信息。</block>
  <block id="0c6c7ec2b78579c1514b2dccf776281c" category="admonition">列出的确切字段名称以及用于在 ONTAP 中输入所需值的过程取决于您使用的是 ONTAP 命令行界面（ storage aggregate object-store config create ）还是 ONTAP 系统管理器（ * 存储 * &gt; * 聚合和磁盘 * &gt; * 云层 * ）。</block>
  <block id="5b4a1efe657a5b4c52305b5f4d7ba621" category="paragraph">有关详细信息，请参见以下内容：</block>
  <block id="34915d9dffecd83e1fe42cfd7ab97cc7" category="inline-link">TR-4598 ：《 ONTAP 9.9.1 中的 FabricPool 最佳实践》</block>
  <block id="f31f75655f99e1f350e375b06e3c6da5" category="list-text"><block ref="f31f75655f99e1f350e375b06e3c6da5" category="inline-link-rx"></block></block>
  <block id="5358757de9216cc29d688612a3d72fe1" category="inline-link">ONTAP 9 文档</block>
  <block id="05d1b66800ffa31a913a6add4305e4e3" category="list-text"><block ref="05d1b66800ffa31a913a6add4305e4e3" category="inline-link-rx"></block></block>
  <block id="7ae9e5d088ff91e49d23829ef77d3fa5" category="cell">ONTAP 字段</block>
  <block id="1535562328018371daab655cb394dd1b" category="paragraph">对象存储名称</block>
  <block id="0e676f21076ee414b34a5a7ae181d541" category="paragraph">任何唯一的描述性名称。例如， `StorageGRID_Cloud_Tier` 。</block>
  <block id="ed63c3b26b40ffa86ddf8c08e95e4558" category="paragraph">提供程序类型</block>
  <block id="30001f4b609817444ac64002e285716b" category="paragraph">StorageGRID （ ONTAP 系统管理器）或 `SGWS` （ ONTAP 命令行界面）。</block>
  <block id="52c11ba6e69294449a44024e53c8d8d5" category="paragraph">FabricPool 连接到 StorageGRID 时将使用的端口。您可以确定在定义 StorageGRID 负载平衡器端点时要使用的端口号。</block>
  <block id="fc8d0b06e8c7c32f0e3c8ba076e5de33" category="inline-xref-macro">为 FabricPool 创建负载平衡器端点</block>
  <block id="b56875c033500e058dd595bdc38bf60b" category="paragraph"><block ref="b56875c033500e058dd595bdc38bf60b" category="inline-xref-macro-rx"></block></block>
  <block id="77164ab3f09192b741b88e8e85bb1809" category="paragraph">服务器名称</block>
  <block id="3a23071835c3c9bdf53a50f655957b5a" category="paragraph">StorageGRID 负载平衡器端点的完全限定域名（ FQDN ）。例如， `s3.storagegrid.company.com` 。</block>
  <block id="cf3a2d2c139bf5c9cc87fe714bfff3b1" category="paragraph">请注意以下事项：</block>
  <block id="b094772b885f05f99baeb096e735b1b3" category="list-text">此处指定的域名必须与您为 StorageGRID 负载平衡器端点上传的 CA 证书上的域名匹配。</block>
  <block id="be0c309d6c4d319c368cf0feef92c4c9" category="list-text">此域名的 DNS 记录必须映射到要用于连接到 StorageGRID 的每个 IP 地址。</block>
  <block id="ec14080266464a04fda87500316da68f" category="inline-xref-macro">为 DNS 服务器配置 StorageGRID IP 地址</block>
  <block id="96ac4523552034eff830e849acef5e98" category="paragraph"><block ref="96ac4523552034eff830e849acef5e98" category="inline-xref-macro-rx"></block></block>
  <block id="dbdfde773808a7d9ed43dd6f82a2cef4" category="paragraph">容器名称</block>
  <block id="0e70863ad220eb08f9c57b17a78277c9" category="paragraph">要在此 ONTAP 集群中使用的 StorageGRID 存储分段的名称。例如， `fabricpool-bucket` 。您可以在租户管理器中创建此存储分段，也可以从 ONTAP 9.10 System Manager 开始使用 FabricPool 设置向导创建存储分段。</block>
  <block id="d4e2ad008d8ab567753a93044ced39fb" category="list-text">创建配置后，无法更改存储分段名称。</block>
  <block id="56df7d68c4476c38756673bf84a78bd2" category="list-text">存储分段不能启用版本控制。</block>
  <block id="47c0dbbeceaccca691bfd5e3dd1dbca9" category="list-text">您必须为每个 ONTAP 集群使用不同的分段，以便将数据分层到 StorageGRID 。</block>
  <block id="bb47a93f683225b074850d7f730a55ca" category="inline-xref-macro">创建 S3 存储分段并获取访问密钥</block>
  <block id="d6242d71ff87f342071a188e97c3c1b8" category="paragraph"><block ref="d6242d71ff87f342071a188e97c3c1b8" category="inline-xref-macro-rx"></block></block>
  <block id="7388d6d605d1b51a3de34f58b26f623d" category="paragraph">访问密钥和机密密码</block>
  <block id="0ad6f087a3803384f69e1129b6ca78b5" category="paragraph">StorageGRID 租户帐户的访问密钥和机密访问密钥。</block>
  <block id="a87c9458d2c2c08dffc555a1cdece7ee" category="paragraph">您可以在租户管理器中生成这些值。</block>
  <block id="ea52c36203c5f99c3ce2442d531b1a22" category="paragraph">SSL</block>
  <block id="4777198af86f68282f5812cd58887376" category="paragraph">必须启用。</block>
  <block id="625ad8e3e56269231ecfe7395ab5babe" category="paragraph">对象存储证书</block>
  <block id="67f2dd121cada88359c842f9cda2d77c" category="paragraph">创建 StorageGRID 负载平衡器端点时上传的 CA 证书。</block>
  <block id="07bda1e6e5f7e7f1c28c123ed1616004" category="paragraph">* 注意： * 如果中间 CA 颁发了 StorageGRID 证书，则必须提供中间 CA 证书。如果 StorageGRID 证书是直接由根 CA 颁发的，则必须提供根 CA 证书。</block>
  <block id="a77290299a2a20d75da666857b115229" category="paragraph">获取所需的 StorageGRID 信息后，您可以转到 ONTAP 将 StorageGRID 添加为云层，将云层添加为聚合并设置卷分层策略。</block>
  <block id="7b90a7abb7a4215435a00ce1dbb93ab1" category="summary">您可以选择设计 StorageGRID 流量分类策略，以优化 FabricPool 工作负载的服务质量。</block>
  <block id="79c7809e9aeb79c88113940725c9a8b3" category="doc">为 FabricPool 创建流量分类策略</block>
  <block id="7b30789ce25b070d6cc451546b86866d" category="paragraph">为 FabricPool 创建流量分类策略的最佳实践取决于工作负载，如下所示：</block>
  <block id="db0dcddfdbb86fa8297494faa9bd629a" category="list-text">如果您计划将 FabricPool 主工作负载数据分层到 StorageGRID ，则应确保 FabricPool 工作负载具有大部分带宽。您可以创建流量分类策略来限制所有其他工作负载。</block>
  <block id="fc235b8727b5073256d0182d1b44e479" category="admonition">一般来说， FabricPool 读取操作比写入操作更重要。</block>
  <block id="590097ce86fce1a1ab9633d4a27dcb19" category="paragraph">例如，如果其他 S3 客户端使用此 StorageGRID 系统，则应创建流量分类策略。您可以限制其他分段，租户， IP 子网或负载平衡器端点的网络流量。</block>
  <block id="73bc7d0e9ad9e82d41533d2c0be591fe" category="list-text">通常，您不应对任何 FabricPool 工作负载实施服务质量限制；您只应限制其他工作负载。</block>
  <block id="8540b19db1dcca1320eea7e8c122cafd" category="list-text">对其他工作负载的限制应考虑这些工作负载的行为。根据网格的规模估算和功能以及预期利用率，施加的限制也会有所不同。</block>
  <block id="9dda51fb99de0b31856ca3b1378767f2" category="inline-xref-macro">管理流量分类策略</block>
  <block id="5834a7c3de8224f083627d6e46e5ffdd" category="paragraph">了解更多信息： <block ref="83f821715c2d6e8239f512aecc8d77c7" category="inline-xref-macro-rx"></block></block>
  <block id="87b262dbc31f448a65fbad1bd714682b" category="list-text">输入名称和问题描述 。</block>
  <block id="20755c31eae0e580c7ea67476dc19428" category="list-text">在匹配规则部分中，至少创建一个规则。</block>
  <block id="b60114acbe161b5b2373d6ed0af55be1" category="list-text">选择 * 端点 * ，然后选择为 FabricPool 创建的负载平衡器端点。</block>
  <block id="1503497a5334854f8746c3debfd4e2be" category="paragraph">您也可以选择 FabricPool 租户帐户或存储分段。</block>
  <block id="01959615e1572530b2466d32cec051b0" category="list-text">如果希望此流量策略限制其他端点的流量，请选择 * 反向匹配 * 。</block>
  <block id="4c3da18500937de1cee82fac4868e006" category="list-text">或者，也可以创建一个或多个限制。</block>
  <block id="6511bc19d60919ed476071d20477fb19" category="admonition">即使没有为流量分类策略设置限制，也会收集指标，以便您了解流量趋势。</block>
  <block id="ddec62a23e121dd7cef881793107934b" category="list-text">选择要限制的流量类型以及要应用的限制。</block>
  <block id="b14300298ce3b17a391c871f577c3853" category="paragraph">此示例 FabricPool 流量分类策略显示了可以限制的网络流量类型以及可以选择的值类型。实际策略的限制取决于您的特定要求。</block>
  <block id="2800061d05af7fd3ccafdccf44466de2" category="image-alt">流量分类策略 FabricPool</block>
  <block id="a38ec46e151bcedc87a0c4324e545d5d" category="list-text">创建流量分类策略后，选择该策略，然后选择 * 指标 * 以确定该策略是否按预期限制流量。</block>
  <block id="584b89869f1caab5ae5a03b46abac418" category="image-alt">流量分类指标 FabricPool</block>
  <block id="b0805c0a29c443def5110250a38841a6" category="summary">在将 StorageGRID 与 FabricPool 工作负载结合使用之前，您必须为 FabricPool 数据创建一个 S3 存储分段。您还需要为要用于 FabricPool 的租户帐户获取访问密钥和机密访问密钥。</block>
  <block id="c12db71d2be1629960b4ea455c870550" category="list-text">您已创建一个租户帐户供 FabricPool 使用。</block>
  <block id="ccb9e50d61cdc5dea0db150f4d979257" category="paragraph">以下说明介绍如何使用 StorageGRID 租户管理器创建存储分段并获取访问密钥。您也可以使用租户管理 API 或 StorageGRID S3 REST API 执行这些任务。或者，如果您使用的是 ONTAP 9.10 ，则可以改用 FabricPool 设置向导创建存储分段。</block>
  <block id="2769439193c58b8146d87ea44c31025a" category="paragraph">了解更多信息：</block>
  <block id="158a8071f3538be9d083526ed2bd8851" category="inline-xref-macro">使用租户帐户</block>
  <block id="a45393bc84d50473d112ef9346a5bbf2" category="list-text"><block ref="a45393bc84d50473d112ef9346a5bbf2" category="inline-xref-macro-rx"></block></block>
  <block id="64cda9ad253e822823167bd9873ec919" category="list-text">从网格管理器的租户帐户页面中，选择此租户的 * 登录 * 链接，然后输入您的凭据。</block>
  <block id="25ca48cf49be5c40bf56c06b02e53626" category="list-text">在 Web 浏览器中输入租户帐户的 URL ，然后输入凭据。</block>
  <block id="99a6eb8b492a4ad782c846ce58b56c3a" category="list-text">为 FabricPool 数据创建 S3 存储分段。</block>
  <block id="d010a36bd1986bd932cea5bb7fb075a6" category="paragraph">您必须为计划使用的每个 ONTAP 集群创建一个唯一的存储分段。</block>
  <block id="f2deee3a823c7eb5224cf72e6bcca83a" category="list-text">选择 * 存储（ S3 ） * &gt; * 分段 * 。</block>
  <block id="06f32c7525bf2fb6d70ba9b6c22385ce" category="list-text">选择 * 创建存储分段 * 。</block>
  <block id="e78e6c784dbcf3b9ed959cde2ba0ae38" category="list-text">输入要与 FabricPool 结合使用的 StorageGRID 存储分段的名称。例如， `fabricpool-bucket` 。</block>
  <block id="ebd77f86dd0438a383683674f3467e9e" category="admonition">创建存储分段后，您无法更改存储分段名称。</block>
  <block id="25bacc3b18425f57ebac83c80d452237" category="paragraph">存储分段名称必须符合以下规则：</block>
  <block id="17acf64d5bd10f9b9940ec31272b795a" category="list-text">为此存储分段选择区域。</block>
  <block id="da65f78f8624b4811e35044450dc8ac4" category="paragraph">默认情况下，所有分段都在 `us-east-1` 区域创建。</block>
  <block id="68521d3d2000c2ff6419d31eaf110582" category="image-alt">为 FabricPool 创建存储分段</block>
  <block id="9b90801e553afdfd80fb066ac20e6220" category="list-text">创建访问密钥和机密访问密钥。</block>
  <block id="3ce4a69f8d086e7aab8d6a4db30bbbe7" category="list-text">选择 * 存储（ S3 ） * &gt; * 我的访问密钥 * 。</block>
  <block id="e9cf922e1f11c495c46fafd140d5806b" category="list-text">选择 * 创建密钥 * 。</block>
  <block id="d214e8cccea2bae88a87f35c10078411" category="list-text">选择 * 创建访问密钥 * 。</block>
  <block id="9e00e6476476b868fadb716f37428ab2" category="list-text">将访问密钥 ID 和机密访问密钥复制到安全位置，或者选择 * 下载 .csv * 以保存包含访问密钥 ID 和机密访问密钥的电子表格文件。</block>
  <block id="b6422f55eb3e3d87c990ed6278c9632f" category="paragraph">将 StorageGRID 配置为 FabricPool 云层时，您将在 ONTAP 中输入这些值。</block>
  <block id="8d1b05c21c02cc9ea9f0fc565780696f" category="admonition">如果您将来创建新的访问密钥和机密访问密钥，请务必立即更新 ONTAP 中的相应值，以确保 ONTAP 可以在 StorageGRID 中存储和检索数据，而不会造成中断。</block>
  <block id="dd8f75ff1529b8257c5e6ad99fb85463" category="summary">在配置 StorageGRID 以与 FabricPool 结合使用时，您必须配置负载平衡器端点并上传负载平衡器端点证书，此证书用于保护 ONTAP 和 StorageGRID 之间的连接。</block>
  <block id="58566fb177fb0bd3b1ece4667cee803d" category="list-text">您具有以下文件：</block>
  <block id="a39524b69acfe54b3f0f2fb97985e366" category="list-text">Server Certificate ：自定义服务器证书文件。</block>
  <block id="e133419220b5c10923000d54c99bdf4c" category="list-text">服务器证书专用密钥：自定义服务器证书专用密钥文件。</block>
  <block id="c9ad2c77f0f9338f79cc17432fd597da" category="list-text">CA Bundle ：一个可选文件，其中包含来自每个中间颁发证书颁发机构（ CA ）的证书。此文件应包含 PEM 编码的每个 CA 证书文件，并按证书链顺序串联。</block>
  <block id="bcafb506c16c4d73fbab0f8df2624ca1" category="paragraph">有关此任务的详细信息，请参见 <block ref="ab412983dcdc2d64f5eb319fec073b1f" category="inline-xref-macro-rx"></block>。</block>
  <block id="b4fda861efdc5e221d4f41db8a622e5d" category="image-alt">创建 LB 端点</block>
  <block id="322105de7458067f66652499485642b9" category="list-text">输入端点详细信息。</block>
  <block id="53e9c575137e333ce51e9e0b5ecc0b1a" category="paragraph">端点的描述性名称</block>
  <block id="cf3e0b8635bffbed9c65ece6a16dc4dc" category="paragraph">要用于负载平衡的 StorageGRID 端口。此字段默认为 10433 ，但您可以输入任何未使用的外部端口。如果输入 80 或 443 ，则仅会在网关节点上配置端点，因为这些端口是在管理节点上保留的。</block>
  <block id="2ed4a52fcee86661a04fbab2ae773ea8" category="paragraph">* 注： * 不允许使用其他网格服务使用的端口。请参见<block ref="89d76a4797397e117ba41f992505ab82" category="inline-xref-macro-rx"></block>。</block>
  <block id="3e49d4ada8448ce127c03cf0e85787da" category="paragraph">在将 StorageGRID 附加为 FabricPool 云层时，您必须向 ONTAP 提供此相同端口号。</block>
  <block id="1b6a3a7f9fbeb015f05bb85ae31be2eb" category="paragraph">客户端类型</block>
  <block id="e50413742a5fcec9875c1e4bf1582c87" category="paragraph">网络协议</block>
  <block id="f7228e4d6d8876018952941f23873d79" category="paragraph">选择 * HTTPS * 。</block>
  <block id="13ac7b6b40eb92e3e81f9f05478dbca4" category="paragraph">* 注 * ：支持使用 * HTTP * ，但不建议使用。</block>
  <block id="4f24657f0305e499d5d66f06081fc4e5" category="list-text">指定绑定模式。</block>
  <block id="4457ed4636e0a5f8d3da8e27740e2dea" category="paragraph">使用 * 全局 * 设置（建议）或将此端点的可访问性限制为以下选项之一：</block>
  <block id="d8f7b21f35dd5964b09f9cd59bd26469" category="list-text">特定节点的特定网络接口。</block>
  <block id="a3708a785266fde38412f6f9ca271c1f" category="list-text">特定高可用性（ High Availability ， HA ）虚拟 IP 地址（ VIP ）。只有在需要更高级别的工作负载隔离时，才使用此选项。</block>
  <block id="bef3048160a48263c15a1f946787793c" category="list-text">选择 * 上传证书 * （建议），然后浏览到您的服务器证书，证书专用密钥和可选的 CA 捆绑包。</block>
  <block id="32f6b0ab4375253d8b7132a4f280905b" category="admonition">对端点证书所做的更改可能需要长达 15 分钟才能应用于所有节点。</block>
  <block id="bdc8859fa387be50d41aa135b2f02b60" category="summary">配置高可用性组和负载平衡器端点后，您必须确保 ONTAP 系统的域名系统 \ （ DNS\ ）包含一条记录，用于将 StorageGRID 服务器名称 \ （完全限定域名 \ ）与 FabricPool 用于进行连接的 IP 地址相关联。</block>
  <block id="f6ddd5b5ecf807beb26bf43a34cbef90" category="paragraph">配置高可用性组和负载平衡器端点后，您必须确保 ONTAP 系统的域名系统（ DNS ）包含一条记录，用于将 StorageGRID 服务器名称（完全限定域名）与 FabricPool 用于建立连接的 IP 地址相关联。</block>
  <block id="a8f7ea3c4f9b49ddae6843d1d42b298c" category="paragraph">在 DNS 记录中输入的 IP 地址取决于您是否使用的是由负载平衡节点组成的 HA 组：</block>
  <block id="830dbf1ee1b6264fd13a5ccc2a2e9cfe" category="list-text">如果已配置 HA 组， FabricPool 将连接到该 HA 组的虚拟 IP 地址。</block>
  <block id="d9ee1cd5adabd936ea384c447fa0076f" category="list-text">如果您不使用 HA 组，则 FabricPool 可以使用任何网关节点或管理节点的 IP 地址连接到 StorageGRID 负载平衡器服务。</block>
  <block id="c4771400bdc7f87e3500ce7ef1b76503" category="paragraph">此外，还必须确保 DNS 记录引用所有必需的端点域名，包括任何通配符名称。</block>
  <block id="d2f6ab12a6f7e305f84b194262c87a58" category="summary">如果您使用的是 NetApp ONTAP 软件，则可以使用 NetApp FabricPool 将非活动或冷数据分层到 NetApp StorageGRID 对象存储系统。</block>
  <block id="fbda09a548a3a6119659467ff1929d1e" category="doc">Configure StorageGRID for FabricPool ：概述</block>
  <block id="da6bd7d16319032b804e52b81c52e27d" category="paragraph">按照以下说明执行以下操作：</block>
  <block id="979534e8c8926922679527992469d62b" category="list-text">简要了解如何配置 StorageGRID 对象存储系统以与 FabricPool 结合使用。</block>
  <block id="67dba9971bf5916949338fffd7c11347" category="list-text">了解在将 StorageGRID 附加为 FabricPool 云层时如何获取您提供给 ONTAP 的信息。</block>
  <block id="bd9065e977c247a9059c7b582f4617a3" category="list-text">了解为 FabricPool 工作负载配置 StorageGRID 信息生命周期管理（ ILM ）策略， StorageGRID 流量分类策略和其他 StorageGRID 选项的最佳实践。</block>
  <block id="ee4737a99df1f82d6dbc164235a6ae68" category="section-title">配置工作流</block>
  <block id="6b88de2e2c1bf07607976407331f1259" category="image-alt">FabricPool StorageGRID 工作流</block>
  <block id="bf49a2af93184828c602f30985ab7b3e" category="section-title">开始之前</block>
  <block id="dea7474a60d598e651daf399e9725ba2" category="list-text">确定要使用哪个 FabricPool 卷分层策略将非活动 ONTAP 数据分层到 StorageGRID 。</block>
  <block id="4f31de0a833755c3efa9c7b8e9c2df33" category="list-text">规划和安装 StorageGRID 系统以满足您的存储容量和性能需求。</block>
  <block id="f3a1f493aa6f8104e150d5f21a7f72f0" category="list-text">熟悉 StorageGRID 系统软件，包括网格管理器和租户管理器。</block>
  <block id="7eab706e9c78fc963c714be683c997d1" category="list-text">查看以下附加资源，其中提供了有关使用和配置 FabricPool 的详细信息：</block>
  <block id="46245b8b7e69de26b663ce744dcd3348" category="section-title">什么是 FabricPool ？</block>
  <block id="aeaf707ea0c2eadb1e85ae26d4cbbf20" category="paragraph">FabricPool 是一种 ONTAP 混合存储解决方案 ，它使用高性能闪存聚合作为性能层，使用对象存储作为云层。数据存储在主存储介质上或对象数据存储库中，具体取决于是否经常访问。使用启用了 FabricPool 的聚合有助于降低存储成本，而不会影响性能，效率或保护。</block>
  <block id="d234f2d64cfcb263a126ce09d21f2474" category="paragraph">无需更改架构，您可以继续从中央 ONTAP 存储系统管理数据和应用程序环境。</block>
  <block id="ab168a0a6841d709e58cf2171967a061" category="section-title">什么是 StorageGRID ？</block>
  <block id="88160ba2a290c9091ec51f3f289bda3e" category="paragraph">StorageGRID 是一种存储架构，可以将数据作为对象进行管理，而不是像文件或块存储这样的其他存储架构。对象保留在一个容器（如分段）中，不会嵌套为其他目录中某个目录中的文件。虽然对象存储的性能通常低于文件或块存储，但其可扩展性明显更高。StorageGRID 存储分段可以容纳数 PB 的数据和数十亿个对象。</block>
  <block id="6270429edfd5e5f7febb1fa89d496d07" category="section-title">为什么使用 StorageGRID 作为 FabricPool 云层？</block>
  <block id="b1d2c49c25a8ecf2e5bc64068ab19bb8" category="paragraph">FabricPool 可以将 ONTAP 数据分层到多个对象存储提供程序，包括 StorageGRID 。公有 云可能会在存储分段或容器级别设置支持的每秒输入 / 输出操作数上限（ IOPS ），而 StorageGRID 性能则会随系统中的节点数进行扩展。使用 StorageGRID 作为 FabricPool 云层，您可以将冷数据保存在自己的私有云中，以获得最高性能并全面控制数据。</block>
  <block id="e6342cecfe776a0553f1927b406098c1" category="paragraph">此外，如果使用 StorageGRID 作为云层，则不需要 FabricPool 许可证。</block>
  <block id="e20f3c6afaf137c19a427fb617114291" category="section-title">是否可以在 StorageGRID 中使用多个 ONTAP 集群？</block>
  <block id="76589c84d7230481f03caff3b491a22a" category="paragraph">以下说明介绍如何将 StorageGRID 连接到单个 ONTAP 集群。但是，您可能希望将同一个 StorageGRID 系统连接到多个 ONTAP 集群。</block>
  <block id="e66c542ffb6df3b044bb52105123ded5" category="paragraph">将数据从多个 ONTAP 集群分层到一个 StorageGRID 系统的唯一要求是，必须为每个集群使用不同的 S3 存储分段。根据您的要求，您可以对所有集群使用相同的高可用性（ HA ）组，负载平衡器端点和租户帐户，也可以为每个集群配置其中每个项。</block>
  <block id="3e32134dee8a4cdf3a44b97bcabcf9a3" category="summary">重新启动服务时，系统会生成此消息，以指示上次关闭是清理 \ （已命令 \ ）还是无序 \ （意外 \ ）。</block>
  <block id="b7cfedbe1811331329e4810cf9b1bc8d" category="doc">SYSU ：节点启动</block>
  <block id="7dcc1561fb75c3a3407701c65190b36b" category="paragraph">重新启动服务时，系统会生成此消息，以指示上次关闭是正常关闭（已发出命令）还是无序关闭（意外关闭）。</block>
  <block id="a259fc4e1f867073d30562f35fbe58c6" category="paragraph">RSLT</block>
  <block id="30829c383604ea7186e48950980cd56a" category="paragraph">完全关闭</block>
  <block id="baa03a9642e97d2bcc7e4bb2b763299f" category="paragraph">关闭的性质：</block>
  <block id="d1ac091c7a7283551758a437386e0bd8" category="paragraph">SUC ：系统已完全关闭。</block>
  <block id="b20af54e46a6d87aee7f1e17e56420f8" category="paragraph">DSDN ：系统未完全关闭。</block>
  <block id="4200341a8632cd68180582e8ca74116f" category="paragraph">VRGN ：在安装（或重新安装）服务器后首次启动系统。</block>
  <block id="28de93a11fbcfc580116462918213e70" category="paragraph">此消息不会指示是否已启动主机服务器，仅会指示报告服务。此消息可用于：</block>
  <block id="6f187239c47bf126e7815b426f630571" category="list-text">检测审核跟踪中的不连续性。</block>
  <block id="4e0ade46250ec15ae5446be58edc6c59" category="list-text">确定服务在运行期间是否出现故障（因为 StorageGRID 系统的分布式特征可能会掩盖这些故障）。Server Manager 会自动重新启动失败的服务。</block>
  <block id="5503a36523125d839abbb90a94471f97" category="summary">在提交网格内容之前，此内容不可用或无法识别为已存储内容（表示此内容已永久存储）。持久存储的内容已完全写入磁盘，并已通过相关的完整性检查。将内容块提交到存储时会发出此消息。</block>
  <block id="283480314f6ec8df609d8c133fd93dad" category="doc">SCMT ：对象存储提交</block>
  <block id="40f41bc6baa12503a6b0de49818e6ad4" category="paragraph">网格内容在提交之前不可用或无法识别为已存储（这意味着它已持久存储）。持久存储的内容已完全写入磁盘，并已通过相关的完整性检查。将内容块提交到存储时会发出此消息。</block>
  <block id="a0e54de9b59892f03804ff64132f5900" category="paragraph">CBID</block>
  <block id="497c7c16becd535e4082ddf7cea7d2fd" category="paragraph">内容块标识符</block>
  <block id="980b5e8403a1bca28b3e14c5ba2f14d9" category="paragraph">提交到永久存储的内容块的唯一标识符。</block>
  <block id="741f0fdb26d6838bec8b8821b21bb9ef" category="paragraph">结果代码</block>
  <block id="046289462502ed2d8f00a77af7ef0686" category="paragraph">将对象存储到磁盘时的状态：</block>
  <block id="233b848b45225f01c85a7cf54b11df26" category="paragraph">SUCS ：对象已成功存储。</block>
  <block id="14b3113601397fac53d28c34749059a9" category="paragraph">此消息表示给定内容块已完全存储和验证，现在可以请求。它可用于跟踪系统内的数据流。</block>
  <block id="3f90cfc29518de90af6df08361af4d6f" category="summary">此消息表示向外部归档存储系统写入内容块的操作已结束。</block>
  <block id="971468278c17ee9a51f5d5083db1cf72" category="doc">ASCE ：归档对象存储结束</block>
  <block id="bcfafa911b26cf35db2d5f9a1e92099f" category="paragraph">存储在外部归档存储系统上的内容块的标识符。</block>
  <block id="0eaa0562515a23f5c4f62f5b58000ce9" category="paragraph">VLID</block>
  <block id="d2c43333bf1ed156931d4861d8d84a1f" category="paragraph">卷标识符</block>
  <block id="c6a1551c5af270074a23d1361cdbab79" category="paragraph">将对象数据写入到的归档卷的唯一标识符。</block>
  <block id="3f341854611e9910a45a03daa67212bb" category="paragraph">VRN</block>
  <block id="2c88a1c1cf3be66e390d9fa0a279ca83" category="paragraph">已启用验证</block>
  <block id="594f102ac8960e98c1725dfb2f754158" category="paragraph">指示是否对内容块执行验证。当前定义的值为：</block>
  <block id="a8c718b65620a8a79fe03cf9e325d876" category="list-text">vena ：已启用验证</block>
  <block id="8cff0d0ebecc25395328445791bb79a3" category="list-text">VDSA ：已禁用验证</block>
  <block id="e55004ed885d487e6ccf6ff0d738736c" category="paragraph">MCLS</block>
  <block id="3a58a6878a76ba24b4d739410e126486" category="paragraph">管理类</block>
  <block id="33e8a2c0c526407f8ae24d9db4ed8930" category="paragraph">一个字符串，用于标识内容块分配到的 TSM 管理类（如果适用）。</block>
  <block id="8eea62084ca7e541d918e823422bd82e" category="paragraph">结果</block>
  <block id="b3d484f146b132668d559ee412d735fe" category="paragraph">指示归档过程的结果。当前定义的值为：</block>
  <block id="9ed6d2fc6badf04c937b015b7dd847ae" category="list-text">SUC ：成功（归档过程成功）</block>
  <block id="2a5b0f8c76be70df4da3d96574cb97cb" category="list-text">OFFL ：失败（归档已脱机）</block>
  <block id="56491c1056e6363e00157a52142efc57" category="list-text">VRFL ：失败（对象验证失败）</block>
  <block id="46c78ce3f9d31c520ffeea96af079a04" category="list-text">Arun ：失败（外部归档存储系统不可用）</block>
  <block id="cf0e9e3c40827abcfc8bc27f1b90514a" category="list-text">GERR ：失败（一般错误）</block>
  <block id="1f43f7983754d1e07b395c3feea54183" category="paragraph">此审核消息表示指定的内容块已写入外部归档存储系统。如果写入失败，则结果将提供有关故障发生位置的基本故障排除信息。有关归档故障的更多详细信息，请参见 StorageGRID 系统中的归档节点属性。</block>
  <block id="6514d3c613e98004ae37021a6ca7c876" category="summary">在正常系统操作期间，随着数据的访问，复制和保留，内容块会在不同节点之间持续传输。在启动将内容块从一个节点传输到另一个节点时，源实体会发出此消息。</block>
  <block id="551919d421cedc8acd9144a923b3cf61" category="doc">CBSB ：对象发送开始</block>
  <block id="e99ba36d7d94c5b2521d905059bf7030" category="paragraph">CNID</block>
  <block id="bb933efb49d05cfb539761cc12e7d7c9" category="paragraph">连接标识符</block>
  <block id="c076987027485a2eb250c86c29bbac09" category="paragraph">节点到节点会话 / 连接的唯一标识符。</block>
  <block id="ecccfd3ac74f5a1821ac963ebc7c116c" category="paragraph">要传输的内容块的唯一标识符。</block>
  <block id="fc8492ddeb31855b54e97fe903ebcc91" category="paragraph">CTDR</block>
  <block id="f6cffe9ecc96b40023588ba6b169d558" category="paragraph">传输方向</block>
  <block id="c9b55affac6256871d31ac48bfe6a2c1" category="paragraph">指示 CBID 传输是推送启动还是拉启动：</block>
  <block id="bfe16bceff5c2ac1bc7992c2bed72140" category="paragraph">push ：发送实体请求传输操作。</block>
  <block id="935cd00ce9d0c7da3c2b1f297af13328" category="paragraph">Pull ：接收实体请求传输操作。</block>
  <block id="5e69c0b4874af0eedabcd8e262132644" category="paragraph">CTSR</block>
  <block id="41fe40beab7db81818d2a6aca627303a" category="paragraph">源实体</block>
  <block id="b8f046cdad9c01bbef9f0d2742b31711" category="paragraph">CBID 传输的源（发送方）的节点 ID 。</block>
  <block id="30541a61bbd43642d5887fb1cebbd65f" category="paragraph">CTD</block>
  <block id="588fcd7f20c9b62fc25ddddf013a54b0" category="paragraph">目标实体</block>
  <block id="92cde62cb55acda0ee14bffdfcc7e07f" category="paragraph">CBID 传输的目标（接收器）的节点 ID 。</block>
  <block id="85bb816fc5ca57ff905ab1cd191a9aab" category="paragraph">CTSS</block>
  <block id="b60563aafd0d08cd71bfeb958742d873" category="paragraph">起始序列计数</block>
  <block id="24287dd8da612a6a7c3c8931bd0d6e2b" category="paragraph">指示请求的第一个序列计数。如果成功，传输将从此序列计数开始。</block>
  <block id="c943024ae3262a5d186a9b61d8ec1b79" category="paragraph">CTES</block>
  <block id="14e7dcbaaaeedbe7be2e6ebf638359f9" category="paragraph">预期结束序列计数</block>
  <block id="f2c92a3e6d08056f852384fc2ffa1fb9" category="paragraph">指示上次请求的序列计数。如果传输成功，则在收到此序列计数后，此传输将视为已完成。</block>
  <block id="eacbe3c809bf44ed62e9654c892ef5ac" category="paragraph">传输开始状态</block>
  <block id="0ca2b995a7dca8898cbfa9ff9b2c521a" category="paragraph">传输开始时的状态：</block>
  <block id="e89f18cc8f8c845cb42ec08205f53837" category="paragraph">SUCS ：已成功启动传输。</block>
  <block id="177e3297b173abfebee2023e643c04ae" category="paragraph">此审核消息表示已对一个内容段启动节点到节点数据传输操作，该内容段通过其内容块标识符进行标识。该操作会从 " 开始序列计数 " 到 " 预期结束序列计数 " 请求数据。发送和接收节点通过其节点 ID 进行标识。此信息可用于跟踪系统数据流，如果与存储审核消息结合使用，则用于验证副本计数。</block>
  <block id="bc3cda0f98b17a806d22f17a594d539e" category="summary">如果某个服务在 StorageGRID 系统中更新或注册了有关自身的信息，则 CMN 服务将生成此审核消息。</block>
  <block id="372ef73078ea0cb4e30ab742e0c3d63d" category="doc">GNRG ： GNDS 注册</block>
  <block id="5f94a0aabc3c2251d7af6791694f2cd1" category="paragraph">更新请求的结果：</block>
  <block id="49c96b23facad387c45b9432030feb74" category="list-text">SUC ：成功</block>
  <block id="7ba3cc2eb9fc5825843fadd696285110" category="list-text">SUNV ：服务不可用</block>
  <block id="dfe36c4885d65c37bf1511b3f6a2efa8" category="list-text">GERR ：其他故障</block>
  <block id="a555a03824a9c2fb33af409f94e4d21e" category="paragraph">GNID</block>
  <block id="1dc47528dd9504a2fc28bc6cdce02228" category="paragraph">启动更新请求的服务的节点 ID 。</block>
  <block id="db2e3868490eb1a26909a4f35cfa197a" category="paragraph">GNTP</block>
  <block id="3efefb2586548f4ae74fa1de6ad6d5c6" category="paragraph">设备类型</block>
  <block id="ba9fd7a73561d27b38a01ce251453e60" category="paragraph">网格节点的设备类型（例如 LDR 服务的 BLDR ）。</block>
  <block id="4f66d5134b91d4fbaad9b50f0ea4cda8" category="paragraph">GNDV</block>
  <block id="ad98668920e3ce4f6e0e56c4f2ef8661" category="paragraph">设备型号版本</block>
  <block id="95ed836359ea11bb349c5c4caf1e28d0" category="paragraph">标识 DMDL 捆绑包中网格节点设备型号版本的字符串。</block>
  <block id="61150e6e14eb124c7fb2c98f1142a407" category="paragraph">GNGP</block>
  <block id="0c6d81a14566ab2eaed7b808caba1927" category="paragraph">网格节点所属的组（在链路成本和服务查询排名环境中）。</block>
  <block id="7e2fcf6b525b1065c038f82671572bab" category="paragraph">GNIA</block>
  <block id="5b8c99dad1893a85076709b2d3c2d2d0" category="paragraph">IP 地址</block>
  <block id="df52da7fd406dda69e35f125f0825ae0" category="paragraph">网格节点的 IP 地址。</block>
  <block id="fc3195062de743152c12f16fe0a44f4f" category="paragraph">每当网格节点更新其在网格节点包中的条目时，都会生成此消息。</block>
  <block id="a7f3ef5e3b1870123b03b7ecf89c0751" category="summary">您应熟悉属于对象存储审核类别的审核消息。这些事件与 StorageGRID 系统中对象的存储和管理相关。其中包括对象存储和检索，网格节点到网格节点的传输以及验证。</block>
  <block id="4ff2e716a7d06ce5274b4090b39abad3" category="cell">请参见</block>
  <block id="505b06fad2225f2b6f7236ba3655d910" category="paragraph">APCT</block>
  <block id="bd1fa824128871a90682d44b202dc333" category="paragraph">从云层清除归档：已归档的对象数据将从外部归档存储系统中删除，该系统通过 S3 API 连接到 StorageGRID 。</block>
  <block id="4593968c300a70ca4e407b6313e4fac8" category="inline-xref-macro">APCT ：从云层清除归档</block>
  <block id="cf9646e42d3950541ad785a73ff4077f" category="paragraph"><block ref="cf9646e42d3950541ad785a73ff4077f" category="inline-xref-macro-rx"></block></block>
  <block id="3c6ca3cce1b68272479206c7f8318187" category="paragraph">ARCB</block>
  <block id="ee21ec2bf53049ad458bf4293f2baa36" category="paragraph">归档对象检索开始： ARC-Service 开始从外部归档存储系统检索对象数据。</block>
  <block id="b62c5e2c354b07892aa26c415c3c7959" category="inline-xref-macro">ARCB ：开始归档对象检索</block>
  <block id="a51b7e44f742f548727de81a1194136f" category="paragraph"><block ref="a51b7e44f742f548727de81a1194136f" category="inline-xref-macro-rx"></block></block>
  <block id="87226a51cdbec98b0d6f442f83569712" category="paragraph">归档对象检索结束：对象数据已从外部归档存储系统中检索，并且 ARC-Service 会报告检索操作的状态。</block>
  <block id="586ea3a5cc70e0c861550329a49ef484" category="inline-xref-macro">Arce ：归档对象检索结束</block>
  <block id="cc688ba8fb7ba94cd2425c3e98876dd6" category="paragraph"><block ref="cc688ba8fb7ba94cd2425c3e98876dd6" category="inline-xref-macro-rx"></block></block>
  <block id="cb9a2721c1b90b251cc5ea57e34e4857" category="paragraph">ARCT</block>
  <block id="19eabac3b2665b058af825288f030778" category="paragraph">从云层检索归档：归档对象数据从外部归档存储系统中检索，该系统通过 S3 API 连接到 StorageGRID 。</block>
  <block id="38f3701ed88ddce43da9bbd18a428642" category="inline-xref-macro">ARCT ：从云层检索归档</block>
  <block id="333d1f1edacc6d87e6d38602b465c8cd" category="paragraph"><block ref="333d1f1edacc6d87e6d38602b465c8cd" category="inline-xref-macro-rx"></block></block>
  <block id="58fc4fa69893c154b6424a6b3533c141" category="paragraph">AREM</block>
  <block id="64ce7b3270997c77a8a96b03402c34a1" category="paragraph">归档对象删除：已从外部归档存储系统成功或未成功删除内容块。</block>
  <block id="c7ec39c5a5f03f9e4c5ec457859197e5" category="inline-xref-macro">AREM ：归档对象删除</block>
  <block id="62252d132f97d9793e19261a7889a6b4" category="paragraph"><block ref="62252d132f97d9793e19261a7889a6b4" category="inline-xref-macro-rx"></block></block>
  <block id="87490bc7c651c617971c795219c3b366" category="paragraph">ASCE</block>
  <block id="0180f5c644aa86b210773164ae3ab6a5" category="paragraph">归档对象存储结束：已将内容块写入外部归档存储系统，并且 ARC-Service 会报告写入操作的状态。</block>
  <block id="d1609983e0e81ae08d73a7f160ff12ab" category="paragraph"><block ref="d1609983e0e81ae08d73a7f160ff12ab" category="inline-xref-macro-rx"></block></block>
  <block id="e9fcb3d3e89f59627e99c812b0eb4105" category="paragraph">上一个月</block>
  <block id="88302b2d31118253d6bc644b69982f49" category="paragraph">归档存储云层：对象数据存储到外部归档存储系统，该系统通过 S3 API 连接到 StorageGRID 。</block>
  <block id="cb9ea89d7412e1db97c02339d7d7fb85" category="inline-xref-macro">SCT ：归档存储云层</block>
  <block id="29c0ef51f45e43ec09dd23cd34041787" category="paragraph"><block ref="29c0ef51f45e43ec09dd23cd34041787" category="inline-xref-macro-rx"></block></block>
  <block id="43d45914e9c7e1cee54e7987f115c564" category="paragraph">ATCE</block>
  <block id="60c18d58f862950ffe176ab93e2f271d" category="paragraph">归档对象存储开始：已开始向外部归档存储写入内容块。</block>
  <block id="b2007cce4c79b5037cf42017f0ca5203" category="inline-xref-macro">ATCE ：开始归档对象存储</block>
  <block id="79a226a98c400a6478a8f2d03f41fe15" category="paragraph"><block ref="79a226a98c400a6478a8f2d03f41fe15" category="inline-xref-macro-rx"></block></block>
  <block id="7553837f2d19afc93f5bbc9d84e097f3" category="paragraph">AVCC</block>
  <block id="95bed1f5a6f78659126a15ed84a1bbb9" category="paragraph">归档验证云层配置：提供的帐户和存储分段设置已成功验证或未成功验证。</block>
  <block id="4691e31f11fd92ac938ed2746d34fcac" category="inline-xref-macro">AVCC ：归档验证云层配置</block>
  <block id="61fbc149cfc29063b8ab1d03eca8cef2" category="paragraph"><block ref="61fbc149cfc29063b8ab1d03eca8cef2" category="inline-xref-macro-rx"></block></block>
  <block id="7ded29e9d9a11ff0861ce8c0567aac5e" category="paragraph">CBSE</block>
  <block id="9ce7ed8b9af9ffc5ef7e9120e9b0330f" category="paragraph">对象发送结束：源实体完成了网格节点到网格节点的数据传输操作。</block>
  <block id="85f1c248bf974053d8e657985e8a4ad6" category="inline-xref-macro">CBSE ：对象发送结束</block>
  <block id="8e3b1478c62ed2e9559d6251eb4215b5" category="paragraph"><block ref="8e3b1478c62ed2e9559d6251eb4215b5" category="inline-xref-macro-rx"></block></block>
  <block id="0d5e02200b357f3315ee5a09890d063e" category="paragraph">CBRE</block>
  <block id="793a9d88624f38ee3c7afb996ff23fad" category="paragraph">对象接收结束：目标实体完成了网格节点到网格节点的数据传输操作。</block>
  <block id="7dc3b468dc93f20f1345c3146cda2ab1" category="inline-xref-macro">CBRE ：对象接收结束</block>
  <block id="e398a72089b03debcddc7670268ad464" category="paragraph"><block ref="e398a72089b03debcddc7670268ad464" category="inline-xref-macro-rx"></block></block>
  <block id="bdbf981d5f21dbda27425bab62c70f6f" category="paragraph">SCMT</block>
  <block id="3dd6d353b9b56dfdb6a345a309b2e373" category="paragraph">对象存储提交：内容块已完全存储和验证，现在可以请求。</block>
  <block id="7e15360499dee52299fc98397ffa5a17" category="paragraph"><block ref="7e15360499dee52299fc98397ffa5a17" category="inline-xref-macro-rx"></block></block>
  <block id="4a02290a7404e2f6f500aa9c9a7c3e91" category="paragraph">Srem</block>
  <block id="b61c1252b4d7568510e3a1c409024fc9" category="paragraph">对象存储删除：已从网格节点中删除内容块，无法再直接请求。</block>
  <block id="c2fb6987bf6dd45726fa2ce9e9b7725c" category="inline-xref-macro">Srem ：对象存储删除</block>
  <block id="05812eef6b0245debeda651aafc38583" category="paragraph"><block ref="05812eef6b0245debeda651aafc38583" category="inline-xref-macro-rx"></block></block>
  <block id="0f0291718178944574c2c07854aa6f40" category="summary">如果 DDS 服务在 StorageGRID 系统中找不到对象的任何副本，则会生成此消息。</block>
  <block id="de8fe467d4006f47de222159e92f0df2" category="doc">OLST ：系统检测到丢失对象</block>
  <block id="d3c9cfd565566d340ceafab01e7a71b9" category="paragraph">丢失对象的 CBID 。</block>
  <block id="efbb70866241e8c559c20c16390de7d3" category="paragraph">NOID</block>
  <block id="9edcbf1e6626b2e06356528df688ee23" category="paragraph">如果可用，则为丢失对象的最后一个已知直接位置或近线位置。如果卷信息不可用，则只能使用节点 ID 而不使用卷 ID 。</block>
  <block id="5ffb5f0d0de78321df46fc7c93ca64a3" category="paragraph">路径</block>
  <block id="c7c8f9bfea7ce13abfa3cdbbafd116ee" category="paragraph">S3 存储分段 / 密钥或 Swift 容器 / 对象 ID</block>
  <block id="03cc10ae0f013168c8ab48c70c04ac49" category="paragraph">如果可用，则为 S3 存储分段名称和 S3 密钥名称，或者 Swift 容器名称和 Swift 对象标识符。</block>
  <block id="42416c3c20ff16bc6fd368d446605dec" category="paragraph">此字段的值为 none 。RSLT- 是一个必填消息字段，但与此消息无关。使用 none 而不是 SUC ，因此不会筛选此消息。</block>
  <block id="5a54d9ad87f7c4c1c70c8f05b9515d5a" category="paragraph">UUID</block>
  <block id="c17d06a90a04c2d67019f1b95b82fd04" category="paragraph">通用唯一 ID</block>
  <block id="dc1a2c00e3d94b771557abed10f0b641" category="paragraph">StorageGRID 系统中丢失对象的标识符。</block>
  <block id="2dfe53280047a3059c59a7201816a021" category="paragraph">卷</block>
  <block id="cccc95b62282240886ee975a3f122adb" category="paragraph">卷 ID</block>
  <block id="aae564c6c9a6d24fc7c691d514a94aeb" category="paragraph">如果可用，则为丢失对象的最后一个已知位置的存储节点或归档节点的卷 ID 。</block>
  <block id="0e51cc63b52cf307626c2cb3ffd6c188" category="summary">当 S3 客户端发出 PUT 事务时，系统会请求创建新对象或存储分段。如果事务成功，服务器将发出此消息。</block>
  <block id="78400dd9a7585f96dd2079802bdc240e" category="doc">SPUT ： S3 PUT</block>
  <block id="9adcb07c1d4a486c88e9b3af45c9da9e" category="paragraph">请求的内容块的唯一标识符。如果 CBID 未知，则此字段将设置为 0 。存储分段上的操作不包括此字段。</block>
  <block id="b1fbf63a9c13fadbcc90e1d95306a599" category="paragraph">CMPS</block>
  <block id="cdc4989814e88b223a144a53ab956748" category="paragraph">合规性设置</block>
  <block id="2b1bedef65cd3233c51a3c379ed5cf83" category="paragraph">创建存储分段时使用的合规性设置（如果 PUT 存储分段请求中存在）（截断为前 1024 个字符）</block>
  <block id="593467b6201af14ed64e01c8d1d9f620" category="paragraph">CNCH</block>
  <block id="e5ba086357f995967378e9e4cec713d1" category="paragraph">一致性控制标题</block>
  <block id="2dcc3452db547c885d401409940d06ac" category="paragraph">如果请求中存在一致性控制 HTTP 请求标头的值。</block>
  <block id="4d9d5efd66563ecff4c32a1ba4b56b8a" category="paragraph">TCP/IP 连接的唯一系统标识符。</block>
  <block id="376a9d0585c1c388fb68347d250c3e44" category="paragraph">CSIZ</block>
  <block id="38baf7642fcedfc71e0a4d25d00c6a18" category="paragraph">内容大小</block>
  <block id="fe1bd6a4d5399898b304eb4c17da41e7" category="paragraph">检索到的对象的大小（以字节为单位）。存储分段上的操作不包括此字段。</block>
  <block id="690b746a1ad97ec7d4b375878d637129" category="paragraph">HTRH</block>
  <block id="c4b4c16bbc32c66b080fdbf0c7020a63" category="paragraph">HTTP 请求标头</block>
  <block id="1798812226d4fac567f7dd7bd5e9ac14" category="paragraph">列出配置期间选择的已记录 HTTP 请求标头名称和值。</block>
  <block id="00ab80c0cbfb333d8fcafa921a5c78da" category="paragraph">* 注： * 如果请求中存在 `X-Forwarded-for` ，并且 `X-Forwarded-for` 值与请求发送方 IP 地址不同，则系统会自动将其包括在内（ SAIP 审核字段）。</block>
  <block id="79cab5de8e6029129b27a9e3db333e15" category="paragraph">LKEN</block>
  <block id="eee2a98d4cd021e50598171ec188ada0" category="paragraph">对象锁定已启用</block>
  <block id="23495027b8dea7f75d4ba27b467db8b4" category="paragraph">请求标题 `x-AMZ-bucket-object-lock-enabled` 的值（如果 PUT Bucket 请求中存在）。</block>
  <block id="fc83c9b0d78ccc4d72d77eb5fd39d1d3" category="paragraph">LKLH</block>
  <block id="97878dee90e99d6be9a7e1770408460a" category="paragraph">对象锁定合法保留</block>
  <block id="7512f3fdfa377240d774d969c33b2aa5" category="paragraph">请求标题 `x-AMZ-object-lock-legal-hold` 的值（如果 PUT 对象请求中存在）。</block>
  <block id="c5abe37c78f11d45b75cdb63220b7d0a" category="paragraph">LKMD</block>
  <block id="09dd69e2102969c2b8ccf7bd4443ce99" category="paragraph">对象锁定保留模式</block>
  <block id="278e92c89d0f7afc5d09eec634bed6f9" category="paragraph">请求标题 `x-AMZ-object-lock-mode` 的值（如果 PUT 对象请求中存在）。</block>
  <block id="c94f93b1502d3a8dc93fe48220ba697e" category="paragraph">LKRU</block>
  <block id="ed3af0642c025a63b48665217c8eb36d" category="paragraph">对象锁定保留至日期</block>
  <block id="b1c011f87cbdbc113ae4d2e1f1f92264" category="paragraph">请求标题 `x-AMZ-object-lock-retain-until date` 的值（如果 PUT 对象请求中存在）。</block>
  <block id="be65948ce04ef97d8e2239ad4a773868" category="paragraph">MTME</block>
  <block id="5f3d42cb0b6ec1e0b01b2612025b6b68" category="paragraph">上次修改时间</block>
  <block id="b241f6951b68fc50b5201a0eaa129268" category="paragraph">Unix 时间戳，以微秒为单位，用于指示上次修改对象的时间。</block>
  <block id="ca7d0d4cbe525ae69f7fde280edbd04d" category="paragraph">PUT 事务的结果。结果始终为：</block>
  <block id="93177f657f533dfc6f27715fdc3ad840" category="paragraph">S3AI</block>
  <block id="bc4c2e04b2bf11400d6a62b5bd31c451" category="paragraph">S3 租户帐户 ID （请求发件人）</block>
  <block id="3cfe0362666d7d89fef62bdeaee136a4" category="paragraph">发送请求的用户的租户帐户 ID 。空值表示匿名访问。</block>
  <block id="31b17bb426d1fcf98d5222d400e68220" category="paragraph">S3AK</block>
  <block id="f3de095648b56c5d7103cfaf55078082" category="paragraph">S3 访问密钥 ID （请求发件人）</block>
  <block id="2115fd5eb531c60e1e10eff0497b1eae" category="paragraph">发送请求的用户的哈希 S3 访问密钥 ID 。空值表示匿名访问。</block>
  <block id="30b1ea8c0729f87eb19826cbf655d187" category="paragraph">S3SR</block>
  <block id="716707c806c938f3078bcb80e71f786e" category="paragraph">S3 子资源</block>
  <block id="c5aa6d999d6c198608a4529588c35847" category="paragraph">要在其上操作的分段或对象子资源（如果适用）。</block>
  <block id="3222bc44a036257abda50b3564e53c3f" category="paragraph">SAIP</block>
  <block id="a64b09e50bb97ed65d8e34dcfe8d5249" category="paragraph">IP 地址（请求发件人）</block>
  <block id="c4376ee281f488229f86d87f65e360d8" category="paragraph">发出请求的客户端应用程序的 IP 地址。</block>
  <block id="d735a457d6ce68dfc7e447be8376da7c" category="paragraph">S3 租户帐户名称（存储分段所有者）</block>
  <block id="f7c11a879f618475fef93c813b60d341" category="paragraph">SBAI</block>
  <block id="c51d6f9224200b91afb68270fdb65760" category="paragraph">S3 租户帐户 ID （存储分段所有者）</block>
  <block id="dd0e16fc750eec9c4b06e00ce3dec61b" category="paragraph">目标存储分段所有者的租户帐户 ID 。用于标识跨帐户或匿名访问。</block>
  <block id="84bd1d3df62fc07c1b0dbb42b5bd0586" category="paragraph">SRCF</block>
  <block id="9199595e351370f6c4b0c0d8ad0767a8" category="paragraph">子资源配置</block>
  <block id="3933a3bae48ba49c12ab7ba2ca05a6f9" category="paragraph">新的子资源配置（截断为前 1024 个字符）。</block>
  <block id="5330949da3fdfa26262bac9eee1ce5cd" category="paragraph">SUSR</block>
  <block id="a09d6c4f240114c2d50f7cf02726ad60" category="paragraph">S3 用户 URN （请求发件人）</block>
  <block id="0cbb27774d79e78d2652549264fbb43f" category="paragraph">发出请求的用户的租户帐户 ID 和用户名。用户可以是本地用户，也可以是 LDAP 用户。例如： `urn ： sgws ： identity ：： 03393893651506583485 ： root`</block>
  <block id="ed01c7d74de5d0787d679fd38044d4c8" category="paragraph">匿名请求为空。</block>
  <block id="346ff32eaa3c09983fb2ec057816d352" category="paragraph">时间</block>
  <block id="a76d4ef5f3f6a672bbfab2865563e530" category="paragraph">时间</block>
  <block id="adc739ae8694f9f47dbe893ad9462c49" category="paragraph">请求的总处理时间，以微秒为单位。</block>
  <block id="19c63f4e178e70c3e5757e5b82f6f774" category="paragraph">TLSIP</block>
  <block id="362391784c871c6872d1199c858dc522" category="paragraph">可信负载平衡器 IP 地址</block>
  <block id="16ef33d87da6d12ae8c94ea25480349c" category="paragraph">如果请求是由受信任的第 7 层负载平衡器路由的，则为负载平衡器的 IP 地址。</block>
  <block id="616d58f54724360dbb629277d833da4a" category="paragraph">ULID</block>
  <block id="e4c493ff118adb9279be2e4834afe67f" category="paragraph">上传 ID</block>
  <block id="c1debeea2721766bc3bfcc57eb585776" category="paragraph">仅包含在用于完成多部件上传操作的 SPUT 消息中。表示所有部件均已上传和组装。</block>
  <block id="d1d27866ebc504314edcc7f5ce40db5d" category="paragraph">通用唯一标识符</block>
  <block id="63f483ebbcfdd6bbe9807c030d26a548" category="paragraph">StorageGRID 系统中对象的标识符。</block>
  <block id="493798388aa64acc67928d102fc16c72" category="paragraph">VSID</block>
  <block id="9e8af694da25e544a2190ff3d999b532" category="paragraph">版本 ID</block>
  <block id="18b3647905936ae558a9ae0b2c73f9dd" category="paragraph">在受版本控制的存储分段中创建的新对象的版本 ID 。对未版本控制的分段中的分段和对象执行的操作不包括此字段。</block>
  <block id="6d1da4f9a30a397ac610d2b1a97e42ca" category="paragraph">VSST</block>
  <block id="afc99466cc59e403aaad62b6658b1e0f" category="paragraph">版本控制状态</block>
  <block id="38fee431bdeb9240e84510a8c7db079d" category="paragraph">存储分段的新版本控制状态。使用两种状态： "enabled" 或 "suspended" 。 对对象执行的操作不包括此字段。</block>
  <block id="53b10d3c2143f7567482ce03ff723d9a" category="summary">当 S3 客户端发出删除事务时，系统会请求删除指定的对象或存储分段。如果事务成功，服务器将发出此消息。</block>
  <block id="c9f8222b522292ebdcc84c282cf7d7bf" category="paragraph">已删除对象的大小（以字节为单位）。存储分段上的操作不包括此字段。</block>
  <block id="d2877ee63fabb1b7c89d5d9b41a392e0" category="paragraph">DMRK</block>
  <block id="2af16175f3dddfd0fe459fd0005e6d75" category="paragraph">删除标记版本 ID</block>
  <block id="71146c6c7093064d253c2563a2e0050c" category="paragraph">从版本控制的存储分段中删除对象时创建的删除标记的版本 ID 。存储分段上的操作不包括此字段。</block>
  <block id="ed11708c0b6836593c9ef0084b3b781c" category="paragraph">删除事务的结果。结果始终为：</block>
  <block id="37e06a463600787dde9408c99868df94" category="paragraph">SGRP</block>
  <block id="e374189b0b7d8540b55aa4399df32cfc" category="paragraph">站点（组）</block>
  <block id="02d6a7b5251c6b2a46c04486eab646ba" category="paragraph">如果存在此对象，则会在指定的站点上删除此对象，而不是在其中载入此对象的站点。</block>
  <block id="c97ea4312dbe47538b1c4d29569d01c7" category="paragraph">已删除对象的特定版本的版本 ID 。对未版本控制的分段中的分段和对象执行的操作不包括此字段。</block>
  <block id="73cbbf66c0f5a6fa59d93d6c3ea5d21d" category="summary">您可以通过查找 API 专用的审核消息（ S3 或 Swift ）来确定审核日志中的客户端载入事务。</block>
  <block id="55f15836f261f037b7cde2e3bf08cd78" category="doc">对象载入事务</block>
  <block id="f75a7839b6b7869e30890832aec39f5e" category="paragraph">您可以通过查找特定于 API （ S3 或 Swift ）的审核消息，在审核日志中确定客户端载入事务。</block>
  <block id="a857c51ea95b1bb6adf45cab051e54f4" category="paragraph">下表列出了在载入事务期间生成的并非所有审核消息。仅包含跟踪载入事务所需的消息。</block>
  <block id="f1107af39bbad0acb42eab0419d30aca" category="section-title">S3 载入审核消息</block>
  <block id="dd4ec0ac4e58f7c32a01244ae91150b1" category="cell">跟踪</block>
  <block id="6d7b59914e9a093fd8c7e5cd01d1675e" category="paragraph">SPUT</block>
  <block id="4a8770b6f303e986c0a559c9c35368b4" category="paragraph">S3 PUT 事务</block>
  <block id="77b2608580b38eeb18b7b9b80f0d37d4" category="paragraph">S3 PUT 载入事务已成功完成。</block>
  <block id="5a4d674999cf59e41ca7bf6ad9b3be71" category="paragraph">CBID ， S3BK ， S3KY</block>
  <block id="2513bc9ca66ee8ddbef8c4d9b89f0228" category="paragraph"><block ref="2513bc9ca66ee8ddbef8c4d9b89f0228" category="inline-xref-macro-rx"></block></block>
  <block id="2f412f82584076eadb46668b507b5b1d" category="paragraph">ORLM</block>
  <block id="c012472a57b1e2c38a9e334095f6c2c1" category="paragraph">符合对象规则</block>
  <block id="aeb92cef23d8c725bfa6ba6711b31c05" category="paragraph">已对此对象满足 ILM 策略要求。</block>
  <block id="ff2101db24aa91c1af26576d7262f188" category="inline-xref-macro">ORLM ：符合对象规则</block>
  <block id="0c3f1d0432501517653d44b50869a868" category="paragraph"><block ref="0c3f1d0432501517653d44b50869a868" category="inline-xref-macro-rx"></block></block>
  <block id="4b4540f4bfb2c4fb94a0457dadd6d919" category="section-title">Swift 载入审核消息</block>
  <block id="1864b3cad930f5ab597d275406ab0a4d" category="paragraph">WWPUT</block>
  <block id="44073c886f47c22c3d9aac761d89bc62" category="paragraph">Swift PUT 事务</block>
  <block id="b643c10a79108fc70c1249396d387ac1" category="paragraph">Swift PUT 载入事务已成功完成。</block>
  <block id="72b796f47baf97583c6c15177b9afd88" category="paragraph">CBID ， WCON ， WOBJ</block>
  <block id="f81e029de925d6a755d8723f3f0238f6" category="inline-xref-macro">WWPUT ： Swift PUT</block>
  <block id="608b3f179dc5e92ada45c35904b592bf" category="paragraph"><block ref="608b3f179dc5e92ada45c35904b592bf" category="inline-xref-macro-rx"></block></block>
  <block id="108da406e05ff249fc8020d4a3c8267f" category="summary">审核日志文件会保存到管理节点的 /var/local/audit/export 目录中。活动的审核日志文件名为 audit.log 。</block>
  <block id="d1997a1c076feb6ce17b8d0108681e76" category="doc">审核日志文件轮换</block>
  <block id="190584eac1f35aa155b5b5b386e8a6bf" category="paragraph">审核日志文件会保存到管理节点的 ` /var/local/audit/export` 目录中。活动的审核日志文件名为 `audit.log` 。</block>
  <block id="43cf0be245feb7fec5859c6e02f85b3c" category="paragraph">每天保存一次活动的 `audit.log` 文件，并启动一个新的 `audit.log` 文件。已保存文件的名称以 ` yyyy-mm-dd.txt_` 的格式指示其保存时间。如果在一天内创建了多个审核日志，则文件名将使用保存文件的日期，并附加一个数字，格式为 ` yyyy-mm-dd.txt.n_` 。例如， `2018-04-15.txt` 和 `2018-04-15.txt.1` 是在 2018 年 4 月 15 日创建并保存的第一个和第二个日志文件。</block>
  <block id="6511e9a8c3ac626f921376065f4d4c14" category="paragraph">一天后，保存的文件将按 ` yyyy-mm-dd.txt.gz_` 格式进行压缩和重命名，从而保留原始日期。随着时间的推移，这会导致为管理节点上的审核日志分配的存储被占用。脚本可监控审核日志空间占用情况，并根据需要删除日志文件，以释放 ` /var/local/audit/export` 目录中的空间。审核日志会根据创建日期进行删除，最早的日志会先删除。您可以在以下文件中监控脚本的操作： ` /var/local/log/manage-audit.log` 。</block>
  <block id="6cb76b9740dd1d3fade257da496b1e65" category="summary">从通过 S3 API 连接到 StorageGRID 的外部归档存储系统中删除归档对象数据时会生成此消息。</block>
  <block id="3264bc221e345d08b7b3a82b61e6581d" category="paragraph">内容块 ID</block>
  <block id="057c693710c6c80d1fa5fd2958951b82" category="paragraph">已删除的内容块的唯一标识符。</block>
  <block id="cfb80ef31f744e351a9aba676ca45ba1" category="paragraph">对象的大小（以字节为单位）。始终返回 0 。</block>
  <block id="7724840f8ba823491445f33e13adcc8f" category="paragraph">返回成功（ SUC ）或后端报告的错误。</block>
  <block id="9fac52ccb9b87a8175f8e290fc1eabc5" category="paragraph">SUID</block>
  <block id="be8f7cfb2cdd32250657e9dbc8c28188" category="paragraph">存储唯一标识符</block>
  <block id="e22dd4b1dc3edf7afe1648f271ab10d5" category="paragraph">从中删除对象的云层的唯一标识符（ UUID ）。</block>
  <block id="847498c370b7640e26ac8386535021fd" category="summary">内容块从一个节点传输到另一个节点完成后，此消息将由目标实体发出。</block>
  <block id="92d8ee006460642a7e28f1274c34b95a" category="paragraph">指示开始传输的顺序计数。</block>
  <block id="1d3d7b017703f4ac7a0b74dff54e6e3b" category="paragraph">CTA</block>
  <block id="1d726dc641a9e324e4492af8a084495f" category="paragraph">实际结束序列计数</block>
  <block id="2ecb107960d939c132ea2f7a826f4ce8" category="paragraph">指示上次成功传输的序列号。如果实际结束序列计数与开始序列计数相同，并且传输结果未成功，则不会交换任何数据。</block>
  <block id="79015f7c00b5d5976b450f4b0fa398f2" category="paragraph">传输结果</block>
  <block id="b1f97d0ca5204b9105129099513f85be" category="paragraph">传输操作的结果（从发送实体的角度来看）：</block>
  <block id="83433489ba76446fcd9ab63107d6dfca" category="paragraph">SUC ：传输成功完成；已发送请求的所有序列计数。</block>
  <block id="4a901b224c3b99dd02534faf0f263ca2" category="paragraph">CONL ：传输期间连接丢失</block>
  <block id="af33dfb9638a3e5360e53ceb80b5ca73" category="paragraph">CTMO： 建立或传输期间连接超时</block>
  <block id="a20627016e91fde07f5f7416bf9d704f" category="paragraph">UNDE ：无法访问目标节点 ID</block>
  <block id="f6dbf6e5c89e65bb3dc180a6268d3d05" category="paragraph">CRPT ：由于接收到损坏或无效的数据（可能表示发生篡改），传输已结束</block>
  <block id="6c4e6e984ac8dbeb8eb504197c0d5c88" category="paragraph">此审核消息表示节点到节点数据传输操作已完成。如果传输结果成功，则该操作会将数据从 " 开始序列计数 " 传输到 " 实际结束序列计数 " 。发送和接收节点通过其节点 ID 进行标识。此信息可用于跟踪系统数据流，以及查找错误，对错误进行制表和分析。与存储审核消息结合使用时，还可以用于验证副本计数。</block>
  <block id="308239ed7e43fc89ae81da72046a1cb5" category="summary">审核日志中的每个审核消息都会记录特定于系统事件的数据。</block>
  <block id="43e9c4a674688908c439631161649671" category="doc">事件专用数据</block>
  <block id="fe6f2eb2d34a6fb8fcd20196ff437c86" category="paragraph">在用于标识消息本身的打开 ` [AUDT ：` 容器之后，下一组属性将提供有关审核消息所述事件或操作的信息。以下示例突出显示了这些属性：</block>
  <block id="0db84933e70a875f988a06f943ee983e" category="paragraph">2018-12-05T08 ： 24 ： 45.921845 [AUTT ： *\[RSLT\ （ FC32\ ）： SUC\]* \[ 时间 \ （ UI64\ ）： 11454\]\[SAIP\ （ IPAD\ ）： "10.224.0.100"\]\"S3AI\ （ C3CSST\" ）： " ： "KST" （ S36599" ）：</block>
  <block id="ff32c753512b4043a8a437666dbc5a1d" category="paragraph">`ATYP` 元素（在示例中加下划线）用于标识生成消息的事件。此示例消息包含 Shea 消息代码（ [ATYP （ FC32 ）： Shea] ），表示此消息是由成功的 S3 head 请求生成的。</block>
  <block id="cfe4a602ab6ac6eb1b5c860001ab7257" category="inline-xref-macro">审核消息中的常见元素</block>
  <block id="ace0d006cafe9f1d7f711e3be4e5f1f5" category="paragraph"><block ref="ace0d006cafe9f1d7f711e3be4e5f1f5" category="inline-xref-macro-rx"></block></block>
  <block id="f553cd67933721b76f9ccab00ac4a892" category="inline-xref-macro">审核消息</block>
  <block id="5c833ff4b59e26b169b743b27963e6e4" category="paragraph"><block ref="5c833ff4b59e26b169b743b27963e6e4" category="inline-xref-macro-rx"></block></block>
  <block id="ee4ff88369c06a6cd617967170240f19" category="summary">如果服务正常停止，则会生成此消息以指示已请求关闭。通常，只有在后续重新启动后才会发送此消息，因为在关闭之前未清除审核消息队列。如果服务未重新启动，请查找在关闭序列开始时发送的 SYST 消息。</block>
  <block id="9a4055f53098d7e83e56044e64ac1a9f" category="doc">SYSD ：节点停止</block>
  <block id="18b319a1457205b2bff2626c43bbd6f1" category="paragraph">SUC ：系统已完全关闭。</block>
  <block id="28fd0268637522ba7d870dea7fe00317" category="paragraph">此消息不会指示是否正在停止主机服务器，仅会指示报告服务。SYSD 的 RSLT 不能指示 " 异常 " 关闭，因为只有 " 清理 " 关闭才会生成此消息。</block>
  <block id="5b663e56420502462e9c17a9b46da40b" category="summary">您可以使用审核日志收集有关系统的信息并对问题进行故障排除。您应了解审核日志文件的格式以及审核消息使用的常规格式。</block>
  <block id="9eeef56fa7dc28a3186b693e493b57e2" category="doc">审核日志文件和消息格式</block>
  <block id="1568554cccfea25604ada17b444baac1" category="summary">当 S3 客户端更新所载入对象的元数据时， S3 API 会生成此消息。如果元数据更新成功，则服务器会发出此消息。</block>
  <block id="806562ada2c842d546150a1efa46e99d" category="doc">SUPD ：已更新 S3 元数据</block>
  <block id="20b36a64f149d1761a9cf1129a25e3ae" category="paragraph">更新存储分段的合规性设置时，如果请求中存在一致性控制 HTTP 请求标头的值。</block>
  <block id="73fc6cf5a131e77835d7b214beea2fc6" category="paragraph">GET 事务的结果。结果始终为：</block>
  <block id="1ee84758ac8b12c0bccc7116c9dc679f" category="paragraph">SUC ：成功</block>
  <block id="12dec81f4cfd5afc15735ccd8cf38478" category="paragraph">已更新其元数据的对象的特定版本的版本 ID 。对未版本控制的分段中的分段和对象执行的操作不包括此字段。</block>
  <block id="9e4a8f32d032d5b765004c5a59603014" category="summary">" 归档对象删除 " 审核消息指示已从归档节点成功删除内容块或未成功删除内容块。如果结果成功，则归档节点已成功通知外部归档存储系统 StorageGRID 已释放对象位置。对象是否从外部归档存储系统中删除取决于系统类型及其配置。</block>
  <block id="e21e2f4b30d3038a9ea097170ed2c2a8" category="paragraph">要从外部归档介质系统检索的内容块的唯一标识符。</block>
  <block id="2b5d3e868aee08364daf1506d6d9d815" category="paragraph">用于归档对象数据的卷的标识符。</block>
  <block id="653635f4d7d8a97d13409332d6da2a6a" category="paragraph">归档删除过程的完成状态：</block>
  <block id="b6cdb4a1295f845ce5f600ab38f55819" category="summary">当归档节点尝试从外部归档存储系统检索对象数据时，将生成此消息。如果成功，则此消息指示已从归档位置完全读取请求的对象数据，并已成功验证。检索并验证对象数据后，这些数据将传送到请求服务。</block>
  <block id="080f1c809b8f52adebe1b6c6b3d885c5" category="paragraph">要从外部归档存储系统检索的内容块的唯一标识符。</block>
  <block id="7459a78384e45b17ca002e78b5d3d73a" category="paragraph">归档数据的卷的标识符。如果未找到内容的归档位置，则返回卷 ID 0 。</block>
  <block id="a37e31eebcac16bf9fe8b1a59d24764e" category="paragraph">检索结果</block>
  <block id="32ba46404061d238e1e2790b49e19da2" category="paragraph">归档检索过程的完成状态：</block>
  <block id="8432c108513ac6c0d8ae4341bf5352a8" category="list-text">VRFL ：失败（对象验证失败）</block>
  <block id="44a9cdefe1e493b28e6549d1ae4bfde9" category="list-text">取消：失败（已取消检索操作）</block>
  <block id="49894e11c468feb0b8eb1b6f2aa71a97" category="paragraph">将此消息与相应的 ARCB 消息进行匹配可以指示执行归档检索所需的时间。此消息指示检索是否成功，如果失败，则指示检索内容块失败的发生原因 。</block>
  <block id="6c8cdf57c6b2715fd1f55f84989c7537" category="summary">以下一系列审核消息是在 S3 客户端将对象载入存储节点 \ （ LDR 服务 \ ）时生成并保存到审核日志的审核消息的示例。</block>
  <block id="699a498f433782b3819a886e6054d82b" category="doc">示例： S3 对象载入</block>
  <block id="84661816ce4ea90651e3e4caeacdacb1" category="paragraph">下面的一系列审核消息是在 S3 客户端将对象载入存储节点（ LDR 服务）时生成并保存到审核日志中的审核消息的示例。</block>
  <block id="f03432e48b9ff31d667695e0c2dcfc65" category="paragraph">在此示例中，活动 ILM 策略包括常用 ILM 规则，创建 2 个副本。</block>
  <block id="6364a73dca23e413d1b1268f938c9b53" category="admonition">在以下示例中并未列出事务期间生成的所有审核消息。仅列出与 S3 载入事务（ SPUT ）相关的那些。</block>
  <block id="b91a988fd892a6d530c12ff222105087" category="paragraph">此示例假设先前已创建 S3 存储分段。</block>
  <block id="6acaa5c0cc99169beee146510b07c696" category="paragraph">此时将生成 SPUT 消息，以指示已发出 S3 PUT 事务，以便在特定存储分段中创建对象。</block>
  <block id="a904e166493ac3fc4ca5f79db9e2bbe7" category="paragraph">ORLM 消息指示已对此对象满足 ILM 策略要求。此消息包含对象的 CBID 以及应用的 ILM 规则的名称。</block>
  <block id="9c861a3c6c6c61915e33f005b8a1a40e" category="paragraph">对于复制的对象， " LOC" 字段包含对象位置的 LDR 节点 ID 和卷 ID 。</block>
  <block id="3ed30b6944e64b8514d0ec972a300ba0" category="paragraph">对于经过纠删编码的对象， LOC 字段包括纠删编码配置文件 ID 和纠删编码组 ID</block>
  <block id="e055751d2b3c249bb96066e032d975e7" category="paragraph">路径字段包括 S3 存储分段和密钥信息或 Swift 容器和对象信息，具体取决于所使用的 API 。</block>
  <block id="2b12be6b6ce131a0df8efd5769e387c1" category="summary">如果找不到对象副本的位置 \ （复制或擦除编码 \ ），则会生成此消息。</block>
  <block id="db1929946644c5230f92569bd2f4aa98" category="doc">LLST ：位置丢失</block>
  <block id="1364d9f6b338a9feb2619f40ea944c95" category="paragraph">如果找不到对象副本的位置（复制或擦除编码），则会生成此消息。</block>
  <block id="b11bf355beb581a5a7107d262cf99feb" category="paragraph">CBIL</block>
  <block id="a879e7ddf705a8f3b3fcd7d94b9b213b" category="paragraph">受影响的 CBID 。</block>
  <block id="44377ec10932cb3128f9d88958d5ed03" category="paragraph">源节点 ID</block>
  <block id="d4b7f4f0a8a052412c7cca908faa762a" category="paragraph">丢失位置的节点 ID 。</block>
  <block id="7ac976446ce10bef13f016ce0dfac81e" category="paragraph">StorageGRID 系统中受影响对象的标识符。</block>
  <block id="c25473099dc591058f4d57c8104f07d3" category="paragraph">ECPR</block>
  <block id="e9a522648c5e58cba04e818ad1d0c7d8" category="paragraph">纠删编码配置文件</block>
  <block id="26229a9af1661a43f94b0bb96a1ff6ea" category="paragraph">用于经过擦除编码的对象数据。使用的擦除编码配置文件的 ID 。</block>
  <block id="6b8a340571cfba399a2e79dfbfa6f6ea" category="paragraph">LTYP</block>
  <block id="77a423337fcc2b17f4c9ce7ff031b6b5" category="paragraph">位置类型</block>
  <block id="34d4828687796c5a1c3337a991fcfd56" category="paragraph">CLDI （联机）：用于复制的对象数据</block>
  <block id="bf02c144966002168e2bc5b954f1ef3a" category="paragraph">CLEC （联机）：用于经过纠删编码的对象数据</block>
  <block id="023d6e2f2bcde78629e2dfc4e4a9727d" category="paragraph">CLNL （近线）：用于归档复制的对象数据</block>
  <block id="f3b6fb3d9440b2e2f956fef5deef651f" category="paragraph">PCLD</block>
  <block id="96188bb58941b0bb399d8194da884b9e" category="paragraph">复制对象的路径</block>
  <block id="c2ca778b17225c2790ec8bcd14bf4da7" category="paragraph">丢失对象数据的磁盘位置的完整路径。仅当 LTYP 的值为 CLDI （即，对于复制的对象）时才返回。</block>
  <block id="074e7d52a1540b91c6aa743621a3a91f" category="paragraph">采用 ` /var/local/rangedb/2/p/13/13/00oJs6X% ｛ h ｛ U ） SeUFxE@` 的形式</block>
  <block id="9957ee7d9cf1524bf096334cf7eabd2a" category="paragraph">始终为无。RSLT- 是一个必填消息字段，但与此消息无关。使用 none 而不是 SUC ，因此不会筛选此消息。</block>
  <block id="ac5dcedc0462c9666502857c267ca0b9" category="paragraph">TRC</block>
  <block id="14158bd3b35694ff84bf32ac7083ab05" category="paragraph">触发源</block>
  <block id="387a704568021ba4e956f5061b52dbdd" category="paragraph">User ：用户触发</block>
  <block id="efbde1c9fa00de8a3589ecb1350603fc" category="paragraph">Syst ：系统已触发</block>
  <block id="32d521238ff69ba10399c0ef285ec736" category="summary">您可以使用审核解释工具将审核日志中的审核消息转换为易于阅读的格式。</block>
  <block id="f5be904143ed898c4fea2f28b31135cc" category="doc">使用审核解释工具</block>
  <block id="8ba1f961a3c672cf8af7f3a1aaa4dd0e" category="paragraph">您可以使用 `audit-explain` 工具将审核日志中的审核消息转换为易于阅读的格式。</block>
  <block id="be44526ad413cd8415f564bf18003e7f" category="list-text">您必须知道主管理节点的 IP 地址。</block>
  <block id="03fd2f99986a8507d3a9d11f1c83ead2" category="paragraph">主管理节点上提供的 `audit-explain` 工具可在审核日志中简化审核消息的摘要。</block>
  <block id="0ec72f01b9d9e1c358213c5708c0e999" category="admonition">`audit-explain` 工具主要供技术支持在故障排除操作期间使用。处理 `审核 - 解释` 查询可能会占用大量 CPU 资源，这可能会影响 StorageGRID 操作。</block>
  <block id="fb9dab341de15fb5f7364473236b3d5e" category="paragraph">此示例显示了 `audit-explain` 工具的典型输出。当帐户 ID 为 92484777680322627870 的 S3 租户使用 S3 PUT 请求创建名为 "Bucket1" 的存储分段并向该存储分段添加三个对象时，会生成这四条 SPUT 审核消息。</block>
  <block id="a3172436af67ced0ad6774a86386c7f4" category="paragraph">`audit-explain` 工具可以处理简单或压缩的审核日志。例如：</block>
  <block id="b0f68e853f49f924a95a83381871fd8c" category="paragraph">`audit-explain` 工具还可以同时处理多个文件。例如：</block>
  <block id="6191242e0f0859d8e4701abeb16f4d5f" category="paragraph">最后， `audit-explain` 工具可以接受来自管道的输入，这样，您可以使用 `grep` 命令或其他方法筛选和预处理输入。例如：</block>
  <block id="3b0f9cc38947b6bfbc8d2b788c304754" category="paragraph">由于审核日志可能非常大且解析速度较慢，因此您可以通过筛选要查看的部分并在这些部分（而不是整个文件）上运行 `audit-explain` 来节省时间。</block>
  <block id="65020ffa3ba248a56fd6e44bc8d38a2f" category="admonition">`audit-explain` 工具不接受将压缩文件作为管道输入。要处理压缩的文件，请将其文件名作为命令行参数提供，或者使用 `zcat` 工具先解压缩这些文件。例如：</block>
  <block id="70ec9c0523e44a1a38ff3db418f2035a" category="paragraph">使用 `help （ -h ）` 选项查看可用选项。例如：</block>
  <block id="87876e34986876b847de1ffa2d1fb8c4" category="list-text">输入以下命令，其中 ` /var/local/audit/export/audit.log` 表示要分析的一个或多个文件的名称和位置：</block>
  <block id="7bd651b8384e16ef676421fd457f5144" category="paragraph">` $ audit-explain /var/local/audit/export/audit.log`</block>
  <block id="1713154cab15aa47283552b64a30420d" category="paragraph">`audit-explain` 工具可为指定文件中的所有消息输出可供用户读取的解释。</block>
  <block id="d35b4a7431aef9e620fa28b7d8607247" category="admonition">为了缩短行长度并提高可读性，默认情况下不会显示时间戳。如果要查看时间戳，请使用 timestamp （` -t` ）选项。</block>
  <block id="9dd71324ee49dedd49a5d225cb8eff54" category="summary">当 S3 客户端发出 POST 对象请求时，如果事务成功，服务器将发出此消息。</block>
  <block id="7bc73c9b1d2d55894c91dc94fd6e5a9a" category="doc">SPOS ： S3 POST</block>
  <block id="adf8214c61a1d732bbc525b5cff591ab" category="paragraph">请求的内容块的唯一标识符。如果 CBID 未知，则此字段将设置为 0 。</block>
  <block id="bb41c7d260a1b3585e094b18358a4626" category="paragraph">检索到的对象的大小（以字节为单位）。</block>
  <block id="a50f05b20827a42a9a513fb038335684" category="paragraph">POST 对象还原请求的结果。结果始终为：</block>
  <block id="cdb41ff1c1b28413efb472943fb53d6e" category="paragraph">对于 S3 Select 操作，设置为 `select` 。</block>
  <block id="646f24e0f10aa1c6414e37953b64d568" category="paragraph">还原信息。</block>
  <block id="a9cbbb4c640e1a6293a4b5bc5d28dfbc" category="paragraph">所请求对象的特定版本的版本 ID 。对未版本控制的分段中的分段和对象执行的操作不包括此字段。</block>
  <block id="65f83432c48d7c3bbb38832350f9cac3" category="summary">您应熟悉属于系统审核类别的审核消息。这些事件与审核系统本身，网格节点状态，系统范围的任务活动（网格任务）和服务备份操作相关，可帮助您解决潜在问题。</block>
  <block id="e9c8960b4fa1b5b7a60a1e42fce71bd8" category="paragraph">您应熟悉属于系统审核类别的审核消息。这些事件与审核系统本身，网格节点状态，系统范围的任务活动（网格任务）和服务备份操作相关，可帮助您解决潜在问题。</block>
  <block id="634b489645ab541000a4a9f2b5f16c99" category="cell">消息标题和问题描述</block>
  <block id="b05c23fab98df11c755ba516f5df83c0" category="paragraph">ECMC</block>
  <block id="674f61c8e2e40fea9234930cbf5e4c60" category="paragraph">缺少纠删编码数据片段：表示检测到缺少纠删编码数据片段。</block>
  <block id="c3c0865333842ae59e5658a27f15ec22" category="inline-xref-macro">ECMC ：缺少擦除编码的数据片段</block>
  <block id="71634856d66712d458179b066ece13a1" category="paragraph"><block ref="71634856d66712d458179b066ece13a1" category="inline-xref-macro-rx"></block></block>
  <block id="4bc949a012acd60cc2f841fec2050f36" category="paragraph">ECOC</block>
  <block id="d86cdd286d151a7db1fe6157369ce131" category="paragraph">Erasure 编码数据片段损坏：表示检测到擦除编码数据片段损坏。</block>
  <block id="8b774576c1800890b21490e1a6af6fd4" category="inline-xref-macro">EcC ：擦除编码数据片段损坏</block>
  <block id="476446d2b9188348eae7531051f6d5ef" category="paragraph"><block ref="476446d2b9188348eae7531051f6d5ef" category="inline-xref-macro-rx"></block></block>
  <block id="c488220ddf051da550287deb9a0240cb" category="paragraph">ETAF</block>
  <block id="3ad1419a448250087470d944d4e3882a" category="paragraph">安全身份验证失败：尝试使用传输层安全（ Transport Layer Security ， TLS ）进行连接失败。</block>
  <block id="27dd26e4a09e20a86f454400841f40f7" category="inline-xref-macro">ETAF ：安全身份验证失败</block>
  <block id="bf78d073085f903ca85dfe56e03816b6" category="paragraph"><block ref="bf78d073085f903ca85dfe56e03816b6" category="inline-xref-macro-rx"></block></block>
  <block id="71add837388b34c10836ade9efc848d5" category="paragraph">GNRG</block>
  <block id="04249ecf0b05e20d7b57efe1ad8f1ec2" category="paragraph">GNDS 注册：服务在 StorageGRID 系统中更新或注册了有关自身的信息。</block>
  <block id="025075071a1809e5c86412085bcea718" category="paragraph"><block ref="025075071a1809e5c86412085bcea718" category="inline-xref-macro-rx"></block></block>
  <block id="338ea14f4ac905de489d3965bf19f1ec" category="paragraph">GNUR</block>
  <block id="3a6d167eb8befbc9cf35dde024077cbc" category="paragraph">GNDS 注销：服务已从 StorageGRID 系统中注销自身。</block>
  <block id="f5474be16d939221a88ebf58cf208243" category="inline-xref-macro">GN-R ： GNDS 注销</block>
  <block id="b66fc26b427348379496019f7cce4946" category="paragraph"><block ref="b66fc26b427348379496019f7cce4946" category="inline-xref-macro-rx"></block></block>
  <block id="7369f89ef5d81180ff5721dd512b9658" category="paragraph">GTED</block>
  <block id="02ad3a92fc11ba079631454643259438" category="paragraph">网格任务已结束： CMN 服务已完成网格任务的处理。</block>
  <block id="ac62580c0b1fde09cb54a408f6a026de" category="inline-xref-macro">GTed ：网格任务已结束</block>
  <block id="b16accc3162f29caad2761b8bfcdd73b" category="paragraph"><block ref="b16accc3162f29caad2761b8bfcdd73b" category="inline-xref-macro-rx"></block></block>
  <block id="21aafe2c6297800d9d1420fe3839605a" category="paragraph">GTSt</block>
  <block id="9384370d94e0b9c74daebb1fe35775fc" category="paragraph">网格任务已启动： CMN 服务已开始处理网格任务。</block>
  <block id="5072f1d1999e913e2439dd9312d36782" category="inline-xref-macro">GTST ：已启动网格任务</block>
  <block id="899080ded65daa0ffc88046811e4a977" category="paragraph"><block ref="899080ded65daa0ffc88046811e4a977" category="inline-xref-macro-rx"></block></block>
  <block id="321ada4aa1316adc9fe746748a0c560f" category="paragraph">GTSU</block>
  <block id="501ad0c89b0d9ef439ac2eb69f36a066" category="paragraph">已提交网格任务：已将网格任务提交到 CMN 服务。</block>
  <block id="bd76ca4663dbb0d68494ff2ab0ccdd15" category="inline-xref-macro">GTSU ：已提交网格任务</block>
  <block id="bee7f5afa2345eec1065726cb6aa4fb0" category="paragraph"><block ref="bee7f5afa2345eec1065726cb6aa4fb0" category="inline-xref-macro-rx"></block></block>
  <block id="824ac11e1c9e558f71366332c365e980" category="paragraph">标识</block>
  <block id="51337eea534fdc7334c2a2b5b48f0c04" category="paragraph">ILM Initiated Delete ：当 ILM 开始删除对象的过程时，会生成此审核消息。</block>
  <block id="b5713b7b8f754200940c23a87de39dd8" category="paragraph"><block ref="b5713b7b8f754200940c23a87de39dd8" category="inline-xref-macro-rx"></block></block>
  <block id="dc6fdc9882a6c5cd6f988a28b1b7c052" category="paragraph">LKCU</block>
  <block id="f7d169a118ecf5ac3f8b9554bee31a9b" category="paragraph">已覆盖对象清理。自动删除已覆盖的对象以释放存储空间时会生成此审核消息。</block>
  <block id="bce0f6e47f3ab2447f1bb1dce71a8765" category="inline-xref-macro">LKCU ：覆盖对象清理</block>
  <block id="606dd749476a63913dc13820223b6d4b" category="paragraph"><block ref="606dd749476a63913dc13820223b6d4b" category="inline-xref-macro-rx"></block></block>
  <block id="0532209d65882b53c7925b3a33a83719" category="paragraph">LLST</block>
  <block id="e38a6dfc1f0e3d4e2f3c9f7e5219b585" category="paragraph">Location Lost ：当某个位置丢失时，会生成此审核消息。</block>
  <block id="098cf576974ca8430add1ec41c6215f9" category="paragraph"><block ref="098cf576974ca8430add1ec41c6215f9" category="inline-xref-macro-rx"></block></block>
  <block id="a30a44cb0890571eb0b1080b97ba09ad" category="paragraph">OLST</block>
  <block id="955b3d9fdfbae475759fa94038be58e4" category="paragraph">对象丢失：无法在 StorageGRID 系统中找到请求的对象。</block>
  <block id="89a6ca8c4771e85f3a1696d59ad6f3fb" category="paragraph"><block ref="89a6ca8c4771e85f3a1696d59ad6f3fb" category="inline-xref-macro-rx"></block></block>
  <block id="e7e3c2ca3f0d485983e35ecaf49e9ece" category="paragraph">满足对象规则：对象数据按照 ILM 规则的指定进行存储。</block>
  <block id="e75f19d116914af0879df9b13aee5eff" category="paragraph">Sadd</block>
  <block id="1e0067ac938b880254d43b46677f937b" category="paragraph">禁用安全审核：已关闭审核消息日志记录。</block>
  <block id="335efa9192440d9fd0b59cd57593a11d" category="inline-xref-macro">Sadd ：禁用安全审核</block>
  <block id="0862e6866b03bf5963f6033a3cdcbc7f" category="paragraph"><block ref="0862e6866b03bf5963f6033a3cdcbc7f" category="inline-xref-macro-rx"></block></block>
  <block id="8337f60304c1210bc206bf55a7f68d65" category="paragraph">Sade</block>
  <block id="ceb304f151416e8468f0871fc735b902" category="paragraph">启用安全审核：审核消息日志记录已还原。</block>
  <block id="24f21fcc981a1be3167a96a1e9a29802" category="inline-xref-macro">Sade ：启用安全审核</block>
  <block id="3f1d09b8d67331be6889a713c854f836" category="paragraph"><block ref="3f1d09b8d67331be6889a713c854f836" category="inline-xref-macro-rx"></block></block>
  <block id="7447f8d2b5533b4681100b858a0bf176" category="paragraph">SVRF</block>
  <block id="39612b9239a4eb043b7a56b9e48ad583" category="paragraph">对象存储验证失败：内容块验证检查失败。</block>
  <block id="449e0137d9096242f56eb046725c456f" category="inline-xref-macro">SVRF ：对象存储验证失败</block>
  <block id="8426839fbea1bd090c57b44e0332b9ba" category="paragraph"><block ref="8426839fbea1bd090c57b44e0332b9ba" category="inline-xref-macro-rx"></block></block>
  <block id="de5c8e8ce925c3e2dcd2606e1691b8ae" category="paragraph">SVRU</block>
  <block id="eb8aa0ee0f8b48d863fa6be25045998e" category="paragraph">对象存储验证未知：在对象存储中检测到意外的对象数据。</block>
  <block id="e34b17c1ba2d13e22de46dece71becfa" category="inline-xref-macro">SVRU ：对象存储验证未知</block>
  <block id="b4cfde4f58e47e8259a7f43db562bf88" category="paragraph"><block ref="b4cfde4f58e47e8259a7f43db562bf88" category="inline-xref-macro-rx"></block></block>
  <block id="05a84c0e1e915d940b76afae7b4b72da" category="paragraph">系统</block>
  <block id="ff0b1cfe0d40694a1f908d50bd5ef125" category="paragraph">节点停止：已请求关闭。</block>
  <block id="dd202d48d403691f448ad6626557a244" category="paragraph"><block ref="dd202d48d403691f448ad6626557a244" category="inline-xref-macro-rx"></block></block>
  <block id="bbdf95d0834cab1bd7dbd9ace09a6819" category="paragraph">系统</block>
  <block id="3b982c851fde8b8ef78ab44bc45ef193" category="paragraph">节点停止：服务已正常停止。</block>
  <block id="cec53141d4019a88e6cc8fbf86f089a9" category="inline-xref-macro">Syst ：节点正在停止</block>
  <block id="035a9632f5c32852108f9b8faf7688f3" category="paragraph"><block ref="035a9632f5c32852108f9b8faf7688f3" category="inline-xref-macro-rx"></block></block>
  <block id="bf9929e283dd8f7739dea8e93dfabe06" category="paragraph">系统</block>
  <block id="f350c2f296e166fca0951d8836d343b9" category="paragraph">节点启动：服务已启动；消息中显示了上次关闭的性质。</block>
  <block id="65be6c167fafae0cdb0c5e5877be8f9c" category="paragraph"><block ref="65be6c167fafae0cdb0c5e5877be8f9c" category="inline-xref-macro-rx"></block></block>
  <block id="8656088233660ec09b113851bf67dff4" category="paragraph">VLST</block>
  <block id="3c4f77cbb942c0983770e7efb6338179" category="paragraph">User Initiated Volume Lost ：已运行 ` /proc/CMSI/Volume_Lost` 命令。</block>
  <block id="aa906e8b22238f7aa94e402ab724e827" category="inline-xref-macro">VLST ：用户启动的卷丢失</block>
  <block id="8cccd68d82f948e7a210001d952920e6" category="paragraph"><block ref="8cccd68d82f948e7a210001d952920e6" category="inline-xref-macro-rx"></block></block>
  <block id="ed491f17d86f2f60f919fbba287ce57d" category="summary">您可以使用 audit-sum 工具对写入，读取，标题和删除审核消息进行计数，并查看每种操作类型的最短，最长和平均时间 \ （或大小 \ ）。</block>
  <block id="3539db799365db37f7139222cc7c8583" category="doc">使用 audit-sum 工具</block>
  <block id="e8af90e6b4ab2862cd480bff8617bbb6" category="paragraph">您可以使用 `audit-sum` 工具对写入，读取，标头和删除审核消息进行计数，并查看每种操作类型的最小，最大和平均时间（或大小）。</block>
  <block id="52d66f363da1e6c43b8cad8c39754ada" category="paragraph">主管理节点上提供的 `audit-sum` 工具总结了记录的写入，读取和删除操作数量以及这些操作所需的时间。</block>
  <block id="9927cc646a77f0d3e77d955c4cf8d955" category="admonition">`audit-sum` 工具主要供技术支持在故障排除操作期间使用。处理 `audit-sum` 查询可能会占用大量 CPU 资源，这可能会影响 StorageGRID 操作。</block>
  <block id="7b090ed46b986eec3e2e1e5f6cbec98e" category="paragraph">此示例显示了 `audit-sum` 工具的典型输出。此示例显示了协议操作所需的时间。</block>
  <block id="99d13b0ca51027fb11544c01f0695619" category="paragraph">`audit-sum` 工具可在审核日志中提供以下 S3 ， Swift 和 ILM 审核消息的计数和时间：</block>
  <block id="0dc199272f828418a4dc56ce0231ff0b" category="cell">请参见</block>
  <block id="0acf2280c1aa0360e7e150f585925065" category="paragraph">从云层检索归档</block>
  <block id="ec6069b70bfa68cff9c330e5894be3e8" category="paragraph">归档存储云层</block>
  <block id="adecd6fc49acbfa613b280b362937229" category="paragraph">ILM Initiated Delete ：记录 ILM 开始删除对象的过程。</block>
  <block id="2b674593300fe9ad50bcf44f2c4b2457" category="paragraph">SDEL</block>
  <block id="accd607706ff08e8b6d14eb53bb23eed" category="paragraph">S3 delete ：记录成功的事务以删除对象或存储分段。</block>
  <block id="85e9bffe9afa876e6ea650a411d339f5" category="paragraph"><block ref="85e9bffe9afa876e6ea650a411d339f5" category="inline-xref-macro-rx"></block></block>
  <block id="f3aed39ec503ed177ffe6e523d0e02b9" category="paragraph">SGET</block>
  <block id="f0f499e6dbee6d1a64b6da5de9ce6d5f" category="paragraph">S3 GET ：记录成功的事务以检索对象或列出存储分段中的对象。</block>
  <block id="4fbc8b26065155c079c1916ac536172f" category="inline-xref-macro">SGET ： S3 GET</block>
  <block id="6dcc20e4d2b22e8b33cb546cd1c29e52" category="paragraph"><block ref="6dcc20e4d2b22e8b33cb546cd1c29e52" category="inline-xref-macro-rx"></block></block>
  <block id="c1151571c80cd4f24a5d6933f813ca41" category="paragraph">Shea</block>
  <block id="5822499f3c5e2ef05557778de9a55d52" category="paragraph">S3 head ：记录成功的事务以检查是否存在对象或存储分段。</block>
  <block id="4051e2907aa3b7bed72d528f9fc8f032" category="inline-xref-macro">Shea ： S3 机头</block>
  <block id="c253dd95f0f32eb0baa7291fc7b0336b" category="paragraph"><block ref="c253dd95f0f32eb0baa7291fc7b0336b" category="inline-xref-macro-rx"></block></block>
  <block id="0bbaf81a38f6fe19ded8d68052045abf" category="paragraph">S3 PUT ：记录成功的事务以创建新对象或存储分段。</block>
  <block id="1598072bfa7860e9f4310817c05dd956" category="paragraph">WDEL</block>
  <block id="f607f5ae50c805a6669b2cbb2acceed3" category="paragraph">Swift delete ：记录成功的事务以删除对象或容器。</block>
  <block id="78ccbdf23a983adadad87b7e8661636e" category="paragraph"><block ref="78ccbdf23a983adadad87b7e8661636e" category="inline-xref-macro-rx"></block></block>
  <block id="0fdb82355a6c01efe1d3937b8ce2bced" category="paragraph">wget</block>
  <block id="75335b2b330d01ad276b0cb2128bbbbd" category="paragraph">Swift get ：记录成功的事务以检索对象或列出容器中的对象。</block>
  <block id="04f02e5d546b485c4b0852c75bf2af6b" category="inline-xref-macro">WGET ： Swift GET</block>
  <block id="d68fd361a2bad25ba7a7b68cb2b2cb73" category="paragraph"><block ref="d68fd361a2bad25ba7a7b68cb2b2cb73" category="inline-xref-macro-rx"></block></block>
  <block id="2c70cec8869ca4a70d76cb414977b69d" category="paragraph">WHEA</block>
  <block id="2ace89775dc53210756d146855af010e" category="paragraph">Swift head ：记录成功的事务以检查是否存在对象或容器。</block>
  <block id="2e95b73b2231b22a7e7dbe165020f38b" category="inline-xref-macro">WHEA ： Swift head</block>
  <block id="137ed84101ae077a98c9c238f5172d9f" category="paragraph"><block ref="137ed84101ae077a98c9c238f5172d9f" category="inline-xref-macro-rx"></block></block>
  <block id="1394f58fa84280596265ad5aba904309" category="paragraph">Swift PUT ：记录成功的事务以创建新对象或容器。</block>
  <block id="223c3d0712f6902f96347a2d6d646e6a" category="paragraph">`audit-sum` 工具可以处理纯审核日志或压缩的审核日志。例如：</block>
  <block id="1985db852ea1ee4cd125e2f5ba816384" category="paragraph">`audit-sum` 工具还可以同时处理多个文件。例如：</block>
  <block id="3267fd8c9582f5f5d755c1bdd3f6074f" category="paragraph">最后， `audit-sum` 工具还可以接受来自管道的输入，这样，您可以使用 `grep` 命令或其他方法筛选和预处理输入。例如：</block>
  <block id="2ef08d9f174988fe4c9e46db524199f0" category="admonition">此工具不接受将压缩文件作为管道输入。要处理压缩的文件，请将其文件名作为命令行参数提供，或者使用 `zcat` 工具先解压缩这些文件。例如：</block>
  <block id="9ea6d341acfe5c396b760d396e28146c" category="paragraph">您可以使用命令行选项将存储分段上的操作与对象上的操作分开进行汇总，或者按存储分段名称，时间段或目标类型对消息摘要进行分组。默认情况下，摘要会显示最小，最大和平均操作时间，但您可以使用 `size （ -s ）` 选项查看对象大小。</block>
  <block id="680e8925f8e51b08f7b12d819741e26a" category="list-text">如果要分析与写入，读取，磁头和删除操作相关的所有消息，请执行以下步骤：</block>
  <block id="055934fd34c6b2b4b05094d6faa198a7" category="paragraph">在此示例中， SGET （ S3 GET ）操作的平均速度最慢，为 1.13 秒，但 SGET 和 SPUT （ S3 PUT ）操作的最坏情况时间都较长，约为 1 ， 770 秒。</block>
  <block id="cddddce841c3b46043ef9ace39378d34" category="list-text">要显示速度最慢的 10 个检索操作，请使用 grep 命令仅选择 SGET 消息，并添加较长的输出选项（` -l` ）以包含对象路径： `grep SGET audit.log ； audit-sum -l`</block>
  <block id="94803c4d19a21f21fdd970526098e0dc" category="paragraph">结果包括类型（对象或分段）和路径，您可以通过此类结果在审核日志中添加与这些特定对象相关的其他消息。</block>
  <block id="feea9fb1c3b84caa1a94da324d5814af" category="paragraph">在此示例输出中，您可以看到，三个最慢的 S3 GET 请求针对的是大小约为 5 GB 的对象，该大小远远大于其他对象。大容量导致最差情况检索时间较慢。</block>
  <block id="d2600810779baffe626b835e998ac1dd" category="list-text">如果要确定要将哪些大小的对象输入网格并从网格中检索到，请使用 size 选项（` -s` ）：</block>
  <block id="83e8ec7dbf74c9c6786cf23b8d9cb55f" category="paragraph">在此示例中， SPUT 的平均对象大小小于 2.5 MB ，但 SGET 的平均大小要大得多。SPUT 消息的数量远远高于 SGET 消息的数量，这表明大多数对象永远不会被检索到。</block>
  <block id="de55517126f3efa106f993881e9eddc9" category="list-text">如果要确定昨天的检索速度是否较慢：</block>
  <block id="7bd480c1e0df70143327f7dba66d9d3a" category="list-text">在相应的审核日志上输入命令并使用 group-by-time 选项（` -gt` ），后跟时间段（例如 15M ， 1H ， 10S ）问题描述 ：</block>
  <block id="c6b1fa587c3ae18d3e9e508cdf7960c7" category="paragraph">这些结果显示 S3 GET 流量在 06 ： 00 到 07 ： 00 之间达到高峰。这些时间的最大和平均时间也明显较高，并且不会随着数量的增加而逐渐增加。这表明容量已超出某个位置，可能是在网络中，也可能是在网格处理请求的能力中。</block>
  <block id="afd04b5998c325a5ff02e8baece83935" category="list-text">要确定昨天每小时检索的对象大小，请在命令中添加 size 选项（` -s` ）：</block>
  <block id="95153cb85526b34ede52affa018b137d" category="paragraph">这些结果表明，当整体检索流量达到最大值时，会发生一些非常大的检索。</block>
  <block id="50da0c596a5154e630389f7a7c01bbdc" category="list-text">要查看更多详细信息，请使用 `audit-explain` 工具查看该时段的所有 SGET 操作：</block>
  <block id="2a5f9dfce335a09f157393e55c6d7d80" category="paragraph">如果 grep 命令的输出应为多行，请添加 `less` 命令，以便一次显示一页（一个屏幕）的审核日志文件内容。</block>
  <block id="4d02be7754b1d7e94c08e733bc1f4452" category="list-text">如果要确定存储分段上的 SPUT 操作是否比对象的 SPUT 操作慢：</block>
  <block id="7ed4856e8a00439452799ba7667e9292" category="list-text">首先使用 ` -go` 选项，该选项可分别对对象和存储分段操作的消息进行分组：</block>
  <block id="bc71074588d4c4e5bacb4b8c6628c25c" category="paragraph">结果显示，存储分段的 SPUT 操作与对象的 SPUT 操作具有不同的性能特征。</block>
  <block id="a462cd66b3226f19147f4eaa76071125" category="list-text">要确定哪些存储分段的 SPUT 操作最慢，请使用 ` -GB` 选项，该选项可按存储分段对消息进行分组：</block>
  <block id="89b51dc0d610503234c14fdfc0be323b" category="list-text">要确定哪些分段的 SPUT 对象大小最大，请使用 ` -GB` 和 ` -s` 选项：</block>
  <block id="922a4dee434e58af30258df4a92dd6c5" category="paragraph"><block ref="922a4dee434e58af30258df4a92dd6c5" category="inline-xref-macro-rx"></block></block>
  <block id="612c93f8483449a0c500ae9508679e0a" category="summary">S3 客户端更新对象的元数据时会生成审核消息。</block>
  <block id="7b0e76e3dbc13cfb17ee66ec0dd3b7ad" category="doc">元数据更新消息</block>
  <block id="7931cee5f3734446eb5f577443cdf166" category="paragraph">当 S3 客户端更新对象的元数据时，系统会生成审核消息。</block>
  <block id="64baf659a36721effd11026d58d7f864" category="section-title">S3 元数据更新审核消息</block>
  <block id="f56e5c80067c210c8b2c6a262aea4490" category="paragraph">SUPD</block>
  <block id="4be7ea4c61b8e6da7443cd0bbc88d2e7" category="paragraph">已更新 S3 元数据</block>
  <block id="22871a10f2f4cc5b40f3fdf39dd45dff" category="paragraph">当 S3 客户端更新已载入对象的元数据时生成。</block>
  <block id="1ef007d24f26655eb1f1cff889d783a3" category="paragraph">CBID ， S3KY ， HTRH</block>
  <block id="9245fbac2c9fe8a5a4e223f6ce49f47f" category="paragraph"><block ref="9245fbac2c9fe8a5a4e223f6ce49f47f" category="inline-xref-macro-rx"></block></block>
  <block id="eace40817fb27f866b4c93279b55796a" category="summary">每次载入，检索或删除对象时都会生成审核消息。您可以通过查找 API 专用的 \ （ S3 或 Swift\ ）审核消息来在审核日志中标识这些事务。</block>
  <block id="6ac7aa726e17c0618b6d0c4fd5f1870d" category="doc">审核消息和对象生命周期</block>
  <block id="8f388761b6b888496d8129cd5808a376" category="paragraph">每次载入，检索或删除对象时都会生成审核消息。您可以通过查找特定于 API （ S3 或 Swift ）的审核消息在审核日志中标识这些事务。</block>
  <block id="be97bc37d20f2aa4ca8d6958c9a28271" category="paragraph">审核消息通过每个协议专用的标识符进行链接。</block>
  <block id="94debcfa5bfc10bbff3f341090dbd9c6" category="paragraph">链接 S3 操作</block>
  <block id="c59428ab30ca6df6590f726a29d5ccb4" category="paragraph">S3BK （ S3 分段）和 / 或 S3KY （ S3 密钥）</block>
  <block id="1bdc2ec52b8e6489ac85ecb82c03097a" category="paragraph">链接 Swift 操作</block>
  <block id="a7691177f55e4f4769c31abc27a37c3e" category="paragraph">WCON （ Swift 容器）和 / 或 WOBJ （ Swift 对象）</block>
  <block id="640a1f26ae3ce889af7af6c2023d9e68" category="paragraph">链接内部操作</block>
  <block id="d8cb92d8c9e20bc56f36588b3c5203b9" category="paragraph">CBID （对象的内部标识符）</block>
  <block id="8232222668b75bf8df1c6efee33845d5" category="section-title">审核消息的时间</block>
  <block id="840fdff90357d8176c08c5555b95375d" category="paragraph">由于网格节点之间的时间差异，对象大小和网络延迟等因素，不同服务生成的审核消息的顺序可能与本节示例中所示的顺序不同。</block>
  <block id="6f507f4e391bc0d27c2dc23a093fd4f2" category="section-title">信息生命周期管理策略配置</block>
  <block id="e05b213453bdfca19cf129a0819ea6b1" category="paragraph">使用默认 ILM 策略（基线 2 副本），对象数据复制一次，总共复制两个副本。如果 ILM 策略需要两个以上的副本，则每个额外的副本还会另外显示一组 CBRE ， CBSE 和 SCMT 消息。有关 ILM 策略的详细信息，请参见有关通过信息生命周期管理管理对象的信息。</block>
  <block id="9d5335609b710890ffd70ba9b7a00e08" category="paragraph">归档节点向外部归档存储系统发送对象数据时生成的一系列审核消息与存储节点的类似，只是没有 SCMT （存储对象提交）消息。 对于对象数据的每个归档副本，系统会生成 ATCE （ Archive Object Store Begin ）和 ASCE （ Archive Object Store End ）消息。</block>
  <block id="4bf998205bcb1a2f934d34bb9c3423c1" category="paragraph">归档节点从外部归档存储系统检索对象数据时生成的一系列审核消息与存储节点的类似，只是为每个检索到的对象数据副本生成了 ARCB （归档对象检索开始）和 Arce （归档对象检索结束）消息。</block>
  <block id="f6c697fa0bc3328dc9c64037b38fa0fe" category="paragraph">归档节点从外部归档存储系统删除对象数据时生成的一系列审核消息与存储节点的类似，只是没有 Srem （对象存储删除）消息，并且每个删除请求都有一条 AREM （归档对象删除）消息。</block>
  <block id="8a2dfdb45d0874176aa47deefc822549" category="summary">从通过 S3 API 连接到 StorageGRID 的外部归档存储系统检索归档对象数据时会生成此消息。</block>
  <block id="edee4f69bed12bc2e7560873fa5bb6fc" category="paragraph">已检索到的内容块的唯一标识符。</block>
  <block id="ad8ba8cfa79d767904498d706e60a6d9" category="paragraph">对象的大小（以字节为单位）。此值仅适用于成功检索。</block>
  <block id="800a296638acc85943d07fea0bf1f6f8" category="paragraph">外部归档存储系统的唯一标识符（ UUID ）。</block>
  <block id="fce4e64200d7743d95983764a09f7c6c" category="summary">您应熟悉对审核消息进行分组的各个类别。这些组将根据消息表示的活动类别进行组织。</block>
  <block id="6de1afa3cf1550ab26dedcd5f261ba67" category="doc">审核消息类别</block>
  <block id="8d3d70a291e2d5afcf32340c8ddc82fe" category="summary">如果某个服务已从 StorageGRID 系统中取消注册有关自身的信息，则 CMN 服务将生成此审核消息。</block>
  <block id="dff76a964abe48f2d2c7d85a62b70bd9" category="summary">当 S3 客户端从存储节点 \ （ LDR 服务 \ ）检索对象时，系统会生成一条审核消息并将其保存到审核日志中。</block>
  <block id="98560f0ffafbce91083a00d1756efde6" category="doc">示例： S3 对象检索</block>
  <block id="4832eb509f30bb096ce0c8792fab4a42" category="paragraph">当 S3 客户端从存储节点（ LDR 服务）检索对象时，系统会生成一条审核消息并将其保存到审核日志中。</block>
  <block id="8d383e94c5719f53da73222ad7fead70" category="paragraph">请注意，并非在事务期间生成的所有审核消息都在以下示例中列出。仅列出与 S3 检索事务（ SGET ）相关的那些。</block>
  <block id="5a2100d8d7307b6eea15fed5a439c61b" category="paragraph">当客户端向 LDR 服务发送获取对象请求时，对象检索即开始。此消息包含用于检索对象的存储分段以及用于标识对象的 S3 密钥。</block>
  <block id="b4fd9ab1e6d281a8a95cdaab79f42899" category="paragraph">如果存储分段策略允许，客户端可以匿名检索对象，或者从其他租户帐户拥有的存储分段中检索对象。审核消息包含有关存储分段所有者的租户帐户的信息，以便您可以跟踪这些匿名请求和跨帐户请求。</block>
  <block id="62d3c04d868d3488382841dd1c9d009d" category="paragraph">在以下示例消息中，客户端会为存储在非自有存储分段中的对象发送 GET 对象请求。SBAI 和 SBAC 的值会记录存储分段所有者的租户帐户 ID 和名称，这与 S3AI 和 SACC 中记录的租户帐户 ID 和客户端名称不同。</block>
  <block id="2bd2852a82b747c5a6677aeb550ac85c" category="summary">当 S3 客户端对某个对象发出 S3 Select 查询时，系统会生成审核消息并将其保存到审核日志中。</block>
  <block id="01a79d75d7188cc081530413adb992ea" category="doc">示例：对象上的 S3 Select</block>
  <block id="8055bc95c3249683c20c449cd5abcaa5" category="paragraph">请注意，并非在事务期间生成的所有审核消息都在以下示例中列出。仅列出与 S3 Select 事务（ SelectObjectContent ）相关的那些内容。</block>
  <block id="72ee4d255212c177de476e533697f797" category="paragraph">每个查询都会生成两条审核消息：一条用于执行 S3 Select 请求的授权（ S3SR 字段设置为 "Select" ），另一条用于在处理期间从存储中检索数据的后续标准 GET 操作。</block>
  <block id="5e40945c709ced297e7ef26292e16830" category="summary">当 Swift 客户端发出 PUT 事务时，系统会请求创建新的对象或容器。如果事务成功，服务器将发出此消息。</block>
  <block id="413ffb11a24631d68be251b8e63bc51a" category="paragraph">请求的内容块的唯一标识符。如果 CBID 未知，则此字段将设置为 0 。对容器执行的操作不包括此字段。</block>
  <block id="ac27f53a11573424cb7e0ef31fb2007c" category="paragraph">检索到的对象的大小（以字节为单位）。对容器执行的操作不包括此字段。</block>
  <block id="1f26a711a9f0ff546714fb7b7d94208c" category="paragraph">请求客户端的 IP 地址</block>
  <block id="c3326856bd3eb94ce991ae4ec6b6acf4" category="paragraph">WAcc</block>
  <block id="3f1c7910a37bf31af2d8c26ec8210581" category="paragraph">Swift 帐户 ID</block>
  <block id="5fdfdb0058e56fdcd374962880d0936b" category="paragraph">StorageGRID 系统指定的唯一帐户 ID 。</block>
  <block id="85cb789e9042aa2f03994a47b20c7dc9" category="paragraph">WCON</block>
  <block id="8318842497112d7a32d6632848295599" category="paragraph">Swift 容器</block>
  <block id="405ee8902e3e26ffce5dbcc37f3a77ea" category="paragraph">Swift 容器名称。</block>
  <block id="736d31427d362bc2115d74c2cb099254" category="paragraph">WOBJ</block>
  <block id="be1911d01a22514f23a37959546508e1" category="paragraph">Swift 对象</block>
  <block id="744eca7f383f547aa04b6ccd73d7152b" category="paragraph">Swift 对象标识符。对容器执行的操作不包括此字段。</block>
  <block id="b52d2e371b4f6687e22d7c0bf2495620" category="paragraph">WUSR</block>
  <block id="e35c56dc4c5fb869160fbc48b7fa36d8" category="paragraph">Swift 帐户用户</block>
  <block id="f94d54fe725adeab57f7f93c755a47fc" category="paragraph">用于唯一标识执行事务的客户端的 Swift 帐户用户名。</block>
  <block id="a6647df498514a73380b2a61e64ac10e" category="summary">此消息表示已开始向外部归档存储写入内容块。</block>
  <block id="7a6f20c55bcd4cf8cca23bfeae1f96fb" category="paragraph">要归档的内容块的唯一标识符。</block>
  <block id="9bd72a83027f1651acfccdfa06a84981" category="paragraph">将内容块写入到的卷的唯一标识符。如果操作失败，则返回卷 ID 0 。</block>
  <block id="09d98613359e2c0b59fd6fa8cae72a54" category="paragraph">指示内容块传输的结果。当前定义的值为：</block>
  <block id="be3699b5e2ce089781507b6407e36ea8" category="list-text">SUC ：成功（已成功存储内容块）</block>
  <block id="43682082679ecd297b9891bbfc7d2065" category="list-text">exis ：忽略（内容块已存储）</block>
  <block id="53ed4672526125cb0b0c451bf649987e" category="list-text">ISFD ：发生故障（磁盘空间不足）</block>
  <block id="fbde433063378c798510841a8da24d99" category="list-text">ster ：失败（存储 CBID 时出错）</block>
  <block id="7b7f2e783dcaf52b32ac19d51a020600" category="summary">ILM 开始删除对象时会生成此消息。</block>
  <block id="d4d288de8884d8b9ec2bc74d65e07860" category="paragraph">在以下任一情况下都会生成 idel 消息：</block>
  <block id="b4eee2ca3b6b5fc32a8604b0a01b4a74" category="list-text">* 对于合规 S3 存储分段中的对象 * ：当 ILM 开始自动删除对象的过程时，系统会生成此消息，因为该对象的保留期限已过期（假设已启用自动删除设置且已关闭合法保留）。</block>
  <block id="c45f7ac94e2b23e4495982afdc64557c" category="list-text">* 用于不合规 S3 存储分段或 Swift 容器中的对象 * 。ILM 开始删除对象的过程时会生成此消息，因为活动 ILM 策略中的放置说明当前不适用于此对象。</block>
  <block id="ef7832d46990ef9696e708a21671e336" category="paragraph">对象的 CBID 。</block>
  <block id="ae497169787930c46a2cba4d928ba706" category="paragraph">CMPA</block>
  <block id="1e5bc5e8a033f3669cc6c5dc53eec858" category="paragraph">合规性：自动删除</block>
  <block id="5ef68b8463b6d82118836881ad82543f" category="paragraph">仅适用于合规 S3 存储分段中的对象。0 （ false ）或 1 （ true ），指示合规对象在保留期限结束时是否应自动删除，除非分段处于合法保留状态。</block>
  <block id="edebefe1c9dff695ced80a0b28afdaea" category="paragraph">Cmpl</block>
  <block id="7631c09a1ac2d03d9e045369252af9c3" category="paragraph">合规性：法律保留</block>
  <block id="99599d3d6a6443e867515d514eb1ac3c" category="paragraph">仅适用于合规 S3 存储分段中的对象。0 （ false ）或 1 （ true ），指示存储分段当前是否处于合法保留状态。</block>
  <block id="314ed16a52457deded86190eacefd5c3" category="paragraph">CMPR</block>
  <block id="61a07b092aa75f73790dbcb97ef271df" category="paragraph">合规性：保留期限</block>
  <block id="e1f6b0101c146a4bee56063898887199" category="paragraph">仅适用于合规 S3 存储分段中的对象。对象保留期限的长度，以分钟为单位。</block>
  <block id="c2e6f27cea1f32c7bd22d8e7fb7f2d1f" category="paragraph">CTME</block>
  <block id="49f0af7822870d42ad8baf9fe0677fff" category="paragraph">合规性：载入时间</block>
  <block id="a50219285d85454be12f64d7b789c8e3" category="paragraph">仅适用于合规 S3 存储分段中的对象。对象的载入时间。您可以将保留期限（以分钟为单位）添加到此值，以确定何时可以从存储分段中删除对象。</block>
  <block id="3e441fabf70779f2bfd2b13a8a73df9c" category="paragraph">内容大小</block>
  <block id="404c01ccbf5fcb43a9974683a5ab2912" category="paragraph">对象的大小（以字节为单位）。</block>
  <block id="f20f3c5ee016d773855bc0554641ceea" category="paragraph">LOC</block>
  <block id="eebd338ddbd547e41e4a1296de82963a" category="paragraph">位置</block>
  <block id="db08ec9ce9710cf5963207562092ad97" category="paragraph">对象数据在 StorageGRID 系统中的存储位置。如果对象没有位置（例如，已删除），则此对象的值为 "" 。</block>
  <block id="b8f76643fe1117c3d263a6c3cd0de440" category="paragraph">CLEC ：对于经过纠删编码的对象，应用于对象数据的纠删编码配置文件 ID 和纠删编码组 ID 。</block>
  <block id="88ed75e62e18708bdc39ec380d0357df" category="paragraph">CLDI ：对于复制的对象， LDR 节点 ID 和对象位置的卷 ID 。</block>
  <block id="d4f1cb659737f6d6724bcdaa67a64683" category="paragraph">CLNL ：归档对象数据时对象位置的弧节点 ID 。</block>
  <block id="31a13ee63f439bdff6416fe9c87baa1c" category="paragraph">S3 存储分段名称和 S3 密钥名称，或 Swift 容器名称和 Swift 对象标识符。</block>
  <block id="7d1e3f68b4804768937a642891be3fcc" category="paragraph">ILM 操作的结果。</block>
  <block id="5fa2fc05cedec02c4f5df2766373e90f" category="paragraph">SUC ： ILM 操作成功。</block>
  <block id="2dfa0f84a44043dca0cd209721123afa" category="paragraph">规则</block>
  <block id="7991f9ec1a9d49eccec7c17f8bda85c4" category="paragraph">规则标签</block>
  <block id="8677b6dd16be72b0631f9d9465f7e21b" category="list-text">如果合规 S3 存储分段中的某个对象因其保留期限已过期而被自动删除，则此字段为空。</block>
  <block id="ac635043131c3807d3dc78d6af710a26" category="list-text">如果由于当前没有其他应用于对象的放置指令而删除对象，则此字段将显示应用于对象的最后一个 ILM 规则的可读标签。</block>
  <block id="9850b5467a2f79580d0a31b2859b58e5" category="summary">此消息指示发起服务 \ （节点 ID\ ）已关闭审核消息日志记录；不再收集或传送审核消息。</block>
  <block id="540bfaa13583db363a071d456902bb62" category="paragraph">此消息指示发起服务（节点 ID ）已关闭审核消息日志记录；不再收集或传送审核消息。</block>
  <block id="84e06dedf55dfbac5289a669cbe11389" category="paragraph">AETM</block>
  <block id="98ca0aa9265b3a4f01f8de2831e63cf0" category="paragraph">启用方法</block>
  <block id="d5fc7935d48e632d23ce7fe7fd680a31" category="paragraph">用于禁用审核的方法。</block>
  <block id="e00bf8aa029a78377a37153005af8a3e" category="paragraph">AEUN</block>
  <block id="92f1b1481fa6ff46c4a3caae78354dab" category="paragraph">用户名</block>
  <block id="6484538e3d549ee3430cd05983b4d390" category="paragraph">执行命令以禁用审核日志记录的用户名。</block>
  <block id="4805a6d7f7ed5add2ffc30794f7d1c7b" category="paragraph">此消息表示先前已启用日志记录，但现在已禁用。通常，只有在批量载入期间才会使用此功能来提高系统性能。在批量活动之后，将还原审核（ SAade ），并永久阻止禁用审核的功能。</block>
  <block id="ac8df5574875413af84af3810a11a2d6" category="summary">从永久性存储中删除内容后会发出此消息，并且无法再通过常规 API 进行访问。</block>
  <block id="d20e8943be02c3dc74bbeca7d674d9e5" category="paragraph">从永久存储中删除的内容块的唯一标识符。</block>
  <block id="3fd8303668d821974532f6052b965d18" category="paragraph">指示内容删除操作的结果。唯一定义的值为：</block>
  <block id="6fe4f79e799a9953482e7e25c863c892" category="paragraph">SUC ：从永久性存储中删除的内容</block>
  <block id="b7df300fa627b509f2aa6c832da8cb75" category="paragraph">此审核消息表示已从节点中删除给定内容块，无法再直接请求。此消息可用于跟踪系统中已删除内容的流。</block>
  <block id="719a3f9f4a6f489dd048243b9cea6c59" category="summary">当 S3 或 Swift 客户端应用程序请求检索对象时，系统会记录客户端读取审核消息。</block>
  <block id="11cd4b12c171c74f7146ba4e4ede2f62" category="cell">使用人</block>
  <block id="37eb91ed1c04fefc4d4f40fa304c114a" category="paragraph">* 注： * 如果事务对子资源执行操作，则审核消息将包含字段 S3SR 。</block>
  <block id="23b3d4352ab2d76cff887cb780658983" category="paragraph">S3 客户端</block>
  <block id="006bae366815f835fc629aedfcf874e7" category="paragraph">Swift 客户端</block>
  <block id="16075d30bbec742fba916e2a18be7db4" category="summary">您可以在每个审核消息中找到详细信息。所有审核消息都使用相同的格式。</block>
  <block id="371450dc458e0a9bd0c265c612dacac4" category="doc">审核消息示例</block>
  <block id="a88fd6be0dfe60d170c881e8431332cb" category="paragraph">以下是可能出现在 `audit.log` 文件中的审核消息示例：</block>
  <block id="79a37f255a709d856f94ff68178524f4" category="paragraph">审核消息包含有关所记录事件的信息以及有关审核消息本身的信息。</block>
  <block id="ce41fb8b725801b002d9a4508c8e9aed" category="paragraph">要确定审核消息记录的事件，请查找 ATYP 属性（突出显示在下方）：</block>
  <block id="313792274335e4968067c03cefe7e474" category="paragraph">ATYP 属性的值为 SPUT 。SPUT 表示 S3 PUT 事务，用于记录对象载入到存储分段的情况。</block>
  <block id="d0f938cfbdf8fcaf52a976105bb47713" category="paragraph">以下审核消息还会显示与对象关联的存储分段：</block>
  <block id="8b43cf05a05afd885b5039f356c65147" category="paragraph">要发现 PUT 事件发生的时间，请注意审核消息开头的通用协调时间（ UTC ）时间戳。此值为审核消息本身的 ATIM 属性的用户‐可读版本：</block>
  <block id="5afa5ec99ac9f9f77c8a58bcc7bf0090" category="paragraph">Atim 会以微秒为单位记录自 UNIX Epoch 开始以来的时间。在此示例中，值 `1405631878959669` 转换为 2014 年 7 月 17 日星期四 21 ： 17 ： 59 UTC 。</block>
  <block id="43b8c79c8d776c9e50c63ff77142165d" category="summary">将归档对象数据存储到外部归档存储系统时会生成此消息，该系统通过 S3 API 连接到 StorageGRID 。</block>
  <block id="85e2c4ab53eb64b8105f78eb39244ebb" category="paragraph">存储内容的云层的唯一标识符（ UUID ）。</block>
  <block id="6a61bf4ee93e220e79cdb9b305313398" category="summary">在正常系统操作期间，随着数据的访问，复制和保留，内容块会在不同节点之间持续传输。在启动将内容块从一个节点传输到另一个节点时，目标实体会发出此消息。</block>
  <block id="db2e7ccd80194f16efbb9ff3b88fa25d" category="doc">CBRB ：对象接收开始</block>
  <block id="3f069cd782fccf4d127974c3db491f3d" category="paragraph">SUCS ：已成功启动传输。</block>
  <block id="6facbdfde42b728dc187305d256e046c" category="summary">当 S3 客户端从存储节点 \ （ LDR 服务 \ ）中删除对象时，系统会生成一条审核消息并将其保存到审核日志中。</block>
  <block id="5125453ad396ec7575d24764713f5f70" category="doc">示例： S3 对象删除</block>
  <block id="333dfd5ca941d8f743ccbd0514354c14" category="paragraph">当 S3 客户端从存储节点（ LDR 服务）中删除对象时，系统会生成一条审核消息并将其保存到审核日志中。</block>
  <block id="87fcf6bd37a5c60a9dbdfbb51050676a" category="admonition">在删除事务期间生成的审核消息并非都在以下示例中列出。仅列出与 S3 删除事务（ SDEL ）相关的那些。</block>
  <block id="53c6f8c2b9c40f053c7bbd6c0b7479b5" category="section-title">SDEL ： S3 删除</block>
  <block id="5114ad25fd54b3de34b838b511da54e3" category="paragraph">当客户端向 LDR 服务发送删除对象请求时，对象删除即开始。此消息包含用于删除对象的存储分段以及用于标识对象的 S3 密钥。</block>
  <block id="3b9cb7dce5a333f9bbf5d94ac8cbceb9" category="summary">如果外部 \ （客户端请求的 \ ）操作导致一个对象被另一个对象覆盖，则会生成此消息。</block>
  <block id="508efd1788616858f226977cb04d1723" category="paragraph">如果外部（客户端请求的）操作导致一个对象被另一个对象覆盖，则会生成此消息。</block>
  <block id="4b81bc26d7597200919b8e8af6c053ab" category="paragraph">内容块标识符（新增）</block>
  <block id="7087fb49bbac7b84d9a8326e56beec9b" category="paragraph">新对象的 CBID 。</block>
  <block id="b269df885ef8c065ba160966b6f6f8b5" category="paragraph">先前对象大小</block>
  <block id="fcfae3964d0d9a5ea1ad6c92a95570d1" category="paragraph">要覆盖的对象的大小（以字节为单位）。</block>
  <block id="bcfb0bd136da058f2e76191c10e0ef33" category="paragraph">OCBD</block>
  <block id="c72eff0c440db1164f25f0f764322e61" category="paragraph">内容块标识符（上一个）</block>
  <block id="75e8536293d8f60e91edf8f71f131599" category="paragraph">上一个对象的 CBID 。</block>
  <block id="49e04aaf9fe55bd48075e54006006453" category="paragraph">通用唯一 ID （新）</block>
  <block id="910d6c6c992afe348506e23412ed0332" category="paragraph">StorageGRID 系统中新对象的标识符。</block>
  <block id="ae74479d8c383b50eada61be26c5e88b" category="paragraph">OUID</block>
  <block id="82d0645b8509f6fdb1690b6694e11e30" category="paragraph">通用唯一 ID （以前的）</block>
  <block id="3c484e86ed836b6371c632d69ddef7c7" category="paragraph">StorageGRID 系统中上一个对象的标识符。</block>
  <block id="a9a660a26ef4be266af27ae712ccca45" category="paragraph">S3 或 Swift 对象路径</block>
  <block id="88837721cc9c046574004d391ffc8054" category="paragraph">用于上一个对象和新对象的 S3 或 Swift 对象路径</block>
  <block id="3feddf3f5ea7e1e6377ff431701bddb8" category="paragraph">对象覆盖事务的结果。结果始终为：</block>
  <block id="3866b9e41d14926a6d2cb4ad7027f893" category="paragraph">如果存在此参数，则会在指定的站点上删除此覆盖对象，而不是在其中载入此覆盖对象的站点。</block>
  <block id="1c1e5fcb0e8b24022934d3a4b84fbd9c" category="summary">在 StorageGRID 系统中交换的审核消息包括所有消息通用的标准信息以及描述所报告事件或活动的特定内容。</block>
  <block id="ad0635e034a4a3632dd61483a3e1bb72" category="doc">审核消息格式</block>
  <block id="5a8e4005bb2b0fba997891f57db7356b" category="paragraph">如果 `audit-explain` 和 `audit-sum` 工具提供的摘要信息不足，请参阅本节了解所有审核消息的常规格式。</block>
  <block id="08fe98175fa695f1b6fbb0ddf190045b" category="paragraph">下面是可能显示在审核日志文件中的审核消息示例：</block>
  <block id="8be076b37572758d23904e4f541748ee" category="paragraph">每个审核消息都包含一个属性元素字符串。整个字符串用方括号（` [ ]` ）括起来，字符串中的每个属性元素都具有以下特征：</block>
  <block id="cf87d2d9515ab76d80943bf40207aa60" category="list-text">括在方括号中 `` ………</block>
  <block id="d91c852aebc81b9e08ce1962697b030d" category="list-text">由字符串 `AUDT` 引入，表示审核消息</block>
  <block id="145964c70fd17241359b8eadd47e1153" category="list-text">前后不带分隔符（无逗号或空格）</block>
  <block id="38d565c5a09e79404f69213c6cc1efc3" category="list-text">由换行符 ` n` 终止</block>
  <block id="7134a2e36e5d8ab282697a433b82034a" category="paragraph">每个元素都包含一个属性代码，一个数据类型以及一个以以下格式报告的值：</block>
  <block id="1baca7af53041fd363ceefdfd80cc0e4" category="paragraph">消息中的属性元素数量取决于消息的事件类型。属性元素不按任何特定顺序列出。</block>
  <block id="c8708721801e9e102fba9f9de8d5e7cd" category="paragraph">以下列表介绍了这些属性元素：</block>
  <block id="ba8ce4051df4cca3e8cb037d70ce373c" category="list-text">`attr` 是所报告属性的四字符代码。某些属性对于所有审核消息都是通用的，而其他属性则针对事件。</block>
  <block id="2577b5544f9c189cb995784c1e324ae5" category="list-text">`type` 是值的编程数据类型的四字符标识符，例如 UI64 ， FC32 等。此类型用圆括号括起来 ` （）` 。</block>
  <block id="8d77efca09c1f9cea74e53abd3e5fa9d" category="list-text">`value` 是属性的内容，通常为数字或文本值。值始终后跟冒号（` ：` ）。数据类型 CStr 的值由双引号 ` " "` 括起来。</block>
  <block id="9c5febeda282a0117ce44c7c4877aa9f" category="paragraph"><block ref="9c5febeda282a0117ce44c7c4877aa9f" category="inline-xref-macro-rx"></block></block>
  <block id="46eec4a5973bf506a0a6757763ddd744" category="paragraph"><block ref="46eec4a5973bf506a0a6757763ddd744" category="inline-xref-macro-rx"></block></block>
  <block id="85c854b272e3e9d961072508b0c3bb8b" category="paragraph"><block ref="85c854b272e3e9d961072508b0c3bb8b" category="inline-xref-macro-rx"></block></block>
  <block id="e560827f7c763707a60d04d123c70461" category="summary">此审核消息指示系统检测到缺少经过纠删编码的数据片段。</block>
  <block id="34cdd955a96f8f31f5310c9724ae4538" category="paragraph">VCMC</block>
  <block id="1a10a460a76f31876ed1e28c59e36508" category="paragraph">VCS ID</block>
  <block id="72d2304db6fc9df559c13cdb5a2fb6a1" category="paragraph">包含缺少的块的 VCS 的名称。</block>
  <block id="dc4210ec47aed6d8f9e8fd7590f82fce" category="paragraph">MCID</block>
  <block id="0ac070cc2c8fba75aaad961ffdc263cb" category="paragraph">区块 ID</block>
  <block id="07a9532ffcf44ffa322514d0da4df309" category="paragraph">缺少纠删编码片段的标识符。</block>
  <block id="b883ff205321d5d41b97b1f8f9404fe7" category="paragraph">此字段的值为 " 无 " 。RSLT- 是一个必填消息字段，但与此特定消息无关。使用 " 无 " 而不是 "CSU" ，因此不会筛选此消息。</block>
  <block id="a82c662d64ad7306db124ca52644b5e3" category="summary">当 S3 客户端发出 GET 事务时，系统会请求检索对象或列出存储分段中的对象。如果事务成功，服务器将发出此消息。</block>
  <block id="dc5bf69f0e2a79ab9679e689454f48e0" category="paragraph">已振铃</block>
  <block id="5109c5b109f650a9826da4b2dc79e423" category="paragraph">范围读取</block>
  <block id="39b77a8550d1e6256c6a01c7d2cafd9a" category="paragraph">仅适用于范围读取操作。指示此请求读取的字节数范围。斜杠（ / ）后面的值显示整个对象的大小。</block>
  <block id="9d0e6e549b93c5dfc1dea9c54cb93897" category="summary">您可以通过查找 API 专用的 \ （ S3 和 Swift\ ）审核消息来确定审核日志中的对象删除事务。</block>
  <block id="a911da6eda500fba906a59beadf79cc0" category="doc">对象删除事务</block>
  <block id="8b98772f628d9b508fa4fda50b4e5000" category="paragraph">您可以通过查找特定于 API （ S3 和 Swift ）的审核消息来确定审核日志中的对象删除事务。</block>
  <block id="bef1c55092cb4867ca3f3e49045627b4" category="paragraph">下表列出了在删除事务期间生成的并非所有审核消息。仅包含跟踪删除事务所需的消息。</block>
  <block id="b0d1ba464e282096164d876d99678eb2" category="section-title">S3 删除审核消息</block>
  <block id="bfc453317482567698969258cac1067f" category="paragraph">S3 删除</block>
  <block id="b437755fdb8ceed1486b50b3159fea0f" category="paragraph">请求从存储分段中删除对象。</block>
  <block id="22dbbb3a1ee79009b2cb54b519753271" category="paragraph">CBID ， S3KY</block>
  <block id="0f5de47c0694abbdda10239106ba0108" category="section-title">Swift 删除审核消息</block>
  <block id="3c53d3c4887d8e46fcb49f7becd827de" category="paragraph">Swift 删除</block>
  <block id="b23649d4893bf7ae9df14330815743a9" category="paragraph">请求从容器或容器中删除对象。</block>
  <block id="dc6b3705ce0df0827bd41cadf715b8af" category="paragraph">CBID ， WOBJ</block>
  <block id="66f4f752a4d05ffdf4f64dce101cd219" category="summary">此示例显示了更新现有 S3 对象的元数据的成功事务。</block>
  <block id="e5cc7c76eefe7cb75668457d1df05247" category="doc">示例： S3 元数据更新</block>
  <block id="0b49873e6b968898dbb0251c14c2f505" category="section-title">SUPD ： S3 元数据更新</block>
  <block id="23e4f5331b97b8e5aad128497ef24528" category="paragraph">S3 客户端请求（ SUPD ）更新 S3 对象（ S3KY ）的指定元数据（`x-AMZ-meta-\*` ）。在此示例中，请求标头包含在字段 HTRH 中，因为它已配置为审核协议标头（ "* 配置 "&gt;"* 监控 ""&gt;"* 审核和系统日志服务器 "* ）。</block>
  <block id="920f54aa793c62f9ac78a07f9755e461" category="summary">所有审核消息都包含通用要素。</block>
  <block id="dcdbec84a570c8495c7b23af00626562" category="paragraph">在中</block>
  <block id="07e88f81a9bb8fc077294c194391f009" category="paragraph">FC32</block>
  <block id="88bc9787780208b3b694eeff8281f68f" category="paragraph">模块 ID ：生成消息的模块 ID 的四个‐字符标识符。这表示生成审核消息的代码段。</block>
  <block id="90410dce5b81b28b9a2ab773a3d92808" category="paragraph">ANID</block>
  <block id="c0780d271cd6148696b5fc491f4ab138" category="paragraph">UI32</block>
  <block id="52aab931fa9fa4f02b2740a1f3442fe9" category="paragraph">Node ID ：分配给生成消息的服务的网格节点 ID 。在配置和安装 StorageGRID 系统时，系统会为每个服务分配一个唯一的标识符。无法更改此 ID 。</block>
  <block id="e33ebc67cdfd99bb72ccb8f2799a29d3" category="paragraph">ASE</block>
  <block id="c48ec8d31f23e78ac2dc9e4e4433e22f" category="paragraph">UI64</block>
  <block id="8029f36dceae5510056cf965b049ae00" category="paragraph">审核会话标识符：在先前版本中，此元素表示在服务启动后初始化审核系统的时间。此时间值是自操作系统 Epoch （ 1970 年 1 月 1 日 00 ： 00 ： 00 UTC ）以来以微秒为单位测量的。</block>
  <block id="120e1bd6a3e7f27461929f21add949fc" category="paragraph">* 注： * 此元素已废弃，不再显示在审核消息中。</block>
  <block id="8d0b0b71aad81accd72db700eb87ae18" category="paragraph">ASQN</block>
  <block id="f1ba32d9d9e94a32be114eca4ef71602" category="paragraph">序列计数：在先前版本中，对于网格节点（ ANID ）上生成的每个审核消息，此计数器会递增，并在服务重新启动时重置为零。</block>
  <block id="50b44fa924d10bab1d2da4d0faf6813f" category="paragraph">Atid</block>
  <block id="f55caa549c8b07fdcbad500c7e18a953" category="paragraph">跟踪 ID ：由单个事件触发的一组消息共享的标识符。</block>
  <block id="a624073b24f558244dccae4a89943a36" category="paragraph">Atim</block>
  <block id="0d547baaecbee4a0f3e8515d83e8a066" category="paragraph">timestamp ：生成触发审核消息的事件的时间，以操作系统 Epoch （ 1970 年 1 月 1 日 00 ： 00 ： 00 UTC ）之后的微秒为单位。请注意，用于将时间戳转换为本地日期和时间的大多数可用工具均以毫秒为基础。</block>
  <block id="ed3b6f732eabf70f14b174a3b9fd2d83" category="paragraph">可能需要对记录的时间戳进行舍入或截断。`audit.log` 文件中审核消息开头显示的人工‐可读时间是 ISO 8601 格式的 ATIM 属性。日期和时间以 ` YYYY-MMDDDTHH ： MM ： SS.UUUUUUU_` 表示，其中 `T` 是一个文字字符串，用于指示日期时间段的开始。` UUUUUUU_` 为微秒。</block>
  <block id="77b67b7419230d63f01bbbe32666b7e8" category="paragraph">ATYP</block>
  <block id="2bc6a7302b80c9f09734592b43dd1c7a" category="paragraph">Event Type ：所记录事件的四‐字符标识符。这将控制消息的 " 有效负载 " 内容：包含的属性。</block>
  <block id="dde96d55940e1821ec5f54869306d414" category="paragraph">保护程序</block>
  <block id="5960aca66350f4ba7d6d16e2f3cb579f" category="paragraph">version ：审核消息的版本。随着 StorageGRID 软件的发展，新版本的服务可能会在审核报告中加入新功能。通过此字段，可以在 AMS 服务中实现向后兼容性，以处理来自旧版本服务的消息。</block>
  <block id="717a3807e4ac8d8dd992addada844199" category="paragraph">result ：事件，进程或事务的结果。如果与消息无关，则不会使用 none 而不是 SUC ，这样就不会意外筛选该消息。</block>
  <block id="6f8f538ae4fad721bde80a78975347fd" category="summary">当 Swift 客户端发出 HEAD 事务时，系统会请求检查是否存在帐户，容器或对象，并检索任何相关元数据。如果事务成功，服务器将发出此消息。</block>
  <block id="3be0069d59b47084766f69bf7b2ac514" category="paragraph">请求的内容块的唯一标识符。如果 CBID 未知，则此字段将设置为 0 。对帐户和容器执行的操作不包括此字段。</block>
  <block id="192be4a694246762b1e2c688a5c0737c" category="paragraph">检索到的对象的大小（以字节为单位）。对帐户和容器执行的操作不包括此字段。</block>
  <block id="1a57484ff9a9f122a13500c288220fa9" category="paragraph">HEAD 事务的结果。结果始终为：</block>
  <block id="adeb0fb6c245e84bf88b9277e5f719b5" category="paragraph">Swift 容器名称。对帐户执行的操作不包括此字段。</block>
  <block id="1bdeb7582b22b0f9318bca2af8323c7b" category="paragraph">Swift 对象标识符。对帐户和容器执行的操作不包括此字段。</block>
  <block id="903c9189376669ff6c9c921d7fd9e6e0" category="summary">每当内容块验证过程失败时，都会发出此消息。每次从磁盘读取或写入复制的对象数据时，都会执行多项验证和完整性检查，以确保发送给请求用户的数据与最初载入系统的数据完全相同。如果其中任何一项检查失败，系统会自动隔离损坏的复制对象数据，以防止再次检索该数据。</block>
  <block id="7d1934e2c712fc990536674be06996b6" category="paragraph">验证失败的内容块的唯一标识符。</block>
  <block id="80663e05830fc508a596616d368941ca" category="paragraph">验证失败类型：</block>
  <block id="2bebba674e0489f95cfc310e22f5a849" category="paragraph">CRCF ：循环冗余检查（ CRC ）失败。</block>
  <block id="01ef97746eb73a122bb6d190ae076f58" category="paragraph">HMAC ：基于哈希的消息身份验证代码（ HMAC ）检查失败。</block>
  <block id="6fed887917cf4727fb53a680ee299a31" category="paragraph">EHSH ：意外的加密内容哈希。</block>
  <block id="d0d2768fc3a1099f1db92cce45b4cbb9" category="paragraph">PHSH ：意外的原始内容哈希。</block>
  <block id="ac28af34ad477e09f2c94f0dba8a12b1" category="paragraph">SEQC ：磁盘上的数据顺序不正确。</block>
  <block id="0a436d98a04b2d3f4ffd465e834dfe6d" category="paragraph">PERR ：磁盘文件的结构无效。</block>
  <block id="5b9d078d4803b9f279d28f810a8c0a89" category="paragraph">DERR ：磁盘错误。</block>
  <block id="979d326375599c7908785d91a7b315b8" category="paragraph">fnam ：文件名错误。</block>
  <block id="aaee3b9162216a84ba6164f282e8ca31" category="paragraph">* 注： * 应密切监控此消息。内容验证失败可能表示尝试篡改内容或即将发生的硬件故障。</block>
  <block id="beca6febe09fcb51428b723be30ae7e9" category="paragraph">要确定哪个操作触发了消息，请参见 amid （模块 ID ）字段的值。例如， SV财年 值表示消息是由存储验证程序模块生成的，即后台验证， STor 表示消息是通过内容检索触发的。</block>
  <block id="2816c2f75e5d65321c2473f58b1a2a81" category="summary">此审核消息指示 CMN 服务已开始处理指定的网格任务。对于由内部网格任务提交服务启动并选择自动激活的网格任务，审核消息会紧跟在网格任务提交消息之后。对于提交到 "Pending" 表中的网格任务，用户启动网格任务时会生成此消息。</block>
  <block id="abaa0f0f8cc7095d2c69fbb974e478ab" category="paragraph">SID</block>
  <block id="6a47487a81b96f01f075c7db85c578f9" category="paragraph">任务 ID</block>
  <block id="3ead6d780db23ab94bd7aeaadc7d508f" category="paragraph">此字段可唯一标识生成的网格任务，并允许在任务的整个生命周期内对其进行管理。</block>
  <block id="5b2d56d63ee33411914b9ae097957dd9" category="paragraph">* 注意： * 任务 ID 是在生成网格任务时分配的，而不是在提交任务时分配的。给定网格任务可能会提交多次，在这种情况下， " 任务 ID" 字段不足以唯一链接已提交，已开始和已结束的审核消息。</block>
  <block id="e6782c728030ccbffc0a73dba812a0c0" category="paragraph">结果。此字段只有一个值：</block>
  <block id="4f3fd48f16bc7002425a3b09b3f269f5" category="list-text">SUC ：已成功启动网格任务。</block>
  <block id="ebb53e85df35498c39721c9cfe7219c3" category="summary">审核共享包含活动的 audit.log 文件和任何压缩的审核日志文件。为了便于访问审核日志，您可以配置客户端对 NFS 和 CIFS 的审核共享的访问权限（ CIFS 已弃用）。您也可以直接从管理节点的命令行访问审核日志文件。</block>
  <block id="f2e7ad77398a83dd0a62941c9e44df38" category="doc">访问审核日志文件</block>
  <block id="bbe2ebff4781a2bad9a14ac57db93741" category="paragraph">审核共享包含活动的 `audit.log` 文件和任何压缩的审核日志文件。为了便于访问审核日志，您可以配置客户端对 NFS 和 CIFS 的审核共享的访问权限（ CIFS 已弃用）。您也可以直接从管理节点的命令行访问审核日志文件。</block>
  <block id="83daa2b78dd2ff7195d555141dce37cd" category="list-text">您必须知道管理节点的 IP 地址。</block>
  <block id="805e4c2b4d74fc92523ff6ba452882e9" category="paragraph">`cd /var/local/audit/export`</block>
  <block id="4aaebc5103f634d72a5742e5445f73da" category="summary">审核日志文件位于每个管理节点上，其中包含一组单独的审核消息。</block>
  <block id="d76574c791df4d50682ba57c63497bf1" category="doc">审核日志文件格式</block>
  <block id="ffd704ce236c22ecc1d081c2eda51eac" category="paragraph">每个审核消息都包含以下内容：</block>
  <block id="cb81c92308867a70acbfcad781c41dad" category="list-text">触发审核消息（ ATIM ）的事件的协调世界时（ UTC ），格式为 ISO 8601 ，后跟一个空格：</block>
  <block id="00088417b37f91a126a9e21ad0834c25" category="paragraph">` YYYY-MM-DDTHH ： MM ： SS.UUUUUUU_` ，其中 ` _UUUU_` 为微秒。</block>
  <block id="99aa92894ffed49f9e52e680bd987e58" category="list-text">审核消息本身，括在方括号内，以 `AUDT` 开头。</block>
  <block id="21033b9fb38f8032d50471b09548d9a8" category="paragraph">以下示例显示了一个审核日志文件中的三条审核消息（为便于阅读，添加了换行符）。这些消息是在租户创建 S3 存储分段并向该存储分段添加两个对象时生成的。</block>
  <block id="454f505be378f3402fd21c2656df2da5" category="paragraph">以默认格式，审核日志文件中的审核消息不易阅读或解释。您可以使用 `audit-explain` 工具获取审核日志中审核消息的简化摘要。您可以使用 `audit-sum` 工具总结已记录的写入，读取和删除操作的数量以及这些操作所需的时间。</block>
  <block id="03d30dd02852f2403759e5923b7992e5" category="summary">此消息表示发起服务 \ （节点 ID\ ）已还原审核消息日志记录；正在再次收集和传送审核消息。</block>
  <block id="b36751bdf4ad530f3237e29e37937453" category="paragraph">此消息表示发起服务（节点 ID ）已还原审核消息日志记录；正在再次收集和传送审核消息。</block>
  <block id="de675ce1ab98b5e259a7df6804c916b3" category="paragraph">用于启用审核的方法。</block>
  <block id="a0385e1dab99c8706a4ba5542218bd6f" category="paragraph">执行命令以启用审核日志记录的用户名。</block>
  <block id="014d0858e50a2a885e7f97ff430df594" category="paragraph">此消息表示先前已禁用日志记录（ Sadd ），但现在已还原。通常，只有在批量载入期间才会使用此功能来提高系统性能。在批量活动之后，审核将恢复，而禁用审核的功能将被永久阻止。</block>
  <block id="0c8022c237c18ea523f03a078c3cb151" category="summary">验证 Cloud Tiering - Simple Storage Service \ （ S3\ ）目标类型的配置设置后，将生成此消息。</block>
  <block id="f07cc2627349917e0a700f539c431713" category="paragraph">验证 Cloud Tiering - Simple Storage Service （ S3 ）目标类型的配置设置时，会生成此消息。</block>
  <block id="c08051b0563b237e7d3fb3a7bb761461" category="paragraph">与要验证的外部归档存储系统关联的 UUID 。</block>
  <block id="9dd38d333077c3bdc5d1644231184632" category="summary">如果 StorageGRID 删除了先前需要清理以释放存储空间的已覆盖对象，则会生成此消息。当 S3 或 Swift 客户端将对象写入已包含对象的路径时，对象将被覆盖。删除过程会自动在后台进行。</block>
  <block id="3090c469e7809d2ea467affde998a4e5" category="paragraph">清理类型</block>
  <block id="d860ea01941bc577055dd13754ebcb55" category="paragraph">_ 仅供内部使用。 _</block>
  <block id="1973156233f92ee21d95115f1a592888" category="paragraph">LUID</block>
  <block id="14e6dfa7fd42a9d73fc84b798c55370a" category="paragraph">已删除对象 UUID</block>
  <block id="844838d7442c672f2cca641264f7ffab" category="paragraph">已删除的对象的标识符。</block>
  <block id="673036f06d28bf56a564c6f1e1bae467" category="paragraph">SEGC</block>
  <block id="efd0e029f2d734a7eda3df24d001b847" category="paragraph">容器 UUID</block>
  <block id="09a631a66515fc1e3eb3811bd0feb3a4" category="paragraph">已分段对象的容器的 UUID 。只有当对象已分段时，此值才可用。</block>
  <block id="77ce8cd2b6f8ce75baff68cbd52767a5" category="paragraph">仍存在的对象的标识符。只有在尚未删除对象时，此值才可用。</block>
  <block id="74853f1efb7fb7f733a28e3bda4ab969" category="summary">如果尝试使用传输层安全 \ （ tls\ ）进行连接失败，则会生成此消息。</block>
  <block id="dac402dc87a8c3ff0fcd747a6d5537f9" category="paragraph">如果尝试使用传输层安全（ Transport Layer Security ， TLS ）进行连接失败，则会生成此消息。</block>
  <block id="b22d0c6e1f9b054381af1160fa390c51" category="paragraph">身份验证失败的 TCP/IP 连接的唯一系统标识符。</block>
  <block id="f2256a9c4e2bcc83037ed5b8a61b34d0" category="paragraph">RID</block>
  <block id="fb761601458e354d6d59e7b34e074273" category="paragraph">用户身份</block>
  <block id="ee322366ac790217fa976a2d849a947f" category="paragraph">表示远程用户身份的服务相关标识符。</block>
  <block id="66cbab6f8084309e9a3854ac11f1aa44" category="paragraph">原因代码</block>
  <block id="06915fa92c822e244175e8b1759f69e6" category="paragraph">失败的原因：</block>
  <block id="67542360c43522b05bbfadac5a9fe4b3" category="paragraph">SCNI ：安全连接建立失败。</block>
  <block id="446c6ee2e22bd308706c118ac40f99b1" category="paragraph">CERM ：证书缺失。</block>
  <block id="97e08c83aaf8144892e1dd2f81e23feb" category="paragraph">证书：证书无效。</block>
  <block id="5abb0b2831db4a5e8b9a2861907e045f" category="paragraph">cere ：证书已过期。</block>
  <block id="7c1828e4bcd2b76c61ef2c01b94844c9" category="paragraph">CERR ：证书已撤销。</block>
  <block id="4d8b469e52e51a5d4580cceb4e20689e" category="paragraph">CSGN ：证书签名无效。</block>
  <block id="b5572428569a633cfa85a0f8ee5d15a7" category="paragraph">CSGU ：证书签名者未知。</block>
  <block id="e724c3bdb49a5a054a8b27a47b0d5834" category="paragraph">UCRM ：缺少用户凭据。</block>
  <block id="dd19c295a304604d4752a28a91f9a10c" category="paragraph">UCRI ：用户凭据无效。</block>
  <block id="e1653d461b49410f44f8ba08f987c4d7" category="paragraph">UCRU ：不允许使用用户凭据。</block>
  <block id="e76ff3583fe46c4f0eeaeac5bcd96092" category="paragraph">tout ：身份验证超时。</block>
  <block id="0c28e0d216a7136c33e0cda42296cdb9" category="paragraph">在与使用 TLS 的安全服务建立连接后，系统会使用 TLS 配置文件和服务中内置的其他逻辑来验证远程实体的凭据。如果此身份验证因证书或凭据无效，意外或不允许而失败，则会记录审核消息。这样可以查询未经授权的访问尝试以及其他与安全相关的连接问题。</block>
  <block id="bae13e66e350c8198013d3590f50c9db" category="paragraph">此消息可能是由于远程实体的配置不正确或尝试向系统提供无效或不允许的凭据而导致的。应监控此审核消息，以检测未经授权访问系统的尝试。</block>
  <block id="2c3c66fce56bc6b08d0188b7e25fba43" category="summary">您可以通过查找 API 专用的 \ （ S3 和 Swift\ ）审核消息来确定审核日志中的对象检索事务。</block>
  <block id="8ecb9cd99d96fe52b21124497a1c6dd9" category="doc">对象检索事务</block>
  <block id="e8e4577d26cdac2b8923137c49e1ab2b" category="paragraph">您可以通过查找特定于 API （ S3 和 Swift ）的审核消息来确定审核日志中的对象检索事务。</block>
  <block id="104abf8eef151de8f15f282bc6431c2a" category="paragraph">下表列出了在检索事务期间生成的并非所有审核消息。仅包含跟踪检索事务所需的消息。</block>
  <block id="e8a45dac7cc16c70dfbee516fc00de5c" category="section-title">S3 检索审核消息</block>
  <block id="dfeb3ddc5c3f83b8d3ff6cb3726066a4" category="paragraph">S3 GET</block>
  <block id="e98876ba1b3c236f92dbb84d0dd2ce83" category="paragraph">请求从存储分段中检索对象。</block>
  <block id="c48ee9580a076ce9d03bc6457ccdf55a" category="section-title">Swift 检索审核消息</block>
  <block id="1087ccbbeab613ee9631fe3081e222d0" category="paragraph">Swift GET</block>
  <block id="e10bfab6ac3863175147135c12ad65d5" category="paragraph">请求从容器中检索对象。</block>
  <block id="f08ad2d1ba434ad0b9547606d1ff1f25" category="summary">使用不同的数据类型将信息存储在审核消息中。</block>
  <block id="ff66cc575bb4d6dc2908bfea7645683d" category="paragraph">无符号长整数（ 32 位）；它可以存储 0 到 4 ， 294 ， 967 ， 295 之间的数字。</block>
  <block id="5453be9653ea608ec588129b34bc05d2" category="paragraph">无符号双长整数（ 64 位）；它可以存储 0 到 18 ， 446 ， 744 ， 073 ， 709 ， 551 ， 615 之间的数字。</block>
  <block id="4dab8b5332df3294be0f7132f7f9e81a" category="paragraph">四字符常量；一个 32‐位无符号整数值，表示为四个 ASCII 字符，如 "ABCD" 。</block>
  <block id="15374a1c8a0cee84d612ace3d3666721" category="paragraph">iPad</block>
  <block id="31f383332046ebb8259c7d65d979a61b" category="paragraph">用于 IP 地址。</block>
  <block id="d6c427ee76715e22f124881427ecfef6" category="paragraph">CStr</block>
  <block id="47c21fd4bc63ce339dddc79913ff984a" category="paragraph">一个长度可变的数组，由 UTF-8‐字符组成。可以按照以下约定对字符进行转义：</block>
  <block id="a5461e4b6c7341c871cb461867fde154" category="list-text">反斜杠为 \\ 。</block>
  <block id="b027c8a9df21cb4cd5a7ad8ff16cf7d7" category="list-text">回车符为</block>
  <block id="eecf5ae042fa362d1cc557d26cf50fc5" category="list-text">双引号为 ʺ 。</block>
  <block id="694bda84104f9d62450a8b0b03ad2afc" category="list-text">换行符（新行）为</block>
  <block id="43d27a21ace76a3344f7ce70ac93680c" category="list-text">字符可以替换为其十六进制等效项（格式为 \xHH ，其中 HH 是表示该字符的十六进制值）。</block>
  <block id="95d40bd2cbfb60bacb87c936ca12ce4a" category="summary">在将内容块从一个节点传输到另一个节点后，源实体会发出此消息。</block>
  <block id="3a019a543853ec3c34be5344df8ee8ad" category="paragraph">SUC ：传输成功完成；已发送请求的所有序列计数。</block>
  <block id="c5da6d56b9150bd546e6643df1df5d18" category="summary">每当运行 /proc/CMSI/Volume_lost 命令时都会发出此消息。</block>
  <block id="84852b664a8c06f0b26ae1318c7c0b15" category="paragraph">每当运行 ` /proc/CMSI/Volume_Lost` 命令时，都会发出此消息。</block>
  <block id="438a1129bc9f57d3e92fd2359aba4121" category="paragraph">VOLL</block>
  <block id="55f68dd020939df13e1d77d3821fc6b1" category="paragraph">卷标识符下限</block>
  <block id="6fc14a6188b06f95ee3ec91774bf2c5c" category="paragraph">受影响卷范围的下端或单个卷。</block>
  <block id="35f539205a21c73c1504917c93d5f138" category="paragraph">VOLU</block>
  <block id="3d800c7af97de4b1e39898eedddf8238" category="paragraph">卷标识符上限</block>
  <block id="f1733a3247b636e32541e1b1af63a9a2" category="paragraph">受影响卷范围的上限。如果只有一个卷，则等于 VOLL 。</block>
  <block id="16308894bbd6ea899dfe95a8020d8a52" category="paragraph">"CLDI" （联机）或 "CLNL" （近线）。如果未指定，则默认为 "CLDI" 。</block>
  <block id="9c8ab64b2cba8663b334f258c2b6430c" category="paragraph">始终为 " 无 " 。RSLT- 是一个必填消息字段，但与此消息无关。使用 " 无 " 而不是 "CSU" ，因此不会筛选此消息。</block>
  <block id="ac64362dca2e441d4549cef863ed6d40" category="summary">此审核消息表示已将网格任务提交到 CMN 服务。</block>
  <block id="7bfd211f966238fc238c72cc327ab0ae" category="paragraph">唯一标识生成的网格任务，并允许在整个生命周期内对该任务进行管理。</block>
  <block id="55aac80cabce664a3f44c4d709a76a3e" category="paragraph">TTYP</block>
  <block id="9dd5fda31e43186448cb9b888b206abf" category="paragraph">任务类型</block>
  <block id="2a03af59d0c8efe830d19ab683df019a" category="paragraph">网格任务的类型。</block>
  <block id="904a8b9ac36823fc6acb3384cf27a2b7" category="paragraph">版本</block>
  <block id="8d76efb43d735243faa59589d633f991" category="paragraph">任务版本</block>
  <block id="141e40a611bff1a5324348c14b016f5e" category="paragraph">指示网格任务版本的数字。</block>
  <block id="c64fb5535589187bb45c30d515c43866" category="paragraph">TDSC</block>
  <block id="8ed63c15bc813b8516d27d38ef0e3f60" category="paragraph">任务问题描述</block>
  <block id="2fb0835b6b5919475ae8558bb41f9947" category="paragraph">网格任务的用户可读问题描述 。</block>
  <block id="1e3c035fbf7e4e0f906da80a79b5485e" category="paragraph">VAT</block>
  <block id="0de831648a4b76187acab4a8ca48e945" category="paragraph">在时间戳之后有效</block>
  <block id="0929e34502ca3599e40ee07eb965cc5c" category="paragraph">网格任务最早有效的时间（从 1970 年 1 月 1 日开始的 UINT64 微秒 - UNIX 时间）。</block>
  <block id="e948b4f0a98f05cb657ef4f3c03b81eb" category="paragraph">Vbts</block>
  <block id="18525826343d044c13e3b5ad0a3ea4a4" category="paragraph">在时间戳之前有效</block>
  <block id="9fe5d585f49e441a30a21220d9677155" category="paragraph">网格任务有效的最新时间（从 1970 年 1 月 1 日开始的 UINT64 微秒 - UNIX 时间）。</block>
  <block id="f31bbdd1b3e85bccd652680e16935819" category="paragraph">源</block>
  <block id="bb87caaa5617b0d892db5617a1eba562" category="paragraph">任务源：</block>
  <block id="744dc6fe5485b06f98e763f2669cdc60" category="list-text">TXTB ：网格任务是以签名文本块的形式通过 StorageGRID 系统提交的。</block>
  <block id="cc2665cc09c0a90b221527ad5249f766" category="list-text">网格：网格任务是通过内部网格任务提交服务提交的。</block>
  <block id="c1948ceddaed3c04d5416202e7c0c5d8" category="paragraph">ACTV</block>
  <block id="cb5d4964b21cb134b5341657fa49cbd3" category="paragraph">激活类型</block>
  <block id="27216c306dc5c5aa7e39906bc9275c39" category="paragraph">激活类型：</block>
  <block id="483825b1e88be6b615cb8ed889e2acdb" category="list-text">Auto ：已提交网格任务以自动激活。</block>
  <block id="8fbbbe2190ebc93c4c630dae570d534b" category="list-text">PEND ：网格任务已提交到待定表中。这是 TXTB 源的唯一可能性。</block>
  <block id="eb35673c9c0cd97b4aa92df22d30d9c2" category="paragraph">提交结果：</block>
  <block id="3c7fcbf184afe309c4eda8864d5ac624" category="list-text">SUC ：已成功提交网格任务。</block>
  <block id="75b0e8b684cd9303c0ad8fe83a791978" category="list-text">fail ：任务已直接移至历史表。</block>
  <block id="f107e65e67f3d4cbd427495361549bf4" category="summary">这些说明包含有关 StorageGRID 审核消息和审核日志的结构和内容的信息。您可以使用此信息读取和分析系统活动的审核跟踪。</block>
  <block id="7e55c5605cfbce7d3e041a6bf971e0ea" category="doc">查看审核日志：概述</block>
  <block id="d1957837242ead438704b5a83d4d5f77" category="paragraph">这些说明适用于负责生成系统活动和使用情况报告的管理员，这些报告需要分析 StorageGRID 系统的审核消息。</block>
  <block id="a6f5688b4a6657cf3cb745b0ba75bb15" category="paragraph">要使用文本日志文件，您必须有权访问管理节点上配置的审核共享。</block>
  <block id="05ca249562ba17ed1fc2f6a0ea15a187" category="paragraph">有关配置审核消息级别和使用外部系统日志服务器的信息，请参见 <block ref="ae288695ae0d1fa43aff6e30548d4024" category="inline-xref-macro-rx"></block>。</block>
  <block id="c256b1d01f81bd6cd869a4f36f8112af" category="summary">所有 StorageGRID 服务都会在系统正常运行期间生成审核消息。您应了解这些审核消息如何在 StorageGRID 系统中移动到 audit.log 文件。</block>
  <block id="72f6cba2c28aaaec8794f67649f45bd9" category="doc">审核消息流和保留</block>
  <block id="693b146ba7ce6af731f9da58742eda6f" category="paragraph">所有 StorageGRID 服务都会在系统正常运行期间生成审核消息。您应了解这些审核消息如何在 StorageGRID 系统中移动到 `audit.log` 文件。</block>
  <block id="db832a94e66ea3c39445ce40993c80bb" category="section-title">审核消息流</block>
  <block id="6a94e0ddd497ece1195c114042520c44" category="paragraph">审核消息由管理节点以及具有管理域控制器（ ADO ）服务的存储节点处理。</block>
  <block id="586296d75f8e70a8a134e54da9b83568" category="paragraph">如审核消息流程图所示，每个 StorageGRID 节点都会将其审核消息发送到数据中心站点的一个模板服务。每个站点上安装的前三个存储节点会自动启用此 ADC-Service 。</block>
  <block id="d092177e4f44810cc752263bb8aec659" category="paragraph">反过来，每个 ADC 服务都充当中继，并将其审核消息集合发送到 StorageGRID 系统中的每个管理节点，从而为每个管理节点提供完整的系统活动记录。</block>
  <block id="4bfd9127278ce4733ba8bed4f78d4caa" category="paragraph">每个管理节点都会将审核消息存储在文本日志文件中；活动日志文件名为 `audit.log` 。</block>
  <block id="4f8a2a54d55c011ccb4a145024a73553" category="image-alt">用于汇总通过中继传输的审核消息流的图表</block>
  <block id="7ae247c05378714ac70205e4537e1074" category="section-title">审核消息保留</block>
  <block id="c46bb5ac093a7da6890b5c9bf0e1d9a3" category="paragraph">StorageGRID 使用复制和删除过程来确保在将审核消息写入审核日志之前不会丢失任何审核消息。</block>
  <block id="7e18f7c8585c39709994e33b3ab41fd0" category="paragraph">当节点生成或转发审核消息时，此消息会存储在网格节点的系统磁盘上的审核消息队列中。此消息的副本始终保留在审核消息队列中，直到将此消息写入管理节点的 ` /var/local/audit/export` 目录中的审核日志文件为止。这有助于防止传输期间丢失审核消息。</block>
  <block id="af3ce88b5f168ed300610a332defb250" category="image-alt">用于汇总 AMS 收到的审核消息的图表</block>
  <block id="14bae1ae2d3af695afe4c8853e25d02e" category="paragraph">由于网络连接问题或审核容量不足，审核消息队列可能会暂时增加。随着队列的增加，它们会占用每个节点的 ` /var/local/` 目录中更多的可用空间。如果问题描述 仍然存在，并且节点的审核消息目录过满，则各个节点将优先处理其积压工作，并暂时不可用于处理新消息。</block>
  <block id="d6012916e0719bbff0bcddf6712ce1a4" category="paragraph">具体来说，您可能会看到以下行为：</block>
  <block id="af44af2c4bf79ad76a3492b07b8b4245" category="list-text">如果管理节点使用的 ` /var/local/audit/export` 目录已满，则管理节点将标记为不可用于新的审核消息，直到目录不再全满为止。S3 和 Swift 客户端请求不受影响。如果无法访问审核存储库，则会触发 XAMS （无法访问审核存储库）警报。</block>
  <block id="6a4d3a01124b3ccc48a7fd513e880ef0" category="list-text">如果具有` 服务的存储节点使用的 ` /var/local/ 目录已满 92% ，则该节点将标记为不可用于审核消息，直到该目录仅已满 87% 为止。对其他节点的 S3 和 Swift 客户端请求不受影响。如果无法访问审核中继，则会触发 NRLY （可用审核中继）警报。</block>
  <block id="d64b5761ff6d94a758d776fef2106c7e" category="admonition">如果没有可用于此` 服务的存储节点，则存储节点会将审核消息本地存储在 ` /var/local/log/localaudit.log 文件中。</block>
  <block id="257cb29bada890efdf1a9c49829abc5e" category="list-text">如果存储节点使用的 ` /var/local/` 目录已满 85% ，则该节点将开始拒绝服务不可用` 为 `503 的 S3 和 Swift 客户端请求。</block>
  <block id="8c209e9abad14084c17f7f7dba614886" category="paragraph">以下类型的问题可能会使发生原因 审核消息队列变得非常庞大：</block>
  <block id="f8cd799c3a56ddcc8e7ebd439807def2" category="list-text">管理节点或存储节点使用 ADC-Service 中断的情况。如果系统的一个节点已关闭，则其余节点可能会回记录。</block>
  <block id="1ad55a4be7957f342bca2fd05f6e97dc" category="list-text">超过系统审核容量的持续活动率。</block>
  <block id="9d4da3a597078ce88706d06be86f0b8c" category="list-text">由于与审核消息无关的原因，` 存储节点上的 ` /var/local/ 空间已满。发生这种情况时，节点将停止接受新的审核消息，并优先处理当前的积压工作，而这可能会使发生原因 回退到其他节点上。</block>
  <block id="c2a4427ea7d55d9bed6ee492c4fa151e" category="section-title">大型审核队列警报和审核消息已排队（ Audit Messages Queued ， AMQS ）警报</block>
  <block id="4a5dca9563206afe27fa7264188bf589" category="paragraph">为了帮助您监控一段时间内审核消息队列的大小，当存储节点队列或管理节点队列中的消息数量达到特定阈值时，将触发 * 大型审核队列 * 警报和原有 AMQS 警报。</block>
  <block id="04e1d5c6fb72aa0db578ec6a2dcfa924" category="paragraph">如果触发了 * 大型审核队列 * 警报或原有 AMQS 警报，请首先检查系统上的负载—如果最近发生了大量事务，则警报和警报应随着时间的推移而解决，并且可以忽略。</block>
  <block id="eae35be7fa09ea2889867fa8bd672de9" category="paragraph">如果警报或警报持续存在且严重性增加，请查看队列大小图表。如果此数量在数小时或数天内稳定增加，则审核负载可能已超过系统的审核容量。通过将客户端写入和客户端读取的审核级别更改为 " 错误 " 或 " 关闭 " 来降低客户端操作速率或减少记录的审核消息数量。请参见 "<block ref="ae288695ae0d1fa43aff6e30548d4024" category="inline-xref-macro-rx"></block>。 "</block>
  <block id="2b85cf2a9054dd0debb0016522931482" category="section-title">重复的消息</block>
  <block id="56f252433745e1c2ce6e6ae3d06b654d" category="paragraph">如果发生网络或节点故障， StorageGRID 系统会采取保守的方法。因此，审核日志中可能存在重复的消息。</block>
  <block id="9ba40300430b84b92846d05209a004e2" category="summary">LDR 服务的存储组件会持续扫描对象存储中复制的对象数据的所有副本。如果在对象存储中检测到复制的对象数据的未知或意外副本并将其移动到隔离目录，则会发出此消息。</block>
  <block id="a7ec6824f5f41532f4e6fe3772c988ef" category="paragraph">LDR 服务的存储组件会持续扫描对象存储中复制的对象数据的所有副本。如果在对象存储中检测到复制的对象数据的未知或意外副本并将其移动到隔离目录，则会发出此消息。</block>
  <block id="0fc82019081dad26dd60bc8f32bdb705" category="paragraph">FPTH</block>
  <block id="5da9dcd1cb9325e60a8744a544371fd3" category="paragraph">文件路径</block>
  <block id="7c4e3e490af48e571f3fee9a3dbeb09f" category="paragraph">意外对象副本的文件路径。</block>
  <block id="cfbd751c38e0cab87a0c4fa8d9071acd" category="paragraph">此字段的值为 " 无 " 。RSLT- 是一个必填消息字段，但与此消息无关。使用 " 无 " 而不是 "CSU" ，因此不会筛选此消息。</block>
  <block id="c0174c8441be4f468dfd8c7aa5cd9f2a" category="paragraph">* 注： * 应密切监控 SVRU ： Object Store Verify Unknown 审核消息。这意味着在对象存储中检测到意外的对象数据副本。应立即调查这种情况，以确定这些副本是如何创建的，因为这可能表示尝试篡改内容或即将发生硬件故障。</block>
  <block id="6764087403e8142bc5ae4432592f7bfd" category="summary">如果服务正常停止，则会生成此消息，以指示已请求关闭，并且此服务已启动其关闭序列。Syst 可用于确定是否在重新启动服务之前请求关闭 \ （与通常在服务重新启动后发送的 SYSD 不同。 \ ）</block>
  <block id="b27f1723f01ed4e6ba56e7f72c47f0c7" category="paragraph">如果服务正常停止，则会生成此消息，以指示已请求关闭，并且此服务已启动其关闭序列。Syst 可用于确定是否在重新启动服务之前请求关闭（与通常在服务重新启动后发送的 SYSD 不同）。</block>
  <block id="94186cc41b928bc886472894b6d45c61" category="paragraph">此消息不会指示是否正在停止主机服务器，仅会指示报告服务。SYST 消息的 RSLT 代码不能指示 " 异常 " 关闭，因为只有 " 清理 " 关闭才会生成此消息。</block>
  <block id="35fe1907ae623291e4631961aa132fb9" category="summary">当 S3 或 Swift 客户端应用程序请求创建或修改对象时，系统会记录客户端写入审核消息。</block>
  <block id="8828c795f50733482a024ec12dc2fab1" category="paragraph">OVWR</block>
  <block id="5f0743c2216fe8ada2237cfb37d1f0f0" category="paragraph">对象覆盖：记录一个事务，以便使用另一个对象覆盖一个对象。</block>
  <block id="ca48271b8f2013502fd6ad220274d1a8" category="paragraph"><block ref="ca48271b8f2013502fd6ad220274d1a8" category="inline-xref-macro-rx"></block></block>
  <block id="e52dc37441e2fa5f3687d0bc0e1ab61c" category="paragraph">SPOS</block>
  <block id="e8ede4ab22a84c06fe2626c0ed0ebd9b" category="paragraph">S3 POST ：记录将对象从 AWS Glacier 存储还原到云存储池的成功事务。</block>
  <block id="c9c94f1860e12d22fb4ac706877c1333" category="paragraph"><block ref="c9c94f1860e12d22fb4ac706877c1333" category="inline-xref-macro-rx"></block></block>
  <block id="ca5d05ecdc3daca9f284a59462e0def2" category="paragraph">S3 元数据已更新：记录成功的事务以更新现有对象或存储分段的元数据。</block>
  <block id="13c6da6bc2a75711a423c70f6fe894dd" category="summary">当 Swift 客户端发出 GET 事务时，系统会请求检索对象，列出容器中的对象或列出帐户中的容器。如果事务成功，服务器将发出此消息。</block>
  <block id="6630c5848cb2f7a80039029c685a1916" category="paragraph">GET 事务的结果。结果始终为</block>
  <block id="19ca3a97dc06f44511617ac3117845ab" category="summary">此审核消息指示系统检测到经过纠删编码的数据片段已损坏。</block>
  <block id="1d2335f0dd78a8c6f51a3a0a31fbc366" category="paragraph">VCCO</block>
  <block id="1ed26cb9a38a42bee05ad5d0ddf39f46" category="paragraph">包含损坏区块的 VCS 的名称。</block>
  <block id="5371f6bd6ee18611881ed54cd957e924" category="paragraph">包含损坏的纠删编码片段的 RangeDB 卷。</block>
  <block id="08394064384a00c128e362edb0dde06c" category="paragraph">CCID</block>
  <block id="a19cc6772ec675c680a4ac4f4619460b" category="paragraph">已损坏的纠删编码片段的标识符。</block>
  <block id="a55807ad3c4b6a709492f40b0aa4f58d" category="summary">以下各节列出了系统返回的审核消息的详细说明。每个审核消息首先列在一个表中，该表按相关消息所代表的活动类别对相关消息进行分组。这些分组对于了解要审核的活动类型以及选择所需的审核消息筛选类型都很有用。</block>
  <block id="fbc369ec3d2ac36745974d86ebda65cc" category="paragraph">审核消息也会按其四个字符的代码的字母顺序列出。此字母列表可用于查找有关特定消息的信息。</block>
  <block id="489432df4a4a564f943b74e7381e026f" category="paragraph">本章中使用的四字符代码是审核消息中的 ATYP 值，如以下示例消息所示：</block>
  <block id="f0053ede15cee8d4fea4bacb80f287e9" category="paragraph">有关设置审核消息级别，更改日志目标以及使用外部系统日志服务器获取审核信息的信息，请参见 <block ref="ae288695ae0d1fa43aff6e30548d4024" category="inline-xref-macro-rx"></block></block>
  <block id="5776b9c50c5b1a3f4a918432a89dca42" category="summary">在请求检索归档的对象数据且检索过程开始时会生成此消息。检索请求会立即处理，但可以重新排序，以提高从磁带等线性介质检索的效率。</block>
  <block id="609b116a5dfb49ab7fb1d9c48600c399" category="paragraph">指示启动归档检索过程的结果。当前定义的值为： suC ：已收到内容请求并排队等待检索。</block>
  <block id="493d9f4436246d4266a23da41865c893" category="paragraph">此审核消息用于标记归档检索的时间。通过该选项，您可以将该消息与相应的 Arce End 消息进行匹配，以确定归档检索的持续时间以及操作是否成功。</block>
  <block id="21c5a2e72a208634c9c0bfdaa9dfaf74" category="summary">如果对象已按照 ILM 规则的指定成功存储和复制，则会生成此消息。</block>
  <block id="df331aa2dee57f90af80122044ddb18f" category="admonition">如果策略中的另一条规则使用对象大小高级筛选器，则使用默认的 Make 2 Copies 规则成功存储对象时不会生成 ORLM 消息。</block>
  <block id="e38585ef467b09ec322650a7aff203db" category="paragraph">BUID</block>
  <block id="0d511ec19c2729138147db9b1f9359e2" category="paragraph">存储分段标题</block>
  <block id="542b228cdcd4bf28aa2030108c8f9dc6" category="paragraph">存储分段 ID 字段。用于内部操作。仅当统计数据为 PRGD 时才显示。</block>
  <block id="4d8df88d8ab15d673bf20cd2762a3534" category="paragraph">为应用于此对象的 ILM 规则提供的可读标签。</block>
  <block id="9e59c058cbef52259841f6710e68f302" category="paragraph">SGCB</block>
  <block id="7fa9e37e904d58554343f53482856676" category="paragraph">容器 CBID</block>
  <block id="a790c8c1249e0889ad6627dd31323727" category="paragraph">已分段对象的容器的 CBID 。此值仅适用于已分段和多部分对象。</block>
  <block id="73f760f8a96d0acec3dec614a688ff79" category="paragraph">统计</block>
  <block id="63bd9a495f3fbaa194ef6cda91b0f486" category="paragraph">ILM 操作的状态。</block>
  <block id="81b410c599be87f0da19e9acca178296" category="paragraph">Done ：已完成对对象的 ILM 操作。</block>
  <block id="3d7118b3a2dbb0c776ac640e6ec8f095" category="paragraph">DDER ：对象已标记为待未来 ILM 重新评估。</block>
  <block id="bcd956afa8292b2c4b93c485b5786066" category="paragraph">PRGD ：此对象已从 StorageGRID 系统中删除。</block>
  <block id="23351038143b0ff22ab2a8a8f40894d5" category="paragraph">NLOC ：在 StorageGRID 系统中找不到对象数据。此状态可能表示对象数据的所有副本均缺失或已损坏。</block>
  <block id="cd8ddce1ad5213421945b27b06776963" category="paragraph">可以对单个对象多次发出 ORLM 审核消息。例如，每当发生以下事件之一时都会发出此消息：</block>
  <block id="ff9629641f26da6a3650badf77b033fd" category="list-text">对象的 ILM 规则将永久满足。</block>
  <block id="3f3efdec5de6681e7872cc514986a076" category="list-text">此 Epoch 已满足对象的 ILM 规则。</block>
  <block id="05fb337c7da62e715025ed248d277161" category="list-text">ILM 规则已删除此对象。</block>
  <block id="f9fd64e4e188495f16e0952939ed632a" category="list-text">后台验证过程检测到复制的对象数据的副本已损坏。StorageGRID 系统会执行 ILM 评估以替换损坏的对象。</block>
  <block id="ebcd96203b38778b7cf550d23a64efc5" category="list-text"><block ref="ebcd96203b38778b7cf550d23a64efc5" category="inline-xref-macro-rx"></block></block>
  <block id="8d2899d26699e2a0c5c5ea4b7a4b270a" category="list-text"><block ref="8d2899d26699e2a0c5c5ea4b7a4b270a" category="inline-xref-macro-rx"></block></block>
  <block id="5eb7cfe01306cc35d5766de353e06ac4" category="summary">" 管理 " 类别可将用户请求记录到管理 API 。</block>
  <block id="a9ba235af63e287d54f34d98e9c85138" category="paragraph">MGAU</block>
  <block id="b59ab2a71b52613a42bdfd5d8733104b" category="paragraph">Management API 审核消息：用户请求日志。</block>
  <block id="ff4d9c04a2f5668ae5b3fbd8bef204ab" category="inline-xref-macro">MGAU ：管理审核消息</block>
  <block id="5abe6e66d071c70f647545b24f72f615" category="paragraph"><block ref="5abe6e66d071c70f647545b24f72f615" category="inline-xref-macro-rx"></block></block>
  <block id="eaa2651ffbdc03935dbcb760b8db2b6b" category="summary">当 S3 客户端发出 HEAD 事务时，系统会请求检查是否存在对象或存储分段，并检索有关对象的元数据。如果事务成功，服务器将发出此消息。</block>
  <block id="4ad02b1ffeb4e1724ffb20b37edd606d" category="paragraph">检查对象的大小（以字节为单位）。存储分段上的操作不包括此字段。</block>
  <block id="8aacb722901b92c6eb3a8ecfbafc4e5f" category="summary">此审核消息表示 CMN 服务已完成指定网格任务的处理，并已将此任务移至历史表。如果结果为 SUC ， ABRT 或 Rolf ，则会显示相应的 Grid Task Started 审核消息。其他结果表明，此网格任务的处理从未开始。</block>
  <block id="982704eb5c1cf84f019b3a984cdc638a" category="paragraph">此字段可唯一标识生成的网格任务，并允许在整个生命周期内对网格任务进行管理。</block>
  <block id="38a8406b4eb483e46a91e80e9438b021" category="paragraph">网格任务的最终状态结果：</block>
  <block id="f778babe4322171442adcd7cc2835e16" category="list-text">SUC ：已成功完成网格任务。</block>
  <block id="0ad052dcad1e75e931596bb98dd95db5" category="list-text">ABRT ：已中止网格任务，但未出现回滚错误。</block>
  <block id="837b179226db4dc5e8920bf77fd3bb9f" category="list-text">Rolf ：网格任务已中止，无法完成回滚过程。</block>
  <block id="2762de6a0239c98bedd291ef7efad6df" category="list-text">取消：用户在启动网格任务之前已取消此任务。</block>
  <block id="032f8cb048cb73ca026b10a8d649d4fb" category="list-text">expr ：网格任务在启动之前已过期。</block>
  <block id="de221d48f5c47f1ca6282b6d5bfd379a" category="list-text">IVLD ：网格任务无效。</block>
  <block id="18a9bfceb86b3c353c1f1b585f787ae1" category="list-text">auth ：未授权网格任务。</block>
  <block id="421759ec4962787fba33b03f51a7081b" category="list-text">DUPL ：网格任务被拒绝为重复项。</block>
  <block id="43a64145df1356e50b7213c8e2bae60c" category="summary">当 Swift 客户端发出删除事务时，系统会请求删除指定的对象或容器。如果事务成功，服务器将发出此消息。</block>
  <block id="f29113aee7c16011981b1bc65b88b067" category="paragraph">已删除对象的大小（以字节为单位）。对容器执行的操作不包括此字段。</block>
  <block id="a4b69433fda9e41182017338904074fe" category="summary">" 管理 " 类别可将用户请求记录到管理 API 。对于 API ，并非 GET 或 HEAD 请求的每个请求都会记录一个响应，其中包含 API 的用户名， IP 和请求类型。</block>
  <block id="9f03d45e843140c82b15444359328495" category="paragraph">MDIP</block>
  <block id="98296df1774a8ad2d7a2ae8a08becbc9" category="paragraph">目标 IP 地址</block>
  <block id="9e401355a575ddae8761440a5efb5db0" category="paragraph">服务器（目标） IP 地址。</block>
  <block id="85dab3827e716695ae4088710a91d9fd" category="paragraph">MDNA</block>
  <block id="f0e0f580898b26d3946589a4ccab7a3f" category="paragraph">域名</block>
  <block id="099cfc1b4be53105b55b50c15a39bdfb" category="paragraph">主机域名。</block>
  <block id="1594ebe5c89bb063d081f3ca8b9fe110" category="paragraph">MPAT</block>
  <block id="2f558de41da5732be47dc964c10ed9cd" category="paragraph">请求路径</block>
  <block id="22ac60ec156206c8618c552f62fcb606" category="paragraph">请求路径。</block>
  <block id="41f3700ad2fbf363580d6536b326fd5b" category="paragraph">MPQP</block>
  <block id="fab1ac54d737b1c2509266006035c00b" category="paragraph">请求查询参数</block>
  <block id="46e67ba470080a5209108c40366dc8a1" category="paragraph">请求的查询参数。</block>
  <block id="cef42dcd4d15848d9d8af72524f721cf" category="paragraph">MRBD</block>
  <block id="a3ba8461439f7d0176ef3944696ea2ac" category="paragraph">请求正文</block>
  <block id="fd4f157f36967e5c95cc28bd44388bdf" category="paragraph">请求正文的内容。虽然默认情况下会记录响应正文，但在某些情况下，如果响应正文为空，则会记录请求正文。由于响应正文中不提供以下信息，因此会从以下 POST 方法的请求正文中获取这些信息：</block>
  <block id="f7852ae295939b30951d32cc034f0655" category="list-text">* POST Authorize * 中的用户名和帐户 ID</block>
  <block id="164cfc9113610da2af2b585ebc08d259" category="list-text">* POST /grid/grid-networks/update* 中的新子网配置</block>
  <block id="bdb188f0f96bdc801733a48d25e3fbeb" category="list-text">* POST /grid/ntp-servers/update* 中的新 NTP 服务器</block>
  <block id="d68aebdf4ab374f15d566dedd223520c" category="list-text">已停用的服务器 ID 位于 * POST /grid/servers/decommission* 中</block>
  <block id="c740671969610fc2debb97fb20882515" category="paragraph">* 注： * 敏感信息被删除（例如 S3 访问密钥）或用星号屏蔽（例如密码）。</block>
  <block id="b08d1af2c97eaa337a58a7abaedd7d68" category="paragraph">MRmd</block>
  <block id="83658994909a9954563362af894c361d" category="paragraph">请求方法</block>
  <block id="d4dd8ab5b9f7751dc1fe6728ea717bc4" category="paragraph">HTTP 请求方法：</block>
  <block id="a02439ec229d8be0e74b0c1602392310" category="list-text">发布</block>
  <block id="3e75383a5992a6d15fb81e872e46e256" category="list-text">PUT</block>
  <block id="32f68a60cef40faedbc6af20298c1a1e" category="list-text">删除</block>
  <block id="63bc9a3997d66d835d9f3ec29451407d" category="list-text">patch</block>
  <block id="4ac9c0a0b1c50869aea075c10fdad961" category="paragraph">MRSC</block>
  <block id="42d61b587a0123390822777d84e0f6bd" category="paragraph">响应代码</block>
  <block id="85c46d19724a4fb1a3a331724e511a61" category="paragraph">响应代码。</block>
  <block id="c98d24140d7bc1e805e112a67cdb9ef4" category="paragraph">MRSP</block>
  <block id="38eee230c1573327fd210b5c3dda7e19" category="paragraph">响应正文</block>
  <block id="eea31468203e9939ec5468be603f1ddb" category="paragraph">默认情况下，系统会记录响应的内容（响应正文）。</block>
  <block id="97ce285b09b349be3456bccca8037f7d" category="paragraph">MSIP</block>
  <block id="b4d3a158ebee0fd6edfd98aa49144049" category="paragraph">源 IP 地址</block>
  <block id="8bad2932a6cff9ba3a843625b3ebed0a" category="paragraph">客户端（源） IP 地址。</block>
  <block id="41f4551fbd8e942467f6c42c33482794" category="paragraph">MUN</block>
  <block id="38fbdfab6ec7a743053bd5ed835ef917" category="paragraph">用户 URN</block>
  <block id="b3ea49f73c7b7e45a50586b44172ebb8" category="paragraph">发送请求的用户的 URN （统一资源名称）。</block>
  <block id="261df84a73e4a698a82c5d455878c381" category="open-title">复制的数据</block>
  <block id="4c4ebaa08e18ab231e19a6ea63a8cbb4" category="list-text">要确定修复是否已完成，请执行以下操作：</block>
  <block id="f2291239fc57fe235995432cab0d2872" category="list-text">选择 * 节点 * &gt; * 正在修复的存储节点 _* &gt; * ILM * 。</block>
  <block id="4948e0d600782854907e98007d506c83" category="list-text">查看 " 评估 " 部分中的属性。修复完成后， * 正在等待 - 全部 * 属性指示 0 个对象。</block>
  <block id="cbe9b8bf8a9185f7464fe33061843e43" category="list-text">要更详细地监控修复，请执行以下操作：</block>
  <block id="03c43d4328e4aa0ec4405698b6ea24b9" category="list-text">选择 *_grid_* &gt; * 正在修复的存储节点 _* &gt; * LDR* &gt; * 数据存储 * 。</block>
  <block id="ef34e18e5922b5234733e1b09451f742" category="list-text">结合使用以下属性，尽可能确定复制的修复是否已完成。</block>
  <block id="4127850bf9d67a1a99599566141f1e2e" category="admonition">可能存在 Cassandra 不一致，并且无法跟踪失败的修复。</block>
  <block id="536b3c6d463a3f7895540768f9cee21a" category="list-text">* 尝试修复（ XRPA ） * ：使用此属性跟踪复制修复的进度。每当存储节点尝试修复高风险对象时，此属性都会增加。如果此属性的增加时间不超过当前扫描期间（由 * 扫描期间 - 估计 * 属性提供），则表示 ILM 扫描未在任何节点上发现任何需要修复的高风险对象。</block>
  <block id="7b67ddaa635737c42c05ef8754c5acb7" category="admonition">高风险对象是指可能完全丢失的对象。这不包括不满足其 ILM 配置的对象。</block>
  <block id="2610ad7bab0f3be06c31d4f3015549a5" category="list-text">* 扫描期间 - 估计值（ XSCM ） * ：使用此属性可估计何时对先前载入的对象应用策略更改。如果 * 已尝试修复 * 属性的增加时间未超过当前扫描期间，则复制的修复很可能已完成。请注意，扫描期限可能会更改。* 扫描期限 - 估计（ XSCM ） * 属性适用场景 整个网格，是所有节点扫描期限的最大值。您可以查询网格的 * 扫描时间段 - 估计 * 属性历史记录以确定适当的时间范围。</block>
  <block id="4dd38b5fd6c2b7c4f50d47c346b5bc31" category="list-text">或者，要获得复制修复的估计完成百分比，请在 repair-data 命令中添加 `sHow-replicate-repair-status` 选项。</block>
  <block id="e377d8b2c5ab6989dfff5c372beb0781" category="paragraph">`repair-data show-repliced-repair-status`</block>
  <block id="bfb9436611de13b5538ef03572c7add6" category="inline-xref-macro">监控修复情况</block>
  <block id="ab5613a12867c1cf7d02a0e68c92aa43" category="admonition">在 StorageGRID 11.6 中，可以使用 `show -replicate-repair-status` 选项进行技术预览。此功能正在开发中，返回的值可能不正确或延迟。要确定修复是否已完成，请使用 * 等待–全部 * ， * 尝试修复（ XRPA ） * 和 * 扫描期限 - 估计（ XSCM ） * ，如中所述 <block ref="4628d1043877f269684074ad647071b2" category="inline-xref-macro-rx"></block>。</block>
  <block id="7ac1b8d0d96f71970e5a41b12e4ddae0" category="open-title">纠删编码（ Erasure Coded ， EC ）数据</block>
  <block id="0efc81eb884f4cc98b2196b5407627b5" category="paragraph">要监控纠删编码数据的修复情况，并重试任何可能失败的请求：</block>
  <block id="8da1fc5c29ba2cfd2b820ea2ef86dcad" category="list-text">确定经过纠删编码的数据修复的状态：</block>
  <block id="aae9d66f715ca8ab928970157585f74f" category="list-text">选择 * 支持 * &gt; * 工具 * &gt; * 指标 * 以查看当前作业的估计完成时间和完成百分比。然后，在 Grafana 部分中选择 * EC Overview* 。查看 * 网格 EC 作业预计完成时间 * 和 * 网格 EC 作业已完成百分比 * 信息板。</block>
  <block id="2a15d508cbbe46183e107f5e09b52d4f" category="list-text">使用此命令可查看特定 `repair-data` 操作的状态：</block>
  <block id="701e145f7cc21c08bdb576f3de4098fc" category="paragraph">`repair-data show-EC-repair-status -repair-id repair ID`</block>
  <block id="900a600bc4bc1a945a09325cb5a7a9c4" category="list-text">使用此命令可列出所有修复：</block>
  <block id="ba39fc9b2c391e09b163ea676d09323c" category="paragraph">`repair-data show-EC-repair-status`</block>
  <block id="a75aa207335064361a8467505013c5e1" category="paragraph">输出列出了所有先前和当前正在运行的修复的信息，包括 `repair ID` 。</block>
  <block id="1fc31042d4f21e077608ee9b99d6006a" category="list-text">如果输出显示修复操作失败，请使用 ` -repair-id` 选项重试修复。</block>
  <block id="a5ab9b2727b350cdc822141f693aae2c" category="paragraph">此命令使用修复 ID 6949309319275667690 重试失败的节点修复：</block>
  <block id="dcc33b842b61a71c88b33289baa445c9" category="paragraph">`repair-data start-EC-node-repair -repair-id 6949309319275667690`</block>
  <block id="fed6699d6a649a01300755e048f90b27" category="paragraph">此命令使用修复 ID 6949309319275667690 重试失败的卷修复：</block>
  <block id="02ac6ea27e8668a5ff333ec83b28d77c" category="paragraph">`repair-data start-EC-volume-repair -repair-id 6949309319275667690`</block>
  <block id="d252bb7171d96cb89e447a3b7cebdf45" category="doc">memberOf 和 fint 覆盖</block>
  <block id="d8f3c39a0a69dd45cd038966d970512d" category="paragraph">如果要使用 OpenLDAP 服务器进行身份联合，则必须在 OpenLDAP 服务器上配置特定设置。</block>
  <block id="9aef9a2adc5ce90ed95b422e803b042f" category="admonition">对于非 ActiveDirectory 或 Azure 身份源， StorageGRID 不会自动阻止外部禁用的用户进行 S3 访问。要阻止 S3 访问，请删除该用户的任何 S3 密钥，并从所有组中删除该用户。</block>
  <block id="892f238f47d7bea4d558aa442d469de2" category="inline-link">OpenLDAP 文档：版本 2.4 管理员指南</block>
  <block id="382659baf8a92c7e0806ff1607d5ff15" category="paragraph">应启用成员和精简覆盖。有关详细信息，请参见中有关反向组成员资格维护的说明<block ref="42766edd3a1b5194df3ac13080ccfc01" category="inline-link-rx"></block>。</block>
  <block id="521d4edc7c22d5f63bc5912ff2afa61a" category="section-title">索引编制</block>
  <block id="3126fdfb01f72edf7055eab7956ebc49" category="paragraph">您必须使用指定的索引关键字配置以下 OpenLDAP 属性：</block>
  <block id="7c9498d882956fd5db4390ac53d4bd0b" category="list-text">`olcDbIndex ： objectclass 均衡器`</block>
  <block id="9845d1fd0fe8e0327e4d4a77ec6d9953" category="list-text">`olcDbIndex ： UID eq ， pres ， sub`</block>
  <block id="c72ba744a0c6dcc546099aafcc68a418" category="list-text">`olcDbIndex ： CN eq ， pres ， sub`</block>
  <block id="55f1466d97ebb9be1e695c87caaa37a6" category="list-text">`olcDbIndex ： entryUUID 均衡器`</block>
  <block id="5c446925824b8512bb677e05fff83678" category="paragraph">此外，请确保已为用户名帮助中提及的字段编制索引，以获得最佳性能。</block>
  <block id="a0c582f3d140a2c1d0a979e2a45688d2" category="paragraph">请参见中有关反向组成员资格维护的信息<block ref="42766edd3a1b5194df3ac13080ccfc01" category="inline-link-rx"></block>。</block>
  <block id="92ea5116fd58f6ce66282e86073ad2c3" category="doc">查找存储节点的主机名</block>
  <block id="d29f532bd55ae26f6422e48fecaa29a0" category="list-text">使用 ` /etc/hosts` 文件查找已还原存储卷的存储节点的主机名。要查看网格中所有节点的列表，请输入以下内容： `cat /etc/hosts` 。</block>
  <block id="f67f18565e8c9e6213bb282106e84703" category="section-title">如果所有卷都发生故障，请修复数据</block>
  <block id="18885596820a9a5de8345411a99326e5" category="paragraph">如果所有存储卷都发生故障，请修复整个节点。根据您是使用复制的数据，还是使用纠删编码（ Erasure-coded ， EC ）数据，或者同时使用这两者，按照有关 * 复制的数据 * ， * 纠删编码（ Erasure-Coded ， EC ）数据 * 或这两者的说明进行操作。</block>
  <block id="a1c1a00d67b5d9d8637b64b0a6226019" category="paragraph">如果只有部分卷发生故障，请转至 <block ref="57a50597017cf7ffdf8d1eded15422cc" category="inline-xref-macro-rx"></block>。</block>
  <block id="2633657eb8bd89aa6286b388611adea1" category="admonition">您不能同时对多个节点运行 `repair-data` 操作。要恢复多个节点，请联系技术支持。</block>
  <block id="07391fd5980926c31b58170a7dd5aa3b" category="paragraph">如果网格包含复制的数据，请使用 `repair-data start-replicated -node-repair` 命令和 ` -nodes` 选项修复整个存储节点。</block>
  <block id="d95b1ead58d2a6126e95e8a44d61bde3" category="paragraph">此命令将修复名为 SG-DC-SN3 的存储节点上复制的数据：</block>
  <block id="9450ee165acc853a54c49adb7d837a5e" category="paragraph">`repair-data start-replicated -node-repair -nodes sg-DC-SN3`</block>
  <block id="3fb3bebf2b7aabf02ce7f1a5e9cfac15" category="admonition">还原对象数据后，如果 StorageGRID 系统找不到复制的对象数据，则会触发 * 对象丢失 * 警报。可能会在整个系统的存储节点上触发警报。您应确定丢失的发生原因 以及是否可以恢复。请参见 <block ref="52835fa2e95dc83a0d2224948b0d7781" category="inline-xref-macro-rx"></block>。</block>
  <block id="3d0d70ca438451d11cd1dd047db55376" category="paragraph">如果网格包含擦除编码的数据，请使用 `repair-data start-EC-node-repair` 命令和 ` -nodes` 选项修复整个存储节点。</block>
  <block id="b6d7b989fc431257f86bcb4566777ec7" category="paragraph">此命令将修复名为 SG-DC-SN3 的存储节点上的擦除编码数据：</block>
  <block id="080633abf43cba0aefdf3adac1d6def9" category="paragraph">`repair-data start-EC-node-repair -nodes sg-DC-SN3`</block>
  <block id="e7ddb37c4b76d01e861c84ed20a2ed2c" category="paragraph">此操作将返回唯一的 `repair ID` ，用于标识此 `repair_data` 操作。使用此 `repair ID` 跟踪 `repair_data` 操作的进度和结果。恢复过程完成后，不会返回任何其他反馈。</block>
  <block id="b7b466ebfb2c02cf5804bc0d3b71d77a" category="admonition">在某些存储节点脱机时，可以开始修复经过擦除编码的数据。修复将在所有节点均可用后完成。</block>
  <block id="88e5115f806b5f52c9b45e974bdc07c1" category="section-title">如果只有部分卷出现故障，请修复数据</block>
  <block id="785d2087acfc1ba6b6a8a9bfbb5820e4" category="paragraph">如果只有部分卷出现故障，请修复受影响的卷。根据您是使用复制的数据，还是使用纠删编码（ Erasure-coded ， EC ）数据，或者同时使用这两者，按照有关 * 复制的数据 * ， * 纠删编码（ Erasure-Coded ， EC ）数据 * 或这两者的说明进行操作。</block>
  <block id="04fab988db429c99f6ed14fda45e8b8f" category="paragraph">如果所有卷都发生故障，请转至 <block ref="cac4f53e8c69a38d4dd730118e66792f" category="inline-xref-macro-rx"></block>。</block>
  <block id="1ca4b98e4062776dd059da2f23f5cd09" category="paragraph">以十六进制格式输入卷 ID 。例如， `0000` 是第一个卷， `000f` 是第 16 个卷。您可以指定一个卷，一个卷范围或多个不属于一个序列的卷。</block>
  <block id="0beb58531b05701aa50280800b2d788e" category="paragraph">所有卷必须位于同一个存储节点上。如果需要还原多个存储节点的卷，请联系技术支持。</block>
  <block id="fb11ea1f017df1fd0f1bac76f9b6b1ff" category="paragraph">如果网格包含复制的数据，请使用 `sSTART-replicated -volume-repair` 命令和 ` -nodes` 选项来标识节点。然后添加 ` -volumes` 或 ` -volume-range` 选项，如以下示例所示。</block>
  <block id="d50c80c452893e17af9a5cc68474f198" category="paragraph">* 单个卷 * ：此命令会将复制的数据还原到名为 SG-DC-SN3 的存储节点上的卷 `0002` ：</block>
  <block id="f4bed1c43ee6d2d39965a06a0581841a" category="paragraph">`repair-data start-replicated -volume-repair -nodes sg-DC-SN3 -volumes 0002`</block>
  <block id="468fed3cb5705ac7b7a718a551cac46c" category="paragraph">* 卷范围 * ：此命令会将复制的数据还原到名为 SG-DC-SN3 的存储节点上介于 `0003` 到 `0009` 范围内的所有卷：</block>
  <block id="f679b9b5d6dff7945143d39c50459fd8" category="paragraph">`repair-data start-replicated -volume-repair -nodes sg-DC-SN3 -volume-range 0003-0009`</block>
  <block id="d14813e3ab5e2aeab607feade4eae916" category="paragraph">* 不在序列中的多个卷 * ：此命令会将复制的数据还原到名为 SG-DC-SN3 的存储节点上的卷 `0001` ， `0005` 和 `0008` ：</block>
  <block id="8388861508dafbba27bcddc9c714bfaa" category="paragraph">`repair-data start-replicated -volume-repair -nodes sg-DC-SN3 -volumes 0001 ， 0005 ， 0008`</block>
  <block id="0d753fa5bf0d16eed260000481678c82" category="admonition">还原对象数据后，如果 StorageGRID 系统找不到复制的对象数据，则会触发 * 对象丢失 * 警报。可能会在整个系统的存储节点上触发警报。您应确定丢失的发生原因 以及是否可以恢复。请参见有关 StorageGRID 监控和故障排除的说明。</block>
  <block id="d51ea219b8f6e503c0c9fc6d1d5823e0" category="paragraph">如果网格包含擦除编码的数据，请使用 `sSTART-EC-volume-repair` 命令和 ` -nodes` 选项来标识节点。然后添加 ` -volumes` 或 ` -volume-range` 选项，如以下示例所示。</block>
  <block id="0772b558dd4e4658ab459aa1ea59fbb1" category="paragraph">* 单个卷 * ：此命令会将经过擦除编码的数据还原到名为 SG-DC-SN3 的存储节点上的卷 `0007` ：</block>
  <block id="8d19966ecf66e7b9cf6248c4331fceeb" category="paragraph">`repair-data start-EC-volume-repair -nodes sg-DC-SN3 -volumes 0007`</block>
  <block id="c241813dde0ef396cf9ee7a184993042" category="paragraph">* 卷范围 * ：此命令会将经过擦除编码的数据还原到名为 SG-DC-SN3 的存储节点上介于 `0004` 到 `0006` 范围内的所有卷：</block>
  <block id="1022a8df084b89a0df455bfc218914b5" category="paragraph">`repair-data start-EC-volume-repair -nodes sg-DC-SN3 -volume-range 0004-0006`</block>
  <block id="e2d5989b085c41e181056076f227cd6a" category="paragraph">* 不在序列中的多个卷 * ：此命令会将经过纠删编码的数据还原到名为 SG-DC-SN3 的存储节点上的卷 `000a` ， `000c` 和 `000E` ：</block>
  <block id="13dfa46498c0e5868289af634116a278" category="paragraph">`repair-data start-EC-volume-repair -nodes sg-DC-SN3 -volumes 000a ， 000c ， 000E`</block>
  <block id="ab818d95b956034b2b26a440844ea958" category="paragraph">`repair-data` 操作将返回唯一的 `repair ID` ，用于标识此 `repair_data` 操作。使用此 `repair ID` 跟踪 `repair_data` 操作的进度和结果。恢复过程完成后，不会返回任何其他反馈。</block>
  <block id="e8324f218cbf7810c44427bc846931b5" category="paragraph">Active IQ 是一名基于云的数字顾问，利用 NetApp 客户群的预测性分析和社区智慧。其持续风险评估，预测性警报，规范化指导和自动化操作可帮助您在问题发生之前防患于未然，从而改善系统运行状况并提高系统可用性。</block>
  <block id="d74cfec1d23a36d44f3709e42bc1b615" category="paragraph">如果要使用 NetApp 支持站点上的 Active IQ 信息板和功能，则必须启用 AutoSupport 。</block>
  <block id="25ee4245ff35e15ec0a6dda5f6cd1765" category="inline-link">Active IQ 数字顾问文档</block>
  <block id="5113eab2ab7bf3734e288c858440b325" category="paragraph"><block ref="5113eab2ab7bf3734e288c858440b325" category="inline-link-rx"></block></block>
  <block id="8e4f266cbeaf9457b20b980fda161130" category="doc">测试连接并保存配置</block>
  <block id="87f3cb080241ae82821c2a99f528afc1" category="list-text">选择 * 启用身份联合 * 。</block>
  <block id="8e906783bcb23cafa87337b0e28ceeb0" category="list-text">在 LDAP 服务类型部分中，选择要配置的 LDAP 服务类型。</block>
  <block id="aab573f7756f27e31e8de0d9fd2e95f2" category="image-alt">显示 LDAP 服务类型选项的身份联合页面</block>
  <block id="2e1d267c6a2e22a567e6bf651298d160" category="paragraph">选择 * 其他 * 可为使用 Oracle 目录服务器的 LDAP 服务器配置值。</block>
  <block id="ff9272d48101d4fdaf5353600c378dc7" category="list-text">如果选择了 * 其他 * ，请填写 LDAP 属性部分中的字段。否则，请继续执行下一步。</block>
  <block id="2dedf8f7fd091a4b7f60052f526cfc24" category="list-text">* 用户唯一名称 * ：包含 LDAP 用户唯一标识符的属性的名称。此属性相当于 `sAMAccountName` 用于 Active Directory ， `uid` 用于 OpenLDAP 。如果要配置 Oracle Directory Server ，请输入 `uid` 。</block>
  <block id="f06b7fc517de89455be868b55423170a" category="list-text">* 用户 UID* ：包含 LDAP 用户的永久唯一标识符的属性的名称。此属性等效于 Active Directory 的 `objectGUID` 和 OpenLDAP 的 `entryUUID` 。如果要配置 Oracle Directory Server ，请输入 `nssuniqueid` 。每个用户在指定属性中的值都必须是一个 32 位十六进制数字，采用 16 字节或字符串格式，其中会忽略连字符。</block>
  <block id="5a86319250630778716a2fc0fb5a89de" category="list-text">* 组唯一名称 * ：包含 LDAP 组唯一标识符的属性的名称。对于 Active Directory ，此属性相当于 `sAMAccountName` ；对于 OpenLDAP ，此属性相当于 `CN` 。如果要配置 Oracle Directory Server ，请输入 `CN` 。</block>
  <block id="6d90aa0c82901bc98f62720453db4495" category="list-text">* 组 UID* ：包含 LDAP 组的永久唯一标识符的属性的名称。此属性等效于 Active Directory 的 `objectGUID` 和 OpenLDAP 的 `entryUUID` 。如果要配置 Oracle Directory Server ，请输入 `nssuniqueid` 。每个组在指定属性中的值必须是一个 32 位十六进制数字，采用 16 字节或字符串格式，其中会忽略连字符。</block>
  <block id="34b95e87c631e731dd033fe853c53a58" category="list-text">对于所有 LDAP 服务类型，请在配置 LDAP 服务器部分中输入所需的 LDAP 服务器和网络连接信息。</block>
  <block id="464a6ded225eed3f551b1a9c808dfd3f" category="list-text">* 主机名 * ： LDAP 服务器的完全限定域名（ FQDN ）或 IP 地址。</block>
  <block id="b396121d3fe9bb0a3c6acd8f6d7ac4d2" category="list-text">* 端口 * ：用于连接到 LDAP 服务器的端口。</block>
  <block id="30336661b2acf998692fbc05b74e8719" category="admonition">STARTTLS 的默认端口为 389 ， LDAPS 的默认端口为 636 。但是，只要防火墙配置正确，您就可以使用任何端口。</block>
  <block id="1a740d57879443e9fbef57c3c2130f21" category="list-text">* 用户名 * ：要连接到 LDAP 服务器的用户的可分辨名称（ DN ）的完整路径。</block>
  <block id="95e2026ab64dc36050256b8a23ffe2c2" category="paragraph">对于 Active Directory ，您还可以指定低级别的登录名称或用户主体名称。</block>
  <block id="00365731ab10c0b9e1750dec59a9997f" category="paragraph">指定的用户必须具有列出组和用户以及访问以下属性的权限：</block>
  <block id="5cf5aea5745ca4435082a9ef84b6c615" category="list-text">`sAMAccountName` 或 `uid`</block>
  <block id="48770cc08cf813db4273707432e1704d" category="list-text">`objectGUID` ， `entryUUID` 或 `nssuniqueid`</block>
  <block id="0f97b6add1756ccfe279bc09e79b141d" category="list-text">`CN`</block>
  <block id="525a1f206525394270adb361068129f1" category="list-text">`memberOf` 或 `isMemberOf`</block>
  <block id="3d0558ec1621a61f0d1eacf7ad4a9638" category="list-text">* Active Directory* ： `objectSid` ， `primaryGroupID` ， `userAccountControl` 和 `userPrincipalName`</block>
  <block id="7c47f8e09c6b86fe90adcc88868c6284" category="list-text">* Azure * ： `accountEnabled` 和 `userPrincipalName`</block>
  <block id="19f2ba6b3480762de8e05983553402e0" category="list-text">* 密码 * ：与用户名关联的密码。</block>
  <block id="5f2232ef0f5c52e4fc0a1195e69aeaff" category="list-text">* 组基本 DN* ：要搜索组的 LDAP 子树的可分辨名称（ DN ）的完整路径。在 Active Directory 示例（如下）中，可分辨名称相对于基础 DN （ DC=storagegrid ， DC=example ， DC=com ）的所有组均可用作联合组。</block>
  <block id="15dffb5ef14b3e89061308683a7827f3" category="admonition">* 组唯一名称 * 值在其所属的 * 组基本 DN* 中必须是唯一的。</block>
  <block id="0f7aef8510b03b255b169c6e1d83af43" category="list-text">* 用户基础 DN* ：要搜索用户的 LDAP 子树的可分辨名称（ DN ）的完整路径。</block>
  <block id="d66947206db2967cd810be98dbfd9118" category="admonition">用户唯一名称 * 值在其所属的 * 用户基础 DN* 中必须是唯一的。</block>
  <block id="9dce14334e5bff3f860fb7ec7294272b" category="list-text">* 绑定用户名格式 * （可选）：如果无法自动确定模式， StorageGRID 应使用默认用户名模式。</block>
  <block id="30d12542dd6641710ea275d97e712e0e" category="paragraph">建议提供 * 绑定用户名格式 * ，因为如果 StorageGRID 无法绑定到服务帐户，它可以允许用户登录。</block>
  <block id="3d64bbb062d6a42310d2942500a79296" category="paragraph">输入以下模式之一：</block>
  <block id="44545f8dd2073d7b56f552440b2254e0" category="list-text">* 用户 PrincipalName 模式（ Active Directory 和 Azure ） * ： `` 用户名@_example_.com</block>
  <block id="5c668ba974b806ed7d63b9f46ab24552" category="list-text">* 低级登录名称模式（ Active Directory 和 Azure ） * ： ` 示例 _\[ 用户名 ]`</block>
  <block id="4c425ce4e808f58f1735d13abea2ff8a" category="list-text">* 可分辨名称模式 * ： `CN=[ 用户名 ] ， CN=Users ， DC=_example_ ， DC=com`</block>
  <block id="3bec2e810d09c4c6e9c81d3ab0cc129e" category="paragraph">与写入的内容完全相同，请包含 * 。</block>
  <block id="4faf50ba27ad40f8e5cb6c8350b83c86" category="list-text">在传输层安全（ TLS ）部分中，选择一个安全设置。</block>
  <block id="0c03fa044d2c432ba91ba5949b8c17c9" category="list-text">* 使用 STARTTLS * ：使用 STARTTLS 确保与 LDAP 服务器的通信安全。这是建议的 Active Directory ， OpenLDAP 或其他选项，但 Azure 不支持此选项。</block>
  <block id="311d97c433597e9959768f750556739e" category="list-text">* 使用 LDAPS* ： LDAPS （基于 SSL 的 LDAP ）选项使用 TLS 与 LDAP 服务器建立连接。您必须为 Azure 选择此选项。</block>
  <block id="fcdd41f02959e5cb4d21a0b791d03e5f" category="list-text">* 请勿使用 TLS* ： StorageGRID 系统与 LDAP 服务器之间的网络流量将不会受到保护。Azure 不支持此选项。</block>
  <block id="414275fa25aa577e43cc84cbae28e0cd" category="admonition">如果 Active Directory 服务器强制实施 LDAP 签名，则不支持使用 * 不使用 TLS* 选项。您必须使用 STARTTLS 或 LDAPS 。</block>
  <block id="3adebbfabe79f503b72b847ac3ae11c9" category="list-text">如果选择 STARTTLS 或 LDAPS ，请选择用于保护连接安全的证书。</block>
  <block id="e23de23d30cd3123157b96b8a4f97fd9" category="list-text">* 使用操作系统 CA 证书 * ：使用操作系统上安装的默认网格 CA 证书确保连接安全。</block>
  <block id="e24f537140d8b6b53123eb8de7c113e8" category="list-text">* 使用自定义 CA 证书 * ：使用自定义安全证书。</block>
  <block id="97e9af78e412a19068043de01e183029" category="paragraph">如果选择此设置，请将自定义安全证书复制并粘贴到 CA 证书文本框中。</block>
  <block id="9cbefdb25ac26e59977393dfc0984ddf" category="paragraph">输入所有值后，必须先测试连接，然后才能保存配置。如果您提供了 LDAP 服务器的连接设置和绑定用户名格式，则 StorageGRID 会对其进行验证。</block>
  <block id="7d5fc15eb807ea7457d37de2fee88fca" category="list-text">选择 * 测试连接 * 。</block>
  <block id="9cab2f24d0ef259e66ce2766d5b8abb4" category="list-text">如果未提供绑定用户名格式：</block>
  <block id="5243a3a217e557970f5c04a7be1d6797" category="list-text">如果连接设置有效，则会显示 "`Test connection successful` " 消息。选择 * 保存 * 以保存配置。</block>
  <block id="6ac7bba32a100d41f83ef586fc7a7da6" category="list-text">如果连接设置无效，则会显示 "`test connection could not be established` " 消息。选择 * 关闭 * 。然后，解决所有问题并重新测试连接。</block>
  <block id="2ecc51612440e64c1cdb97dc788857d1" category="list-text">如果您提供了绑定用户名格式，请输入有效联合用户的用户名和密码。</block>
  <block id="ae41b7e8664ea5cf39ebf3f765793515" category="paragraph">例如，输入您自己的用户名和密码。请勿在用户名中包含任何特殊字符，例如 @ 或 / 。</block>
  <block id="fdc7b472f99fbe76f98fec65aeb0fece" category="image-alt">身份联合提示以验证绑定用户名格式</block>
  <block id="8edf53d9a63d7ebc80cfc3bc7edf6710" category="list-text">如果连接设置，绑定用户名格式或测试用户名和密码无效，则会显示一条错误消息。解决所有问题并重新测试连接。</block>
  <block id="ada1ff51706be42fea739de2be1ee517" category="paragraph">您可以临时或永久禁用组和用户的身份联合。禁用身份联合后， StorageGRID 与身份源之间不会进行通信。但是，您配置的任何设置都将保留下来，以便将来可以轻松地重新启用身份联合。</block>
  <block id="8f27864d08c7228317538a9ceb5a9538" category="paragraph">在禁用身份联合之前，您应注意以下事项：</block>
  <block id="45008eaa94928ad87ea2d926dd307f6d" category="list-text">联合用户将无法登录。</block>
  <block id="ac309eb4fdf99dfcaa57675a1f99881b" category="list-text">当前已登录的联合用户将保留对 StorageGRID 系统的访问权限，直到其会话到期为止，但在其会话到期后将无法登录。</block>
  <block id="1524065ef056b3eec8e8840626ed5ba4" category="list-text">StorageGRID 系统与身份源之间不会进行同步，并且不会为尚未同步的帐户发出警报或警报。</block>
  <block id="e330788f3916062ce8bfb9ef88b5dd21" category="inline-xref-macro">禁用单点登录</block>
  <block id="117980a516887d1683029f8d119d7f60" category="list-text">如果单点登录（ SSO ）设置为 * 已启用 * 或 * 沙盒模式 * ，则 * 启用身份联合 * 复选框将被禁用。在禁用身份联合之前，单点登录页面上的 SSO 状态必须为 * 已禁用 * 。请参见 <block ref="94374cdf9724b0b6c9e721b421cf06d2" category="inline-xref-macro-rx"></block>。</block>
  <block id="c4414e0e3f2fdeca0030d2c4cf486305" category="list-text">转到身份联合页面。</block>
  <block id="5e49f176a9bf955294c3a8a9355b730a" category="list-text">取消选中 * 启用身份联合 * 复选框。</block>
  <block id="63337e42dc0281fac3468155f65b2c57" category="paragraph">AutoSupport 消息包含如下信息：</block>
  <block id="81025d660cd29a343c50d7960b8577dc" category="list-text">StorageGRID 软件版本</block>
  <block id="170861220308516da165525eb6107a96" category="list-text">操作系统版本</block>
  <block id="9a4b39a399b8f2e9203bda65dc8c0464" category="list-text">系统级别和位置级别属性信息</block>
  <block id="1deae78f5e9d2f005cc392fe8822857f" category="list-text">近期警报和警报（旧系统）</block>
  <block id="a5af7467d81407040e30eb71128d5bad" category="list-text">所有网格任务的当前状态，包括历史数据</block>
  <block id="5586b06b53edb8e46aafc6a764b24307" category="list-text">管理节点数据库使用情况</block>
  <block id="7b6b80739714b52c0fb0f21d246a5817" category="list-text">丢失或缺失对象的数量</block>
  <block id="c5c6b51bbbed8e544607b8bd96cad3b8" category="list-text">网格配置设置</block>
  <block id="5afeba0bd099057d2f768c19f06ec2da" category="list-text">NMS 实体</block>
  <block id="dc7811b57b15d7b1a9ad2b527e2aa501" category="list-text">活动 ILM 策略</block>
  <block id="ef0ae2a79b3cd5be8e6d9bafdb097b93" category="list-text">已配置网格规范文件</block>
  <block id="30faf660a4f6ec5e7c3942afb45cbda1" category="list-text">诊断指标</block>
  <block id="31c42f78bb50b9abc44a7c2858be46df" category="paragraph">您可以在首次安装 StorageGRID 时启用 AutoSupport 功能和各个 AutoSupport 选项，也可以稍后启用它们。如果未启用 AutoSupport ，网格管理器信息板上将显示一条消息。此消息包含指向 AutoSupport 配置页面的链接。</block>
  <block id="7263af51b7bd36b9565c64a0544cb16c" category="image-alt">AutoSupport 已禁用消息</block>
  <block id="837abd414b01753b4e7de405835efe01" category="paragraph">如果关闭此消息，则此消息将不会再次显示，直到清除浏览器缓存为止，即使 AutoSupport 仍处于禁用状态。</block>
  <block id="99c4cc16e57a1f092a7dee521c1e073b" category="paragraph">StorageGRID 系统会定期同步身份源中的联合组和用户。如果要尽快启用或限制用户权限，可以强制启动同步。</block>
  <block id="930693e19fe56fe7eb999ab6929267a1" category="list-text">选择页面顶部的 * 同步服务器 * 。</block>
  <block id="e2b751308ad22e050a20c56b9a775efb" category="paragraph">同步过程可能需要一些时间，具体取决于您的环境。</block>
  <block id="656d8d5f033573fb9c3d7927f75b10d8" category="admonition">如果存在正在同步身份源中的联合组和用户的问题描述 ，则会触发 * 身份联合同步失败 * 警报。</block>
  <block id="9a49f4b6355abc5a1b3febc493f5667c" category="doc">关于 repair-data 脚本</block>
  <block id="088a6ae8b67551d38b7220bf93b53a91" category="list-text">您必须确认已恢复的存储节点的连接状态为 * 已连接 * <block ref="289eb15a7e4fb09cc69c35e741336fc7" category="inline-image-macro-rx" type="image"></block> 在网格管理器的 * 节点 * &gt; * 概述 * 选项卡上。</block>
  <block id="cdc4daac8589f795c0a3cbc4ba65ad13" category="paragraph">可以从其他存储节点，归档节点或云存储池还原对象数据，前提是已配置网格的 ILM 规则，以便可以使用对象副本。</block>
  <block id="907e9eaa723e5da298b07565fb73914b" category="list-text">如果 ILM 规则配置为仅存储一个复制副本，而该副本位于出现故障的存储卷上，则您将无法恢复对象。</block>
  <block id="ab3acaaaf56c3f6b74e58330957a5c04" category="list-text">如果某个对象的唯一剩余副本位于云存储池中，则 StorageGRID 必须将多个请求问题描述 到云存储池端点以还原对象数据。在执行此操作步骤 之前，请联系技术支持以帮助估算恢复时间范围和相关成本。</block>
  <block id="6ceab760b2c84d0498dc15f3b05d95ba" category="list-text">如果对象的唯一剩余副本位于归档节点上，则会从归档节点检索对象数据。从归档节点将对象数据还原到存储节点比从其他存储节点还原副本所需时间更长，因为从外部归档存储系统检索数据会产生延迟。</block>
  <block id="fbb6b6b4ec23af063264b68b881c03bf" category="paragraph">要还原对象数据，请运行 `repair-data` 脚本。此脚本将开始还原对象数据的过程，并与 ILM 扫描配合使用以确保满足 ILM 规则。</block>
  <block id="b07890c962ed5bdc51ffd8f52bd021de" category="paragraph">选择下面的 * 复制数据 * 或 * 擦除编码（ Erasure-Coded ， EC ）数据 * ，根据您要还原的是复制的数据还是擦除编码的数据，了解 `repair-data` 脚本的不同选项。如果需要还原这两种类型的数据，则必须同时运行这两组命令。</block>
  <block id="397c4fb801b5a4adb3818506bdeb5bcc" category="admonition">有关 `repair-data` 脚本的详细信息，请在主管理节点的命令行中输入 `repair-data -help` 。</block>
  <block id="21a55f1b048e0049acf80627a81016fd" category="paragraph">根据您是需要修复整个节点还是仅需要修复节点上的特定卷，可以使用两个命令还原复制的数据：</block>
  <block id="20f772b617adedf9be66af85a5413222" category="paragraph">`repair-data start-replicated -node-repair`</block>
  <block id="4a2974078a6c490565fe314de5ab0cc7" category="paragraph">`repair-data start-replicated -volume-repair`</block>
  <block id="74f660b921eb2ddebbc80953d5602fcb" category="paragraph">您可以使用以下命令跟踪已复制数据的修复：</block>
  <block id="0486c83e6f482d276c6d50fd107eb9b8" category="paragraph">根据您是需要修复整个节点还是仅修复节点上的特定卷，可以使用两个命令来还原经过擦除编码的数据：</block>
  <block id="0b62e5af369abff6144901c876c188fd" category="paragraph">`repair-data start-EC-node-repair`</block>
  <block id="17685b91005dc76ec040b6ce4fa31733" category="paragraph">`repair-data start-EC-volume-repair`</block>
  <block id="b7f6b8fddec76f324207d741f6b437ca" category="paragraph">您可以使用以下命令跟踪纠删编码数据的修复情况：</block>
  <block id="3f1a1477a0b309cd6066e0281f17c0dd" category="admonition">EC 修复作业会临时预留大量存储。可能会触发存储警报，但会在修复完成后解决。如果没有足够的存储空间用于预留， EC 修复作业将失败。无论作业失败还是成功， EC 修复作业完成后都会释放存储预留。</block>
  <block id="ced3700547363cdea0de514197228aaf" category="paragraph">`storageGRID-Webscale -_version_-vmware-_uniqueID_.zip`</block>
  <block id="aa0989e335075a714755176cdd28c960" category="paragraph">`storageGRID-Webscale -_version_-vmware-_uniqueID_.tgz`</block>
  <block id="cbbc8ebf32ef11b4d8b4884e4e867c71" category="summary">如果 StorageGRID 节点未正常重新加入网格，并且无法显示为可恢复，则可能已损坏。您可以强制节点进入恢复模式。</block>
  <block id="97fca16ea007b6ba35d0dfa442605fbe" category="doc">恢复无法正常启动的节点</block>
  <block id="516770b72470ed920ff4ca5814c64508" category="paragraph">要强制节点进入恢复模式，请执行以下操作：</block>
  <block id="14072c81269b5d88c681958d0f13bb0b" category="paragraph">`sUdo StorageGRID node force-recovery _node-name_`</block>
  <block id="f44e0430fac5a78e6f175edb1e2159a3" category="admonition">发出此命令之前，请确认节点的网络配置正确无误；节点可能由于网络接口映射不正确或网格网络 IP 地址或网关不正确而无法重新加入网格。</block>
  <block id="190d87a48d3f9a3400521a26e1e13f00" category="admonition">发出 `StorageGRID node force-recovery _node-name_` 命令后，您必须对 _node-name_ 执行其他恢复步骤。</block>
  <block id="5e3d29643fbe6e0042faeab79f4bcdeb" category="inline-xref-macro">下一步操作：如果需要，执行其他恢复步骤</block>
  <block id="3b717df9757064855c103ef0973951a1" category="paragraph"><block ref="3b717df9757064855c103ef0973951a1" category="inline-xref-macro-rx"></block></block>
  <block id="3dfff02e3cb803d1f2b51c6559e09b93" category="summary">访问网格管理器中的 " 停用节点 " 页面时，您可以一目了然地看到哪些节点可以停用。</block>
  <block id="35acb565e0420d61af96306b6a452bd0" category="doc">访问 " 取消配置节点 " 页面</block>
  <block id="ec66a74a43c6d754c2a22a26613423d2" category="list-text">选择 * 维护 * &gt; * 任务 * &gt; * 取消配置 * 。</block>
  <block id="ee537bf64477e3e438b77373e8437067" category="list-text">选择 * 取消配置节点 * 。</block>
  <block id="db89a05b33eba8d4833d504a705cafea" category="paragraph">此时将显示 Decommission Nodes 页面。在此页面中，您可以：</block>
  <block id="f8d3481ed74e3942d304955e02c4a373" category="list-text">确定当前可以停用的网格节点。</block>
  <block id="383938c754f88a4122dc0ea15fce858b" category="list-text">查看所有网格节点的运行状况</block>
  <block id="fc451f95b613c7df7fe9f59274f60aad" category="list-text">按 * 名称 * ， * 站点 * ， * 类型 * 或 * 具有 ADC* 按升序或降序对列表进行排序。</block>
  <block id="e09dd8ab1cbccc0b9be7597a8c190cf8" category="list-text">输入搜索词可快速查找特定节点。例如，此页面显示两个数据中心中的网格节点。Decommission possible 列指示您可以停用网关节点，五个存储节点之一和非主管理节点。</block>
  <block id="103b4ee541e60e376a597d087647d1c0" category="image-alt">停用节点页面</block>
  <block id="7a5c6996da306033c250f1ec23e09709" category="list-text">查看要停用的每个节点的 * 可能停用 * 列。</block>
  <block id="c565ce5004a0944f4e7ea7668047c5ca" category="paragraph">如果可以停用网格节点，则此列会显示一个绿色复选标记，最左侧的列会显示一个复选框。如果无法停用某个节点，此列将介绍问题描述 。如果无法停用某个节点的原因不止一个，则会显示最关键的原因。</block>
  <block id="b53a80cba6586f05e5af74c79cdb5c32" category="cell">停用可能的原因</block>
  <block id="c87611fb0b7d18f3fde0a5f853c8d1fa" category="cell">解决步骤</block>
  <block id="2e8c8092be2208bc5c2c13c5a787628a" category="paragraph">不支持，不支持节点类型停用。</block>
  <block id="d6b54b0fbc37daa09dc3c012bc46d522" category="paragraph">您不能停用主管理节点或归档节点。</block>
  <block id="983e45d9f14c8e4b92b207877e7cabb0" category="paragraph">无</block>
  <block id="b4e70df3a3d145307f299a2e511b0b16" category="paragraph">否，至少有一个网格节点已断开连接。</block>
  <block id="fb8355a67a41cd2df2ff84eccb0133f0" category="paragraph">* 注： * 此消息仅针对已连接的网格节点显示。</block>
  <block id="56ad171f4942d2df74c80ddbcf483539" category="paragraph">如果任何网格节点已断开连接，则无法停用已连接的网格节点。</block>
  <block id="1238491eb57e010ebb455654a170dbbc" category="paragraph">对于已断开连接的网格节点， * 运行状况 * 列包含以下图标之一：</block>
  <block id="a1a97befb574703554fb63ee825cec06" category="list-text"><block ref="25380ee7ab8b4c8df1434662b57f5ead" category="inline-image-macro-rx" type="image"></block> （灰色）：已管理员关闭</block>
  <block id="634027b404ee1aa4b4c108ea4a344104" category="list-text"><block ref="4bc258a3103ce1ac478adb3044bc2daa" category="inline-image-macro-rx" type="image"></block> （蓝色）：未知</block>
  <block id="fc6aec765f6de7ac067c5f9ec01ebe24" category="inline-xref">列出停用操作步骤 选项的步骤</block>
  <block id="7f554011fd67b41c02d1af133c7ae816" category="paragraph">转至 <block ref="40b5eea94092e84e9d63a1bdd9a54f1b" category="inline-xref-macro-rx"></block>。</block>
  <block id="597e6f84f6b4b3a676c79840e310763a" category="paragraph">否，一个或多个所需节点当前已断开连接，必须进行恢复。</block>
  <block id="a79cd66a359b3f7a4df1ef8da8790a12" category="paragraph">* 注： * 此消息仅针对已断开连接的网格节点显示。</block>
  <block id="484ae56705eedd4cb04dae2d6355c324" category="paragraph">如果一个或多个所需节点也已断开连接，则您无法停用已断开连接的网格节点（例如，为实现 ADC 仲裁所需的存储节点）。</block>
  <block id="e4b1374dcffe9c402c72bb28acde592e" category="list-text">查看所有已断开连接的节点的 " 取消配置 " 可能消息。</block>
  <block id="565f901799917b8ec68262f44fcb37ab" category="list-text">确定哪些节点因需要而无法停用。</block>
  <block id="70c0c6307b8cfeabdbd2eeccccfafd2a" category="list-text">如果所需节点的运行状况已被管理员关闭，请使此节点重新联机。</block>
  <block id="d8f6e6f208e09784baab430f1c4bb715" category="list-text">如果所需节点的运行状况未知，请执行节点恢复操作步骤 以恢复所需节点。</block>
  <block id="5a549e2e941297fc9303bb3525f58339" category="paragraph">否， HA 组的成员： _x_ 。要停用此节点，必须先将其从所有 HA 组中删除。</block>
  <block id="cc97678bdd44900c3ff055b62c7c82c0" category="paragraph">如果某个节点接口属于高可用性（ HA ）组，则无法停用管理节点或网关节点。</block>
  <block id="0332407edaa67d7deb051eb9f5d18212" category="paragraph">编辑 HA 组以删除节点的接口或删除整个 HA 组。请参见有关管理 StorageGRID 的说明。</block>
  <block id="8076bb4290c912daf1abb41fe2a8bb16" category="paragraph">不可以，站点 _x_ 至少需要具有模块化转换服务的 _n_ 存储节点。</block>
  <block id="c1f8e33a449ecfe9dbbff2f0398e21ec" category="paragraph">* 仅限存储节点。 * 如果站点上保留的节点不足以满足模块化转换仲裁要求，则无法停用存储节点。</block>
  <block id="e207f5b71b7e83e6bb273a9c453a7997" category="paragraph">执行扩展。向站点添加新的存储节点，并指定其应具有一个模块转换服务。请参见有关模数转换器仲裁的信息。</block>
  <block id="03d839173458331d3402f9fdd07313a0" category="paragraph">不需要，一个或多个擦除编码配置文件至少需要 _n_ 存储节点。如果在 ILM 规则中未使用此配置文件，您可以将其停用。</block>
  <block id="0b71d444e97b0a327eb35a82928e7bd3" category="paragraph">* 仅限存储节点。 * 除非为现有擦除编码配置文件保留足够的节点，否则无法停用存储节点。</block>
  <block id="404771235bcf281acb0db7051e114a76" category="paragraph">例如，如果 4+2 纠删编码存在擦除编码配置文件，则必须至少保留 6 个存储节点。</block>
  <block id="54ec4ef9a1470d827659d4a4e767a380" category="paragraph">对于每个受影响的擦除编码配置文件，根据配置文件的使用方式执行以下步骤之一：</block>
  <block id="84c043bdc84fab8027332c6e62329662" category="list-text">* 用于活动 ILM 策略 * ：执行扩展。添加足够多的新存储节点，以便继续进行纠删编码。请参见有关扩展 StorageGRID 的说明。</block>
  <block id="b2f512c7298da1aeadcd6eaf1bbcef77" category="list-text">* 用于 ILM 规则，但不用于活动 ILM 策略 * ：编辑或删除规则，然后停用擦除编码配置文件。</block>
  <block id="fe3878f941632deff0d63ff4bd39ee81" category="list-text">* 未在任何 ILM 规则中使用 * ：停用擦除编码配置文件。</block>
  <block id="1a176ddacd1e12fd264ee50071a0e59e" category="paragraph">* 注： * 如果您尝试停用擦除编码配置文件，但对象数据仍与该配置文件关联，则会显示一条错误消息。您可能需要等待几周才能再次尝试停用过程。</block>
  <block id="a6b93887b0ad43788f798250b0647666" category="paragraph">有关通过信息生命周期管理管理对象的说明，请了解如何停用擦除编码配置文件。</block>
  <block id="07f7fc59caebf0d947010f5413981efa" category="list-text">【解压缩程序选择】如果节点可以停用，请确定需要执行的操作步骤 ：</block>
  <block id="ac7406f8ca66424546997dd12ebf2fac" category="cell">网格是否包括 ...</block>
  <block id="ec434af0a2786fa23b468584c5622fe1" category="cell">转至 ...</block>
  <block id="4ea263472cde5d872328e8a64b41ef9a" category="paragraph">任何已断开连接的网格节点</block>
  <block id="cc17181c3c5d251c9e08a81437ff3b3c" category="inline-xref-macro">停用已断开连接的网格节点</block>
  <block id="8ec53e546150210a49d3ed635db03087" category="paragraph"><block ref="8ec53e546150210a49d3ed635db03087" category="inline-xref-macro-rx"></block></block>
  <block id="d840649106629202f637d8c2627b1280" category="paragraph">仅连接网格节点</block>
  <block id="e693923c67dd31ccb50fb14964335cb7" category="inline-xref-macro">停用已连接的网格节点</block>
  <block id="072330f728b23a4f6f3b98213cb3b322" category="paragraph"><block ref="072330f728b23a4f6f3b98213cb3b322" category="inline-xref-macro-rx"></block></block>
  <block id="b3fc064844d1d5657a98b603cfb3bc03" category="paragraph"><block ref="b3fc064844d1d5657a98b603cfb3bc03" category="inline-xref-macro-rx"></block></block>
  <block id="a5e2c7b70641bc7292095c77e6c4cac6" category="inline-xref-macro">了解模数转换器仲裁</block>
  <block id="18373b0661e7f86533a5b9229c392c36" category="paragraph"><block ref="18373b0661e7f86533a5b9229c392c36" category="inline-xref-macro-rx"></block></block>
  <block id="59e59693295abf1fb146e071f6f6358b" category="summary">您可以将出现故障的网关节点更换为运行在同一物理或虚拟硬件上的网关节点，也可以将运行在 VMware 或 Linux 主机上的网关节点更换为托管在服务设备上的网关节点。</block>
  <block id="ad225282f4701addddd832376999865b" category="doc">更换网关节点</block>
  <block id="e7b50d4f0bf333fc207de5d47b4cc9cb" category="paragraph">您必须遵循的节点更换操作步骤 取决于更换节点将使用的平台。完成节点更换操作步骤 （适用于所有节点类型）后，该操作步骤 将指导您执行网关节点恢复的下一步。</block>
  <block id="762400114ada458800563730d923e316" category="cell">更换平台</block>
  <block id="7a4639901c858acc8afd3911e7426714" category="inline-xref-macro">更换 VMware 节点</block>
  <block id="04113fc6ea45e63a75c1834a2da9ad0f" category="paragraph"><block ref="04113fc6ea45e63a75c1834a2da9ad0f" category="inline-xref-macro-rx"></block></block>
  <block id="55df8270155020c64b82a3e70d4c5ea0" category="inline-xref-macro">更换 Linux 节点</block>
  <block id="5d9e781d50a4aeda723a585231a658ae" category="paragraph"><block ref="5d9e781d50a4aeda723a585231a658ae" category="inline-xref-macro-rx"></block></block>
  <block id="52957165e98700061c0a1ca5abbb729c" category="inline-xref-macro">更换服务设备</block>
  <block id="a16c6672866ea64a1e9f94be064d4c72" category="paragraph"><block ref="a16c6672866ea64a1e9f94be064d4c72" category="inline-xref-macro-rx"></block></block>
  <block id="7ff6cc997b141399bcdf2c338fb4031c" category="paragraph">OpenStack</block>
  <block id="d7539d9a126f84c4f0c8e491cd03d665" category="paragraph">恢复操作不再支持 NetApp 为 OpenStack 提供的虚拟机磁盘文件和脚本。如果您需要恢复在 OpenStack 部署中运行的节点，请下载适用于 Linux 操作系统的文件。然后，按照操作步骤 更换 Linux 节点。</block>
  <block id="9d7180a12b7dd75a88f33f813472b17a" category="summary">Server Manager 可始终运行，但您可能需要停止 Server Manager 以及网格节点上运行的所有服务。</block>
  <block id="aa2f8952694487341dbd6a2685e2cbd0" category="doc">停止 Server Manager 和所有服务</block>
  <block id="f9af9084b6defa4d9ffc8ca18a1d6cf4" category="list-text">停止服务器管理器以及网格节点上运行的所有服务： `sservice servermanager stop`</block>
  <block id="6ef1c2557fbe000728204f19fe356b06" category="paragraph">服务器管理器以及网格节点上运行的所有服务均正常终止。服务可能需要长达 15 分钟才能关闭。</block>
  <block id="16669889fa94aeb66d294a572fb0fb56" category="list-text">注销命令 Shell ： `exit`</block>
  <block id="35ab70b3b6497d83ebe52bc980c3771d" category="summary">要从归档节点故障中恢复，您必须按确切顺序完成一系列任务。</block>
  <block id="0805b98633df5eabbe0b53865022d35e" category="doc">从归档节点故障中恢复</block>
  <block id="9c31e985c5c62797659ea94fc8589869" category="image-alt">归档节点恢复概述流程图</block>
  <block id="9feca1f97f23b30cf2113f7dee536fb4" category="paragraph">归档节点恢复受以下问题影响：</block>
  <block id="d104f970bce910ec6b9f1970e56b4d3e" category="list-text">如果 ILM 策略配置为复制单个副本。</block>
  <block id="93fc2ba1bddaa81912a09c1eadfe7484" category="paragraph">在配置为创建一个对象副本的 StorageGRID 系统中，归档节点故障可能会导致无法恢复的数据丢失。如果发生故障，所有此类对象都将丢失；但是，您仍必须执行恢复过程 "`清理` " StorageGRID 系统并清除数据库中丢失的对象信息。</block>
  <block id="b87fdcd18cfbdcd585a78c4aa311ad54" category="list-text">如果在存储节点恢复期间发生归档节点故障。</block>
  <block id="85236326aaa5434f4ef6f3f6d443b13e" category="paragraph">如果在存储节点恢复过程中处理批量检索时归档节点出现故障， 您必须重复操作步骤 以从头开始将对象数据的副本恢复到存储节点，以确保从归档节点检索到的所有对象数据都还原到存储节点。</block>
  <block id="aec5ab62bed11700510e1a833a1740d9" category="summary">某些维护过程要求您停止一项服务，同时保持网格节点上的其他服务正常运行。只有在维护操作步骤 指示停止单个服务时，才停止这些服务。</block>
  <block id="ed92a0162d76a0a899af5ae5cb453a4c" category="doc">停止服务</block>
  <block id="494989bc0d23aab650fd4e56d1ff9453" category="paragraph">使用以下步骤 "`以管理员方式停止` " 服务时， Server Manager 不会自动重新启动该服务。您必须手动启动单个服务或重新启动 Server Manager 。</block>
  <block id="eff5b4aa47f3ed46f42b026c7d00ab7f" category="paragraph">如果需要停止存储节点上的 LDR 服务，请注意，如果存在活动连接，则停止此服务可能需要一段时间。</block>
  <block id="da9fcf4a9daa8a8c26b69e872d71743b" category="list-text">停止单个服务： `sservice_servicename_ stop`</block>
  <block id="fe931f5d1205b9e910acb1df35a48a7d" category="admonition">服务可能需要长达 11 分钟才能停止。</block>
  <block id="a783354ff0367bb16d5a2411fefd78e1" category="inline-xref-macro">强制终止服务</block>
  <block id="3ff993e4065c599679645d4bfbdc9192" category="paragraph"><block ref="3ff993e4065c599679645d4bfbdc9192" category="inline-xref-macro-rx"></block></block>
  <block id="1848beefd5503db99f24e104bdb37de3" category="summary">此修补程序会首先自动应用于主管理节点。然后，您必须批准将此修补程序应用于其他网格节点，直到所有节点运行相同的软件版本为止。您可以通过选择批准单个网格节点，网格节点组或所有网格节点来自定义批准顺序。</block>
  <block id="0a990851006a841ee336adf66ab4b03c" category="doc">应用修补程序</block>
  <block id="ec4fcf9238c21829b0ff0528ef99b494" category="inline-xref-macro">规划并准备修补程序</block>
  <block id="2133c279aa71f9fa2902d0667014e083" category="list-text">您已查看注意事项并完成中的步骤 <block ref="109934209b54f0d555fc19c841acede0" category="inline-xref-macro-rx"></block>。</block>
  <block id="a6e526a0942a8d770d78e4ee97849b92" category="list-text">您具有 root 访问权限或维护权限。</block>
  <block id="85ea223d58023495198202046f28e774" category="list-text">您可以延迟向节点应用修补程序，但只有在将修补程序应用到所有节点之后，此修补程序过程才会完成。</block>
  <block id="90d4a55aa30d3a6017b62ae0005bb72d" category="list-text">在完成修复程序过程之前，您无法执行 StorageGRID 软件升级或 SANtricity 操作系统升级。</block>
  <block id="457a14b916fab795c94bdf42c84e48a1" category="list-text">选择 * 应用修补程序 * 。</block>
  <block id="58e44ec73135b7b6bc813dd980a331d3" category="paragraph">此时将显示 StorageGRID 热修补程序页面。</block>
  <block id="bb32264e7019f9a0dd3f2ef96d019fd2" category="image-alt">热修补程序选择文件</block>
  <block id="f87a96bfd2c657e9704b95b3654312ce" category="list-text">选择从 NetApp 支持站点下载的修补程序文件。</block>
  <block id="57cace635dd72996b99474ba91f3bd6b" category="paragraph">`hotfix-install-_version_`</block>
  <block id="11cded4f7036f91162f630f76e1ed3c3" category="paragraph">已上传此文件。上传完成后，文件名将显示在详细信息字段中。</block>
  <block id="5e3942f07452de88f6399c69b581ef01" category="paragraph">此时将启用 * 开始 * 按钮。</block>
  <block id="59b354fa59eaea3eee3fc317691f7a75" category="paragraph">此时将显示一条警告，指出当主管理节点上的服务重新启动时，您的浏览器连接可能会暂时断开。</block>
  <block id="76b94a0a1a21cca49ce27347b69310d0" category="image-alt">显示连接将暂时丢失对话框的屏幕截图</block>
  <block id="1872db3ed6f14e56046ee74a9432e0b7" category="list-text">选择 * 确定 * 开始将此修补程序应用于主管理节点。</block>
  <block id="1fb607053d9dd7161d7d0d58385c7e91" category="paragraph">当修复程序启动时：</block>
  <block id="cad007691784d396a5b1c8f7494ab9be" category="list-text">此时将运行修补程序验证。</block>
  <block id="5eb6868436747dcceb17d2010ed712ce" category="admonition">如果报告了任何错误，请予以解决，重新上传此修复程序文件，然后再次选择 * 启动 * 。</block>
  <block id="672a7597d92b77fb223468f8cc4e4dfe" category="list-text">此时将显示热修补程序安装进度表。此表显示了网格中的所有节点以及每个节点的修补程序安装的当前阶段。表中的节点按类型分组：</block>
  <block id="de0c30fded56818494a4ed7cb11c0fab" category="admonition">进度条将达到完成状态，然后会首先显示主管理节点，并显示阶段 "`complete" 。`</block>
  <block id="6e2bd1e4286656058c7426bcdd1dcc99" category="image-alt">修补程序进度表</block>
  <block id="8409c77069a4b96ed0f2a81679062595" category="list-text">或者，也可以按 * 站点 * ， * 名称 * ， * 进度 * ， * 阶段 * 或 * 详细信息 * 按升序或降序对每个分组中的节点列表进行排序。或者，在 * 搜索 * 框中输入一个术语以搜索特定节点。</block>
  <block id="ff103bbf89192b10542bb7b44cd131ed" category="list-text">批准已准备好更新的网格节点。相同类型的已批准节点将一次升级一个。</block>
  <block id="9088af9c2e4de09d32d81b1576befbba" category="admonition">除非您确定节点已准备好进行更新，否则请勿批准节点的修补程序。将此修补程序应用于网格节点时，该节点上的某些服务可能会重新启动。对于与节点通信的客户端，这些操作可能会导致发生原因 服务中断。</block>
  <block id="1552a016467d5bf0ceb44489243f132b" category="list-text">选择一个或多个 * 批准 * 按钮将一个或多个单独的节点添加到修补程序队列。</block>
  <block id="7a478950ba05a6e6209f5e5a9d18d7c2" category="list-text">在每个分组中选择 * 全部批准 * 按钮，将所有类型相同的节点添加到修补程序队列。如果您在 * 搜索 * 框中输入了搜索条件，则 * 全部批准 * 按钮将适用场景 所有搜索条件选择的节点。</block>
  <block id="8ab9861885c911f2ddcb3d7de808dcaa" category="admonition">页面顶部的 * 全部批准 * 按钮批准页面上列出的所有节点，而分组表顶部的 * 全部批准 * 按钮仅批准该组中的所有节点。如果节点升级顺序非常重要，请一次批准一个节点或一组节点，并等待每个节点完成升级，然后再批准下一个节点。</block>
  <block id="2877a79d025c99b402ae8bc9b76dc1c3" category="list-text">选择页面顶部的顶级 * 全部批准 * 按钮，将网格中的所有节点添加到热修补程序队列。</block>
  <block id="15bec375c0317b11a050bf140ed7ca57" category="admonition">您必须先完成 StorageGRID 热修补程序，然后才能启动其他软件更新。如果无法完成此修补程序，请联系技术支持。</block>
  <block id="c4a739229b8943d9ba6ffebae9cf4bc4" category="list-text">选择 * 删除 * 或 * 全部删除 * 可从修补程序队列中删除一个节点或所有节点。</block>
  <block id="cc645974a3dbd1d5e204eca128cd9528" category="paragraph">当此阶段超过 "`Queued ，` " 时， * 删除 * 按钮将处于隐藏状态，您无法再从修补程序进程中删除此节点。</block>
  <block id="f1a9a79d83764370d8044af440755257" category="image-alt">使用删除按钮执行修补程序进度</block>
  <block id="651b348a5453e4614180d5addb8e7e91" category="list-text">请稍候，此修补程序将应用于每个已批准的网格节点。</block>
  <block id="4e753934ed53c7bec53d49e57071e9c0" category="paragraph">在所有节点上成功安装此修复程序后，热修复程序安装进度表将关闭。绿色横幅显示了完成修补程序的日期和时间。</block>
  <block id="7663ce79a29c44f937064f90976fe64f" category="list-text">如果无法将此修补程序应用于任何节点，请查看每个节点的错误，解决问题描述 ，然后重复上述步骤。</block>
  <block id="4056b4617c59d0c3f109c7f1415e30e2" category="paragraph">只有在将此修补程序成功应用于所有节点之后，操作步骤 才会完成。您可以根据需要安全地重试此修复程序多次，直到其完成为止。</block>
  <block id="fbd9c55bed086b42ae0149d306763d15" category="summary">恢复存储卷后，您必须验证存储节点的所需状态是否设置为联机，并确保每当重新启动存储节点服务器时，此状态默认为联机。</block>
  <block id="b3671b952dd443051bddb619152208c9" category="doc">恢复存储卷后检查存储状态</block>
  <block id="6d168babd438f0ee2a3524f24888af29" category="list-text">存储节点已恢复，数据恢复已完成。</block>
  <block id="b5f989e4867df8af9571bb097d8a7ad0" category="list-text">检查 * 已恢复存储节点 * &gt; * LDR* &gt; * 存储 * &gt; * 存储状态 - 所需 * 和 * 存储状态 - 当前 * 的值。</block>
  <block id="a0b35f365c825190e1f85c35b8261537" category="paragraph">这两个属性的值均应为联机。</block>
  <block id="5003774bc0c2007c7b96dc8aedce3863" category="list-text">如果 "Storage State" （存储状态）— "Desired " （所需）设置为只读，请完成以下步骤：</block>
  <block id="1b9d50008b814b28943e9c08023b17ba" category="list-text">单击 * 配置 * 选项卡。</block>
  <block id="65b84854b488d42188fb5e9b8ab19107" category="list-text">从 * 存储状态 - 所需 * 下拉列表中，选择 * 联机 * 。</block>
  <block id="469ceaedcbd67ef5ffc6fb371031689c" category="list-text">单击 * 概述 * 选项卡并确认 * 存储状态 - 所需 * 和 * 存储状态 - 当前 * 的值已更新为联机。</block>
  <block id="068ed2fb70ce846a6cf68e82e60bc492" category="summary">要从非主管理节点故障中恢复，您必须完成以下任务。一个管理节点托管配置管理节点（ CMN\ ）服务，称为主管理节点。尽管可以有多个管理节点，但每个 StorageGRID 系统仅包含一个主管理节点。所有其他管理节点均为非主管理节点。</block>
  <block id="7e2ce2c3dcdde24abed451dc53bbce98" category="doc">从非主管理节点故障中恢复</block>
  <block id="8746e10b4598bd07fba5db9dacb733ce" category="paragraph">要从非主管理节点故障中恢复，您必须完成以下任务。一个管理节点托管配置管理节点（ CMN ）服务，称为主管理节点。尽管可以有多个管理节点，但每个 StorageGRID 系统仅包含一个主管理节点。所有其他管理节点均为非主管理节点。</block>
  <block id="fce812709ba9ff60eb96cc15fb9e431f" category="summary">您必须了解在存储节点断开连接时停用存储节点会发生什么情况（运行状况为未知或管理员关闭）。</block>
  <block id="36404699e9bf2bb6bd2fe50dfef708b7" category="doc">停用已断开连接的存储节点</block>
  <block id="645c57ad7f41dae75830b174004fdc42" category="paragraph">您必须了解在存储节点断开连接（运行状况为未知或管理员关闭）时停用存储节点可能会发生什么情况。</block>
  <block id="70d2f14082081ff7523bd1247d02948b" category="paragraph">停用与网格断开的存储节点时， StorageGRID 会使用其他存储节点中的数据重建已断开连接的节点上的对象数据和元数据。为此，它会在停用过程结束时自动启动数据修复作业。</block>
  <block id="4c06155dabd3468f25fbf4f62d28d8b0" category="paragraph">停用已断开连接的存储节点之前，请注意以下事项：</block>
  <block id="3353d8455d871d42a55db3681bd879f5" category="list-text">除非您确定已断开连接的节点无法联机或恢复，否则切勿停用此节点。</block>
  <block id="97bf8300005dcab713dad99e961b4b0b" category="admonition">如果您认为可以从节点恢复对象数据，请勿执行此操作步骤 。请联系技术支持以确定是否可以进行节点恢复。</block>
  <block id="7f3141bcc14b6f7be80b171872e6cd48" category="list-text">如果断开连接的存储节点包含某个对象的唯一副本，则在停用此节点时，此对象将丢失。只有当当前连接的存储节点上至少存在一个复制副本或足够多的纠删编码片段时，数据修复作业才能重建和恢复对象。</block>
  <block id="5640b7a71703688322f7ff8b2231ece5" category="list-text">停用已断开连接的存储节点时，停用操作步骤 的完成速度相对较快。但是，数据修复作业可能需要数天或数周才能运行，并且不受停用操作步骤 的监控。您必须手动监控这些作业并根据需要重新启动它们。请参见 <block ref="b3fc064844d1d5657a98b603cfb3bc03" category="inline-xref-macro-rx"></block>。</block>
  <block id="c025393b2fa7cbd45ccbc8ef81e5cf89" category="list-text">如果一次停用多个已断开连接的存储节点，则可能会发生数据丢失。如果对象数据，元数据或纠删编码片段的副本太少，则系统可能无法重建数据。</block>
  <block id="b43e4fde79c4f2d67fcc03b495a7dfd8" category="admonition">如果有多个已断开连接的存储节点无法恢复，请联系技术支持以确定最佳操作方案。</block>
  <block id="d4d742fc17d8411557665e9bb757b8a9" category="summary">按照以下步骤将管理网络或客户端网络上的接口添加到安装后的 Linux 节点中。</block>
  <block id="f67faf18d1a8bcd3d486edb3c7f12d5b" category="doc">Linux ：将管理员或客户端接口添加到现有节点</block>
  <block id="0e17499ad57178a98d002bfe96a01897" category="paragraph">如果在安装期间未在 Linux 主机上的节点配置文件中配置 admin_network_target 或 client_network_target ，请使用此操作步骤 添加接口。有关节点配置文件的详细信息，请参见适用于 Linux 操作系统的说明：</block>
  <block id="2070f5644f1949a91fe825a32fd58413" category="paragraph">您可以在托管需要新网络分配的节点的 Linux 服务器上执行此操作步骤 ，而不是在节点内部执行。此操作步骤 仅会将接口添加到节点；如果您尝试指定任何其他网络参数，则会发生验证错误。</block>
  <block id="be01d1b939304ad4ab0e28dc408664e2" category="paragraph">要提供地址信息，必须使用更改 IP 工具。请参见 <block ref="1c3dba3af66fb531319107c65afeb628" category="inline-xref-macro-rx"></block>。</block>
  <block id="08a9b476cf21b82ed5c858709400f0f3" category="list-text">登录到托管此节点的 Linux 服务器。</block>
  <block id="45b2d07a35d15eb4d92fd49fb733db10" category="list-text">编辑节点配置文件： ` /etc/storagegRid/nodes/_node-name_.conf` 。</block>
  <block id="a54d122147f87ceeed920f5b2c7fb0d0" category="admonition">请勿指定任何其他网络参数，否则将导致验证错误。</block>
  <block id="415059151d9a8aedaea6fb31ae96f501" category="list-text">为新网络目标添加一个条目。例如：</block>
  <block id="b3f12d4bf3c36f3e289e29f736957371" category="paragraph">`client_network_target = bond0.3206`</block>
  <block id="1ace6f181b3e2bbf2d8bbad6774bf543" category="list-text">可选：为 MAC 地址添加一个条目。例如：</block>
  <block id="43bafb705a5c125dfcf3ebcd4dc926e8" category="paragraph">`client_network_MAC = aa ： 57 ： 61 ： 07 ： ea ： 5c`</block>
  <block id="73bc0adb3bfe4d341ee2a532d37fb32f" category="list-text">运行 node validate 命令：</block>
  <block id="bf2b4b390e664c3267bab455a40e3a1f" category="paragraph">`sUdo StorageGRID node validate _node-name_`</block>
  <block id="e40bceea6b5cb0c4d4604f6e8305dbb1" category="list-text">解决所有验证错误。</block>
  <block id="4b14def3f0e8542e51b0677ee0867270" category="list-text">运行 node reload 命令：</block>
  <block id="856d1bfec7ec9491506c476cff450cde" category="paragraph">`sUdo StorageGRID node reload _node-name_`</block>
  <block id="cd711dbea2acdaa66b21407f5080a077" category="summary">从网格管理器重新启动网格节点会在目标节点上发出 `reboot` 命令。</block>
  <block id="1dd0ef403acbd7058e60116dd556558c" category="doc">从网格管理器重新启动网格节点</block>
  <block id="dd58bdf9565e0b5c6c91d9007e24df71" category="summary">更换存储节点后，您必须在网格管理器中选择启动恢复，以将新节点配置为故障节点的替代节点。</block>
  <block id="b4402503595c3a71b055e5861c0a3bad" category="doc">选择启动恢复以配置存储节点</block>
  <block id="8f1cb0948c7b9247b0141aca5463166d" category="list-text">您必须已部署并配置替代节点。</block>
  <block id="3d5e2f7c647d81d10d1de282cbd6e9b0" category="list-text">您必须知道擦除编码数据的任何修复作业的开始日期。</block>
  <block id="b23d2a29c320d140d5c195abfa164a63" category="list-text">您必须已确认过去 15 天内未重建此存储节点。</block>
  <block id="cf9fce0136852da117f4015a0c71bf5b" category="paragraph">如果存储节点作为容器安装在 Linux 主机上，则只有在满足以下条件之一时，才必须执行此步骤：</block>
  <block id="d5144d5525f9d6d4cf4ee384fca3c848" category="list-text">您必须使用 ` -force` 标志导入节点，或者发出 `StorageGRID node force-recovery _node-name_`</block>
  <block id="7935669de002ae22f3458d6fd4a2e62b" category="list-text">您必须执行完整节点重新安装，或者需要还原 /var/local 。</block>
  <block id="521185fcb738f0acd2a92400c0e47c65" category="list-text">在网格管理器中，选择 * 维护 * &gt; * 任务 * &gt; * 恢复 * 。</block>
  <block id="882c761a927ffd5a73672783a6f6d1a8" category="list-text">在 Pending Nodes 列表中选择要恢复的网格节点。</block>
  <block id="eea2e6f5e1c1819f627c40018810266d" category="paragraph">节点出现故障后，它们将显示在列表中，但您无法选择节点，除非节点已重新安装并准备好进行恢复。</block>
  <block id="0b1ca2f2b5a07a22c9a3c2970087f5d7" category="list-text">输入 * 配置密码短语 * 。</block>
  <block id="16859fd196095d2ffc3334fe59f083f7" category="list-text">单击 * 启动恢复 * 。</block>
  <block id="962ddc79ae58d744f3c3dc1edc480750" category="image-alt">显示维护 &gt; 恢复页面的屏幕截图</block>
  <block id="0b048e521e87ecc4d1badeb03338808e" category="list-text">在恢复网格节点表中监控恢复进度。</block>
  <block id="19fff53a1aaa92283692ba03731485c8" category="admonition">在恢复操作步骤 运行期间，您可以单击 * 重置 * 以启动新的恢复。此时将显示一个信息对话框，指示在重置操作步骤 时节点将处于不确定状态。</block>
  <block id="1838a5c438057389c0c6595ba288c49b" category="image-alt">显示重置恢复警告对话框的屏幕截图</block>
  <block id="a1ddff85317bb7f031a22ab92489b399" category="paragraph">如果要在重置操作步骤 后重试恢复，必须将节点还原到预安装状态，如下所示：</block>
  <block id="ed252b9ad81fb400d64b62d07125f330" category="list-text">* VMware * ：删除已部署的虚拟网格节点。然后，当您准备好重新启动恢复时，重新部署节点。</block>
  <block id="b16ac809bde39e8aff591969f2a5776f" category="list-text">* Linux * ：在 Linux 主机上运行此命令以重新启动节点： `StorageGRID node force-recovery _node-name_`</block>
  <block id="96890a88ec0abb782c18ca8e3535d37d" category="list-text">当存储节点达到 "`Waiting for Manual steps` " 阶段时，请转至恢复操作步骤 中的下一个任务以重新挂载和重新格式化存储卷。</block>
  <block id="70839455996e65346d42997b28df6120" category="image-alt">显示 " 正在等待手动步骤 " 阶段的屏幕截图</block>
  <block id="3dbb55db0ca2b25da0e0e085322aad64" category="inline-xref-macro">准备要重新安装的设备（仅限平台更换）</block>
  <block id="e5e6bb762492b36471e98c71a7b3050c" category="paragraph"><block ref="e5e6bb762492b36471e98c71a7b3050c" category="inline-xref-macro-rx"></block></block>
  <block id="94d9e74787318a7d4bf25178e7cbef72" category="summary">对于每个网格节点，您可以查看该网格节点上运行的 Server Manager 的当前状态和版本。您还可以获取该网格节点上运行的所有服务的当前状态。</block>
  <block id="59f8a3fb11fdeb563697e0f14e41f0ce" category="doc">查看 Server Manager 状态和版本</block>
  <block id="07a8f26e1aa50e2a8de50b93588725f5" category="list-text">查看网格节点上运行的 Server Manager 的当前状态： ` * service servermanager status*`</block>
  <block id="24988cd1452fcf42661f1d1d3a09d0e8" category="paragraph">报告网格节点上运行的 Server Manager 的当前状态（无论是否正在运行）。如果 Server Manager 的状态为 `running` ，则会列出自上次启动以来其一直运行的时间。例如：</block>
  <block id="6550b7c28d06b91d4c236f12f21749b9" category="list-text">查看在网格节点上运行的 Server Manager 的当前版本： ` * 服务服务器管理器版本 *`</block>
  <block id="d3e696b9f6d277e35f7a98b76a1fc597" category="paragraph">此时将列出当前版本。例如：</block>
  <block id="e952c49dd9ab2429a39351bfcf112e97" category="list-text">从命令 Shell ` * exit *` 中注销</block>
  <block id="356c5b7993693f2e3cb154d3600ab94e" category="summary">无论您是从系统驱动器丢失还是仅从存储卷丢失中恢复，用于恢复出现故障的 StorageGRID 设备存储节点的操作步骤 都是相同的。</block>
  <block id="d8f0123d3b41fbf547d47ba249a37b70" category="doc">恢复设备存储节点</block>
  <block id="b6009718a7a4191f3efcdaeebf7acec0" category="paragraph">您必须准备设备并重新安装软件，配置节点以重新加入网格，重新格式化存储以及还原对象数据。</block>
  <block id="820677b486441d3af8e1cbeed1ef951b" category="image-alt">StorageGRID 设备恢复概述流程图</block>
  <block id="f1514ca35d2443be6eb6ff52ba914397" category="admonition">如果多个存储节点出现故障（或脱机），请联系技术支持。请勿执行以下恢复操作步骤 。可能发生数据丢失。</block>
  <block id="fefe3fe8f164e49077934da769144c40" category="admonition">如果这是在存储节点发生故障或恢复后不到 15 天内第二个存储节点发生故障，请联系技术支持。在 15 天内在两个或多个存储节点上重建 Cassandra 可能会导致数据丢失。</block>
  <block id="c19c43635c6c27528ebbe9d8b46beb20" category="admonition">如果一个站点上的多个存储节点出现故障，则可能需要一个站点恢复操作步骤 。请联系技术支持。</block>
  <block id="6e619c7f32d5f2a9aefdb9416ff9f583" category="inline-xref-macro">技术支持如何执行站点恢复</block>
  <block id="971fc9b5dabbc38d54bbf07aee1bd9a6" category="paragraph"><block ref="971fc9b5dabbc38d54bbf07aee1bd9a6" category="inline-xref-macro-rx"></block></block>
  <block id="633e2192575a5b533e81fd3b7c38c4a2" category="admonition">如果 ILM 规则配置为仅存储一个复制副本，而该副本位于发生故障的存储卷上，则您将无法恢复对象。</block>
  <block id="09552c3cd0500915e9b2ed13f2dcf073" category="admonition">如果在恢复期间遇到服务：状态 - Cassandra （ SVST ）警报，请参见有关通过重建 Cassandra 从警报中恢复的监控和故障排除说明。重建 Cassandra 后，应清除警报。如果未清除警报，请联系技术支持。</block>
  <block id="35ca2a5416643487367fb596b829255d" category="admonition">有关硬件维护过程，例如更换控制器或重新安装 SANtricity OS 的说明，请参见存储设备的安装和维护说明。</block>
  <block id="826b73e611d7080fb77e78dd689edd6e" category="summary">从源主机导出节点后，您可以在目标 Linux 主机上导入并验证此节点。验证可确认节点可以访问与源主机上相同的块存储和网络接口设备。</block>
  <block id="5969f8a2e31e1e459797bf1d97999a5b" category="doc">Linux ：目标主机上的导入节点</block>
  <block id="8017d6298234285e67a3bef1cae6f7e0" category="paragraph">在目标 Linux 主机上运行以下命令。</block>
  <block id="6b327ac456d40ff9bf1e7ad3e0542894" category="list-text">在目标主机上导入节点。</block>
  <block id="ddc14d9b3e4e1b7127cad35ed431937d" category="paragraph">`已从 /dev/mapper/sgws-DC1-s3-var-local 导入节点 DC1-S3 。`</block>
  <block id="19ddd2346c29c829e3e5b6cd042fe0f2" category="paragraph">`您应运行 StorageGRID node validate DC1-s3"`</block>
  <block id="08925bee6c66ac19169032c75d9f34c7" category="list-text">验证新主机上的节点配置。</block>
  <block id="b7d5db95a2db4f4630f586599c3ddc61" category="paragraph">` + 确认节点 DC1-S3 存在 ... 已通过 +`</block>
  <block id="127cfd744ca2db345f82ceef7380b0a6" category="paragraph">` + 检查节点 DC1-S3 的配置文件 /etc/storaggrid/nodes/DC1-s3.conf ... 已通过 +`</block>
  <block id="1a05365c421a42bb2c8eb1a75c04e8bb" category="paragraph">` + 检查唯一值是否重复 ... 已通过 +`</block>
  <block id="c629667a03739bb1822ba51ac05852b8" category="list-text">如果发生任何验证错误，请在启动迁移的节点之前解决这些错误。</block>
  <block id="3c214dac1c86d1889dbcd12ed9abc57c" category="paragraph">有关故障排除信息，请参见适用于 Linux 操作系统的 StorageGRID 安装说明。</block>
  <block id="3dc6638cd486424a6c700fd529e70cd3" category="summary">要从网关节点故障中恢复，您必须按确切顺序完成一系列任务。</block>
  <block id="18f75f503059c8381d8a91d4b1bc63b7" category="doc">从网关节点故障中恢复</block>
  <block id="e07542b8e9d98cb595d0c27db0dc355b" category="image-alt">网关节点恢复概述流程图</block>
  <block id="b249ddb8878a398aa07d36c864620f09" category="summary">应用修补程序时，系统会对 StorageGRID 系统中的节点应用累积系列软件更新。</block>
  <block id="471f9d42f969f02f8b915876fbf112b1" category="doc">应用修补程序的注意事项</block>
  <block id="0b2add5f70bd381dbb9650b56c832cf2" category="paragraph">当另一个维护操作步骤 正在运行时，您无法应用 StorageGRID 修补程序。例如，在停用，扩展或恢复操作步骤 正在运行时，您无法应用修补程序。</block>
  <block id="17a1208b5c14427a635db43814934119" category="admonition">如果节点或站点停用操作步骤 已暂停，您可以安全地应用修补程序。此外，您还可以在 StorageGRID 升级操作步骤 的最后阶段应用修补程序。有关详细信息，请参见有关升级 StorageGRID 软件的说明。</block>
  <block id="6e7005dc57e929c5fba3048de34b9e3e" category="paragraph">在网格管理器中上传此修补程序后，此修补程序将自动应用于主管理节点。然后，您可以批准将此修补程序应用于 StorageGRID 系统中的其余节点。</block>
  <block id="c5d6cce6b2a402671eedee153876acad" category="paragraph">如果某个修补程序无法应用到一个或多个节点，则失败的原因将显示在该修补程序进度表的详细信息列中。您必须解决导致失败的任何问题，然后重试整个过程。先前已成功应用此修补程序的节点将在后续应用程序中跳过。您可以根据需要安全地重试此修复程序多次，直到所有节点均已更新为止。要使应用程序完成，必须在所有网格节点上成功安装此修补程序。</block>
  <block id="47624be4836ff49e20e22c27ce7eb530" category="paragraph">虽然网格节点会使用新的修补程序版本进行更新，但修补程序中的实际更改可能仅影响特定类型节点上的特定服务。例如，某个修补程序可能只会影响存储节点上的 LDR 服务。</block>
  <block id="ac34d242c6695a99ac9afa9f8c4ede5d" category="section-title">如何应用修补程序进行恢复和扩展</block>
  <block id="377c3043136c80147172433d8ecbb8d7" category="paragraph">在将修补程序应用到网格后，主管理节点会自动为通过恢复操作还原或添加到扩展中的任何节点安装相同的修补程序版本。</block>
  <block id="83d6e139ee059e926c0ee6866f544fa6" category="paragraph">但是，如果需要恢复主管理节点，则必须手动安装正确的 StorageGRID 版本，然后应用此修补程序。主管理节点的最终 StorageGRID 版本必须与网格中其他节点的版本匹配。</block>
  <block id="b6b5d1e37c11ede53baa7caa382032a1" category="paragraph">以下示例说明了如何在恢复主管理节点时应用修补程序：</block>
  <block id="9b65c5779c6c086b856fe1d21053ea19" category="list-text">假设网格运行的是具有最新修补程序的 StorageGRID 11._A.B_ 版本。"`网格版本` " 为 11._A.B.y_ 。</block>
  <block id="bdcd7235738d7f072519436088119a51" category="list-text">主管理节点出现故障。</block>
  <block id="57469b9873b415f777dce39746aaa01f" category="list-text">您可以使用 StorageGRID 11._A.B_ 重新部署主管理节点，并执行恢复操作步骤 。</block>
  <block id="b0a8b552d99052613556a31b985b205b" category="admonition">根据需要，要与网格版本匹配，您可以在部署节点时使用次要版本；您无需先部署主要版本。</block>
  <block id="ee560a5ab29c3a382429910f8920533d" category="list-text">然后，将修补程序 11._A.B.y_ 应用于主管理节点。</block>
  <block id="b279183d89d978b4eb254fadcc4d4aa0" category="inline-xref-macro">配置替代主管理节点</block>
  <block id="f91d471c48102f7747962ff2ecd70700" category="paragraph"><block ref="f91d471c48102f7747962ff2ecd70700" category="inline-xref-macro-rx"></block></block>
  <block id="3e97a1ce1f51c5c38c616aabe49547e0" category="summary">您可以随时查看网格节点上运行的所有服务的当前状态。</block>
  <block id="a0e10f1abc72430be3b6bcd0ae0aada1" category="doc">查看所有服务的当前状态</block>
  <block id="1471ae182604e00424d5c569b65291b6" category="paragraph">例如，主管理节点的输出将 AMS ， CMN 和 NMS 服务的当前状态显示为正在运行。如果服务状态发生变化，此输出将立即更新。</block>
  <block id="957eeaec7c039a3c5a44f9d1a4ce5314" category="image-alt">storage-grid 命令输出的屏幕截图</block>
  <block id="d30e530d5dc3cfac788764af67549f82" category="list-text">返回命令行，按 * 。 Ctrl+* 。 c* 。</block>
  <block id="7841de1f7cd6281e5a622e9ac1f650b6" category="list-text">也可以查看网格节点上运行的所有服务的静态报告： ` /usr/local/servermanager/reader.rb`</block>
  <block id="6b4076021811e44b49f5943de8d51ac7" category="paragraph">此报告包含与持续更新报告相同的信息，但如果服务状态发生变化，则不会更新此报告。</block>
  <block id="5ff4294e25c5b347f2bbd5af0c272d8c" category="summary">如果您能够从出现故障的管理节点复制审核日志，则应保留这些日志以维护网格中的系统活动和使用情况记录。您可以在恢复的非主管理节点启动并运行后将保留的审核日志还原到该节点。</block>
  <block id="7c158debc562a486d42e6875285e2973" category="doc">从出现故障的非主管理节点复制审核日志</block>
  <block id="a09526475a43810d24c6935690d4d055" category="paragraph">如果您能够从出现故障的管理节点复制审核日志，则应保留这些日志以维护网格中的系统活动和使用情况记录。您可以在恢复的非主管理节点启动并运行后将保留的审核日志还原到该节点。</block>
  <block id="24b39b4edd4694c5722202ebe61b50c3" category="paragraph">此操作步骤 会将审核日志文件从故障管理节点复制到单独网格节点上的临时位置。然后，可以将这些保留的审核日志复制到替代管理节点。审核日志不会自动复制到新的管理节点。</block>
  <block id="0e35fe49cb4105922cb5de21fc99c780" category="paragraph">根据故障类型，您可能无法从发生故障的管理节点复制审核日志。如果部署只有一个管理节点，则恢复的管理节点将开始在新的空文件中将事件记录到审核日志中，并且先前记录的数据将丢失。如果部署包含多个管理节点，则可以从另一个管理节点恢复审核日志。</block>
  <block id="c23e6e03944c9159945c41b9feeef0cb" category="admonition">如果现在无法在出现故障的管理节点上访问审核日志，您可以稍后访问这些日志，例如在主机恢复之后。</block>
  <block id="b8472fb7ceac08179436e97b9630cdb9" category="list-text">如果可能，请登录到出现故障的管理节点。否则，请登录到主管理节点或其他管理节点（如果有）。</block>
  <block id="8fea5a07a8763cc000c40d1aecfd4342" category="list-text">停止 AMS 服务以防止其创建新的日志文件：``sservice AMS stop``</block>
  <block id="8acc534ecf057b9ef50d01827f7d07cb" category="list-text">重命名 audit.log 文件，使其在复制到已恢复的管理节点时不会覆盖现有文件。</block>
  <block id="32fb5c0ed557825533d31726367b6fdf" category="paragraph">将 audit.log 重命名为唯一编号的文件名，例如 yyyy-mm-dd.txt.1 。例如，您可以将 audit.log 文件重命名为 2015-10-25.txt 。 1``cd /var/local/audit/export```ls -l``mv audit.log 2015-10-25.1`</block>
  <block id="d5ec7f781f03902f72576ed5d4973025" category="list-text">重新启动 AMS 服务： `sservice AMS start`</block>
  <block id="853bc507bbce67b5040951371232fa27" category="list-text">创建目录以将所有审核日志文件复制到单独网格节点上的临时位置： `ssh admin@grid_node_ip mkdir -p /var/local/tmp/saved-audit-logs`</block>
  <block id="9ad28f3516a72f39a887e380c0fad38d" category="paragraph">出现提示时，输入 admin 的密码。</block>
  <block id="bd3fe039ca78df832a4e8c6f49c0fe76" category="list-text">复制所有审核日志文件： `scp -p * admin@grid_node_ip ： /var/local/tmp/saved-audit-logs`</block>
  <block id="a70b51cee89f3c4c275b82c64477a594" category="list-text">以 root 用户身份注销： `exit`</block>
  <block id="34fa151ea68d79559bee2cc326a99c9c" category="summary">您可能需要启动 Server Manager ，该操作也会启动网格节点上的所有服务。</block>
  <block id="92f44b9903e578501edc6eadd80a2e90" category="doc">启动服务器管理器和所有服务</block>
  <block id="79a97afb759146f7e3a8b32a4183f90d" category="paragraph">如果在已运行 Server Manager 的网格节点上启动 Server Manager ，则会重新启动 Server Manager 以及网格节点上的所有服务。</block>
  <block id="1eb735df2c52efbe8ba5b7c3bee101e8" category="list-text">启动服务器管理器： `service servermanager start`</block>
  <block id="5c6de4bd648c41ca67b38b81da275504" category="summary">通过恢复包文件，您可以在发生故障时还原 StorageGRID 系统。</block>
  <block id="a95b03a6ec830ef6fea1e9bc1627c4cc" category="doc">下载恢复包</block>
  <block id="b834c0020f1ee6fdaa9f72f5d7fdb01f" category="paragraph">在对 StorageGRID 系统进行网格拓扑更改之前或升级软件之前，请下载当前的恢复软件包文件。然后，在更改网格拓扑或升级软件后下载恢复包的新副本。</block>
  <block id="0c07b3e9b5436d1e32fa731764d80db2" category="list-text">选择 * 维护 * &gt; * 系统 * &gt; * 恢复软件包 * 。</block>
  <block id="a5db70bcce3e260489690257a8521318" category="list-text">确认它包含 GPT-backup 目录和内部 ` .zip` 文件。</block>
  <block id="c361f511f5f1035b21c2cd36f753f307" category="summary">在执行维护过程之前，您必须确保具有必要的材料来恢复出现故障的网格节点。</block>
  <block id="9c3b7d5bcd01186770decdda1ea8c0c0" category="doc">收集网格节点恢复所需的材料</block>
  <block id="93afdb7c38d12a0053967682bfc101ba" category="inline-xref">下载 StorageGRID 安装文件</block>
  <block id="5a686303da955adc253fc23e79ad3ec3" category="paragraph">如果需要恢复网格节点，则需要 <block ref="bc687a38404c72202f1c8caffc0289a2" category="inline-xref-macro-rx"></block> 适用于您的平台。</block>
  <block id="5f94d5d3f1c1b5bdadc3f54a3ae07a6d" category="paragraph">* 注意： * 如果要恢复存储节点上的故障存储卷，则不需要下载文件。</block>
  <block id="20bf485ca65dc0135d090ac078808991" category="paragraph">服务笔记本电脑必须具有以下组件：</block>
  <block id="1d5121bdd34d178aa980cdfc7dc610fb" category="paragraph">恢复软件包 ` .zip` 文件</block>
  <block id="1546f2bdea604e630cddb120bc008aad" category="paragraph">获取最新恢复软件包 ` .zip` 文件的副本： `sGWS-recovery-package-_id-revision_.zip`</block>
  <block id="e212f53f8a06bb914d304dba6d7a625f" category="paragraph">每次修改系统时，都会更新 ` .zip` 文件的内容。在进行此类更改后，系统会指示您将最新版本的恢复软件包存储在安全位置。使用最新副本从网格故障中恢复。</block>
  <block id="600fb6ad4ec4e7fa6ca8bca9ead53888" category="paragraph">如果主管理节点运行正常，您可以从网格管理器下载恢复软件包。选择 * 维护 * &gt; * 系统 * &gt; * 恢复软件包 * 。</block>
  <block id="2877273fdcbf806b2b1d2255eb104474" category="paragraph">如果您无法访问网格管理器，则可以在包含此 ADC 服务的某些存储节点上找到恢复软件包的加密副本。在每个存储节点上，检查恢复软件包的位置： ` /var/local/install/sgws-recovery-package-_grid_-_revision_.zip 。 gpg` 使用修订版号最高的恢复软件包。</block>
  <block id="54af710e8ee87c373430760c4b8ffa92" category="paragraph">请访问平台供应商的网站以获取相关文档。</block>
  <block id="f0cde94313244ea1f6a330601f7bcbec" category="paragraph">有关您的平台当前支持的版本，请参见<block ref="0aaf04254af18646f3d246cd4a4b417d" category="inline-link-rx"></block>。</block>
  <block id="7ca33e462706419a7aa9a99cbca5b1cf" category="section-title">下载并提取 StorageGRID 安装文件</block>
  <block id="f86db93e483d01e315b58210805648ba" category="inline-xref-macro">恢复存储节点上的故障存储卷</block>
  <block id="9aac6315721263d460793c181d325c8f" category="paragraph">下载软件并提取文件，除非您这样做 <block ref="9b3170d2f1af55f7943dd2fe7882e716" category="inline-xref-macro-rx"></block>。</block>
  <block id="b6ae54a82d8aaec9e34003b21c17b8c1" category="paragraph">您必须使用网格上当前运行的 StorageGRID 版本。</block>
  <block id="9605607a2791e6e259689de654b219b1" category="list-text">确定当前安装的软件版本。从网格管理器顶部，选择帮助图标并选择 * 关于 * 。</block>
  <block id="9f18cd1cce9efe51741528251905ebee" category="list-text">转至<block ref="8a5c9b2a6a5a98e6441e4a6b50e4bf86" category="inline-link-rx"></block>。</block>
  <block id="cb145936dc0677da9c0c7ed6a7d18cc1" category="paragraph">StorageGRID 软件版本采用以下格式： `11.x.y` 。</block>
  <block id="f27f6159f5307fc3cb87f139407ee697" category="paragraph">如果您运行的是 Windows ，请使用 ` .zip` 文件。</block>
  <block id="d2ecfb196267dcfe5323f54e69afe6d7" category="list-text">根据您的平台以及需要恢复的网格节点，按照适用于您的平台的步骤选择所需的文件。</block>
  <block id="572068a9495e5e24a32042d05d6cb164" category="inline-xref-macro">Red Hat Enterprise Linux 或 CentOS 系统</block>
  <block id="8e3303ee8a32a38d1543d2ec7454b5eb" category="list-text">如果要恢复 <block ref="d36cc2be3229b3d8635f8d7876dd112b" category="inline-xref-macro-rx"></block>下，选择相应的文件。</block>
  <block id="d7b0aea2d7cdc0d27616b7c9dbe14fd0" category="inline-xref-macro">Ubuntu 或 Debian 系统</block>
  <block id="57276fffcf5bb574788e91c45d99710a" category="list-text">如果要恢复 <block ref="bc32c74247b9ea2a4caf10755fe5fa6e" category="inline-xref-macro-rx"></block>下，选择相应的文件。</block>
  <block id="3b3fd2b2f4a15a992486079791a01bb4" category="inline-xref-macro">VMware 系统</block>
  <block id="31c5de754e4db367acafc77f7ed72da1" category="list-text">如果要恢复 <block ref="9ad4627b63b68a90482aaeb7cacf86ea" category="inline-xref-macro-rx"></block>下，选择相应的文件。</block>
  <block id="5a839a606c61e79854b8b8792eea9161" category="list-text">如果要恢复基于 StorageGRID 设备的系统，请选择相应的文件。</block>
  <block id="a506a85cdfd720c34b2d388eff65fe2f" category="summary">在系统驱动器完好无损的存储节点上恢复存储卷后，您可以还原存储卷发生故障时丢失的对象数据。</block>
  <block id="5e9c33035ab0c61537e735e02173dc58" category="doc">将对象数据还原到系统驱动器完好无损的存储卷</block>
  <block id="212d417288f4f1bdd56cf4e875058e43" category="paragraph">根据您是使用 * 复制数据 * ， * 纠删编码（ EC ）数据 * 还是同时使用这两者来监控修复作业的状态。</block>
  <block id="0cf1dbe8f4f01a7b82c12fe031d99a0a" category="summary">在恢复包含故障存储卷的存储节点时，您必须确定并卸载故障卷。您必须验证在恢复操作步骤 中仅重新格式化故障存储卷。</block>
  <block id="8d4092ddb597d5fda69b65a57bc713f8" category="doc">确定并卸载故障存储卷</block>
  <block id="8d16a54da6ab2e6b4a1a0a2e73d20e8e" category="paragraph">您应尽快恢复发生故障的存储卷。</block>
  <block id="3ceba000da13c75098d1516f21220c5f" category="paragraph">恢复过程的第一步是检测已断开连接，需要卸载或存在 I/O 错误的卷。如果故障卷仍然连接，但文件系统随机损坏，则系统可能无法检测到磁盘中未使用或未分配的部分有任何损坏。</block>
  <block id="bcf17a89bd054b319a227b09d117133c" category="admonition">您必须先完成此操作步骤 ，然后再执行手动步骤来恢复卷，例如添加或重新连接磁盘，停止节点，启动节点或重新启动。否则，在运行 `reformat_storage_block_devices.rb` 脚本时，可能会遇到文件系统错误，从而导致脚本挂起或失败。</block>
  <block id="c7f50e7117d1009b37805fc9a4af8800" category="admonition">在运行 `reboot` 命令之前，请修复硬件并正确连接磁盘。</block>
  <block id="f5878dd5d6f8bdb9b1a710b6c9439923" category="admonition">请仔细识别故障存储卷。您将使用此信息验证哪些卷必须重新格式化。重新格式化卷后，卷上的数据将无法恢复。</block>
  <block id="e54b361aa0e8bfe22b27603dceed5531" category="paragraph">要正确恢复故障存储卷，您需要知道故障存储卷的设备名称及其卷 ID 。</block>
  <block id="4d4232a497f85acaab30bde4bad2ea02" category="paragraph">在安装时，系统会为每个存储设备分配一个文件系统通用唯一标识符（ UUID ），并使用分配的文件系统 UUID 挂载到存储节点上的一个 rangedb 目录。文件系统 UUID 和 rangedb 目录将在 ` /etc/fstab` 文件中列出。网格管理器中将显示设备名称，范围 b 目录以及已挂载卷的大小。</block>
  <block id="20b0be6ec2edeaebc08bae2b7dc4ee31" category="paragraph">在以下示例中，设备 ` /dev/sdc` 的卷大小为 4 TB ，使用 /`etc/` 文件中的设备名称 ` /dev/disk/by-uid/822b0547-3b2E-472b-ad5e-e1cf1809faba` 挂载到 ` /var/local/rangedb/0` ：</block>
  <block id="f87fd9ca78eada350db6e152f7ce9488" category="image-alt">卷大小示例</block>
  <block id="f99fd68037a202889a8013ed89ff4556" category="list-text">完成以下步骤以记录故障存储卷及其设备名称：</block>
  <block id="5b4e130ebff55621086cafc583781f5e" category="list-text">选择 * 站点 * &gt; * 故障存储节点 * &gt; * LDR* &gt; * 存储 * &gt; * 概述 * &gt; * 主 * ，然后查找包含警报的对象存储。</block>
  <block id="12d2009916faa41ae0d21834512791b2" category="image-alt">对象存储部分</block>
  <block id="55d5960eab38cd9793e1c39d9077a978" category="list-text">选择 * 站点 * &gt; * 故障存储节点 * &gt; * SSM* &gt; * 资源 * &gt; * 概述 * &gt; * 主 * 。确定上一步中确定的每个故障存储卷的挂载点和卷大小。</block>
  <block id="9f2dbae5035e039123dd36ef05c993f3" category="paragraph">对象存储以十六进制表示法进行编号。例如， 0000 是第一个卷， 000f 是第 16 个卷。在此示例中， ID 为 0000 的对象存储对应于设备名称为 sdc 且大小为 107 GB 的 ` /var/local/rangedb/0` 。</block>
  <block id="fac3c880e2fb15083c4c47f658d1998a" category="image-alt">显示对象存储和挂载点的示例</block>
  <block id="f0a7eba6226cd20508cc18afd3374cac" category="list-text">登录到发生故障的存储节点：</block>
  <block id="257d0010eee686a3c05f7bb7ac57f001" category="list-text">运行以下脚本以停止存储服务并卸载故障存储卷：</block>
  <block id="7fdef5fa34ed9e7a89ab560dcddc0090" category="paragraph">`sn-ununmount 卷 object_store_ID`</block>
  <block id="13f5a90075d9a73773c501f532ba43f1" category="paragraph">`object_store_ID` 是故障存储卷的 ID 。例如，在命令中为 ID 为 0000 的对象存储指定 `0` 。</block>
  <block id="d0ed92ef85956e8690be3951c42ca3ae" category="list-text">如果出现提示，请按 * 。 * 停止存储节点上的存储服务。</block>
  <block id="7131305185571f98fb9c2000366b8863" category="admonition">如果存储服务已停止，则不会提示您。仅对卷 0 停止 Cassandra 服务。</block>
  <block id="a07d2ced75dc30726d7df6eb485de534" category="image-alt">卸载故障存储卷</block>
  <block id="45c7e00686b5097e1dc8d2beda48f99a" category="paragraph">几秒钟后，存储服务将停止，卷将卸载。此时将显示消息，指示此过程的每个步骤。最后一条消息指示卷已卸载。</block>
  <block id="f5a4449f43dca44031ad397bffcab7d4" category="summary">管理节点的恢复过程取决于它是主管理节点还是非主管理节点。</block>
  <block id="dfa6559963cca77f2f64228121d1b49e" category="doc">从管理节点故障中恢复</block>
  <block id="6b7fda03f3c20af7128690d6707821c3" category="paragraph">恢复主管理节点或非主管理节点的高级步骤相同，但具体步骤有所不同。</block>
  <block id="ecf3658f6b78f185db259dd4d6fe9bab" category="image-alt">主管理节点或非主管理节点的恢复概述</block>
  <block id="72c30dca6f5c11a00e025f07995d4dd9" category="paragraph">对于要恢复的管理节点，请始终遵循正确的恢复操作步骤 。这些过程从较高的层面来看是相同的，但细节却有所不同。</block>
  <block id="6ef697f11922be2e4de0971f7d70997f" category="list-title">选项</block>
  <block id="ff14b7505d74e06d0a1e5fc8b470f23d" category="inline-xref-macro">从主管理节点故障中恢复</block>
  <block id="264659c7becb47f96af0e4d23bbcd019" category="list-text"><block ref="264659c7becb47f96af0e4d23bbcd019" category="inline-xref-macro-rx"></block></block>
  <block id="2c98801320f7c1dc4109217cab053c19" category="list-text"><block ref="2c98801320f7c1dc4109217cab053c19" category="inline-xref-macro-rx"></block></block>
  <block id="a73fa57c2759d6aec6041aa49d800120" category="summary">系统会检查每个已恢复的节点是否映射到有效的块设备专用文件或块设备专用文件的有效软链接。如果 StorageGRID 在 ` /etc/storaggrid/nodes/_node-name_.conf` 文件中发现映射无效，则会显示缺少块设备错误。</block>
  <block id="006373aa30767efb80e792534e9b2b50" category="doc">修复缺少的块设备错误</block>
  <block id="3619c86b5594743e10172e7a6eae6cb2" category="paragraph">如果您发现与此模式匹配的错误：</block>
  <block id="db2497706fb53e7c5c313d68687aa516" category="paragraph">`正在检查节点 _node-name_ 的配置文件 /etc/storaggrid/nodes/_node-name_.conf ...` `错误： _node-name_ ： block_device_purpose = _path-name_` ` _node-name_ ： _path-name_ 不存在`</block>
  <block id="e022990e8fc73fa4553d642a2aa2c691" category="paragraph">这意味着， ` /etc/storagegRid/nodes/_node-name_.conf` 会将 _node-name_ 用于目的的块设备映射到 Linux 文件系统中的给定路径名，但该位置没有有效的块设备专用文件或指向块设备专用文件的软链接。</block>
  <block id="3ebb958c040f9802322dafd463f9e28c" category="inline-xref-macro">部署新的 Linux 主机</block>
  <block id="66e971680fc43799e022da699663cd74" category="paragraph">确认您已完成中的步骤 <block ref="0c440cf3c3d37a0fc63d8184520691c3" category="inline-xref-macro-rx"></block>。对所有块设备使用与原始主机相同的永久性设备名称。</block>
  <block id="06c87885d777b5b55ae56bdbf8f02754" category="paragraph">如果无法还原或重新创建缺少的块设备专用文件，您可以分配一个具有适当大小和存储类别的新块设备，并编辑节点配置文件以更改 block_device_purpose 的值以指向新的块设备专用文件。</block>
  <block id="f1b5b85449d59bf115e7ad7dc5de2e5f" category="paragraph">从适用于您的 Linux 操作系统的安装说明的 `S存储要求` 一节中的表中确定适当的大小和存储类别。在继续更换块设备之前，请查看 "`配置主机存储` " 中的建议。</block>
  <block id="2b2632c9779fbeee596a4b557ce21d35" category="admonition">如果您必须为以 `block_device_` 开头的任何配置文件变量提供一个新的块存储设备，因为故障主机丢失了原始块设备，请在尝试执行进一步的恢复过程之前确保新块设备未格式化。如果您使用的是共享存储并已创建新卷，则新块设备将取消格式化。如果不确定，请对任何新的块存储设备特殊文件运行以下命令。</block>
  <block id="8b33a6fabc9dc64d006c6243d17ccb18" category="paragraph">小心</block>
  <block id="80e22d948e781f4dd7ce7584a24163cd" category="paragraph">仅对新块存储设备运行以下命令。如果您认为块存储仍包含要恢复的节点的有效数据，请勿运行此命令，因为设备上的任何数据都将丢失。</block>
  <block id="f2683855ad75af4ee03e9cb8b19e3362" category="summary">在使用站点停用操作步骤 删除站点之前，您必须查看注意事项。</block>
  <block id="bf9c4de7bb77600ca4dd2ac97bbd6374" category="doc">删除站点的注意事项</block>
  <block id="f94f97a642e6b81154025fc99dbbeaf6" category="section-title">停用站点时会发生什么情况</block>
  <block id="402c0c561161d2e9f5a38f3cf433eb72" category="paragraph">停用站点时， StorageGRID 会从 StorageGRID 系统中永久删除站点上的所有节点以及站点本身。</block>
  <block id="c319bdff0ade2d5b192e8ee3fb3586bf" category="paragraph">站点停用操作步骤 完成后：</block>
  <block id="1d05ea4e3d77668d659f96703743f80c" category="list-text">您不能再使用 StorageGRID 查看或访问站点或站点上的任何节点。</block>
  <block id="84b8fcb695562b85732ccab09d700ee0" category="list-text">您不能再使用引用此站点的任何存储池或擦除编码配置文件。当 StorageGRID 停用站点时，它会自动删除这些存储池并停用这些擦除编码配置文件。</block>
  <block id="928b7063972c8fe2c10084b61562cefb" category="section-title">已连接站点与已断开站点停用过程之间的差异</block>
  <block id="01beb60c541232ccfb8031bf02e04a92" category="paragraph">您可以使用站点停用操作步骤 删除所有节点均已连接到 StorageGRID 的站点（称为已连接站点停用），或者删除所有节点均已与 StorageGRID 断开连接的站点（称为已断开连接的站点停用）。开始之前，您必须了解这些过程之间的差异。</block>
  <block id="2a17cfd91939ccdd200e29193423eaed" category="inline-image-macro">图标警报灰色已管理员关闭</block>
  <block id="34995ba873da348076d20c026ece45c2" category="inline-image-macro">图标警报蓝色未知</block>
  <block id="ed440c7cd1928d0f094638fe2c746980" category="admonition">如果站点包含混合的 Connected （<block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block>）和已断开连接的节点（<block ref="f3266c02d99c67a6049b4120307bbe26" category="inline-image-macro-rx" type="image"></block> 或 <block ref="a92fabbc4ee2a5d52499f401dd4d194f" category="inline-image-macro-rx" type="image"></block>），您必须使所有脱机节点重新联机。</block>
  <block id="932ffa578abb5ede01f1c351fdfb06f6" category="list-text">通过已连接站点停用，您可以从 StorageGRID 系统中删除操作站点。例如，您可以执行已连接站点停用以删除正常运行但不再需要的站点。</block>
  <block id="8058fa9455be3be7d81580540e566fee" category="list-text">当 StorageGRID 删除已连接站点时，它会使用 ILM 管理该站点上的对象数据。在开始停用已连接站点之前，必须先从所有 ILM 规则中删除此站点并激活新的 ILM 策略。迁移对象数据的 ILM 过程和删除站点的内部过程可以同时进行，但最佳实践是，在开始实际停用操作步骤 之前，允许完成 ILM 步骤。</block>
  <block id="b07329a78ea8d33334aeba14e3b2ce79" category="list-text">断开连接的站点停用允许您从 StorageGRID 系统中删除故障站点。例如，您可以执行已断开连接的站点停用，以删除已被火灾或洪水破坏的站点。</block>
  <block id="238f2e8305d3759abfbbf27f36dbed58" category="paragraph">当 StorageGRID 删除已断开连接的站点时，它会将所有节点视为不可恢复的，并且不会尝试保留数据。但是，在开始执行已断开连接的站点停用之前，必须先从所有 ILM 规则中删除此站点并激活新的 ILM 策略。</block>
  <block id="627e292ff93e47bca4d1ef1f4020f4f0" category="admonition">在执行已断开连接的站点停用操作步骤 之前，您必须联系您的 NetApp 客户代表。在取消配置站点向导中启用所有步骤之前， NetApp 将查看您的要求。如果您认为可以恢复站点或从站点恢复对象数据，则不应尝试执行已断开连接的站点停用。</block>
  <block id="1e720d51e27fb4bb6d55f5788feaf39f" category="section-title">删除已连接或已断开连接的站点的一般要求</block>
  <block id="9f1bee4dde62315dfd5287285ef187fb" category="paragraph">在删除已连接或已断开连接的站点之前，您必须了解以下要求：</block>
  <block id="83c8914b741b651c14b384fd7291136b" category="list-text">您不能停用包含主管理节点的站点。</block>
  <block id="1621ee94ab1e0d0c81e05c2e68216250" category="list-text">您不能停用包含归档节点的站点。</block>
  <block id="413b36c1aaa31c1730eceb84da65d004" category="list-text">如果任何节点的接口属于高可用性（ HA ）组，则无法停用站点。您必须编辑 HA 组以删除节点的接口或删除整个 HA 组。</block>
  <block id="3b20234096fa8390704778f3daec4132" category="list-text">如果站点包含已连接（<block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block>）并断开连接（<block ref="a92fabbc4ee2a5d52499f401dd4d194f" category="inline-image-macro-rx" type="image"></block> 或 <block ref="f3266c02d99c67a6049b4120307bbe26" category="inline-image-macro-rx" type="image"></block>）节点。</block>
  <block id="4e2d0bb089c39fe0c6b961343eedce20" category="list-text">如果任何其他站点上的任何节点已断开连接（<block ref="a92fabbc4ee2a5d52499f401dd4d194f" category="inline-image-macro-rx" type="image"></block> 或 <block ref="f3266c02d99c67a6049b4120307bbe26" category="inline-image-macro-rx" type="image"></block>）。</block>
  <block id="e16d3e633479028d346705a2f0e067c2" category="list-text">如果正在执行 EC-node-repair 操作，则无法启动站点停用操作步骤 。请参见 <block ref="b3fc064844d1d5657a98b603cfb3bc03" category="inline-xref-macro-rx"></block> 跟踪纠删编码数据的修复情况。</block>
  <block id="b9c9d93335548a13bfef010e7ea13dec" category="list-text">站点停用操作步骤 运行时：</block>
  <block id="00283049618ddeb3f47201c82308321e" category="list-text">您不能创建引用要停用的站点的 ILM 规则。您也不能编辑现有 ILM 规则来引用站点。</block>
  <block id="3f0531123343f3cb682df6606ad57881" category="list-text">您不能执行其他维护过程，例如扩展或升级。</block>
  <block id="3b36c4980b58c28f9f4c46d60062a1d8" category="inline-xref-macro">在删除存储节点时暂停操作步骤</block>
  <block id="341073b93e05e821f37dce27981c26df" category="admonition">如果您需要在已连接站点停用期间执行另一个维护操作步骤 ，则可以 <block ref="9556598888f81b3d83b1845ab60cedbb" category="inline-xref-macro-rx"></block>。只有在达到 ILM 评估或纠删编码的数据停用阶段时， * 暂停 * 按钮才会启用；但是， ILM 评估（数据迁移）将继续在后台运行。第二个维护操作步骤 完成后，您可以恢复停用。</block>
  <block id="81b5150e61bd7a855ecae588f5c4f162" category="list-text">如果您需要在启动站点停用操作步骤 后恢复任何节点，必须联系支持部门。</block>
  <block id="07a8ff82bfcc8d096b8ebbdd0ec878c1" category="list-text">您不能一次停用多个站点。</block>
  <block id="d852f9deb37fb7054862c13c0f0cd25e" category="list-text">如果站点包含一个或多个管理节点，并且为 StorageGRID 系统启用了单点登录（ Single Sign-On ， SSO ），则必须从 Active Directory 联合身份验证服务（ Active Directory Federation Services ， AD FS ）中删除此站点的所有依赖方信任。</block>
  <block id="2d37a53427d7ea38ea2be4466a2f8dbf" category="section-title">信息生命周期管理（ ILM ）的要求</block>
  <block id="1778bf0e764b509505581b8f395f2246" category="paragraph">在删除站点时，您必须更新 ILM 配置。" 取消配置站点 " 向导将指导您完成许多前提条件步骤，以确保满足以下要求：</block>
  <block id="ff629d0de9eba9f62d8a0c7053dc21dd" category="list-text">此站点不是由活动 ILM 策略引用的。如果是，则必须使用新的 ILM 规则创建并激活新的 ILM 策略。</block>
  <block id="a3c6e627e2562a5247681eb8984c89f4" category="list-text">不存在建议的 ILM 策略。如果您有建议的策略，则必须将其删除。</block>
  <block id="329504f92d083f98aa9b2ad3ca61d613" category="list-text">任何 ILM 规则都不引用站点，即使活动策略或建议策略中未使用这些规则也是如此。您必须删除或编辑引用此站点的所有规则。</block>
  <block id="898231934f69952ac77506675853837a" category="paragraph">当 StorageGRID 停用站点时，它将自动停用引用该站点的任何未使用的擦除编码配置文件，并自动删除引用该站点的任何未使用的存储池。系统默认的所有存储节点存储池将被删除，因为它会使用所有站点。</block>
  <block id="96c1d95b88f6e51ee1427a98d0a6aba2" category="admonition">在删除站点之前，您可能需要创建新的 ILM 规则并激活新的 ILM 策略。这些说明假定您已充分了解 ILM 的工作原理，并且熟悉创建存储池，擦除编码配置文件， ILM 规则以及模拟和激活 ILM 策略。请参见有关通过信息生命周期管理来管理对象的说明。</block>
  <block id="6f34572691125e2b914c0e2310293bc1" category="section-title">已连接站点上的对象数据注意事项</block>
  <block id="62c5b8a477d06e5419700a86b258ca19" category="paragraph">如果要执行已连接站点停用，则必须在创建新的 ILM 规则和新的 ILM 策略时确定如何处理站点上的现有对象数据。您可以执行以下任一操作，也可以同时执行这两项操作：</block>
  <block id="465918a7da87f5924cd189b7f1816827" category="list-text">将对象数据从选定站点移动到网格中的一个或多个其他站点。</block>
  <block id="5c8fae5657ff8684980f88fee96ffa50" category="paragraph">* 移动数据的示例 * ：假设您要停用罗利的某个站点，因为您在森尼韦尔添加了一个新站点。在此示例中，您希望将所有对象数据从旧站点移动到新站点。在更新 ILM 规则和 ILM 策略之前，您必须查看两个站点的容量。您必须确保森尼韦尔站点具有足够的容量来容纳来自罗利站点的对象数据，并且森尼韦尔将保留足够的容量以满足未来增长的需要。</block>
  <block id="37f591b3c99902f39967a0927fd511ac" category="admonition">要确保有足够的可用容量，您可能需要先向现有站点添加存储卷或存储节点，或者添加新站点，然后再执行此操作步骤 。请参见有关扩展 StorageGRID 系统的说明。</block>
  <block id="1125cc9819caae6e24238999df345059" category="list-text">从选定站点删除对象副本。</block>
  <block id="2f72a41d6fa4660a32f701c810dcbcba" category="paragraph">* 删除数据的示例 * ：假设您当前使用 3 个副本 ILM 规则在三个站点之间复制对象数据。在停用站点之前，您可以创建等效的双副本 ILM 规则，以便仅将数据存储在两个站点上。激活使用双副本规则的新 ILM 策略时， StorageGRID 会从第三个站点删除这些副本，因为它们不再满足 ILM 要求。但是，对象数据仍会受到保护，其余两个站点的容量将保持不变。</block>
  <block id="fb331157474dfc06f67b6afd17d2c120" category="admonition">切勿创建单个副本 ILM 规则来容纳站点的删除。如果 ILM 规则在任何时间段内仅创建一个复制副本，则会使数据面临永久丢失的风险。如果某个对象只存在一个复制副本，则在存储节点出现故障或出现严重错误时，该对象将丢失。在升级等维护过程中，您还会暂时失去对对象的访问权限。</block>
  <block id="ebfb66bfa6a21096aef72185a39da40b" category="section-title">已连接站点停用的其他要求</block>
  <block id="8528c6339d2ba5edaf68066aa0964e1f" category="paragraph">在 StorageGRID 删除已连接站点之前，您必须确保满足以下条件：</block>
  <block id="e2aec00a283330b9c3a23a2a8a75acca" category="list-text">StorageGRID 系统中的所有节点的连接状态都必须为 * 已连接 * （<block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block>）；但是，节点可以具有活动警报。</block>
  <block id="8bef22e78e4aacf582f78695e632b278" category="admonition">如果一个或多个节点断开连接，您可以完成 " 取消配置站点 " 向导的步骤 1-4 。但是，除非所有节点均已连接，否则无法完成向导的第 5 步，该步骤将启动停用过程。</block>
  <block id="72ffe45ba6403b9d4e82013e35037cb1" category="list-text">如果要删除的站点包含用于负载平衡的网关节点或管理节点，则可能需要执行扩展操作步骤 ，以便在另一个站点添加等效的新节点。在启动站点停用操作步骤 之前，请确保客户端可以连接到替代节点。</block>
  <block id="3a4bc69ffa2f154639c6836a7b2be949" category="list-text">如果要删除的站点包含高可用性（ HA ）组中的任何网关节点或管理节点，则可以完成 " 取消配置站点 " 向导的步骤 1-4 。但是，在从所有 HA 组中删除这些节点之前，您无法完成向导的第 5 步，该步骤将启动停用过程。如果现有客户端连接到包含站点中节点的 HA 组，则必须确保它们可以在删除站点后继续连接到 StorageGRID 。</block>
  <block id="90418b3d10f1a23ee709352e634dca37" category="list-text">如果客户端直接连接到您要删除的站点上的存储节点，则必须确保它们可以连接到其他站点上的存储节点，然后再启动站点停用操作步骤 。</block>
  <block id="be5d1871194afc8dd0097eab9c6c837c" category="list-text">您必须在其余站点上提供足够的空间，以容纳因活动 ILM 策略更改而要移动的任何对象数据。在某些情况下，您可能需要先通过添加存储节点，存储卷或新站点来扩展 StorageGRID 系统，然后才能完成已连接站点的停用。</block>
  <block id="42341027f55cfe306d4ecaa2bee5abf2" category="list-text">您必须留出足够的时间来完成停用操作步骤 。StorageGRID ILM 过程可能需要数天，数周甚至数月才能从站点中移动或删除对象数据，然后才能停用此站点。</block>
  <block id="d28eb10b5a6ec6c0f4f912212742922c" category="admonition">从站点移动或删除对象数据可能需要数天，数周甚至数月的时间，具体取决于站点上的数据量，系统上的负载，网络延迟以及所需 ILM 更改的性质。</block>
  <block id="321b697f7f9121e2f9ef3866257444e2" category="list-text">您应尽可能早地完成 " 弃用站点 " 向导的步骤 1-4 。如果您允许在启动实际停用操作步骤 之前从站点移动数据，则停用操作步骤 将更快地完成，并且中断和性能影响更少（方法是在向导的步骤 5 中选择 * 启动停用 * ）。</block>
  <block id="23a817d2e7a5c7b52a9b80d90d571488" category="section-title">断开连接的站点停用的其他要求</block>
  <block id="1409d9356bdc134dca684efdaafeaef1" category="paragraph">在 StorageGRID 删除已断开连接的站点之前，您必须确保满足以下条件：</block>
  <block id="650538de89e44655d3eaa46553c36f0b" category="list-text">您已联系您的 NetApp 客户代表。在取消配置站点向导中启用所有步骤之前， NetApp 将查看您的要求。</block>
  <block id="bbc54cb1b2524c5fa507b5b368f1ff99" category="admonition">如果您认为可以恢复站点或从站点恢复任何对象数据，则不应尝试执行已断开连接的站点停用。</block>
  <block id="a6f3e308ba04701367f4bcfb193b3478" category="list-text">站点上的所有节点的连接状态必须为以下之一：</block>
  <block id="4eccaebae9872640bd6d56913498516f" category="list-text">* 未知 * （<block ref="a92fabbc4ee2a5d52499f401dd4d194f" category="inline-image-macro-rx" type="image"></block>）：节点未连接到网格，原因未知。例如，节点之间的网络连接已断开或电源已关闭。</block>
  <block id="d3a87006a074e4ccfbdabfe295b0c93a" category="list-text">* 管理员关闭 * （<block ref="f3266c02d99c67a6049b4120307bbe26" category="inline-image-macro-rx" type="image"></block>）：由于预期原因，节点未连接到网格。例如，节点上的一个或多个节点已正常关闭。</block>
  <block id="9cce88d00d87b4c4460f5b653abbcd14" category="list-text">所有其他站点上的所有节点的连接状态都必须为 * 已连接 * （<block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block>）；但是，这些其他节点可能具有活动警报。</block>
  <block id="ab0370a93d56720de6f8911f3b2fafa1" category="list-text">您必须了解，您将无法再使用 StorageGRID 查看或检索站点上存储的任何对象数据。当 StorageGRID 执行此操作步骤 时，它不会尝试保留已断开连接的站点中的任何数据。</block>
  <block id="187b743160941953d341e56f657006b3" category="admonition">如果您的 ILM 规则和策略旨在防止单个站点丢失，则其余站点上仍存在对象的副本。</block>
  <block id="42e2d268c3ad76140beff88a36b3e7fe" category="list-text">您必须了解，如果站点包含对象的唯一副本，则该对象将丢失，无法检索。</block>
  <block id="1bd0748c738793e009fd5ebf9a49a27d" category="section-title">删除站点时的一致性控制注意事项</block>
  <block id="451f224ba42143980bf889970c458c90" category="paragraph">S3 存储分段或 Swift 容器的一致性级别可确定 StorageGRID 是否在通知客户端对象载入成功之前将对象元数据完全复制到所有节点和站点。一致性级别可以在对象的可用性与这些对象在不同存储节点和站点之间的一致性之间进行权衡。</block>
  <block id="2de12f3d261456ca27ee138ebb0c4d3b" category="paragraph">StorageGRID 删除站点时，需要确保不会向要删除的站点写入任何数据。因此，它会临时覆盖每个分段或容器的一致性级别。启动站点停用过程后， StorageGRID 会暂时使用强站点一致性来防止将对象元数据写入要删除的站点。</block>
  <block id="28fed8f0edffc104b9271da81f0c69ee" category="paragraph">由于这种临时覆盖，请注意，如果其他站点上的多个节点不可用，则站点停用期间发生的任何客户端写入，更新和删除操作都可能失败。</block>
  <block id="54f49877bc17c886f7eacd476a6bfcae" category="summary">您可以整合存储节点以减少站点或部署的存储节点数，同时增加存储容量。</block>
  <block id="27778696eec3831af67e209e66cb9296" category="doc">整合存储节点</block>
  <block id="2f1c9ebdb80e5dc0ff51aaec1ae7a335" category="paragraph">整合存储节点时，您可以扩展 StorageGRID 系统以添加容量更大的新存储节点，然后停用容量较小的旧存储节点。在停用操作步骤 期间，对象会从旧存储节点迁移到新存储节点。</block>
  <block id="bb2d32e993c319cf652d6958619ce5f3" category="admonition">如果您要将较旧的和较小的设备与新型号或容量较大的设备进行整合，则许多用户都使用节点克隆功能，或者如果不执行一对一更换，则使用节点克隆操作步骤 和停用操作步骤 。</block>
  <block id="921e852cedda1199d314d6ae5f3e9e85" category="paragraph">例如，您可以添加两个容量更大的新存储节点来替换三个旧存储节点。您应首先使用扩展操作步骤 添加两个更大的新存储节点，然后使用停用操作步骤 删除三个容量较小的旧存储节点。</block>
  <block id="13a7cc4bceafadd4dc1d4e4237a73246" category="paragraph">通过在删除现有存储节点之前添加新容量，您可以确保在 StorageGRID 系统中更平衡地分布数据。此外，还可以减少现有存储节点可能被推送到存储水印级别以外的可能性。</block>
  <block id="3489db60ff1e05fc38f98b5a391203fb" category="summary">要恢复归档节点，必须先更换该节点。</block>
  <block id="6f2c3518bb34d4277ecd304e8975081d" category="doc">替换归档节点</block>
  <block id="79f78d7b91610072c73436d0dca12a0c" category="paragraph">您必须为您的平台选择节点替代操作步骤 。对于所有类型的网格节点，更换节点的步骤都相同。</block>
  <block id="088c7ab0395a10f8b47dcd428498cf38" category="summary">您必须在网格管理器中选择启动恢复，才能将设备存储节点配置为故障节点的替代节点。</block>
  <block id="f29ea87b10774fe1e46db1a98af69a95" category="doc">选择 Start Recovery 以配置设备存储节点</block>
  <block id="885ac6c32e445c872a81843a77b03375" category="list-text">您必须已部署恢复设备存储节点。</block>
  <block id="db2aa99568196f670cf7ef896484508e" category="paragraph">当网格节点达到 "`Waiting for Manual steps` " 阶段时，转到下一主题并执行手动步骤以重新挂载和重新格式化设备存储卷。</block>
  <block id="5f482b5c97e5564d5d9fcf7c00226da6" category="image-alt">显示等待手动步骤的阶段的屏幕截图</block>
  <block id="235da931ea5af839b846d384ef4d2f61" category="admonition">在恢复期间的任何时刻，您都可以单击 * 重置 * 来启动新的恢复。此时将显示一个信息对话框，指示在重置操作步骤 时节点将处于不确定状态。</block>
  <block id="d3ad33dae5c223d79f97c161a716e79e" category="paragraph">如果要在重置操作步骤 后重试恢复，则必须通过在该节点上运行 `sgareinstall` 将设备节点还原到预安装状态。</block>
  <block id="0c7c30819332572b2b60d5e4f2332a51" category="summary">您可以使用更改 IP 工具更改一个或多个节点的网络配置。您可以更改网格网络的配置，或者添加，更改或删除管理员网络或客户端网络。</block>
  <block id="5d58e33b9dfa30fe9c5180b3607e42a3" category="paragraph">* Linux ： * 如果您是首次将网格节点添加到管理网络或客户端网络，并且先前未在节点配置文件中配置 admin_network_target 或 client_network_target ，则必须立即执行此操作。</block>
  <block id="36cd56f06ffff90e8ef2551fad13227c" category="paragraph">请参见适用于您的 Linux 操作系统的 StorageGRID 安装说明。</block>
  <block id="840a6c754184c6fbce872458dcf35141" category="inline-xref-macro">将设备置于维护模式</block>
  <block id="d0003c10905a7a81d7c882e7c82886b6" category="paragraph">* 设备： * 在 StorageGRID 设备上，如果在初始安装期间未在 StorageGRID 设备安装程序中配置客户端或管理网络，则无法仅使用更改 IP 工具添加网络。首先，您必须 <block ref="367b3af53ec41e12ae129adfc9a0f80f" category="inline-xref-macro-rx"></block>，配置链路，将设备恢复为正常运行模式，然后使用更改 IP 工具修改网络配置。有关如何配置网络链路的信息，请参见适用于您的设备的安装和维护说明中的操作步骤 。</block>
  <block id="2fcbd0e65f76780bf95b0c2f2e131da9" category="paragraph">您可以更改任何网络上一个或多个节点的 IP 地址，子网掩码，网关或 MTU 值。</block>
  <block id="a258456e156c5e286581fc18b708779d" category="paragraph">您还可以从客户端网络或管理网络添加或删除节点：</block>
  <block id="268905681836c240b92e831b7be4fcf6" category="list-text">您可以通过向客户端网络或管理网络添加节点上的 IP 地址 / 子网掩码来将该节点添加到该节点。</block>
  <block id="261bd8d944f98e282971ee983efcece5" category="list-text">您可以通过删除客户端网络或管理网络中某个节点的 IP 地址 / 子网掩码来从该网络中删除该节点。</block>
  <block id="36c05cab3e224fe4b6cefb67ca9540ca" category="paragraph">无法从网格网络中删除节点。</block>
  <block id="8448486509b962f97adfe3b8b6651025" category="admonition">不允许使用 IP 地址交换。如果必须在网格节点之间交换 IP 地址，则必须使用临时中间 IP 地址。</block>
  <block id="884f7032331a3d699d017113321de041" category="admonition">如果为 StorageGRID 系统启用了单点登录（ SSO ），并且您要更改管理节点的 IP 地址，请注意，使用管理节点的 IP 地址（而不是建议的完全限定域名）配置的任何依赖方信任都将无效。您将无法再登录到此节点。更改 IP 地址后，您必须立即使用新的 IP 地址更新或重新配置 Active Directory 联合身份验证服务（ AD FS ）中节点的依赖方信任。请参见有关管理 StorageGRID 的说明。</block>
  <block id="5d7e2c9438a95e4eda6306c21b6bf750" category="admonition">使用更改 IP 工具对网络所做的任何更改都会传播到 StorageGRID 设备的安装程序固件。这样，如果在设备上重新安装 StorageGRID 软件，或者将设备置于维护模式，则网络配置将正确无误。</block>
  <block id="bcfbfbc56e3bfed94396c648d7f7e740" category="list-text">输入以下命令以启动更改 IP 工具： `change-ip`</block>
  <block id="af0082302afa6b014727d881459fc08c" category="list-text">在提示符处输入配置密码短语。</block>
  <block id="9406d1becb5febe1366687f4d75381da" category="paragraph">此时将显示主菜单。</block>
  <block id="ae84db451fcad34270907dd595332f69" category="image-alt">显示更改 IP 工具欢迎屏幕的屏幕截图</block>
  <block id="6d298878b0ae1cd398cefee0502b0ad9" category="list-text">也可以选择 * 1 * 来选择要更新的节点。然后选择以下选项之一：</block>
  <block id="6644fcff37b0383c65e382e746c360c5" category="list-text">* 1 * ：单节点—按名称选择</block>
  <block id="c37e9135b4ebeb62d3b6cd49e575a63f" category="list-text">* 2 * ：单节点—按站点选择，然后按名称选择</block>
  <block id="72987a3af902199a70b23d16e7139849" category="list-text">*3* ：单节点—按当前 IP 选择</block>
  <block id="cd8df771321e8fd0b73271caf037ced9" category="list-text">*4* ：站点上的所有节点</block>
  <block id="ff17bd9f1f20bcedebd5ccc7fede030a" category="list-text">*5* ：网格中的所有节点</block>
  <block id="3900be921010d9d1923389fab909a3e0" category="paragraph">* 注： * 如果要更新所有节点，请允许 " 全部 " 保持选中状态。</block>
  <block id="10e5abe175e46847e1177136837cace5" category="paragraph">选择后，将显示主菜单，并更新 * 选定节点 * 字段以反映您的选择。所有后续操作仅在显示的节点上执行。</block>
  <block id="203153d43016bad625ffa2775574079b" category="list-text">在主菜单上，选择选项 * 2 * 以编辑选定节点的 IP/ 掩码，网关和 MTU 信息。</block>
  <block id="f92a25f57d4b5611a3746d8db2bf175a" category="list-text">选择要更改的网络：</block>
  <block id="bd86bf6367550f4f3b3f3013b15bbe73" category="list-text">* 1 * ：网格网络</block>
  <block id="6b86d2bbf0f984ba5066edcdddcc305e" category="list-text">* 2 * ：管理网络</block>
  <block id="60911f0bc6695fa842d5da665f9dce1c" category="list-text">* 3 * ：客户端网络</block>
  <block id="d32f70182b133f9fa86582ad2fa67e5b" category="list-text">*4* ：选择所有网络后，提示符将显示节点名称，网络名称（网格，管理员或客户端），数据类型（ IP/ 掩码， 网关或 MTU ）和当前值。</block>
  <block id="9fab18f5b41841bafd960ed49e685097" category="paragraph">编辑 DHCP 配置接口的 IP 地址，前缀长度，网关或 MTU 将使接口更改为静态。如果选择更改由 DHCP 配置的接口，则会显示一条警告，通知您该接口将更改为静态。</block>
  <block id="e21ee350e2a8cc55038b23a7b2d3fa36" category="paragraph">无法编辑配置为 `FIXED` 的接口。</block>
  <block id="800462c0789c2c250470e201064bb4d7" category="list-text">要设置新值，请按当前值所示格式输入该值。</block>
  <block id="35b2da39fc80c3cfb47abfe810535e06" category="list-text">要保持当前值不变，请按 * 输入 * 。</block>
  <block id="fb73e42e75fbcec66fd595d8fdff0ab6" category="list-text">如果数据类型为 `IP/ 掩码` ，则可以输入 * d* 或 * 。 0.0.0.0/0* 从节点中删除管理员网络或客户端网络。</block>
  <block id="7fff12ad7630f59c65995da6b0554382" category="list-text">编辑要更改的所有节点后，输入 * 。 q* 返回主菜单。</block>
  <block id="f37ed07a441e57b30fefefa9e3d012de" category="paragraph">您所做的更改将一直保留，直到清除或应用为止。</block>
  <block id="a1f8c3ffb0130ced8a9a142cc2916599" category="list-text">选择以下选项之一，查看您所做的更改：</block>
  <block id="027f5320536414d3c431dc825c82aab1" category="list-text">* 5* ：显示输出中的编辑内容，这些编辑内容是孤立的，仅显示更改后的项。所做的更改以绿色（添加项）或红色（删除项）突出显示，如示例输出所示：</block>
  <block id="fd8a3218232891c9110e84e6cc50640d" category="list-text">* 6 * ：显示输出中显示的编辑内容，其中显示了完整配置。更改将以绿色（添加项）或红色（删除项）突出显示。</block>
  <block id="6aff470be92479a2b130154a255e817e" category="admonition">某些命令行界面可能会使用删除线格式显示添加和删除。正确显示取决于您的终端客户端是否支持必要的 VT100 转义序列。</block>
  <block id="c3cb2a895ce4cd30ac6afa01ddeb7829" category="list-text">选择选项 * 7* 以验证所有更改。</block>
  <block id="c55d92fd834484f3a6e302e95fbe5e5c" category="paragraph">此验证可确保不会违反网格，管理和客户端网络的规则，例如不使用重叠的子网。</block>
  <block id="61f984c00543515a117d48cf13916648" category="paragraph">在此示例中，验证返回错误。</block>
  <block id="ec508ece4a6705df95f613723a93054c" category="paragraph">在此示例中，验证已通过。</block>
  <block id="8b4611fc87ffb4b302d26e8515a0c312" category="list-text">验证通过后，请选择以下选项之一：</block>
  <block id="0bb11d0f47333f97ff91bd22be5756db" category="list-text">*8* ：保存未应用的更改。</block>
  <block id="38c65d376869d9d3e6476f73691be403" category="paragraph">使用此选项，您可以退出更改 IP 工具并稍后重新启动它，而不会丢失任何未应用的更改。</block>
  <block id="45f0e1f383cbc8d0f3b2d6037f2c2c3a" category="list-text">* 。 10* ：应用新网络配置。</block>
  <block id="792356b2f24ac1613af1a69cfcde94f4" category="list-text">如果选择了选项 * 。 10* ，请选择以下选项之一：</block>
  <block id="caadf6c3ed47ee79df6a1fac1ed08abf" category="list-text">* 应用 * ：立即应用更改，并在必要时自动重新启动每个节点。</block>
  <block id="52bc2eb51965fbe18cd3ed66740eddbd" category="paragraph">如果新网络配置不需要更改任何物理网络连接，您可以选择 * 应用 * 以立即应用更改。如果需要，节点将自动重新启动。此时将显示需要重新启动的节点。</block>
  <block id="1efcb927309de27cf5400b8f942e1b62" category="list-text">* 阶段 * ：下次手动重新启动节点时应用更改。</block>
  <block id="70ed5d0861f5c181452c8d7eb9c91521" category="paragraph">如果要使新网络配置正常运行，需要更改物理或虚拟网络配置，则必须使用 * 阶段 * 选项，关闭受影响的节点，进行必要的物理网络更改并重新启动受影响的节点。如果选择 * 应用 * 而未先进行这些网络更改，则更改通常会失败。</block>
  <block id="a13834807957fb2fcb6045636b41cc9f" category="admonition">如果使用 * 阶段 * 选项，则必须在暂存后尽快重新启动节点，以最大程度地减少中断。</block>
  <block id="5261772657c9c18916dc0978bbf3d626" category="list-text">* 取消 * ：此时不要更改任何网络。</block>
  <block id="7c1940394f4c1d17efb0a15d75a7345a" category="paragraph">如果您不知道建议的更改需要重新启动节点，则可以推迟更改以最大限度地减少对用户的影响。选择 * 取消 * 将返回到主菜单并保留所做的更改，以便稍后应用。</block>
  <block id="9b782bf3d184d1a1fb76ea229034559c" category="paragraph">如果选择 * 应用 * 或 * 阶段 * ，则会生成一个新的网络配置文件，并执行配置，同时会使用新的工作信息更新节点。</block>
  <block id="07ff11819e6cacfc9eedd1e2262b41bd" category="paragraph">在配置期间，输出将在应用更新时显示状态。</block>
  <block id="43d72e14b4b50d75e01f55ed86602f6d" category="paragraph">应用或暂存更改后，由于网格配置更改，系统将生成新的恢复软件包。</block>
  <block id="7176239a116a616806a4f33ceb6f1ce5" category="list-text">如果选择了 * 阶段 * ，请在配置完成后按照以下步骤进行操作：</block>
  <block id="e0e0242f0e0a2b5b1c21753913ccf7fb" category="list-text">根据需要进行物理或虚拟网络更改。</block>
  <block id="0d6378036cee614d1b5a0bb11b298177" category="paragraph">* 物理网络更改 * ：进行必要的物理网络更改，必要时安全关闭节点。</block>
  <block id="2f71ab8987dc6c1c3c1abd09fdf293dc" category="paragraph">* Linux * ：如果您是首次将节点添加到管理网络或客户端网络，请确保已按照 "`将接口添加到现有节点 " 中所述添加接口。`</block>
  <block id="e07f833c3c69e80cab9d5240de63993e" category="list-text">重新启动受影响的节点。</block>
  <block id="46309a4cded3116eaceaf1d06e8b3bf7" category="list-text">完成更改后，选择 * 。 0* 退出更改 IP 工具。</block>
  <block id="c18d8967b4bab33e7eab9e097b324656" category="list-text">从网格管理器下载新的恢复软件包。</block>
  <block id="6a67f27dfe67d93f1763677538363c23" category="inline-xref-macro">Linux ：向现有节点添加接口</block>
  <block id="34aa30159ee60cd363e3378396f216d6" category="paragraph"><block ref="34aa30159ee60cd363e3378396f216d6" category="inline-xref-macro-rx"></block></block>
  <block id="67037509a929d1eef1f9980124c8bbf7" category="paragraph"><block ref="67037509a929d1eef1f9980124c8bbf7" category="inline-xref-macro-rx"></block></block>
  <block id="d06ca0fc64f3563bee28af45448fb1f5" category="summary">要恢复主管理节点，必须先更换物理或虚拟硬件。</block>
  <block id="882e43ac634198d8781f1dacbdc588bc" category="doc">更换主管理节点</block>
  <block id="63b14d70bb1458024667265f5ed5681f" category="paragraph">您可以将出现故障的主管理节点替换为在同一平台上运行的主管理节点，也可以将在 VMware 或 Linux 主机上运行的主管理节点替换为服务设备上托管的主管理节点。</block>
  <block id="cd57dc73ab229104872f42cdfec147a0" category="paragraph">使用与您为节点选择的替代平台匹配的操作步骤 。完成节点更换操作步骤 （适用于所有节点类型）后，该操作步骤 将引导您进入主管理节点恢复的下一步。</block>
  <block id="33740487b193fe20c0d9deab84299ca6" category="summary">删除阻止服务启动的 DoNotStart 文件时，必须启动该服务。</block>
  <block id="39a319b69a20ac48c649cc9cbac68bae" category="doc">删除 DoNotStart 文件以进行维护</block>
  <block id="2bd4de30273b079c180da3feefafa870" category="list-text">从服务目录中删除 DoNotStart 文件： `rm /etc/sv/_service_/DoNotStart`</block>
  <block id="a547c943cb71dd719a60e363260b5ac8" category="paragraph">其中 `sservice` 是服务的名称。例如：</block>
  <block id="e1bcb6dbb72269d13c88a7ca5072786b" category="list-text">启动服务： `sservice_servicename_ start`</block>
  <block id="409b7f3f7e8a3f7d15a9553d27320fbc" category="summary">如果您在技术支持的指导下执行各种维护或配置过程，则可能会要求您使用 DoNotStart 文件来防止在启动或重新启动 Server Manager 时启动服务。</block>
  <block id="875120935af9cf3ca8728c8106338a5e" category="doc">使用 DoNotStart 文件</block>
  <block id="448068dd2d031236537039b626c6a191" category="admonition">只有在技术支持要求您添加或删除 DoNotStart 文件时，才应添加或删除此文件。</block>
  <block id="a48dae835a6904e46207d4d842fc43b8" category="paragraph">要阻止服务启动，请将 DoNotStart 文件置于要阻止启动的服务的目录中。启动时， Server Manager 将查找 DoNotStart 文件。如果文件存在，则会阻止服务（以及与之相关的任何服务）启动。删除 DoNotStart 文件后，先前停止的服务将在下次启动或重新启动 Server Manager 时启动。删除 DoNotStart 文件后，服务不会自动启动。</block>
  <block id="d8632b633cca0da967785c268bb69258" category="paragraph">阻止所有服务重新启动的最有效方法是阻止 NTP 服务启动。所有服务都依赖于 NTP 服务，如果 NTP 服务未运行，则无法运行。</block>
  <block id="214e37708cb5ad98ca8264816a2be362" category="summary">如果您能够保留故障非主管理节点中的审核日志，以便保留历史审核日志信息，则可以将其复制到要恢复的非主管理节点。</block>
  <block id="0afb8c253b85f242ca1fa68b7f773da3" category="doc">在已恢复的非主管理节点上还原审核日志</block>
  <block id="c12dcd651a8aaf51cb65185fd522bbed" category="list-text">必须安装并运行已恢复的管理节点。</block>
  <block id="c97ffe750a24ec068b2173d542259232" category="list-text">在原始管理节点出现故障后，您必须已将审核日志复制到其他位置。</block>
  <block id="9626e72bb892d93b62219211d80dc4df" category="paragraph">如果管理节点出现故障，保存到该管理节点的审核日志可能会丢失。可以通过从出现故障的管理节点复制审核日志，然后将这些审核日志还原到已恢复的管理节点来防止数据丢失。根据故障情况，可能无法从发生故障的管理节点复制审核日志。在这种情况下，如果部署具有多个管理节点，则可以从另一个管理节点恢复审核日志，因为审核日志会复制到所有管理节点。</block>
  <block id="7a11d6b1bd090d15cde18be97bf54089" category="paragraph">如果只有一个管理节点，并且无法从故障节点复制审核日志，则恢复的管理节点会开始将事件记录到审核日志中，就像安装是新的一样。</block>
  <block id="696a259a22e7ac98e7a16ba84d87e3d3" category="paragraph">您必须尽快恢复管理节点，才能还原日志记录功能。</block>
  <block id="85fdd4e6e95a3c733568511e6ce26b8f" category="list-text">登录到已恢复的管理节点：</block>
  <block id="c5a947ecb98033c269081561a9f1dc91" category="list-text">输入以下命令： + `ssh admin@recovery_Admin_Node_IP`</block>
  <block id="6feb0f0587afec2e630dbe1ec906cc80" category="paragraph">以 root 用户身份登录后，提示符将从 ` $` 更改为 ` #` 。</block>
  <block id="acea156c39268f6878ca11cde2da2e36" category="list-text">检查已保留哪些审核文件：</block>
  <block id="035d0bf0800c2c232e41735942d079b7" category="list-text">将保留的审核日志文件复制到已恢复的管理节点：</block>
  <block id="e3acfc9551d906f634ea9dbf0afc3ddb" category="paragraph">`scp admin@grid_node_ip ： /var/local/tmp/saved-audit-logs/yyy*`</block>
  <block id="bb0c9dd565ff22196c9f53b7afafbfe7" category="list-text">为了安全起见，请在验证审核日志是否已成功复制到已恢复的管理节点后，从出现故障的网格节点中删除这些审核日志。</block>
  <block id="c9bc57f19f90a3df01d8ac6430fc7a7c" category="list-text">更新已恢复管理节点上审核日志文件的用户和组设置：</block>
  <block id="25b95faabbe5b23d23d1e370b2af586d" category="paragraph">`chown AMS-user ： byncast *`</block>
  <block id="51e28758f5f753869640ff2adc89a740" category="paragraph">您还必须还原对审核共享的任何已有客户端访问。有关详细信息，请参见有关管理 StorageGRID 的说明。</block>
  <block id="84ed8d5f50e212f7c66662dc66f339d3" category="summary">如果在停用后管理域控制器 \ （ ADC\ ）服务仍存在太少，则您可能无法停用数据中心站点上的某些存储节点。此服务位于某些存储节点上，用于维护网格拓扑信息并为网格提供配置服务。StorageGRID 系统要求每个站点始终提供一定的数字转换服务仲裁。</block>
  <block id="6c526a0aa6c8f6a24ce255dfa7a0af03" category="paragraph">如果在停用后管理域控制器（ ADA ）服务仍会过多，您可能无法停用数据中心站点上的某些存储节点。此服务位于某些存储节点上，用于维护网格拓扑信息并为网格提供配置服务。StorageGRID 系统要求每个站点始终提供一定的数字转换服务仲裁。</block>
  <block id="d27561bcd364d15f33f0ef388611ea49" category="paragraph">如果删除某个存储节点将无法再满足发生原因 的仲裁，则无法停用此存储节点。要在停用期间满足模块转换仲裁要求，每个数据中心站点至少有三个存储节点必须具有模块转换服务。如果数据中心站点具有三个以上使用了 ADC 服务的存储节点，则在停用后，这些节点中的大多数节点必须保持可用（（ 0.5 * ` _Storage Nodes with ADC_` ） + 1 ）。</block>
  <block id="25d0f49725a3920c09e2630e7e330725" category="paragraph">例如，假设一个数据中心站点当前包含六个具有模块化转换服务的存储节点，而您希望停用三个存储节点。由于需要使用 ADC 仲裁，您必须完成两个停用过程，如下所示：</block>
  <block id="71187c59e71b7a3ff661a6ba45070ae9" category="list-text">在第一个停用操作步骤 中，您必须确保具有 ADA 服务的四个存储节点仍然可用（（（ 0.5 * 6 ） +1 ）。这意味着最初只能停用两个存储节点。</block>
  <block id="0dbf98380ff7b244ee477e5477f1b97b" category="list-text">在第二个停用操作步骤 中，您可以删除第三个存储节点，因为现在，由于仲裁只需要三个可用的 ADC 服务（（ 0.5 * 4 ） + 1 ）。</block>
  <block id="b6b8ad8dcc3fa890aef06e6cc467bf59" category="paragraph">如果您需要停用某个存储节点，但由于要求使用的是 ADA 仲裁而无法停用，则必须在扩展中添加一个新的存储节点，并指定该存储节点应具有一个 ADA 服务。然后，您可以停用现有存储节点。</block>
  <block id="cebe03c126dad01ab2c9db622d32c825" category="summary">要确定是否可以停用某个站点，请首先访问 " 停用站点 " 向导。</block>
  <block id="1a9911326c186b5f26722f3b80609dad" category="doc">第 1 步：选择站点</block>
  <block id="3dc3818ecfc0fc148f8aef702e71b399" category="list-text">您必须已获取所有必需的材料。</block>
  <block id="c15bcb7d7728f40108f48c62d7c6b209" category="list-text">您必须已查看删除站点的注意事项。</block>
  <block id="25e0e1342e623e3f69bd0347c1048602" category="list-text">您必须具有 " 根访问 " 权限或 " 维护 " 和 "ILM " 权限。</block>
  <block id="2eee35e0578f1a80e9f09a4c645292fc" category="list-text">选择 * 取消配置站点 * 。</block>
  <block id="553ca1300ea851049bff57ce05da4332" category="paragraph">此时将显示取消配置站点向导的第 1 步（选择站点）。此步骤包含 StorageGRID 系统中站点的字母列表。</block>
  <block id="e48cfbc6f8ff395e1fa4eac414db93f6" category="image-alt">停用站点步骤 1 选择站点</block>
  <block id="769a5fd5ffd1f12ccc659cf28f0795fe" category="list-text">查看 * 已用存储容量 * 列中的值，确定每个站点上的对象数据当前使用的存储容量。</block>
  <block id="88ed6e254800977c64673d6520cdfe4a" category="paragraph">已用存储容量是一个估计值。如果节点处于脱机状态，则已用存储容量是站点的最后一个已知值。</block>
  <block id="c0fa09b8395d912ceb3fc7472e0d653c" category="list-text">对于已连接站点停用，此值表示在安全停用此站点之前需要将多少对象数据移动到其他站点或由 ILM 删除。</block>
  <block id="7f9e950b424117afd2a76df757ad5ae1" category="list-text">对于已断开连接的站点停用，此值表示停用此站点后系统的数据存储容量将变得不可访问。</block>
  <block id="2c0053ab2da8072db9c40e718920fbf8" category="admonition">如果您的 ILM 策略旨在防止单个站点丢失，则其余站点上仍应存在对象数据的副本。</block>
  <block id="1b7d46b88db4b0947875fdeb6977c834" category="list-text">查看 * 可能停用 * 列中的原因，确定哪些站点当前可以停用。</block>
  <block id="473056ba649b07275081a56fd47c8473" category="admonition">如果无法停用某个站点的原因不止一个，则会显示最关键的原因。</block>
  <block id="c290a5941ad6eb0d5fe8752c15c5fd78" category="cell">下一步</block>
  <block id="2480e4b7a4179baa0b3826d45de7decc" category="paragraph">绿色复选标记（<block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block>）</block>
  <block id="d020aa3a0ffda088afe11bc5ea7edb49" category="paragraph">您可以停用此站点。</block>
  <block id="380d235f81bf70ec5eed2484c28c2337" category="inline-xref">下一步</block>
  <block id="a5780aa37db8256c465849802f5e1276" category="paragraph">转至 <block ref="b2f899611680fd0ee95533751a26df9e" category="inline-xref-macro-rx"></block>。</block>
  <block id="3fc9d53d0f5eab02c3554492ee2fc43b" category="paragraph">否此站点包含主管理节点。</block>
  <block id="87020d00d0aacc50a2edfb2fd6ac8178" category="paragraph">您不能停用包含主管理节点的站点。</block>
  <block id="453b053a0f2c56b732ee02f8968eed2b" category="paragraph">无您无法执行此操作步骤 。</block>
  <block id="2d16f8069f801bde4e70262ce4354484" category="paragraph">否此站点包含一个或多个归档节点。</block>
  <block id="1b31693e02e5fa680cbdbf26499986e7" category="paragraph">您不能停用包含归档节点的站点。</block>
  <block id="397f3d746eb86f0b5be40804ea7095a6" category="paragraph">否此站点上的所有节点均已断开连接。请联系您的 NetApp 客户代表。</block>
  <block id="b676d765be0f8d4384bc37f2a680e27d" category="paragraph">除非站点中的每个节点都已连接（<block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block>）。</block>
  <block id="2de0731a069fbcbc1258a3592eda8b3a" category="paragraph">如果您要执行已断开连接的站点停用，必须联系您的 NetApp 客户代表，客户代表将查看您的要求并启用停用站点向导的其余部分。</block>
  <block id="8f62ccb231fd01717d446421a6d3b56d" category="paragraph">* 重要信息 * ：切勿使联机节点脱机，以便可以删除站点。您将丢失数据。</block>
  <block id="2b0348641c2b5be7899690ea0d13fc30" category="paragraph">此示例显示了一个包含三个站点的 StorageGRID 系统。绿色复选标记（<block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block>）对于罗利和森尼韦尔站点，表示您可以停用这些站点。但是，您无法停用温哥华站点，因为它包含主管理节点。</block>
  <block id="2c327d3e22ff437db3e65987f5f6b683" category="list-text">如果可以停用，请选择站点的单选按钮。</block>
  <block id="a16c624bdd067812a4c06e15b7f658e8" category="paragraph">此时将启用 * 下一步 * 按钮。</block>
  <block id="8546a01f3e9fe19ac9a8d992b56851c8" category="paragraph">此时将显示第 2 步（查看详细信息）。</block>
  <block id="0a17ecac09aa03310332b154e87e56c5" category="summary">您可以通过将 DoNotStart 文件添加到网格节点上某个服务的目录来阻止单个服务启动。</block>
  <block id="714b5657b475315cb72813a92041cb5b" category="doc">为服务添加 DoNotStart 文件</block>
  <block id="605bbd01909a1e0bb1475197dd0fee58" category="paragraph">通过将 DoNotStart 文件添加到网格节点上某个服务的目录中，您可以阻止单个服务启动。</block>
  <block id="fe3ff8f25fd09741b6126929f4f9e5e5" category="list-text">添加 DoNotStart 文件： `touch /etc/sv/_service_/DoNotStart`</block>
  <block id="c647f3e5efba618e9ef197c97ecfd3dd" category="paragraph">其中 `sservice` 是要阻止启动的服务的名称。例如：</block>
  <block id="bdfbe6b4aca9dfeb40d61d44d4b8c8db" category="paragraph">此时将创建 DoNotStart 文件。不需要文件内容。</block>
  <block id="d170df402fe8ee75ca031bdd1ec0529f" category="paragraph">重新启动 Server Manager 或网格节点后， Server Manager 将重新启动，但服务不会重新启动。</block>
  <block id="e5b43b67182d3e147738930599ca74f4" category="summary">如果节点停用操作步骤 因错误而停止，您可以采取特定步骤对问题进行故障排除。</block>
  <block id="bc985301b60158e89fd28644e4495bcd" category="doc">对节点停用进行故障排除</block>
  <block id="fbca8b2877c23db1250dc833d3340344" category="paragraph">如果关闭要停用的网格节点，则此任务将停止，直到网格节点重新启动为止。网格节点必须处于联机状态。</block>
  <block id="33f7ee022ba4566702ef5daeaea90bbf" category="list-text">在网格拓扑树中，展开每个存储节点条目，并验证 DDS 和 LDR 服务是否均联机。</block>
  <block id="27aadaea8a94c43e9dc6e77aed6a1b0b" category="paragraph">要执行存储节点停用，在联机节点 / 站点停用开始时，所有节点和所有服务都必须运行正常。</block>
  <block id="beed66cf85548f3402d4316eb3dc15e2" category="list-text">要查看活动的网格任务，请选择 * 主管理节点 * &gt; * 。 CMN* &gt; * 网格任务 * &gt; * 概述 * 。</block>
  <block id="0aa42c990ee69c7d2d6feb184070e1e8" category="list-text">检查停用网格任务的状态。</block>
  <block id="8666a4233666457c0a5fc8fd23995240" category="list-text">如果停用网格任务的状态指示保存网格任务包时出现问题，请选择 * 主管理节点 * &gt; * 。 CMN* &gt; * 事件 * &gt; * 。概述 *</block>
  <block id="9132094a14b10d03d8aeaff1a7778197" category="list-text">检查可用审核中继的数量。</block>
  <block id="0f6f3acb3704d9209616351704ff9808" category="paragraph">如果可用审核中继属性为一个或多个，则 CMN 服务至少会连接到一个 ADE 服务。ADC" 服务 " 充当审核中继。</block>
  <block id="578370d21f4a1878bae9d25bb067e329" category="paragraph">CMN 服务必须至少连接到一个 StorageGRID 服务，并且必须有大部分（ 50% 加上一个）的系统的 ADC 服务可用，才能使网格任务从停用的一个阶段转移到另一个阶段并完成。</block>
  <block id="b51f2dddf1f0c84c0df0530afa0ba79a" category="list-text">如果 CMN 服务未连接到足够的模块转换服务，请确保存储节点处于联机状态，并检查主管理节点与存储节点之间的网络连接。</block>
  <block id="0e24232f88ec082b10cae4ef87dd2910" category="summary">如果您要恢复的非主管理节点当前设置为警报通知，警报通知和 AutoSupport 消息的首选发送方，则必须在 StorageGRID 系统中重新配置此设置。</block>
  <block id="c77b11b33f6d53f2deedd6eb1a16cb77" category="doc">在已恢复的非主管理节点上重置首选发送器</block>
  <block id="bf26d92f6948aeafbcac2a519510eb87" category="list-text">从 * 首选发件人 * 下拉列表中选择已恢复的管理节点。</block>
  <block id="80380d976b52b2e0348381a94921d490" category="summary">恢复设备存储节点的存储卷后，您可以还原存储节点发生故障时丢失的对象数据。</block>
  <block id="7821cfd71cea2554bd06d60a8af1a18f" category="doc">将对象数据还原到设备的存储卷</block>
  <block id="b4aa7d33abd7a2212d0bbf0b5278d3b8" category="summary">如果网格节点发生故障，您必须尽快恢复。开始之前，您必须查看节点恢复的所有警告和注意事项。</block>
  <block id="bc81efe83f5430dfeceefb3b143cca0d" category="doc">有关网格节点恢复的警告和注意事项</block>
  <block id="d606754bce1a911101f56660402d78ed" category="admonition">StorageGRID 是一个分布式系统，由多个节点组成，这些节点彼此协同工作。请勿使用磁盘快照还原网格节点。请参阅每种类型节点的恢复和维护过程。</block>
  <block id="94505b5b4d773227388c8eeefa9ae9f7" category="paragraph">尽快恢复出现故障的网格节点的一些原因包括：</block>
  <block id="2e563a04429006f764a1ad45f59f3563" category="list-text">出现故障的网格节点可以减少系统和对象数据的冗余，因此，如果另一个节点发生故障，您容易受到永久数据丢失的风险。</block>
  <block id="2ce5e00c1bd1e6afccc8f8cef5668cd4" category="list-text">网格节点发生故障可能会影响 Day‐到‐Day 操作的效率。</block>
  <block id="546fbdc85d38491690728c9b94c350ef" category="list-text">出现故障的网格节点可能会降低您监控系统操作的能力。</block>
  <block id="65f00a807a2ae55618634507b4504138" category="list-text">如果存在严格的 ILM 规则，则出现故障的网格节点可能会发生原因 a 500 internal server error 。</block>
  <block id="b9b9d1987ee912eb0567461fe2991dbd" category="list-text">如果未及时恢复网格节点，则恢复时间可能会增加。例如，可能会出现需要在恢复完成之前清除的队列。</block>
  <block id="1f9653baec32a05c06ef738623dd8882" category="paragraph">对于要恢复的特定网格节点类型，请始终遵循恢复操作步骤 。恢复过程因主管理节点或非主管理节点，网关节点，归档节点，设备节点和存储节点而异。</block>
  <block id="42db9aaf6a2a204d867ba644fb2f2a56" category="section-title">恢复网格节点的前提条件</block>
  <block id="331c27da0f82c784f0475493ea0653ea" category="paragraph">恢复网格节点时，系统会假设以下所有条件：</block>
  <block id="92202fa6def6d3273606f75125854c6e" category="list-text">已更换并配置发生故障的物理或虚拟硬件。</block>
  <block id="3e9a9aa4070aac8b6bed21741c8895e1" category="list-text">替代设备上的 StorageGRID 设备安装程序版本与 StorageGRID 系统的软件版本匹配，如用于验证和升级 StorageGRID 设备安装程序版本的硬件安装和维护中所述。</block>
  <block id="ed6a04dc6899c645fdfc7e102a1eaebd" category="list-text">如果要恢复的网格节点不是主管理节点，则要恢复的网格节点与主管理节点之间会建立连接。</block>
  <block id="f3066a218cd5e17937a8a876af4417e3" category="section-title">托管多个网格节点的服务器发生故障时的节点恢复顺序</block>
  <block id="00c1cd70f7f84686fd28aee03e858b11" category="paragraph">如果托管多个网格节点的服务器发生故障，您可以按任意顺序恢复节点。但是，如果发生故障的服务器托管主管理节点，则必须先恢复该节点。首先恢复主管理节点可防止其他节点在等待与主管理节点联系时暂停恢复。</block>
  <block id="5fa0f0552aab809a57ec258b7b76dea0" category="section-title">已恢复节点的 IP 地址</block>
  <block id="bf99b48f0080b0638c0fafb13322a4a3" category="paragraph">请勿尝试使用当前已分配给任何其他节点的 IP 地址恢复节点。部署新节点时，请使用故障节点的当前 IP 地址或未使用的 IP 地址。</block>
  <block id="bfec2a64e6cdd67bd7b09a3610609173" category="paragraph">如果您使用新 IP 地址部署新节点，然后恢复该节点，则新 IP 地址将继续用于已恢复的节点。如果要还原到原始 IP 地址，请在恢复完成后使用更改 IP 工具。</block>
  <block id="bc2768cc342153f0c1ab7e6233ac43ff" category="summary">您可以添加，删除和更新域名系统 \ （ DNS\ ）服务器，以便可以使用完全限定域名 \ （ FQDN\ ）主机名，而不是 IP 地址。</block>
  <block id="5254df7b70826462d79af217bb5142d5" category="doc">配置 DNS 服务器</block>
  <block id="8025321b4846c5838221775dadbcd463" category="paragraph">您可以添加，删除和更新域名系统（ DNS ）服务器，以便使用完全限定域名（ FQDN ）主机名，而不是 IP 地址。</block>
  <block id="ff82ddb699855a00fac7d0c9e69773bc" category="list-text">您必须具有要配置的 DNS 服务器的 IP 地址。</block>
  <block id="fa5085a29fc188eb4b0fbf64f53bd71c" category="paragraph">通过指定 DNS 服务器信息，您可以对电子邮件或 SNMP 通知和 AutoSupport 使用完全限定域名（ FQDN ）主机名，而不是 IP 地址。建议至少指定两个 DNS 服务器。</block>
  <block id="4cda08fc98865006c62643c1aa986167" category="inline-xref-macro">进一步自定义每个节点的 DNS 服务器列表</block>
  <block id="4e6674296aff9354abab838656bb04f1" category="admonition">为 DNS 服务器提供 2 到 6 个 IP 地址。通常，选择每个站点在发生网络隔离时可在本地访问的 DNS 服务器。这是为了确保已隔离的站点可以继续访问 DNS 服务。配置网格范围的 DNS 服务器列表后，您可以 <block ref="39f840ab3e33e4a0f05f08b67277d1d4" category="inline-xref-macro-rx"></block>。</block>
  <block id="e2cd8386e86c7e4295eaa2575315c650" category="list-text">选择 * 维护 * &gt; * 网络 * &gt; * DNS 服务器 * 。</block>
  <block id="1ead44e39bb55bbe02efbb8df7424b8f" category="list-text">在服务器部分中，根据需要添加更新或删除 DNS 服务器条目。</block>
  <block id="b43365cc04a99f37832616b8513fd8aa" category="paragraph">最佳做法是，每个站点至少指定两个 DNS 服务器。最多可以指定六个 DNS 服务器。</block>
  <block id="395cdd3179ac2dc0f24522b9a5303949" category="summary">您可以停用并永久删除连接到网格的节点。</block>
  <block id="2d4e2e012fcded81838b03c4c6fafca9" category="inline-xref-macro">停用网格节点的注意事项</block>
  <block id="6804cd9e6df833975c862bc57d940a09" category="list-text">您必须了解要求和 <block ref="a1b55412157fa75ddf47a3d2388aacf6" category="inline-xref-macro-rx"></block>。</block>
  <block id="e4b9ecdb85c67326ec146868c419a0e2" category="list-text">您必须已收集所有必需的材料。</block>
  <block id="5ec80eefac6657e646630f7df99f5848" category="list-text">您必须确保没有处于活动状态的数据修复作业。</block>
  <block id="ce4e1a3bdd5692d8bd2e3315743d4c82" category="list-text">您必须已确认网格中任何位置均未进行存储节点恢复。如果是，则必须等待在恢复过程中执行的任何 Cassandra 重建完成。然后，您可以继续停用。</block>
  <block id="4628ba11b6f44150ec65c22f9c4fb49e" category="list-text">您必须确保在节点停用操作步骤 运行期间不会运行其他维护过程，除非节点停用操作步骤 已暂停。</block>
  <block id="406bb68403ee2aa304796a062502bb7e" category="list-text">已连接网格节点。</block>
  <block id="894e846502dc6457019d05ee48c08166" category="list-text">要停用的一个或多个节点的 * 可能停用 * 列必须包含一个绿色复选标记。</block>
  <block id="f5e10b154890ff073e7123b7827bc8dd" category="inline-image-macro">绿色复选标记图标</block>
  <block id="7fbcbf36de1237e853aba9e20a6ce86f" category="list-text">所有网格节点都必须运行状况正常（绿色） <block ref="32ee8a1bd57e2bbcec5d7e874bdfbd82" category="inline-image-macro-rx" type="image"></block>。如果您在 * 运行状况 * 列中看到以下图标之一，则必须尝试解析问题描述 ：</block>
  <block id="84daea4a7d6e3a1a9f47d47fc355d825" category="paragraph">浅橙色</block>
  <block id="9b3d259d5099619cb2fd2deab674e970" category="paragraph">深橙色</block>
  <block id="e7f68917043bd75792f3a1033e196b8e" category="list-text">如果您先前停用了已断开连接的存储节点，则数据修复作业均已成功完成。请参见 <block ref="b3fc064844d1d5657a98b603cfb3bc03" category="inline-xref-macro-rx"></block>。</block>
  <block id="4bf1f43204a260b29b4a8082d50689c4" category="admonition">除非在此操作步骤 中指示删除网格节点的虚拟机或其他资源，否则请勿删除此虚拟机或其他资源。</block>
  <block id="cd7a4fb3784ceb7b4e069eb8cefddc8a" category="list-text">从 " 停用节点 " 页面中，选中要停用的每个网格节点对应的复选框。</block>
  <block id="238b48bc720f6148d39b8b2227d166c0" category="paragraph">已启用 * 开始取消配置 * 按钮。</block>
  <block id="71eb5184e5fcf6430019c7102db93310" category="list-text">单击 * 开始取消配置 * 。</block>
  <block id="6e4b6f488c26c6e1bfe3636a45990d26" category="image-alt">停用确认对话框的屏幕截图</block>
  <block id="e43ce5b769a27cfcf41671b97a3e9246" category="list-text">查看选定节点的列表，然后单击 * 确定 * 。</block>
  <block id="4b43c7489b9f6f0db03fc2b95dc070cb" category="paragraph">此时将启动节点停用操作步骤 ，并显示每个节点的进度。在操作步骤 期间，系统会生成一个新的恢复软件包以显示网格配置更改。</block>
  <block id="d91ad55d9727bddb8829c24cc669fa19" category="image-alt">正在进行节点停用的屏幕截图</block>
  <block id="255e7b16643a4eaa7c02e314c872d584" category="admonition">停用操作步骤 启动后，请勿使存储节点脱机。更改状态可能会导致某些内容未复制到其他位置。</block>
  <block id="dfb48a687735c149b3a24b061d2c7e8b" category="list-text">新的恢复软件包一旦可用，请单击链接或选择 * 维护 * &gt; * 系统 * &gt; * 恢复软件包 * 以访问 " 恢复软件包 " 页面。然后，下载 ` .zip` 文件。</block>
  <block id="9354d1e4e48e58cb3907e1779c948a7a" category="inline-xref-macro">正在下载恢复包</block>
  <block id="d05d38fa41253517605068efa6d1d872" category="paragraph">请参见的说明 <block ref="7239b4f7df576cbc1bbe526cf1e7d4f0" category="inline-xref-macro-rx"></block>。</block>
  <block id="e5276dfc1f0b5a7ec75939d7a04a3c43" category="admonition">请尽快下载恢复包，以确保在停用操作步骤 期间出现问题时可以恢复网格。</block>
  <block id="063ef4d9b511fa07e23d7218bef2403f" category="list-text">定期监控 " 停用节点 " 页面，以确保所有选定节点均已成功停用。</block>
  <block id="2f6f68d8cd3a1c71bef663f0d9c84feb" category="paragraph">存储节点停用可能需要数天或数周时间。完成所有任务后，系统将重新显示节点选择列表，并显示成功消息。</block>
  <block id="718ce8d7e862eed2c45b01f7d663ee84" category="image-alt">显示停用已完成的屏幕截图</block>
  <block id="3dfb18b968b1a66605b67c992dd66594" category="list-text">按照适用于您的平台的步骤进行操作。例如：</block>
  <block id="8dccfac6e2bc1bb64cdfcb5ae38adef4" category="list-text">* Linux * ：您可能需要断开卷的连接并删除在安装期间创建的节点配置文件。</block>
  <block id="9c0814e805a2e01dc1f57654aa314e0f" category="list-text">* `D` * ：您可能需要使用 vCenter 的 " 从磁盘删除 " 选项来删除虚拟机。您可能还需要删除独立于虚拟机的任何数据磁盘。</block>
  <block id="41e2dedc013dc24e5f060f69c19b1812" category="list-text">* StorageGRID 设备 * ：设备节点会自动恢复为未部署状态，您可以在此状态下访问 StorageGRID 设备安装程序。您可以关闭设备电源或将其添加到另一个 StorageGRID 系统。</block>
  <block id="67b938133048c7787ffe2b5adfc812f9" category="paragraph">完成节点停用操作步骤 后，请完成以下步骤：</block>
  <block id="84508747231c716e448376b26f2e737b" category="list-text">确保已停用网格节点的驱动器已擦除干净。使用商用数据擦除工具或服务永久安全地从驱动器中删除数据。</block>
  <block id="7605430b2a27abb2f15a37baa49e5df3" category="list-text">如果您停用了某个设备节点，并且该设备上的数据已使用节点加密进行保护，请使用 StorageGRID 设备安装程序清除密钥管理服务器配置（清除 KMS ）。如果要在另一网格中使用此设备，则必须清除 KMS 配置。</block>
  <block id="96d653e0d824121a5315b7a5db387fea" category="summary">某些维护过程专用于 StorageGRID 的 Linux 或 VMware 部署，或者专用于 StorageGRID 解决方案 的其他组件。</block>
  <block id="c109ee1e48bf66b3ae4adb7f11afe6fa" category="doc">主机级别和中间件过程</block>
  <block id="3fc78ca2354b46c843d5a9ceb3cf5036" category="summary">您必须验证系统是否已准备好容纳此修补程序。</block>
  <block id="9adc0217d2626f557d09b66444226f8d" category="doc">在应用修补程序之前，请检查系统的状况</block>
  <block id="d57b2c17bd336a1b3cd2dcbe4222d3d0" category="list-text">如果可能，请确保系统运行正常，并且所有网格节点均已连接到网格。</block>
  <block id="9fc96c55b1bbd661ed6d7ff5de3f795c" category="paragraph">已连接节点具有绿色复选标记 <block ref="289eb15a7e4fb09cc69c35e741336fc7" category="inline-image-macro-rx" type="image"></block> 在节点页面上。</block>
  <block id="3ec72a389a515e5ce115ae84c4b22e25" category="list-text">如果可能，请检查并解决任何当前警报。</block>
  <block id="88fd505f306de93ab0a0edbda87cfda4" category="paragraph">有关特定警报的信息，请参见 StorageGRID 监控和故障排除说明。</block>
  <block id="d33fb26b04a24e1e53177fbd388bd4f5" category="list-text">确保未执行任何其他维护过程，例如升级，恢复，扩展或停用操作步骤 。</block>
  <block id="80229a55f59b1edef7a0b8094d3f83f3" category="paragraph">应用修补程序之前，您应等待所有活动的维护过程完成。</block>
  <block id="021e2401f60cace9eb0bdd1e7c14f7d1" category="inline-xref-macro">暂停和恢复存储节点的停用过程</block>
  <block id="bfc488aa1de13bfb06dd569f8368030e" category="paragraph"><block ref="bfc488aa1de13bfb06dd569f8368030e" category="inline-xref-macro-rx"></block></block>
  <block id="95ce13d3c9db83c83a9796aae72b1e0e" category="summary">要恢复非主管理节点，必须首先更换物理或虚拟硬件。</block>
  <block id="a4b561dcbb03b4d8cd446ef94d6eb527" category="doc">更换非主管理节点</block>
  <block id="ea9f118f896f07cede32be7507d4fc30" category="paragraph">您可以将出现故障的非主管理节点替换为在同一平台上运行的非主管理节点，也可以将 VMware 上运行的非主管理节点或 Linux 主机替换为服务设备上托管的非主管理节点。</block>
  <block id="fcd9d2970eab8bb08bcb00e13e22338d" category="paragraph">使用与您为节点选择的替代平台匹配的操作步骤 。完成节点更换操作步骤 （适用于所有节点类型）后，该操作步骤 将指导您执行非主管理节点恢复的下一步。</block>
  <block id="0d95693e744d519064f9afe9612bf911" category="summary">您必须还原任何出现故障的网格节点的网格配置文件，然后验证网格配置文件并解决任何错误。</block>
  <block id="06fe230e4f48117a41a4432b780d34f7" category="doc">还原和验证网格节点</block>
  <block id="4de214fda7d611bb433e8b0868555fd5" category="paragraph">您可以导入主机上应存在的任何网格节点，前提是其 ` 或 var/local` 卷未因上一主机故障而丢失。例如，如果您为 StorageGRID 系统数据卷使用共享存储，则 ` /var/local` 卷可能仍存在，如适用于 Linux 操作系统的 StorageGRID 安装说明中所述。导入节点会将其节点配置文件还原到主机。</block>
  <block id="c3dcf61c3105bb5b739fe57577e6dce1" category="paragraph">如果无法导入缺少的节点，则必须重新创建其网格配置文件。</block>
  <block id="ec9ba7b622750cbf0ee904d652b0967e" category="paragraph">然后，您必须验证网格配置文件，并解决可能发生的任何网络或存储问题，然后再继续重新启动 StorageGRID 。重新创建节点的配置文件时，必须为要恢复的节点所使用的替代节点使用相同的名称。</block>
  <block id="d80f3d451b9378206fa6a890f7531bd1" category="paragraph">有关节点的 ` /var/local` 卷位置的详细信息，请参见安装说明。</block>
  <block id="c8b6264bf0b553111bea785eeef376b0" category="list-text">在已恢复主机的命令行中，列出当前已配置的所有 StorageGRID 网格节点：``sUdo StorageGRID node list``</block>
  <block id="cf6cb396ca4df30fc1cf87f4f1e0703e" category="paragraph">如果未配置网格节点，则不会显示任何输出。如果配置了某些网格节点，则输出格式应为：</block>
  <block id="7c3fc68bd8f4895c9cd406c5eab19084" category="paragraph">如果未列出应在主机上配置的部分或全部网格节点，则需要还原缺少的网格节点。</block>
  <block id="7c0ef67f7b56224445da90b42c40cd84" category="list-text">要导入具有 ` /var/local` 卷的网格节点，请执行以下操作：</block>
  <block id="637071080079aaef6be5ba6d5febdb79" category="list-text">对要导入的每个节点运行以下命令：``sUdo StorageGRID node import node-var-local-volume-path``</block>
  <block id="c7b7fc7e5be0faf5b787229a4c317624" category="paragraph">只有当目标节点在上次运行的主机上完全关闭时， `StorageGRID node import` 命令才会成功。否则，您将看到类似以下内容的错误：</block>
  <block id="280c9bb1a27ec59d7a9c36d334ce79d1" category="paragraph">`此节点（ _node-name_ ）似乎归另一主机所有（ UUID host-uuid ）。`</block>
  <block id="8f73e05cd49a073193015022f1008f5d" category="paragraph">`如果您确定导入安全，请使用 -force 标志。`</block>
  <block id="e96313a0ed1de9fd708f978a19477de1" category="list-text">如果您看到有关节点归另一主机所有的错误，请使用 ` -force` 标志再次运行命令以完成导入：``sUdo StorageGRID --force node import node-var-local-volume-path``</block>
  <block id="27370944a45f8382dd9a3aa07ccf577a" category="admonition">使用 ` -force` 标志导入的任何节点都需要执行额外的恢复步骤，才能重新加入网格，如中所述 <block ref="3b717df9757064855c103ef0973951a1" category="inline-xref-macro-rx"></block>。</block>
  <block id="7f6f4e9ddf6d06f1c6e99707b5fd5c21" category="list-text">对于没有 ` /var/local` 卷的网格节点，请重新创建节点的配置文件以将其还原到主机。</block>
  <block id="bf476ed46806bb3a5392a0d82d87458a" category="paragraph">请按照安装说明中 "`Create node configuration files` " 中的准则进行操作。</block>
  <block id="8684cec040af9e7a304b351135ba8bb4" category="admonition">重新创建节点的配置文件时，必须为要恢复的节点所使用的替代节点使用相同的名称。对于 Linux 部署，请确保配置文件名称包含节点名称。应尽可能使用相同的网络接口，块设备映射和 IP 地址。这种做法可以最大限度地减少恢复期间需要复制到节点的数据量，从而可以显著加快恢复速度（在某些情况下，只需几分钟而不是几周）。</block>
  <block id="39e38db6ee8d4d92b0a936c4c94d25f0" category="admonition">如果在为节点重新创建配置文件时使用任何新的块设备（ StorageGRID 节点先前未使用的设备）作为以 `block_device_` 开头的任何配置变量的值，请务必遵循中的所有准则 <block ref="6a5b5f7bc29c8efd8686eeb01684fa3c" category="inline-xref-macro-rx"></block>。</block>
  <block id="a86288af752dbc0d586f8db8da85e104" category="list-text">在已恢复的主机上运行以下命令以列出所有 StorageGRID 节点。</block>
  <block id="de1407010173691a6f3d623c0ed90e11" category="paragraph">`sUdo StorageGRID 节点列表`</block>
  <block id="cdf6af30cf9d5e9270c927230cdf0bff" category="list-text">验证名称显示在 StorageGRID 节点列表输出中的每个网格节点的节点配置文件：</block>
  <block id="7857306942fadbcc28563c2eabd35260" category="paragraph">在启动 StorageGRID 主机服务之前，您必须解决任何错误或警告。以下各节详细介绍了在恢复期间可能具有特殊意义的错误。</block>
  <block id="5e2e317a58265ed34146bec30575a031" category="inline-xref-macro">修复缺少的网络接口错误</block>
  <block id="9d4e5bb7525a6600078b158f8800f342" category="paragraph"><block ref="9d4e5bb7525a6600078b158f8800f342" category="inline-xref-macro-rx"></block></block>
  <block id="48de55a3660fcd1d7ca28ee002091967" category="summary">您必须查看删除网格节点的注意事项，并确认擦除编码的数据没有处于活动状态的修复作业。</block>
  <block id="9b459f7f834daf9370e540d2894cc7b7" category="doc">准备停用网格节点</block>
  <block id="e14ccdb9c0f44c17afcf7dd7e8e916fa" category="summary">您必须手动运行两个脚本，才能重新挂载保留的存储卷并重新格式化任何发生故障的存储卷。第一个脚本将重新挂载格式正确的卷，使其格式化为 StorageGRID 存储卷。第二个脚本将重新格式化所有已卸载的卷，根据需要重新构建 Cassandra 数据库并启动服务。</block>
  <block id="fbc4f19e3aed4e554d09e922dfcf2814" category="doc">重新挂载并重新格式化设备存储卷（ " 手动步骤 " ）</block>
  <block id="89cda249c1dcfb212e2523a1509f2923" category="list-text">您已更换已知需要更换的任何故障存储卷的硬件。</block>
  <block id="cc7d29da0493f5243b3413d80e015a5c" category="paragraph">运行 `sn-remount-volumes` 脚本可能有助于您确定其他故障存储卷。</block>
  <block id="8c22737674e172cfed974537f27fdecb" category="list-text">您已检查是否未在执行存储节点停用，或者已暂停节点停用操作步骤 。（在网格管理器中，选择 * 维护 * &gt; * 任务 * &gt; * 取消配置 * 。）</block>
  <block id="3c7b97ffb5dea52110fe3a4b3606ffb2" category="list-text">您已检查扩展是否未在进行中。（在网格管理器中，选择 * 维护 * &gt; * 任务 * &gt; * 扩展 * 。）</block>
  <block id="ca7239d108a8d1b4300e43291a7292c7" category="admonition">如果多个存储节点脱机或此网格中的存储节点在过去 15 天内已重建，请联系技术支持。请勿运行 `sn-recovery-postinstall.sh` 脚本。在两个或多个存储节点上相互重建 Cassandra 的 15 天内可能会导致数据丢失。</block>
  <block id="78b11601fb355602c8a862ebdc1ccfbc" category="paragraph">要完成此操作步骤 ，请执行以下高级任务：</block>
  <block id="7ce286430c4bec56b7c7640670386b91" category="list-text">登录到已恢复的存储节点。</block>
  <block id="f5b800cc46d72f82d118d9eda43f00d1" category="list-text">运行 `sn-remount-volumes` 脚本重新挂载格式正确的存储卷。运行此脚本时，它将执行以下操作：</block>
  <block id="dd812c6189ee638aaecbbfa5618891bc" category="list-text">挂载和卸载每个存储卷以重放 XFS 日志。</block>
  <block id="71fd6a43d41eb47425679c6c40735e37" category="list-text">执行 XFS 文件一致性检查。</block>
  <block id="39970c52b936a0b09566509eb5dc6520" category="list-text">如果文件系统一致，则确定存储卷是否为格式正确的 StorageGRID 存储卷。</block>
  <block id="eca7f0bc3f48de620cdff0d86ec5671a" category="list-text">如果存储卷格式正确，请重新挂载该存储卷。卷上的所有现有数据保持不变。</block>
  <block id="a7d43a6a8d85d5a028cd4228a8f004d4" category="list-text">查看脚本输出并解决任何问题。</block>
  <block id="0bfec271dbe9ba9b836be894934d731a" category="list-text">运行 `sn-recovery-postinstall.sh` 脚本。运行此脚本时，它将执行以下操作。</block>
  <block id="df1df35c8ddf95d733e8ce2f44b3afea" category="admonition">在运行 `sn-recovery-postinstall.sh` （步骤 4 ）重新格式化故障存储卷并还原对象元数据之前，请勿在恢复期间重新启动存储节点。在 `sn-recovery-postinstall.sh` 完成之前重新启动存储节点会导致尝试启动的服务出错，并导致 StorageGRID 设备节点退出维护模式。</block>
  <block id="93eb91ded2e881c847a3648f3b555d19" category="list-text">重新格式化 `sn-remount-volumes` 脚本无法挂载或发现格式不正确的任何存储卷。</block>
  <block id="71487c6959180f7f2c4109d95c7832c4" category="admonition">如果重新格式化某个存储卷，则该卷上的所有数据都将丢失。假设已将 ILM 规则配置为存储多个对象副本，则必须执行额外的操作步骤 以从网格中的其他位置还原对象数据。</block>
  <block id="2036ca088a98299e72b6eb142f1204a3" category="list-text">如果需要，在节点上重建 Cassandra 数据库。</block>
  <block id="143749a6e7c7222eda8c6ce6c15c6422" category="list-text">启动存储节点上的服务。</block>
  <block id="b5f2e6d34b4935e48089a5e51517ab91" category="list-text">登录到已恢复的存储节点：</block>
  <block id="ecc0df2a8081e4e294b4b1b30b88fc57" category="list-text">运行第一个脚本重新挂载任何格式正确的存储卷。</block>
  <block id="4ecf2f7a0ef1c9404ffe4b184df18dbc" category="admonition">如果所有存储卷都是新的，需要进行格式化，或者所有存储卷都出现故障，您可以跳过此步骤并运行第二个脚本，重新格式化所有已卸载的存储卷。</block>
  <block id="3944cefc3865322f84d6d50fc2ab5a54" category="list-text">运行以下脚本： `sn-remount-volumes`</block>
  <block id="92d70f702c3e6f2d15d0ee688dd442ac" category="paragraph">此脚本可能需要数小时才能在包含数据的存储卷上运行。</block>
  <block id="280119e604643cab0b8348f871645627" category="list-text">在脚本运行期间，查看输出并问题解答 任何提示。</block>
  <block id="38f99a32ae5602ba33d26c7e71c76a96" category="admonition">根据需要，您可以使用 `tail -f` 命令监控脚本日志文件的内容（` /var/local/log/SN-remount-volumes.log` ）。日志文件包含比命令行输出更详细的信息。</block>
  <block id="bb48d3c009a8c2a5678320109f9a4037" category="paragraph">在示例输出中，一个存储卷已成功重新挂载，三个存储卷出现错误。</block>
  <block id="df91b564976d2a1239e911fbdcb3a980" category="list-text">` /dev/sdb` 通过了 XFS 文件系统一致性检查，并具有有效的卷结构，因此已成功重新挂载。此脚本重新挂载的设备上的数据将保留下来。</block>
  <block id="b02b1ff8a0d3bcc4d868d6b802a12d6a" category="list-text">由于存储卷是新的或已损坏， ` /dev/sdc` 未通过 XFS 文件系统一致性检查。</block>
  <block id="7c0ff09b477b739916d47bd3eaf81035" category="list-text">无法挂载 ` /dev/sdd` ，因为磁盘已取消初始化或磁盘的超级块已损坏。当脚本无法挂载存储卷时，它会询问您是否要运行文件系统一致性检查。</block>
  <block id="db01572366b3eb7ecd98751a24d52231" category="list-text">如果存储卷已连接到新磁盘，请将 * N * 问题解答 到提示符处。您无需检查新磁盘上的文件系统。</block>
  <block id="8ba8c2185fe63bc874463c365b7c28d6" category="list-text">如果存储卷已连接到现有磁盘，问题解答 请将 * 。 *您可以使用文件系统检查的结果来确定损坏的来源。结果将保存在 ` /var/local/log/sn-remount-volumes.log` 日志文件中。</block>
  <block id="6ca423f68bce22efb863cf9b8ace49cf" category="list-text">` dev/sde` 通过了 XFS 文件系统一致性检查，并且具有有效的卷结构；但是， `volID` 文件中的 LDR 节点 ID 与此存储节点的 ID 不匹配（顶部显示的 `configured LDR noid` ）。此消息表示此卷属于另一个存储节点。</block>
  <block id="a2362efc4422e7b556c291df5279f7dd" category="admonition">如果存储卷未通过 XFS 文件系统一致性检查或无法挂载，请仔细查看输出中的错误消息。您必须了解在这些卷上运行 `sn-recovery-postinstall.sh` 脚本的含义。</block>
  <block id="510417a5ecf581e1e2a156d501fec747" category="list-text">检查以确保结果中包含所需所有卷的条目。如果未列出任何卷，请重新运行此脚本。</block>
  <block id="e81ce6e75e4dc642f8c6442e405bb633" category="list-text">查看所有已挂载设备的消息。确保没有指示存储卷不属于此存储节点的错误。</block>
  <block id="758c06ce7e1bb4c3ca261e76039cf65d" category="paragraph">在此示例中， /dev/sde 的输出包含以下错误消息：</block>
  <block id="c80105b8a4bae28d9a94c5702108459b" category="admonition">如果报告某个存储卷属于另一个存储节点，请联系技术支持。如果运行 `sn-recovery-postinstall.sh` 脚本，则存储卷将重新格式化，从而可能会丢失发生原因 数据。</block>
  <block id="906ba33555ed5f5c5c18b0716c22ec60" category="list-text">如果无法挂载任何存储设备，请记下此设备的名称，然后修复或更换此设备。</block>
  <block id="3ad68a689e925292525f6e47fa616d69" category="admonition">您必须修复或更换任何无法挂载的存储设备。</block>
  <block id="1e7850b908c30597c98f970219a391fb" category="paragraph">您将使用设备名称查找卷 ID ，在运行 `repair-data` 脚本将对象数据还原到卷（下一个操作步骤 ）时，需要输入此 ID 。</block>
  <block id="607e781b27bab37b6a07e3ffeec21bdb" category="list-text">修复或更换所有无法挂载的设备后，再次运行 `sn-remount-volumes` 脚本，以确认可以重新挂载的所有存储卷均已重新挂载。</block>
  <block id="665406f896e49f80fffba83f50712744" category="admonition">如果无法挂载存储卷或存储卷格式不正确，而您继续执行下一步，则此卷以及此卷上的任何数据将被删除。如果对象数据有两个副本，则只有一个副本，直到完成下一个操作步骤 （还原对象数据）为止。</block>
  <block id="7ccfca741a177c65dff511e75c6bacc0" category="admonition">如果您认为无法从网格中的其他位置重建故障存储卷上的剩余数据，请勿运行 `sn-recovery-postinstall.sh` 脚本（例如， ILM 策略使用的规则仅创建一个副本或卷在多个节点上发生故障）。请联系技术支持以确定如何恢复数据。</block>
  <block id="a06930712da1302a4c0bf1a94e250ddf" category="list-text">运行 `sn-recovery-postinstall.sh` 脚本： `sn-recovery-postinstall.sh`</block>
  <block id="527649ca1e923c6c20eee3ef77044ac0" category="paragraph">此脚本将重新格式化无法挂载或格式不正确的任何存储卷；根据需要在节点上重建 Cassandra 数据库；并启动存储节点上的服务。</block>
  <block id="8e64ad5c6fa8e624c5e3a0540ce81b15" category="paragraph">请注意以下事项：</block>
  <block id="68053145cbbd43ad7403755a609cb8d1" category="list-text">此脚本可能需要数小时才能运行。</block>
  <block id="697a1f23c2ecb7210fc26f8396385fed" category="list-text">通常，在脚本运行期间，您应单独保留 SSH 会话。</block>
  <block id="5a4cb0a0a1d84f4a85e33c4323616c54" category="list-text">SSH 会话处于活动状态时，请勿按 * 。 Ctrl+C* 。</block>
  <block id="a27c59bd28b4e7df55b3f05a0c02c29c" category="list-text">如果发生网络中断并终止 SSH 会话，则此脚本将在后台运行，但您可以从 " 恢复 " 页面查看进度。</block>
  <block id="e4ef39f492d9121426eb2c8d5643fcbd" category="list-text">如果存储节点使用 RSM 服务，则随着节点服务重新启动，脚本可能会暂停 5 分钟。每当 RSM 服务首次启动时，预计会有 5 分钟的延迟。</block>
  <block id="df7360b0332a7e105d9b5d8d71e7b656" category="admonition">RSM 服务位于包含此 ADC 服务的存储节点上。</block>
  <block id="f78708bf53a26bbf17be74099706be0f" category="admonition">某些 StorageGRID 恢复过程使用 Reaper 处理 Cassandra 修复。一旦相关服务或所需服务开始，便会自动进行修复。您可能会注意到脚本输出中提到 " `reaper` " 或 "`Cassandra repair.` " 。 如果您看到指示修复失败的错误消息，请运行错误消息中指示的命令。</block>
  <block id="4ecec566e802b2c8cdee32338ebab80e" category="list-text">在 `sn-recovery-postinstall.sh` 脚本运行时，监控网格管理器中的恢复页面。</block>
  <block id="431c8cd4fc0edb8cb882eb4d27488839" category="paragraph">" 恢复 " 页面上的进度条和阶段列可提供 `sn-recovery-postinstall.sh` 脚本的高级状态。</block>
  <block id="59a1f0922c5d39eab9834aa8097f3664" category="image-alt">显示网格管理界面中的恢复进度的屏幕截图</block>
  <block id="5189299b9634b6114d9ab156a3aed3eb" category="list-text">使用计算控制器的 IP 地址输入 `https://Controller_IP:8443` ，返回到 StorageGRID 设备安装程序的监控安装页面。</block>
  <block id="7202f4387c1eaf09150428044ebbca90" category="paragraph">" 监控安装 " 页面显示脚本运行时的安装进度。</block>
  <block id="fd0aaba876c623a1c3d8bf064969883d" category="paragraph">在 `sn-recovery-postinstall.sh` 脚本启动节点上的服务后，您可以将对象数据还原到由该脚本格式化的任何存储卷，如下一个操作步骤 中所述。</block>
  <block id="7777aa464ed907ccf00fe6b3b930bd7a" category="inline-xref-macro">查看有关存储节点系统驱动器恢复的警告</block>
  <block id="e19f8a0c0d3c03bb49f994035b5c65dd" category="paragraph"><block ref="e19f8a0c0d3c03bb49f994035b5c65dd" category="inline-xref-macro-rx"></block></block>
  <block id="42b43c2ab363ac0e26a1623401364517" category="paragraph"><block ref="42b43c2ab363ac0e26a1623401364517" category="inline-xref-macro-rx"></block></block>
  <block id="0e7ed711f3a22b55fd3101001142cdc2" category="summary">您必须运行一个脚本来重新格式化和重新挂载故障存储卷上的存储，并在系统确定有必要时在存储节点上重建 Cassandra 数据库。</block>
  <block id="7c4e63746c7252119a6bd5086b467c8a" category="doc">恢复发生故障的存储卷并重建 Cassandra 数据库</block>
  <block id="093d9d472395c518a3ea03b4b7e97aed" category="list-text">服务器上的系统驱动器必须完好无损。</block>
  <block id="20c0e7a5ad15a680366ad10c7337db53" category="list-text">必须已确定故障的发生原因 ，必要时，必须已购买更换存储硬件。</block>
  <block id="a3acff8de1f39ef7b1b95a8680bb0c10" category="list-text">替换存储的总大小必须与原始存储相同。</block>
  <block id="ca24941464902a78e84d6af0f36b940a" category="inline-xref-macro">已查看有关存储卷恢复的警告</block>
  <block id="c0759f3496348941d9095936f47bde7b" category="list-text">您已拥有 <block ref="9c7da4de4077fca21f8e79bdd6af2612" category="inline-xref-macro-rx"></block>。</block>
  <block id="84e6b7484f7244532231bd836a2a9ff1" category="list-text">根据需要，更换与先前已确定并卸载的故障存储卷关联的故障物理或虚拟存储。</block>
  <block id="20eb08b68d111498c55fa6b59e85be80" category="paragraph">更换存储后，请确保重新扫描或重新启动以确保操作系统能够识别该存储，但不要重新挂载卷。存储将重新挂载并在稍后的步骤中添加到 ` /etc/fstab` 中。</block>
  <block id="248ab6d1d7ff1dee67e37eb9786bae40" category="list-text">使用文本编辑器（ vi 或 vim ）从 ` /etc/fstab` 文件中删除故障卷，然后保存该文件。</block>
  <block id="09394dd2189209b5afc40b81d78db444" category="admonition">在 ` /etc/fstab` 文件中注释掉故障卷不足。必须从 `fstab` 中删除卷，因为恢复过程会验证 `fstab` 文件中的所有行是否与挂载的文件系统匹配。</block>
  <block id="3be38f08c6df7f67adc2a0183f20c890" category="list-text">重新格式化任何发生故障的存储卷，并根据需要重建 Cassandra 数据库。输入： `reformat_storage_block_devices.rb`</block>
  <block id="5b22538c1f61f9d17a72b58b5c049c6d" category="list-text">如果存储服务正在运行，系统将提示您停止这些服务。输入： *</block>
  <block id="20e9599408f2aa0812556b3bc43bdf3f" category="list-text">如果需要，系统将提示您重建 Cassandra 数据库。</block>
  <block id="ee0c67fbd38df09a7b4b806def2417ef" category="list-text">查看警告。如果其中任何一项都不适用，请重建 Cassandra 数据库。输入： *</block>
  <block id="3b2695afaa135436cd424228cef5f1e3" category="list-text">如果多个存储节点脱机或在过去 15 天内重建了另一个存储节点。输入： *</block>
  <block id="e08a49fbe35cb29134bf1b734c0c2fa8" category="paragraph">该脚本将退出而不重建 Cassandra 。请联系技术支持。</block>
  <block id="74bb1061ea2bdac8d8fb8de6bc689b11" category="list-text">对于存储节点上的每个 rangedb 驱动器，当系统询问您以下问题时： `是否重新格式化 rangedb 驱动器 _&lt;name&gt;_ （ device _&lt; 主要号码 &gt;： &lt; 次要号码 &gt;_ ）？[Y/n] ？` ，输入以下回答之一：</block>
  <block id="b518f275ce80ba7288e0ef0022589da2" category="list-text">* y * 重新格式化出现错误的驱动器。这会重新格式化存储卷，并将重新格式化的存储卷添加到 ` /etc/fstab` 文件中。</block>
  <block id="0f3c390cb59f6e72e17002201a1fddc9" category="list-text">如果驱动器不包含任何错误，并且您不想重新格式化它，则为 * 否 * 。</block>
  <block id="35fbaeef7fa7da89d4589d6889bd8b41" category="admonition">选择 * n * 将退出此脚本。挂载驱动器（如果您认为应保留驱动器上的数据且错误地卸载了驱动器）或删除驱动器。然后，再次运行 `reformat_storage_block_devices.rb` 命令。</block>
  <block id="574c1694f2979102844121099ecea07c" category="paragraph">在以下示例输出中，必须重新格式化驱动器 ` /dev/sdf` ，而不需要重建 Cassandra ：</block>
  <block id="656712919a02be006e72dace76f326a8" category="summary">停用网格节点之前，您必须确认没有处于活动状态的数据修复作业。如果任何修复失败，您必须重新启动修复并让其完成，然后再执行停用操作步骤 。</block>
  <block id="2d0572f05de23951cd4467122751f330" category="paragraph">如果您需要停用已断开连接的存储节点，则还需要在停用操作步骤 完成后完成这些步骤，以确保数据修复作业已成功完成。您必须确保已成功还原已删除节点上的任何经过擦除编码的片段。</block>
  <block id="2af203237d7d0c7315a5f3cd615bd12c" category="paragraph">这些步骤仅适用于具有纠删编码对象的系统。</block>
  <block id="b204e5df12cfa28aa030b8258a42752d" category="list-text">检查正在运行的修复： `repair-data show-EC-repair-status`</block>
  <block id="af9edf8665a17be2b835844cbb177009" category="list-text">如果您从未运行过数据修复作业，则输出为 `No job found` 。您无需重新启动任何修复作业。</block>
  <block id="875928907796590586a91547ee35ec07" category="list-text">如果数据修复作业先前已运行或当前正在运行，则输出将列出要修复的信息。每个修复都有一个唯一的修复 ID 。继续执行下一步。</block>
  <block id="e26a95a7b5f0d4097b5e589ba37031b7" category="list-text">`S所有修复的状态为 " 无 "` ，则无需重新启动任何修复作业。</block>
  <block id="5cc9606cf73d96d1c2bd9161ae8ed57f" category="list-text">如果要进行任何修复的状态为 `failure` ，则必须重新启动此修复。</block>
  <block id="802be80748b58430f2ddb9e059d5861a" category="list-text">从输出中获取失败修复的修复 ID 。</block>
  <block id="38b6bd3ecbf09833754d6b7c913113ed" category="list-text">运行 `repair-data start-EC-node-repair` 命令。</block>
  <block id="ae1476963c51f7b55dbe26da02fcd683" category="paragraph">使用 ` -repair-id` 选项指定修复 ID 。例如，如果要重试修复 ID 为 949292 的修复，请运行以下命令： `repair-data start-EC-node-repair -repair-id 949292`</block>
  <block id="8920d1e9a3c64eb75d5a0c1806765835" category="list-text">`S跟踪 EC 数据修复的状态，直到所有修复的状态为 " 无 "` 。</block>
  <block id="3122d12b9fd7ba6302a6bdc2a3312c82" category="summary">从 " 弃用站点 " 向导的第 3 步 \ （修改 ILM 策略）中，您可以确定活动的 ILM 策略是否引用此站点。</block>
  <block id="7cea4207212a4d7fd2923e0e034133cd" category="doc">第 3 步：修订 ILM 策略</block>
  <block id="7645cc2c054558bbf56e8e79db826265" category="paragraph">从 " 弃用站点 " 向导的第 3 步（修订 ILM 策略）中，您可以确定活动的 ILM 策略是否引用此站点。</block>
  <block id="3a97197c90486df9358eae07b8917909" category="paragraph">您很好地了解 ILM 的工作原理，并且熟悉创建存储池，擦除编码配置文件， ILM 规则以及模拟和激活 ILM 策略。</block>
  <block id="840f3edb9f229f1a6e5836b9a3ce42a3" category="paragraph">如果某个站点是由活动 ILM 策略中的任何 ILM 规则引用的，则 StorageGRID 无法停用该站点。</block>
  <block id="dacf5b695b7d481042514449c1b35568" category="paragraph">如果您当前的 ILM 策略是指要删除的站点，则必须激活满足特定要求的新 ILM 策略。具体而言，新的 ILM 策略：</block>
  <block id="aadaf70e78264b0abb9174a6ed4343c2" category="list-text">无法使用引用站点的存储池。</block>
  <block id="19e9fc6eaa7eee8a338b21ada4139759" category="list-text">无法使用引用站点的擦除编码配置文件。</block>
  <block id="052bae4a7648c3451e1df9e4fb203351" category="list-text">无法使用默认的 * 所有存储节点 * 存储池或默认的 * 所有站点 * 站点。</block>
  <block id="3a4a402f88ac6da2c60b14b883f68822" category="list-text">无法使用常用 * 创建 2 个副本 * 规则。</block>
  <block id="77066cafd24cd8ebfa0cffe146180987" category="list-text">必须设计为完全保护所有对象数据。</block>
  <block id="53989e02780cab8389d4961495d04104" category="paragraph">如果您要执行 _connected site decommission_ ，则必须考虑 StorageGRID 应如何管理您要删除的站点上当前的对象数据。根据您的数据保护要求，新规则可以将现有对象数据移动到不同的站点，也可以删除不再需要的任何额外对象副本。</block>
  <block id="8076288289eb6dafc985465ee98fbb4a" category="paragraph">如果您在设计新策略时需要帮助，请联系技术支持。</block>
  <block id="81a1f904e9e99115f0edaf081f26232e" category="list-text">从第 3 步（修订 ILM 策略）中，确定活动 ILM 策略中的任何 ILM 规则是否引用您选择删除的站点。</block>
  <block id="dde9423835f4c9bfb4adb7902955e5d4" category="image-alt">停用站点步骤 3 修订 ILM 策略</block>
  <block id="09b7aca040dcd9aa197c0146d820ed3d" category="list-text">如果未列出任何规则，请选择 * 下一步 * 以转到步骤 4 （删除 ILM 引用）</block>
  <block id="337b77c2aed78bc5c13d6033d89e812b" category="inline-xref-macro">第 4 步：删除 ILM 引用</block>
  <block id="b6d8a32288fc86585a976cf14a097a13" category="paragraph"><block ref="b6d8a32288fc86585a976cf14a097a13" category="inline-xref-macro-rx"></block></block>
  <block id="39e35e88e99d9161ed5e3b60f12f5c44" category="list-text">如果表中列出了一个或多个 ILM 规则，请选择 * 活动策略名称 * 旁边的链接。</block>
  <block id="1489e032b17bab5feb0c15df5eeabe9a" category="paragraph">此时， ILM 策略页面将显示在新的浏览器选项卡中。使用此选项卡更新 ILM 。" 取消配置站点 " 页面将在 " 其他 " 选项卡上保持打开状态。</block>
  <block id="b38c396542fed933a019e77cceb13152" category="list-text">如有必要，请选择 * ILM * &gt; * 存储池 * 以创建一个或多个不引用站点的存储池。</block>
  <block id="ec9501164f749c623237cb3e572efad7" category="admonition">有关详细信息，请参见有关通过信息生命周期管理来管理对象的说明。</block>
  <block id="c4048bc20caa42aee6db116e33e5b7f5" category="list-text">如果您计划使用纠删编码，请选择 * 。 IL* &gt; * 纠删编码 * 以创建一个或多个纠删编码配置文件。</block>
  <block id="e9a6ad0dd9ee8f489848c3a3b5317615" category="paragraph">您必须选择不引用站点的存储池。</block>
  <block id="9e3bb7349813f5137de5e12c7c1f9982" category="admonition">请勿在擦除编码配置文件中使用 * 所有存储节点 * 存储池。</block>
  <block id="f769928c3dd6bf9b2204bdacb75e3fe9" category="list-text">选择 * ILM * &gt; * 规则 * ，然后克隆步骤 3 （修订 ILM 策略）表中列出的每个规则。</block>
  <block id="eb875a39f4918c2673c1194c39d9a803" category="list-text">使用名称可以轻松地在新策略中选择这些规则。</block>
  <block id="d2af0787f3da57221665ee979eb43fbc" category="list-text">更新放置说明。</block>
  <block id="9373f393df14abe04b201962a3bd015c" category="paragraph">删除引用站点的任何存储池或擦除编码配置文件，并将其替换为新的存储池或擦除编码配置文件。</block>
  <block id="99e2595a4ff1d0c6d5e7703488fb1c34" category="admonition">请勿在新规则中使用 * 所有存储节点 * 存储池。</block>
  <block id="24b68e2b460f048f64142c13367635e1" category="list-text">选择 * ILM * &gt; * 策略 * ，然后创建一个使用新规则的新策略。</block>
  <block id="bb8cc8116d2dc9fcc61656283ccabb33" category="list-text">选择活动策略，然后选择 * 克隆 * 。</block>
  <block id="159802aa044509ba90160d6b8fb7ca6c" category="list-text">指定策略名称和更改原因。</block>
  <block id="88ad16196f49b1e90abb289339145057" category="list-text">为克隆的策略选择规则。</block>
  <block id="aef5db899ae0c4ad3d942e88364fd190" category="list-text">取消选择 " 弃用站点 " 页面的第 3 步（修订 ILM 策略）中列出的所有规则。</block>
  <block id="3fb67fc04295b7f9e27e916efb022f3e" category="list-text">选择不引用站点的默认规则。</block>
  <block id="5840e870235bb73d76772fe154379b00" category="admonition">请勿选择 * 创建 2 个副本 * 规则，因为该规则使用 * 所有存储节点 * 存储池，这是不允许的。</block>
  <block id="2e61fd1bc1dad972bc6814765c69daa4" category="list-text">选择您创建的其他替换规则。这些规则不应引用站点。</block>
  <block id="60cfa5964e6e702aa2aae2155fb8c56b" category="image-alt">停用站点步骤 3 克隆策略</block>
  <block id="24347b3ddf5a25cc9c27e54ae285ade1" category="list-text">选择 * 应用 * 。</block>
  <block id="9f00500fd924249a60e57818d70f11ed" category="list-text">拖放这些行以重新排列策略中的规则。</block>
  <block id="35ccd29f5ada2338fe13d1a0ff630cb1" category="paragraph">您不能移动默认规则。</block>
  <block id="81c24566c1cde27f94d3d2d7fa0909c6" category="admonition">您必须确认 ILM 规则的顺序正确。激活策略后，新对象和现有对象将按列出的顺序从顶部开始进行评估。</block>
  <block id="8fcfa1242ece8e49a3bfdbbdc5b3e780" category="list-text">保存建议的策略。</block>
  <block id="27ea40b76474d7694a1fe37f15a5a80b" category="list-text">载入测试对象并模拟建议的策略，以确保应用正确的规则。</block>
  <block id="63e03e1bb7ad9aad5932981a723cbfb9" category="admonition">ILM 策略中的错误可能会导致发生原因 丢失不可恢复的数据。在激活策略之前，请仔细查看并模拟策略，以确认策略将按预期运行。</block>
  <block id="043630c4641443c637d88fb68677f91d" category="admonition">激活新的 ILM 策略时， StorageGRID 会使用它来管理所有对象，包括现有对象和新载入的对象。在激活新的 ILM 策略之前，请查看对现有复制对象和纠删编码对象的放置方式所做的任何更改。在评估和实施新放置时，更改现有对象的位置可能会导致临时资源问题。</block>
  <block id="b0ed4d5d8eed13f1625bee1ab1ee7406" category="list-text">激活新策略。</block>
  <block id="2862abb87e6b2a14b43400957e9e81f3" category="paragraph">如果您要执行已连接站点停用，则一旦激活新的 ILM 策略， StorageGRID 就会开始从选定站点删除对象数据。移动或删除所有对象副本可能需要数周时间。尽管在站点上仍存在对象数据的情况下，您可以安全地开始站点停用，但如果您允许在实际停用操作步骤 之前从站点移动数据，则停用操作步骤 将更快地完成，并减少中断和性能影响 （通过在向导的步骤 5 中选择 * 启动取消配置 * ）。</block>
  <block id="399c0ff0c77ab33001cd1461097a4e76" category="list-text">返回到 * 步骤 3 （修订 ILM 策略） * ，以确保新活动策略中没有引用站点的 ILM 规则，并且已启用 * 下一步 * 按钮。</block>
  <block id="fa9744e356903851f09bcead9fb55911" category="image-alt">停用站点步骤 3 无规则</block>
  <block id="e712a32d1a49c25ee479d13d41dd4ffe" category="admonition">如果列出了任何规则，则必须先创建并激活新的 ILM 策略，然后才能继续。</block>
  <block id="44864c46537a1958316fb3b2982ba40d" category="list-text">如果未列出任何规则，请选择 * 下一步 * 。</block>
  <block id="d7faf29aea7b593688d72e2bdc54fddb" category="paragraph">此时将显示第 4 步（删除 ILM 参考）。</block>
  <block id="901dc23376e32ec86be7e8f2dabeb81c" category="summary">恢复设备存储节点后，您必须验证设备存储节点的所需状态是否设置为联机，并确保每当重新启动存储节点服务器时，此状态默认为联机。</block>
  <block id="7c05456ed4a9030595d430fa306a110e" category="doc">恢复设备存储节点后检查存储状态</block>
  <block id="3edbabac6692772ec5eec4bac9ad360c" category="summary">如果能够保留故障主管理节点中的审核日志，则可以将其复制到要恢复的主管理节点。</block>
  <block id="4c5a7ef47661ac4499872d30098f38ee" category="doc">在已恢复的主管理节点上还原审核日志</block>
  <block id="0c92d1093d5d78e6e083a6ee4f93bf3b" category="list-text">输入以下命令： `ssh admin@recovery_Admin_Node_IP`</block>
  <block id="bcff2d10925234438f07acdbe88d3201" category="list-text">检查已保留哪些审核文件： `cd /var/local/audit/export`</block>
  <block id="a2a3a502b45fb89ba1d9303936a7e686" category="list-text">将保留的审核日志文件复制到已恢复的管理节点： `scp admin@ grid_node_ip_ ： /var/local/tmp/saved-audit-logs/yyy* 。`</block>
  <block id="189e459b7ed177b1cc4b563548d35288" category="list-text">更新已恢复管理节点上审核日志文件的用户和组设置： `chown AMS-user ： bycast *`</block>
  <block id="a1a6d9805485ed7076f5e1df5449ccbd" category="summary">安装 Linux 节点后，您可以向该节点添加额外的中继或访问接口。添加的接口将显示在 VLAN 接口页面和 HA 组页面上。</block>
  <block id="d168a7cf2da183b0444fd13ccda3f798" category="list-text">您可以访问有关在 Linux 平台上安装 StorageGRID 的说明。</block>
  <block id="416684d151244b5a2a6c67d1be92ea7b" category="admonition">在软件升级，恢复操作步骤 或扩展操作步骤 处于活动状态时，请勿尝试向节点添加接口。</block>
  <block id="d71924b04c730c0128d5f7e7a16e5da7" category="paragraph">安装完 Linux 节点后，请按照以下步骤向该节点添加一个或多个额外的接口。例如，您可能希望将中继接口添加到管理节点或网关节点，以便可以使用 VLAN 接口隔离属于不同应用程序或租户的流量。或者，您可能希望添加一个访问接口以在高可用性（ HA ）组中使用。</block>
  <block id="3337d780231afad5c26e03cd064b667b" category="paragraph">添加接口时，节点暂时不可用。您应一次在一个节点上执行此操作步骤 。</block>
  <block id="6083680d12ef47d5acb1c13792af2e99" category="list-text">使用 vim 或 pico 等文本编辑器编辑节点配置文件：</block>
  <block id="8be6e4cb08ca6f131d6ebd60f92cdae3" category="paragraph">` /etc/storaggrid/nodes/_node-name_.conf`</block>
  <block id="2c1bb13aa9d97f946213d4efba1cd6e9" category="list-text">向文件中添加一个条目，以指定要添加到节点的每个额外接口的名称以及问题描述 （可选）。请使用此格式。</block>
  <block id="fead9c031e3d0402646712b35701ff2a" category="paragraph">`interfaces_target_nnn=_value_`</block>
  <block id="f409836be20e1df2f2f6ceaf78c96e8a" category="paragraph">对于 _nnnn_ ，请为要添加的每个 `interfaces_target` 条目指定一个唯一编号。</block>
  <block id="bfb4173963592007dd61f0506b7a4bab" category="paragraph">对于 _value_ ，指定裸机主机上物理接口的名称。然后，也可以添加一个逗号并提供接口的问题描述 ，该接口将显示在 "VLAN interfaces" 页面和 "HA Groups" 页面上。</block>
  <block id="084f9a3a2e69f36154f56028c0b00af2" category="paragraph">`interfaces_target_01=ens256 ，中继`</block>
  <block id="3be952806cbed047723905f143a0ef6f" category="list-text">运行以下命令以验证对节点配置文件所做的更改：</block>
  <block id="1f0cd3bc16ff9087bf9deb8a8c7ff8a0" category="list-text">运行以下命令以更新节点的配置：</block>
  <block id="bd965e38a0c9cf27aa1bde099308e23f" category="list-title">完成后</block>
  <block id="52086cdccbdb4496b5749d136347e4c0" category="list-text">如果添加了一个或多个中继接口，请转到 <block ref="c9208c09a47e45bbe2fa2aee08ac3fec" category="inline-xref-macro-rx"></block> 为每个新的父接口配置一个或多个 VLAN 接口。</block>
  <block id="2a58fb73a24f637ca7bdfb6252672d8d" category="list-text">如果添加了一个或多个访问接口，请转到 <block ref="c023012a9467168f03ff3ab1ef71cc70" category="inline-xref-macro-rx"></block> 将新接口直接添加到 HA 组。</block>
  <block id="72eb1005b13c13bfcbda5b2f7365b939" category="summary">在启动此操作步骤 以停用一个或多个节点之前，您必须了解删除每种类型的节点的含义。成功停用节点后，其服务将被禁用，并且节点将自动关闭。</block>
  <block id="9718547de17ba77c7f5d23e106023058" category="doc">网格节点停用注意事项</block>
  <block id="928b9e6bb1b8f617c566dad5fa944538" category="paragraph">如果停用某个节点会使 StorageGRID 处于无效状态，则无法停用此节点。将强制实施以下规则：</block>
  <block id="56fd13bd12b00fe8543bebac14e77b22" category="list-text">您不能停用主管理节点。</block>
  <block id="9d9ba4e6e4fed63543a7d6fdd3bb1c5e" category="list-text">您不能停用归档节点。</block>
  <block id="9f12486e3ba313e0b024cf659942e89c" category="list-text">如果管理节点或网关节点的某个网络接口属于高可用性（ HA ）组，则无法停用此节点。</block>
  <block id="22e8ba91660ea116c1356d1f4c3c71c4" category="list-text">如果删除存储节点会影响到模数转换器仲裁，则无法停用该存储节点。</block>
  <block id="bfaca029877b05acb846ff14faadb4cb" category="list-text">如果活动 ILM 策略需要存储节点，则无法停用它。</block>
  <block id="b5580c758976f70e454cdbd2a0487689" category="list-text">在一个 " 停用节点 " 操作步骤 中停用的存储节点不应超过 10 个。</block>
  <block id="9793b5a539080461663419d44cc33802" category="list-text">如果网格包含任何已断开连接的节点（运行状况为未知或管理员关闭的节点），则无法停用已连接节点。您必须先停用或恢复已断开连接的节点。</block>
  <block id="45982adcc7d875bec1dc8cad71c466f1" category="list-text">如果您的网格包含多个断开连接的节点，则软件要求您同时停用所有节点，从而增加意外结果的可能性。</block>
  <block id="9b50ffbf99003a38cfcec50c1055e848" category="list-text">如果无法删除已断开连接的节点（例如，为实现模数转换器仲裁所需的存储节点），则不能删除任何其他已断开连接的节点。</block>
  <block id="eb8829572790fe256a445e345d084dd0" category="inline-xref-macro">正在克隆设备节点</block>
  <block id="510e22e3049c4676ed9052e03c4b1260" category="list-text">如果要将旧设备更换为新设备，请考虑 <block ref="911e2830e0d16feb2050e9f773dd7be4" category="inline-xref-macro-rx"></block> 而不是停用旧节点并在扩展中添加新节点。</block>
  <block id="2ed4ad230190873b6b4c4f72234e8384" category="admonition">在停用过程中指示删除网格节点的虚拟机或其他资源之前，请勿删除。</block>
  <block id="93e9dff4d2115591a4c06963ebb42f8e" category="summary">如果系统驱动器发生故障，您必须先更换存储节点。</block>
  <block id="1cdf8f49ef2ff3da5ebee4250cf758fa" category="doc">更换存储节点</block>
  <block id="d873b08955f6e00eca5433c8374db6a3" category="admonition">仅限此基于 操作步骤 适用场景 软件的存储节点。要恢复设备存储节点，您必须遵循其他操作步骤 。</block>
  <block id="7e874fdaa50dc72ace693e1836608ce5" category="paragraph"><block ref="7e874fdaa50dc72ace693e1836608ce5" category="inline-xref-macro-rx"></block></block>
  <block id="bc1a9f2401bcff748acc50539dbf3b63" category="paragraph">* Linux ： * 如果您不确定系统驱动器是否出现故障，请按照说明更换节点以确定需要执行哪些恢复步骤。</block>
  <block id="4d979ed76d52d398ec6f6b368886ca7e" category="summary">您也可以在出现故障的非主管理节点上保留 Prometheus 维护的历史指标。</block>
  <block id="20c4144a478121ca3497cbab07f78074" category="doc">恢复非主管理节点时还原 Prometheus 指标</block>
  <block id="fed0adf1b900ccef295f40224ee935ee" category="list-text">StorageGRID 系统必须至少包含两个管理节点。</block>
  <block id="766dcfb2571f959a2a5e5ebdab203b3b" category="paragraph">如果管理节点出现故障，则在管理节点上的 Prometheus 数据库中维护的指标将丢失。恢复管理节点后，软件安装过程将创建一个新的 Prometheus 数据库。在启动已恢复的管理节点后，它会将指标记录为您已执行 StorageGRID 系统的新安装。</block>
  <block id="5e6f6c46e20a76c4ea94fa33313069bc" category="paragraph">如果还原了非主管理节点，则可以通过将 Prometheus 数据库从主管理节点（ _source Admin Node_ ）复制到恢复的管理节点来还原历史指标。</block>
  <block id="b0d8382a8f321bb88ed014e1eda0146d" category="list-text">在已恢复的管理节点上完成以下步骤：</block>
  <block id="ecba6162930210d1bdee43ca187f142e" category="list-text">将 Prometheus 数据库从源管理节点复制到已恢复的管理节点： ` /usr/local/Prometheus/bin/prometheus-clone-db.sh Source_Admin_Node_IP`</block>
  <block id="486b7156abe0454924b8750d4c520f2c" category="list-text">出现提示时，按 * 输入 * 确认要销毁已恢复管理节点上的新 Prometheus 数据库。</block>
  <block id="5e01c1c9d79d7bbe36ae18df5db3af68" category="paragraph">原始 Prometheus 数据库及其历史数据将复制到已恢复的管理节点。完成复制操作后，此脚本将启动已恢复的管理节点。此时将显示以下状态：</block>
  <block id="0ff068a9c47dbeee0f3b67174acdc772" category="paragraph">已克隆数据库，正在启动服务</block>
  <block id="1ed2f8c537da823e46ad98b460d5d692" category="list-text">在源管理节点上重新启动 Prometheus 服务。 `sservice Prometheus start`</block>
  <block id="12e5a882943edb2276c54ed860d55923" category="summary">在恢复 StorageGRID 网格节点之前，您必须下载软件并提取文件。</block>
  <block id="0978a034086ddfd7dc587712437c9590" category="paragraph"><block ref="0978a034086ddfd7dc587712437c9590" category="inline-link-rx"></block></block>
  <block id="151fa9e5894b8e8a891bd37dc0fd2cee" category="paragraph">StorageGRID 软件版本采用以下格式： 11.x.y 。</block>
  <block id="68297c64b92c2f6335f0f4bfcc86d1e5" category="summary">除了一些例外情况，您可以像在初始安装过程中一样准备新主机。</block>
  <block id="d92150b81f976765bc74e151a501583f" category="paragraph">要部署新的或重新安装的物理或虚拟 Linux 主机，请按照适用于 Linux 操作系统的 StorageGRID 安装说明中的操作步骤 准备主机。</block>
  <block id="7fc6619380d2a2ce9e414fc90c8ee6f4" category="paragraph">此操作步骤 包含用于完成以下任务的步骤：</block>
  <block id="2dd7383fe5214e3ef822641f2ef549d7" category="list-text">安装 Linux 。</block>
  <block id="f707c2ebe1dad45b3e10f5ec2ddc0df1" category="list-text">配置主机网络。</block>
  <block id="ab65c67556483a41f3c0476cfed6dd68" category="list-text">配置主机存储。</block>
  <block id="9dfb2f743467a41ae6bde50cb29ed987" category="list-text">安装容器引擎。</block>
  <block id="8539476a05f1243fd6de9160589a712a" category="list-text">安装 StorageGRID 主机服务。</block>
  <block id="bf4da9966f6a9a219428a1f8fe903986" category="admonition">完成安装说明中的 "`安装 StorageGRID 主机服务` " 任务后停止。请勿启动 " `D部署网格节点` " 任务。</block>
  <block id="2dd079a644507f1845dde23e7f1ea5fd" category="paragraph">执行这些步骤时，请注意以下重要准则：</block>
  <block id="debbbf87800bc66b41af0c9e2e57d499" category="list-text">请确保使用与原始主机上使用的主机接口名称相同的主机接口名称。</block>
  <block id="0157ac55e5f5b26ce44d90f9d8565506" category="list-text">如果您使用共享存储来支持 StorageGRID 节点，或者已将部分或全部磁盘驱动器或 SSD 从故障节点移至替代节点，则必须重新建立原始主机上的相同存储映射。例如，如果按照安装说明中的建议在 ` /etc/multipath.conf` 中使用了 WWID 和别名，请务必在替代主机上的 ` /etc/multipath.conf` 中使用相同的别名 /WWID 对。</block>
  <block id="22bfd283337bf55a8787a4db2c9f3845" category="summary">安装 VM 节点后，您可以向其添加额外的中继或访问接口。添加的接口将显示在 VLAN 接口页面和 HA 组页面上。</block>
  <block id="528024d238af2b2b60ae2c337830a31d" category="doc">VMware ：向节点添加中继或访问接口</block>
  <block id="b1cfa4ab4f477052db8268a055b98ee8" category="paragraph">您可以在安装 VM 节点后向该节点添加中继或访问接口。添加的接口将显示在 VLAN 接口页面和 HA 组页面上。</block>
  <block id="a706158c3a8c875e182b750bbb0435c8" category="list-text">您可以访问有关在 VMware 平台上安装 StorageGRID 的说明。</block>
  <block id="4a916d68c515412b4963456cc7660925" category="list-text">您已配置 StorageGRID 11.6.</block>
  <block id="3dd582b6c5a4775b7793db154e0b3360" category="list-text">您拥有管理节点和网关节点 VMware 虚拟机。</block>
  <block id="b5636f0a01f1e18e2060ee1c6c1b018d" category="list-text">您的网络子网未用作网格，管理员或客户端网络。</block>
  <block id="07158a9c85839efd1663bc5b15777788" category="paragraph">安装 VMware 节点后，请按照以下步骤向该节点添加一个或多个额外接口。例如，您可能希望将中继接口添加到管理节点或网关节点，以便可以使用 VLAN 接口隔离属于不同应用程序或租户的流量。或者，您可能希望添加一个访问接口以在高可用性（ HA ）组中使用。</block>
  <block id="88797c2d34161aec936b1aa0a4e5a59d" category="paragraph">添加接口时，节点可能会暂时不可用。</block>
  <block id="9e2ed73bf58885f31e0c59b890a131ac" category="list-text">在 vCenter 中，向管理节点和网关节点虚拟机添加新的网络适配器（类型为 VMXNET3 ）。选中 * 已连接 * 和 * 在启动时连接 * 复选框。</block>
  <block id="e10ca1adb349a5228f7573a244805247" category="image-alt">vCenter</block>
  <block id="4fb570d84d054d3a21ca1e883d75a788" category="list-text">使用 SSH 登录到管理节点或网关节点。</block>
  <block id="6e9a6a2312e38ca7c2bf73365505a388" category="list-text">使用 `ip link show` 确认检测到新的网络接口 ens256 。</block>
  <block id="4848145f7848a2a8f82ee99f87a6b27b" category="summary">您可能需要重新启动服务器管理器以及网格节点上运行的所有服务。</block>
  <block id="dccff335b02dc0b2d271abc3fd343155" category="doc">重新启动 Server Manager 和所有服务</block>
  <block id="656902fd5a68e9b001ae69ee7d0e768d" category="list-text">重新启动服务器管理器以及网格节点上的所有服务： `service servermanager restart`</block>
  <block id="109832c227da8ea63127b1c823972edc" category="paragraph">Server Manager 以及网格节点上的所有服务将停止并重新启动。</block>
  <block id="3ce914c90d14c9eb5931c0d83e4b136e" category="admonition">使用 `restart` 命令与依次使用 `stop` 命令和 `sstart` 命令相同。</block>
  <block id="36a209a7a73995310b2bc7cb3c900a89" category="summary">您可以在管理网络子网列表中添加，删除或更改一个或多个节点的子网。</block>
  <block id="69f91f1b344386bf354c4fd0b289ef0b" category="doc">在管理网络上添加或更改子网列表</block>
  <block id="621cb6900d91db7fc019170b9be3641a" category="paragraph">您可以为管理网络子网列表中的所有节点添加，删除或更改子网。</block>
  <block id="02b2cbbed98f9410e0cc12b7f633fd7a" category="list-text">或者，也可以限制执行操作的网络 / 节点。选择以下选项之一：</block>
  <block id="23327413fdc04da85eecf932f4f8f61c" category="list-text">如果要筛选要执行操作的特定节点，请选择 * 1 * 以选择要编辑的节点。选择以下选项之一：</block>
  <block id="528e3a0b71cae779d4846fae1b322e11" category="list-text">* 1 * ：单个节点（按名称选择）</block>
  <block id="94fe4a91ab89446326c27fe43df2bb46" category="list-text">* 2 * ：单个节点（按站点选择，然后按名称选择）</block>
  <block id="58d2b4d5d922e2dcefbd5f0e7763e4ad" category="list-text">* 3 * ：单个节点（由当前 IP 选择）</block>
  <block id="b74c3e907883de6d64ef19d132e96975" category="list-text">*0* ：返回</block>
  <block id="52506328f0257a201180e25a14ce274b" category="list-text">允许 "`所有` " 保持选中状态。进行选择后，将显示主菜单屏幕。选定节点字段反映了您的新选择，现在，选定的所有操作将仅对此项执行。</block>
  <block id="cda4a1a3709437d0c2aaadd70c423f93" category="list-text">在主菜单上，选择用于编辑管理网络子网的选项（选项 * 3 * ）。</block>
  <block id="a7a08622ee5c8019b57354b99b7693b2" category="list-text">选择以下选项之一：</block>
  <block id="f0d30cedd4171655bda8b35f110eece9" category="list-text">输入以下命令添加子网： `add CIDR`</block>
  <block id="b3c9e63a99fb8c93b5b2f2c40705ac6f" category="list-text">输入以下命令删除子网： `del CIDR`</block>
  <block id="90d58b29c5e05811364766c16ba15ae9" category="list-text">输入以下命令设置子网列表： `set CIDR`</block>
  <block id="848f7ea24a71b6ce59fe88bdb93e0e1f" category="admonition">对于所有命令，您可以使用以下格式输入多个地址： `add CIDR ， CIDR`</block>
  <block id="b760a6a4a89d041b1910148ade4dda83" category="paragraph">示例： `add 172.14.0.0/16 ， 172.15.0.0/16 ， 172.16.0.0/16`</block>
  <block id="01ad44ce1d84746ede05c1116e5e12d2" category="admonition">您可以使用 "`向上箭头` " 将先前键入的值调用到当前输入提示符，然后根据需要对其进行编辑，从而减少所需的键入量。</block>
  <block id="8cb7dab8fadbf7f32b7c7d0f2fb4ae4e" category="paragraph">以下示例输入显示了如何向管理网络子网列表添加子网：</block>
  <block id="f19df5601562f369a7cfd576f0253a83" category="image-alt">更改 IP 工具示例</block>
  <block id="a78a9176f69e4b2238b4bd17ec50856f" category="list-text">准备好后，输入 * 。 q* 可返回主菜单屏幕。您所做的更改将一直保留，直到清除或应用为止。</block>
  <block id="bf636e68a9883bb5221edc0e014d9617" category="admonition">如果您在步骤 2 中选择了任何 " 全部 " 节点选择模式，则必须按 * 输入 * （不带 * q* ）才能访问列表中的下一个节点。</block>
  <block id="25e222d6b94d9ddaa2d8a83a413f7b0a" category="list-text">选择选项 * 5* 可显示输出中的编辑内容，而输出中的编辑内容是孤立的，仅显示更改后的项。所做的更改以绿色（添加项）或红色（删除项）突出显示，如以下示例输出所示：</block>
  <block id="39eed594507b4892eb1befffd3c74867" category="list-text">选择选项 *6* 可在显示完整配置的输出中显示编辑内容。更改将以绿色（添加项）或红色（删除项）突出显示。* 注： * 某些终端模拟器可能会使用删除线格式显示添加和删除内容。</block>
  <block id="165350a1c618a5af3d0bc4b0d3dd2894" category="paragraph">尝试更改子网列表时，将显示以下消息：</block>
  <block id="fe455d9ddcde4070487e0870e17c8cd4" category="paragraph">如果您未明确将 NTP 和 DNS 服务器子网分配给网络，则 StorageGRID 会自动为此连接创建一个主机路由（ /32 ）。例如，如果您希望使用 /16 或 /24 路由与 DNS 或 NTP 服务器建立出站连接，则应删除自动创建的 /32 路由并添加所需的路由。如果不删除自动创建的主机路由，则在对子网列表进行任何更改后，此路由将保留。</block>
  <block id="f0cdd45b3b7c9d35a26084d82db5094b" category="admonition">虽然您可以使用这些自动发现的主机路由，但通常应手动配置 DNS 和 NTP 路由以确保连接。</block>
  <block id="5ba605721634f804754f7c6ff75976a4" category="list-text">选择选项 * 7* 以验证所有暂存更改。</block>
  <block id="b7824076030fcdb9f57f3edf502a5bb5" category="paragraph">此验证可确保遵循网格网络，管理网络和客户端网络的规则，例如使用重叠的子网。</block>
  <block id="2dc4ce20bba3c44fe4a5ea037e1df222" category="list-text">（可选）选择选项 * 8* 保存所有分阶段更改，稍后返回以继续进行更改。</block>
  <block id="4895a3e5e826775d0093b3a6e998b953" category="list-text">如果要在不保存或应用新网络配置的情况下清除所有更改，请选择选项 * 。</block>
  <block id="5f0f4a97b067e42e3c09e726bc8a9f09" category="list-text">如果您已准备好应用更改并配置新的网络配置，请选择选项 * 。在配置期间，输出将在应用更新时显示状态，如以下示例输出所示：</block>
  <block id="a140268a84f82ba4b1ae4020e503ab8c" category="summary">要在设备存储节点上安装 StorageGRID ，请使用设备中提供的 StorageGRID 设备安装程序。</block>
  <block id="cc157acf0cebc9b223d4f28f8e3d468f" category="doc">开始安装 StorageGRID 设备</block>
  <block id="402dc30c1c34c87e0f8959d50c207928" category="list-text">已使用 StorageGRID 设备安装程序为此设备配置网络链路和 IP 地址。</block>
  <block id="91cd149eb222d0a09db08391b665bbfd" category="list-text">您知道 StorageGRID 网格的主管理节点的 IP 地址。</block>
  <block id="a740df53c5914f2656e8d81f53ec348a" category="list-text">您已按照存储设备的安装和维护说明完成以下前提条件任务：</block>
  <block id="4a21f50b0d05d89b6fb82b6774a497be" category="list-text">您知道分配给设备中计算控制器的一个 IP 地址。您可以使用管理网络（控制器上的管理端口 1 ），网格网络或客户端网络的 IP 地址。</block>
  <block id="3a459590cfef6f6c2fecf4c099524831" category="paragraph">要在设备存储节点上安装 StorageGRID ，请执行以下操作：</block>
  <block id="f63fac871f348860b9078839c8d75786" category="list-text">您可以指定或确认主管理节点的 IP 地址和节点名称。</block>
  <block id="d99bf50485c37b9c2ff96a54d35e1d95" category="list-text">在整个过程中，安装将暂停。要恢复安装，您必须登录到网格管理器，并将待定存储节点配置为故障节点的替代节点。</block>
  <block id="3ae26c8e7133afcd7447f341dd34dc15" category="list-text">配置节点后，设备安装过程将完成，设备将重新启动。</block>
  <block id="8c56c4a8efc53dc7388fc59030f57cd9" category="list-text">打开浏览器并输入设备中计算控制器的 IP 地址之一。</block>
  <block id="e7b85762788766b30482f5c20a187864" category="paragraph">` + https://Controller_IP:8443+`</block>
  <block id="58844603d134b658b4f9bb2dd8730858" category="list-text">在主管理节点连接部分中，确定是否需要指定主管理节点的 IP 地址。</block>
  <block id="1092eb4d9066eef470bb0ef7203f895e" category="paragraph">假设主管理节点或至少一个配置了 admin_ip 的其他网格节点位于同一子网上， StorageGRID 设备安装程序可以自动发现此 IP 地址。</block>
  <block id="5c472030c6f4846efeea9f1fd50be283" category="list-text">请稍候，此时新 IP 地址的连接状态将变为 `ready 。`</block>
  <block id="a258cc2ec9afdde65e1809814a5a85a8" category="list-text">从已发现的 IP 地址列表中，选择要部署此设备存储节点的网格的主管理节点。</block>
  <block id="03677a58237b41fa672e4a3eff4da059" category="list-text">在 * 节点名称 * 字段中，输入与要恢复的节点相同的名称，然后单击 * 保存 * 。</block>
  <block id="b41b2b1e87ad434278fe006f0368e29c" category="list-text">在安装部分中，确认当前状态为 "`Ready to start installation of node name into grid with Primary Admin Node admin_IP` " ，并且已启用 * 开始安装 * 按钮。</block>
  <block id="1d81691b1a15dcb1aa2b9803155dc311" category="image-alt">此图通过周围的文字进行了说明。</block>
  <block id="cc09b8c42e6afc4bc4bf30d9d74e8e98" category="admonition">如果需要手动访问监控器安装页面，请单击菜单栏中的 * 监控器安装 * 。</block>
  <block id="d5357ff5db0249df481781e51e7f9ff4" category="summary">按照以下顺序在完全关闭后启动网格节点。</block>
  <block id="a14d43653ae3e8fd1a70a5e24979abf5" category="doc">启动网格节点</block>
  <block id="82bf86da7694e1162636c13600b12a04" category="admonition">如果整个网格已关闭超过 15 天，则在启动任何网格节点之前，您必须联系技术支持。请勿尝试执行重建 Cassandra 数据的恢复过程。这样做可能会导致数据丢失。</block>
  <block id="afec3a1209a1b020a55952ca130183b3" category="paragraph">如果可能，应按以下顺序启动网格节点：</block>
  <block id="8b986e045967a32444eb3c10822b65cf" category="list-text">首先为管理节点接通电源。</block>
  <block id="d2eecd9251fc52187744ebe135762511" category="list-text">请最后为网关节点通电。</block>
  <block id="d2d95c94f0a62f36fbbbb18eab39955a" category="admonition">如果主机包含多个网格节点，则在启动主机时，这些节点将自动恢复联机。</block>
  <block id="df7e02d58c86ba62b3696242a0fd70ec" category="list-text">打开主管理节点和任何非主管理节点的主机的电源。</block>
  <block id="0c61a315aa34aa530e8edf758b6a0aa0" category="admonition">在重新启动存储节点之前，您将无法登录到管理节点。</block>
  <block id="53673eca7e26994cca0e2142b6bafd04" category="list-text">启动所有归档节点和存储节点的主机。</block>
  <block id="f4a9b9debf55cbe6f29924a8679861cf" category="paragraph">您可以按任意顺序打开这些节点的电源。</block>
  <block id="d4ffbcb80b66305b7411035b6702863f" category="list-text">启动所有网关节点的主机。</block>
  <block id="ae49c5d912b9ba6b68c01de1f0cd3e3f" category="list-text">选择 * 节点 * 并监控网格节点的状态。验证节点名称旁边是否没有警报图标。</block>
  <block id="28ccd1d1ee717b9148a7416499e51fe0" category="image-alt">节点将所有节点页面设置为绿色</block>
  <block id="ef6ec08b0011ca322ec343e3ea67bdaa" category="summary">在执行网格节点停用之前，您必须获取以下信息。</block>
  <block id="980c1ef59eab4ed823a34cf742f148f3" category="inline-xref-macro">下载最新的恢复软件包</block>
  <block id="89a217a431b22232459972d9ac289e10" category="paragraph">您必须 <block ref="116e295ca5e91c4f7138c228a41d6c45" category="inline-xref-macro-rx"></block> ` .zip` file （ `sGWS-recovery-package-_id-revision_.zip` ）。如果发生故障，您可以使用恢复包文件还原系统。</block>
  <block id="b0735a6150614adcfccca440b218482b" category="paragraph">此文件包含在命令行上访问网格节点所需的密码，并包含在恢复包中。</block>
  <block id="af7f678aad91e8639923d29e58031879" category="paragraph">停用前 StorageGRID 系统拓扑的问题描述</block>
  <block id="83ce7f9c3f0ae6957dfc9477dfd839f9" category="paragraph">如果有，请获取描述系统当前拓扑的任何文档。</block>
  <block id="549b80d645f655635943c91bdf6724ab" category="summary">如果检测到软件问题并在功能版本之间得到解决，则可能需要将修补程序应用于 StorageGRID 系统。</block>
  <block id="9f926b7a6958f8e875d27fc78caccb54" category="paragraph">StorageGRID 修补程序包含在功能或修补程序版本之外进行的软件更改。未来版本也会进行同样的更改。此外，每个热修补程序版本都包含此功能或修补程序版本中所有以前的修补程序的汇总。</block>
  <block id="bccc2d67ecfa0a57e0fb44ac78003e65" category="summary">如果需要立即停止服务，可以使用 `force-stop` 命令。</block>
  <block id="8a0f384b4f18e3301b37461aac076fde" category="list-text">手动强制终止服务： `service _servicename_ force-stop`</block>
  <block id="d8ecec7ee7dec7c24ef3f9e0d4d25bac" category="paragraph">系统将等待 30 秒，然后再终止此服务。</block>
  <block id="f000c6c1cf0938f41dbb24b140538188" category="summary">您可以将 StorageGRID 节点从一台 Linux 主机迁移到另一台 Linux 主机以执行主机维护 \ （例如操作系统修补和重新启动 \ ），而不会影响网格的功能或可用性。</block>
  <block id="ee3c8eb81c97f911b3bf295bb39f6c27" category="doc">Linux ：将网格节点迁移到新主机</block>
  <block id="023b54fb3c6d2a1fd5e108ae051cc4f2" category="paragraph">您可以将 StorageGRID 节点从一台 Linux 主机迁移到另一台 Linux 主机以执行主机维护（例如操作系统修补和重新启动），而不会影响网格的功能或可用性。</block>
  <block id="7d67098a4908bb3ae9a12a2472276e53" category="paragraph">您将一个或多个节点从一个 Linux 主机（ " `s源主机` " ）迁移到另一个 Linux 主机（ "`目标主机` " ）。目标主机必须事先已准备好供 StorageGRID 使用。</block>
  <block id="1142a3df82810caf3412f1c5dc16f625" category="admonition">只有在您计划的 StorageGRID 部署包含迁移支持时，才能使用此操作步骤 。</block>
  <block id="7aa31395fd9e935dfdc47cff085105f3" category="paragraph">要将网格节点迁移到新主机，必须满足以下两个条件：</block>
  <block id="d2815d71ecd6a1539358e17f4caac379" category="list-text">共享存储用于所有每个节点的存储卷</block>
  <block id="03b4d998c8c7cff910c534ba5b174a69" category="list-text">网络接口在主机之间的名称一致</block>
  <block id="f8d0efeb8784f9af4e78e5902233ae5a" category="admonition">在生产部署中，请勿在一台主机上运行多个存储节点。为每个存储节点使用专用主机可提供一个隔离的故障域。</block>
  <block id="d42c87e0a5adc70cbf6922e1bd6f450f" category="paragraph">可以在同一主机上部署其他类型的节点，例如管理节点或网关节点。但是，如果您有多个相同类型的节点（例如两个网关节点），请勿将所有实例安装在同一主机上。</block>
  <block id="9debef36e61f94f1b36d4ad0c5a899b3" category="paragraph">有关详细信息，请参见适用于 Linux 操作系统的 StorageGRID 安装说明中的 "`节点迁移要求` " 。</block>
  <block id="0c440cf3c3d37a0fc63d8184520691c3" category="paragraph"><block ref="0c440cf3c3d37a0fc63d8184520691c3" category="inline-xref-macro-rx"></block></block>
  <block id="2408e2990ebed2140a56478dfbdc7dd2" category="summary">如果整个 StorageGRID 站点出现故障或多个存储节点出现故障，您必须联系技术支持。技术支持将评估您的情况，制定恢复计划，然后按照符合您业务目标的方式恢复故障节点或站点，优化恢复时间并防止不必要的数据丢失。</block>
  <block id="d1854b0e0c05815d9cd4f1d3eacac742" category="admonition">站点恢复只能由技术支持执行。</block>
  <block id="57b9d78f5ffa919232f986c1f0fd5183" category="paragraph">StorageGRID 系统可以对各种故障进行故障恢复，您可以自行成功执行许多恢复和维护过程。但是，创建一个简单的通用站点恢复操作步骤 很困难，因为详细步骤取决于您的具体情况。例如：</block>
  <block id="225cc9a12ae34c23e892b399d6d507de" category="list-text">* 您的业务目标 * ：在完全丢失 StorageGRID 站点后，您应评估如何以最佳方式实现您的业务目标。例如，是否要原位重建丢失的站点？是否要在新位置更换丢失的 StorageGRID 站点？每个客户的情况都不同，您的恢复计划必须针对您的优先事项进行设计。</block>
  <block id="1e624b23f422673c9c9d431cb9acb0b4" category="list-text">* 故障的确切性质 * ：在开始站点恢复之前，请务必确定故障站点上的任何节点是否完好无损，或者任何存储节点是否包含可恢复的对象。如果重建包含有效数据的节点或存储卷，可能会发生不必要的数据丢失。</block>
  <block id="2ae728d10fbfc04dfe51c65f1de83ae4" category="list-text">* 活动 ILM 策略 * ：网格中对象副本的数量，类型和位置由活动 ILM 策略控制。ILM 策略的具体内容可能会影响可恢复的数据量以及恢复所需的特定技术。</block>
  <block id="807568f1f20c905494ad96fd2c4bd213" category="admonition">如果某个站点包含某个对象的唯一副本，而该站点丢失，则该对象将丢失。</block>
  <block id="b439b70b05630e6719d23015fc95786b" category="list-text">* 分段（或容器）一致性 * ：应用于分段（或容器）的一致性级别会影响 StorageGRID 在通知客户端对象载入成功之前是否将对象元数据完全复制到所有节点和站点。如果您的一致性级别允许最终保持一致性，则站点故障可能会丢失某些对象元数据。这可能会影响可恢复的数据量以及恢复操作步骤 的详细信息。</block>
  <block id="8cd4051d9159c54f0f896c571753825c" category="list-text">* 近期更改历史记录 * ：恢复操作步骤 的详细信息可能会受到故障发生时是否正在执行任何维护过程或是否最近对 ILM 策略进行了任何更改的影响。在开始站点恢复之前，技术支持必须评估网格的最新历史记录及其当前状况。</block>
  <block id="2d60d7377b4a125f5dfbcf0efa7d44b7" category="section-title">站点恢复概述</block>
  <block id="8b61367c32fc82e21af0dd1244b4e3d5" category="paragraph">本文档概括介绍了技术支持用于恢复故障站点的过程。</block>
  <block id="34e0f53b04222191a956add73897a8a1" category="image-alt">站点恢复概述</block>
  <block id="2dab7c8f83babb108700db4290688805" category="paragraph">技术支持会对故障进行详细评估，并与您一起审核您的业务目标。根据这些信息，技术支持会根据您的具体情况制定一个恢复计划。</block>
  <block id="fc683610967427399995df438bebc8d7" category="list-text">如果主管理节点出现故障，技术支持将恢复该节点。</block>
  <block id="3395d7c4b429867589995acd8be898b6" category="list-text">技术支持将按照以下概述恢复所有存储节点：</block>
  <block id="901729e6170a9631ed94f077981c301e" category="list-text">根据需要更换 Storage Node 硬件或虚拟机。</block>
  <block id="46562cd4e6a9bdc5f049be3550f6fcad" category="list-text">将对象元数据还原到故障站点。</block>
  <block id="ece0883320364b9052eee14f93f496af" category="list-text">将对象数据还原到已恢复的存储节点。</block>
  <block id="fba02636462af48018efb37919bbf8e8" category="admonition">如果对单个故障存储节点执行恢复过程，则会发生数据丢失。</block>
  <block id="7d4af44e684f6a28eccc492facfe88b9" category="admonition">当整个站点出现故障时，需要使用专用命令来成功还原对象和对象元数据。</block>
  <block id="161376c9cf1beeb382f6f62726b27839" category="list-text">技术支持可恢复其他故障节点。</block>
  <block id="2526f1777c973f8ba51d19f471d4f9c1" category="paragraph">恢复对象元数据和数据后，可以使用标准过程恢复出现故障的网关节点，非主管理节点或归档节点。</block>
  <block id="01275cb2d7a183a073c6354371370bde" category="inline-xref-macro">站点停用</block>
  <block id="88da313cea9427d2a8c8a1610edf2f90" category="paragraph"><block ref="88da313cea9427d2a8c8a1610edf2f90" category="inline-xref-macro-rx"></block></block>
  <block id="2b9d68e19b736a2291bccfcbf2149be4" category="doc">监控服务设备安装</block>
  <block id="993f9ac47c95cc23abd19e92c3a3e3ca" category="list-text">要监控安装进度，请单击菜单栏中的 * 监控安装 * 。</block>
  <block id="064408320caa8d239f07d5926a25b069" category="image-alt">监控器安装—服务设备</block>
  <block id="c1be4b1af5db382316d38fdcaa2cf67d" category="paragraph">在此阶段，安装程序将从驱动器中清除任何现有配置，并配置主机设置。</block>
  <block id="0512c080d215d75cdf1e9724a1811f7c" category="paragraph">在此阶段，安装程序会将 StorageGRID 的基本操作系统映像从主管理节点复制到设备，或者从主管理节点的安装包安装基本操作系统。</block>
  <block id="1bf890452c198591c3a647e8d414ee79" category="list-text">继续监控安装进度，直到出现以下情况之一：</block>
  <block id="4af9fd4730ee9fbd5cab70c52f028c04" category="list-text">对于设备网关节点或非主设备管理节点， * 安装 StorageGRID * 阶段将暂停，嵌入式控制台上会显示一条消息，提示您使用网格管理器在管理节点上批准此节点。</block>
  <block id="d7be1e72437295ba0ce9eb313d7e31c0" category="image-alt">图像通过周围的文本进行说明</block>
  <block id="0d2c7fe0e52a19a41c99330fc29474c5" category="list-text">对于设备主管理节点，将显示第五阶段（ Load StorageGRID 安装程序）。如果第五阶段的进度超过 10 分钟，请手动刷新页面。</block>
  <block id="e6c7542fed649b6af287dde7c80417ac" category="image-alt">主管理节点重新安装第 5 阶段的屏幕截图</block>
  <block id="d0113547972a6c1c43f6d6bde3cb68f5" category="list-text">对于要恢复的设备网格节点类型，请继续执行恢复过程的下一步。</block>
  <block id="87fce4918c902ca06b88c1c029cd7d02" category="cell">恢复类型</block>
  <block id="c4bd006442f4e2af21d036d320c3becd" category="inline-xref-macro">选择 Start Recovery 以配置网关节点</block>
  <block id="33de5b95672c2abb48b64b134294961b" category="paragraph"><block ref="33de5b95672c2abb48b64b134294961b" category="inline-xref-macro-rx"></block></block>
  <block id="2a133aba1be0e2f985c3fd093b151a91" category="paragraph">非主管理节点</block>
  <block id="00eee675107145749ea9ac7e562cc82c" category="inline-xref-macro">选择 Start Recovery 以配置非主管理节点</block>
  <block id="d77e738db1d3defff3d05f81868663c0" category="paragraph"><block ref="d77e738db1d3defff3d05f81868663c0" category="inline-xref-macro-rx"></block></block>
  <block id="4c22edef0431b61082d7f8ab60957082" category="summary">从 " 弃用站点 " 页面向导的第 6 步 \ （监控取消配置）中，您可以在删除站点时监控进度。</block>
  <block id="5c884314d309f26dc690cccc81d030dd" category="doc">第 6 步：监控取消配置</block>
  <block id="dc9f85b00a336dab81c7cbed28819046" category="paragraph">从 " 取消配置站点 " 页面向导的第 6 步（监控取消配置）中，您可以在删除站点时监控进度。</block>
  <block id="3d26c7690371c29d1a71779085da347e" category="paragraph">当 StorageGRID 删除已连接站点时，它将按以下顺序删除节点：</block>
  <block id="53cc3f903082af16815be0a6d415e50f" category="paragraph">当 StorageGRID 删除已断开连接的站点时，它会按以下顺序删除节点：</block>
  <block id="6451473c81f7eca68af6b90d6ebc065e" category="paragraph">每个网关节点或管理节点可能只需要几分钟或一小时即可删除；但是，存储节点可能需要数天或数周的时间。</block>
  <block id="56245e0485163255e037c0af48b1701c" category="list-text">生成新的恢复软件包后，立即下载该文件。</block>
  <block id="af06f6480272b3e998b08b070e6fc422" category="image-alt">站点取消配置步骤 6 恢复包</block>
  <block id="a08da9be7f6c287e67092967d5f3c00b" category="list-text">选择消息中的链接，或选择 * 维护 * &gt; * 系统 * &gt; * 恢复软件包 * 。</block>
  <block id="1b4fba057cf1ce249a45c2387b26cf1a" category="list-text">下载 ` .zip` 文件。</block>
  <block id="9ed29d7c448d69e8b93caffab982036b" category="list-text">使用 " 数据移动 " 图表监控对象数据从该站点到其他站点的移动情况。</block>
  <block id="af3a434846ce41a3fdacd80ef9a2442b" category="paragraph">在步骤 3 （修订 ILM 策略）中激活新的 ILM 策略后，数据移动开始。数据移动将在整个停用操作步骤 中进行。</block>
  <block id="bf90839537f269be7b13d386146fcbbc" category="image-alt">停用站点第 6 步数据移动</block>
  <block id="f9f8a21f9ce458556ec5a69ee966b008" category="list-text">在页面的节点进度部分中，在删除节点时监控停用操作步骤 的进度。</block>
  <block id="2c19cc68f9dbb8bd5f84e62d1c3dfe09" category="paragraph">删除存储节点后，每个节点将经历一系列阶段。尽管其中大多数阶段发生得很快甚至不可能发生，但根据需要移动的数据量，您可能需要等待几天甚至几周才能完成其他阶段。需要更多时间来管理经过纠删编码的数据并重新评估 ILM 。</block>
  <block id="873f7a1bc94c031b58fb95d1ed055014" category="image-alt">停用站点步骤 6 存储节点</block>
  <block id="9e4116e6cc02cc2aa575a9f61dc13be6" category="paragraph">如果您正在监控已连接站点停用的进度，请参阅此表以了解存储节点的停用阶段：</block>
  <block id="64c6da2436465d11573858d46056b95d" category="cell">阶段</block>
  <block id="c6a3f736de00a7ce1e780bb659dddce2" category="cell">估计持续时间</block>
  <block id="2d13df6f8b5e4c5af9f87e0dc39df69d" category="paragraph">待定</block>
  <block id="270b828ce3b8ab20eda9bfa0bf41b5dd" category="paragraph">分钟或更短</block>
  <block id="63857f4df91fc191e01b2b21b1df2c10" category="paragraph">等待锁定</block>
  <block id="f670ea66cfb0e90bd6090472ad692694" category="paragraph">minutes</block>
  <block id="821eb0f100ff89aac36bd243d313d515" category="paragraph">准备任务</block>
  <block id="00274971f1a53bd21461f5d6736d97c8" category="paragraph">将 LDR 标记为已停用</block>
  <block id="fd2bbabe23be6980be89b6c4f25f088a" category="paragraph">停用复制的数据和擦除编码的数据</block>
  <block id="28a2ef9c12849926580e4cffe3a2c88a" category="paragraph">小时，天或周，具体取决于数据量</block>
  <block id="36905c534783cbb228986021b939f52e" category="paragraph">* 注意 * ：如果您需要执行其他维护活动，可以在此阶段暂停站点停用。</block>
  <block id="b31ccf3d1b965118d9d5255c9c37ba83" category="paragraph">LDR 设置状态</block>
  <block id="1cd8f3c745ca30421667a117a0c8e378" category="paragraph">刷新审核队列</block>
  <block id="30280deb708395f1b93dcf8f15ad78f0" category="paragraph">分钟到小时，具体取决于消息数量和网络延迟。</block>
  <block id="ae94f80b3ce82062a5dd7815daa04f9d" category="paragraph">完成</block>
  <block id="75c1cf4468a6739b9f11f6bd12688c8e" category="paragraph">如果您要监控已断开连接的站点停用的进度，请参见下表以了解存储节点的停用阶段：</block>
  <block id="22caef6a332b4e76b994b1a6073f4088" category="paragraph">禁用外部服务</block>
  <block id="5647aa9e8b6549d37a1392d37e6edc0e" category="paragraph">证书撤消</block>
  <block id="c4402630505e642a9c7e55cf941a6623" category="paragraph">节点取消注册</block>
  <block id="2e546182a2cf9c261bfc7d52bf92a846" category="paragraph">存储级别取消注册</block>
  <block id="e09c5d7497d816d5e636234f34419d91" category="paragraph">删除存储组</block>
  <block id="e8018ba0d55695a220cae86455670cb9" category="paragraph">实体删除</block>
  <block id="9ba7e613a36f451d88130e206c61aaef" category="list-text">在所有节点均已达到完成阶段后，请等待其余站点停用操作完成。</block>
  <block id="deb668a62b8e6ee3f4480e4f361f5bf8" category="list-text">在 * 修复 Cassandra* 步骤中， StorageGRID 会对网格中保留的 Cassandra 集群进行任何必要的修复。这些修复可能需要几天或更长时间，具体取决于网格中剩余的存储节点数。</block>
  <block id="246146201a5d48f6485da7ca071bad51" category="image-alt">停用站点步骤 6 修复 Cassandra</block>
  <block id="6c292ba559541962e2a6c54ed1758c66" category="list-text">在 * 停用 EC 配置文件并删除存储池 * 步骤中，将进行以下 ILM 更改：</block>
  <block id="45f578fcded7ae9134b141219aff00f2" category="list-text">引用此站点的任何擦除编码配置文件均会被停用。</block>
  <block id="dd9a654f1454819b3cf3e8a94d1a6ad9" category="list-text">系统将删除引用此站点的任何存储池。</block>
  <block id="783b1c29274f9c37e071b7fa0e985551" category="admonition">系统默认的所有存储节点存储池也会被删除，因为它使用的是所有站点站点站点。</block>
  <block id="2f18683a7702b8ee4152c0fbd7207bff" category="list-text">最后，在 * 删除配置 * 步骤中，对站点及其节点的任何剩余引用都将从网格的其余部分中删除。</block>
  <block id="efb3e25d6fd84cda5cc0684d51065437" category="image-alt">停用站点步骤 6 删除配置</block>
  <block id="3bdbb3a57abc57e0b60a4159bec77a29" category="list-text">停用操作步骤 完成后， " 停用站点 " 页面将显示一条成功消息，并且不再显示已删除的站点。</block>
  <block id="96fbe84f880ddd91d8d3319cefa4b4c2" category="image-alt">停用站点成功消息</block>
  <block id="d5522a0e2f48c654c43897662a3887a0" category="paragraph">完成站点停用操作步骤 后，完成以下任务：</block>
  <block id="5b8780c1a4f08fcaf0b9dd48642aa56e" category="list-text">确保已擦除已停用站点中所有存储节点的驱动器。使用商用数据擦除工具或服务永久安全地从驱动器中删除数据。</block>
  <block id="0e27d661e4acc85dbda38ea595ffab16" category="list-text">如果此站点包含一个或多个管理节点，并且已为您的 StorageGRID 系统启用单点登录（ SSO ），请从 Active Directory 联合身份验证服务（ AD FS ）中删除此站点的所有依赖方信任。</block>
  <block id="0b272396090f8aa408e04accf07f71d2" category="list-text">在已连接站点停用操作步骤 期间正常关闭节点后，请删除关联的虚拟机。</block>
  <block id="01981c25dd9eb385be8076174fe3b442" category="summary">在关闭 StorageGRID 系统之前，必须先停止每个网格节点上运行的所有服务，然后关闭所有 VMware 虚拟机，容器引擎和 StorageGRID 设备。</block>
  <block id="8cc2c50ad7896100c704465cfe386e9c" category="doc">停止服务并关闭网格节点</block>
  <block id="0ba7d28cfbfaac43c7ceed2c61065a68" category="paragraph">首先停止管理节点和 API 网关节点上的服务，然后停止存储节点上的服务。</block>
  <block id="3e2881c18dc649366c60050eccbe1f57" category="paragraph">通过此方法，您可以使用主管理节点尽可能长时间地监控其他网格节点的状态。</block>
  <block id="a5bdc134b3cc6a31f95532687102ce03" category="admonition">如果一个主机包含多个网格节点，请勿关闭该主机，直到停止该主机上的所有节点为止。如果主机包含主管理节点，请最后关闭该主机。</block>
  <block id="684cd62ea413acb3fc31f53daf2b8cdb" category="inline-xref-macro">将节点从一台 Linux 主机迁移到另一台 Linux 主机</block>
  <block id="881f780ceb6f258b9b2a077437b79410" category="admonition">如果需要，您可以 <block ref="47fd00970ade4564ce3ba8f2d4be03d1" category="inline-xref-macro-rx"></block> 在不影响网格功能或可用性的情况下执行主机维护。</block>
  <block id="3a1d21e251577457929572950700b433" category="list-text">停止所有客户端应用程序访问网格。</block>
  <block id="1f04868bc30538d07028b29d5494d20c" category="list-text">【登录到每个网关节点】登录到每个网关节点：</block>
  <block id="27d60d51c87a4042dead501eae330b4c" category="list-text">【 stop_all_services]] 停止节点上运行的所有服务： `service servermanager stop`</block>
  <block id="787ff2048e6b3a1cf0adc597f4f0f54d" category="paragraph">服务可能需要长达 15 分钟才能关闭，您可能需要远程登录到系统以监控关闭过程。</block>
  <block id="d036efeeba9c37583d3694cc7ccee375" category="list-text">重复上述两个步骤，停止所有存储节点，归档节点和非主管理节点上的服务。</block>
  <block id="e27aa4c1836909cf8bcd41f12298310c" category="paragraph">您可以按任何顺序停止这些节点上的服务。</block>
  <block id="26cf736614e41d3bc0f4eeb38080e589" category="admonition">如果问题描述 您使用 `sservice servermanager stop` 命令停止设备存储节点上的服务，则必须重新启动设备以重新启动节点。</block>
  <block id="7fe685b418a6eb18cd07c8a74f7a95ee" category="inline-xref">登录到节点</block>
  <block id="e7d71e98424e7660e5c3c53443ffc067" category="inline-xref">停止节点上的所有服务</block>
  <block id="f6580454cd7dd639b8829aff19c3f500" category="list-text">对于主管理节点，重复执行的步骤 <block ref="e322eb6d230bd8de254cc457b3ecf8d0" category="inline-xref-macro-rx"></block> 和 <block ref="d98f62cdd577a32ffe9a783a2a00eeb5" category="inline-xref-macro-rx"></block>。</block>
  <block id="0572a4866777b320904081332e3b4292" category="list-text">对于在 Linux 主机上运行的节点：</block>
  <block id="4c08a39eba8bc369d32e0b777bd939d5" category="list-text">登录到主机操作系统。</block>
  <block id="cab201b4a19b794f81a5a309cc21d97f" category="list-text">停止节点： `StorageGRID node stop`</block>
  <block id="d344629b7a7ec5c5a37aa64536d54307" category="list-text">关闭主机操作系统。</block>
  <block id="69eb10fcf07f313c44b3c71fe1f05f01" category="list-text">对于在 VMware 虚拟机上运行的节点以及设备存储节点，请使用问题描述 关闭命令： `shutdown -h now`</block>
  <block id="6207cb90fa50b907b3d62e719d14282a" category="paragraph">执行此步骤，无论 `sservice servermanager stop` 命令的结果如何。</block>
  <block id="6f8c4036d6203074c083087338947e7f" category="paragraph">对于设备，此命令将关闭计算控制器，但设备仍处于打开状态。您必须完成下一步。</block>
  <block id="95ca787816e58be9ee9c4654f9f73fb5" category="list-text">如果您有设备节点：</block>
  <block id="65f1ce9e97ff2df451477da1a23fbddf" category="list-text">对于 SG100 或 SG1000 服务设备</block>
  <block id="61f5d72b0c8088a55041a45560da4360" category="list-text">关闭设备电源。</block>
  <block id="25d39cc890c595ab86a53d2c3ddc1b5a" category="list-text">等待蓝色电源 LED 熄灭。</block>
  <block id="a9ca95e57b1ab91a96af05863a420222" category="list-text">对于 SG6000 设备</block>
  <block id="7f0d68d9297399c6ee1f54ebf5add2bc" category="list-text">等待存储控制器背面的绿色缓存活动 LED 熄灭。</block>
  <block id="7a7a530d004fc7647a51fb93e828fb37" category="paragraph">当需要将缓存的数据写入驱动器时，此 LED 亮起。您必须等待此 LED 关闭，然后再关闭电源。</block>
  <block id="1803a35fd11913c29c660413029e435b" category="list-text">关闭设备电源，然后等待蓝色电源 LED 熄灭。</block>
  <block id="518d1635e9c9f6870e5ef4e7ebc7b15b" category="list-text">对于 SG5700 设备</block>
  <block id="e3c74d978e62a577a822a991d8450c0a" category="list-text">等待存储控制器背面的绿色缓存活动 LED 熄灭。</block>
  <block id="834124b78a67860017c428d6c30e6a5c" category="list-text">关闭设备电源，等待所有 LED 和七段显示活动停止。</block>
  <block id="85321652781c4865437b1177afe5e5fd" category="list-text">如果需要，请注销命令 Shell ： `exit`</block>
  <block id="242fd5d3e3d0f23fb72421cb6681c574" category="paragraph">此时， StorageGRID 网格已关闭。</block>
  <block id="718720233dcb32b118a330a6f0005f4e" category="summary">恢复设备存储节点时，必须先准备设备以重新安装 StorageGRID 软件。</block>
  <block id="578408f7f60ed894d784b938abc15ef0" category="doc">准备要重新安装的设备存储节点</block>
  <block id="a39aeca3b7b3eea50150bea474b63e32" category="list-text">准备设备存储节点以安装 StorageGRID 软件。`sgareinstall`</block>
  <block id="46c1cddd995d5e12267b438cc78947bf" category="list-text">当系统提示您继续时，输入： `y`</block>
  <block id="243c3b119fc085f5b1dad2abbc7beb45" category="paragraph">设备将重新启动， SSH 会话将结束。StorageGRID 设备安装程序通常需要大约 5 分钟才能投入使用，但在某些情况下，您可能需要等待长达 30 分钟。</block>
  <block id="b0868b5c652f4283ff4e390b29eaaacb" category="paragraph">StorageGRID 设备存储节点已重置，并且无法再访问存储节点上的数据。在初始安装过程中配置的 IP 地址应保持不变；但是，建议您在操作步骤 完成后进行确认。</block>
  <block id="595b29d56898be4eb54c955c42a6ce99" category="paragraph">执行 `sgareinstall` 命令后，将删除所有 StorageGRID 配置的帐户，密码和 SSH 密钥，并生成新的主机密钥。</block>
  <block id="039e4b44f087bc6742c6b4a20f8a9abf" category="summary">停用管理节点或网关节点之前，请查看以下注意事项。</block>
  <block id="32af7f5a57f975ca23f18ac3d18afc6c" category="doc">管理节点或网关节点停用的注意事项</block>
  <block id="74eb10afbe91c13423e9f639779cc51e" category="list-text">停用操作步骤 要求对某些系统资源具有独占访问权限，因此您必须确认未运行任何其他维护过程。</block>
  <block id="6bbb282e6622e8647275bef2f225ab82" category="list-text">如果管理节点或网关节点的某个网络接口属于高可用性（ HA ）组，则无法停用此节点。您必须先从 HA 组中删除网络接口。请参见有关管理 StorageGRID 的说明。</block>
  <block id="66eba2afc33d6d6274dfc4f6df7b0902" category="list-text">您可以根据需要在停用网关节点或管理节点时安全地更改 ILM 策略。</block>
  <block id="f36f18bdc2fb3e117c2f4307a0750a8d" category="list-text">如果停用管理节点并为 StorageGRID 系统启用了单点登录（ SSO ），则必须记住从 Active Directory 联合身份验证服务（ AD FS ）中删除该节点的依赖方信任。</block>
  <block id="443627c5ddce11675c98faf21f7a0afb" category="summary">您可以运行一个脚本，为每个网格节点配置不同的 DNS ，而不是在整个部署中全局配置域名系统（ DNS ）。</block>
  <block id="fa286d5d96e1ae55e24eb616dd7a1674" category="paragraph">您可以运行一个脚本，为每个网格节点配置不同的 DNS ，而不是在整个部署中全局配置域名系统（ Domain Name System ， DNS ）。</block>
  <block id="ada74e61ff487852c159526a2e260063" category="paragraph">通常，您应使用网格管理器上的 * 维护 * &gt; * 网络 * &gt; * DNS 服务器 * 选项来配置 DNS 服务器。只有在需要为不同网格节点使用不同 DNS 服务器时，才可使用以下脚本。</block>
  <block id="d5ed36cf573fac8e8c5a8bb8d1be3d4b" category="list-text">将 SSH 专用密钥添加到 SSH 代理。输入： `ssh-add`</block>
  <block id="b2d2daa8111d2339a1b3461d930d344e" category="list-text">【登录到要使用自定义 DNS 配置更新的节点： `ssh _node_ip_address_`</block>
  <block id="d096b12481c62f4abefc7fcc721d2e21" category="list-text">运行 DNS 设置脚本： `setup_resolv.rb 。`</block>
  <block id="c8ad433628d789b1edc5a0a385169fdc" category="paragraph">此脚本将以支持的命令列表进行响应。</block>
  <block id="ac98190f92f576fdbcb5d574c8eb0bf5" category="list-text">添加为网络提供域名服务的服务器的 IPv4 地址： `add &lt;nameserver IP_address&gt;`</block>
  <block id="ed125ca1b37ae20020a7329de37f2504" category="list-text">重复 `add nameserver` 命令以添加名称服务器。</block>
  <block id="3d0c2acf4a7b8f10f6882bd0e9316d01" category="list-text">按照提示输入其他命令时的说明进行操作。</block>
  <block id="73f0614860466d5e074903aed0005dd2" category="list-text">保存所做的更改并退出应用程序： `save`</block>
  <block id="76b32bec4857ec45a4aef3974421186b" category="list-text">[[close_cmd_shell]] 关闭服务器上的命令 Shell ： `exit`</block>
  <block id="7e1b71afd2fdbf2e07fa63d0f891acab" category="inline-xref">关闭命令 Shell</block>
  <block id="8bbfe33f103dbf5abfa727bfef5a8af9" category="list-text">对于每个网格节点，重复中的步骤 <block ref="3d0b9e50567e800fef7dba7cbcb21ef1" category="inline-xref-macro-rx"></block> 到 <block ref="bfb27058027c9c35ce3b51fa829fd98f" category="inline-xref-macro-rx"></block>。</block>
  <block id="771556d7cb27e2cb35e5f32feb21d918" category="list-text">如果不再需要对其他服务器进行无密码访问，请从 SSH 代理中删除私钥。输入： `ssh-add -D`</block>
  <block id="23af9f56345770b24691425c0bb5ae1e" category="summary">如果发生故障时需要部署一个或多个新的物理或虚拟主机或在现有主机上重新安装 Linux ，则必须先部署和配置替代主机，然后才能恢复网格节点。对于所有类型的网格节点，此操作步骤 是网格节点恢复过程的一个步骤。</block>
  <block id="d1919f056ea0b74812ee4f3ffb66e1bd" category="doc">所有网格节点类型：替换 Linux 节点</block>
  <block id="efce16e4e4cbc3dea4aa64182fc0dd99" category="paragraph">"`Linux` " 是指 Red Hat ® Enterprise Linux ® ， Ubuntu ® ， CentOS 或 Debian ® 部署。使用 NetApp 互操作性表工具可获取受支持版本的列表。</block>
  <block id="d6d60de8993000e6cae9958b96c5c9bb" category="paragraph">此操作步骤 仅在恢复基于软件的存储节点，主管理节点或非主管理节点，网关节点或归档节点的过程中执行一步。无论您要恢复的网格节点类型如何，这些步骤都是相同的。</block>
  <block id="99bca92b91120cb4c4de1af437758783" category="paragraph">如果物理或虚拟 Linux 主机上托管了多个网格节点，则可以按任意顺序恢复网格节点。但是，如果存在主管理节点，则首先恢复主管理节点会阻止其他网格节点在尝试联系主管理节点进行注册以进行恢复时停止恢复。</block>
  <block id="687d97208bee730c33801be1d460abf6" category="paragraph"><block ref="687d97208bee730c33801be1d460abf6" category="inline-link-rx"></block></block>
  <block id="3555c22a15cde0962a637b2518835e1d" category="summary">如果需要使用 sn-recovery-postinstall.sh 脚本重新格式化一个或多个故障存储卷，则必须将对象数据从其他存储节点和归档节点还原到重新格式化的存储卷。除非重新格式化了一个或多个存储卷，否则不需要执行这些步骤。</block>
  <block id="0e382857c7aadf676aa7b1613888f923" category="doc">根据需要将对象数据还原到存储卷</block>
  <block id="1ba9724ba0491c97d009f060407875a4" category="paragraph">如果需要使用 `sn-recovery-postinstall.sh` 脚本重新格式化一个或多个故障存储卷，则必须将对象数据从其他存储节点和归档节点还原到重新格式化的存储卷。除非重新格式化了一个或多个存储卷，否则不需要执行这些步骤。</block>
  <block id="4e6b6d4ed95494f98afc6858d1618b05" category="summary">验证迁移的节点后，您可以在目标 Linux 主机上运行命令来启动该节点。</block>
  <block id="9e4485d52a6934e7c5494d034403a8e0" category="doc">Linux ：启动已迁移的节点</block>
  <block id="c186a9837903217d379a9a230295a825" category="list-text">在新主机上启动节点。</block>
  <block id="e736427d47f42eac3c6b65a43af5b948" category="list-text">在网格管理器中，验证节点的状态是否为绿色，并且未针对该节点发出任何警报。</block>
  <block id="2daebeb24bb077a366876f3c22999aff" category="admonition">验证节点的状态是否为绿色可确保已迁移的节点已完全重新启动并重新加入网格。如果状态不是绿色，请勿迁移任何其他节点，以免多个节点停止服务。</block>
  <block id="d8d078040f3d39623923fd353c136a09" category="paragraph">如果无法访问网格管理器，请等待 10 分钟，然后运行以下命令：</block>
  <block id="a59c3134d5c6e1d1dd4376debcbb2d10" category="paragraph">`sUdo StorageGRID 节点状态 * ； node-name_*`</block>
  <block id="e95c9a7c22a7da61ae5a647c7c4b432f" category="paragraph">确认迁移的节点的运行状态为 `running` 。</block>
  <block id="b23ce1f08181f29539b01bd8f7e538fa" category="summary">您必须先下载此修补程序文件，然后才能应用此修补程序。</block>
  <block id="8e7c7ee252f4800dfa1cbf56fa2f1c40" category="doc">下载修补程序文件</block>
  <block id="970fe3a06e4e6beff32f380e853c3a1f" category="list-text">选择 * 可用软件 * 下的向下箭头可查看可供下载的修补程序列表。</block>
  <block id="3216f0849180add62e06bbb8b45b2709" category="admonition">修补程序文件版本的格式为： 11.4_.x.y_ 。</block>
  <block id="af3b3ebec2cbd358471a7d8dc0e5aff6" category="list-text">查看更新中包含的更改。</block>
  <block id="d38ccf4eeee4d13c8a2f410a187b9e38" category="admonition">如果您刚刚恢复了主管理节点，并且需要应用修补程序，请选择安装在其他网格节点上的相同修补程序版本。</block>
  <block id="dfba33bb3a4f0165b32014f442fefa46" category="list-text">选择要下载的热修补程序版本，然后选择 * 执行 * 。</block>
  <block id="cc82620cbb43c7f8476563c901f49e8b" category="list-text">阅读并接受最终用户许可协议。</block>
  <block id="cc21ee5ccfdf7a5bb98f1ef33a8890e7" category="paragraph">此时将显示选定版本的下载页面。</block>
  <block id="19a656a97dba67735dc364e274923c8a" category="list-text">下载热修补程序 `reADME.txt` 文件以查看热修补程序中所含更改的摘要。</block>
  <block id="24bd31569579ffad49b9bb31f9585d86" category="list-text">选择此修补程序的下载按钮，然后保存此文件。</block>
  <block id="554912b196507a66a90e95874a455659" category="admonition">请勿更改此文件的名称。</block>
  <block id="e5421c3887251c16b10a8695bc6176ce" category="admonition">如果您使用的是 macOS 设备，则此修补程序文件可能会自动保存为 ` .txt` 文件。如果是，则必须重命名此文件，而不使用 ` .txt` 扩展名。</block>
  <block id="ef88284a909477e02f0e300cc2a0b50c" category="list-text">选择下载位置，然后选择 * 保存 * 。</block>
  <block id="e8cf3adc4a95fdb767f128ca06e2b988" category="summary">如果您需要更密切地监控重新启动操作，或者无法访问网格管理器，则可以登录到网格节点并从命令 Shell 运行 Server Manager reboot 命令。</block>
  <block id="42df5f2fdc22af0c71182d256b17ec85" category="doc">从命令 Shell 重新启动网格节点</block>
  <block id="cdd6deb12a4626ebd53cdb79d4664c74" category="list-text">或者，停止服务： `service servermanager stop`</block>
  <block id="06dce5c759d36e2611bede48b18f2631" category="paragraph">停止服务是一个可选步骤，但建议执行此步骤。服务可能需要长达 15 分钟才能关闭，您可能需要远程登录到系统以监控关闭过程，然后再在下一步中重新启动节点。</block>
  <block id="24fde520d3e145885b478db73f39b588" category="list-text">重新启动网格节点： `reboot`</block>
  <block id="275bd1dca50d3519fd290e587606c5f3" category="summary">从 " 弃用站点 " 向导的第 4 步 " （删除 ILM 引用） " 中，您可以删除建议的策略（如果存在），并删除或编辑仍引用此站点的任何未使用的 ILM 规则。</block>
  <block id="0c10ad98ce07381a5d7604ac3c1ef3da" category="paragraph">从 " 弃用站点 " 向导的第 4 步（删除 ILM 引用）中，您可以删除建议的策略（如果存在），并删除或编辑仍引用此站点的任何未使用的 ILM 规则。</block>
  <block id="773793878a42dc893828f19bbeddd927" category="paragraph">在以下情况下，您将无法启动站点停用操作步骤 ：</block>
  <block id="b98dd6a8ab5076080fbe66343abe51e5" category="list-text">已存在建议的 ILM 策略。如果您有建议的策略，则必须将其删除。</block>
  <block id="8ace6740fa52d5d609875a47ea663a4b" category="list-text">任何 ILM 规则均指站点，即使此规则未在任何 ILM 策略中使用也是如此。您必须删除或编辑引用此站点的所有规则。</block>
  <block id="625210e1981aacbab7a76095887e7938" category="list-text">如果列出了建议的策略，请将其删除。</block>
  <block id="c4a4311110d5e8b0b903866a8f65a41c" category="image-alt">弃用站点步骤 4 建议的策略</block>
  <block id="6bb43a0cbd22c45525c35479d9187402" category="list-text">选择 * 删除建议的策略 * 。</block>
  <block id="56dcae69cb9b7e9cd97ee916aa644a53" category="list-text">在确认对话框中选择 * 确定 * 。</block>
  <block id="d56b2eb4e1929a57af59a0da8d016ed9" category="list-text">确定任何未使用的 ILM 规则是否引用站点。</block>
  <block id="3f0156405e598ddb8336ee15089b7ad4" category="image-alt">停用站点步骤 4 ILM 规则</block>
  <block id="fe5f921bc6b6b8a405fd90237d705cc6" category="paragraph">列出的任何 ILM 规则仍引用站点，但不会在任何策略中使用。在示例中：</block>
  <block id="461790477ea5d22aa1e8a49fbe5e5db8" category="list-text">常用 * 创建 2 个副本 * 规则使用系统默认的 * 所有存储节点 * 存储池，该存储池使用所有站点站点站点。</block>
  <block id="9d0f8c0e6595b426773aac5e6b737177" category="list-text">S3 租户 * 未使用的 * 3 个副本规则是指 * 罗利 * 存储池。</block>
  <block id="504e012384498c59f029ff034f112085" category="list-text">对于较小对象 * ，未使用的 * 2 个副本 2 个站点是指 * 罗利 * 存储池。</block>
  <block id="2f2c597d567a9be82f1b146e920fe440" category="list-text">未使用的 * 较大对象 * 规则使用 * 所有 3 个站点 * 纠删编码配置文件中的罗利站点。</block>
  <block id="88571fea98731a7c929b8d16f73ce82c" category="list-text">如果未列出 ILM 规则，请选择 * 下一步 * 以转到 * 步骤 5 （解决节点冲突） * 。</block>
  <block id="460a28371de844f4463b84ddb2b754cd" category="inline-xref-macro">第 5 步：解决节点冲突（并开始停用）</block>
  <block id="2da1d228f3184e6fce97097dd4f3a625" category="paragraph"><block ref="2da1d228f3184e6fce97097dd4f3a625" category="inline-xref-macro-rx"></block></block>
  <block id="d9329335e9a597c74d753040515a939e" category="admonition">当 StorageGRID 停用站点时，它将自动停用引用该站点的任何未使用的擦除编码配置文件，并自动删除引用该站点的任何未使用的存储池。系统默认的所有存储节点存储池将被删除，因为它使用的是所有站点站点站点。</block>
  <block id="34d4509adefc6cb4537e793b72c1873c" category="list-text">如果列出了一个或多个 ILM 规则，请转至下一步。</block>
  <block id="9eabdc9b45a58b9764ca70caccddea9c" category="list-text">编辑或删除每个未使用的规则：</block>
  <block id="e10995f457afa96efc9835b3d03f264d" category="list-text">要编辑规则，请转到 "ILM 规则 " 页面，并更新使用擦除编码配置文件或引用站点的存储池的所有放置位置。然后，返回到 * 步骤 4 （删除 ILM 参考） * 。</block>
  <block id="06266f7c2ab49059b82da1d6065f9b36" category="inline-image-macro">图标垃圾桶可以</block>
  <block id="501f0086ad3856f64f8bec94bcf4ffe0" category="list-text">要删除规则，请选择垃圾桶图标 <block ref="682c5c9ed7dde476a692c509f05fe7fb" category="inline-image-macro-rx" type="image"></block> 并选择 * 确定 * 。</block>
  <block id="649fe1ac76ae89e7e904cce08c9cb1a5" category="admonition">您必须先删除常用的 * 创建 2 个副本 * 规则，然后才能停用站点。</block>
  <block id="ce9fb1664fe2e439fffafed3e274c08b" category="list-text">确认不存在建议的 ILM 策略，未使用的 ILM 规则均未引用此站点，并且已启用 * 下一步 * 按钮。</block>
  <block id="71c4b3f2812abcdc1bc6d75673516d3a" category="image-alt">停用站点步骤 4 无策略或规则</block>
  <block id="f529068c280495f699a8f47fa356bdb7" category="admonition">删除此站点后，引用此站点的任何剩余存储池和擦除编码配置文件将无效。当 StorageGRID 停用站点时，它将自动停用引用该站点的任何未使用的擦除编码配置文件，并自动删除引用该站点的任何未使用的存储池。系统默认的所有存储节点存储池将被删除，因为它使用的是所有站点站点站点。</block>
  <block id="41a36adbb5465a1f32e451894f43abbd" category="paragraph">此时将显示第 5 步（解决节点冲突）。</block>
  <block id="398a1d33fb4c44b735c793d737a1e781" category="summary">如果要在出现故障的主管理节点上保留有关属性，警报和警报的历史信息，则可以还原管理节点数据库。只有当 StorageGRID 系统包含另一个管理节点时，才能还原此数据库。</block>
  <block id="5cfdfc730c710df3ed6ba5a7338f5438" category="doc">恢复主管理节点时还原管理节点数据库</block>
  <block id="b04c051b1826139bd6281add3fb99aee" category="paragraph">如果管理节点出现故障，则存储在其管理节点数据库中的历史信息将丢失。此数据库包含以下信息：</block>
  <block id="f78c84e3fe44df5ac63539c385459042" category="list-text">历史属性数据，用于 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 页面上的图表和文本报告。</block>
  <block id="428254db4f6b1b629716889a321c0db4" category="paragraph">恢复管理节点时，软件安装过程会在恢复的节点上创建一个空的管理节点数据库。但是，新数据库仅包含当前属于系统一部分或稍后添加的服务器和服务的信息。</block>
  <block id="bd5af0e010fb8b850de478da3dbc2b1e" category="paragraph">如果您还原了主管理节点，并且 StorageGRID 系统具有另一个管理节点，则可以通过将管理节点数据库从非主管理节点（ _source 管理节点 _ ）复制到已恢复的主管理节点来还原历史信息。如果您的系统只有主管理节点，则无法还原管理节点数据库。</block>
  <block id="4980248add7b4039ec10ef9822b73946" category="admonition">复制管理节点数据库可能需要几小时的时间。在源管理节点上停止服务时，某些 Grid Manager 功能将不可用。</block>
  <block id="07fa9fadea077cb008b6759178aaeb38" category="list-text">从源管理节点中，停止 MI 服务： `service mi stop`</block>
  <block id="cfeb573a8b67d4383458251d87cdd9d2" category="list-text">从源管理节点中，停止管理应用程序接口（ Management Application Program Interface ， mgmt-API ）服务： `service mgmt-api stop`</block>
  <block id="debe1b526db004509d982bc0844bb794" category="list-text">将数据库从源管理节点复制到已恢复的管理节点： ` /usr/local/mi/bin/mi-clone-db.sh Source_Admin_Node_IP`</block>
  <block id="fe78d162259390a5f61e250d7baf8ea4" category="list-text">出现提示时，确认要覆盖已恢复的管理节点上的 MI 数据库。</block>
  <block id="5539e438bdde8d501d578e5d5b9d70ff" category="paragraph">数据库及其历史数据将复制到已恢复的管理节点。完成复制操作后，此脚本将启动已恢复的管理节点。</block>
  <block id="d22dafb686cb563be3144c9513a79356" category="list-text">在源管理节点上重新启动服务： `service servermanager start`</block>
  <block id="a046ee45c27c7462a2f6b93cb77c7a15" category="summary">在恢复存储节点的故障存储卷之前，您必须查看以下警告。</block>
  <block id="b25918cf95aa886ea225abb36da6331f" category="doc">查看有关存储卷恢复的警告</block>
  <block id="8dd560a9bb8c88078563ba00d98153c3" category="paragraph">存储节点中的存储卷（或卷组）由十六进制数标识，该十六进制数称为卷 ID 。例如， 0000 是第一个卷， 000f 是第 16 个卷。每个存储节点上的第一个对象存储（卷 0 ）最多使用 4 TB 的空间来执行对象元数据和 Cassandra 数据库操作；该卷上的任何剩余空间都用于对象数据。所有其他存储卷专用于对象数据。</block>
  <block id="782eb77dd684e42841905d24b265568f" category="paragraph">如果卷 0 发生故障并需要恢复，则 Cassandra 数据库可能会作为卷恢复操作步骤 的一部分进行重建。在以下情况下，还可以重建 Cassandra ：</block>
  <block id="850ebc79da2e533a99e4793fbf7b9017" category="list-text">存储节点脱机超过 15 天后将恢复联机。</block>
  <block id="9cb626a417383d27679d24c8b77e02ea" category="list-text">系统驱动器和一个或多个存储卷发生故障并已恢复。</block>
  <block id="3ffeea0985462ed9125f23a36cc0f704" category="paragraph">重建 Cassandra 后，系统将使用其他存储节点中的信息。如果脱机的存储节点过多，则某些 Cassandra 数据可能不可用。如果 Cassandra 最近已重建，则 Cassandra 数据可能尚未在网格中保持一致。如果在存储节点过多脱机时重建 Cassandra ，或者在彼此 15 天内重建两个或多个存储节点，则可能会发生数据丢失。</block>
  <block id="d9bad2e2bf9ebe1320f47e6760033da4" category="paragraph"><block ref="d9bad2e2bf9ebe1320f47e6760033da4" category="inline-xref-macro-rx"></block></block>
  <block id="ce8c1ab2af894de107866e734d1d297a" category="summary">更换网关节点后，您必须在网格管理器中选择启动恢复，以将新节点配置为故障节点的替代节点。</block>
  <block id="1477bc21b8923d6cf798ac9bdbbb6f62" category="list-text">* 设备 * ：如果要在重置操作步骤 后重试恢复，则必须通过在节点上运行 `sgareinstall` 将设备节点还原到预安装状态。</block>
  <block id="471679b680f7049038bd7eb78dda9184" category="summary">您可以使用更改 IP 工具为网格节点配置 IP 地址来执行网络配置。</block>
  <block id="76c9a9e75b5f49d15966087da61faa3b" category="paragraph">您必须使用更改 IP 工具对网格部署期间最初设置的网络配置进行大部分更改。使用标准 Linux 网络命令和文件进行的手动更改可能不会传播到所有 StorageGRID 服务，并且可能不会在升级，重新启动或节点恢复过程中持续存在。</block>
  <block id="ee2d435d2bfbf9071ca29735261bf62c" category="inline-xref-macro">适用于网格范围更改的特殊操作步骤</block>
  <block id="382aef18f3ac4aa97eea58d46c481249" category="admonition">如果要更改网格中所有节点的网格网络 IP 地址，请使用 <block ref="0c8a8ad8be366feac1524f65b611f320" category="inline-xref-macro-rx"></block>。</block>
  <block id="815967b52ae92a6c9d9d643340cb9f4b" category="admonition">如果仅更改网格网络子网列表，请使用网格管理器添加或更改网络配置。否则，如果网格管理器因网络配置问题描述 而无法访问，或者您同时执行网格网络路由更改和其他网络更改，请使用更改 IP 工具。</block>
  <block id="b7438edd8ae4c7ab967bf236b56b63f4" category="admonition">IP 更改操作步骤 可以是中断操作步骤 。在应用新配置之前，网格的某些部分可能不可用。</block>
  <block id="66246137729dda3cbee8d9552a876e0c" category="paragraph">* 以太网接口 *</block>
  <block id="14eacb96c4acb7d92338a4ed702143e4" category="paragraph">分配给 eth0 的 IP 地址始终是网格节点的网格网络 IP 地址。分配给 eth1 的 IP 地址始终是网格节点的管理网络 IP 地址。分配给 eth2 的 IP 地址始终是网格节点的客户端网络 IP 地址。</block>
  <block id="0434775197937069138bdf564d01efa2" category="paragraph">请注意，在某些平台上，例如 StorageGRID 设备， eth0 ， eth1 和 eth2 可能是由物理或 VLAN 接口的从属网桥或绑定组成的聚合接口。在这些平台上， * SSM* &gt; * 资源 * 选项卡可能会显示除 eth0 ， eth1 或 eth2 之外分配给其他接口的网格，管理员和客户端网络 IP 地址。</block>
  <block id="8c7951149f3294271eac2c46b33c469d" category="paragraph">* DHCP *</block>
  <block id="5b9781ad3ea05d149e484965a1b63e9a" category="paragraph">您只能在部署阶段设置 DHCP 。您不能在配置期间设置 DHCP 。如果要更改网格节点的 IP 地址，子网掩码和默认网关，则必须使用 IP 地址更改过程。使用更改 IP 工具将使发生原因 DHCP 地址变为静态地址。</block>
  <block id="16f3d2e5d12c3d39932d6565a4855ab2" category="paragraph">* 高可用性（ HA ）组 *</block>
  <block id="f7f134103568088f7c82ff5087301ed0" category="list-text">如果客户端网络接口包含在 HA 组中，则不能将该接口的客户端网络 IP 地址更改为为 HA 组配置的子网之外的地址。</block>
  <block id="ba24e6f70fd7495ddcdca672f8250d09" category="list-text">您不能将客户端网络 IP 地址更改为分配给客户端网络接口上配置的 HA 组的现有虚拟 IP 地址的值。</block>
  <block id="dfb9192a2d06c35ca8df2e2ed04d3bba" category="list-text">如果网格网络接口包含在 HA 组中，则不能将该接口的网格网络 IP 地址更改为为 HA 组配置的子网之外的地址。</block>
  <block id="cacc0a25bac65e29b55cdb6588561805" category="list-text">您不能将网格网络 IP 地址更改为分配给在网格网络接口上配置的 HA 组的现有虚拟 IP 地址的值。</block>
  <block id="8814e1c277f035cd03d59fb16bf5ee8c" category="summary">如果要为负载平衡器服务配置端点，并且要使用已配置为端口重新映射的映射到端口的端口，则必须先删除现有端口重新映射，否则此端点将无效。如果您在裸机主机上运行 StorageGRID ，请按照此操作步骤 而不是常规操作步骤 删除端口重新映射。您必须为每个管理节点和网关节点编辑节点配置文件，该节点的重新映射端口相互冲突，以删除该节点的所有端口重新映射并重新启动该节点。</block>
  <block id="9ab9effbbb3622d5aa24e3c72a58f4bb" category="doc">删除裸机主机上的端口重新映射</block>
  <block id="cb0e7626adc976a7a197e79030bbd6ad" category="paragraph">如果要为负载平衡器服务配置端点，并且要使用已配置为端口重新映射的映射到端口的端口，则必须先删除现有端口重新映射，否则此端点将无效。如果您在裸机主机上运行 StorageGRID ，请按照此操作步骤 而不是常规操作步骤 删除端口重新映射。您必须为每个管理节点和网关节点编辑节点配置文件，该节点的重新映射端口相互冲突，以删除该节点的所有端口重新映射并重新启动该节点。</block>
  <block id="16c046677e3e0ba5f697f8832e17bc13" category="admonition">此操作步骤 将删除所有端口重新映射。如果需要保留部分重新映射，请联系技术支持。</block>
  <block id="e1f698a49bbae4c21b1941f99ce143ff" category="paragraph">有关配置负载平衡器端点的信息，请参见有关管理 StorageGRID 的说明。</block>
  <block id="4d02acb0a4f4642384431633ce410d54" category="admonition">此操作步骤 可能会在节点重新启动时暂时丢失服务。</block>
  <block id="b8a2135e3ad3ef3e7aa57a05cb9e3eb1" category="list-text">登录到支持此节点的主机。以 root 用户身份或使用具有 sudo 权限的帐户登录。</block>
  <block id="8c4582e411848e28e326167ba306a524" category="list-text">运行以下命令以临时禁用节点： `sUdo StorageGRID node stop _node-name_`</block>
  <block id="96a08c7b8b3a9345f154c24d2c4d30f9" category="list-text">使用 vim 或 pico 等文本编辑器编辑节点的节点配置文件。</block>
  <block id="1cf4475287d8f45e9534d1a93432a9a1" category="paragraph">节点配置文件位于 ` /etc/storaggrid/nodes/_node-name_.conf` 中。</block>
  <block id="60aeafa3c9ce1badd98b964b4c7d1bba" category="list-text">找到节点配置文件中包含端口重新映射的部分。</block>
  <block id="14dfd6652e4b1a87911f001e42653dfc" category="paragraph">请参见以下示例中的最后两行。</block>
  <block id="6d3e280dbc1c927898fb9147f652d24f" category="list-text">编辑 port_remap 和 port_remap_inbound 条目以删除端口重新映射。</block>
  <block id="a69fdd04a0cace3ae528c070357c6233" category="list-text">运行以下命令以验证对节点的节点配置文件所做的更改： ``sUdo StorageGRID node validate _node-name_``</block>
  <block id="3e0b61041ae8295f1970aa2c47038066" category="list-text">运行以下命令以在不重新映射端口的情况下重新启动节点： `sUdo StorageGRID node start _node-name_`</block>
  <block id="41b4ce7f47ef7f476042cab09274c0b6" category="list-text">使用 `passwords.txt` 文件中列出的密码以管理员身份登录到此节点。</block>
  <block id="ef34564d8d66d01d8c063f368e88e52e" category="list-text">验证服务是否正确启动。</block>
  <block id="fc6f9a79a2709ad303c441580c87b8b8" category="list-text">查看服务器上所有服务的状态列表：``sudo storagegRid-status``</block>
  <block id="0628af7fcfc0fa4669b409af52fec7b6" category="list-text">请等待，直到所有服务的状态均为 " 正在运行 " 或 " 已验证 " 。</block>
  <block id="411d8ce190ecf0b561d1a478c4ecfb7c" category="list-text">退出状态屏幕：``Ctrl+C``</block>
  <block id="b4ca2c1d89979b0af0b880f57dba6038" category="list-text">对具有冲突重新映射端口的每个管理节点和网关节点重复上述步骤。</block>
  <block id="7899382758f9fc7418775e9b9509617f" category="doc">监控 StorageGRID 设备安装</block>
  <block id="271c3c26dd325daa3006ab1f6b65b357" category="list-text">继续监控安装进度，直到 * 安装 StorageGRID 网格管理器 * 阶段暂停，并且嵌入式控制台上显示一条消息，提示您使用网格管理器在管理节点上批准此节点。</block>
  <block id="3f55e5fa1840f54fc2c04e4f94f55a3c" category="list-text">转至操作步骤 以配置设备存储节点。</block>
  <block id="6a2543b554a9dd04c3e6fc158b8b31ff" category="summary">您可以使用 SG100 或 SG1000 服务设备恢复出现故障的网关节点，出现故障的非主管理节点或 VMware 上托管的主管理节点， Linux 主机或服务设备发生故障。此操作步骤 是网格节点恢复操作步骤 的一个步骤。</block>
  <block id="92627c3d9903c1e910c69601d827244b" category="doc">将故障节点更换为服务设备</block>
  <block id="64ada5b09302017831c679b8eae3e85d" category="list-text">您必须已确定以下情况之一是正确的：</block>
  <block id="45fc3215526c679363ce8ebc444e2c98" category="list-text">无法还原托管此节点的虚拟机。</block>
  <block id="6ddaebd9436720921e18685743b68028" category="list-text">网格节点的物理或虚拟 Linux 主机出现故障，必须更换。</block>
  <block id="da84a75b4f465363e1c7b1342e7ff8b9" category="list-text">必须更换托管网格节点的服务设备。</block>
  <block id="530229b65f5f64777b90d566721f6097" category="list-text">您必须确保服务设备上的 StorageGRID 设备安装程序版本与 StorageGRID 系统的软件版本匹配，如用于验证和升级 StorageGRID 设备安装程序版本的硬件安装和维护中所述。</block>
  <block id="21b09f7f125aec0007f4309172c040cc" category="admonition">不要在同一站点同时部署 SG100 和 SG1000 服务设备。可能会导致性能不可预测。</block>
  <block id="0f7d30e5dc072b12c52a1d64f92369ca" category="paragraph">在以下情况下，您可以使用 SG100 或 SG1000 服务设备恢复出现故障的网格节点：</block>
  <block id="121eb5a187068edecadf361033a691f2" category="list-text">故障节点托管在 VMware 或 Linux 上（平台更改）</block>
  <block id="4911bad41d8fcd7ccb275a33a433eb63" category="list-text">故障节点托管在服务设备上（平台更换）</block>
  <block id="9673d940e3ac6831ce6db4664cc99091" category="summary">您可以随时查看网格节点上运行的服务的当前状态。</block>
  <block id="a203f0dc946e974b97e8a1b144349dd1" category="doc">查看服务的当前状态</block>
  <block id="7b1a2f8098cabd25574a7678d143c421" category="list-text">查看在网格节点上运行的服务的当前状态： ` * service _servicename_ status* 报告在网格节点上运行的请求服务的当前状态（无论是否正在运行）。例如：</block>
  <block id="a6eb7af27d9827cef1d0473c1ab6277e" category="summary">如果您检测到某个服务已进入错误状态，请尝试重新启动此服务。</block>
  <block id="73228cb0820883ba91f27a54371b2299" category="doc">存在错误状态的服务</block>
  <block id="041ad0f9c53cc173ecea6e00bfe77aa5" category="paragraph">Server Manager 可监控服务并重新启动任何意外停止的服务。如果服务失败， Server Manager 将尝试重新启动它。如果在五分钟内启动服务的尝试失败三次，则该服务将进入错误状态。Server Manager 不会尝试再次重新启动。</block>
  <block id="43393f165617fe67b08ac20b9670cb94" category="list-text">确认服务的错误状态： `sservice_servicename_ status`</block>
  <block id="84911b5f10d5a12a32c17f3f112ed637" category="paragraph">如果服务处于错误状态，则会返回以下消息： ` _servicename_ in error state` 。例如：</block>
  <block id="47fb1d106dba142112350349ea8ceaf1" category="inline-xref-macro">删除服务的 DoNotStart 文件</block>
  <block id="7b66188c97a550d4875bcc1fba61603f" category="admonition">如果服务状态为 `d已禁用` ，请参见的说明 <block ref="a855a0a47231315a4a4c9d3bfd11540e" category="inline-xref-macro-rx"></block>。</block>
  <block id="179a23db0406c387024f137fe97aa839" category="list-text">尝试通过重新启动服务来删除错误状态： `sservice_servicename_ restart`</block>
  <block id="8040c165d9f0eff42ef0df9e079fea30" category="paragraph">如果服务无法重新启动，请联系技术支持。</block>
  <block id="2efc9c58f45117659f2bdcffe9cb19e7" category="summary">在应用修补程序之前，您必须获取所有必需的材料。</block>
  <block id="6adf5d5fa7a464134b53c5818e61a129" category="doc">获取修复所需的材料</block>
  <block id="c1bbe95204cfad6e7fb65c1401a4bf02" category="paragraph">StorageGRID 修补程序文件</block>
  <block id="a222e0117135e911fe0fe19214f9c60c" category="paragraph">您必须下载 StorageGRID 修补程序文件。</block>
  <block id="b369d8dd1ea2717e49f16082101e5529" category="inline-xref-macro">下载最新的恢复软件包文件</block>
  <block id="c140df638707176bfbb69d5ec403c7bf" category="paragraph">应用修补程序之前， <block ref="75111a9155fe57ebc0b9b75a905a43cf" category="inline-xref-macro-rx"></block> 如果在修复期间发生任何问题，请在应用此修复程序后下载恢复包文件的新副本并将其保存在安全位置。更新后的恢复包文件可用于在发生故障时还原系统。</block>
  <block id="ee7727c1693004432535024c44d9ce02" category="cell">Passwords.txt 文件</block>
  <block id="0216506820c17731a089f665d429bbd2" category="paragraph">可选，只有在使用 SSH 客户端手动应用修补程序时才使用。`passwords.txt` 文件包含在该软件包中，该软件包是恢复软件包 ` .zip` 文件的一部分。</block>
  <block id="c8d4bfcc32da3f8db59c3ccf8a0d7068" category="paragraph">`reADME.txt` 此修补程序的文件。此文件包含在热修补程序下载页面中。在应用此修补程序之前，请务必仔细查看 `reADME` 文件。</block>
  <block id="39cb0aaaa58ca2bd4a083a213825d3a5" category="paragraph"><block ref="39cb0aaaa58ca2bd4a083a213825d3a5" category="inline-xref-macro-rx"></block></block>
  <block id="fe9de29f2d326d208a62d78407d76808" category="summary">在恢复存储节点的故障系统驱动器之前，您必须查看以下警告。</block>
  <block id="39988b3f11738a2ad7ddf19f45600d5a" category="paragraph">存储节点具有包含对象元数据的 Cassandra 数据库。在以下情况下，可能会重建 Cassandra 数据库：</block>
  <block id="4d6f25529d5eb28808522430dec2a58e" category="list-text">存储卷出现故障并已恢复。</block>
  <block id="30dd75ea978182b93c6fedaf5b17679a" category="admonition">如果此存储节点处于只读维护模式，以便允许存储卷出现故障的另一个存储节点检索对象，请先在存储卷出现故障的存储节点上恢复卷，然后再恢复此故障存储节点。请参见有关从系统驱动器完好无损的存储卷丢失中恢复的说明。</block>
  <block id="fff672f8b0da655e9971531b7498d09c" category="inline-xref-macro">从系统驱动器完好无损的存储卷故障中恢复</block>
  <block id="6f7b723f5a9bb473d2027a19c920ba00" category="paragraph"><block ref="6f7b723f5a9bb473d2027a19c920ba00" category="inline-xref-macro-rx"></block></block>
  <block id="d25f9cfccba6ac34b2cc5ae677f30b8b" category="summary">从 " 弃用站点 " 向导的第 5 步 \ （解决节点冲突 \ ）中，您可以确定 StorageGRID 系统中的任何节点是否已断开连接，或者选定站点中的任何节点是否属于高可用性 \ （ HA\ ）组。解决任何节点冲突后，您可以从此页面启动停用操作步骤 。</block>
  <block id="d705190e29460c4a4d75ad5c356b2dd2" category="paragraph">从 " 弃用站点 " 向导的第 5 步（解决节点冲突）中，您可以确定 StorageGRID 系统中的任何节点是否已断开连接，或者选定站点中的任何节点是否属于高可用性（ HA ）组。解决任何节点冲突后，您可以从此页面启动停用操作步骤 。</block>
  <block id="57147a1b80edfcc38a0b446e18614175" category="paragraph">您必须确保 StorageGRID 系统中的所有节点均处于正确状态，如下所示：</block>
  <block id="4b87cc61378c386a753fd573f8c4451a" category="list-text">StorageGRID 系统中的所有节点都必须已连接（<block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block>）。</block>
  <block id="d354da493243c7ce5be8cd78fd5288d9" category="admonition">如果要执行已断开连接的站点停用，则必须断开要删除站点上的所有节点，并且必须连接所有其他站点上的所有节点。</block>
  <block id="1418b4b7fd02c707692743ac295482b9" category="list-text">要删除的站点上的任何节点都不能具有属于高可用性（ HA ）组的接口。</block>
  <block id="b0b4d0d637ad416a4437f5c500cb069f" category="paragraph">如果步骤 5 （解决节点冲突）中列出了任何节点，则必须更正问题描述 ，然后才能开始停用。</block>
  <block id="0a19b357c3297a92de8e9a420e3cdec9" category="paragraph">在此页面中启动站点停用操作步骤 之前，请查看以下注意事项：</block>
  <block id="c4aa83bd170ec0f9793d3dfb26ccae71" category="list-text">您必须留出足够的时间来完成停用操作步骤 。</block>
  <block id="64835d7ea3e6b0df2709e6232d3629cd" category="admonition">如果在已连接站点停用期间需要执行另一个维护操作步骤 ，则可以在删除存储节点时暂停操作步骤 。在 " `D复制和擦除编码数据` " 阶段， * 暂停 * 按钮将启用。</block>
  <block id="2c7d2ae675fa37f74e9d4f021f0db481" category="list-text">查看步骤 5 （解决节点冲突）中的已断开节点部分，确定 StorageGRID 系统中的任何节点的连接状态是否为未知（<block ref="a92fabbc4ee2a5d52499f401dd4d194f" category="inline-image-macro-rx" type="image"></block>）或管理员关闭（<block ref="f3266c02d99c67a6049b4120307bbe26" category="inline-image-macro-rx" type="image"></block>）。</block>
  <block id="73246c2ecc8a06181a46f2242d87a33e" category="image-alt">停用站点步骤 5 解决节点冲突</block>
  <block id="245f0452d3c3cc8d22b360683a83aeea" category="list-text">如果任何节点已断开连接，请将其恢复联机。</block>
  <block id="f5f1bf3a75e83a13c8f8526a790e78ac" category="paragraph">请参见有关监控 StorageGRID 和网格节点过程并对其进行故障排除的说明。如需帮助，请联系技术支持。</block>
  <block id="44b19a3eb285dc9c03d384eaa111b5c5" category="list-text">当所有已断开连接的节点恢复联机后，请查看步骤 5 （解决节点冲突）中的 HA 组部分。</block>
  <block id="9b1bd4bff7322351f95e8ad97b8a17f6" category="paragraph">此表列出了选定站点中属于高可用性（ HA ）组的任何节点。</block>
  <block id="137a965938cca6cacd15f896d214f74c" category="image-alt">停用站点步骤 5 HA 组</block>
  <block id="6384af0533bbb754017a3536d92a6d3a" category="list-text">如果列出了任何节点，请执行以下操作之一：</block>
  <block id="e8979c608531ef6e48bf15ff57576915" category="list-text">编辑每个受影响的 HA 组以删除节点接口。</block>
  <block id="5483d72cbfaa318971b01ce16ccf15f9" category="list-text">从此站点中删除仅包含节点的 HA 组。请参见有关管理 StorageGRID 的说明。</block>
  <block id="45aef64ea3a8abea758b6982f5853498" category="paragraph">如果连接了所有节点，并且在 HA 组中未使用选定站点中的任何节点，则会启用 * 配置密码短语 * 字段。</block>
  <block id="2a78daf1ad466f65bd13d357cb89d0ff" category="paragraph">此时， * 开始取消配置 * 按钮将变为启用状态。</block>
  <block id="3a32eb846f5f8a5102b9274320546449" category="image-alt">停用站点步骤 5 配置密码短语</block>
  <block id="450205e2c005fe8c770cd4d24096c0d5" category="list-text">如果您已准备好启动站点停用操作步骤 ，请选择 * 启动停用 * 。</block>
  <block id="0a84f7a9e3e09a38e85bebfa419e98e9" category="paragraph">警告将列出要删除的站点和节点。系统会提醒您，完全删除此站点可能需要数天，数周甚至数月的时间。</block>
  <block id="49222c8115eb700f539e4bcc8504159e" category="image-alt">停用站点步骤 5 警告</block>
  <block id="ce599845aa9e922026954f491494d5d0" category="list-text">查看警告。如果您已准备好开始，请选择 * 确定 * 。</block>
  <block id="f82c65091bd29e3dec611e9c77c6fc17" category="paragraph">生成新网格配置时，将显示一条消息。此过程可能需要一些时间，具体取决于停用的网格节点的类型和数量。</block>
  <block id="ac2f87bb0671c8b2abcada34b6e528a6" category="image-alt">停用站点步骤 5 网格配置</block>
  <block id="0f646d8a6bfa049c42fa19de2fa0a411" category="paragraph">生成新网格配置后，将显示步骤 6 （监控取消配置）。</block>
  <block id="df4eefe17da5f848e4d4494ba5e3e741" category="admonition">在停用完成之前， * 上一步 * 按钮将保持禁用状态。</block>
  <block id="be3f4c1a11c563c0517193548a106305" category="inline-xref-macro">网格节点过程</block>
  <block id="ea35d8590e1d305dd75b1c2886d0b734" category="paragraph"><block ref="ea35d8590e1d305dd75b1c2886d0b734" category="inline-xref-macro-rx"></block></block>
  <block id="29eacf3039571243fc4133f78e1db66b" category="summary">您可以在 StorageGRID 中克隆设备节点，以使用设计较新或功能增强的设备。克隆会将现有节点上的所有信息传输到新设备，提供易于执行的硬件升级过程，并提供停用和扩展的替代方案来更换设备。</block>
  <block id="b7cd29c1531745149a88d6056a6c42c4" category="doc">设备节点克隆</block>
  <block id="bbb94353dffd534ca2d5f1cb42c909d7" category="summary">您可能需要停用当前未连接到网格的节点（运行状况为未知或管理员关闭的节点）。</block>
  <block id="fd0f2337dbc929e6872f7768ccb2be50" category="paragraph">您可能需要停用当前未连接到网格的节点（运行状况为未知或管理员关闭的节点）。</block>
  <block id="27478a88f71c27b8de0facae53153fe1" category="list-text">您了解要求和 <block ref="a1b55412157fa75ddf47a3d2388aacf6" category="inline-xref-macro-rx"></block>。</block>
  <block id="f6b496f87476d74c7f43c83549b26d8c" category="list-text">您已获取所有前提条件项。</block>
  <block id="6bfd3e1ff48123c223d58ced87ded126" category="list-text">您已确保没有处于活动状态的数据修复作业。请参见 <block ref="b3fc064844d1d5657a98b603cfb3bc03" category="inline-xref-macro-rx"></block>。</block>
  <block id="90afd4a487c9c8da56b792ac5382195e" category="list-text">您已确认网格中的任何位置均未进行存储节点恢复。如果是，则必须等待在恢复过程中执行的任何 Cassandra 重建完成。然后，您可以继续停用。</block>
  <block id="8da0a6f15b1ba8212d2c800f63d6b49a" category="list-text">您已确保在节点停用操作步骤 运行期间不会运行其他维护过程，除非节点停用操作步骤 已暂停。</block>
  <block id="fb7710f2ee02c4a75037ba128be3b09b" category="list-text">要停用的已断开连接节点的 * 可停用 * 列包含一个绿色复选标记。</block>
  <block id="ebf7bb488f01b07cb66311eb609f9c87" category="paragraph">您可以通过在 * 运行状况 * 列中查找未知（蓝色）或管理员关闭（灰色）图标来识别已断开连接的节点。在此示例中，名为 DC1-S4 的存储节点已断开连接；所有其他节点均已连接。</block>
  <block id="37e2347531b0e365fa81c2340e7cb087" category="image-alt">在一个节点断开连接的情况下停用节点页面</block>
  <block id="673632ef4a45ed8745fc309c00ae35c9" category="paragraph">停用任何已断开连接的节点之前，请注意以下事项：</block>
  <block id="eda562e6b7a0d8a2598bb2511ed40106" category="list-text">此操作步骤 主要用于删除一个断开连接的节点。如果您的网格包含多个断开连接的节点，则软件要求您同时停用所有节点，从而增加意外结果的可能性。</block>
  <block id="04201561d5cb2c68638f39aaa4f77140" category="admonition">一次停用多个断开连接的网格节点时，请务必小心，尤其是在选择多个断开连接的存储节点时。</block>
  <block id="c5ced7a5b58e0431dc8506e7e4a879d3" category="paragraph">停用已断开连接的 * 存储节点 * 之前，请注意以下事项</block>
  <block id="70826ca1d358f3c87b36f065648f5cac" category="list-text">您不应停用已断开连接的存储节点，除非您确定它无法联机或恢复。</block>
  <block id="d2dafbb525140f49aa4f89815c7becb6" category="admonition">如果您认为仍可从节点恢复对象数据，请勿执行此操作步骤 。请联系技术支持以确定是否可以进行节点恢复。</block>
  <block id="9605ef92d8f9ed9e89c0769bed6bc603" category="list-text">如果停用多个已断开连接的存储节点，则可能会发生数据丢失。如果没有足够的对象副本，纠删编码片段或对象元数据保持可用，则系统可能无法重建数据。</block>
  <block id="a66106013f0b548a7823220a31b6c40a" category="list-text">停用已断开连接的存储节点时， StorageGRID 会在停用过程结束时启动数据修复作业。这些作业会尝试重建已断开连接的节点上存储的对象数据和元数据。</block>
  <block id="07269b996b1d7b8637e993075af01fe7" category="list-text">如果停用的存储节点已断开连接，而该存储节点包含某个对象的唯一副本，则该对象将丢失。只有当当前连接的存储节点上至少存在一个复制副本或足够多的纠删编码片段时，数据修复作业才能重建和恢复对象。</block>
  <block id="600976d984d6c2ebe6c4e3a20729401f" category="paragraph">停用已断开连接的 * 管理节点 * 或 * 网关节点 * 之前，请注意以下事项：</block>
  <block id="2c958df4334c34bd1e2269b42f24179e" category="list-text">停用已断开连接的管理节点时，该节点上的审核日志将丢失；但是，这些日志也应存在于主管理节点上。</block>
  <block id="0df7c567d8770f4a02378c70e2ab7167" category="list-text">您可以在网关节点断开连接时安全地停用它。</block>
  <block id="03d51c925474d87882065ff6b34db05c" category="list-text">尝试将任何已断开连接的网格节点恢复联机或进行恢复。</block>
  <block id="8056138a31568cd469fe3f8539fc7257" category="paragraph">有关说明，请参见恢复过程。</block>
  <block id="17a3afaa6e75279aa9b3d267b2dc134f" category="list-text">如果无法恢复已断开连接的网格节点，并且您希望在该节点断开连接后将其停用，请选中该节点的复选框。</block>
  <block id="c32d3388ee1da6de264b31ccbc0705a6" category="admonition">如果选择一次停用多个断开连接的网格节点，请务必格外小心，尤其是在选择多个断开连接的存储节点时。如果有多个已断开连接的存储节点无法恢复，请联系技术支持以确定最佳操作方案。</block>
  <block id="c4c80b229ac2b6132e986db56e34ff57" category="paragraph">此时将显示一条警告，指示您已选择断开连接的节点，如果此节点具有唯一的对象副本，则此对象数据将丢失。</block>
  <block id="b68a05e266642190909f9ab9f44b5104" category="image-alt">停用警告消息的屏幕截图</block>
  <block id="e52365bb7f3819a03cf2689e56e29e3b" category="list-text">查看节点列表，然后单击 * 确定 * 。</block>
  <block id="5f69d2f169c92946785352d8246e3fde" category="paragraph">停用操作步骤 将启动，并显示每个节点的进度。在操作步骤 期间，将生成一个新的恢复软件包，其中包含网格配置更改。</block>
  <block id="43a614aeb62db5d354554ddfa8f080fa" category="list-text">定期监控 " 停用 " 页面，以确保所有选定节点均已成功停用。</block>
  <block id="96d86d740af5314b2d28c30be4db328e" category="paragraph">存储节点停用可能需要数天或数周时间。完成所有任务后，系统将重新显示节点选择列表，并显示成功消息。如果停用了已断开连接的存储节点，则会显示一条信息消息，指出修复作业已启动。</block>
  <block id="4b433828b76b6ef10cf245e621f6e7a3" category="image-alt">显示修复作业已启动的屏幕截图</block>
  <block id="721567807737e4a7a3553e5c45129ab1" category="list-text">在停用操作步骤 期间自动关闭节点后，请删除与已停用节点关联的任何剩余虚拟机或其他资源。</block>
  <block id="1f62409b37b054b6d2209302a0a6ee31" category="admonition">在节点自动关闭之前，请勿执行此步骤。</block>
  <block id="91aa2a3cb25d157210de08d78ec58f85" category="list-text">如果要停用存储节点，请监控在停用过程中自动启动的 * 复制数据 * 和 * 纠删编码（ EC ）数据 * 修复作业的状态。</block>
  <block id="a31d05f68ca0db9f2e43b37dae0f5700" category="paragraph">一旦断开连接的节点停用并完成所有数据修复作业，您就可以根据需要停用任何已连接的网格节点。</block>
  <block id="c875a6b3e95f3f359bca762bab16f4cb" category="paragraph">然后，在完成停用操作步骤 后完成以下步骤：</block>
  <block id="c6b510aec04539176a933b36d7166566" category="list-text">如果您停用了某个设备节点，并且该设备上的数据已使用节点加密进行保护，请使用 StorageGRID 设备安装程序清除密钥管理服务器配置（清除 KMS ）。如果要将设备添加到另一个网格，则必须清除 KMS 配置。</block>
  <block id="d4388006e0363ced35e8f486d5396c0f" category="inline-xref-macro">网格节点恢复过程</block>
  <block id="1e8fb88d10690f8b1e0056937ff9fa04" category="paragraph"><block ref="1e8fb88d10690f8b1e0056937ff9fa04" category="inline-xref-macro-rx"></block></block>
  <block id="54188b6ff21cd050b26982264997918f" category="summary">在克隆设备节点之前，您必须了解注意事项和要求。</block>
  <block id="6998cb081469ebd839c8bad9d76d9327" category="doc">设备节点克隆的注意事项和要求</block>
  <block id="b959fd8ab2a0acd7b6945c942f03d2a7" category="section-title">更换设备的硬件要求</block>
  <block id="8b817ddf1c4850340f6d234f071fae76" category="paragraph">确保替代设备符合以下标准：</block>
  <block id="af11eea53677ab5b08aa19cdcafd56ee" category="list-text">源节点（要更换的设备）和目标（新）设备必须为相同类型的设备：</block>
  <block id="2dfbae24004209154659df1bc8fa2a85" category="list-text">您只能将管理节点设备或网关节点设备克隆到新的服务设备。</block>
  <block id="3ed00b5839a316ad99941cddc347868b" category="list-text">您只能将存储节点设备克隆到新的存储设备。</block>
  <block id="3cf702653c66077f73120dbfe8dbe0e2" category="list-text">对于管理节点或网关节点设备，源节点设备和目标设备不必是相同类型的设备；但是，更改设备类型可能需要更换缆线或 SFP 模块。</block>
  <block id="481d4b10597e9f9335c607d5115fd3db" category="paragraph">例如，您可以将 SG1000 节点设备更换为 SG100 ，也可以将 SG100 设备更换为 SG1000 设备。</block>
  <block id="bbb6a6b3bccfc1383a8a7f6ca3fbc73b" category="list-text">对于存储节点设备，源节点设备和目标设备不必是相同类型的设备；但是，目标设备的存储容量必须大于源设备。</block>
  <block id="40e75005cf7810f6dbc5a55354dbefe6" category="paragraph">例如，您可以将 SG5600 节点设备更换为 SG5700 或 SG6000 设备。</block>
  <block id="aabbed64734c33f6c7a61d74e334625a" category="paragraph">请联系您的 StorageGRID 销售代表，以帮助您选择兼容的替代设备来克隆 StorageGRID 安装中的特定设备节点。</block>
  <block id="832fb35230dc87b9117894fb35395cc7" category="section-title">准备克隆设备节点</block>
  <block id="b5294afa6bdf999592717fba8fbe1b02" category="paragraph">克隆设备节点之前，您必须具有以下信息：</block>
  <block id="e82950c049e9b0473888fb365f4e1702" category="list-text">从网络管理员处获取网格网络的临时 IP 地址，以便在初始安装期间与目标设备配合使用。如果源节点属于管理网络或客户端网络，请获取这些网络的临时 IP 地址。</block>
  <block id="dae6521fc9b9a487d6b7da2a3fe8a669" category="paragraph">临时 IP 地址通常与要克隆的源节点设备位于同一子网中，克隆完成后不需要这些地址。源设备和目标设备都必须连接到 StorageGRID 的主管理节点，才能建立克隆连接。</block>
  <block id="6961f30385cb1f1c5f237a44d1c01e61" category="list-text">确定要使用哪个网络克隆数据传输流量，从而在不降低 StorageGRID 网络性能或数据可用性的情况下提供最佳数据传输性能。</block>
  <block id="5ffb9c2b7661912b40cc22d51807d486" category="admonition">使用 1-GbE 管理网络进行克隆数据传输会导致克隆速度变慢。</block>
  <block id="be757334ad2c2fbd2be982da7216fa9d" category="list-text">确定目标设备是否将使用密钥管理服务器（ KMS ）进行节点加密，以便在克隆之前在初始目标设备安装期间启用节点加密。您可以按照设备安装中所述检查源设备节点上是否启用了节点加密。</block>
  <block id="f3547558aa9eeb591224d3b73c6fe1f6" category="paragraph">源节点和目标设备可以具有不同的节点加密设置。在数据传输期间以及目标节点重新启动并加入网格时，系统会自动执行数据解密和加密。</block>
  <block id="da6305932b07f9de0f22a2c5db4c22a5" category="list-text">确定是否应更改目标设备上的 RAID 模式及其默认设置，以便您可以在克隆之前的初始目标设备安装期间指定此信息。您可以在网格管理器的 * 节点 * 页面上查看有关源设备节点当前 RAID 模式的信息。选择设备的 * 存储 * 选项卡。</block>
  <block id="760f793060ea29dfdd18f4fc69ab4f9d" category="paragraph">源节点和目标设备可以具有不同的 RAID 设置。</block>
  <block id="665b2ee84b3ce1addec753e47812a753" category="list-text">规划足够的时间以完成节点克隆过程。将数据从运行中的存储节点传输到目标设备可能需要几天时间。计划一次克隆，尽可能地减少对业务的影响。</block>
  <block id="ed44cdb4d3e080dee6b895b78592b4b8" category="list-text">一次只能克隆一个设备节点。克隆可能会阻止您同时执行其他 StorageGRID 维护功能。</block>
  <block id="3bb09eb481180921ee13fa6049a488e0" category="list-text">克隆设备节点后，您可以使用已恢复预安装状态的源设备作为克隆另一个兼容节点设备的目标。</block>
  <block id="bb5d10c0d65a795d977fe36f9fedf3ad" category="summary">您可以执行停用操作步骤 ，以便从 StorageGRID 系统中永久删除网格节点或整个站点。</block>
  <block id="b8656a8e8caac62ec232201015c4a725" category="paragraph">要删除网格节点或站点，请执行以下停用过程之一：</block>
  <block id="06eb2a8b75833e6c872123a61cb035d5" category="list-text">执行 * 节点停用 * 以删除一个或多个节点，这些节点可以位于一个或多个站点上。您删除的节点可以联机并连接到 StorageGRID 系统，也可以脱机并断开连接。</block>
  <block id="f9c243375aea08c0ebe2817f4b2cbc2b" category="list-text">执行 * 已连接站点停用 * 以删除所有节点均已连接到 StorageGRID 的站点。</block>
  <block id="042bd8450e3f949da96888b43d1df58b" category="list-text">执行 * 已断开连接的站点停用 * 以删除所有节点均已从 StorageGRID 断开的站点。</block>
  <block id="b171a9d78d8a0c927e8bc055f5c7430b" category="admonition">在执行已断开连接的站点停用之前，您必须联系您的 NetApp 客户代表。在取消配置站点向导中启用所有步骤之前， NetApp 将查看您的要求。如果您认为可以恢复站点或从站点恢复对象数据，则不应尝试执行已断开连接的站点停用。</block>
  <block id="c11db913cdf20b25bf42b334062dc60b" category="inline-xref-macro">在删除存储节点时暂停停用操作步骤</block>
  <block id="42ddb1cc370c58d94d996671c8f56d78" category="admonition">如果需要执行第二个维护操作步骤 ，可以 <block ref="629da2517f9d53da99a9697b3ad83f5f" category="inline-xref-macro-rx"></block>。只有在达到 ILM 评估或纠删编码的数据停用阶段时， * 暂停 * 按钮才会启用；但是， ILM 评估（数据迁移）将继续在后台运行。第二个维护操作步骤 完成后，您可以恢复停用。</block>
  <block id="9b1a109e98b2820b0a485df4df1e6fde" category="inline-xref-macro">网格节点停用</block>
  <block id="205aad65b271c0f847c4a06c76da6d1b" category="paragraph"><block ref="205aad65b271c0f847c4a06c76da6d1b" category="inline-xref-macro-rx"></block></block>
  <block id="1be97c28fceab4b3d567e2ceac4c3c4a" category="summary">您必须为出现故障的节点类型选择正确的恢复操作步骤 。</block>
  <block id="cf4fb863df6183c750d5686a5f664ae0" category="doc">选择节点恢复操作步骤</block>
  <block id="e47090221bd358d82ba9dff177c9727f" category="cell">网格节点</block>
  <block id="a5d136c84d40056339e89d46ab9f5411" category="cell">恢复操作步骤</block>
  <block id="a50fdfa10ebaebbc329b7e2f09e6bd67" category="paragraph">多个存储节点</block>
  <block id="d530ecad84a0a89ce63271cf1169fda7" category="paragraph">请联系技术支持。如果多个存储节点出现故障，技术支持必须协助恢复，以防止数据库不一致导致数据丢失。可能需要站点恢复操作步骤 。</block>
  <block id="59fa79b54ba97d4347475ad7198cdc13" category="paragraph">一个存储节点</block>
  <block id="31713bdf6ab5e29c9c22001913fde9e0" category="paragraph">存储节点恢复操作步骤 取决于故障的类型和持续时间。</block>
  <block id="427c19bbd0faa1179a0e5cfc6d062c78" category="inline-xref-macro">从存储节点故障中恢复</block>
  <block id="7c67dac80f313466f4254c5ef3f5d51f" category="paragraph"><block ref="7c67dac80f313466f4254c5ef3f5d51f" category="inline-xref-macro-rx"></block></block>
  <block id="f41f8da49480911fe11396ed1754b211" category="paragraph">管理节点操作步骤 取决于您是需要恢复主管理节点还是非主管理节点。</block>
  <block id="317a5e7e2f4574f3274ed27a5c82c17b" category="paragraph"><block ref="317a5e7e2f4574f3274ed27a5c82c17b" category="inline-xref-macro-rx"></block></block>
  <block id="4345c2b7908b5d507e2387145f369b1b" category="paragraph"><block ref="2739fffb8ae84857957d31bd3049e824" category="inline-xref-macro-rx"></block>。</block>
  <block id="987dede853840e2cdc5e4b1e50b0691f" category="paragraph"><block ref="5a0dc80cb47c78e1c79bb373b3615102" category="inline-xref-macro-rx"></block>。</block>
  <block id="6d2934e7703f1261092e0db98cbe7b72" category="summary">要重新挂载保留的存储卷并重新格式化任何故障存储卷，您必须手动运行两个脚本。第一个脚本将重新挂载格式正确的卷，使其格式化为 StorageGRID 存储卷。第二个脚本将重新格式化所有已卸载的卷，根据需要重新构建 Cassandra 并启动服务。</block>
  <block id="a3f0a3ec5fdfb7ed06b336675f911867" category="doc">重新挂载并重新格式化存储卷（ " 手动步骤 " ）</block>
  <block id="152ff96398101837481584865ed0cff6" category="inline-xref-macro">已查看有关存储节点系统驱动器恢复的警告</block>
  <block id="4e5fa196e8b88f2973f89eab1683ef0a" category="list-text">您已拥有 <block ref="cfd426d6c5c4332d83d5a6514cfbcdb8" category="inline-xref-macro-rx"></block>。</block>
  <block id="6837dc392c2392435ed5fe48a33de3d0" category="inline-xref">安装后脚本</block>
  <block id="35a8dfd58217d6f7243f81d6370d46fc" category="admonition">在运行 `sn-recovery-postinstall.sh` 之前，请勿在恢复期间重新启动存储节点（请参见的步骤） <block ref="a480a401a134094bf1d1f72968a8864d" category="inline-xref-macro-rx"></block>）重新格式化故障存储卷并还原对象元数据。在 `sn-recovery-postinstall.sh` 完成之前重新启动存储节点会导致尝试启动的服务出错，并导致 StorageGRID 设备节点退出维护模式。</block>
  <block id="48fdb1fd46815e4d0fadac48e7508297" category="list-text">` dev/sde` 已通过 XFS 文件系统一致性检查，并且卷结构有效；但是， volID 文件中的 LDR 节点 ID 与此存储节点的 ID 不匹配（顶部显示的 `configured LDR noid` ）。此消息表示此卷属于另一个存储节点。</block>
  <block id="50047601a611cf39185fedf68fe3d7e0" category="paragraph">在此示例中， ` /dev/sde` 的输出包含以下错误消息：</block>
  <block id="c7bd1e806959bdc4e77e4cfedf1ed194" category="paragraph">在 `sn-recovery-postinstall.sh` 脚本启动节点上的服务后，您可以将对象数据还原到该脚本格式化的任何存储卷，如该操作步骤 中所述。</block>
  <block id="38c6dc91e336117b5cf14c8ea91064ca" category="paragraph"><block ref="38c6dc91e336117b5cf14c8ea91064ca" category="inline-xref-macro-rx"></block></block>
  <block id="251988aec07139f4e5a026e39831c325" category="summary">您可以添加，更新或删除网络时间协议（ NTP ）服务器，以确保 StorageGRID 系统中的网格节点之间数据准确同步。</block>
  <block id="5f8e5aeea8db982c50cd7148484dfe0d" category="paragraph">您可以添加，更新或删除网络时间协议（ Network Time Protocol ， NTP ）服务器，以确保 StorageGRID 系统中的网格节点之间准确同步数据。</block>
  <block id="87aea378e3e72ff670bd3df641e45e45" category="list-text">您必须具有要配置的 NTP 服务器的 IPv4 地址。</block>
  <block id="416278969362264b43390728e32eef94" category="paragraph">StorageGRID 系统使用网络时间协议（ NTP ）来同步网格中所有网格节点之间的时间。</block>
  <block id="620c265bad3e65f52268139ba6557413" category="paragraph">在每个站点上，至少会为 StorageGRID 系统中的两个节点分配主 NTP 角色。它们会同步到建议的至少四个外部时间源，最多六个外部时间源以及彼此之间。StorageGRID 系统中不是主 NTP 节点的每个节点都充当 NTP 客户端，并与这些主 NTP 节点同步。</block>
  <block id="c158741a68a238f800b5c58a9ea0c6da" category="paragraph">外部 NTP 服务器连接到先前已为其分配主 NTP 角色的节点。因此，建议至少指定两个具有主 NTP 角色的节点。</block>
  <block id="3d5a221baeecf6267791535c06dedf08" category="paragraph">指定的外部 NTP 服务器必须使用 NTP 协议。您必须指定 Stratum 3 或更高的 NTP 服务器引用，以防止出现时间偏差问题。</block>
  <block id="bf99ba888b407ec08e619f0a4ddd1ccb" category="paragraph">如果您遇到安装期间最初指定的 NTP 服务器的稳定性或可用性问题，可以通过添加其他服务器或更新或删除现有服务器来更新 StorageGRID 系统使用的外部 NTP 源列表。</block>
  <block id="95f893000a59b926eb7b04dafcb6e1b8" category="list-text">选择 * 维护 * &gt; * 网络 * &gt; * NTP 服务器 * 。</block>
  <block id="8ae623fa706adf8b3dfaf315f369785f" category="list-text">在服务器部分中，根据需要添加更新或删除 NTP 服务器条目。</block>
  <block id="1940d914b28d3fd6194e70290ac7f43d" category="paragraph">您应至少包含 4 个 NTP 服务器，并且最多可以指定 6 个服务器。</block>
  <block id="0403c5cabb69bf7bbc9dc2bab11573f0" category="list-text">在 * 配置密码短语 * 文本框中，输入 StorageGRID 系统的配置密码短语，然后单击 * 保存 * 。</block>
  <block id="895b0d7ec253c321a99251ac72222661" category="paragraph">操作步骤 的状态显示在页面顶部。在配置更新完成之前，此页面将处于禁用状态。</block>
  <block id="874195c61a7d581154c08b9c2fb1dfbd" category="admonition">如果在保存新 NTP 服务器后所有 NTP 服务器均未通过连接测试，请勿继续。请联系技术支持。</block>
  <block id="83d1cc4bfd8c5996432bb24e32ea7b89" category="summary">通过设备节点克隆，您可以轻松地将网格中的现有设备节点（源）替换为同一逻辑 StorageGRID 站点中的兼容设备（目标）。此过程会将所有数据传输到新设备，从而使其投入使用以更换旧设备节点，并使旧设备处于预安装状态。</block>
  <block id="801070f401cfa0ac64052e4805245589" category="doc">设备节点克隆的工作原理</block>
  <block id="d705142cca4e3c88d4ff30ba083d60a4" category="paragraph">通过设备节点克隆，您可以轻松地将网格中的现有设备节点（源）替换为同一逻辑 StorageGRID 站点中的兼容设备（目标）。此过程会将所有数据传输到新设备，从而使其投入使用以更换旧设备节点，并使旧设备处于预安装状态。</block>
  <block id="8ed6f68e0446c615144ed2ade48dc1ca" category="section-title">为何克隆设备节点？</block>
  <block id="88fd83500052f93d566ed4868dd21354" category="paragraph">如果需要，您可以克隆设备节点：</block>
  <block id="b1f7b07b3b41ed862f58412b3cb1d6ba" category="list-text">更换即将达到使用寿命的设备。</block>
  <block id="52fc767cd0aa4ae1f3c6dab1df6001ba" category="list-text">升级现有节点以利用经过改进的设备技术。</block>
  <block id="d9253d43af683de640ab3a47f6dde3ac" category="list-text">增加网格存储容量，而不更改 StorageGRID 系统中的存储节点数。</block>
  <block id="5007b0ab183fb7be66d07e8deb1e615b" category="list-text">提高存储效率，例如将 RAID 模式从 DDP-8 更改为 DDP-16 或 RAID-6 。</block>
  <block id="c3b2e7bbeb7ba8512c58642385394be0" category="list-text">高效地实施节点加密，以允许使用外部密钥管理服务器（ KMS ）。</block>
  <block id="b18c33cd190b6445fcb701da4675eb4a" category="section-title">使用的是哪个 StorageGRID 网络？</block>
  <block id="d6af50cfa83732a704da5ab4afec8adf" category="paragraph">克隆可通过三个 StorageGRID 网络中的任何一个将数据从源节点直接传输到目标设备。通常使用网格网络，但如果源设备连接到这些网络，您也可以使用管理网络或客户端网络。选择用于克隆流量的网络，该网络可在不降低 StorageGRID 网络性能或数据可用性的情况下提供最佳数据传输性能。</block>
  <block id="f56eeb682d2caa31d1abd01022c3f943" category="paragraph">安装替代设备时，必须为 StorageGRID 连接和数据传输指定临时 IP 地址。由于替代设备将与它所替代的设备节点属于同一网络，因此您必须为替代设备上的每个网络指定临时 IP 地址。</block>
  <block id="e8d170c1d01b5214a9b97ee8fbc40398" category="section-title">目标设备兼容性</block>
  <block id="6cca792a53335169aad8581043148997" category="paragraph">替代设备的类型必须与要替换的源节点相同，并且这两个设备都必须属于同一逻辑 StorageGRID 站点。</block>
  <block id="3514507af11b532760b83d61e1cfa58d" category="list-text">替代服务设备可以不同于要替换的管理节点或网关节点。</block>
  <block id="53128132390930a1f8d6c6d9519248df" category="list-text">您可以将 SG100 源节点设备克隆到 SG1000 服务目标设备，以增强管理节点或网关节点的功能。</block>
  <block id="0ed5f431751e37ac1ff96feb9134f783" category="list-text">您可以将 SG1000 源节点设备克隆到 SG100 服务目标设备，以便为要求更苛刻的应用程序重新部署 SG1000 。</block>
  <block id="55f00cb7cf66e41ad1054fc5507a2e0a" category="paragraph">例如，如果将 SG1000 源节点设备用作管理节点，而您希望将其用作专用负载平衡节点。</block>
  <block id="8853412a153551cfcaa29f811be54d2a" category="list-text">将 SG1000 源节点设备更换为 SG100 服务目标设备会将网络端口的最大速度从 100-GbE 降低到 25-GbE 。</block>
  <block id="2592773d113f532a5c35f54bfcb5f96d" category="list-text">SG100 和 SG1000 设备具有不同的网络连接器。更改设备类型可能需要更换缆线或 SFP 模块。</block>
  <block id="85747fe0b84978da858a8eec30177dee" category="list-text">更换用的存储设备的容量必须等于或大于要更换的存储节点的容量。</block>
  <block id="a40c31f0037946b369bae1ce69480fec" category="list-text">如果目标存储设备与源节点具有相同数量的驱动器，则目标设备中的驱动器必须具有相同或更大的容量（以 TB 为单位）。</block>
  <block id="c69aba1d9fa06fcc0a581334e42c115a" category="list-text">如果您计划在目标节点上使用与源节点上相同的 RAID 模式， 或者，如果 RAID 模式的存储效率较低（例如，从 RAID6 切换到 DDP ），则目标设备中的驱动器必须大于源设备中的驱动器（以 TB 为单位）。</block>
  <block id="83e5866a1fe609c297269bb6b6e64ca9" category="list-text">如果由于安装了固态驱动器（ SSD ），目标存储设备中安装的标准驱动器数量小于源节点中的驱动器数量，则目标设备中标准驱动器的整体存储容量（以 TB 为单位） 必须满足或超过源存储节点中所有驱动器的总功能驱动器容量。</block>
  <block id="ee250d0472e82d4e0745c79f2a92dd53" category="paragraph">例如，在将包含 60 个驱动器的 SG5660 源存储节点设备克隆到包含 58 个标准驱动器的 SG6060 目标设备时，应在克隆之前在 SG6060 目标设备中安装更大的驱动器，以保持存储容量。（目标设备中包含 SSD 的两个驱动器插槽不包括在设备存储总容量中。）</block>
  <block id="d5076f294a05698b37d61e051c1a26f6" category="paragraph">但是，如果为 60 个驱动器的 SG5660 源节点设备配置了 SANtricity 动态磁盘池 DDP-8 ，则使用 DDP-16 配置 58 个驱动器大小相同的 SG6060 目标设备可能会使 SG6060 设备成为有效的克隆目标，因为它提高了存储效率。</block>
  <block id="8ff591a1e680b38c258c3e2d245be715" category="paragraph">您可以在网格管理器的 * 节点 * 页面上查看有关源设备节点当前 RAID 模式的信息。选择设备的 * 存储 * 选项卡。</block>
  <block id="d557e651015d70d07c70796e3d6e3938" category="section-title">哪些信息不会克隆？</block>
  <block id="381596b9c214ec88ff6dd27e5dc81f36" category="paragraph">在克隆期间，以下设备配置不会传输到替代设备。您必须在更换设备的初始设置期间对其进行配置。</block>
  <block id="795db7e2cbe110c6a7442f6bf5064f61" category="list-text">节点加密状态</block>
  <block id="1b014c8cd505ebe6bb399042771165bd" category="list-text">SANtricity 系统管理器（适用于存储节点）</block>
  <block id="4844c7e6c1b74d1152ca01c1f70eff94" category="list-text">RAID 模式（适用于存储节点）</block>
  <block id="4c7e66a449c3536c38f37273b2c97f92" category="section-title">哪些问题会阻止克隆？</block>
  <block id="5662450490d384590a15e305a3d7dbf1" category="paragraph">如果在克隆时遇到以下任何问题，则克隆过程将暂停并生成错误消息：</block>
  <block id="6b6698841d4a344fe258deb6bde48008" category="list-text">网络配置错误</block>
  <block id="b330203392074bd8387d32b32cbd4c30" category="list-text">源设备与目标设备之间缺乏连接</block>
  <block id="59d2f54bed9c6d1ff315a058a4a52671" category="list-text">源设备和目标设备不兼容</block>
  <block id="89e16c9efc1a3195a41f4ac0343ca036" category="list-text">对于存储节点，是指容量不足的替代设备</block>
  <block id="82a441e64c838645d368374b712e97b3" category="paragraph">要继续克隆，必须解析每个问题描述 。</block>
  <block id="e4951a63d54471af2eb394c29864b0a8" category="summary">如果一个存储节点脱机且未连接到其他存储节点超过 15 天，则必须在此节点上重建 Cassandra 。</block>
  <block id="28e247d0dd7fa3b9e1845245cca75003" category="paragraph">存储节点具有包含对象元数据的 Cassandra 数据库。如果某个存储节点无法与其他存储节点通信超过 15 天，则 StorageGRID 会假定该节点的 Cassandra 数据库已过时。在使用其他存储节点中的信息重建 Cassandra 之前，存储节点无法重新加入网格。</block>
  <block id="4e5067a7010bf48f5b8e1ee8b186ab69" category="paragraph">只有当一个存储节点关闭时，才可以使用此操作步骤 来重建 Cassandra 。如果其他存储节点已脱机或在过去 15 天内已在另一个存储节点上重建 Cassandra ，请联系技术支持；例如，在恢复故障存储卷或恢复故障存储节点的过程中， Cassandra 可能已重建。</block>
  <block id="017059079f553e30e39e2e5d308f4b59" category="admonition">如果这是在存储节点发生故障或恢复后不到 15 天内第二个存储节点发生故障，请联系技术支持。请勿执行以下恢复操作步骤 。可能发生数据丢失。</block>
  <block id="5818bcb34aa87eea6bbc8c88ffd5210d" category="list-text">如有必要，打开需要恢复的存储节点的电源。</block>
  <block id="d5a90a53c536ae4090cbb4a28d8b5020" category="paragraph">以 root 用户身份登录时，提示符将从 ` $` 更改为 ` #` 。 +</block>
  <block id="66250467907ce3f404d6960a5390653a" category="inline-xref-macro">从系统驱动器故障中恢复</block>
  <block id="2556184c5186b10acbe0e84adfb468ed" category="admonition">如果无法登录到网格节点，则系统磁盘可能不会损坏。转至的操作步骤 <block ref="eab25a806276a0d3d7ff93cad6f0f5c1" category="inline-xref-macro-rx"></block>。</block>
  <block id="f153d97690d273d06c23dead3962a5a1" category="list-text">对存储节点执行以下检查：</block>
  <block id="c39bfe0f42e7b7212cab1b27050e16ed" category="list-text">问题描述 此命令： `nodetool status`</block>
  <block id="04a978db1802a5bb87d3448b5dee784a" category="paragraph">输出应为 `Connection refused.`</block>
  <block id="1f86d0d6cd2e5e93cecb2fa4a7d49c62" category="list-text">在网格管理器中，选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。</block>
  <block id="a66a4bc8e9d2847bed116cac1f7b158d" category="list-text">选择 * 站点 _* &gt; * 存储节点 * &gt; * SSM* &gt; * 服务 * 。验证 Cassandra 服务是否显示 `not running` 。</block>
  <block id="a56e3019ea69feece6495fb49fa80c2c" category="list-text">选择 * 存储节点 * &gt; * SSM* &gt; * 资源 * 。验证卷部分中是否没有错误状态。</block>
  <block id="0c6d0dc63a4ced319dbc71e974304061" category="list-text">问题描述 此命令： `grep -i Cassandra /var/local/log/servermanager.log`</block>
  <block id="f455ab2168ef8d9b2f100492e346fd0c" category="paragraph">您应在输出中看到以下消息：</block>
  <block id="ad536cf03ee8ff5e23432188122e376b" category="list-text">问题描述 此命令并监控脚本输出： `check-Cassandra-rebuild`</block>
  <block id="0b6b188a6cedc20d8894db52d2255284" category="list-text">查看脚本中的警告。如果不适用，请确认您要重建 Cassandra 。输入： *</block>
  <block id="5ef1bf0c02ec954e493e7131238710f0" category="list-text">重建完成后，请执行以下检查：</block>
  <block id="366c6199b93b21bfc9b363bb1cafce61" category="list-text">选择 * 站点 _* &gt; * 已恢复存储节点 * &gt; * SSM* &gt; * 服务 * 。</block>
  <block id="0372ad9f4ab5d01eec510f0c176804cc" category="list-text">确认所有服务均已运行。</block>
  <block id="a1108eef5b7ab120ef272fa938ed0c7c" category="list-text">选择 * DDS* &gt; * 数据存储 * 。</block>
  <block id="4099ddb5261f33defc58e4843bc67388" category="list-text">确认 * 数据存储状态 * 为 "`up` " ， * 数据存储状态 * 为 "`Normal" 。`</block>
  <block id="481c05906af1be00148f9e62e8d3d6c8" category="summary">如果基于软件的存储节点上的系统驱动器发生故障，则此存储节点不可用于 StorageGRID 系统。您必须完成一组特定任务才能从系统驱动器故障中恢复。</block>
  <block id="e04333f503e0bf8aad576cd6ddec8030" category="doc">从系统驱动器故障中恢复</block>
  <block id="d3fb35cea51625740e71ffa94a067f20" category="paragraph">使用此操作步骤 从基于软件的存储节点上的系统驱动器故障中恢复。此操作步骤 包括在任何存储卷同样出现故障或无法重新挂载时应遵循的步骤。</block>
  <block id="7145d44eab061faa029a752be5f3f961" category="image-alt">基于软件的存储节点上发生故障的系统驱动器的恢复步骤</block>
  <block id="e7511b139a2df19fb31a0f83b1166969" category="summary">如果您计划停用存储节点，则应在开始停用过程之前查看 StorageGRID 系统的 ILM 策略。</block>
  <block id="4137e5b1c5b9955a3968713f1b0d23e0" category="doc">查看 ILM 策略和存储配置</block>
  <block id="aa1071d61cb8e051e59acba0016c9e2a" category="paragraph">如果您计划停用存储节点，则应在开始停用过程之前查看 StorageGRID 系统的 ILM 策略。</block>
  <block id="dde0093c92b677e0d6942ba49f1c768e" category="paragraph">在停用期间，所有对象数据都会从停用的存储节点迁移到其他存储节点。</block>
  <block id="2de88334c97e7e5977b2f65d2ae37725" category="admonition">停用期间使用的 ILM 策略将是停用后使用的策略。在开始停用之前和停用完成后，您必须确保此策略满足您的数据要求。</block>
  <block id="c1a13a5404a69ade42cca91c5b146618" category="paragraph">您应查看活动 ILM 策略中的规则，以确保 StorageGRID 系统将继续具有正确类型和位置的足够容量，以支持存储节点的停用。</block>
  <block id="149deefaa419ecf39abf3a631ff6220f" category="paragraph">请考虑以下几点：</block>
  <block id="1e4809c6f2c666cfc7e18f6241bf37e6" category="list-text">ILM 评估服务是否可以复制对象数据以满足 ILM 规则？</block>
  <block id="926ba14ea08caf11dafbd3dca114d9e0" category="list-text">如果在停用过程中某个站点暂时不可用，会发生什么情况？是否可以在备用位置创建其他副本？</block>
  <block id="b263c7c8f250d12b37b4f9cc3d0150c8" category="list-text">停用过程将如何影响内容的最终分发？如中所述 <block ref="8b41815ca96fda91e20475e67fef06ab" category="inline-xref-macro-rx"></block>，您应先添加新的存储节点，然后再停用旧的存储节点。如果在停用较小的存储节点后添加较大的替代存储节点，则旧存储节点可能接近容量，新存储节点可能几乎没有任何内容。然后，新对象数据的大多数写入操作将定向到新存储节点，从而降低系统操作的整体效率。</block>
  <block id="398506f351ac89492143eb5498cd5733" category="list-text">系统是否会始终包含足够的存储节点来满足活动 ILM 策略？</block>
  <block id="fcb314997c317d4a37a32c95af43ce2a" category="admonition">无法满足的 ILM 策略将导致回退日志和警报，并可能会暂停 StorageGRID 系统的运行。</block>
  <block id="7bbb63891340c865ac2fc14c8fa74e02" category="paragraph">通过评估表中列出的因素，验证停用过程所产生的建议拓扑是否符合 ILM 策略。</block>
  <block id="e75c83714c271f688ef131146fd89c8b" category="cell">要评估的区域</block>
  <block id="f4b1df93f019341a80c64ac2e6244445" category="paragraph">Available capacity</block>
  <block id="da29bde63f6b39f01503a13d8a42b366" category="paragraph">是否有足够的存储容量来容纳存储在 StorageGRID 系统中的所有对象数据？ 包括当前存储在要停用的存储节点上的对象数据的永久副本？在停用完成后，是否有足够的容量在合理的时间间隔内处理预期的存储对象数据增长？</block>
  <block id="69eb09577fcb6425702ac251063eb490" category="paragraph">存储位置</block>
  <block id="7842aac78eae47f803ad5461cf169624" category="paragraph">如果整个 StorageGRID 系统中仍有足够的容量，则容量是否位于合适的位置以满足 StorageGRID 系统的业务规则？</block>
  <block id="f0cb6783b152b19ceab16227ca3976a2" category="paragraph">Storage type</block>
  <block id="3b8677df348d90fe6deec41467efdd3a" category="paragraph">停用完成后，是否有足够的相应类型存储？例如， ILM 规则可能会规定在内容老化时将内容从一种存储类型移动到另一种存储类型。如果是，您必须确保在 StorageGRID 系统的最终配置中具有足够的相应类型的存储。</block>
  <block id="278a214642134a9f9d7a85ae473118ce" category="summary">如果您计划停用存储节点，则必须了解 StorageGRID 如何管理该节点上的对象数据和元数据。</block>
  <block id="3baacb4fdd823379ba2af4b024054135" category="doc">存储节点停用注意事项</block>
  <block id="0dca5cf91f47d79287b8862f70798d2a" category="paragraph">停用存储节点时，应遵循以下注意事项和限制：</block>
  <block id="8ddb0a9b1833d4d06b41c71935f7affc" category="list-text">系统必须始终包含足够的存储节点以满足操作要求，包括模块数转换仲裁和活动 ILM 策略。要满足此限制，您可能需要在扩展操作中添加新的存储节点，然后才能停用现有存储节点。</block>
  <block id="fc70156b77b4137d865d5df12034b9c3" category="list-text">如果在停用存储节点时断开了该存储节点的连接，则系统必须使用已连接存储节点中的数据重建数据，这可能会导致数据丢失。</block>
  <block id="3c2b38847dc0c95248f2f46ff08cdea7" category="list-text">删除存储节点时，必须通过网络传输大量对象数据。尽管这些传输不应影响正常系统操作，但它们可能会影响 StorageGRID 系统占用的网络带宽总量。</block>
  <block id="de9d99549efee07d02d72ae4e37b3169" category="list-text">与正常系统操作相关的任务相比，与存储节点停用相关的任务的优先级更低。这意味着停用不会干扰 StorageGRID 系统的正常运行，也不需要计划系统在一段时间内处于非活动状态。由于停用是在后台执行的，因此很难估计完成此过程需要多长时间。通常，在系统处于静默状态或一次仅删除一个存储节点时，停用速度会更快。</block>
  <block id="641d964bd4362e4beee1523cadc1ed0c" category="list-text">停用存储节点可能需要数天或数周时间。相应地规划此操作步骤 。尽管停用过程不会影响系统运行，但它会限制其他过程。通常，在删除网格节点之前，您应执行任何计划内的系统升级或扩展。</block>
  <block id="5ecdc6c79c81a26bf99515a039397a49" category="list-text">涉及存储节点的停用过程可以在某些阶段暂停，以便在需要时运行其他维护过程，并在完成后继续执行。</block>
  <block id="01332ebbed9eb692438beaa5285a478c" category="list-text">当停用任务正在运行时，您不能在任何网格节点上运行数据修复操作。</block>
  <block id="c2416cb6b2e7b6b1073416f8a986652a" category="list-text">在停用存储节点期间，不应对 ILM 策略进行任何更改。</block>
  <block id="ed4fb35c545fff3e48e748d3ca8f5439" category="list-text">删除存储节点时，节点上的数据将迁移到其他网格节点；但是，此数据不会从已停用的网格节点中完全删除。要永久安全地删除数据，必须在停用操作步骤 完成后擦除已停用网格节点的驱动器。</block>
  <block id="051d13110182e8f224e00d5f0a2e26ab" category="list-text">停用存储节点时，可能会发出以下警报，您可能会收到相关电子邮件和 SNMP 通知：</block>
  <block id="a5ae735a8f9d017825b7a7890c60956a" category="list-text">* 无法与节点 * 警报通信。停用包含此 ADC-Service 的存储节点时会触发此警报。停用操作完成后，此警报将得到解决。</block>
  <block id="4218fa1894270aff566ce07423b5d983" category="list-text">VSTU （对象验证状态）警报。此通知级别的警报表示存储节点在停用过程中将进入维护模式。</block>
  <block id="5ab5001930a93490ebf7ce3d9d30c340" category="list-text">CASA （数据存储状态）警报。此主要级别的警报表示 Cassandra 数据库正在关闭，因为服务已停止。</block>
  <block id="8b5bad2bb67a3f8958d848d47890fb3e" category="summary">如果您能够从出现故障的主管理节点复制审核日志，则应保留这些日志以维护网格中的系统活动和使用情况记录。您可以在恢复的主管理节点启动并运行后将保留的审核日志还原到该节点。</block>
  <block id="345a2f52774a4f519d286001052660c4" category="doc">从发生故障的主管理节点复制审核日志</block>
  <block id="be29dfad8ec8b968cc6a9730c1babe22" category="paragraph">如果您能够从出现故障的主管理节点复制审核日志，则应保留这些日志以维护网格中的系统活动和使用情况记录。您可以在恢复的主管理节点启动并运行后将保留的审核日志还原到该节点。</block>
  <block id="a3a3f96e66355b5406aaf95a2f3fc8ef" category="list-text">创建目录以将所有审核日志文件复制到单独网格节点上的临时位置： `ssh admin@ grid_node_ip_ mkdir -p /var/local/tmp/saved-audit-logs`</block>
  <block id="b35a956439b005bb0ac40ba030a3f48a" category="list-text">复制所有审核日志文件： `scp -p * admin@ grid_node_ip_ ： /var/local/tmp/saved-audit-logs`</block>
  <block id="8e9370a6117ebb82999a2d3c88949d14" category="summary">如果要恢复 VMware 或 Linux 主机上托管的故障网格节点，并且要使用 SG100 或 SG1000 服务设备作为替代节点，则必须先使用与故障节点相同的节点名称安装新设备硬件。</block>
  <block id="9fcd85d97dd5f78dffcea360e2b0e266" category="doc">安装服务设备（仅限平台更改）</block>
  <block id="10a42f8c3fd8b5704c2f67bd36126f0c" category="paragraph">您必须具有有关故障节点的以下信息：</block>
  <block id="78fc5c333b7c12bf7eabcc6451273ae2" category="list-text">* 节点名称 * ：必须使用与故障节点相同的节点名称安装服务设备。</block>
  <block id="4a07e6353f00e15266081693f2a985f9" category="list-text">* IP 地址 * ：您可以为服务设备分配与故障节点相同的 IP 地址，这是首选选项，也可以在每个网络上选择新的未使用的 IP 地址。</block>
  <block id="8cd8b8b187d97f1faf73fc52f65a97a5" category="paragraph">只有在恢复 VMware 或 Linux 上托管的故障节点并将其替换为服务设备上托管的节点时，才执行此操作步骤 。</block>
  <block id="2e8126f978a06851f596390f8cad6f70" category="list-text">按照说明安装新的 SG100 或 SG1000 服务设备。</block>
  <block id="976f8b3f201b422dcad1f06cdca2acad" category="list-text">当系统提示您输入节点名称时，请使用故障节点的节点名称。</block>
  <block id="c0517e1298e46e57b68906d3978f91ad" category="summary">如果要在出现故障的非主管理节点上保留有关属性，警报和警报的历史信息，则可以从主管理节点还原管理节点数据库。</block>
  <block id="868023ed4413317e34254d5bba925ffb" category="doc">恢复非主管理节点时还原管理节点数据库</block>
  <block id="0bb8fee8f23091b580a01306db74770e" category="paragraph">如果还原了非主管理节点，则可以通过将管理节点数据库从主管理节点（ _source Admin Node_ ）复制到恢复的节点来还原历史信息。</block>
  <block id="f53d7aa2e793ee0f2216cc8fe0003a73" category="admonition">复制管理节点数据库可能需要几小时的时间。在源节点上停止服务时，某些 Grid Manager 功能将不可用。</block>
  <block id="f65ce8fef3c2365c4fc54bceac66bf3e" category="list-text">从源管理节点运行以下命令。然后，根据提示输入配置密码短语。`re覆盖访问点`</block>
  <block id="a5b040c6e1b028059619028c0d55b4f0" category="summary">要将出现故障的网格节点还原到新的 Linux 主机，请使用相应的命令还原节点配置文件。</block>
  <block id="f432d08fd0a3fd20762b426281d0bf17" category="doc">将网格节点还原到主机</block>
  <block id="62599a032e1fbccd3e2b8438705e5b96" category="paragraph">执行全新安装时，您需要为要安装在主机上的每个网格节点创建一个节点配置文件。将网格节点还原到替代主机时，您需要还原或替换任何出现故障的网格节点的节点配置文件。</block>
  <block id="3f9e12acf541f8b45befbe1d0d2881a9" category="paragraph">如果从上一主机保留了任何块存储卷，则可能需要执行其他恢复过程。本节中的命令可帮助您确定需要执行的其他过程。</block>
  <block id="dc7733557bb0e838bf9e87c9d65bb9cd" category="list-text"><block ref="dc7733557bb0e838bf9e87c9d65bb9cd" category="inline-xref-macro-rx"></block></block>
  <block id="f56198f75ffb9e823a9ab1f765de25c2" category="inline-xref-macro">启动 StorageGRID 主机服务</block>
  <block id="3672cf492ba5c7555e3ee5ff73a8c8fd" category="list-text"><block ref="3672cf492ba5c7555e3ee5ff73a8c8fd" category="inline-xref-macro-rx"></block></block>
  <block id="a1f6439ca8b93c9c7193cacbd5284979" category="list-text"><block ref="a1f6439ca8b93c9c7193cacbd5284979" category="inline-xref-macro-rx"></block></block>
  <block id="5848604b5fe59288c4b2e70e183c15f3" category="summary">克隆过程可能需要几天时间才能在源节点（正在更换的设备）和目标设备（新设备）之间传输数据。</block>
  <block id="2dfb9b9fe663376184bfd65a4deb94fd" category="doc">克隆设备节点</block>
  <block id="0235e20f203c294d37deda19de63884d" category="paragraph">克隆过程可能需要几天时间才能在源节点（正在更换的设备）和目标（新）设备之间传输数据。</block>
  <block id="47e8652b2101615daf061495f94fd6e3" category="list-text">您已将兼容的目标设备安装到机柜或机架中，并已连接所有缆线并已接通电源。</block>
  <block id="2856ba02f2fa888d412396adb7c390b9" category="list-text">您已验证更换设备上的 StorageGRID 设备安装程序版本是否与 StorageGRID 系统的软件版本匹配，如有必要，可升级 StorageGRID 设备安装程序固件。</block>
  <block id="ae239f2fb8648e11883911dabd54bc37" category="list-text">您已配置目标设备，包括配置 StorageGRID 连接， SANtricity 系统管理器（仅限存储设备）和 BMC 接口。</block>
  <block id="79b3f1e1ebc3d2879bdcd94690df1dc3" category="list-text">配置 StorageGRID 连接时，请使用临时 IP 地址。</block>
  <block id="049c3cbb547687df35cb55b59ea14493" category="list-text">配置网络链路时，请使用最终的链路配置。</block>
  <block id="12b9f49bc38303e4f9988566e902c726" category="admonition">完成初始目标设备配置后，保持 StorageGRID 设备安装程序处于打开状态。启动节点克隆过程后，您将返回到目标设备的安装程序页面。</block>
  <block id="7135b850321eeaf456490ef652ac042a" category="list-text">您也可以选择为目标设备启用节点加密。</block>
  <block id="9966e8cc20ec2214e19478965c34f24e" category="list-text">您也可以为目标设备（仅限存储设备）设置 RAID 模式。</block>
  <block id="6044688be47bf1c863580cc43cc7dfb1" category="list-text"><block ref="6044688be47bf1c863580cc43cc7dfb1" category="inline-xref-macro-rx"></block></block>
  <block id="df784d1cc1aa3eec994995c9c191c0d9" category="paragraph">一次只应克隆一个设备节点，以保持 StorageGRID 网络性能和数据可用性。</block>
  <block id="06b1d3a86108b6f145594a3f40335cb7" category="inline-xref-macro">将要克隆的源节点置于维护模式</block>
  <block id="72558a6a3eda6bba11dfc1af9b9e19ba" category="list-text"><block ref="84edf91649f6cdae909f5f72d7511d01" category="inline-xref-macro-rx"></block>。</block>
  <block id="df0e7b14891538a4e2643f5009af6867" category="list-text">从源节点上的 StorageGRID 设备安装程序中，在主页的安装部分中，选择 * 启用克隆 * 。</block>
  <block id="929915b1d30c93dc65c7eba7b8ae58bd" category="image-alt">在源节点上启用克隆</block>
  <block id="f94eea5ecd11112f1cd02cdb4a1dea3d" category="paragraph">主管理节点连接部分将替换为克隆目标节点连接部分。</block>
  <block id="1ae4449cbd62c8bf3d2266984d08b176" category="image-alt">克隆目标节点连接部分</block>
  <block id="a6ff51af402ffc042cc6f424c5a38665" category="list-text">对于 * 克隆目标节点 IP* ，输入分配给目标节点的临时 IP 地址，以便网络用于克隆数据传输流量，然后选择 * 保存 * 。</block>
  <block id="49392cb3f12f0f4faf19a8d47933589c" category="paragraph">通常，您可以输入网格网络的 IP 地址，但如果需要使用其他网络来传输克隆数据传输流量，请输入该网络上目标节点的 IP 地址。</block>
  <block id="0afc0b6b1423eeac0ab75a6678a33407" category="paragraph">配置并验证目标设备后，在 "Installation" 部分中，源节点上会启用 * 开始克隆 * 。</block>
  <block id="f6b1c586cbdf732e4c859d98bd306e5c" category="image-alt">开始克隆</block>
  <block id="8027e49939415f43350d8985af333e3b" category="paragraph">如果存在阻止克隆的问题，则不会启用 * 启动克隆 * ，必须解决的问题将列为 * 连接状态 * 。源节点和目标设备的 StorageGRID 设备安装程序主页均列出了这些问题。一次仅显示一个问题描述 ，状态会随着条件的变化自动更新。解决所有克隆问题以启用 * 开始克隆 * 。</block>
  <block id="273d3db7b23c596843e0a7531025bf48" category="paragraph">启用 * 开始克隆 * 后， * 当前状态 * 将指示为克隆流量选择的 StorageGRID 网络以及有关使用该网络连接的信息。</block>
  <block id="d081af9c1bc1822369d68ca6df434792" category="list-text">在源节点上选择 * 开始克隆 * 。</block>
  <block id="41f39a54349270e6f7a3ec7e34353a95" category="list-text">在源节点或目标节点上使用 StorageGRID 设备安装程序监控克隆进度。</block>
  <block id="9ea8162d17432f7b9bc858b79e65f413" category="paragraph">源节点和目标节点上的 StorageGRID 设备安装程序指示相同的状态。</block>
  <block id="f19c0dcdf0806f3540561c4ac08be4b4" category="image-alt">克隆进度</block>
  <block id="98c6d1132a15d72d0dc9e50596f25fb1" category="paragraph">"Monitor Cloning" 页面提供了克隆过程每个阶段的详细进度：</block>
  <block id="b2fdb0b814b9eb6027f8fdbc3554f684" category="list-text">* 建立克隆对等关系 * 显示克隆设置和配置的进度。</block>
  <block id="7cd71f893105d0c4aa42d18c693390d9" category="list-text">* 从此节点克隆另一个节点 * 将显示数据传输的进度。（克隆过程的这一部分可能需要几天时间才能完成。）</block>
  <block id="53fb5f40e9a86cd7e85f8efd27b5c787" category="list-text">* 激活克隆的节点并使其脱机 * 将显示在数据传输完成后将控制权移交给目标节点并将源节点置于预安装状态的进度。</block>
  <block id="53576f9c8a3b9ad987adcb9b72faebdb" category="list-text">如果需要在克隆完成之前终止克隆过程并将源节点恢复服务，请在源节点上转到 StorageGRID 设备安装程序主页页面，选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择 * 重新启动到 StorageGRID * 。</block>
  <block id="5910d62a90ea5eb1d655856a869f6ce2" category="paragraph">如果克隆过程终止：</block>
  <block id="462eb8eb002450a5546f856a8fbc21ad" category="list-text">源节点将退出维护模式并重新加入 StorageGRID 。</block>
  <block id="85dbc6667b417cbc9d01018ba91438e5" category="list-text">目标节点将保持预安装状态。要重新启动源节点的克隆，请从步骤 1 中重新启动克隆过程。</block>
  <block id="9c0c7b1b3b3694c2f19dae0d3b4c5f9d" category="paragraph">成功完成克隆后：</block>
  <block id="d70b0587fbb8572df6e3ad8833a346bf" category="list-text">源节点和目标节点交换 IP 地址：</block>
  <block id="b2b1678d47338c95d1c9ff62e61602ef" category="list-text">现在，目标节点将使用最初分配给源节点的网格网络，管理网络和客户端网络 IP 地址。</block>
  <block id="28afc5014d72f3ea174bc5a65cd9630e" category="list-text">现在，源节点将使用最初分配给目标节点的临时 IP 地址。</block>
  <block id="7b94aafd236e4ceea865c931a85dfffa" category="list-text">目标节点将退出维护模式并加入 StorageGRID ，从而替换源节点。</block>
  <block id="2d19d406fa4b8c7f970985fd245d9c26" category="inline-xref-macro">已准备好重新安装</block>
  <block id="45bb0dfcc31c80f6278eee2a31c2ad12" category="list-text">源设备处于预安装状态，就像您已安装一样 <block ref="0a9a00e71844e5d1c1bdc91b5a21edd9" category="inline-xref-macro-rx"></block>。</block>
  <block id="5cd537a6dae618d366a854e49d455bba" category="admonition">如果设备未重新加入网格，请转到源节点的 StorageGRID 设备安装程序主页页面，选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择 * 重新启动到维护模式 * 。在源节点以维护模式重新启动后，重复节点克隆操作步骤 。</block>
  <block id="3b99980b03eff7eccb03e06dafe52fd5" category="paragraph">如果目标节点发生意外的问题描述 ，则用户数据将作为恢复选项保留在源设备上。目标节点成功重新加入 StorageGRID 后，源设备上的用户数据已过时，不再需要。如果需要，请 StorageGRID 支持部门清除源设备以销毁此数据。</block>
  <block id="e083dcb18268eb01dbd74355540847c7" category="paragraph">您可以</block>
  <block id="1bcc3f92a24539520b2c186c6ee8ef31" category="list-text">将源设备用作其他克隆操作的目标：不需要其他配置。此设备已分配最初为第一个克隆目标指定的临时 IP 地址。</block>
  <block id="0c71f19ccf34162fffe6b71c0e4e74fb" category="list-text">将源设备安装为新设备节点并进行设置。</block>
  <block id="ed304c60dd34d67ed999c426f1b91b04" category="list-text">如果源设备不再用于 StorageGRID ，请丢弃该源设备。</block>
  <block id="e5c99deaf400537b6dd55cf4bbe8dd07" category="summary">从 " 弃用站点 " 向导的第 2 步 \ （查看详细信息 \ ）中，您可以查看站点中包含的节点，查看每个存储节点上已使用的空间量，并评估网格中其他站点上的可用空间量。</block>
  <block id="c8b268f3a444e17264d9c1105f2a9471" category="doc">第 2 步：查看详细信息</block>
  <block id="c425892ae74feee241d4126d8ccd2bd8" category="paragraph">从 " 弃用站点 " 向导的第 2 步（查看详细信息）中，您可以查看站点中包含的节点，查看每个存储节点上已使用的空间量，并评估网格中其他站点上的可用空间量。</block>
  <block id="68480ce7432f17728d0f0a5126701c12" category="paragraph">停用站点之前，您必须查看站点上存在的对象数据量。</block>
  <block id="2f19d71553be2e6ef6c3d513570413ef" category="list-text">如果您要执行已连接站点停用，则必须先了解站点上当前存在的对象数据量，然后再更新 ILM 。根据站点容量和数据保护需求，您可以创建新的 ILM 规则，将数据移动到其他站点或从站点中删除对象数据。</block>
  <block id="31b0abf3fbe2a52052201cc60f9e14fc" category="list-text">如果可能，请在启动停用操作步骤 之前执行任何所需的存储节点扩展。</block>
  <block id="47884e56d0b371f6f70064f19612abd1" category="list-text">如果您要执行断开连接的站点停用，则必须了解删除此站点后将永久无法访问多少对象数据。</block>
  <block id="0f4e4992b713dc4838d72f3c2d0f6e11" category="admonition">如果您正在执行断开连接的站点停用， ILM 将无法移动或删除对象数据。站点上保留的所有数据都将丢失。但是，如果您的 ILM 策略旨在防止单个站点丢失，则其余站点上仍存在对象数据的副本。</block>
  <block id="b87f78704c30c010c7c53a4639f9a017" category="list-text">从第 2 步（查看详细信息）中，查看与您选择删除的站点相关的任何警告。</block>
  <block id="ef64a437ea89138c41528f8f49b8d7e9" category="image-alt">停用站点步骤 2 站点警告</block>
  <block id="785a5bc953ad36cf7f7680ff7dc03703" category="paragraph">在以下情况下会显示警告：</block>
  <block id="512930869b248ef76935c200acb3c8c0" category="list-text">此站点包含一个网关节点。如果 S3 和 Swift 客户端当前正在连接到此节点，则必须在另一站点配置等效节点。在继续执行停用操作步骤 之前，请确保客户端可以连接到替代节点。</block>
  <block id="d1a6e9304a61f88b23a062eb0b4c9b4d" category="list-text">此站点包含一个混合的 Connected （<block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block>）和已断开连接的节点（<block ref="f3266c02d99c67a6049b4120307bbe26" category="inline-image-macro-rx" type="image"></block> 或 <block ref="a92fabbc4ee2a5d52499f401dd4d194f" category="inline-image-macro-rx" type="image"></block>）。在删除此站点之前，您必须使所有脱机节点重新联机。</block>
  <block id="6f75550314fddb93e542438f1cfd2efa" category="list-text">查看有关选定要删除的站点的详细信息。</block>
  <block id="81e30f8b61401c960477e871fb0245fa" category="image-alt">停用站点步骤 2 查看详细信息</block>
  <block id="b5e60a9cabb1c8b250e9fb54764bb3c7" category="paragraph">选定站点包含以下信息：</block>
  <block id="0ce159ef649591974fe60d01c47f9f48" category="list-text">节点数</block>
  <block id="3f740fd89d73d6c2b802f6785f9a8242" category="list-text">站点中所有存储节点的已用总空间，可用空间和容量。</block>
  <block id="3c6ac7237ebe16b5d8bcebf2b7a37bb3" category="list-text">对于已连接站点停用， * 已用空间 * 值表示必须将多少对象数据移动到其他站点或使用 ILM 删除。</block>
  <block id="f383848b049430fc2177e5d722b6058e" category="list-text">对于已断开连接的站点停用， * 已用空间 * 值表示删除此站点后将无法访问多少对象数据。</block>
  <block id="63c2a6dadf581af61b8c627e8bfae501" category="list-text">节点名称，类型和连接状态：</block>
  <block id="454ec23baec289df7aa0a0bc0cea8bf8" category="list-text"><block ref="b40048194cf49b3f0ad0ddffcbc46809" category="inline-image-macro-rx" type="image"></block> （已连接）</block>
  <block id="e1d1ab4801f2b210f4d8245f177f444d" category="list-text"><block ref="f3266c02d99c67a6049b4120307bbe26" category="inline-image-macro-rx" type="image"></block> （管理员关闭）</block>
  <block id="85d597f7085c5a97e818a9198cde1fdc" category="list-text"><block ref="a92fabbc4ee2a5d52499f401dd4d194f" category="inline-image-macro-rx" type="image"></block> （未知）</block>
  <block id="63889ff346c7b06d3d6808172cb30d20" category="list-text">有关每个节点的详细信息：</block>
  <block id="fe97c08ad78a6c707490e00d819eb8ed" category="list-text">对于每个存储节点，为对象数据使用的空间量。</block>
  <block id="44c7e73016d84d1ab6ca8fbcbb4b9ccb" category="list-text">对于管理节点和网关节点，表示此节点当前是否在高可用性（ HA ）组中使用。您不能停用 HA 组中使用的管理节点或网关节点。开始停用之前，必须编辑 HA 组以删除站点上的所有节点。或者，如果 HA 组仅包含此站点中的节点，则可以将其删除。</block>
  <block id="9cb965e5ebb10860b26ea89b4cd7665d" category="list-text">在页面的其他站点的详细信息部分中，评估网格中其他站点的可用空间量。</block>
  <block id="616ee2a1732402c7e0ccb55ef5c08721" category="image-alt">停用站点步骤 2 查看其他站点的详细信息</block>
  <block id="8104a0905ac429796205f94b054c95d8" category="paragraph">如果您正在执行已连接站点停用，并且计划使用 ILM 从选定站点移动对象数据（而不是仅删除该数据），则必须确保其他站点具有足够的容量来容纳移动的数据，并且为未来的增长保留足够的容量。</block>
  <block id="090ef93c154f4a00f3b40cae1eaeeb4b" category="admonition">如果要删除的站点的 * 已用空间 * 大于 * 其他站点的总可用空间 * ，则会显示警告。要确保删除站点后有足够的存储容量可用，您可能需要在执行此操作步骤 之前执行扩展。</block>
  <block id="0a8c9a04e28f7474941e01195b74a1fe" category="paragraph">此时将显示第 3 步（修订 ILM 策略）。</block>
  <block id="4065488f56364fb04946ce2cfdee2055" category="summary">如果您要恢复的主管理节点当前设置为警报通知，警报通知和 AutoSupport 消息的首选发送方，则必须重新配置此设置。</block>
  <block id="6be194ad3b5b9f23d331c4098fb71c62" category="doc">重置已恢复的主管理节点上的首选发送器</block>
  <block id="d76b24ef03b30dcdb13ef83befe1c1e8" category="summary">如果使用 Server Manager 时出现问题，请检查其日志文件。</block>
  <block id="5108d121c92ccb488709726a7ac997aa" category="doc">访问 Server Manager 日志文件</block>
  <block id="36e28d03b2787f30dace9fb229f387bf" category="paragraph">与 Server Manager 相关的错误消息会记录在 Server Manager 日志文件中，该文件位于 ` /var/local/log/servermanager.log`</block>
  <block id="e5b6b147f4b81caed52f4fca4b194789" category="paragraph">检查此文件中有关故障的错误消息。如果需要，请将问题描述 升级到技术支持。系统可能会要求您将日志文件转发给技术支持。</block>
  <block id="55794affd4b76e3b0cfe90000d335334" category="summary">如果需要更改网格中所有节点的网格网络 IP 地址，则必须遵循此专用操作步骤 。您不能使用操作步骤 更改单个节点来更改网格范围的网格网络 IP 。</block>
  <block id="731561f650e3a36691bae029b4547c66" category="doc">更改网格中所有节点的 IP 地址</block>
  <block id="e9e174c2225e455e735f3a373c856cc2" category="paragraph">要确保网格成功启动，您必须一次性完成所有更改。</block>
  <block id="5791502e523b5cce3ff40a146a9a7239" category="admonition">此 操作步骤 适用场景 仅适用于网格网络。您不能使用此操作步骤 更改管理员网络或客户端网络上的 IP 地址。</block>
  <block id="0d75b3736a3984a8723f4e1ce7342d38" category="paragraph">如果要仅更改一个站点上节点的 IP 地址和 MTU ，请按照执行操作 <block ref="1c3dba3af66fb531319107c65afeb628" category="inline-xref-macro-rx"></block> 说明。</block>
  <block id="ef00e2db2fc4699f97902e9da23a1100" category="list-text">提前规划需要在更改 IP 工具之外进行的更改，例如更改 DNS 或 NTP 以及更改单点登录（ Single Sign-On ， SSO ）配置（如果使用）。</block>
  <block id="cb683c4d502ede772b9271dc85ce4309" category="admonition">如果现有 NTP 服务器无法通过新 IP 地址访问网格，请在执行 change-IP 操作步骤 之前添加新的 NTP 服务器。</block>
  <block id="79b7c5e8ef64ddeb1620d360ad41d394" category="admonition">如果现有 DNS 服务器无法通过新 IP 地址访问网格，请在执行 change-IP 操作步骤 之前添加新的 DNS 服务器。</block>
  <block id="557fd33b54ce570c02bd22d5e947d5f1" category="admonition">如果为 StorageGRID 系统启用了 SSO ，并且任何依赖方信任均使用管理节点 IP 地址（而不是建议的完全限定域名）进行配置，请准备在 Active Directory 联合身份验证服务（ AD FS ）中更新或重新配置这些依赖方信任 更改 IP 地址后立即执行。请参见有关管理 StorageGRID 的说明。</block>
  <block id="1cde7e128ccde85e0eedaa5c6b981d5a" category="admonition">如有必要，请为新 IP 地址添加新子网。</block>
  <block id="5fddcc0cde3572e87f98cf66c8cd9ec8" category="paragraph">此时将显示主菜单。默认情况下， `SElected nodes` 字段设置为 `All` 。</block>
  <block id="595f0e9caca1a23aa320ebb3e7fb2d32" category="list-text">在主菜单上，选择 * 。 2* 以编辑所有节点的 IP/ 子网掩码，网关和 MTU 信息。</block>
  <block id="c42bb7be5b562e45796be7df6709151b" category="list-text">选择 * 1 * 以更改网格网络。</block>
  <block id="73c6b6912ae81f41287ea85586389a04" category="paragraph">选择后，提示符将显示节点名称，网格网络名称，数据类型（ IP/ 掩码，网关或 MTU ）， 和当前值。</block>
  <block id="e35d7459e08a54b59d1ceb74f40d884f" category="paragraph">编辑 DHCP 配置接口的 IP 地址，前缀长度，网关或 MTU 将使接口更改为静态。在 DHCP 配置每个接口之前，系统会显示一条警告。</block>
  <block id="27ee5c6ae4f49a762137a519e664617f" category="paragraph">此验证可确保不会违反网格网络的规则，例如不使用重叠的子网。</block>
  <block id="94efa47941e4e080b2b53b1fcf57bb9f" category="list-text">验证通过后，选择 * 。 10* 以应用新的网络配置。</block>
  <block id="0077c2a6b5171542913a836785632f78" category="list-text">选择 * 阶段 * ，以便在下次重新启动节点时应用更改。</block>
  <block id="053647c42a897d9875d627b98e85436f" category="admonition">必须选择 * 阶段 * 。请勿手动或通过选择 * 应用 * 而不是 * 阶段 * 来执行滚动重新启动；网格将无法成功启动。</block>
  <block id="c4087327aed1966d574b4696536f6dbf" category="list-text">完成更改后，选择 * 。 0* 退出更改 IP 工具。</block>
  <block id="292f62b3f3379ebdc736246e15998b7b" category="list-text">同时关闭所有节点。</block>
  <block id="b028bd31504cbc5767114867cdddbf33" category="admonition">必须一次性关闭整个网格，以便所有节点同时关闭。</block>
  <block id="84126df8507d31d528e811ae4e1b5190" category="list-text">验证所有网格节点是否均已关闭。</block>
  <block id="434ce1bb2fbcc4f94fc7b5eef171fb84" category="list-text">打开所有节点的电源。</block>
  <block id="2ec728ec0e1d6e3ec326804f0d4144e5" category="list-text">成功启动网格后：</block>
  <block id="eaeeba3ce3084e289dc1b42aefdb3c32" category="list-text">如果添加了新的 NTP 服务器，请删除旧的 NTP 服务器值。</block>
  <block id="4dcaa4c2e0a5c2983d430d2788b97cf9" category="list-text">如果添加了新的 DNS 服务器，请删除旧的 DNS 服务器值。</block>
  <block id="b7b7b49f83112f0f89d1803c1214744a" category="list-text">从网格管理器下载新的恢复软件包。</block>
  <block id="f7ff5236b911b6dedf62b69bdd4baf63" category="inline-xref-macro">在网格网络上添加或更改子网列表</block>
  <block id="2bdebb6b551e1deb674fdedd3b07e538" category="paragraph"><block ref="2bdebb6b551e1deb674fdedd3b07e538" category="inline-xref-macro-rx"></block></block>
  <block id="7d9e2efea32df9a0788aa3512b0edff3" category="inline-xref-macro">关闭网格节点</block>
  <block id="5b4706de8164e4e09f2344d05f2f86bd" category="paragraph"><block ref="5b4706de8164e4e09f2344d05f2f86bd" category="inline-xref-macro-rx"></block></block>
  <block id="ffc67ae67cf88bf3c2408eb2bcd31449" category="summary">更换归档节点后，您必须在网格管理器中选择启动恢复，以将新节点配置为故障节点的替代节点。</block>
  <block id="0a60927064d98940d04f8dbc332b98fb" category="doc">选择启动恢复以配置归档节点</block>
  <block id="d18a288ed747f4fc58133178500cb677" category="summary">恢复存储节点的系统驱动器后，您必须验证存储节点的所需状态是否设置为联机，并确保每当重新启动存储节点服务器时，此状态默认为联机。</block>
  <block id="251d32d80680f6db54eb91b70211d06e" category="doc">恢复存储节点系统驱动器后检查存储状态</block>
  <block id="cfd89f37fcc937a92faf616f73dcd24c" category="summary">如果需要删除多个存储节点，可以按顺序或并行停用它们。</block>
  <block id="99b2eef38f6147ce381d9fee8f6a699f" category="doc">停用多个存储节点</block>
  <block id="cc2bb8a1a71fb0477b7dd0ac2d054324" category="list-text">如果您按顺序停用存储节点，则必须等待第一个存储节点完成停用，然后再开始停用下一个存储节点。</block>
  <block id="299c0584434aafe7059c28c46fd99b21" category="list-text">如果您并行停用存储节点，则存储节点会同时处理要停用的所有存储节点的停用任务。这可能会导致文件的所有永久副本被标记为 `read‐only ，` 在启用了此功能的网格中暂时禁用删除。</block>
  <block id="5152ad9fa56680f4d19dc2e642f1949c" category="summary">在恢复 VMware 上托管的故障 StorageGRID 节点时，必须删除故障节点并部署恢复节点。</block>
  <block id="3b626fb2b33e13a8aba6a34e680b58f5" category="doc">所有网格节点类型：更换 VMware 节点</block>
  <block id="1364de8249d96f840057535f838797a0" category="paragraph">您必须已确定虚拟机无法还原，并且必须更换。</block>
  <block id="ee3357b88e00e0dc899536d2f3b56bb1" category="paragraph">您可以使用 VMware vSphere Web Client 首先删除与故障网格节点关联的虚拟机。然后，您可以部署新的虚拟机。</block>
  <block id="b4dfd9889502e826607a6fe6af69aa69" category="paragraph">此操作步骤 只是网格节点恢复过程中的一个步骤。所有 VMware 节点的节点删除和部署操作步骤 均相同，包括管理节点，存储节点，网关节点和归档节点。</block>
  <block id="3534f3aba76e3726986387da9fbbc07f" category="list-text">登录到 VMware vSphere Web Client 。</block>
  <block id="1319f8e878c181882c1252d9b26e55a1" category="list-text">导航到出现故障的网格节点虚拟机。</block>
  <block id="2afd83487bc4b22acef94f70db4eba49" category="list-text">记下部署恢复节点所需的所有信息。</block>
  <block id="b34344874665ab8f5d6d64c9e5ab76b6" category="list-text">右键单击虚拟机，选择 * 编辑设置 * 选项卡，并记下正在使用的设置。</block>
  <block id="edbd686a25adec46e5aed38896c7fdb4" category="list-text">选择 * vApp 选项 * 选项卡以查看和记录网格节点网络设置。</block>
  <block id="973858ad6df20a82c09136fd02012b2f" category="list-text">如果发生故障的网格节点是存储节点，请确定用于数据存储的任何虚拟硬盘是否完好无损，并保留这些虚拟硬盘以重新连接到已恢复的网格节点。</block>
  <block id="914723763b334e28616bfff675057f57" category="list-text">关闭虚拟机。</block>
  <block id="c614b1d7b0ce5654b3bc4b2b876fc75d" category="list-text">选择 * 操作 * &gt; * 所有 vCenter 操作 * &gt; * 从磁盘中删除 * 以删除虚拟机。</block>
  <block id="0c48c4dad0ecf93283bc5b37416a3196" category="list-text">将新虚拟机部署为替代节点，并将其连接到一个或多个 StorageGRID 网络。</block>
  <block id="a9ea29d5af78a9f3e37d080cc2be4f6e" category="admonition">部署新节点后，您可以根据存储要求添加新的虚拟磁盘，重新连接从先前删除的故障网格节点中保留的任何虚拟硬盘，或者同时添加这两者。</block>
  <block id="4c422b89e582ec1d2a64ba16d9e712f0" category="paragraph">有关说明：</block>
  <block id="246835f0bb3f3d305292e2be832733b7" category="paragraph"><block ref="54851ad18b8892c3a3880e03edd382f7" category="inline-xref-macro-rx"></block> &gt; 将 StorageGRID 节点部署为虚拟机</block>
  <block id="f05264cdbc259a1ffc167b30a1d6d19d" category="list-text">根据要恢复的节点类型完成节点恢复操作步骤 。</block>
  <block id="e43ec38a93023bde02ff70f28b925702" category="cell">转至</block>
  <block id="57962d8ae824b079c232e504f2e8f9a9" category="paragraph"><block ref="57962d8ae824b079c232e504f2e8f9a9" category="inline-xref-macro-rx"></block></block>
  <block id="55fed7ff9588560603ec108a7e67b1f9" category="paragraph"><block ref="55fed7ff9588560603ec108a7e67b1f9" category="inline-xref-macro-rx"></block></block>
  <block id="e2f3c09ee6645a47c8924377805e39eb" category="summary">用于恢复故障存储节点的操作步骤 取决于故障类型和故障存储节点的类型。</block>
  <block id="3ae09b7824410b28108a68117324b30e" category="paragraph">使用此表为出现故障的存储节点选择恢复操作步骤 。</block>
  <block id="642facf67e0ad311eee88b3ab8381590" category="cell">问题描述</block>
  <block id="004bf6c9a40003140292e97330236c53" category="cell">Action</block>
  <block id="3c2e6b432d8e6589be0a25f02dab21d8" category="list-text">多个存储节点出现故障。</block>
  <block id="8be7bb96b5dc516b91d7861435fa5bb2" category="list-text">第二个存储节点在存储节点发生故障或恢复后不到 15 天出现故障。</block>
  <block id="72b102348c026d94be936489a6499b45" category="paragraph">这包括在恢复另一个存储节点期间存储节点出现故障的情况。</block>
  <block id="b949fe3c902b9d770f46942ffde133d7" category="paragraph">您必须联系技术支持。</block>
  <block id="6c4d69cf447b7c901909a9911c158ad2" category="paragraph">如果所有故障存储节点都位于同一站点，则可能需要执行站点恢复操作步骤 。</block>
  <block id="0960f0741def9f2bfaf6550d248527b7" category="paragraph">技术支持将评估您的情况并制定恢复计划。</block>
  <block id="3344c8f093dd738dab98ae06e2b88ca9" category="paragraph">在 15 天内恢复多个存储节点（或多个存储节点）可能会影响 Cassandra 数据库的完整性，从而可能导致发生原因 数据丢失。</block>
  <block id="e296f17261f159ebbce7c59110f1a02c" category="paragraph">技术支持可以确定何时可以安全地开始恢复第二个存储节点。</block>
  <block id="4878d677bd2ce754de243ca689ca8c35" category="paragraph">* 注意 * ：如果某个站点上有多个包含此 ADA 服务的存储节点发生故障，则该站点的任何待定平台服务请求都将丢失。</block>
  <block id="1774c7b2e6cc37856046f32249f9e611" category="paragraph">存储节点已脱机超过 15 天。</block>
  <block id="e109ca5bb4d8bddde34c91bb5086cce8" category="paragraph"><block ref="e109ca5bb4d8bddde34c91bb5086cce8" category="inline-xref-macro-rx"></block></block>
  <block id="147ebf4a950617e83f735a88e6850ec6" category="paragraph">要确保 Cassandra 数据库的完整性，需要使用此操作步骤 。</block>
  <block id="821b3de35cd5c892789230437f1b1c3b" category="paragraph">设备存储节点出现故障。</block>
  <block id="a92aab6947cd29b072f4b31f0341f897" category="paragraph">对于所有故障，设备存储节点的恢复操作步骤 均相同。</block>
  <block id="2ceb26a6b781f695747f6bd5dd0b427b" category="paragraph">一个或多个存储卷发生故障，但系统驱动器完好无损</block>
  <block id="2142c912162182acd255d2ccc642c4cd" category="paragraph">此操作步骤 用于基于软件的存储节点。</block>
  <block id="ac3b99457844a1ca8eff912af41b98f8" category="paragraph">系统驱动器出现故障。</block>
  <block id="8995ef35394c730b33af991714ebe0fc" category="paragraph"><block ref="8995ef35394c730b33af991714ebe0fc" category="inline-xref-macro-rx"></block></block>
  <block id="3cc5057ab7f8ed88fd3d4ff59328071a" category="paragraph">节点更换操作步骤 取决于部署平台以及是否有任何存储卷也出现故障。</block>
  <block id="d83e73fe3c58763681d0d7860a918407" category="summary">如果主机网络配置不正确或名称拼写错误，则在 StorageGRID 检查 /etc/storagegRid/nodes/&lt;node-name\&gt;.conf 文件中指定的映射时会发生错误。</block>
  <block id="43b5da5d3c0d7da4bdc05d142a7f438d" category="paragraph">如果主机网络配置不正确或名称拼写错误，则在 StorageGRID 检查 ` /etc/storaggrid/nodes/_node-name_.conf` 文件中指定的映射时会发生错误。</block>
  <block id="74c68a19e13330c8e6b83070b0fdb7c2" category="paragraph">您可能会看到与此模式匹配的错误或警告：</block>
  <block id="9313dfc35cb7d4892aa5026f10af4a2c" category="paragraph">`正在检查节点 _node-name_ 的配置文件 ` /etc/storaggrid/nodes/_node-name_.conf` 。` `错误： _node-name_ ： grid_network_target = _host-interface-name_` ` _node-name_ ： interface '_host-interface-name_' does not exist`</block>
  <block id="6783bbfa0beea6662ff443020f8c8002" category="paragraph">可能会报告网格网络，管理网络或客户端网络的错误。此错误表示 ` /etc/storaggrid/nodes/_node-name_.conf` 文件会将指示的 StorageGRID 网络映射到名为 ` 主机接口名称 _` 的主机接口，但当前主机上没有具有此名称的接口。</block>
  <block id="46e39197216734fca5871a6e969d1bac" category="paragraph">如果收到此错误，请确认您已完成中的步骤 <block ref="0c440cf3c3d37a0fc63d8184520691c3" category="inline-xref-macro-rx"></block>。对所有主机接口使用与原始主机相同的名称。</block>
  <block id="320be8a605c5c838c2530b7daa0c2eac" category="paragraph">如果您无法为主机接口命名以匹配节点配置文件，则可以编辑节点配置文件，并更改 grid_network_target ， admin_network_target 或 client_network_target 的值以匹配现有主机接口。</block>
  <block id="4c387c873fcbae36390ff6be663aa452" category="paragraph">确保主机接口提供对相应物理网络端口或 VLAN 的访问，并且该接口不直接引用绑定或网桥设备。您必须在主机上的绑定设备上配置 VLAN （或其他虚拟接口），或者使用网桥和虚拟以太网（ veth ）对。</block>
  <block id="472453d98a7bad5a11d90232036d1819" category="summary">或者，您也可以在出现故障的主管理节点上保留 Prometheus 维护的历史指标。只有当您的 StorageGRID 系统包含另一个管理节点时，才能还原 Prometheus 指标。</block>
  <block id="99fb5d421a4f55c7ebc77ff69be21ab0" category="doc">恢复主管理节点时还原 Prometheus 指标</block>
  <block id="75fbe1d1afd1c5d109653d5b125aa49f" category="paragraph">如果您还原了主管理节点，并且 StorageGRID 系统具有另一个管理节点，则可以通过将 Prometheus 数据库从非主管理节点（ _source 管理节点 _ ）复制到已恢复的主管理节点来还原历史指标。如果您的系统只有主管理节点，则无法还原 Prometheus 数据库。</block>
  <block id="664a53c50ea56dcfe5628ad7b6bae935" category="summary">您可能需要启动已停止的服务，或者可能需要停止并重新启动服务。</block>
  <block id="1b9275e98f6de898608bfd14827488c7" category="doc">启动或重新启动服务</block>
  <block id="bbffd7aeba924b7c7579cd789600f1c1" category="list-text">根据服务当前是正在运行还是已停止，确定向问题描述 发出的命令。</block>
  <block id="740cb21de13d9d670cb8b1530a2433d1" category="list-text">如果此服务当前已停止，请使用 `sstart` 命令手动启动此服务： `service _servicename_ start`</block>
  <block id="18b1cd9a575669b32791beb709aade6b" category="list-text">如果此服务当前正在运行，请使用 `restart` 命令停止此服务，然后重新启动它： `service _servicename_ restart`</block>
  <block id="07df5c4b76ff36f3a60694250b53111e" category="admonition">使用 `restart` 命令与依次使用 `stop` 命令和 `sstart` 命令相同。即使服务当前已停止，您也可以使用问题描述 `restart` 。</block>
  <block id="edbd56f2ea5880112e22d36d8b3ec23c" category="summary">StorageGRID 会维护一个网络子网列表，用于在网格网络 \ （ eth0\ ）上的网格节点之间进行通信。这些条目包括 StorageGRID 系统中每个站点用于网格网络的子网，以及通过网格网络网关访问的 NTP ， DNS ， LDAP 或其他外部服务器所使用的任何子网。在扩展中添加网格节点或新站点时，您可能需要更新子网或向网格网络添加子网。</block>
  <block id="f8153373f958e72aba681fc671ee09a1" category="paragraph">StorageGRID 会维护一个网络子网列表，用于在网格网络（ eth0 ）上的网格节点之间进行通信。这些条目包括 StorageGRID 系统中每个站点用于网格网络的子网，以及通过网格网络网关访问的 NTP ， DNS ， LDAP 或其他外部服务器所使用的任何子网。在扩展中添加网格节点或新站点时，您可能需要更新子网或向网格网络添加子网。</block>
  <block id="345b93ba6d6ffb2966ab6258f8f1d46d" category="list-text">您必须具有要配置的子网的网络地址，以 CIDR 表示法表示。</block>
  <block id="5c4a685dd92b6ed5bed82419265d2a42" category="paragraph">如果要执行的扩展活动包括添加新子网，则必须先添加新的网格子网，然后再启动扩展操作步骤 。</block>
  <block id="6ab293ee8baebf916d1125f10bb06277" category="list-text">在子网列表中，单击加号以 CIDR 表示法添加新子网。</block>
  <block id="1498f1a6d24158e3e6a2ff261d136d29" category="paragraph">例如，输入 `10.96.104.0/22` 。</block>
  <block id="a1ef59896f91ce79f6a40197577ccf05" category="list-text">输入配置密码短语，然后单击 * 保存 * 。</block>
  <block id="490e9641ac25b617577d116efbae94fe" category="summary">如果要为负载平衡器服务配置端点，并且要使用已配置为端口重新映射的映射到端口的端口，则必须先删除现有端口重新映射，否则此端点将无效。您必须在每个管理节点和网关节点上运行一个脚本，该节点的重新映射端口相互冲突，以删除该节点的所有端口重新映射。</block>
  <block id="8c6ef916a734083ffb973617a4f0102e" category="paragraph">如果要为负载平衡器服务配置端点，并且要使用已配置为端口重新映射的映射到端口的端口，则必须先删除现有端口重新映射，否则此端点将无效。您必须在每个管理节点和网关节点上运行一个脚本，该节点具有冲突的重新映射端口，以删除该节点的所有端口重新映射。</block>
  <block id="9bf5a7d61da538cc40b9c7403986859d" category="admonition">如果端口重新映射提供了客户端访问，则应重新配置客户端，以便尽可能使用配置为负载平衡器端点的其他端口，以避免服务丢失，否则，删除端口映射将导致客户端访问丢失，并应相应地进行计划。</block>
  <block id="fc8a29d8cbc44adb7ea828743d35f484" category="inline-xref-macro">删除裸机主机上的端口重新映射</block>
  <block id="b25b65e059af7c3d33c13d9d90a6df83" category="admonition">对于在裸机主机上部署为容器的 StorageGRID 系统，此操作步骤 不起作用。请参见的说明 <block ref="3144af29b34bdb63c29b9bcd00388992" category="inline-xref-macro-rx"></block>。</block>
  <block id="86377bc61022cbea05ab7f0f089c70e3" category="list-text">登录到此节点。</block>
  <block id="0387070da520db73e6d35f8342f2ec98" category="list-text">输入以下命令： `ssh -p 8022 admin@node_ip`</block>
  <block id="ff538d539131c3f0275c28a7b0d41bf0" category="list-text">运行以下脚本： `remove-port-remap.sh`</block>
  <block id="d512ecec76aa43a3417c7b9f7ac216b3" category="list-text">重新启动节点。</block>
  <block id="eb6e9a2b5cce964e8ae86324a81423bc" category="inline-xref-macro">重新启动网格节点</block>
  <block id="74c0d329ffa3b0edd4582e38a0a4dec5" category="paragraph">按照的说明进行操作 <block ref="bf83d30370faeaacc262707fa978f1ea" category="inline-xref-macro-rx"></block>。</block>
  <block id="dc63a86c7896c0b909c88f9491f7dcf9" category="summary">按照以下说明维护 StorageGRID 系统并从故障中恢复。</block>
  <block id="b81fdeca98116b7c5f90a87c4b701a59" category="doc">恢复和维护：概述</block>
  <block id="7ab5ffc53e5c748c0107aebe7c134f11" category="paragraph">这些说明介绍如何应用软件修补程序，恢复网格节点，恢复故障站点，停用网格节点或整个站点，执行网络维护，执行主机级别和中间件维护过程以及执行网格节点过程。</block>
  <block id="1d7b6090fd0baf0ee865d0993e5054fd" category="admonition">在这些说明中， "`Linux` " 是指 Red Hat ® Enterprise Linux ® ， Ubuntu ® ， CentOS 或 Debian ® 部署。使用<block ref="0aaf04254af18646f3d246cd4a4b417d" category="inline-link-rx"></block> 以获取支持的版本列表。</block>
  <block id="2d57378f723c73d1593564d7977f33bb" category="list-text">您对 StorageGRID 系统有着广泛的了解。</block>
  <block id="2af4cfebb586fcdf0c52876840e73b9c" category="list-text">您已查看 StorageGRID 系统的拓扑并了解网格配置。</block>
  <block id="f061681e973111bcee8a14432edb6f74" category="list-text">您知道必须严格按照所有说明进行操作，并注意所有警告。</block>
  <block id="8845515fd6b7fb39c345ac00773b3819" category="list-text">您了解，不支持未介绍的维护过程或需要服务参与。</block>
  <block id="641a5abcee86775aec74b68e5d85f7d1" category="section-title">设备的维护过程</block>
  <block id="a13150dc88145cedf5eb574d2ddf705c" category="paragraph">有关硬件过程，请参见 StorageGRID 设备的安装和维护说明。</block>
  <block id="ae78109ec55294a596fbaa0e1be547d7" category="paragraph">`sUdo StorageGRID node status _node-name_`</block>
  <block id="9893da72e396a9dfd1199e3de5da6abd" category="paragraph">对于返回未运行或已停止状态的任何节点，请运行以下命令：</block>
  <block id="99cb1f3078260c68b314d38523416d1d" category="paragraph">`sUdo StorageGRID node start _node-name_`</block>
  <block id="d4d485b4e600d374d053e222ce4e553f" category="summary">您可以从网格管理器或节点的命令 Shell 重新启动网格节点。</block>
  <block id="19c6c8103518ac6953c72231692ccba7" category="doc">重新启动网格节点</block>
  <block id="5e0f22180bb68206d9889627166bb774" category="paragraph">您可以从网格管理器或节点的命令 Shell 重新启动网格节点。</block>
  <block id="6ce4074540382fccd06db11eafc4ebab" category="paragraph">重新启动网格节点时，该节点将关闭并重新启动。所有服务都会自动重新启动。</block>
  <block id="d8362c298230a09bae20250b7eccadd1" category="paragraph">如果您计划重新启动存储节点，请注意以下事项：</block>
  <block id="44e699192d67b945725fffe6728214af" category="summary">您可以使用节点的命令 Shell 关闭网格节点。</block>
  <block id="00549ffffb87a6e5f09788bcc2a892d5" category="paragraph">您可以使用节点的命令 Shell 关闭网格节点。</block>
  <block id="94739c10f56b43270379630ce0208d26" category="paragraph">在执行此操作步骤 之前，请查看以下注意事项：</block>
  <block id="112a09837cc3e41be91f8aeb49f24015" category="list-text">通常，一次关闭的节点不应超过一个，以避免中断。</block>
  <block id="ded2b552387c586d0ac13d39bc13c94b" category="list-text">除非文档或技术支持明确指示，否则请勿在维护操作步骤 期间关闭节点。</block>
  <block id="bed3a1c5ce38073bbf66d1b45f2bbb5c" category="list-text">关闭过程取决于节点的安装位置，如下所示：</block>
  <block id="93b9f606d6c8281dfdce90178285f781" category="list-text">关闭 VMware 节点将关闭虚拟机。</block>
  <block id="0457d356d0392c26e21c18c57f7f2b9d" category="list-text">关闭 Linux 节点将关闭容器。</block>
  <block id="c2bf3a09916ff79b17ba10c91a30e01f" category="list-text">关闭 StorageGRID 设备节点将关闭计算控制器。</block>
  <block id="519a9e8077256eb4c88aaef36bdcc7c3" category="list-text">如果您计划关闭存储节点，请注意以下事项：</block>
  <block id="3f87162a22cee932f2cc475aa8b2e0a9" category="list-text">如果 ILM 规则指定了 " 双提交 " 的载入行为或规则指定了 " 已平衡 " ，并且无法立即创建所有必需的副本，则 StorageGRID 会立即将任何新载入的对象提交到同一站点上的两个存储节点，并在稍后评估 ILM 。如果要关闭给定站点上的两个或更多存储节点，则在关闭期间可能无法访问这些对象。</block>
  <block id="7aac32d63f3237dcdf596d63b260dc87" category="list-text">为了确保在存储节点关闭时您可以访问所有对象，请在关闭节点之前停止在站点上载入对象大约一小时。</block>
  <block id="71c1a198ee24c736ef0a4a6df4372089" category="list-text">停止所有服务： `service servermanager stop`</block>
  <block id="1f48180a05d98d65fc17363439abf746" category="list-text">如果此节点正在 VMware 虚拟机上运行或它是设备节点，请使用问题描述 关闭命令： `shutdown -h now`</block>
  <block id="238103a068b09e65fcdcfaa0d185fb5a" category="admonition">在设备节点上执行问题描述 `shutdown -h now` 命令后，必须重新启动设备以重新启动节点。</block>
  <block id="262d6efd51ebeabcaf4a4773a801a725" category="paragraph">对于设备，此命令将关闭控制器，但设备仍处于打开状态。您必须完成下一步。</block>
  <block id="df35e81e173f295555dc63c9e55273d5" category="list-text">如果要关闭设备节点：</block>
  <block id="20166471cd2c0a918d15a8513d86a3c5" category="summary">关闭网格节点并将其从源 Linux 主机导出。</block>
  <block id="f465136c9b76748988eb54278fb98c9f" category="doc">Linux ：从源主机导出节点</block>
  <block id="22d7c545b4b0bf1f0efb84a8d2cf5529" category="paragraph">在源 Linux 主机上运行以下命令。</block>
  <block id="1a7bc6cca5fa1b49fe89b1fc7a7b5b8a" category="list-text">获取源主机上当前正在运行的所有节点的状态。</block>
  <block id="c1b81bf4a21c63a203ceb32fa65b92dd" category="paragraph">`名称 Config-State Run-State`</block>
  <block id="aa7d4475a9c501aca0bc6f9facfde18d" category="paragraph">`dC1-ADM1 配置为运行`</block>
  <block id="d7070f0921daeafcaf0fdee37abc4a88" category="paragraph">`dC1-ARC1 已配置为运行`</block>
  <block id="58a40d5cee69a1ec4b9ed75e38538c32" category="paragraph">`dC1-GW1 已配置为运行`</block>
  <block id="0990b2ffef4ebbaf62bacb93e7d8a711" category="paragraph">`dC1-S1 已配置为运行`</block>
  <block id="263eb6a7e87ce319678764010e9dc0c8" category="paragraph">`dC1-S2 配置为运行`</block>
  <block id="df5cad51f90716cd6d4af96d5594311d" category="paragraph">`dC1-S3 已配置为运行`</block>
  <block id="f93817861c054df975fb9a72f62c8daa" category="list-text">确定要迁移的节点的名称，如果其运行状态为 `running` ，则将其停止。</block>
  <block id="d3d66967416d492dbb7a10b667e45549" category="paragraph">`s顶部节点 DC1-S3`</block>
  <block id="128707f79597b04c2727ea74a564780d" category="paragraph">`等待长达 630 秒以关闭节点`</block>
  <block id="0bcb7fc0104d41f56d6d4b33b9c072fc" category="list-text">从源主机导出节点。</block>
  <block id="c54bc7c2d5af337f88e351011a194cce" category="paragraph">`已将节点 DC1-S3 导出到 /dev/mapper/sgws-DC1-s3-var-local 。`</block>
  <block id="e70ca4e026d5099014aa61ddd9180a50" category="paragraph">`如果您` ，请使用 StorageGRID 节点导入 /dev/mapper/sgws-DC1-s3-var-local</block>
  <block id="7c42372d12b5948fbf3b207671b54436" category="paragraph">`希望重新导入。`</block>
  <block id="a8d70073c7d0df78645690fece675d2e" category="list-text">记下 `export` 命令输出中建议的 `import 命令。</block>
  <block id="f7722a422df5c08cb0c48d0245c762e2" category="paragraph">您将在下一步的目标主机上运行此命令。</block>
  <block id="cf1579abe132d4370fc056e1e2d51afe" category="summary">在某些情况下，例如站点范围或网格范围的 IP 地址更改，一组或多组节点可能无法与网格的其余部分联系。</block>
  <block id="85f8cca4a12283bcfa4e243cf0fc3897" category="doc">恢复隔离节点的网络连接</block>
  <block id="220779eb9ab34b475b561440393e9197" category="paragraph">在网格管理器（ * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * ）中，如果某个节点为灰色，或者某个节点为蓝色，其许多服务显示的状态不是 " 正在运行 " ，则应检查节点隔离情况。</block>
  <block id="62c92ba585f74ecdbef4c4498a438984" category="image-alt">屏幕截图</block>
  <block id="5219339e6dc6f6e93f0430e17b9ecb76" category="paragraph">隔离节点会产生以下后果：</block>
  <block id="9ed4de6d676d6dd14626179d2e248b62" category="list-text">如果隔离了多个节点，您可能无法登录或访问网格管理器。</block>
  <block id="8f761076ad805dcbdd3554b00cb59bb3" category="list-text">如果隔离了多个节点，则租户管理器的信息板上显示的存储使用量和配额值可能已过时。恢复网络连接后，总数将更新。</block>
  <block id="c9dac05785c67fa1b8175e0775b62240" category="paragraph">要解决隔离问题描述 ，您可以在与网格隔离的每个隔离节点或组中的一个节点（子网中不包含主管理节点的所有节点）上运行命令行实用程序。该实用程序可为节点提供网格中非隔离节点的 IP 地址，从而使隔离的节点或节点组能够再次访问整个网格。</block>
  <block id="d0f850971f73b4aa3795f5aaef0bf489" category="admonition">如果在网络中禁用了多播域名系统（ mDNS ），则可能需要在每个隔离节点上运行命令行实用程序。</block>
  <block id="35a65de53f718717171e6e184be0be89" category="list-text">访问此节点并检查 ` /var/local/log/dynip.log` 中是否存在隔离消息。</block>
  <block id="203d8b6b68ff796d2455df1fd387ebb1" category="paragraph">如果您使用的是 VMware 控制台，则它将包含一条消息，指出此节点可能已隔离。</block>
  <block id="4d47785daf8cec0b2ec4819921b22813" category="paragraph">在 Linux 部署中，隔离消息将显示在 ` /var/log/storagegrid/node/&lt;nodename&gt;.log` 文件中。</block>
  <block id="68c562a4935d241a87d348fd897755e4" category="list-text">如果隔离消息重复出现且持久，请运行以下命令：</block>
  <block id="57e1e1e5ed030bae9f55914916df5c11" category="paragraph">`add_node_ip.py &lt; 地址 &gt;`</block>
  <block id="a23b25c35040b5ba55be4aab56efcae4" category="paragraph">其中 ` &lt; 地址 &gt;` 是连接到网格的远程节点的 IP 地址。</block>
  <block id="30fed71ce916db906166763b3393904a" category="list-text">验证先前隔离的每个节点的以下情况：</block>
  <block id="122b36d6cb38453149a84354e59e826c" category="list-text">节点的服务已启动。</block>
  <block id="0815d8fd5b6c8423305c43d298f9faac" category="list-text">运行 `storagegRid-status` 命令后，动态 IP 服务的状态为 "`running` " 。</block>
  <block id="00da5bf78f31e05b3c435755ff49c132" category="list-text">在网格拓扑树中，节点不再显示为与网格其余部分断开连接。</block>
  <block id="8999d88dfe479dea035bf07a08a9e7b3" category="admonition">如果运行 `add_node_ip.py` 命令无法解决此问题，则可能还有其他网络问题需要解决。</block>
  <block id="460265f4c37c3911691a26eb6ce227bc" category="summary">您必须了解应用修补程序时 StorageGRID 系统将受到什么影响。</block>
  <block id="a17e1ed044b857ad057ac320bf33d7f5" category="doc">应用修补程序时对系统的影响</block>
  <block id="3dcb0caff0ad5deabb7255a9e09f2c2f" category="section-title">客户端应用程序可能会发生短期中断</block>
  <block id="ad3d6c3b7524ef50f49e062d4f6e928e" category="paragraph">StorageGRID 系统可以在整个修补程序过程中从客户端应用程序载入和检索数据；但是，如果修补程序需要在各个网关节点或存储节点上重新启动服务，则客户端与这些节点的连接可能会暂时中断。修复程序过程完成并在各个节点上恢复服务后，连接将恢复。</block>
  <block id="824e68df9f95827a22b5e1d8ed6a4c7d" category="paragraph">如果无法接受短时间内断开连接，您可能需要计划停机时间以应用修补程序。您可以使用选择性批准来计划某些节点的更新时间。</block>
  <block id="575d1fc896a0223aa9ef35366614ff55" category="inline-xref-macro">配置高可用性组</block>
  <block id="7bc31481be45b717974382bc936d6b85" category="admonition">您可以使用多个网关和高可用性（ High Availability ， HA ）组在修复程序过程中提供自动故障转移。请参见的说明 <block ref="9e8be4bd3d228f53262f8f5f46026f9c" category="inline-xref-macro-rx"></block>。</block>
  <block id="f17eaa17508daef1f98b9f758afc0234" category="section-title">可能会触发警报和 SNMP 通知</block>
  <block id="fc3ed0215177af929de042456e2b5fb3" category="paragraph">当服务重新启动以及 StorageGRID 系统作为混合版本环境运行时（某些网格节点运行早期版本，而另一些网格节点已升级到更高版本），可能会触发警报和 SNMP 通知。通常，这些警报和通知将在修复程序完成时清除。</block>
  <block id="1f2fa3e5e404f7a35a9204edcd704d90" category="paragraph">将修补程序应用于 StorageGRID 时：</block>
  <block id="2abc3b3b95b3b1042075513fdd69670f" category="list-text">在对所有节点应用此修补程序之前，请勿进行任何网格配置更改（例如，指定网格网络子网或批准待定网格节点）。</block>
  <block id="b85a27d26ccbde4d9d854ae4cddc2145" category="list-text">在将此修补程序应用于所有节点之前，请勿更新 ILM 配置。</block>
  <block id="b9dd2c651e4a6dec32d709f46b1c2d08" category="summary">必须将替代节点配置为 StorageGRID 系统的主管理节点。</block>
  <block id="ee1a21859f0bd67df5415e2a6faf5537" category="list-text">对于虚拟机上托管的主管理节点，必须部署，启动和初始化虚拟机。</block>
  <block id="8e729583713b58d73a85a1c1776fb751" category="list-text">对于服务设备上托管的主管理节点，您已更换此设备并安装了软件。请参见适用于您的设备的安装指南。</block>
  <block id="1e9d3abcae11e5b9fdb98eb487d580dd" category="list-text">您必须拥有恢复软件包文件的最新备份（ `sGWS-recovery-package-_id-revision_.zip` ）。</block>
  <block id="f6e0b0df05da91905b3291de4bc74f34" category="list-text">打开 Web 浏览器并导航到 `https://primary_admin_node_ip` 。</block>
  <block id="8a0d116097b802a0b59b48793ed38874" category="image-alt">安装或恢复主管理节点</block>
  <block id="e347519a382128b611c0e7642801b915" category="list-text">单击 * 恢复发生故障的主管理节点 * 。</block>
  <block id="e75fe30754d47e98e8fcafed2cd3f466" category="list-text">上传恢复包的最新备份：</block>
  <block id="f1faf4507c984826f3e72000d81e1ede" category="list-text">单击 * 浏览 * 。</block>
  <block id="0d141c9eda808fd1a898bd79ad4e8cdc" category="list-text">找到 StorageGRID 系统的最新恢复软件包文件，然后单击 * 打开 * 。</block>
  <block id="1d03653223744d516dedbc07e126dc87" category="paragraph">恢复过程开始。随着所需服务的启动，网格管理器可能会在几分钟内不可用。恢复完成后，将显示登录页面。</block>
  <block id="765e16ad613c6906f5d3125d8696a6c8" category="list-text">如果为 StorageGRID 系统启用了单点登录（ SSO ），并且已恢复的管理节点的依赖方信任已配置为使用默认管理接口证书，请在 Active Directory 联合身份验证服务（ AD FS ）中更新（或删除并重新创建）该节点的依赖方信任。使用在管理节点恢复过程中生成的新默认服务器证书。</block>
  <block id="cb63ca491680994f44b8fe30e2a5cc0e" category="admonition">要配置依赖方信任，请参见有关管理 StorageGRID 的说明。要访问默认服务器证书，请登录到管理节点的命令 Shell 。转至 ` /var/local/mgmt-api` 目录，然后选择 `server.crt` 文件。</block>
  <block id="42a91b44e62f56292a77f08e16f8db56" category="list-text">确定是否需要应用修补程序。</block>
  <block id="d7366a60f02316f91fbe21cca19bf6cc" category="list-text">从左侧列表中，选择主管理节点。</block>
  <block id="59bf47a5694b15a471e2f2f26aaac680" category="list-text">在概述选项卡上，记下 * 软件版本 * 字段中显示的版本。</block>
  <block id="e5f37134dad75ce6563d375c2d040b40" category="list-text">选择任何其他网格节点。</block>
  <block id="700ae5ee3940925b74b1349c2ad643ec" category="list-text">如果 * 软件版本 * 字段中显示的版本相同，则无需应用修补程序。</block>
  <block id="d612a0153255768ad7b9a685d9a0dc49" category="list-text">如果 * 软件版本 * 字段中显示的版本不同，则必须应用修补程序将恢复的主管理节点更新到相同版本。</block>
  <block id="831d596d51fc425df6ce2ca7e15c835d" category="paragraph"><block ref="831d596d51fc425df6ce2ca7e15c835d" category="inline-xref-macro-rx"></block></block>
  <block id="02c7581de35ab2037a301a27676878df" category="summary">您可以使用节点停用操作步骤 删除一个或多个站点上的一个或多个存储节点，网关节点或非主管理节点。您不能停用主管理节点或归档节点。</block>
  <block id="9ace7a64872ae7e69702f59cbe8dea72" category="paragraph">通常，只有当网格节点已连接到 StorageGRID 系统且所有节点均处于正常运行状况时（在 * 节点 * 页面和 * 停用节点 * 页面上有绿色图标），才应停用这些节点。但是，如果需要，您可以停用已断开连接的网格节点。在删除已断开连接的节点之前，请确保您了解此过程的含义和限制。</block>
  <block id="0829917c8c6ee69b5caff5cd5979d54d" category="paragraph">如果满足以下任一条件，请使用节点停用操作步骤 ：</block>
  <block id="2885e809a328f98760b8fbb726d533f3" category="list-text">您已向系统中添加较大的存储节点，并希望删除一个或多个较小的存储节点，同时保留对象。</block>
  <block id="be995d2a8bdd2a5fe1b1a079f5cdd178" category="list-text">您所需的总存储较少。</block>
  <block id="db03b66c36a9344dc15f72f7d604a211" category="list-text">您不再需要网关节点。</block>
  <block id="c866d2bd6e0dc7a613beb6163d73c245" category="list-text">您不再需要非主管理节点。</block>
  <block id="69ea06ba2ca6efbc51a64bddf970aa3f" category="list-text">您的网格包含一个断开连接的节点，您无法恢复此节点或使其恢复联机。</block>
  <block id="efdfce1e1331aa8ce1759b029fa7699b" category="paragraph">此流程图显示了停用网格节点的高级步骤。</block>
  <block id="f1cf3daae1585d5967b9f4d256597cfb" category="image-alt">停用步骤的高级流程图</block>
  <block id="07f2a0e2794d10b47e8fc12d576551fc" category="summary">在恢复服务设备上托管的网格节点时，您必须先准备该设备以重新安装 StorageGRID 软件。</block>
  <block id="c52bcd8718fed42caa03944bdc6bb937" category="doc">准备要重新安装的设备（仅限平台更换）</block>
  <block id="3523f8975642bb37520afd3ce98fa41a" category="paragraph">只有在更换服务设备上托管的故障节点时，才执行此操作步骤 。如果故障节点最初托管在 VMware 或 Linux 主机上，请勿执行以下步骤。</block>
  <block id="9519ecec2a7f68e6cce9d51015348a51" category="list-text">登录到出现故障的网格节点：</block>
  <block id="a209016959d7364cb7ff1519af7f933f" category="list-text">准备用于安装 StorageGRID 软件的设备。输入： `sgareinstall`</block>
  <block id="9a2bf1980e4a95666cb0f29745e20e6b" category="paragraph">服务设备将重置，并且网格节点上的数据将无法再访问。在初始安装过程中配置的 IP 地址应保持不变；但是，建议您在操作步骤 完成后进行确认。</block>
  <block id="24a6708307012d127da52438ddd45099" category="summary">如果在重新启动 VMware vSphere 虚拟机管理程序后虚拟机未重新启动，则可能需要对虚拟机进行配置，使其自动重新启动。</block>
  <block id="8ba50df5d3ff8f51d400e2f4539f4808" category="doc">VMware ：配置虚拟机以进行自动重新启动</block>
  <block id="496a44b7d89152838326bab281db51c6" category="paragraph">如果在恢复网格节点或执行其他维护操作步骤 期间发现虚拟机未重新启动，则应执行此操作步骤 。</block>
  <block id="ca1923804e95da83bdde9ddff3c7728d" category="list-text">在 VMware vSphere Client 树中，选择未启动的虚拟机。</block>
  <block id="316caa2b3b9bd243a1a2c9ddd972f956" category="list-text">右键单击虚拟机，然后选择 * 启动 * 。</block>
  <block id="f37132c57cac35c689882b86b633d0a9" category="list-text">配置 VMware vSphere 虚拟机管理程序，以便将来自动重新启动虚拟机。</block>
  <block id="cbbf54045c414f227c85e32eb2798257" category="summary">更换非主管理节点后，您必须在网格管理器中选择启动恢复，以将新节点配置为故障节点的替代节点。</block>
  <block id="85f76b8c80e14ecb6a8f9cfd2dcef1ab" category="summary">您可能需要在特定网格节点上执行相关过程。虽然您可以从网格管理器执行其中几个过程，但大多数过程都要求您从节点的命令行访问 Server Manager 。</block>
  <block id="a4d76bc37dd5088aeb720d55187c0529" category="paragraph">您可能需要在特定网格节点上执行相关过程。虽然您可以从网格管理器执行其中几个过程，但大多数过程都要求您从节点的命令行访问 Server Manager 。</block>
  <block id="a8083d21d7f9683bc36d9d3c0121cffa" category="paragraph">服务器管理器在每个网格节点上运行，用于监控服务的启动和停止，并确保服务正常加入和退出 StorageGRID 系统。Server Manager 还会监控每个网格节点上的服务，并自动尝试重新启动报告故障的任何服务。</block>
  <block id="43510c4f022dc2043382d96c33cad6b2" category="admonition">只有在技术支持指示您访问 Server Manager 时，才应访问此服务器管理器。</block>
  <block id="0aaf0b870095725eb00f2a5323034fd5" category="admonition">使用完 Server Manager 后，您必须关闭当前命令 Shell 会话并注销。输入： `exit`</block>
  <block id="4de7bf8b2ffad05a4712ca7925e4a23e" category="summary">在关闭主机电源之前，必须停止该主机上所有网格节点上的服务。</block>
  <block id="a9f5a3f2d44136f9f1d9b60e0044d5a8" category="doc">关闭主机</block>
  <block id="3e346a8a03e17048fefe0ee28c78c2e2" category="list-text">停止节点上运行的所有服务： `service servermanager stop`</block>
  <block id="b656c16f5226625eddadf935e523709d" category="list-text">对主机上的每个节点重复步骤 1 和 2 。</block>
  <block id="d1cd7479909cb3ed6da98395e3beb55f" category="list-text">如果您使用的是 Linux 主机：</block>
  <block id="06f10b4c03347982fc71210cbae8bfb1" category="summary">根据您为使 StorageGRID 节点在替代主机上运行而采取的特定操作，您可能需要对每个节点执行其他恢复步骤。</block>
  <block id="472ee8e1120625c8bcfa8b498c9312cf" category="doc">下一步操作：如果需要，执行其他恢复步骤</block>
  <block id="0d96205d5ddf19ffb078453ee2a00cb0" category="paragraph">如果在更换 Linux 主机或将故障网格节点还原到新主机时不需要采取任何更正操作，则节点恢复已完成。</block>
  <block id="6cda0126dfff5fbdfd82471c5ff005f0" category="section-title">更正操作和后续步骤</block>
  <block id="51643796002cbfa2de1e362d9604c59a" category="paragraph">在更换节点期间，您可能需要执行以下更正操作之一：</block>
  <block id="d350d7ce1d0fb1b5834d721906110e8f" category="list-text">您必须使用 ` -force` 标志来导入节点。</block>
  <block id="9942a7730730419d90d23a5b4856d89d" category="list-text">对于任何 ``` ， `block_device_&lt;utility&gt; 配置文件变量的值是指块设备，该块设备包含的数据与主机发生故障之前的数据不同。</block>
  <block id="dece0f4abdf10ca08694e8219f636501" category="list-text">您已为此节点发出 `StorageGRID node force-recovery _node-name_` 命令。</block>
  <block id="0f400c21ed3725e92f4c30210b29a07b" category="list-text">您添加了一个新的块设备。</block>
  <block id="da11a7ecda3af2629bb8c0fae01aa155" category="paragraph">如果您采取了上述 * 任何 * 更正操作，则必须执行其他恢复步骤。</block>
  <block id="10a166054bd70e9e492cfaa51ba9051b" category="paragraph">存储节点（基于软件）：</block>
  <block id="54274ddc047814e32e1c72918b4015f5" category="list-text">如果您必须使用 ` -force` 标志导入节点，或者发出了 `StorageGRID node force-recovery _node-name_`</block>
  <block id="457a8a4f7fd50f12fac6e16b59fedde1" category="list-text">如果您必须执行完整节点重新安装，或者需要还原 /var/local</block>
  <block id="7e72b57441c9c51337eded2ebea514cf" category="list-text">添加新块设备时。</block>
  <block id="1ffa9850e4c14bfd6d3df8c56958d732" category="list-text">如果对于任何 ` &lt; 目的 &gt;` ， `block_device_&lt; 目的 &gt;` 配置文件变量的值是指块设备，而该块设备所包含的数据与主机发生故障之前的数据不同。</block>
  <block id="77662b4e2bfac6f362d633e3f0d3da37" category="summary">停用站点之前，您必须获取以下材料。</block>
  <block id="01b2f82a7cea4630307ff15f20f2dfa2" category="paragraph">您必须下载最新的恢复软件包 ` .zip` 文件（ `sGWS-recovery-package-id-revision.zip` ）。如果发生故障，您可以使用恢复包文件还原系统。</block>
  <block id="b5425deab83e21d539b14ca758f8db06" category="paragraph"><block ref="b5425deab83e21d539b14ca758f8db06" category="inline-xref-macro-rx"></block></block>
  <block id="35f3e81c865c61990cdb58eed46c3833" category="summary">如果需要执行第二个维护操作步骤 ，可以在某些阶段暂停存储节点的停用操作步骤 。另一个操作步骤 完成后，您可以恢复停用。</block>
  <block id="bea7dbfc75ff7ef77cf0488bf7595d4e" category="admonition">只有在达到 ILM 评估或纠删编码的数据停用阶段时， * 暂停 * 按钮才会启用；但是， ILM 评估（数据迁移）将继续在后台运行。</block>
  <block id="49ca3548767af38b78a702300f1d6f2e" category="paragraph">此时将显示 Decommission 页面。</block>
  <block id="f810ab1caa31a88098cde3bee8b9917c" category="paragraph">此时将显示 Decommission Nodes 页面。当停用操作步骤 达到以下任一阶段时， * 暂停 * 按钮将处于启用状态。</block>
  <block id="7e70547a684a28e0868acf275fa0813f" category="list-text">评估 ILM</block>
  <block id="bcea4b4f34f703eae1b2662c2566f6fb" category="list-text">停用纠删编码数据</block>
  <block id="e76cacf49c0a604fcae6d2f7566af163" category="list-text">选择 * 暂停 * 以暂停操作步骤 。</block>
  <block id="b19b8411ee9f6027aa0882760df76caf" category="paragraph">当前阶段已暂停，并且 * 恢复 * 按钮已启用。</block>
  <block id="416382ac0c4f90e1d8379b35ef7f6fdc" category="image-alt">停用节点操作步骤 已暂停</block>
  <block id="aec528fa10a0719121f5d4d35cb451e1" category="list-text">另一个维护操作步骤 完成后，选择 * 恢复 * 继续执行停用。</block>
  <block id="ce7182b21dec67cd37425fc82581b41c" category="summary">例如，如果要移动数据中心，您可能需要关闭整个 StorageGRID 系统。以下步骤简要概述了执行受控关闭和启动的建议顺序。</block>
  <block id="f89abbaf06ab6727d8b7dfd803236892" category="doc">关闭并打开网格中的所有节点</block>
  <block id="b4da2e1171d8c337c10e054d1e31d6ca" category="paragraph">关闭站点或网格中的所有节点后，在存储节点脱机时，您将无法访问已载入的对象。</block>
  <block id="ca19fdd84165bb41d7bde3611153f916" category="summary">您可能需要从 StorageGRID 系统中删除数据中心站点。要删除站点，必须停用它。</block>
  <block id="7aa419da9890a58646d027d60a134b28" category="paragraph">流程图显示了停用站点的高级步骤。</block>
  <block id="32c59de58819695d05b1f059cf3b3e1f" category="image-alt">概述：停用站点</block>
  <block id="2eb43cbc2a61f9c743c1b3151489a296" category="summary">要在 SG100 或 SG1000 服务设备上安装网关节点或管理节点，请使用此设备上随附的 StorageGRID 设备安装程序。</block>
  <block id="af3560ee626724471488e0fc8434031e" category="doc">开始在服务设备上安装软件</block>
  <block id="21303e6413a6621f6244637ef7c7be94" category="list-text">此设备必须安装在机架中，并连接到您的网络并已启动。</block>
  <block id="0fc18c4a8ec7dae5457d8c0ebdf465b8" category="list-text">必须使用 StorageGRID 设备安装程序为此设备配置网络链路和 IP 地址。</block>
  <block id="34f57b35cc10723012b986840e317912" category="list-text">如果要安装网关节点或非主管理节点，则您知道 StorageGRID 网格的主管理节点的 IP 地址。</block>
  <block id="903f9abfda163df46b6cb02253498f00" category="list-text">必须在主管理节点上的网格网络子网列表中定义 StorageGRID 设备安装程序的 IP 配置页面上列出的所有网格网络子网。</block>
  <block id="18ce03b6d400e06dae83b90c072d9130" category="paragraph">有关完成这些前提条件任务的说明，请参见 SG100 或 SG1000 服务设备的安装和维护说明。</block>
  <block id="9ca667a1e063d46117027a411d9efa57" category="list-text">您必须使用 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="905c330a70e808aed2f06f9da9a3131c" category="list-text">您必须知道分配给设备的 IP 地址之一。您可以使用管理网络，网格网络或客户端网络的 IP 地址。</block>
  <block id="42010123a128ae897cc438748b6602d8" category="list-text">如果您要安装主管理节点，则可以使用此版本 StorageGRID 的 Ubuntu 或 Debian 安装文件。</block>
  <block id="eed92b836b4c0111afd0937c0ffa2835" category="admonition">在制造过程中，服务设备会预加载最新版本的 StorageGRID 软件。如果预加载的软件版本与 StorageGRID 部署中使用的版本匹配，则不需要安装文件。</block>
  <block id="6615b29bec975797e60754eef45ee425" category="paragraph">要在 SG100 或 SG1000 服务设备上安装 StorageGRID 软件，请执行以下操作：</block>
  <block id="a49956edf835d311bdd81a16d9029fa5" category="list-text">对于主管理节点，您可以指定节点的名称，然后上传相应的软件包（如果需要）。</block>
  <block id="5cf0e95b96240dd51e07e9f8a744c330" category="list-text">对于非主管理节点或网关节点，您可以指定或确认主管理节点的 IP 地址以及节点的名称。</block>
  <block id="cfa04ce6be1d9bc859d0fa184c6b7d1a" category="list-text">在整个过程中，安装将暂停。要恢复安装，您必须登录到网格管理器并将待定节点配置为故障节点的替代节点。</block>
  <block id="6f87af240e41fbc8eeae7f7dae03c1bb" category="list-text">打开浏览器并输入 SG100 或 SG1000 服务设备的 IP 地址之一。</block>
  <block id="44c17cd641ef4b5aa3161ba53ecfea70" category="image-alt">设备安装程序主页</block>
  <block id="4f8cdd0ecf8ab778eb9cd2ef9ba22bba" category="list-text">安装主管理节点：</block>
  <block id="e8870aa7cd4af6d853d0574c74dec58d" category="list-text">在 "This Node" 部分中，对于 "* 节点类型 " ，选择 "* 主管理 * " 。</block>
  <block id="1d185359116715bb02e7bd447592a54d" category="list-text">在安装部分中，检查当前状态下列出的软件版本</block>
  <block id="624641554c7f847e0275bfeacbeb5e59" category="inline-xref">安装步骤</block>
  <block id="4f3e05dc7d309d16570e35fd8c24fbbd" category="paragraph">如果准备安装的软件版本正确，请跳至 <block ref="a54349be40bd11fbac27095c8d232941" category="inline-xref-macro-rx"></block>。</block>
  <block id="b31412e9dfb13d68913ba9c97e245e3d" category="list-text">如果需要上传其他版本的软件，请在 * 高级 * 菜单下选择 * 上传 StorageGRID 软件 * 。</block>
  <block id="e407f2d0a8dbc452cbee0de8a975f682" category="paragraph">此时将显示上传 StorageGRID 软件页面。</block>
  <block id="934c46262a59afcb532217a9fea35b93" category="image-alt">周围文本所述的屏幕截图</block>
  <block id="4703d14821d21984377edac3cc97f444" category="list-text">单击 * 浏览 * 上传适用于 StorageGRID 软件的 * 软件包 * 和 * 校验和文件 * 。</block>
  <block id="ddfd6f37fcd65cddfce0ed2f940f351e" category="paragraph">选择这些文件后，这些文件将自动上传。</block>
  <block id="51f92bcb9ded8aa0223e2b15f94b4c36" category="list-text">单击 * 主页 * 返回到 StorageGRID 设备安装程序主页页面。</block>
  <block id="f271890ee5de3c47ea02d82a15c7a350" category="list-text">安装网关节点或非主管理节点：</block>
  <block id="c4f3bb9e8a04f83d4d8124b6b81af94c" category="list-text">在 "This Node" 部分中，对于 "* 节点类型 " ，根据要还原的节点类型选择 "* 网关 * " 或 "* 非主管理 * " 。</block>
  <block id="951d26196362d37e0b3346ec8705696b" category="list-text">从已发现的 IP 地址列表中，选择要部署此服务设备的网格的主管理节点。</block>
  <block id="f91a65c9f0d093c25d56e0ac06172321" category="list-text">在 "Installation_section_steP]] 中，确认当前状态为 Ready to start installation of node name 且 * Start Installation* 按钮已启用。</block>
  <block id="a1b38eb5ec862442ecc0db6ba3801545" category="summary">如果网格节点发生故障，您可以通过更换发生故障的物理或虚拟服务器，重新安装 StorageGRID 软件以及还原可恢复的数据来恢复该节点。</block>
  <block id="630afe4354995079b30dd2e44bc2e467" category="paragraph">如果硬件，虚拟化，操作系统或软件故障导致节点无法运行或不可靠，则网格节点可能会发生故障。可能会发生多种类型的故障，从而需要恢复网格节点。</block>
  <block id="53706a29d557597e5054f5cf3d15fcad" category="paragraph">恢复网格节点的步骤因托管网格节点的平台和网格节点类型而异。每种类型的网格节点都有一个特定的恢复操作步骤 ，您必须严格遵循该恢复。</block>
  <block id="3b8bd5862100050ed12e5f6740d9ab19" category="paragraph">通常，您会尝试尽可能保留故障网格节点中的数据，修复或更换故障节点，使用网格管理器配置替代节点并还原节点的数据。</block>
  <block id="561820a5d1494a9c2a38b492ee3f21b6" category="admonition">如果整个 StorageGRID 站点出现故障，请联系技术支持。技术支持将与您合作，制定和执行站点恢复计划，最大限度地提高已恢复的数据量，并满足您的业务目标。</block>
  <block id="c2000411edfeb93241f8db0de1be7428" category="summary">您可以使用更改 IP 工具在网格网络上添加或更改子网。</block>
  <block id="1a74cc4b73b0f3fc6d62330b9cd345cb" category="paragraph">您可以在网格网络子网列表中添加，删除或更改子网。更改将影响网格中所有节点上的路由。</block>
  <block id="94e277636d0a8b8d16ae4d35011cda78" category="list-text">在主菜单上，选择用于编辑网格网络子网的选项（选项 * 4* ）。</block>
  <block id="2e62a3d1d22ded39d74955a73310cb24" category="admonition">对网格网络子网列表所做的更改在网格范围内进行。</block>
  <block id="c2f8d31417c34a01da65754e47ed5550" category="paragraph">以下示例输入显示了为网格网络子网列表设置子网：</block>
  <block id="3f2d1ce18a0f79daa7b4beffc941d559" category="list-text">选择选项 *6* 可在显示完整配置的输出中显示编辑内容。更改将以绿色（添加项）或红色（删除项）突出显示。</block>
  <block id="7c6f83160ce347c401c8702eb0e8a45e" category="admonition">某些命令行界面可能会使用删除线格式显示添加和删除。</block>
  <block id="e367a2259c2c1ba7ce682d642bbd35e1" category="list-text">如果在更改网格网络时选择了选项 * 。 10 ，请选择以下选项之一：</block>
  <block id="82de28fa9f6208494caabe5435183493" category="paragraph">如果新网络配置将与旧网络配置同时运行而不进行任何外部更改，则可以使用 * 应用 * 选项进行完全自动化的配置更改。</block>
  <block id="ebf20aa00da237a5eddd1f5606790e96" category="list-text">* 阶段 * ：下次重新启动节点时应用更改。</block>
  <block id="6cd761838a8f1fea23df59c67ca8894a" category="paragraph">如果要使新网络配置正常运行，需要更改物理或虚拟网络配置，则必须使用 * 阶段 * 选项，关闭受影响的节点，进行必要的物理网络更改并重新启动受影响的节点。</block>
  <block id="24da5ea556513cd100e257bc45c9a3e9" category="list-text">如果配置因错误而停止，则可以使用以下选项：</block>
  <block id="2a94b951d480d87108a7ab825773ce46" category="list-text">要中止 IP 更改操作步骤 并返回主菜单，请输入 * A* 。</block>
  <block id="0b51b483f23f5822ca3ffcde043943a5" category="list-text">要重试失败的操作，请输入 * 。</block>
  <block id="3615506dd2239286106581146eaf4f27" category="list-text">要继续执行下一个操作，请输入 * c* 。</block>
  <block id="28601a45f28d0491ec572132f8970ae1" category="paragraph">稍后可以从主菜单中选择选项 * 10 * （应用更改）重试失败的操作。只有成功完成所有操作后， IP 更改操作步骤 才会完成。</block>
  <block id="b904e09b9ecf146e072ffc4a1d5e0000" category="list-text">如果您必须手动干预（例如重新启动节点），并确信工具认为失败的操作已实际成功完成，请输入 * f* 将其标记为成功并移至下一操作。</block>
  <block id="79fe435e1c08f776de59158588009bf3" category="summary">可以将归档节点配置为通过 TSM 中间件服务器锁定磁带或通过 S3 API 将云锁定。配置后，无法更改归档节点目标。</block>
  <block id="0107477200678c2ed625d2c14172ebcc" category="doc">TSM 中间件的归档节点维护</block>
  <block id="1aab6cbac4740bd5886dda686810c57f" category="paragraph">可以将归档节点配置为通过 TSM 中间件服务器锁定磁带或通过 S3 API 将云锁定。配置后，无法更改归档节点的目标。</block>
  <block id="fe0639587659802e0928f3547d619e0b" category="paragraph">如果托管归档节点的服务器发生故障，请更换该服务器并按照相应的恢复操作步骤 进行操作。</block>
  <block id="b61a683e260a440c41838849f85f6694" category="section-title">归档存储设备出现故障</block>
  <block id="7a88e03c38e94d37a8e59c7153eee996" category="paragraph">如果您确定归档节点通过 Tivoli Storage Manager （ TSM ）访问的归档存储设备存在故障，请使归档节点脱机，以限制 StorageGRID 系统中显示的警报数量。然后，您可以使用 TSM 服务器或存储设备的管理工具或这两者来进一步诊断和解决问题。</block>
  <block id="e2884af52215e8d6ffc1d05826a9b351" category="section-title">使目标组件脱机</block>
  <block id="c7d7938e65cfc3147554731d6868e1b8" category="paragraph">在对 TSM 中间件服务器进行任何可能导致其不可供归档节点使用的维护之前，请使目标组件脱机，以限制在 TSM 中间件服务器不可用时触发的警报数量。</block>
  <block id="2c174f5a280e74e728bd565cdcba9e44" category="list-text">选择 * 归档节点 * &gt; * ARC* &gt; * 目标 * &gt; * 配置 * &gt; * 主 * 。</block>
  <block id="ec5a90fbc31608359b784b6021c25b7f" category="list-text">将 Tivoli Storage Manager State 的值更改为 * 脱机 * ，然后单击 * 应用更改 * 。</block>
  <block id="c921060eaedd998fc9fc897683029646" category="list-text">维护完成后，将 Tivoli Storage Manager State 的值更改为 * 联机 * ，然后单击 * 应用更改 * 。</block>
  <block id="22695c37f3c6fc45d977d00abca90267" category="section-title">Tivoli Storage Manager 管理工具</block>
  <block id="437ba38336ba57ccc641def367950067" category="paragraph">dsmadc 工具是安装在归档节点上的 TSM 中间件服务器的管理控制台。您可以通过在服务器的命令行中键入 `dsmadc` 来访问此工具。使用与为 ARC-Service 配置的管理用户名和密码相同的管理用户名和密码登录到管理控制台。</block>
  <block id="25928c7f9e2e67cd67fff097a26bfe07" category="paragraph">创建 `tsmquery.rb` 脚本是为了以更易读的形式从 dsmadc 生成状态信息。您可以在归档节点的命令行中输入以下命令来运行此脚本： ` /usr/local/arc/tsmquery.rb status`</block>
  <block id="fe629dbdeefd65583afbb563a0a24634" category="paragraph">有关 TSM 管理控制台 dsmadc 的详细信息，请参见 _Tivoli Storage Manager for Linux ： Administratorʹs Referation_.</block>
  <block id="344bdd4c536fe63c30c1386f275162de" category="section-title">对象永久不可用</block>
  <block id="3da4cf77f6876013db75f076907ef0df" category="paragraph">当归档节点从 Tivoli Storage Manager （ TSM ）服务器请求对象而检索失败时，归档节点会在 10 秒间隔后重试此请求。如果对象永久不可用（例如，由于对象在磁带上损坏）， TSM API 无法向归档节点指示此情况，因此归档节点会继续重试此请求。</block>
  <block id="ba42095cebf913e24cb599d2953d739f" category="paragraph">发生这种情况时，系统会触发警报，并且此值会继续增加。要查看警报，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后，选择 * 归档节点 * &gt; * ARC/ * 检索 * &gt; * 请求故障 * 。</block>
  <block id="f34fc731d59898d828f2d21a9f02382f" category="inline-xref">确定对象是否永久不可用</block>
  <block id="0f5c062284a75bb357ecb3d9614b5569" category="paragraph">如果对象永久不可用，则必须确定该对象，然后按照操作步骤 中所述手动取消归档节点的请求。 <block ref="db886c7160b851de2d6776caf3e40e99" category="inline-xref-macro-rx"></block>。</block>
  <block id="08f0a652069ea234140de794b9c32e58" category="paragraph">如果对象暂时不可用，检索也可能失败。在这种情况下，后续检索请求最终应成功。</block>
  <block id="57a6bf9f2b1bab078ee3a19e0dc447b3" category="paragraph">如果将 StorageGRID 系统配置为使用创建单个对象副本的 ILM 规则，并且无法检索该副本，则该对象将丢失，无法恢复。但是，您仍然必须按照操作步骤 来确定对象是否永久不可用于 "`清理` " StorageGRID 系统，取消归档节点的请求以及清除丢失对象的元数据。</block>
  <block id="448e3e0938b11738178f0df38835f21c" category="paragraph">您可以通过使用 TSM 管理控制台发出请求来确定对象是否永久不可用。</block>
  <block id="daafd491a81ca716c16a87cac1208504" category="paragraph">此示例仅供您参考；此操作步骤 无法帮助您确定可能导致对象或磁带卷不可用的所有故障情况。有关 TSM 管理的信息，请参见 TSM 服务器文档。</block>
  <block id="2ef54ed26f4bbe798a1004d382b35191" category="list-text">确定归档节点无法检索到的一个或多个对象：</block>
  <block id="11e9a8c6e3c85152f5c50f0dc23b8f1a" category="list-text">转到包含审核日志文件的目录： `cd /var/local/audit/export`</block>
  <block id="59414d695320587e3669454071c672dd" category="paragraph">活动的审核日志文件名为 audit.log 。每天保存一次活动的 `audit.log` 文件，并启动一个新的 `audit.log` 文件。已保存文件的名称以 `yyyy-mm-dd.txt` 格式指示其保存时间。一天之后，保存的文件将被压缩并重命名，格式为 `yyyy-mm-dd.txt.gz` ，从而保留原始日期。</block>
  <block id="acf88d5748ea78863e438bf90fd34dd6" category="list-text">在相关审核日志文件中搜索指示无法检索归档对象的消息。例如，输入： `grep Arce audit.log ； less -n`</block>
  <block id="8dfab84f7fa76137b15f481ca214ecb3" category="paragraph">如果无法从归档节点检索对象，则 Arce 审核消息（归档对象检索结束）会在结果字段中显示 Arun （归档中间件不可用）或 GERR （一般错误）。审核日志中的以下示例行显示，对于 CBID 498D8A1F681F05B3 ， Arce 消息已终止，结果为 Arun 。</block>
  <block id="80baebad28176c57863d5201af2ab857" category="paragraph">有关详细信息，请参见了解审核消息的说明。</block>
  <block id="a0b1fc26681cf5dbaf665dc9f6e12b32" category="list-text">记录请求失败的每个对象的 CBID 。</block>
  <block id="996ab556b095e19e707743fdc71a5c42" category="paragraph">您可能还需要记录 TSM 用于标识归档节点保存的对象的以下追加信息 ：</block>
  <block id="0611c6157ce6d27f142138e334cdb9b7" category="list-text">* 文件空间名称 * ：等效于归档节点 ID 。要查找归档节点 ID ，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后，选择 * 归档节点 * &gt; * ARC/ * 目标 * &gt; * 概述 * 。</block>
  <block id="0d033673687bbe475dcdc635249e93b4" category="list-text">* 高级名称 * ：相当于归档节点分配给对象的卷 ID 。卷 ID 采用日期的形式（例如， `2009 1127` ），并在归档审核消息中记录为对象的 VLID 。</block>
  <block id="eabcdd96468ff1d7ce5bf86f3f76295d" category="list-text">* 低级别名称 * ：相当于 StorageGRID 系统分配给对象的 CBID 。</block>
  <block id="b5c9fe36f7219ca0a001610f3ed8bf1d" category="list-text">检查 TSM 服务器，查看步骤 2 中标识的对象是否永久不可用：</block>
  <block id="cfd78a0ddf2dfd2296b890f75d9592c6" category="list-text">登录到 TSM 服务器的管理控制台： `dsmadc`</block>
  <block id="db6c3db2667341447fd134cded7bd87b" category="paragraph">请使用为该应用程序中心服务配置的管理用户名和密码。在网格管理器中输入用户名和密码。（要查看用户名，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。然后，选择 * 归档节点 * &gt; * ARC* &gt; * 目标 * &gt; * 配置 * 。）</block>
  <block id="2213f50d2d42674b28e165394bf5c408" category="list-text">确定对象是否永久不可用。</block>
  <block id="8a5307b91ed2e9ae5ac62ff89554bdaa" category="paragraph">例如，您可以在 TSM 活动日志中搜索该对象的数据完整性错误。以下示例显示了在过去一天的活动日志中搜索 CBID `498D8A1F681F05B3` 的对象。</block>
  <block id="514afd4b11a190afaa6dc6289bbe2009" category="paragraph">根据错误的性质， CBID 可能不会记录在 TSM 活动日志中。您可能需要在日志中搜索请求失败前后的其他 TSM 错误。</block>
  <block id="cc30f5022573069ac2be5a3ccdb56826" category="list-text">如果整个磁带永久不可用，请确定存储在该卷上的所有对象的 CBID ： `query content Tsm_Volume_Name`</block>
  <block id="915e82e34faab5da70f24b50ecee7412" category="paragraph">其中 `TSM_Volume_Name` 是不可用磁带的 TSM 名称。以下是此命令的输出示例：</block>
  <block id="bb653a9348605d28b0e2328e9b4fe897" category="paragraph">文件名` 的 `客户端名称与归档节点卷 ID （或 TSM "`high level name` " ）相同，后跟对象的 CBID （或 TSM "`low level name` " ）。也就是说， `Client 的 Name for File Name` 采用 ` /Archive Node 卷 ID /CBID` 的形式。在示例输出的第一行中，文件名` 的 `客户端名称是 ` /20081201/C1D172940E6C7E12` 。</block>
  <block id="5a0b641df23ff2965ccfa6062c6e1012" category="paragraph">另请记住， `文件空间` 是归档节点的节点 ID 。</block>
  <block id="b3565f51149d249a098966d26b63acb9" category="paragraph">要取消检索请求，您需要卷上存储的每个对象的 CBID 以及归档节点的节点 ID 。</block>
  <block id="cf182f9f1a80b7be33795b289a712729" category="list-text">对于永久不可用的每个对象，请取消检索请求并执行问题描述 a 命令，以通知 StorageGRID 系统对象副本已丢失：</block>
  <block id="21360cf88fb278f314cf884b786f18a6" category="admonition">请谨慎使用 ADE 控制台。如果控制台使用不当，则可能会中断系统操作并损坏数据。请认真输入命令，并且只能使用此操作步骤 中记录的命令。</block>
  <block id="dea568d9d6364d549cb8c2eebae135ae" category="list-text">如果尚未登录到归档节点，请按以下方式登录：</block>
  <block id="8ada0699717138fb9ff1c9d518c51736" category="list-text">访问该 ARC 服务的 ADE 控制台： `telnet localhost 1409`</block>
  <block id="c7a31865ff974ffe8d4bda49440e54ef" category="list-text">取消对象的请求： ` /proc/BRTR/cancel -c CBID`</block>
  <block id="ff3124a7cf28f3c4bb1af45a475c2f2f" category="paragraph">其中 `CBID` 是无法从 TSM 检索到的对象的标识符。</block>
  <block id="5671dda818b8361ec233e13ef228e3d3" category="paragraph">如果此对象的唯一副本位于磁带上，则 "`bulk retrretr检 索` " 请求将被取消，并显示消息 "`1 Requests cancelled` " 。如果对象的副本位于系统中的其他位置，则对象检索将由其他模块处理，因此对消息的响应为 "`0 Requests cancelled` " 。</block>
  <block id="393c7c578eb6bcd870f16435e7fd1480" category="list-text">问题描述 一个命令，用于通知 StorageGRID 系统某个对象副本已丢失且必须创建另一个副本： ` /proc/CMSI/Object_Lost CBID node_ID`</block>
  <block id="f363ca11791603cfd75530406df4f708" category="paragraph">其中， `CBID` 是无法从 TSM 服务器检索的对象的标识符， `node_ID` 是检索失败的归档节点的节点 ID 。</block>
  <block id="e2f766b2595fcaa0127dcf2d913e81c7" category="paragraph">您必须为每个丢失的对象副本输入一个单独的命令：不支持输入 CBID 范围。</block>
  <block id="4ec00c813f0de87dfda72d5d20ba9ad5" category="paragraph">在大多数情况下， StorageGRID 系统会立即开始为对象数据创建更多副本，以确保系统的 ILM 策略得到遵守。</block>
  <block id="151a4e5d7da35cb7f863f114ca520268" category="paragraph">但是，如果对象的 ILM 规则指定只创建一个副本，而该副本现已丢失，则无法恢复该对象。在这种情况下，运行 `Object_Lost` 命令可从 StorageGRID 系统清除丢失对象的元数据。</block>
  <block id="481b958c1c5c9dba1d88841d174eca05" category="paragraph">当 `Object_Lost` 命令成功完成后，将返回以下消息：</block>
  <block id="93fa286b990ef326f9ee0b25cc97d471" category="admonition">` /proc/CMSI/Object_Lost` 命令仅适用于归档节点上存储的丢失对象。</block>
  <block id="db981feba624023e101759007877d2f1" category="list-text">退出 ADE 控制台： `exit`</block>
  <block id="8c393bc6a3a067e7ec506e8faa976e31" category="list-text">从归档节点中注销： `exit`</block>
  <block id="94b17020c0e1005c553857bcd7a38074" category="list-text">重置 StorageGRID 系统中的请求失败值：</block>
  <block id="65c02cfe63de47f58fa437f64293f7d4" category="list-text">转到 * 归档节点 * &gt; * ARC* &gt; * 检索 * &gt; * 配置 * ，然后选择 * 重置请求失败计数 * 。</block>
  <block id="96be902f30aae86f33d3cfd852c47a3b" category="summary">通过 S3 API 恢复以云为目标的归档节点后，您需要修改配置设置以重置连接。如果归档节点无法检索对象数据，则会触发出站复制状态 \ （ ORSU\ ）警报。</block>
  <block id="5dbb99f1a7cb3b6f7b39a998b3dc0818" category="doc">将归档节点连接重置为云</block>
  <block id="a70d8c54624f8e9eae9a44ddc1169fc8" category="paragraph">通过 S3 API 恢复以云为目标的归档节点后，您需要修改配置设置以重置连接。如果归档节点无法检索对象数据，则会触发出站复制状态（ ORSU ）警报。</block>
  <block id="9b88a7356e309204bdb30ce1fb62d7ff" category="admonition">如果归档节点通过 TSM 中间件连接到外部存储，则该节点将自动重置，您无需重新配置。</block>
  <block id="2deeb489a63b04469632723af129a506" category="list-text">选择 * 归档节点 * &gt; * ARE* &gt; * 目标 * 。</block>
  <block id="5aaeae5a095dc902a0b53a55016cd615" category="list-text">输入不正确的值以编辑 * 访问密钥 * 字段，然后单击 * 应用更改 * 。</block>
  <block id="1fa9f3c478375edcafb8c203b3615730" category="list-text">输入正确的值以编辑 * 访问密钥 * 字段，然后单击 * 应用更改 * 。</block>
  <block id="30e45d4474b301bd75d3ddad99a5fe67" category="paragraph">进度条和一系列消息（包括 " 已发送请求 " ， " 正在停止 StorageGRID " 和 " 正在重新启动 " ）表示设备正在完成进入维护模式的步骤。</block>
  <block id="7acd46249b2f861d45617131a527261a" category="admonition">访问 ` + https://169.254.0.1:8443+` 需要直接连接到本地管理端口。</block>
  <block id="6470994ca33e2ecdb10823aa550796bb" category="paragraph">设备重新启动并重新加入网格可能需要长达 20 分钟的时间。要确认重新启动已完成且节点已重新加入网格，请返回网格管理器。"* 节点 * " 页面应显示设备节点的正常状态（节点名称左侧没有图标），表示没有处于活动状态的警报，并且节点已连接到网格。</block>
  <block id="9739ca1b43dc3eb1bf403302d16e652a" category="summary">要从主管理节点故障中恢复，您必须完成一组特定的任务。主管理节点托管网格的配置管理节点（ CMN\ ）服务。</block>
  <block id="dbf9e9e8d97f01254fe445247d4ba1f2" category="paragraph">要从主管理节点故障中恢复，您必须完成一组特定的任务。主管理节点托管网格的配置管理节点（ CMN ）服务。</block>
  <block id="51ae986bd22a5b85f5b14e6e4bab8b77" category="paragraph">应立即更换发生故障的主管理节点。主管理节点上的配置管理节点（ CMN ）服务负责为网格发出对象标识符块。这些标识符将在载入对象时分配给对象。除非具有可用标识符，否则无法载入新对象。由于网格中缓存了大约一个月的标识符，因此在 CMN 不可用时，对象载入可以继续。但是，在缓存的标识符用尽后，无法添加任何新对象。</block>
  <block id="356ecf26c32efe568106ead5d8694c0d" category="admonition">您必须在大约一个月内修复或更换发生故障的主管理节点，否则网格可能无法载入新对象。确切的时间段取决于对象载入率：如果您需要更准确地评估网格的时间范围，请联系技术支持。</block>
  <block id="6d2974d9738441115ead2d9fb0e03ea2" category="summary">您必须完成一系列任务，才能恢复基于软件的存储节点，如果此存储节点上的一个或多个存储卷发生故障，但系统驱动器完好无损。如果只有存储卷发生故障，则存储节点仍可供 StorageGRID 系统使用。</block>
  <block id="51ba737260b51155c5f82d0b26396bfa" category="paragraph">此恢复仅限基于 操作步骤 适用场景 软件的存储节点。如果设备存储节点上的存储卷发生故障，请使用操作步骤 执行 "`Recover appliance Storage Node" 。`</block>
  <block id="b4a2a34b8b1b0a3ad348fb3cfeb63bfe" category="image-alt">存储卷恢复流程图概述</block>
  <block id="bc321a36b9cab2258ef714a58c3f8f00" category="summary">您必须在应用修补程序之前进行规划，以确保 StorageGRID 系统的中断降至最低。</block>
  <block id="e7fd70a5fc7ad7e9f3b69c8d303e063b" category="list-text"><block ref="e7fd70a5fc7ad7e9f3b69c8d303e063b" category="inline-xref-macro-rx"></block></block>
  <block id="c4653fc974ae858532b4ecd3bcbafcb1" category="inline-xref-macro">获取修补程序所需的材料</block>
  <block id="f9a0992c7eb2f4625272392e9f85f9ab" category="list-text"><block ref="f9a0992c7eb2f4625272392e9f85f9ab" category="inline-xref-macro-rx"></block></block>
  <block id="27b0878dda646936fe6054a58d62bc9f" category="inline-xref-macro">正在下载修补程序文件</block>
  <block id="665b69ac8a0bd016a72dbd8c5b8315f8" category="list-text"><block ref="665b69ac8a0bd016a72dbd8c5b8315f8" category="inline-xref-macro-rx"></block></block>
  <block id="5bafdfcbc4102d61f4acce44e6935a19" category="inline-xref-macro">在应用修补程序之前检查系统状况</block>
  <block id="ef22a533268946ed1bc5eeb351c856ff" category="list-text"><block ref="ef22a533268946ed1bc5eeb351c856ff" category="inline-xref-macro-rx"></block></block>
  <block id="40f5900ba42d9b8dd02aac911ec815ee" category="summary">在为存储分段配置平台服务之前，必须至少将一个端点配置为平台服务的目标。</block>
  <block id="1c4844711ade8e0f631d14f85ddce6b3" category="doc">配置平台服务端点</block>
  <block id="eccc3ebab4b84b9ebe37104681eb63d8" category="paragraph">StorageGRID 管理员可以按租户访问平台服务。要创建或使用平台服务端点，您必须是具有 " 管理端点 " 或 " 根访问 " 权限的租户用户，并且此用户所在的网格已配置为允许存储节点访问外部端点资源。有关详细信息，请与 StorageGRID 管理员联系。</block>
  <block id="79f6a969da9db203210055e59981b825" category="section-title">什么是平台服务端点？</block>
  <block id="e3facb1c054527802396b96c5a92d808" category="paragraph">创建平台服务端点时，您可以指定 StorageGRID 访问外部目标所需的信息。</block>
  <block id="1ab76772dd561541bfa0374552f832ff" category="paragraph">例如，如果要将对象从 StorageGRID 存储分段复制到 AWS S3 存储分段，则可以创建一个平台服务端点，其中包含 StorageGRID 访问 AWS 上的目标存储分段所需的信息和凭据。</block>
  <block id="cff3bf338ccd4c94059e91c5d41c95c4" category="paragraph">每种类型的平台服务都需要自己的端点，因此您必须为计划使用的每个平台服务至少配置一个端点。定义平台服务端点后，您可以在用于启用此服务的配置 XML 中使用此端点的 URN 作为目标。</block>
  <block id="ddec70470edb9ee977b49dc025830df5" category="paragraph">您可以对多个源存储分段使用与目标相同的端点。例如，您可以配置多个源分段，将对象元数据发送到同一搜索集成端点，以便可以跨多个分段执行搜索。您还可以将源分段配置为使用多个端点作为目标，这样您可以执行以下操作：向一个 SNS 主题发送有关对象创建的通知，向另一个 SNS 主题发送有关对象删除的通知。</block>
  <block id="1679985bc020712b9f939a6f372d07f0" category="section-title">用于 CloudMirror 复制的端点</block>
  <block id="a55d81c5a0f3ad22d71e92b724f88abb" category="paragraph">StorageGRID 支持表示 S3 存储分段的复制端点。这些存储分段可能托管在 Amazon Web Services ，相同或远程 StorageGRID 部署或其他服务上。</block>
  <block id="5cf0aed2575dcac815279ef7dd2efc66" category="section-title">通知的端点</block>
  <block id="27f96e5646bef4f61d872ae8e366e297" category="paragraph">StorageGRID 支持简单通知服务（ SNS ）端点。不支持简单队列服务（ SQS ）或 AWS Lambda 端点。</block>
  <block id="7141a23678793bd178ea8b7601f3e5fd" category="section-title">搜索集成服务的端点</block>
  <block id="016d7152de22fe778add9fff3fa44e03" category="paragraph">StorageGRID 支持表示 Elasticsearch 集群的搜索集成端点。这些 Elasticsearch 集群可以位于本地数据中心，也可以托管在 AWS 云或其他位置。</block>
  <block id="eef6637ec0fb0330ab1bd838cb46e8f8" category="paragraph">搜索集成端点是指特定的 Elasticsearch 索引和类型。您必须先在 Elasticsearch 中创建索引，然后才能在 StorageGRID 中创建端点，否则端点创建将失败。在创建端点之前，您无需创建类型。如果需要， StorageGRID 将在向端点发送对象元数据时创建此类型。</block>
  <block id="5797bd3b0d45f9c068c9817e75cfa396" category="cell">项目名称和问题描述</block>
  <block id="1481d8835897b8b2e539188c451047ca" category="paragraph">`Bucket` ：存储分段的名称</block>
  <block id="cb802166910b897d282e9bee6f16f35e" category="paragraph">`key` ：对象密钥名称</block>
  <block id="5a784142375e47e0d1c99bf67bd73586" category="paragraph">`veversionID` ：版本控制分段中的对象的对象版本</block>
  <block id="5f0e60705c899cef7e4ca581e252cbeb" category="paragraph">`reGion` ：桶区，例如 `us-east-1`</block>
  <block id="c2fcc33be5d5eed4e6f922bb2a7e5a4a" category="paragraph">`size` ： HTTP 客户端可以看到的对象大小（以字节为单位）</block>
  <block id="27ac64a9f6e4c3350b9d2b844933bcf3" category="paragraph">`mD5` ：对象哈希</block>
  <block id="5d929155a21b00b3f684888b04c05404" category="paragraph">`metadata` ：对象的所有用户元数据，作为键值对</block>
  <block id="0c99ac46e4359c0a9289c78899319c33" category="paragraph">`键：值`</block>
  <block id="760456f2ab090c091cc581cda939315f" category="paragraph">`tags` ：为对象定义的所有对象标记，作为键值对</block>
  <block id="9b9fdf29d1b841f8b39094ece6b22c98" category="admonition">对于标记和用户元数据， StorageGRID 会将日期和数字作为字符串或 S3 事件通知传递给 Elasticsearch 。要配置 Elasticsearch 以将这些字符串解释为日期或数字，请按照 Elasticsearch 说明进行动态字段映射和映射日期格式。在配置搜索集成服务之前，必须在索引上启用动态字段映射。为文档编制索引后，您无法在索引中编辑文档的字段类型。</block>
  <block id="0d2629b1a158964b2a3f74039d3f3b2a" category="summary">如果您希望 S3 存储分段中的存储分段和对象可供其他域中的 Web 应用程序访问，则可以为该存储分段配置跨源资源共享（ CORS ）。</block>
  <block id="208f75dac184023eb660e9cd77f7c00c" category="doc">配置跨源资源共享（ CORS ）</block>
  <block id="aa7cb221429225f11d653f3228a7ca64" category="paragraph">如果您希望 S3 存储分段中的存储分段和对象可供其他域中的 Web 应用程序访问，则可以为该存储分段配置跨源资源共享（ CORS ）。</block>
  <block id="b1ef82fad3bb8af0935d83f1472b31e7" category="list-text">您必须使用登录到租户管理器 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="a7233f6579e4092d3f4f5fc8794c65a1" category="list-text">您必须属于具有 " 管理所有分段 " 或 " 根访问 " 权限的用户组。这些权限将覆盖组或存储分段策略中的权限设置。</block>
  <block id="39110d6be77163f620e14246eeca961b" category="paragraph">跨源资源共享（ CORS ）是一种安全机制，允许一个域中的客户端 Web 应用程序访问不同域中的资源。例如，假设您使用名为 `images` 的 S3 存储分段来存储图形。通过为 `images` 存储分段配置 CORS ，您可以允许该存储分段中的图像显示在网站 `http://www.example.com` 上。</block>
  <block id="d963a381d1a65c9d5bf9f5f868f2e99e" category="list-text">使用文本编辑器创建启用 CORS 所需的 XML 。</block>
  <block id="6e255b749b91ae0a75dac8a331d3530a" category="paragraph">此示例显示了用于为 S3 存储分段启用 CORS 的 XML 。此 XML 允许任何域向存储分段发送 GET 请求，但它仅允许 ` + http://www.example.com+` 域发送 POST 和 DELETE 请求。允许使用所有请求标头。</block>
  <block id="2228296a2909d682e9c9e28d27d8c568" category="inline-link">Amazon Web Services （ AWS ）文档：《 Amazon Simple Storage Service 开发人员指南》</block>
  <block id="b3f4ea36d982c1954512aa12de73b094" category="paragraph">有关 CORS 配置 XML 的详细信息，请参见<block ref="cc219ee3701a2e9d3e4464c313dcafe4" category="inline-link-rx"></block>。</block>
  <block id="4917c5af9ab5075f41cb8d9320ac989e" category="list-text">在租户管理器中，选择 * 存储（ S3 ） * &gt; * 分段 * 。</block>
  <block id="879a698e0a3cedd03cf491a46c1c357e" category="list-text">从列表中选择存储分段名称。</block>
  <block id="5b6a8a3f86125d3fde42e934ea7cb3d0" category="paragraph">此时将显示存储分段详细信息页面。</block>
  <block id="255440c3e918560b48df75fc27dd2fb5" category="list-text">选择 * 分段访问 * &gt; * 跨源资源共享（ CORS ） * 。</block>
  <block id="8104d7d26c0226d52824e20b4a3e6a5c" category="list-text">选中 * 启用 CORS* 复选框。</block>
  <block id="800d3468123ff89cd74746f29144b620" category="list-text">将 CORS 配置 XML 粘贴到文本框中，然后选择 * 保存更改 * 。</block>
  <block id="c4952cdf6af4758183a6eb840008a2b4" category="image-alt">显示 COR 配置 XML 的屏幕截图</block>
  <block id="0245a39dfde9064568b0d2ae02419454" category="list-text">要修改存储分段的 CORS 设置，请在文本框中更新 CORS 配置 XML ，或者选择 * 清除 * 重新开始。然后选择 * 保存更改 * 。</block>
  <block id="84610b9d38c1a4f02c8bade3d877252c" category="list-text">要为存储分段禁用 CORS ，请取消选中 * 启用 CORS* 复选框，然后选择 * 保存更改 * 。</block>
  <block id="10afb0a91630c02243aa18e2d4727799" category="summary">如果您希望 StorageGRID 向目标 Amazon Simple Notification Service \ （ SNS ）发送有关指定事件的通知，则可以为 S3 存储分段启用事件通知。</block>
  <block id="2398edc3d1b183ba176cf4f3283bfec2" category="doc">了解存储分段通知</block>
  <block id="c774d727f228af255860d8bfcb8d7cb5" category="paragraph">如果您希望 StorageGRID 向目标 Amazon Simple Notification Service （ SNS ）发送有关指定事件的通知，则可以为 S3 存储分段启用事件通知。</block>
  <block id="297aaaf0b9329eb8751502d2c0fb79a7" category="inline-xref-macro">配置事件通知</block>
  <block id="6e9f6c560f0d646a550b8e0dae817a9e" category="paragraph">您可以 <block ref="4cbe99a9025a1aa6ec7dd996c9771a85" category="inline-xref-macro-rx"></block> 通过将通知配置 XML 与源存储分段相关联。通知配置 XML 遵循 S3 配置存储分段通知的约定，并将目标 SNS 主题指定为端点的 URN 。</block>
  <block id="9045e3ab16fd141bad4c3087071494d3" category="paragraph">事件通知在通知配置中指定的源存储分段处创建，并传送到目标。如果与某个对象关联的事件成功，则会创建有关该事件的通知并排队等待传送。</block>
  <block id="34ade885667727b2f24f64a520178f25" category="paragraph">不保证通知的唯一性和顺序。由于为保证成功交付而执行的操作，可能会向目标发送多个事件通知。由于交付是异步的，因此无法保证目标上通知的时间顺序与源存储分段上事件的顺序一致，尤其是对于来自不同 StorageGRID 站点的操作。您可以在事件消息中使用 `sEquencer` 键来确定特定对象的事件顺序，如 Amazon S3 文档中所述。</block>
  <block id="38a96035c9905df42cab7bf2a542f109" category="section-title">支持的通知和消息</block>
  <block id="877d430be3a41b88bf2f9d825311a3c6" category="paragraph">StorageGRID 事件通知遵循 Amazon S3 API ，但存在以下限制：</block>
  <block id="f2f3670b8205e23eb3f6a0dbf561bd56" category="list-text">从 StorageGRID 发送的事件通知使用标准 JSON 格式，只是它们不包含某些密钥，而对其他密钥使用特定值，如下表所示：</block>
  <block id="4eb32d81c5fc0ca61c07caf07899140e" category="cell">密钥名称</block>
  <block id="f98c0351a29776bf5f017aafea721969" category="cell">StorageGRID 值</block>
  <block id="3eeff671d5f837827eeabcaad6477469" category="paragraph">事件源</block>
  <block id="37f159b74b19e87e3b60278c651771e2" category="paragraph">awsRegion</block>
  <block id="73578a9ef58da464f85f6223b683299a" category="paragraph">ARN</block>
  <block id="e6247528749afe3edf70742ed252e8a5" category="summary">当网格管理员为 StorageGRID 系统创建信息生命周期管理 \ （ ILM ）规则时，他们可以选择指定对象的最后访问时间来确定是否将该对象移动到其他存储位置。如果您使用的是 S3 租户，则可以通过为 S3 存储分段中的对象启用上次访问时间更新来利用此类规则。</block>
  <block id="f08e2b2043db66be1aa62b71e098be47" category="doc">启用或禁用上次访问时间更新</block>
  <block id="f907202c8bd8f31bf218f215637fad08" category="paragraph">当网格管理员为 StorageGRID 系统创建信息生命周期管理（ ILM ）规则时，他们可以选择指定对象的最后访问时间来确定是否将该对象移动到其他存储位置。如果您使用的是 S3 租户，则可以通过为 S3 存储分段中的对象启用上次访问时间更新来利用此类规则。</block>
  <block id="dc7d6b2158a44e00626a969d6cc6a300" category="paragraph">这些说明仅适用于至少包含一个在放置说明中使用 * 上次访问时间 * 选项的 ILM 规则的 StorageGRID 系统。如果您的 StorageGRID 系统不包含此类规则，则可以忽略这些说明。</block>
  <block id="a36b5fe4dfc814e01ebda060d13fe0e8" category="inline-xref-macro">租户管理权限</block>
  <block id="02675534b43f5c27c9c8c386435f6bc0" category="list-text">您必须属于具有 " 管理所有分段 " 或 " 根访问 " 权限的用户组。这些权限将覆盖组或存储分段策略中的权限设置。请参见 <block ref="5b9f1b5a99edd0f1dc1967c03fbeba87" category="inline-xref-macro-rx"></block>。</block>
  <block id="319fdb79b5f111cc6c8395b5010e0218" category="paragraph">对于 ILM 规则， * 上次访问时间 * 是 * 参考时间 * 放置说明可用的选项之一。通过将规则的参考时间设置为上次访问时间，网格管理员可以根据上次检索（读取或查看）对象的时间指定将对象放置在某些存储位置。</block>
  <block id="3f80e77ed3cfdcf14c66d2c5a6df0f23" category="paragraph">例如，为了确保最近查看的对象保持在较快的存储上，网格管理员可以创建一个 ILM 规则，指定以下内容：</block>
  <block id="a8455ac633d9938ed4f10a62418c1072" category="list-text">过去一个月检索到的对象应保留在本地存储节点上。</block>
  <block id="8e392c4f35ca601bc315b737b605e26d" category="list-text">过去一个月未检索到的对象应移至异地位置。</block>
  <block id="bd00ba428dd96c713dace67cae959ed4" category="admonition">请参见有关通过信息生命周期管理来管理对象的说明。</block>
  <block id="48ebe03afd642c71f730d1f1d4f97667" category="paragraph">默认情况下，对上次访问时间的更新处于禁用状态。如果您的 StorageGRID 系统包含使用 * 上次访问时间 * 选项的 ILM 规则，并且您希望此选项应用于此存储分段中的对象，则必须为该规则中指定的 S3 存储分段启用对上次访问时间的更新。</block>
  <block id="f25c0329d4674e390598cdb959a21af8" category="admonition">在检索对象时更新上次访问时间会降低 StorageGRID 性能，尤其是对于小型对象。</block>
  <block id="0a89250f232cbbec6528d8fd964275a8" category="paragraph">上次访问时间更新会影响性能，因为每次检索对象时， StorageGRID 都必须执行以下附加步骤：</block>
  <block id="493c4fe350be2d2c9bd74d7f09d6334f" category="list-text">使用新的时间戳更新对象</block>
  <block id="ba2bbf16c6979f264989dd9e04c1a343" category="list-text">将对象添加到 ILM 队列，以便根据当前 ILM 规则和策略对其进行重新评估</block>
  <block id="62b81e009276a6d81f52887521344a12" category="paragraph">下表汇总了禁用或启用上次访问时间时应用于存储分段中所有对象的行为。</block>
  <block id="b9263f280c2c2ef949e10b7aa7a61549" category="cell">请求类型</block>
  <block id="666de55fa2281618c0dc4cee5a6ff57e" category="cell">禁用上次访问时间时的行为（默认）</block>
  <block id="b15f8878fe590411abbd65d4c1c1e007" category="cell">启用上次访问时间时的行为</block>
  <block id="10a0dc514469f8db1905b72782f5ddbd" category="cell">上次访问时间是否已更新？</block>
  <block id="200d0fd2f3d495332e164ea83e043a3d" category="cell">对象是否已添加到 ILM 评估队列？</block>
  <block id="741d57438caabdbe87557a1661512e52" category="paragraph">请求检索对象，其访问控制列表或其元数据</block>
  <block id="4c70950594a92a1e3a8f90753699349c" category="paragraph">请求更新对象的元数据</block>
  <block id="d3276c4035d27515ba42abb72a45907e" category="paragraph">请求将对象从一个存储分段复制到另一个存储分段</block>
  <block id="7a82bfc2e8cebe0758f60c4aaddeb3ea" category="list-text">否，对于源副本</block>
  <block id="77afceed1eda3094ac5ce8b0367dc87d" category="list-text">是，对于目标副本</block>
  <block id="1c5742ee2970c9e6445e8134e8927e2b" category="list-text">是，对于源副本</block>
  <block id="d39aba50badcc0da1d074feca37dbd9a" category="paragraph">请求完成多部分上传</block>
  <block id="f7ef4ad14758ed840f07590e697a188c" category="paragraph">是，对于已组装的对象</block>
  <block id="3a39421d9b026316834cb643455ba445" category="list-text">选择 * 分段选项 * &gt; * 上次访问时间更新 * 。</block>
  <block id="8a809ec69a17ed5793b2f6165e5a56ba" category="list-text">选择相应的单选按钮以启用或禁用上次访问时间更新。</block>
  <block id="0e3aab7de45bfcac3b8212d530338a76" category="image-alt">显示用于设置上次访问时间更新的对话框的屏幕截图</block>
  <block id="302ef561e28f7d7cd13d1042cece78e1" category="list-text">选择 * 保存更改 * 。</block>
  <block id="5b9f1b5a99edd0f1dc1967c03fbeba87" category="paragraph"><block ref="5b9f1b5a99edd0f1dc1967c03fbeba87" category="inline-xref-macro-rx"></block></block>
  <block id="ba80cf85c871b102e061df839589c8f7" category="doc">配置 OpenLDAP 服务器的准则</block>
  <block id="d84f81d5b0c27ec67a5bb4cb0030d56f" category="paragraph">应启用成员和精简覆盖。有关详细信息，请参见 _OpenLDAP 软件管理员指南 _ 中有关反向组成员资格维护的说明。</block>
  <block id="5fcd64082110eee21fa5b1e4d9cc4ca8" category="paragraph">请参见 _OpenLDAP 软件管理员指南 _ 中有关反向组成员资格维护的信息。</block>
  <block id="77956401779c763d230f2fb65872c2cb" category="summary">如果您使用的是 S3 租户，并且您拥有相应的权限，则可以删除您自己的 S3 访问密钥。删除访问密钥后，无法再使用它访问租户帐户中的对象和分段。</block>
  <block id="bb0ea79e1af6bac3ef3395d713bb9bdf" category="doc">删除您自己的 S3 访问密钥</block>
  <block id="75b078bd96f018e6c51904008c059ccd" category="list-text">您必须具有管理自己的 S3 凭据权限。请参见 <block ref="5b9f1b5a99edd0f1dc1967c03fbeba87" category="inline-xref-macro-rx"></block>。</block>
  <block id="fffe3050462372d664051cd2f88afc7e" category="admonition">您可以使用租户管理器中为您的帐户显示的访问密钥 ID 和机密访问密钥来访问属于您帐户的 S3 存储分段和对象。因此，请像使用密码一样保护访问密钥。定期轮换访问密钥，从您的帐户中删除任何未使用的密钥，并且切勿与其他用户共享这些密钥。</block>
  <block id="83ab17a7c979dc4fe18df1fb367c7a49" category="paragraph">此时将显示 My access keys 页面，其中列出了所有现有访问密钥。</block>
  <block id="7780bf2fd298e895c5c72918b3cd9cb2" category="list-text">选中要删除的每个访问密钥对应的复选框。</block>
  <block id="37156860044ba6153884bbcaeac408db" category="list-text">选择 * 删除密钥 * 。</block>
  <block id="bb74d2b86ae55556a08ee9f85faeb5a5" category="image-alt">访问密钥 - 确认删除</block>
  <block id="c3c73ec964aef430ecf721c27e7896b4" category="paragraph">页面右上角将显示一条确认消息。由于缓存，更改可能需要长达 15 分钟才能生效。</block>
  <block id="79fdcb976936e3c4d77bd11ed7a7dc75" category="summary">搜索集成服务是三种 StorageGRID 平台服务之一。您可以启用此服务，以便在创建，删除对象或更新其元数据或标记时将对象元数据发送到目标搜索索引。</block>
  <block id="cab5bbcea98c874e9b9a1faf0f33ee33" category="doc">使用搜索集成服务</block>
  <block id="5fdf76502f82d8b6d50f642fce1f0893" category="paragraph">您可以使用租户管理器将自定义 StorageGRID 配置 XML 应用于存储分段来配置搜索集成。</block>
  <block id="aa73a0d54b2a08bbc9ab305e3403a4cc" category="admonition">由于搜索集成服务会将对象元数据发送到目标，因此其配置 XML 称为 _metadata notification configuration xml_ 。此配置 XML 与用于启用事件通知的 _notification 配置 xml_ 不同。</block>
  <block id="0cd8c36a9a2f88b99f678f11ee8ea04a" category="inline-xref-macro">有关实施 S3 客户端应用程序的说明</block>
  <block id="9ddef47cdf3153701f0ba9f66ebb53e3" category="paragraph">请参见 <block ref="887c675ade23ade7eb8876f656f4f0ee" category="inline-xref-macro-rx"></block> 有关以下自定义 StorageGRID S3 REST API 操作的详细信息：</block>
  <block id="d992b08f21e9738385ba868f7e0aa61f" category="inline-xref-macro">用于搜索集成的配置 XML</block>
  <block id="c5fb0d4e0ded02cb02769dc296331ea7" category="paragraph"><block ref="c5fb0d4e0ded02cb02769dc296331ea7" category="inline-xref-macro-rx"></block></block>
  <block id="7d1970455a722fe587c9991826cb3cc3" category="paragraph"><block ref="7d1970455a722fe587c9991826cb3cc3" category="inline-xref-macro-rx"></block></block>
  <block id="0f356d9aba313b89e5cb483746a5ac8f" category="inline-xref-macro">由搜索集成服务生成的 JSON</block>
  <block id="a3609de967242fc1dcfedba0f8c9192e" category="paragraph"><block ref="a3609de967242fc1dcfedba0f8c9192e" category="inline-xref-macro-rx"></block></block>
  <block id="1cf458dbfa770c9c7189b79723753358" category="inline-xref-macro">配置搜索集成服务</block>
  <block id="92a2810972db0fcf05e812b24ba03fb0" category="paragraph"><block ref="92a2810972db0fcf05e812b24ba03fb0" category="inline-xref-macro-rx"></block></block>
  <block id="d68e5827256342620c24c843104b561d" category="summary">您可以使用租户管理器删除空的 S3 存储分段。</block>
  <block id="6d275bc3bdc3b7292c41d331d7aaa93c" category="paragraph">您可以使用租户管理器删除一个或多个空的 S3 分段。</block>
  <block id="a5a936ff82826a399872bab6074fa750" category="list-text">要删除的存储分段为空。</block>
  <block id="d9c2d2ae0c4c6147f42f01e0be405db4" category="inline-xref-macro">租户管理 API</block>
  <block id="f43df333f3b9afc5f53165f494e07d03" category="inline-xref-macro">S3 REST API</block>
  <block id="4bcd13e2bd7b5e4b2b19decf4e50f5ea" category="paragraph">以下说明介绍如何使用租户管理器删除 S3 存储分段。您也可以使用删除 S3 存储分段 <block ref="7910aa949859f5f6027aa60a5b94274e" category="inline-xref-macro-rx"></block> 或 <block ref="558b92a1f5128bfcb3494d2c14a228b3" category="inline-xref-macro-rx"></block>。</block>
  <block id="8dd05a9489d54e131b86ffdd3ee8556d" category="paragraph">如果 S3 存储分段包含对象或非当前对象版本，则不能删除该存储分段。有关如何删除 S3 版本对象的信息，请参见 <block ref="72e1c01117293b1a1f6b67e4c2f925da" category="inline-xref-macro-rx"></block>。</block>
  <block id="d51cda04090807173fa2d8c07d9cd5c4" category="paragraph">此时将显示 " 分段 " 页面，其中会显示所有现有的 S3 分段。</block>
  <block id="f87c0dcc1d297c04d93cc37a7ebee9b1" category="image-alt">存储分段表</block>
  <block id="f1deb3cba9893fcceda69598e7256a79" category="list-text">选中要删除的空存储分段对应的复选框。您可以一次选择多个存储分段。</block>
  <block id="747590932e8ecb9b3b0321ca854b8ecc" category="paragraph">此时将启用操作菜单。</block>
  <block id="e4dfa02d66db187feacc18242b8f48bc" category="list-text">从操作菜单中，选择 * 删除存储分段 * （或者如果选择了多个存储分段 * ，则选择 * 删除存储分段 * ）。</block>
  <block id="04b00becedaf2635f14cad8c88b8489c" category="image-alt">删除分段按钮</block>
  <block id="6c96712e86840f4f1e95eb63b95b50aa" category="list-text">显示确认对话框时，选择 * 是 * 可删除您选择的所有存储分段。</block>
  <block id="c8938f447e5047b1dc90edef7e74f1a8" category="paragraph">StorageGRID 会确认每个存储分段均为空，然后删除每个存储分段。此操作可能需要几分钟时间。</block>
  <block id="0a429b16a7d8e6af23b159228f74247d" category="paragraph">如果存储分段不为空，则会显示一条错误消息。必须先删除所有对象，然后才能删除存储分段。</block>
  <block id="9db3e1de39257664b9a85df9c0c29eef" category="summary">如果您使用的是 S3 租户，并且您拥有相应的权限，则可以查看其他用户的 S3 访问密钥。您可以按到期时间对列表进行排序，以便确定哪些密钥不久将过期。您可以根据需要创建新密钥并删除不再使用的密钥。</block>
  <block id="7a672f32d33bc838fc1e06444d5c89ff" category="doc">查看其他用户的 S3 访问密钥</block>
  <block id="8cd4d4d3439c786e5d1b46c88e72f0ae" category="paragraph">如果您使用的是 S3 租户，并且您拥有相应的权限，则可以查看其他用户的 S3 访问密钥。您可以按到期时间对列表进行排序，以便确定哪些密钥不久将过期。您可以根据需要创建新密钥并删除不再使用的密钥。</block>
  <block id="7ed9939c1b16d0c158e59ae9aa0f4297" category="admonition">可以使用租户管理器中为用户显示的访问密钥 ID 和机密访问密钥来访问属于用户的 S3 存储分段和对象。因此，请像使用密码一样保护访问密钥。定期轮换访问密钥，从帐户中删除任何未使用的密钥，并且切勿与其他用户共享这些密钥。</block>
  <block id="6fb535c35d8876b25241b9204d656b87" category="list-text">选择 * 访问管理 * &gt; * 用户 * 。</block>
  <block id="20924ada97ab602eec55c9127d25dc27" category="paragraph">此时将显示 "Users" 页面，其中列出了现有用户。</block>
  <block id="e2ce9ff71aa5c838ac40adb4f425b967" category="list-text">选择要查看其 S3 访问密钥的用户。</block>
  <block id="e0b470d21bc20316fb187a6aedfcbf69" category="paragraph">此时将显示用户详细信息页面。</block>
  <block id="5a7b76d768dc4157f6562631a6943dd6" category="list-text">选择 * 访问密钥 * 。</block>
  <block id="ebf0a76ad2ea7ccfc4a4157a9ec8d1a7" category="image-alt">其他用户的访问密钥列表</block>
  <block id="5d58916155b93355999a6060a0b1464e" category="list-text">按 * 到期时间 * 或 * 访问密钥 ID* 对密钥进行排序。</block>
  <block id="95f3397c011cf9a214f8d4acc266cf60" category="list-text">根据需要创建新密钥并手动删除不再使用的密钥。</block>
  <block id="ff9ba368f5700e45b194a176b590bd29" category="paragraph">如果在现有密钥到期之前创建新密钥，则用户可以开始使用新密钥，而不会暂时丢失对帐户中对象的访问权限。</block>
  <block id="26f7418559195985903e1a115ea47a95" category="paragraph">过期密钥将自动删除。</block>
  <block id="7cb373c5a6bc8d9b5cddf119da043bcf" category="inline-xref-macro">创建其他用户的 S3 访问密钥</block>
  <block id="c0c8a7f8e41a5c579dba3a99026b1d8d" category="paragraph"><block ref="c0c8a7f8e41a5c579dba3a99026b1d8d" category="inline-xref-macro-rx"></block></block>
  <block id="097e18553a4f43f8b20e9d013a2a6b0e" category="inline-xref-macro">删除其他用户的 S3 访问密钥</block>
  <block id="b9a39563bf38fa7d2a2d4453fc626157" category="paragraph"><block ref="b9a39563bf38fa7d2a2d4453fc626157" category="inline-xref-macro-rx"></block></block>
  <block id="58980dcf2f578a42129a7d0d1fb927a6" category="summary">租户帐户允许您使用简单存储服务 \ （ S3\ ） REST API 或 Swift REST API 在 StorageGRID 系统中存储和检索对象。</block>
  <block id="01425150c2bb647eb9921e940b4e375b" category="doc">使用 StorageGRID 租户帐户</block>
  <block id="144673205f4b83bdfbac22ea60218241" category="paragraph">租户帐户允许您使用简单存储服务（ S3 ） REST API 或 Swift REST API 在 StorageGRID 系统中存储和检索对象。</block>
  <block id="ee439d82e8847cce8339e6974f037c51" category="paragraph">每个租户帐户都有自己的联合或本地组，用户， S3 分段或 Swift 容器以及对象。</block>
  <block id="343af55ca498ea36eb27d0fd9c40c08e" category="paragraph">也可以使用租户帐户按不同的实体隔离存储的对象。例如，以下任一使用情形均可使用多个租户帐户：</block>
  <block id="8ee8b77c647c66dbc6b8b7b068cc3086" category="list-text">* 企业用例： * 如果在企业中使用 StorageGRID 系统，则网格的对象存储可能会被组织中的不同部门隔离。例如，可能存在营销部门，客户支持部门，人力资源部门等的租户帐户。</block>
  <block id="c978ff73d1cf03e4bd3bb928bc9a1c8b" category="admonition">如果使用 S3 客户端协议，则还可以使用 S3 分段和分段策略在企业中的各个部门之间隔离对象。您无需创建单独的租户帐户。请参见有关实施 S3 客户端应用程序的说明。</block>
  <block id="92b7a13f00bd7e5d36d6316e08493f85" category="list-text">* 服务提供商用例： * 如果服务提供商正在使用 StorageGRID 系统，则网格的对象存储可能会被租用该存储的不同实体分隔。例如，可能存在公司 A ，公司 B ，公司 C 等的租户帐户。</block>
  <block id="b45224ad5418320059dcd140d5efe976" category="section-title">创建租户帐户</block>
  <block id="a8b0c8516a0eabcb7e14356d8cfc9121" category="paragraph">租户帐户由 StorageGRID 网格管理员使用网格管理器创建。创建租户帐户时，网格管理员会指定以下信息：</block>
  <block id="1b0d5d752c5acdb8119d9a24c1d747cf" category="list-text">租户帐户是使用 S3 还是 Swift 。</block>
  <block id="7a92efbc245ed929f6fd8b040d12527b" category="list-text">对于 S3 租户帐户：是否允许租户帐户使用平台服务。如果允许使用平台服务，则必须对网格进行配置，以支持使用这些服务。</block>
  <block id="bc80fd0a52d4ae57e1ed4eb6d89227a8" category="paragraph">此外，如果 S3 租户帐户需要符合法规要求，网格管理员可以为 StorageGRID 系统启用 S3 对象锁定设置。启用 S3 对象锁定后，所有 S3 租户帐户均可创建和管理合规的存储分段。</block>
  <block id="490e635fefee7034a1825664c11f0e24" category="section-title">配置 S3 租户</block>
  <block id="e182361729f32d365d792b8b82a7be44" category="paragraph">创建 S3 租户帐户后，您可以访问租户管理器以执行如下任务：</block>
  <block id="5c1e516f5148f81d4ff9d0738b4773de" category="list-text">设置身份联合（除非身份源与网格共享）或创建本地组和用户</block>
  <block id="7ce2c2ea704e6fd1bfcfde01b973769a" category="list-text">管理 S3 访问密钥</block>
  <block id="85662378a5aa72e6e0562159c7b79615" category="list-text">创建和管理 S3 存储分段，包括合规存储分段</block>
  <block id="0e1ca875428f285709ac899fd47ca73f" category="list-text">使用平台服务（如果已启用）</block>
  <block id="b816f5da7ad8c9edd0905ba4a6b6c25f" category="list-text">监控存储使用情况</block>
  <block id="21217e61196287c1acd298a0ab6407ca" category="admonition">虽然您可以使用租户管理器创建和管理 S3 存储分段，但您必须具有 S3 访问密钥，并使用 S3 REST API 载入和管理对象。</block>
  <block id="6a8e2002cb3f63592a14f5c7d2bb619e" category="section-title">配置 Swift 租户</block>
  <block id="1f27d06df9d756695b5dc34d02cfc52c" category="paragraph">创建 Swift 租户帐户后，具有 root 访问权限的用户可以访问租户管理器以执行如下任务：</block>
  <block id="a3380e7c89e9fc9d49fbaf3459fb3168" category="list-text">设置身份联合（除非身份源与网格共享），并创建本地组和用户</block>
  <block id="efa239514ae883b6456df258667cc675" category="admonition">Swift 用户必须具有 root 访问权限才能访问租户管理器。但是， " 根访问 " 权限不允许用户向 Swift REST API 进行身份验证以创建容器和载入对象。用户必须具有 Swift 管理员权限才能向 Swift REST API 进行身份验证。</block>
  <block id="1e46d812649b74d05b08d06f966ed603" category="summary">如果您的对象必须符合保留方面的法规要求，则可以使用 StorageGRID 中的 S3 对象锁定功能。</block>
  <block id="c7e393f751b545d1f09486e0fa2da1a3" category="doc">对租户使用 S3 对象锁定</block>
  <block id="ddf4f05f032ba67a293718cd6dc06cb8" category="section-title">什么是 S3 对象锁定？</block>
  <block id="8c0eebbb22769b183c41c21b4086b79c" category="paragraph">StorageGRID S3 对象锁定功能是一种对象保护解决方案 ，相当于 Amazon Simple Storage Service （ Amazon S3 ）中的 S3 对象锁定。</block>
  <block id="bb13632750127cc330d236c51e434a77" category="paragraph">如图所示，如果为 StorageGRID 系统启用了全局 S3 对象锁定设置，则 S3 租户帐户可以在启用或不启用 S3 对象锁定的情况下创建存储分段。如果某个存储分段启用了 S3 对象锁定，则 S3 客户端应用程序可以选择为该存储分段中的任何对象版本指定保留设置。对象版本必须具有指定的保留设置，以受 S3 对象锁定的保护。</block>
  <block id="60a0d0332897000746799a04ad6d5fd1" category="image-alt">S3 对象锁定架构</block>
  <block id="481b41bd11a2861f4b955102699eb1ef" category="paragraph">如果存储分段启用了 S3 对象锁定，则在创建或更新对象时， S3 客户端应用程序可以选择指定以下任一或两个对象级别保留设置：</block>
  <block id="c942cd2c766731340f77cd9fd93a13f3" category="list-text">* 保留至日期 * ：如果对象版本的保留至日期为未来日期，则可以检索该对象，但无法修改或删除它。可以根据需要增加对象的保留截止日期，但不能缩短此日期。</block>
  <block id="25ebc69b339d924e907446311a845053" category="list-text">* 合法保留 * ：对对象版本应用合法保留时，会立即锁定该对象。例如，您可能需要对与调查或法律争议相关的对象进行法律保留。合法保留没有到期日期，但在明确删除之前始终有效。合法保留与保留日期无关。</block>
  <block id="a090536446dd7f323460ddbd49c38c8d" category="inline-xref-macro">指定存储分段的默认保留模式和默认保留期限</block>
  <block id="6c31d6cf421f9000aba3e23b6a8f6c93" category="paragraph">您也可以 <block ref="e2c421d9a5703c6c664784d1045961cf" category="inline-xref-macro-rx"></block>。这些设置将应用于添加到存储分段中但不指定其自身保留设置的每个对象。</block>
  <block id="da2a22af73376f56508881edd4e1f5ef" category="inline-xref-macro">使用 S3 对象锁定</block>
  <block id="d6175014aeae5e73af965661bf52486f" category="paragraph">有关这些设置的详细信息，请参见 <block ref="020f67115fc39c5d750f0b4412f8960e" category="inline-xref-macro-rx"></block>。</block>
  <block id="da830190ddfdba33e8f9d75b3e699a34" category="section-title">管理旧版合规存储分段</block>
  <block id="991dd77c884012518e8b2e92f095f074" category="paragraph">S3 对象锁定功能取代了先前 StorageGRID 版本中提供的合规性功能。如果您使用早期版本的 StorageGRID 创建了合规的存储分段，则可以继续管理这些存储分段的设置；但是，您无法再创建新的合规存储分段。有关说明，请参见 NetApp 知识库文章。</block>
  <block id="e25dc5a011cbbedca73604cce6644f0c" category="section-title">S3 对象锁定工作流</block>
  <block id="4305dc180cd80a318dddb607894092a8" category="paragraph">工作流图显示了在 StorageGRID 中使用 S3 对象锁定功能的高级步骤。</block>
  <block id="af636de5151da9e519e1d24cf537ec54" category="inline-xref-macro">信息生命周期管理（ ILM ）策略</block>
  <block id="f98d87b7ed8a16e72749ddcd2d2b8695" category="paragraph">在启用了 S3 对象锁定的情况下创建分段之前，网格管理员必须为整个 StorageGRID 系统启用全局 S3 对象锁定设置。网格管理员还必须确保 <block ref="2e4042a7516c2124e0ddc5841b18a927" category="inline-xref-macro-rx"></block> 符合 "`合规` " ；它必须满足启用了 S3 对象锁定的分段的要求。有关详细信息，请联系网格管理员或查看有关通过信息生命周期管理来管理对象的说明。</block>
  <block id="9cb91580c1aadb4a7031ece0256b2b2e" category="paragraph">启用全局 S3 对象锁定设置后，您可以在启用了 S3 对象锁定的情况下创建存储分段。然后，您可以使用 S3 客户端应用程序为每个对象版本指定保留设置。</block>
  <block id="ba4cc9bac6d7138f1ff82151a19539e8" category="image-alt">S3 对象锁定工作流租户</block>
  <block id="c35522d1bc4fcadecb6b8c17b063cfa4" category="section-title">S3 对象锁定的要求</block>
  <block id="75ea4864da4a3f7d009ea2e460132c4c" category="paragraph">在为存储分段启用 S3 对象锁定之前，请查看 S3 对象锁定存储分段和对象的要求以及启用了 S3 对象锁定的存储分段中对象的生命周期。</block>
  <block id="edbdda11b4979d93ec091481036bc1e7" category="section-title">启用了 S3 对象锁定的存储分段的要求</block>
  <block id="086bcb9ed74eed551f854e828dc1a620" category="list-text">如果为 StorageGRID 系统启用了全局 S3 对象锁定设置，则可以使用租户管理器，租户管理 API 或 S3 REST API 创建启用了 S3 对象锁定的分段。</block>
  <block id="b5cdc539dcca7efbd723fbb868d91630" category="paragraph">此租户管理器示例显示了一个已启用 S3 对象锁定的存储分段。</block>
  <block id="cec20cf54263390f59b8cc8a885b07d8" category="image-alt">合规存储分段示例</block>
  <block id="62ba448a00e8a49e82df8e341764ca46" category="list-text">如果您计划使用 S3 对象锁定，则必须在创建存储分段时启用 S3 对象锁定。您不能为现有存储分段启用 S3 对象锁定。</block>
  <block id="bc94a01594e0b1161fd92aac30fa3180" category="list-text">S3 对象锁定需要分段版本。为存储分段启用 S3 对象锁定后， StorageGRID 会自动为该存储分段启用版本控制。</block>
  <block id="2070dd43d1c94e9cffb9009bdc7f2b69" category="list-text">在启用了 S3 对象锁定的情况下创建存储分段后，无法禁用 S3 对象锁定或暂停该存储分段的版本控制。</block>
  <block id="f9bf8c0d4619c7c3449ca72c63c201ce" category="list-text">您也可以为存储分段配置默认保留。上传对象版本时，默认保留将应用于对象版本。您可以通过在上传对象版本的请求中指定保留模式和保留至日期来覆盖存储分段默认值。</block>
  <block id="671d8015ce11ad4bed611a8668ea319b" category="list-text">S3 对象生命周期分段支持分段生命周期配置。</block>
  <block id="779da43588090e6eed5a84f08d8d8daf" category="list-text">启用了 S3 对象锁定的存储分段不支持 CloudMirror 复制。</block>
  <block id="fc5a6fa3da05f17d400c2fde6296ecd0" category="section-title">启用了 S3 对象锁定的分段中的对象的要求</block>
  <block id="1eccff4e472b0aad4f4c4ac4622b0a04" category="list-text">要保护对象版本， S3 客户端应用程序必须配置存储分段默认保留，或者在每个上传请求中指定保留设置。</block>
  <block id="04ea93a77d0bfa7222123046963ae550" category="list-text">您可以增加对象版本的保留截止日期，但不能减小此值。</block>
  <block id="309d493e59b095ea5970689b0753d42b" category="list-text">如果您收到有关待定法律诉讼或监管调查的通知，则可以通过对对象版本进行法律保留来保留相关信息。如果对象版本处于合法保留状态，则无法从 StorageGRID 中删除该对象，即使该对象已达到保留日期。一旦取消合法保留，如果已达到保留日期，则可以删除对象版本。</block>
  <block id="d7fe489a73957abe80b0eec69d652877" category="list-text">S3 对象锁定需要使用版本控制的分段。保留设置适用于各个对象版本。对象版本可以同时具有保留截止日期和合法保留设置，但不能具有其他设置，或者两者均不具有。为对象指定保留日期或合法保留设置仅保护请求中指定的版本。您可以创建新版本的对象，而先前版本的对象仍保持锁定状态。</block>
  <block id="4780abc6c98f68c0fb481a9d8bb68d38" category="section-title">启用了 S3 对象锁定的存储分段中的对象生命周期</block>
  <block id="64344592d3bb406e46e2edb636d20d6f" category="paragraph">保存在启用了 S3 对象锁定的存储分段中的每个对象将经历三个阶段：</block>
  <block id="27b3153218ebc23051cb9619c868f403" category="list-text">* 对象载入 *</block>
  <block id="4f6f75f454263b4c44615ec1c268b0d3" category="list-text">在启用了 S3 对象锁定的情况下，将对象版本添加到存储分段时， S3 客户端应用程序可以选择为此对象指定保留设置（ retene-until date ， legal hold 或两者）。然后， StorageGRID 会为此对象生成元数据，其中包括唯一对象标识符（ UUID ）以及载入日期和时间。</block>
  <block id="85fc2aff8e619f159a2b6c062bb7e84a" category="list-text">载入具有保留设置的对象版本后，将无法修改其数据和 S3 用户定义的元数据。</block>
  <block id="96220ec4b2e25066638a3a7e7f900630" category="list-text">StorageGRID 存储的对象元数据与对象数据无关。它会为每个站点上的所有对象元数据维护三个副本。</block>
  <block id="87fd7bfcfe605817578c95234e2b204a" category="list-text">* 对象保留 *</block>
  <block id="87eb0c2f4e447a1a7a5256ff5b7596f4" category="list-text">StorageGRID 会存储该对象的多个副本。副本的确切数量和类型以及存储位置取决于活动 ILM 策略中的合规规则。</block>
  <block id="96ea9aeeb3bfb736b9b415a475b8b1f2" category="list-text">* 对象删除 *</block>
  <block id="7c6776bcfca44d8565bdfe43a87206b5" category="list-text">达到保留截止日期后，可以删除对象。</block>
  <block id="e713ed58716d3cd21f0f70b63773362a" category="list-text">无法删除处于合法保留状态的对象。</block>
  <block id="9b2432c23b531f005342ea34936189ff" category="summary">必须至少创建一个正确类型的端点，然后才能启用平台服务。</block>
  <block id="2e8676942204ce3aaf843305b3b30d44" category="list-text">StorageGRID 管理员必须为您的租户帐户启用平台服务。</block>
  <block id="d1da0b4ede41b1cb5116ddefa56574f0" category="list-text">您必须属于具有管理端点权限的用户组。</block>
  <block id="3be467b1a0d584578ef14ddfddc0ad9c" category="list-text">必须已创建平台服务端点引用的资源：</block>
  <block id="194b2f97022920509bacb018d6fa86b5" category="list-text">CloudMirror 复制： S3 存储分段</block>
  <block id="69b9dcb56ff1e5eb3d67237ad4d180ca" category="list-text">事件通知： SnS 主题</block>
  <block id="b274580877f7bc851e630324cb1aaaaf" category="list-text">搜索通知： Elasticsearch index ，如果目标集群未配置为自动创建索引。</block>
  <block id="844a58d79fc74658266d1057054995e3" category="list-text">您必须具有有关目标资源的信息：</block>
  <block id="389164ce484a3ed0ad1d400cecef7caf" category="list-text">统一资源标识符（ URI ）的主机和端口</block>
  <block id="fb1084c83d7448067d9cc7c169246782" category="admonition">如果您计划使用 StorageGRID 系统上托管的存储分段作为 CloudMirror 复制的端点，请联系网格管理员以确定需要输入的值。</block>
  <block id="7f36be793e788cf4e12a4180acea72ce" category="list-text">唯一资源名称（ URN ）</block>
  <block id="fadc65af694ed4d245d36b6d0df2c515" category="inline-xref-macro">为平台服务端点指定 URN</block>
  <block id="f4a64f3d1012713e457720e48db3e876" category="paragraph"><block ref="f4a64f3d1012713e457720e48db3e876" category="inline-xref-macro-rx"></block></block>
  <block id="07672b2e35cfb0fbd67bc77d6a4d4861" category="list-text">身份验证凭据（如果需要）：</block>
  <block id="569ce45ffdb25fa0757a8dedd49e3bb7" category="list-text">访问密钥：访问密钥 ID 和机密访问密钥</block>
  <block id="88bc918552fe723961c6cc5eaa25d428" category="list-text">基本 HTTP ：用户名和密码</block>
  <block id="5f318e3f912769cfef1ac0d143e915ba" category="list-text">CAP （ C2S 访问门户）：临时凭据 URL ，服务器和客户端证书，客户端密钥以及可选的客户端专用密钥密码短语。</block>
  <block id="94d4add201372812478e2e6e7d15d5a3" category="list-text">安全证书（如果使用自定义 CA 证书）</block>
  <block id="1125f5bd6aa638c9b956604b38ac6514" category="list-text">选择 * 存储（ S3 ） * &gt; * 平台服务端点 * 。</block>
  <block id="04000eaba1c0183784d3585d9a609549" category="paragraph">此时将显示平台服务端点页面。</block>
  <block id="eb7c4854ea21c506bb8dbd5fc8159936" category="image-alt">平台服务端点空白页面</block>
  <block id="0d5838a58cd0f0c61dec0f9919fa5b8c" category="list-text">选择 * 创建端点 * 。</block>
  <block id="6f5034e2c373f2314ddf2ef8a7a0d467" category="image-alt">创建端点</block>
  <block id="2190bf185ee50a6f59070c507e3125d0" category="list-text">输入显示名称以简要说明端点及其用途。</block>
  <block id="9483c47135152a5208581f79223ef966" category="paragraph">端点支持的平台服务类型会显示在端点页面上列出的端点名称旁边，因此您无需在此名称中包含此信息。</block>
  <block id="1a0780ab75598e4a8b6a8c97077cb5c3" category="list-text">在 * URI * 字段中，指定端点的唯一资源标识符（ URI ）。</block>
  <block id="ed55c806c81e1e402cf834c707df2f2b" category="paragraph">请使用以下格式之一：</block>
  <block id="9cd9314021bb5dc819ae48a34b48b51a" category="paragraph">如果未指定端口，则端口 443 用于 HTTPS URI ，端口 80 用于 HTTP URI 。</block>
  <block id="a95788c819ee21c4932e87104b2c1f7a" category="paragraph">例如， StorageGRID 上托管的存储分段的 URI 可能为：</block>
  <block id="4a91c062901cba7ca5948aef12ae64db" category="paragraph">在此示例中， `s3.example.com` 表示 StorageGRID 高可用性（ HA ）组的虚拟 IP （ VIP ）的 DNS 条目， `10443` 表示负载平衡器端点中定义的端口。</block>
  <block id="33b562918e7ec33f14462d18e1f8302d" category="admonition">应尽可能连接到负载平衡节点的 HA 组，以避免单点故障。</block>
  <block id="4f4042bc806efe519e2a891d1eb56afc" category="paragraph">同样， AWS 上托管的存储分段的 URI 可能为：</block>
  <block id="aa2c3de24ea943d6169bfef14128bf3d" category="admonition">如果端点用于 CloudMirror 复制服务，请勿在 URI 中包含分段名称。您可以在 * URN* 字段中包含分段名称。</block>
  <block id="8cd69e662e718190475de27c4b72b4fd" category="list-text">输入端点的唯一资源名称（ URN ）。</block>
  <block id="a716698486e3bed8deca90c1961dd581" category="admonition">创建端点后，您无法更改端点的 URN 。</block>
  <block id="c4a65f9921a7817a913ca791e92eb59f" category="list-text">为 * 身份验证类型 * 选择一个值，然后输入或上传所需的凭据。</block>
  <block id="3fa75cb24818602259186a00d3d61fae" category="image-alt">创建端点—身份验证类型</block>
  <block id="ab5abe0cf9e4606368aa9d659fdfb39d" category="paragraph">您提供的凭据必须具有目标资源的写入权限。</block>
  <block id="188c9bad27f84e6fa6749495bf816b7c" category="cell">Authentication type</block>
  <block id="2daf1cb573c2c61422faf64610cf9402" category="cell">凭据</block>
  <block id="7079c72c21415131774625ba1d64f4b0" category="paragraph">匿名</block>
  <block id="77e7146dca221b86d9bce73b77647194" category="paragraph">提供对目标的匿名访问。仅适用于已禁用安全性的端点。</block>
  <block id="fab607475a9c75e783e804b4a78b4da8" category="paragraph">无身份验证。</block>
  <block id="2e3a68ed5a089edce456e8a3453a470d" category="paragraph">访问密钥</block>
  <block id="0a645835adb39dd97f78f6da84a072b8" category="paragraph">使用 AWS 模式的凭据对与目标的连接进行身份验证。</block>
  <block id="d407ce3c6418b602c5e62d17e75153e2" category="list-text">访问密钥 ID</block>
  <block id="864021d1cb190319b62722e58e59a8bf" category="list-text">机密访问密钥</block>
  <block id="4d23761ac41ef6c91177e699c556e995" category="paragraph">基本 HTTP</block>
  <block id="886e1f6bb18d64d485b417253d120b1f" category="paragraph">使用用户名和密码对目标连接进行身份验证。</block>
  <block id="f6039d44b29456b20f8f373155ae4973" category="list-text">Username</block>
  <block id="dc647eb65e6711e155375218212b3964" category="list-text">Password</block>
  <block id="f8899d8393deb2622a5d1168c73cbfe7" category="paragraph">CAP （ C2S 访问门户）</block>
  <block id="f3aa5563d089741b77778e28d16b49f0" category="paragraph">使用证书和密钥对目标连接进行身份验证。</block>
  <block id="8c143d4292ba7878efe65c1c1275413e" category="list-text">临时凭据 URL</block>
  <block id="9590ba32e1ab584e072ce2c2e4bde722" category="list-text">服务器 CA 证书（ PEM 文件上传）</block>
  <block id="08bd3ea3857a387846bd1d7de8859407" category="list-text">客户端证书（ PEM 文件上传）</block>
  <block id="75fcbd33387f1e2bf786181077c6ac7b" category="list-text">客户端专用密钥（ PEM 文件上传， OpenSSL 加密格式或未加密的专用密钥格式）</block>
  <block id="5e387077b4185d619348f395bee19cd8" category="list-text">客户端专用密钥密码短语（可选）</block>
  <block id="8307c61960500858912e103d12edf585" category="list-text">选择 * 验证服务器 * 单选按钮以选择如何验证与端点的 TLS 连接。</block>
  <block id="200a75e02795605b95b4bfba7e59ba29" category="image-alt">创建端点 - 验证证书</block>
  <block id="50030dc88e95d8035ed5b67e31ccec18" category="cell">证书验证的类型</block>
  <block id="109e11d11b14e7e5e373e24639fd035e" category="paragraph">使用自定义 CA 证书</block>
  <block id="744a9b25a42116fd209e212a5a431799" category="paragraph">使用自定义安全证书。如果选择此设置，请在 * CA 证书 * 文本框中复制并粘贴自定义安全证书。</block>
  <block id="fa390c21f61ab4c43e8baeb591403513" category="paragraph">使用操作系统 CA 证书</block>
  <block id="322732c6ced0ff86e60223b96ea7caa8" category="paragraph">使用操作系统上安装的默认网格 CA 证书来保护连接。</block>
  <block id="b6a293af199641274d1545dc1b1ee9c9" category="paragraph">请勿验证证书</block>
  <block id="8073630b67eac5d1e0035a1f1481febf" category="paragraph">未验证用于 TLS 连接的证书。此选项不安全。</block>
  <block id="227c051539c99ce1d8710bfbd6130874" category="list-text">选择 * 测试并创建端点 * 。</block>
  <block id="a551da12bc0c293e2a9025c1bccbbc8f" category="list-text">如果可以使用指定凭据访问端点，则会显示一条成功消息。系统会从每个站点的一个节点验证与端点的连接。</block>
  <block id="57f5bd24d7d78d8863a8a0f604e32cd1" category="list-text">如果端点验证失败，则会显示一条错误消息。如果需要修改端点以更正错误，请选择 * 返回到端点详细信息 * 并更新此信息。然后，选择 * 测试并创建端点 * 。</block>
  <block id="9664c2a64cb2b664f309da588934a7aa" category="admonition">如果未为租户帐户启用平台服务，则端点创建将失败。请与 StorageGRID 管理员联系。</block>
  <block id="b2b509c899e33167a013b9c4c6982a7c" category="paragraph">配置端点后，您可以使用其 URN 配置平台服务。</block>
  <block id="7e325b4129f19b6582a079197f4b0ac0" category="inline-xref-macro">配置 CloudMirror 复制</block>
  <block id="08098fd3a31f2cf0d7bb4ad28c56ac9b" category="paragraph"><block ref="08098fd3a31f2cf0d7bb4ad28c56ac9b" category="inline-xref-macro-rx"></block></block>
  <block id="24b31d4189da5b2313d8a3344126eafc" category="inline-xref-macro">配置事件通知</block>
  <block id="7026c152c8bb95a18d9b487547763a93" category="paragraph"><block ref="7026c152c8bb95a18d9b487547763a93" category="inline-xref-macro-rx"></block></block>
  <block id="ef8729eacc0a5ca64872ffd6cae06935" category="summary">您可以查看租户帐户中的分段和分段设置列表。</block>
  <block id="e3e858ebe0d4cd98c72dbcb326829a75" category="doc">查看 S3 存储分段详细信息</block>
  <block id="685b40f95b10a46edcfa118a414380b2" category="paragraph">此时将显示 " 分段 " 页面，其中列出了租户帐户的所有分段。</block>
  <block id="ed211e90fbcd2cc1407013eaff9231a1" category="list-text">查看每个存储分段的信息。</block>
  <block id="f187b73564ece2d299c300e65d04f448" category="paragraph">您可以根据需要按任何列对信息进行排序，也可以在列表中向前和向后翻页。</block>
  <block id="a538335d8dbe6d79396225a8461a5047" category="list-text">name ：存储分段的唯一名称，不能更改。</block>
  <block id="1a027274b9ab32ad364a5e2764dfc04f" category="list-text">S3 对象锁定：是否为此存储分段启用了 S3 对象锁定。</block>
  <block id="f88ed64beb12ae01d0fa178e435679c1" category="paragraph">如果禁用全局 S3 对象锁定设置，则不会显示此列。此列还会显示任何旧版合规存储分段的信息。</block>
  <block id="f8ee2173113ef4e8c2e3b8907bd4ec84" category="list-text">区域：分段的区域，无法更改。</block>
  <block id="83cc42c578be416f70ea8dfebc7f3137" category="list-text">Object Count ：此分段中的对象数。</block>
  <block id="f7f95919c1fd25bdda6d10a6a20149da" category="list-text">已用空间：此分段中所有对象的逻辑大小。逻辑大小不包括复制的或经过纠删编码的副本或对象元数据所需的实际空间。</block>
  <block id="f8bb927bce4af0a3df8d94bf9ff51c07" category="list-text">Date created ：创建存储分段的日期和时间。</block>
  <block id="0cd91c8e60c3527b7c63c9a7e5a084c7" category="admonition">显示的对象计数和已用空间值为估计值。这些估计值受载入时间，网络连接和节点状态的影响。如果分段启用了版本控制，则删除的对象版本将包含在对象计数中。</block>
  <block id="aa1558291f323e1bb943514022b9ccd8" category="list-text">要查看和管理存储分段的设置，请选择存储分段名称。</block>
  <block id="f7510fd3fa9a33083b9c16fda3db7751" category="inline-xref-macro">平台服务</block>
  <block id="b572ffb7c61ec6b0db84ae5fc98011f8" category="paragraph">您可以通过存储分段详细信息页面查看和编辑存储分段选项，存储分段访问和的设置 <block ref="a474083eafb12b01acc542e7cab5ab7f" category="inline-xref-macro-rx"></block>。</block>
  <block id="2d640c04212b95b301210f07b08ca17a" category="image-alt">存储分段详细信息页面</block>
  <block id="067e4689a9a8e40282fa9d6848ab459a" category="summary">您可以通过使用 CSRF 令牌增强使用 Cookie 的身份验证，帮助防止 StorageGRID 受到跨站点请求伪造 \ （ CSRF\ ）攻击。网格管理器和租户管理器会自动启用此安全功能；其他 API 客户端可以选择在登录时是否启用此功能。</block>
  <block id="e094fa8370e3e1bb66e0ce64183f49d0" category="doc">防止跨站点请求伪造（ CSRF ）</block>
  <block id="1c4e0a3638e16a9280bf8c158e42972b" category="paragraph">您可以通过使用 CSRF 令牌增强使用 Cookie 的身份验证，帮助防止 StorageGRID 受到跨站点请求伪造（ CSRF ）攻击。网格管理器和租户管理器会自动启用此安全功能；其他 API 客户端可以选择在登录时是否启用此功能。</block>
  <block id="42a16c81ec6a2d59d9d0305375f90ed8" category="paragraph">如果攻击者可能触发对其他站点的请求（例如使用 HTTP 表单发布），则可以对使用已登录用户的 cookie 发出的某些请求进行发生原因 处理。</block>
  <block id="f7422bd4f8a5a83c0c914db0a6e2cace" category="paragraph">StorageGRID 可通过使用 CSRF 令牌帮助防止 CSRF 攻击。启用后，特定 Cookie 的内容必须与特定标题或特定后处理正文参数的内容匹配。</block>
  <block id="7b2d34855ddb2d40b6298a064782784a" category="paragraph">要启用此功能，请在身份验证期间将 `csrfToken` 参数设置为 `true` 。默认值为 `false` 。</block>
  <block id="143af98266f8925868e4dadc7cd8b32c" category="paragraph">如果为 true ，则使用随机值为 `GridCsrfToken` cookie 设置网格管理器登录，并使用随机值为 `AccountCsrfToken` cookie 设置为登录租户管理器。</block>
  <block id="1e96c38e7197d694badf5d7ca41575db" category="paragraph">如果存在 Cookie ，则可以修改系统状态的所有请求（ POST ， PUT ， patch ， delete ）都必须包括以下项之一：</block>
  <block id="c16655e8b3f78bb70db770f01a67cc98" category="list-text">`X-CSRF-Token` 标头，标头的值设置为 CSRF 令牌 cookie 的值。</block>
  <block id="d90a7ce45552a4a50386828c6dcd9a19" category="list-text">对于接受表单编码正文的端点： a `csrfToken` form-enc编码 请求正文参数。</block>
  <block id="b423f6ccddc290a2348f6aff0fbf0202" category="inline-xref-macro">网格管理 API</block>
  <block id="26a19935a46339e2e41560015f7f74c3" category="paragraph">要配置 CSRF 保护，请使用 <block ref="dd896ff38a5ba5e8127a6525f93f5a47" category="inline-xref-macro-rx"></block> 或 <block ref="be1c7a7fea8cb8bb64f2fc5e41bfec2a" category="inline-xref-macro-rx"></block>。</block>
  <block id="000ae05a8b90f159042ace1e916dfc00" category="admonition">设置了 CSRF 令牌 cookie 的请求还会对任何希望 JSON 请求正文作为额外保护来抵御 CSRF 攻击的请求强制使用 ` "Content-Type ： application/json"` 标头。</block>
  <block id="9f46d7fb170075c3ac77e90184e3e9ba" category="summary">如果您使用的是 S3 租户，则可以使用租户管理器或租户管理 API 来更改对 S3 分段中的对象执行的操作的一致性控制。</block>
  <block id="dabb301469d68f70dd8992a02ea0c77e" category="paragraph">一致性级别可以在对象的可用性与这些对象在不同存储节点和站点之间的一致性之间进行权衡。通常，您应该对存储分段使用 * 读 - 后 - 新 - 写 * 一致性级别。如果 * 读后新写入 * 一致性级别不符合客户端应用程序的要求，您可以通过设置存储分段一致性级别或使用 `consistency Control` 标头来更改一致性级别。`consistency Control` 标题将覆盖存储分段一致性级别。</block>
  <block id="a70ac42e20ef0860dfa79a2cba2d1a54" category="admonition">更改存储分段的一致性级别时，只会保证更改后载入的对象符合修订后的级别。</block>
  <block id="0ea5a03abe7e6685e9195417e5df0f72" category="list-text">选择 * 分段选项 * &gt; * 一致性级别 * 。</block>
  <block id="64397951a66997113a7c0cee1d97acae" category="list-text">为此存储分段中的对象选择一个一致性级别。</block>
  <block id="b1c94ca2fbc3e78fc30069c8d0f01680" category="paragraph">全部</block>
  <block id="7371ead14b7d631142a89d6a115088a6" category="paragraph">强大的全局功能</block>
  <block id="fbca1c0ceedff8a87c2d15d7f4f2a1db" category="paragraph">强大的站点</block>
  <block id="be2b3220500d97773106d6100d801e93" category="paragraph">Read-after-new-write （默认）</block>
  <block id="a3da2dcdb5dea966f58fa0f8ce07e0e1" category="paragraph">为新对象提供读写一致性，并最终为对象更新提供一致性。提供高可用性和数据保护保证。最符合 Amazon S3 一致性保证。</block>
  <block id="ab256c23403cbb9ffcafd8f23e293ce8" category="paragraph">* 注意： * 如果应用程序尝试对不存在的密钥执行 head 或 get 操作，请将一致性级别设置为 * 可用 * ，除非您需要 Amazon S3 一致性保证。否则，如果一个或多个存储节点不可用，则可能会出现大量 500 个内部服务器错误。</block>
  <block id="f73068e9b9969cb290a72ca63ed3f42f" category="paragraph">可用（机头或 GET 操作的最终一致性）</block>
  <block id="6873513d4056d0c92380a77d592694d8" category="paragraph">行为与 * 读后新写入 * 一致性级别相同，但可为 head 和 get 操作提供最终一致性。如果存储节点不可用，则与 * 读后新写入 * 相比，可为机头和 GET 操作提供更高的可用性。与 Amazon S3 对机头和 GET 操作的一致性保证不同。</block>
  <block id="a52a1ece1a066d1572a9427c15bc96f5" category="summary">在创建租户组之前，请考虑要分配给该组的权限。租户管理权限用于确定用户可以使用租户管理器或租户管理 API 执行的任务。一个用户可以属于一个或多个组。如果用户属于多个组，则权限是累积的。</block>
  <block id="1d04ff1e0a72ea0fd4bf19ce074f7ac5" category="paragraph">要登录到租户管理器或使用租户管理 API ，用户必须属于至少具有一个权限的组。所有可以登录的用户均可执行以下任务：</block>
  <block id="f53ae02eb4baac7b3f1fe6153fd97c20" category="list-text">查看信息板</block>
  <block id="72fbebfb67861dcf30e0bcd3cfb56608" category="list-text">更改自己的密码（适用于本地用户）</block>
  <block id="c48c9a869fd4a47a1627fde4a3903d82" category="paragraph">对于所有权限，组的访问模式设置将确定用户是否可以更改设置并执行操作，或者是否只能查看相关设置和功能。</block>
  <block id="26ce8841fcfa2aaba135270690bdbf95" category="admonition">如果用户属于多个组，并且任何组设置为只读，则用户将对所有选定设置和功能具有只读访问权限。</block>
  <block id="cc1382edab76fc7c919c2cfab65c325f" category="paragraph">您可以为组分配以下权限。请注意， S3 租户和 Swift 租户具有不同的组权限。由于缓存，更改可能需要长达 15 分钟才能生效。</block>
  <block id="ed5dea09095f671b801bee34ea28a319" category="cell">权限</block>
  <block id="677c422f11e77a5df1d44e4f6c517954" category="paragraph">根访问</block>
  <block id="b76378f4b389af5d44f4dafbd0b80738" category="paragraph">提供对租户管理器和租户管理 API 的完全访问权限。</block>
  <block id="38787037f4965cc8d848f7403eb03158" category="paragraph">* 注： * Swift 用户必须具有 root 访问权限才能登录到租户帐户。</block>
  <block id="7b7bc2512ee1fedcd76bdc68926d4f7b" category="paragraph">管理员</block>
  <block id="d3387c3ca30584d3d7b26572b3ef1b29" category="paragraph">仅限 Swift 租户。提供对此租户帐户的 Swift 容器和对象的完全访问权限</block>
  <block id="a3c441523035f7708f4fbd07eeb5a207" category="paragraph">* 注： * Swift 用户必须具有 Swift 管理员权限才能使用 Swift REST API 执行任何操作。</block>
  <block id="e19eb42d2af6802c3223c8c7680174e4" category="paragraph">管理您自己的 S3 凭据</block>
  <block id="93b5fc17a010bdb23547de0fdd586fd4" category="paragraph">仅限 S3 租户。允许用户创建和删除自己的 S3 访问密钥。没有此权限的用户不会看到 * 存储（ S3 ） * &gt; * 我的 S3 访问密钥 * 菜单选项。</block>
  <block id="7b5d814effc46127bcb5ada65e613c7e" category="paragraph">管理所有分段</block>
  <block id="1a90aac55e192bf9cb41f04b1f630724" category="list-text">S3 租户：允许用户使用租户管理器和租户管理 API 创建和删除 S3 存储分段，并管理租户帐户中所有 S3 存储分段的设置，而不管 S3 存储分段或组策略如何。</block>
  <block id="706fa3bd923223a6e165a3d2e5fb0cda" category="paragraph">没有此权限的用户不会看到 * 分段 * 菜单选项。</block>
  <block id="56fa62d345a172d4a6d1560023236bfd" category="list-text">Swift 租户：允许 Swift 用户使用租户管理 API 控制 Swift 容器的一致性级别。</block>
  <block id="b1de8f19ec2f9df2e558c1464d2afd2b" category="paragraph">* 注意： * 您只能通过租户管理 API 为 Swift 组分配 " 管理所有分段 " 权限。您不能使用租户管理器将此权限分配给 Swift 组。</block>
  <block id="fb68c1689de4d4300c3d2213983c95aa" category="paragraph">管理端点</block>
  <block id="82c21ac9a31bda14adea5220fe863ad4" category="paragraph">仅限 S3 租户。允许用户使用租户管理器或租户管理 API 创建或编辑端点，这些端点用作 StorageGRID 平台服务的目标。</block>
  <block id="4269e51bdb909b196d5241609443d25b" category="paragraph">没有此权限的用户不会看到 * 平台服务端点 * 菜单选项。</block>
  <block id="952d6c96443c4faa2469aaa0496087a6" category="summary">使用身份联合可以加快租户组和用户的设置速度，并允许租户用户使用熟悉的凭据登录到租户帐户。</block>
  <block id="77f1ba9b9956e518db1614819a857abc" category="section-title">为租户管理器配置身份联合</block>
  <block id="64805e1bb1d577974577d731cf1f9195" category="paragraph">如果您希望在 Active Directory ， Azure Active Directory （ Azure AD ）， OpenLDAP 或 Oracle Directory Server 等其他系统中管理租户组和用户，则可以为租户管理器配置身份联合。</block>
  <block id="d093a59c3494b4ab76ebfbd06fbc8f39" category="list-text">您将使用登录到租户管理器 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="992531c5e6c74f08bf8bbc0854e7b3f0" category="list-text">您正在使用 Active Directory ， Azure AD ， OpenLDAP 或 Oracle Directory Server 作为身份提供程序。</block>
  <block id="854c00f871305f2bf25e407f57134762" category="admonition">如果要使用未列出的 LDAP v3 服务，请联系技术支持。</block>
  <block id="417b3a80db0f7a390a0acbaf55d4911e" category="list-text">如果您计划使用 OpenLDAP ，则必须配置 OpenLDAP 服务器。请参见 <block ref="e0fd10a15a17e7876f47aaafb5c43e2d" category="inline-xref-macro-rx"></block>。</block>
  <block id="5c091c58af9f43cdf17112ef408362cf" category="inline-xref-macro">支持传出 TLS 连接的密码</block>
  <block id="070255df6488278bbd12466f4fcd3972" category="list-text">如果您计划使用传输层安全（ Transport Layer Security ， TLS ）与 LDAP 服务器进行通信，则身份提供程序必须使用 TLS 1.2 或 1.3 。请参见 <block ref="09e8f6a96cb735eb5f88f3e22f4e0d45" category="inline-xref-macro-rx"></block>。</block>
  <block id="439de09ebfe029cfac69f9d91ccc5b91" category="paragraph">是否可以为租户配置身份联合服务取决于租户帐户的设置方式。您的租户可能会共享为网格管理器配置的身份联合服务。如果您在访问身份联合页面时看到此消息，则无法为此租户配置单独的联合身份源。</block>
  <block id="c1ac2b0a432db77430b4d1d2de4ced41" category="image-alt">租户共享身份联合</block>
  <block id="7d591cf73d5e4784f7025d640fcba294" category="section-title">进入配置</block>
  <block id="d9e317a6568e672d1b2c614f4b3ac79b" category="list-text">选择 * 访问管理 * &gt; * 身份联合 * 。</block>
  <block id="bfd889ad68947e69b3dde52c9f2e7cca" category="section-title">强制与身份源同步</block>
  <block id="a78f7793f73a2a4b6bbcdaacbc6f516c" category="section-title">禁用身份联合</block>
  <block id="34a504f70dc04c4538cdb3f529617d2a" category="summary">您可以从系统中删除组。仅属于该组的任何用户将无法再登录到租户管理器或使用租户帐户。</block>
  <block id="14d65465b75a0ec3382e3a92a4c07188" category="doc">删除组</block>
  <block id="e41bdd2c5e8ffd4e1700caf2058a5574" category="list-text">您必须属于具有 root 访问权限的用户组。请参见 <block ref="5b9f1b5a99edd0f1dc1967c03fbeba87" category="inline-xref-macro-rx"></block>。</block>
  <block id="9d311b4241ba2ca9e7427c3b00128e7c" category="list-text">选择 * 访问管理 * &gt; * 组 * 。</block>
  <block id="f081c5e6f3ba5c04afd776dad4e2ede9" category="image-alt">访问控制 &gt; 组页面的屏幕截图</block>
  <block id="f822b7429d4da5232408f2f8798f01cc" category="list-text">选中要删除的组对应的复选框。</block>
  <block id="aec2db6e0b0126fb2e570242c811859f" category="list-text">选择 * 操作 * &gt; * 删除组 * 。</block>
  <block id="40b34524aca601446366a8d381fdbbb9" category="paragraph">此时将显示一条确认消息。</block>
  <block id="0945ecfa608e8307b5dd22fc55d36bfe" category="list-text">选择 * 删除组 * 确认要删除确认消息中指示的组。</block>
  <block id="7c2d16853a62af50b2dc7711185e608f" category="summary">创建平台服务端点时，必须指定唯一的资源名称 \ （ URN\ ）。在为平台服务创建配置 XML 时，您将使用 URN 引用此端点。每个端点的 URN 必须是唯一的。</block>
  <block id="907a4a682d653c5475f88730d736364c" category="paragraph">创建平台服务端点时，必须指定唯一资源名称（ URN ）。在为平台服务创建配置 XML 时，您将使用 URN 引用此端点。每个端点的 URN 必须是唯一的。</block>
  <block id="55e9ea1138ddd931b3496b450bd8b2e2" category="paragraph">StorageGRID 会在您创建平台服务端点时对其进行验证。在创建平台服务端点之前，请确认此端点中指定的资源存在且可访问。</block>
  <block id="f8faf1917edc8ff30c4435cd4c55dc7a" category="section-title">urn 元素</block>
  <block id="87affcab28651783529103371e1d6829" category="paragraph">平台服务端点的 URN 必须以 `arn ： AWS` 或 `urn ： mysite` 开头，如下所示：</block>
  <block id="3be3bf3cc7a928f6de10965be41baba1" category="list-text">如果此服务托管在 Amazon Web Services （ AWS ）上，请使用 `arn ： AWS` 。</block>
  <block id="683ede52c1582db563427d95d2e3e51e" category="list-text">如果此服务托管在 Google Cloud Platform （ GCP ）上，请使用 `arn ： AWS` 。</block>
  <block id="74711b19650ba8f656e0439cd735aefa" category="list-text">如果服务托管在本地，请使用 `urn ： mysite`</block>
  <block id="82d6eeec9538a1eec1ff4680cb6d807e" category="paragraph">例如，如果要为 StorageGRID 上托管的 CloudMirror 端点指定 URN ，则 URN 可能以 `urn ： sgws` 开头。</block>
  <block id="c1ec3b83281391429f2df02caa520bc5" category="paragraph">URN 的下一个元素用于指定平台服务的类型，如下所示：</block>
  <block id="c0828e0381730befd1f7a025057c74fb" category="cell">S3</block>
  <block id="6002c6713f40e8a35d365605542e72b0" category="cell">SnS</block>
  <block id="12470fe406d44017d96eab37dd65fc14" category="cell">ES</block>
  <block id="bc5f229c7cdf6aa8b6bbf942ba9f9039" category="paragraph">例如，要继续为 StorageGRID 上托管的 CloudMirror 端点指定 URN ，您应添加 `s 3` 以获取 `urn ： sgws ： S3` 。</block>
  <block id="8245d210d4e30e1a922c5df4955cd736" category="paragraph">URN 的最后一个元素用于标识目标 URI 上的特定目标资源。</block>
  <block id="e6e84e4970cb2f91fac914024e7baf80" category="cell">特定资源</block>
  <block id="0d30b346d18868589e10a152190c44de" category="cell">分段名称</block>
  <block id="5eb86c1ff69173e55d6c83230709f3f5" category="cell">Sns-topic-name</block>
  <block id="4e47b9a14d4b9f9c90dbecc73f652456" category="paragraph">`domain-name/index-name/type-name`</block>
  <block id="06a6f67fcb2330a3b9a6146c98f36249" category="paragraph">* 注意： * 如果 Elasticsearch 集群已配置为 * 不 * 自动创建索引，则必须在创建端点之前手动创建索引。</block>
  <block id="0874ed4160f85f717519b8c5dce78d85" category="section-title">AWS 和 GCP 上托管的服务的 urns</block>
  <block id="d9e8a25358ae65ba09a05739071d50e8" category="paragraph">对于 AWS 和 GCP 实体，完整的 URN 是有效的 AWS ARN 。例如：</block>
  <block id="d1a8878552b816f132de0c326deddb01" category="list-text">CloudMirror 复制：</block>
  <block id="858869ea11eab28729acbab8a4e5a95b" category="list-text">通知：</block>
  <block id="627fbbc2ee550b7de4c886a44fd27033" category="list-text">搜索集成：</block>
  <block id="11941ff0b18808e46ffa4e1145301120" category="admonition">对于 AWS 搜索集成端点， `domain-name` 必须包含文字字符串 `domain/` ，如下所示。</block>
  <block id="e29a9d2c2ab1b146dbe83fa9755fed4e" category="section-title">用于本地托管服务的 urns</block>
  <block id="a92f02451e2902d78a3cc4b2d5606d54" category="paragraph">使用本地托管的服务而非云服务时，只要 URN 在第三个和最后一个位置包含所需的元素，您就可以以任何方式指定 URN 以创建有效且唯一的 URN 。您可以将可选元素留空，也可以通过任何方式指定这些元素，以帮助您标识资源并使 URN 具有唯一性。例如：</block>
  <block id="26e46f4f8f4c5e450ca70c38d1b5f993" category="paragraph">对于 StorageGRID 上托管的 CloudMirror 端点，您可以指定以 `urn ： sgws` 开头的有效 URN ：</block>
  <block id="41cd3a23ae202185e1a549beda0188d9" category="admonition">对于本地托管的搜索集成端点，只要端点的 URN 是唯一的， `domain-name` element 就可以是任意字符串。</block>
  <block id="f99bcff4802a0725a409b4d01f8a5f72" category="summary">查看组的详细信息时，您可以更改组的显示名称，权限，策略以及属于该组的用户。</block>
  <block id="86345c4000315c5e7a12d616e7eb125d" category="doc">查看和编辑组详细信息</block>
  <block id="24d94c1c099c935d64f8486e90acd9f8" category="paragraph">查看组的详细信息时，您可以更改组的显示名称，权限，策略以及属于该组的用户。</block>
  <block id="c8ea39b53f03a327b3243bd4327e5830" category="list-text">您必须属于具有 root 访问权限的用户组。</block>
  <block id="652f90e1e0cd7330da486f754aa40aee" category="list-text">选择要查看或编辑其详细信息的组的名称。</block>
  <block id="b461fdbe720919948efdf0c9061e2a79" category="paragraph">或者，您也可以选择 * 操作 * &gt; * 查看组详细信息 * 。</block>
  <block id="6b4cf7ae6177dc52ba261712eda0149c" category="paragraph">此时将显示组详细信息页面。以下示例显示了 S3 组详细信息页面。</block>
  <block id="542681d1cbeca7ffd4385db1277fa554" category="image-alt">查看组详细信息</block>
  <block id="597cfb67a487bccdbbcd51a75ed93d6e" category="list-text">根据需要更改组设置。</block>
  <block id="eb8b7f00f2370e5ccaf6d82852a009bd" category="admonition">要确保更改已保存，请在每个部分进行更改后选择 * 保存更改 * 。保存所做的更改后，页面右上角将显示一条确认消息。</block>
  <block id="4a164e15ba62af76d729485ca4c6f217" category="list-text">也可以选择显示名称或编辑图标 <block ref="b67b468b391ab50f9ec30894cf44ee94" category="inline-image-macro-rx" type="image"></block> 更新显示名称。</block>
  <block id="0b43a63b2b7cf38886895e3575866d50" category="paragraph">您不能更改组的唯一名称。您不能编辑联合组的显示名称。</block>
  <block id="1cc9948bbb5bf4516b19425a07d08dc4" category="list-text">也可以更新权限。</block>
  <block id="d439fc9ad20cf3bd9681a76a5f4acb6d" category="list-text">对于组策略，请为 S3 或 Swift 租户进行相应的更改。</block>
  <block id="82a8eef89f691246a8ab5a43a2f5821f" category="list-text">如果要编辑 S3 租户的组，也可以选择其他 S3 组策略。如果选择自定义 S3 策略，请根据需要更新 JSON 字符串。</block>
  <block id="a6b899527834863dd8c47b7ce5d4ab76" category="list-text">如果要编辑 Swift 租户的组，也可以选中或取消选中 * Swift 管理员 * 复选框。</block>
  <block id="0988d098713f906f80d3d33437b1bfa3" category="paragraph">有关 Swift 管理员权限的详细信息，请参见有关为 Swift 租户创建组的说明。</block>
  <block id="71cd33b1fcb60e8d908b8f4f4b6436f9" category="list-text">也可以添加或删除用户。</block>
  <block id="ee469dae7249241b12419dd52beb55a5" category="list-text">确认您已为更改的每个部分选择 * 保存更改 * 。</block>
  <block id="9bed38dd4644e47a0ca615d6a2fc1022" category="paragraph">由于缓存，更改可能需要长达 15 分钟才能生效。</block>
  <block id="35f821fd78ec96499085c541f9303289" category="inline-xref-macro">为 S3 租户创建组</block>
  <block id="403709db105bae135f2033cf8d950f3e" category="paragraph"><block ref="403709db105bae135f2033cf8d950f3e" category="inline-xref-macro-rx"></block></block>
  <block id="93c88e4f32d1b9e82e64c5fdf801de78" category="inline-xref-macro">为 Swift 租户创建组</block>
  <block id="99f94b8ae9ce8addae1fc19b7dbd9f26" category="paragraph"><block ref="99f94b8ae9ce8addae1fc19b7dbd9f26" category="inline-xref-macro-rx"></block></block>
  <block id="5667cf8573c49152407009f8f158033d" category="summary">通知服务是三种 StorageGRID 平台服务之一。您可以为存储分段启用通知，以便将有关指定事件的信息发送到支持 AWS Simple Notification Service （ AWS Simple Notification Service ）的目标服务。</block>
  <block id="95423327cd753c28af7057ea716d0288" category="paragraph">通知服务是三种 StorageGRID 平台服务之一。您可以为存储分段启用通知，以便将有关指定事件的信息发送到支持 AWS Simple Notification Service （ SNS ）的目标服务。</block>
  <block id="4c6e17e9629fa1e727cc655fbe078d43" category="list-text">您必须已创建一个存储分段，才能用作通知源。</block>
  <block id="15958204ec8692caff0092c193278938" category="list-text">要用作事件通知目标的端点必须已存在，并且必须具有其 URN 。</block>
  <block id="67c5ea47fd331d674ebca9744c13516e" category="list-text">您必须属于具有 " 管理所有分段 " 或 " 根访问 " 权限的用户组，此权限允许您管理租户帐户中所有 S3 分段的设置。使用租户管理器配置存储分段时，这些权限会覆盖组或存储分段策略中的权限设置。</block>
  <block id="39e77282977f3fcf24e4f06b10f238c6" category="paragraph">配置事件通知后，每当源存储分段中的某个对象发生指定事件时，都会生成一个通知，并将其发送到用作目标端点的简单通知服务（ SNS ）主题。要为存储分段启用通知，必须创建并应用有效的通知配置 XML 。通知配置 XML 必须使用每个目标的事件通知端点的 URN 。</block>
  <block id="7590f647a3b61d050fd5c80374d3d521" category="paragraph">有关事件通知以及如何配置这些通知的一般信息，请参见 Amazon 文档。有关 StorageGRID 如何实施 S3 存储分段通知配置 API 的信息，请参见实施 S3 客户端应用程序的说明。</block>
  <block id="317a147990ea8868751cae6e83ed87a3" category="paragraph">如果为包含对象的存储分段启用事件通知，则仅会为保存通知配置后执行的操作发送通知。</block>
  <block id="c3f55c3d709cc41b0b74edcbcd6c503f" category="list-text">为源存储分段启用通知：</block>
  <block id="19b061231eb3946e55d90860ff3d55c9" category="list-text">使用文本编辑器创建启用 S3 通知 API 中指定的事件通知所需的通知配置 XML 。</block>
  <block id="84ce83b7b8474b3464771b6d60e61e64" category="list-text">配置 XML 时，请使用事件通知端点的 URN 作为目标主题。</block>
  <block id="0ba75cd36548f1c8f1cbfe06a79640b4" category="list-text">在租户管理器中，选择 * 存储（ S3 ） * &gt; * 分段 * 。</block>
  <block id="69300f4d81a07a9b536bfe0a8ad467fb" category="list-text">选择源存储分段的名称。</block>
  <block id="17e6ac8894cfee1967a56b746f60878f" category="list-text">选择 * 平台服务 * &gt; * 事件通知 * 。</block>
  <block id="6710b06c80865bc5ed36ee577263a16c" category="list-text">选中 * 启用事件通知 * 复选框。</block>
  <block id="de131eb1b6d47f82783e2681ab3d93d7" category="list-text">将通知配置 XML 粘贴到文本框中，然后选择 * 保存更改 * 。</block>
  <block id="ca652441b7e400d5eaffe48cddbe0fcc" category="image-alt">事件通知配置对话框的屏幕截图</block>
  <block id="45be17f06b274a8a714532d1d7ed5f01" category="admonition">StorageGRID 管理员必须使用网格管理器或网格管理 API 为每个租户帐户启用平台服务。如果保存配置 XML 时发生错误，请联系 StorageGRID 管理员。</block>
  <block id="f46183af12109879cb1c8cf30f05e628" category="list-text">验证是否已正确配置事件通知：</block>
  <block id="0bd295fe33ec7683a6f11cc3bc9d9ed4" category="list-text">对源存储分段中符合配置 XML 中配置的触发通知要求的对象执行操作。</block>
  <block id="671bde08e3463ed537bb925e5f5f5e8a" category="paragraph">在此示例中，每当创建具有 `images/` 前缀的对象时，都会发送事件通知。</block>
  <block id="a54ef5f12f1fec4abb55ac848aca1651" category="list-text">确认已向目标 SNS 主题发送通知。</block>
  <block id="f43d7a6b82cb9014b5f2ac186f53c24a" category="paragraph">例如，如果您的目标主题托管在 AWS 简单通知服务（ SNS ）上，则可以将此服务配置为在发送通知时向您发送电子邮件。</block>
  <block id="af261d10241737c67957e24a799457ae" category="paragraph">如果在目标主题收到通知，则表示您已成功为 StorageGRID 通知配置源存储分段。</block>
  <block id="f5b2442cbe85626151d80af583acf830" category="paragraph"><block ref="f5b2442cbe85626151d80af583acf830" category="inline-xref-macro-rx"></block></block>
  <block id="cb1987f58468ff9f6e609030e60a511e" category="paragraph"><block ref="cb1987f58468ff9f6e609030e60a511e" category="inline-xref-macro-rx"></block></block>
  <block id="1fc3aeff252598d3d4a364d1fa2a9082" category="summary">StorageGRID 平台服务可以帮助您实施混合云战略。</block>
  <block id="9b0014cfa3fbbcf33e5ad66e336d4bd5" category="doc">什么是平台服务？</block>
  <block id="4a94c53156bd6fc5f09514e189dd79cb" category="paragraph">如果您的租户帐户允许使用平台服务，则可以为任何 S3 存储分段配置以下服务：</block>
  <block id="7f8d8ada9c006f7419c35e9874a8b9c5" category="inline-xref-macro">StorageGRID CloudMirror 复制服务</block>
  <block id="4abd2be50a77ea1f1c6dfb5fb9ead551" category="list-text">* CloudMirror 复制 * ： <block ref="3032b697cfe965ffe2e808b55639f891" category="inline-xref-macro-rx"></block> 用于将特定对象从 StorageGRID 存储分段镜像到指定的外部目标。</block>
  <block id="236656425ec755a80b8d039b4625a1de" category="paragraph">例如，您可以使用 CloudMirror 复制将特定客户记录镜像到 Amazon S3 ，然后利用 AWS 服务对数据执行分析。</block>
  <block id="a039b646f5293c72fe082abfa4c652d6" category="inline-xref-macro">每个存储分段的事件通知</block>
  <block id="c54b9b52f43c45a7156dd764c8377d4b" category="list-text">* 通知 * ： <block ref="6da62c2d58c4af11601a2025c6af71d4" category="inline-xref-macro-rx"></block> 用于向指定的外部 Amazon Simple Notification Service （ SNS ）发送有关对对象执行的特定操作的通知。</block>
  <block id="443cdbd3f16c9363e4ea062828ca6e51" category="paragraph">例如，您可以配置向管理员发送有关添加到存储分段中的每个对象的警报，这些对象表示与关键系统事件关联的日志文件。</block>
  <block id="f6e135f7f612c710fdfcf3acddc30bd1" category="admonition">虽然可以在启用了 S3 对象锁定的存储分段上配置事件通知，但通知消息中不会包含对象的 S3 对象锁定元数据（包括保留至日期和合法保留状态）。</block>
  <block id="d1cd29d858f6255b722bc117f7e11be6" category="inline-xref-macro">搜索集成服务</block>
  <block id="679abcc25dc400be10865a3168756b17" category="list-text">* 搜索集成服务 * ： <block ref="c2037394745a6e8ce8eb99fa1806a87d" category="inline-xref-macro-rx"></block> 用于将 S3 对象元数据发送到指定的 Elasticsearch 索引，在此索引中可以使用外部服务搜索或分析元数据。</block>
  <block id="678770b4f3855a6065c8d5600a5c2aa6" category="paragraph">例如，您可以将存储分段配置为将 S3 对象元数据发送到远程 Elasticsearch 服务。然后，您可以使用 Elasticsearch 跨存储分段执行搜索，并对对象元数据中存在的模式执行复杂的分析。</block>
  <block id="7001d5a5c34444b76aa487892a7ca454" category="admonition">虽然可以在启用了 S3 对象锁定的情况下在存储分段上配置 Elasticsearch 集成，但通知消息中不会包含对象的 S3 对象锁定元数据（包括保留截止日期和合法保留状态）。</block>
  <block id="86cb6ed7cff2d01c658050b4c56f00ce" category="paragraph">由于平台服务的目标位置通常不在 StorageGRID 部署中，因此平台服务可以为您提供使用外部存储资源，通知服务以及数据搜索或分析服务所带来的强大功能和灵活性。</block>
  <block id="c7c6ae4185e931fe50690277d49e07c5" category="paragraph">可以为一个 S3 存储分段配置任何平台服务组合。例如，您可以在 StorageGRID S3 存储分段上配置 CloudMirror 服务和通知，以便将特定对象镜像到 Amazon Simple Storage Service ，同时向第三方监控应用程序发送有关每个此类对象的通知，以帮助您跟踪 AWS 支出。</block>
  <block id="2c5d98845086a1aeb6ab6a30abb7ccc6" category="admonition">StorageGRID 管理员必须使用网格管理器或网格管理 API 为每个租户帐户启用平台服务。</block>
  <block id="a4317bc50561a1ba490e8585f6a26256" category="section-title">如何配置平台服务</block>
  <block id="0e1bfd14d9088a316be217dad6d55168" category="paragraph">平台服务与您使用租户管理器或租户管理 API 配置的外部端点进行通信。每个端点都代表一个外部目标，例如 StorageGRID S3 存储分段， Amazon Web 服务分段，简单通知服务（ SNS ）主题或本地托管， AWS 或其他位置的 Elasticsearch 集群。</block>
  <block id="f1e3b138b168bac2e2408c38c0703093" category="paragraph">创建端点后，您可以通过向存储分段添加 XML 配置来为存储分段启用平台服务。XML 配置可确定存储分段应处理的对象，存储分段应执行的操作以及存储分段应用于服务的端点。</block>
  <block id="d6a468121b754d591a6c8ffca168a0fa" category="paragraph">您必须为要配置的每个平台服务添加单独的 XML 配置。例如：</block>
  <block id="d062ac3dc46f71061fc5e56785454128" category="list-text">如果要将密钥以 ` 或 images` 开头的所有对象复制到 Amazon S3 存储分段，则必须向源存储分段添加复制配置。</block>
  <block id="3a85095cd7d2437db2d5fef0108a5cdf" category="list-text">如果您还希望在这些对象存储到存储分段时发送通知，则必须添加通知配置。</block>
  <block id="48207d61326235998faea65fcc61bdad" category="list-text">最后，如果要为这些对象的元数据编制索引，则必须添加用于实施搜索集成的元数据通知配置。</block>
  <block id="8ac260b11f0564e3ddf49f080eddf2e4" category="paragraph">配置 XML 的格式由用于实施 StorageGRID 平台服务的 S3 REST API 控制：</block>
  <block id="7e352e33790846d74fa04086e6003397" category="paragraph">这些操作是 StorageGRID 的自定义操作。</block>
  <block id="b42c33ccfbdc40a18cf4f741cce33617" category="paragraph">有关 StorageGRID 如何实施这些 API 的详细信息，请参见有关实施 S3 客户端应用程序的说明。</block>
  <block id="95309527f7dabbe3fe32e0802fc9852c" category="inline-xref-macro">使用平台服务的注意事项</block>
  <block id="88c6b1dfedf0ca4e53f72f0d8bc6b81d" category="paragraph"><block ref="88c6b1dfedf0ca4e53f72f0d8bc6b81d" category="inline-xref-macro-rx"></block></block>
  <block id="2fdb83159ceee0422eb98e329f89ff30" category="summary">您可以编辑平台服务端点的配置以更改其名称， URI 或其他详细信息。例如，您可能需要更新已过期的凭据或更改 URI 以指向备份 Elasticsearch 索引以进行故障转移。您不能更改平台服务端点的 URN 。</block>
  <block id="597266ce726cbb5b8369f00f722d6482" category="doc">编辑平台服务端点</block>
  <block id="a0bb08bcef4d25b7fd80c36eb96f6edb" category="list-text">您必须属于具有管理端点权限的用户组。请参见 <block ref="5b9f1b5a99edd0f1dc1967c03fbeba87" category="inline-xref-macro-rx"></block>。</block>
  <block id="d2e2bac221b76be92dc7d4b17222be48" category="paragraph">此时将显示平台服务端点页面，其中显示了已配置的平台服务端点列表。</block>
  <block id="e031cd2492b3e01cd20bc5e0fc506d85" category="image-alt">端点列表</block>
  <block id="b9e8b639287164269e7db192c6058c85" category="list-text">选择要编辑的端点。</block>
  <block id="0acc9f079986838d7896a896a6196bcb" category="paragraph">此时将显示端点详细信息页面。</block>
  <block id="f76618a8e4af059632c87ab1f949bbe1" category="list-text">选择 * 配置 * 。</block>
  <block id="cd73c5d3d1de75e837c2d913792a8130" category="image-alt">编辑端点配置</block>
  <block id="5027945b6c4be4b0defa7504fb59a7e9" category="list-text">根据需要更改端点的配置。</block>
  <block id="b7572dad4f0a50928337a853c6841b15" category="inline-image-macro">编辑图标</block>
  <block id="8ce46f160033326da51d68fff4beaedf" category="list-text">要更改端点的显示名称，请选择编辑图标 <block ref="a1b9a0fa06cda375770178cd8e025967" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="9835545c8f2f1603e9c8189110bb3ca7" category="list-text">根据需要更改 URI 。</block>
  <block id="93d6f7cad85d5875a5e22bc394440f96" category="list-text">根据需要更改身份验证类型。</block>
  <block id="fafcc46585547e5ef0f56ec16e173e1f" category="list-text">对于访问密钥身份验证，请根据需要更改密钥，方法是选择 * 编辑 S3 密钥 * 并粘贴新的访问密钥 ID 和机密访问密钥。如果需要取消所做的更改，请选择 * 还原 S3 密钥编辑 * 。</block>
  <block id="f60e60804eb0e449a908e9c10458ce1d" category="list-text">对于基本 HTTP 身份验证，请根据需要更改用户名。根据需要更改密码，方法是选择 * 编辑密码 * 并输入新密码。如果需要取消所做的更改，请选择 * 还原密码编辑 * 。</block>
  <block id="43f7bd07e8dd260a3af0cff133f3fc28" category="list-text">对于 CAP （ C2S 访问门户）身份验证，更改临时凭据 URL 或可选客户端专用密钥密码短语，并根据需要上传新的证书和密钥文件。</block>
  <block id="48450436e07b9a858a578ebd4ac163e8" category="admonition">客户端专用密钥必须采用 OpenSSL 加密格式或未加密的专用密钥格式。</block>
  <block id="585909e8063f295d22a0c5e78d77a1d5" category="list-text">根据需要更改用于验证服务器的方法。</block>
  <block id="c66e97e084f90c6df43604b07596da39" category="list-text">选择 * 测试并保存更改 * 。</block>
  <block id="cd8685af15984f419c9889a200868531" category="list-text">如果可以使用指定凭据访问端点，则会显示一条成功消息。系统会从每个站点的一个节点验证与端点的连接。</block>
  <block id="bf60bec136bb49c62d80dd4d8abc430c" category="list-text">如果端点验证失败，则会显示一条错误消息。修改端点以更正错误，然后选择 * 测试并保存更改 * 。</block>
  <block id="6a15ee47fa382db45c1d183ba4deb5e1" category="summary">使用租户管理器后，您必须注销以确保未经授权的用户无法访问 StorageGRID 系统。根据浏览器 Cookie 设置，关闭浏览器可能无法将您从系统中注销。</block>
  <block id="e00f288b012c4f9d54bb641a58655506" category="doc">注销租户管理器</block>
  <block id="a0c973eeed4c22e047da86fb3d779d72" category="list-text">找到用户界面右上角的用户名下拉列表。</block>
  <block id="78210708e71d97bc2da2df9116a28f44" category="image-alt">注销链接</block>
  <block id="21a121d1c5664c186c261a9a518ac6fa" category="list-text">选择用户名，然后选择 * 注销 * 。</block>
  <block id="c549266796e414bcdb879d36f86b0010" category="list-text">如果未使用 SSO ：</block>
  <block id="aa5255338e3ec81b231aa34e41367663" category="paragraph">您已从管理节点注销。此时将显示租户管理器登录页面。</block>
  <block id="2a8f72e2e55f96ead65a0703f6529be0" category="admonition">如果您已登录到多个管理节点，则必须从每个节点注销。</block>
  <block id="8cfed969299a5a59ba65ca41e83c1ddb" category="list-text">如果启用了 SSO ：</block>
  <block id="9bce801761a6c24ffa151417385c195b" category="paragraph">您已从正在访问的所有管理节点中注销。此时将显示 StorageGRID 登录页面。您刚刚访问的租户帐户的名称将在 * 近期帐户 * 下拉列表中列为默认名称，并显示租户的 * 帐户 ID* 。</block>
  <block id="e1c104dccebc33dd2eb9344767913bae" category="admonition">如果启用了 SSO ，并且您还登录到网格管理器，则还必须注销网格管理器才能注销 SSO 。</block>
  <block id="3eaea1a155b3bbc52b7728e150ff30e9" category="summary">租户管理 API 使用版本控制来支持无中断升级。</block>
  <block id="be93c9e4106e790f19f09983686def78" category="doc">租户管理 API 版本控制</block>
  <block id="7762bf4df24e5001371b660b0a88f5d1" category="paragraph">例如，此请求 URL 指定 API 版本 3 。</block>
  <block id="3ccfe33ed31fdab2990c0e56e48a840a" category="paragraph">如果对旧版本进行了 * 不兼容 _* 的更改，则租户管理 API 的主要版本将发生递增。如果对 * 与旧版本兼容 _* 进行了更改，则租户管理 API 的次要版本将发生递增。兼容的更改包括添加新端点或新属性。以下示例说明了如何根据所做更改的类型对 API 版本进行递增。</block>
  <block id="2a7439eb7f83bec8d923fe7326969aa4" category="cell">API 的更改类型</block>
  <block id="6ea1fc607d9d382c0805bd48b0b345c3" category="cell">旧版本</block>
  <block id="275e590cc57b619e7c4d9a82d3278394" category="cell">新版本</block>
  <block id="e83d8eb2ddc2fe4d99628c1e5cf9c554" category="paragraph">与旧版本兼容</block>
  <block id="08207d752d8a566368d1fd97b6142fa3" category="paragraph">2.1</block>
  <block id="1718d57986110b6af2dd96b59d3db416" category="paragraph">2.2</block>
  <block id="0a24eef8233a9a8139c7350eccc3b009" category="paragraph">与旧版本不兼容</block>
  <block id="55c82b601deae028c1c5e87fd820923d" category="paragraph">3.0</block>
  <block id="21c43fe79bf84fd023a4c0955f0819a4" category="paragraph">首次安装 StorageGRID 软件时，仅会启用最新版本的租户管理 API 。但是，在将 StorageGRID 升级到新功能版本后，您仍可访问至少一个 StorageGRID 功能版本的旧版 API 。</block>
  <block id="2ff302d34c7c2689fe09f21c05eabe4a" category="paragraph">已过时的请求将通过以下方式标记为已弃用：</block>
  <block id="d49c9b721595dafeecb774df0276281f" category="list-text">响应标头为 "depression: true"</block>
  <block id="367b8e77717c220a22182ddfcf8977ff" category="list-text">JSON 响应正文包含 "depressioned" ： true</block>
  <block id="1cca28af4ab33b3bfff2d93a7947a079" category="section-title">确定当前版本支持哪些 API 版本</block>
  <block id="3858aecbb71da3f59824f259c0990e9d" category="paragraph">请使用以下 API 请求返回受支持的 API 主要版本列表：</block>
  <block id="30531573d6aa7ce04feef3f2e1c11b85" category="section-title">指定请求的 API 版本</block>
  <block id="1f940b85d7cb44af496797e8d183215a" category="paragraph">您可以使用路径参数（` API/v3` ）或标头（`API-Version ： 3` ）指定 API 版本。如果同时提供这两个值，则标头值将覆盖路径值。</block>
  <block id="d2e74c544fa2710cc0c4db609ac5a4b4" category="summary">您可以创建本地用户并将其分配给本地组，以确定这些用户可以访问哪些功能。租户管理器包括一个名为 "`root" 的预定义本地用户。` 虽然您可以添加和删除本地用户，但不能删除 root 用户。</block>
  <block id="3a842f4d1b864864dbdbe110d57b0088" category="doc">管理本地用户</block>
  <block id="f67abe66ee3c5dadfe1b563df8b8bf0a" category="list-text">您必须属于具有 root 访问权限的读写用户组。请参见 <block ref="5b9f1b5a99edd0f1dc1967c03fbeba87" category="inline-xref-macro-rx"></block>。</block>
  <block id="03112fd0631a68e940958958b4b34bd2" category="admonition">如果为 StorageGRID 系统启用了单点登录（ SSO ），则本地用户将无法登录到租户管理器或租户管理 API ，但他们可以根据组权限使用 S3 或 Swift 客户端应用程序访问租户的资源。</block>
  <block id="266a98c9018452692a904416d7f2ac7f" category="section-title">访问用户页面</block>
  <block id="3b7662aa033bc0def328f3482a4bbe81" category="image-alt">租户用户列表</block>
  <block id="914a6037d483baaeae7e2b19170eebc9" category="section-title">创建本地用户</block>
  <block id="3a6867e1c1faee8478b3ba1853b4fba8" category="paragraph">您可以创建本地用户并将其分配给一个或多个本地组以控制其访问权限。</block>
  <block id="a7c4e2574cbb6afee2111b3eceb67aca" category="paragraph">不属于任何组的 S3 用户没有应用管理权限或 S3 组策略。这些用户可能已通过存储分段策略授予 S3 存储分段访问权限。</block>
  <block id="f1d129e28fc8bae877b969939990a007" category="paragraph">不属于任何组的 Swift 用户不具有管理权限或 Swift 容器访问权限。</block>
  <block id="7c5a25b7fce3aa3b2f4a32e2bf4c7bff" category="list-text">选择 * 创建用户 * 。</block>
  <block id="2c0e8a6845db15545f8c6cc473493a49" category="list-text">填写以下字段。</block>
  <block id="ad142d6db5eaf9ad0e791bd5553bedef" category="list-text">* 全名 * ：此用户的全名，例如，人员的名字和姓氏或应用程序的名称。</block>
  <block id="b93a3a44210a454c1c806f9353cec8d8" category="list-text">* 用户名 * ：此用户用于登录的名称。用户名必须是唯一的，不能更改。</block>
  <block id="5f86e88f5eb2fa08eee7a0e676934a7e" category="list-text">* 密码 * ：用户登录时使用的密码。</block>
  <block id="388ce248b2bcac681e8d2efc051e8f88" category="list-text">* 确认密码 * ：键入您在密码字段中键入的相同密码。</block>
  <block id="95068016f1a71b59038fe26326d58ce8" category="list-text">* 拒绝访问 * ：如果选择 * 是 * ，则此用户无法登录到租户帐户，即使此用户可能仍属于一个或多个组。</block>
  <block id="8b00221d89d0317a5790406c85d9c97e" category="paragraph">例如，您可以使用此功能暂时暂停用户的登录能力。</block>
  <block id="48c0473723012a086f3212b44d54982b" category="list-text">将用户分配给一个或多个本地组。</block>
  <block id="ec6a73c717af1326c766730d7e6b82d4" category="paragraph">不属于任何组的用户将无管理权限。权限是累积的。用户将对其所属的所有组拥有所有权限。</block>
  <block id="53f7bfcf6ed82c919a8ddc5ea373852d" category="section-title">编辑用户详细信息</block>
  <block id="44b32a44337efef42d6992fc8eeb878e" category="paragraph">编辑用户的详细信息时，您可以更改用户的全名和密码，将用户添加到不同的组并阻止用户访问租户。</block>
  <block id="22e229b1ca0749c68b95ec9b58834939" category="list-text">在用户列表中，选择要查看或编辑其详细信息的用户的名称。</block>
  <block id="5367add9e5f96ed9cc02aa4d20aabae4" category="paragraph">或者，您也可以选中用户的复选框，然后选择 * 操作 * &gt; * 查看用户详细信息 * 。</block>
  <block id="4ebd0b2f0eaf6c630ecd5151bbf13951" category="list-text">根据需要更改用户设置。</block>
  <block id="9bec795943e7ac3ae4f62652c9318fc0" category="list-text">选择全名或编辑图标，根据需要更改用户的全名 <block ref="b67b468b391ab50f9ec30894cf44ee94" category="inline-image-macro-rx" type="image"></block> 在概述部分。</block>
  <block id="7b2c8bb20b2d4b44535339e4c327e4d2" category="paragraph">您不能更改用户名。</block>
  <block id="22c5900a019c6bf018e1352b0d5f2f31" category="list-text">在 * 密码 * 选项卡上，根据需要更改用户的密码。</block>
  <block id="31e5b61ce7182b8c76e31f4cf798c1c7" category="list-text">在 * 访问 * 选项卡上，允许用户登录（选择 * 否 * ），或者根据需要阻止用户登录（选择 * 是 * ）。</block>
  <block id="0e355c17cf47215261bb50f28836aa61" category="list-text">在 * 组 * 选项卡上，根据需要将用户添加到组或从组中删除该用户。</block>
  <block id="36ac8382ff6521fcd14e89cc35ad7e0f" category="list-text">根据需要为每个部分选择 * 保存更改 * 。</block>
  <block id="794d7662249b65550301b2562c08ada4" category="section-title">本地用户重复</block>
  <block id="46b041a4067c820a02531ae15e53a6fb" category="paragraph">您可以复制本地用户以更快地创建新用户。</block>
  <block id="45bc2fdc3139887377fc50ebaa6216ed" category="list-text">在用户列表中，选择要复制的用户。</block>
  <block id="bc8dc3872418e1051167734f547a8d91" category="list-text">选择 * 复制用户 * 。</block>
  <block id="5882a460202253b062828487bca2e5a9" category="list-text">修改新用户的以下字段。</block>
  <block id="c866ed52cdaf7a725c917ca9d8754ee2" category="list-text">选择一个或多个本地组。</block>
  <block id="4248e36147d10efad80fc34fb1f17946" category="section-title">删除本地用户</block>
  <block id="efbe03956dd4b94073a906267f83b4bb" category="paragraph">您可以永久删除不再需要访问 StorageGRID 租户帐户的本地用户。</block>
  <block id="7e487ed4f75e9239ed2fc8c143963946" category="paragraph">使用租户管理器，您可以删除本地用户，但不能删除联合用户。您必须使用联合身份源删除联合用户。</block>
  <block id="44aa1e708a23bd952b18a343811a9a66" category="list-text">在用户列表中，选中要删除的本地用户对应的复选框。</block>
  <block id="91f74ff8b727dd63d7c8b7544a35cbf7" category="list-text">选择 * 操作 * &gt; * 删除用户 * 。</block>
  <block id="267678f539dbf815f61a03324e831d73" category="list-text">在确认对话框中，选择 * 删除用户 * 以确认要从系统中删除此用户。</block>
  <block id="d2a453173db1acaaa8ca36e1e2a4b1e1" category="summary">CloudMirror 复制服务是三种 StorageGRID 平台服务之一。您可以使用 CloudMirror 复制将对象自动复制到外部 S3 存储分段。</block>
  <block id="5593d76921ac9001ec70980b262ddf36" category="inline-xref-macro">CloudMirror 复制服务</block>
  <block id="a35e16ad2bd328d8d4b2a2688704a101" category="paragraph">。 <block ref="47fb18aec2bfe1fffaf48baeffaf7f23" category="inline-xref-macro-rx"></block> 是三种 StorageGRID 平台服务之一。您可以使用 CloudMirror 复制将对象自动复制到外部 S3 存储分段。</block>
  <block id="6b146a5d765433b77e19c45ba067bdf1" category="list-text">您必须已创建一个分段，才能用作复制源。</block>
  <block id="02d34d321b90d77e8e62142a14537fd8" category="list-text">要用作 CloudMirror 复制目标的端点必须已存在，并且必须具有其 URN 。</block>
  <block id="4617b3bffc0e10f9d2283edacb045de5" category="paragraph">CloudMirror 复制会将对象从源存储分段复制到端点中指定的目标存储分段。要为存储分段启用 CloudMirror 复制，必须创建并应用有效的存储分段复制配置 XML 。复制配置 XML 必须对每个目标使用 S3 存储分段端点的 URN 。</block>
  <block id="15d9c70b10128211451b22fdcac08131" category="admonition">启用了 S3 对象锁定的源或目标分段不支持复制。</block>
  <block id="5fc9b7a585f7ff062c132fad5f8fa878" category="paragraph">有关存储分段复制以及如何配置的一般信息，请参见 Amazon Simple Storage Service （ S3 ）有关跨区域复制（ CRR ）的文档。有关 StorageGRID 如何实施 S3 存储分段复制配置 API 的信息，请参见 <block ref="887c675ade23ade7eb8876f656f4f0ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="6454058c8fff109b9f38b17f34a93dbf" category="paragraph">如果在包含对象的存储分段上启用 CloudMirror 复制，则会复制添加到存储分段中的新对象，但不会复制存储分段中的现有对象。您必须更新现有对象才能触发复制。</block>
  <block id="aaa3ecf6ab17a209f6cf45abad6e13e7" category="paragraph">如果在复制配置 XML 中指定存储类，则 StorageGRID 在对目标 S3 端点执行操作时会使用该类。目标端点还必须支持指定的存储类。请务必遵循目标系统供应商提供的任何建议。</block>
  <block id="a7eb8234787092c756908c066e9988fa" category="list-text">为源存储分段启用复制：</block>
  <block id="8a505fd599343e2e34255c85747077bb" category="paragraph">使用文本编辑器创建在 S3 复制 API 中指定的启用复制所需的复制配置 XML 。配置 XML 时：</block>
  <block id="f778681a80ed3892eb24dd5b5f3c121c" category="list-text">请注意， StorageGRID 仅支持复制配置的 V1 。这意味着， StorageGRID 不支持使用 `Filter` 元素作为规则，并遵循 V1 约定删除对象版本。有关详细信息，请参见有关复制配置的 Amazon 文档。</block>
  <block id="286b0bdae59e13dd8bbc8d184b65b54e" category="list-text">使用 S3 存储分段端点的 URN 作为目标。</block>
  <block id="86a0bb127215b0303ff03a30d9bc0a80" category="list-text">也可以添加 ` &lt;StorageClass&gt;` 元素，并指定以下项之一：</block>
  <block id="da09eb449a2d9545b6a8d1e31f07cf6d" category="list-text">`standard` ：默认存储类。如果在上传对象时未指定存储类，则会使用 `Standard` storage class 。</block>
  <block id="cc9bb4232942b7fb23750fe7e8cddfff" category="list-text">`standard_IA` ：（标准 - 不常访问。） 对于访问频率较低但仍需要在需要时快速访问的数据，请使用此存储类。</block>
  <block id="5426edfaf1943bf67a767d606c311e6a" category="list-text">`re介绍冗余` ：将此存储类用于非关键，可重现的数据，这些数据的存储冗余程度低于 `S` 标准存储类。</block>
  <block id="7e2a9ee8933cdc18b1292b8105b64df1" category="list-text">如果在配置 XML 中指定 `role` ，则会忽略该角色。StorageGRID 不使用此值。</block>
  <block id="7579d24f25f2378ca3ddf5e0c6617b88" category="list-text">选择 * 平台服务 * &gt; * 复制 * 。</block>
  <block id="53d18a5828714f85b8f46599a8e08715" category="list-text">选中 * 启用复制 * 复选框。</block>
  <block id="e26688afa6572fe83e09884116f3620b" category="list-text">将复制配置 XML 粘贴到文本框中，然后选择 * 保存更改 * 。</block>
  <block id="e68ef08d97f955c233ae5b400e27a656" category="image-alt">复制配置对话框的屏幕截图</block>
  <block id="ed16b91e520ab07604b103e93dcb789e" category="list-text">验证复制配置是否正确：</block>
  <block id="35228427a17622bfd8a8847e8f96e634" category="list-text">向源存储分段添加一个对象，以满足复制配置中指定的复制要求。</block>
  <block id="4276eea08faed1cf8e165d077700e8fc" category="paragraph">在前面显示的示例中，复制与前缀 "`2020` " 匹配的对象。</block>
  <block id="1d3c335bf457fc53b5f8b0d96daa4879" category="list-text">确认对象已复制到目标存储分段。</block>
  <block id="9422beb9026e2ec3ec7abaa6fb1a204a" category="paragraph">对于小型对象，复制操作会快速进行。</block>
  <block id="19d8206b291d200aa550c37369ad7f95" category="summary">您可以编辑组的显示名称。您不能编辑组的唯一名称。</block>
  <block id="9f9a5411f4ce65436f3b0991f299431b" category="doc">编辑组名称</block>
  <block id="a7efdeefa76e093e5874c1537be200db" category="list-text">选中要编辑其显示名称的组对应的复选框。</block>
  <block id="65190cd14ccc6e18dc398e49d4a3207d" category="list-text">选择 * 操作 * &gt; * 编辑组名称 * 。</block>
  <block id="9f9d6a21bb5dfc923dcec9b73ad47922" category="paragraph">此时将显示编辑组名称对话框。</block>
  <block id="3d5bd5da2691824b84d0d24d0c69c478" category="list-text">如果要编辑本地组，请根据需要更新显示名称。</block>
  <block id="62fd187e41bdc33436c0ab9a64b5ca4b" category="summary">如果您使用的是 S3 租户，并且您拥有相应的权限，则可以查看 S3 访问密钥列表。您可以按到期时间对列表进行排序，以便确定哪些密钥不久将过期。您可以根据需要创建新密钥或删除不再使用的密钥。</block>
  <block id="56a33b6ffec57c53fa5926a8f8497fb3" category="doc">查看 S3 访问密钥</block>
  <block id="cca88677e2780ac0fdcbab62d42eaaa9" category="list-text">您必须具有管理自己的 S3 凭据权限。</block>
  <block id="b4dd0c859002fb8d3aec73819bfe96d2" category="image-alt">访问密钥列表</block>
  <block id="ce2981141f56e852693b70f1dd64313f" category="list-text">根据需要创建新密钥并手动删除不再使用的密钥。</block>
  <block id="b970386112ccb6b53f73e4274a52a73e" category="paragraph">如果在现有密钥到期之前创建新密钥，则可以开始使用新密钥，而不会暂时丢失对帐户中对象的访问权限。</block>
  <block id="0c3fd9144ccd300a605b9c97bf2ec25e" category="inline-xref-macro">创建您自己的 S3 访问密钥</block>
  <block id="a3d22db968287d11e5eb5ebfd388b50a" category="paragraph"><block ref="a3d22db968287d11e5eb5ebfd388b50a" category="inline-xref-macro-rx"></block></block>
  <block id="a31d79f6eb0bdbff98b06688fdaf67a4" category="paragraph"><block ref="a31d79f6eb0bdbff98b06688fdaf67a4" category="inline-xref-macro-rx"></block></block>
  <block id="d3a87797abf75ed2f5db3edd07da584b" category="summary">您可以通过复制现有组来更快地创建新组。</block>
  <block id="748010ad83c088b58e6bd2a34b6acb40" category="doc">重复的组</block>
  <block id="f15b2c37afca9684be231664cf2d8cc1" category="list-text">选中要复制的组对应的复选框。</block>
  <block id="b768588facde3e157e1290035c914a94" category="inline-xref-macro">S3 租户</block>
  <block id="510714a302f6af35a34d48d832e52b8a" category="inline-xref-macro">Swift 租户</block>
  <block id="e59b5f178cf9b9dda858b315e8cbd5d3" category="list-text">选择 * 复制组 * 。有关创建组的其他详细信息，请参见创建组的说明 <block ref="99f0afc15c3b9977ae9b7e2d1103ff3a" category="inline-xref-macro-rx"></block> 或 <block ref="2cb0de82304631bdef4ce86b097d9e5e" category="inline-xref-macro-rx"></block>。</block>
  <block id="b8fd4ad0d430afcd707e8d30b5c02ee6" category="list-text">选择 * 本地组 * 选项卡以创建本地组，或者选择 * 联合组 * 选项卡以从先前配置的身份源导入组。</block>
  <block id="b17450d19582b353c2bd2e29e576e4f4" category="inline-xref-macro">基于组权限</block>
  <block id="ba307060e4685b0473874c56228fc127" category="paragraph">如果为 StorageGRID 系统启用了单点登录（ SSO ），则属于本地组的用户将无法登录到租户管理器，尽管他们可以使用客户端应用程序管理租户的资源， <block ref="58d060673461fe33c2b9ace997c6d321" category="inline-xref-macro-rx"></block>。</block>
  <block id="b8482f298ef8922d2941f7ab4ed8d45f" category="list-text">输入组的名称。</block>
  <block id="b3097aecf82c27e2290b171c2fb77806" category="list-text">* 本地组 * ：输入显示名称和唯一名称。您可以稍后编辑显示名称。</block>
  <block id="6788b7a636730671633b172216fd97dd" category="list-text">* 联合组 * ：输入唯一名称。对于 Active Directory ，唯一名称是与 `sAMAccountName` 属性关联的名称。对于 OpenLDAP ，唯一名称是与 `uid` 属性关联的名称。</block>
  <block id="9e631c1f925ce83aace9be06c2963485" category="list-text">根据需要修改此组的权限。</block>
  <block id="c85bacfece7c47211c7993b72516d609" category="list-text">如果要为 S3 租户复制组，可以根据需要从 * 添加 S3 策略 * 单选按钮中选择其他策略。如果选择了自定义策略，请根据需要更新 JSON 字符串。</block>
  <block id="fbfdb73d00e2077845b8e40c33635486" category="list-text">选择 * 创建组 * 。</block>
  <block id="0c01979beed7a3785659815e2937513c" category="summary">如果您使用的是 S3 租户，并且您拥有相应的权限，则可以为其他用户创建 S3 访问密钥，例如需要访问存储分段和对象的应用程序。</block>
  <block id="bc536b11237f545eca6ae7fe572dee33" category="doc">创建其他用户的 S3 访问密钥</block>
  <block id="a1049266df6f9d48c57f92402b71c80c" category="paragraph">您可以为其他用户创建一个或多个 S3 访问密钥，以便他们可以为其租户帐户创建和管理存储分段。创建新的访问密钥后，使用新的访问密钥 ID 和机密访问密钥更新应用程序。为安全起见，请勿创建超出用户需求的密钥，并删除未使用的密钥。如果只有一个密钥，并且该密钥即将到期，请在旧密钥到期之前创建一个新密钥，然后删除旧密钥。</block>
  <block id="6e2ecf23d102dd9aecee0471ddaada6f" category="paragraph">每个密钥可以有特定的到期时间，也可以无到期时间。请遵循以下到期时间准则：</block>
  <block id="7d12416ef3b25a18aed472077cdcd1cf" category="list-text">设置密钥的到期时间，以将用户的访问限制为特定时间段。如果访问密钥 ID 和机密访问密钥意外暴露，则设置较短的到期时间有助于降低风险。过期密钥将自动删除。</block>
  <block id="003a0104905f39b6ca01a3603c6d4ec8" category="list-text">如果环境中的安全风险较低，并且您不需要定期创建新密钥，则无需为密钥设置到期时间。如果您稍后决定创建新密钥，请手动删除旧密钥。</block>
  <block id="ba296b2f3311db766f85588946e0aa7f" category="list-text">选择要管理其 S3 访问密钥的用户。</block>
  <block id="7d53e031f9a12664c013efc46df519a9" category="paragraph">此时将显示用户详细信息页面。</block>
  <block id="c991702b246e1f3fd5c9dbe4f07c2037" category="list-text">选择 * 访问密钥 * ，然后选择 * 创建密钥 * 。</block>
  <block id="1875d1923b372a8cefb955fe66a1cee5" category="list-text">选择 * 不设置到期时间 * 可创建未过期的密钥。（默认）</block>
  <block id="e1fc958caa9357284bc2cbb4c1916ca1" category="list-text">选择 * 设置到期时间 * ，然后设置到期日期和时间。</block>
  <block id="ba5e2d42c685909f43035565f10fba03" category="image-alt">创建访问密钥对话框的屏幕截图</block>
  <block id="746ac32496ec5eb492a84947f5fcd45f" category="paragraph">此时将显示 Download access key 对话框，其中列出了访问密钥 ID 和机密访问密钥。</block>
  <block id="5e0425e9ca9ae8fdfc0f212820f6156a" category="admonition">在复制或下载此信息之前，请勿关闭此对话框。关闭此对话框后，您将无法复制或下载密钥。</block>
  <block id="42804086d22f5a46a4131af1b228d8d2" category="image-alt">保存密钥对话框的屏幕截图</block>
  <block id="560e42e6da9452e07ba03414df4da014" category="list-text">选择 * 完成 * 。</block>
  <block id="da56d8865c54ddbe7ca9bd9acf0086d6" category="paragraph">新密钥将列在用户详细信息页面的访问密钥选项卡中。由于缓存，更改可能需要长达 15 分钟才能生效。</block>
  <block id="bc13ade7598e5851edba6380949653c6" category="summary">在实施平台服务之前，请查看有关使用这些服务的建议和注意事项。</block>
  <block id="1b3fe31df652816cf2eb8455d2074bd9" category="paragraph">有关 S3 的信息，请参见 <block ref="cb9b6c6687eb7e9e4247c9c2fba460a9" category="inline-xref-macro-rx"></block>。</block>
  <block id="1424e9d02955a063766be77a82c6d273" category="cell">注意事项</block>
  <block id="6cbeccf997df3fccf55e74a23568cfa4" category="paragraph">目标端点监控</block>
  <block id="baeadf2c1aba639aad80a14c414935b9" category="paragraph">您必须监控每个目标端点的可用性。如果与目标端点的连接长时间断开，并且存在大量请求积压，则向 StorageGRID 发出的其他客户端请求（例如 PUT 请求）将失败。当端点可访问时，您必须重试这些失败的请求。</block>
  <block id="d1d5bfdf1357ae69508a97849018dfd6" category="paragraph">目标端点限制</block>
  <block id="85d65e2b427b87208be181dbad7ad84b" category="paragraph">如果发送请求的速率超过目标端点接收请求的速率， StorageGRID 软件可能会限制传入的存储分段 S3 请求。只有在等待发送到目标端点的请求积压时，才会发生限制。</block>
  <block id="32f01f1c28fec84661fda1ae726477dd" category="paragraph">唯一明显的影响是，传入的 S3 请求执行时间较长。如果您开始检测到性能明显较慢，则应降低载入速率或使用容量较高的端点。如果积压的请求持续增加，客户端 S3 操作（例如 PUT 请求）最终将失败。</block>
  <block id="1a9b62784ba107027107a615f3e5bc3c" category="paragraph">CloudMirror 请求更有可能受到目标端点性能的影响，因为这些请求所涉及的数据传输通常多于搜索集成或事件通知请求。</block>
  <block id="bb1759d706431458068c70abd01232c4" category="paragraph">订购担保</block>
  <block id="46e632fd9c16c515344ae04c3bc930b9" category="paragraph">StorageGRID 保证对站点中的对象执行操作的顺序。只要针对某个对象的所有操作都位于同一站点内，最终对象状态（用于复制）就始终等于 StorageGRID 中的状态。</block>
  <block id="976477ae2ee87df8d6978661cc56d6cd" category="paragraph">在跨 StorageGRID 站点执行操作时， StorageGRID 会尽力订购请求。例如，如果您先将某个对象写入站点 A ，然后覆盖站点 B 上的同一个对象，则 CloudMirror 复制到目标分段的最终对象不能保证为较新的对象。</block>
  <block id="854d57164e5a639aa09c78815df5e8f9" category="paragraph">ILM 驱动的对象删除</block>
  <block id="ae19418feb5c1f02bce89a43a9cf54d5" category="paragraph">为了匹配 AWS CRR 和 SNS 服务的删除行为，如果因 StorageGRID ILM 规则而删除源存储分段中的对象，则不会发送 CloudMirror 和事件通知请求。例如，如果 ILM 规则在 14 天后删除某个对象，则不会发送 CloudMirror 或事件通知请求。</block>
  <block id="91d7a2cd1fa97fb945d9ef51cab019dd" category="paragraph">相反，在因 ILM 而删除对象时，系统会发送搜索集成请求。</block>
  <block id="105d69f95af37333ac4443a25fe96c0b" category="section-title">使用 CloudMirror 复制服务的注意事项</block>
  <block id="ca518fa5f8c462a6afa66467a2198108" category="paragraph">复制状态</block>
  <block id="d151c4b31f1f376664f376542080468a" category="paragraph">StorageGRID 不支持 `x-AMZ-reply-status` 标头。</block>
  <block id="e82a24648bd5d78d44cfb30efa897a02" category="paragraph">CloudMirror 复制服务可复制到目标分段的对象的最大大小为 5 TiB ，与最大 _supported 对象大小相同。</block>
  <block id="be51dbf8639218f618b1b6b63fc47a69" category="paragraph">* 注 * ：单个 PUT 对象操作的最大 _recommended_size 为 5 GiB （ 5 ， 368 ， 709 ， 120 字节）。如果对象大于 5 GiB ，请改用多部分上传。</block>
  <block id="36551ec3a7bb30d1935a7f5ae595543e" category="paragraph">存储分段版本控制和版本 ID</block>
  <block id="ae366eb4708854c2f040210386e8dae0" category="paragraph">如果 StorageGRID 中的源 S3 存储分段已启用版本控制，则还应为目标存储分段启用版本控制。</block>
  <block id="856c4c65dd3dfb755f3f97e6159b7b9d" category="paragraph">使用版本控制时，请注意，由于 S3 协议的限制，在目标存储分段中排列对象版本是尽力而为的， CloudMirror 服务无法保证这一点。</block>
  <block id="f827406ac8750c4bb601655d41047cff" category="paragraph">* 注意 * ： StorageGRID 中源存储分段的版本 ID 与目标存储分段的版本 ID 无关。</block>
  <block id="c8afe2c69c043a805d0b18f0376b0e78" category="paragraph">标记对象版本</block>
  <block id="16701642b68d444267fc44b6e0882f45" category="paragraph">由于 S3 协议的限制， CloudMirror 服务不会复制任何提供版本 ID 的 PUT 对象标记或删除对象标记请求。由于源和目标的版本 ID 不相关，因此无法确保复制对特定版本 ID 的标记更新。</block>
  <block id="0ed51e7e9e1ac04f6af4bdf34596c284" category="paragraph">相反， CloudMirror 服务会复制不指定版本 ID 的 PUT 对象标记请求或删除对象标记请求。这些请求会更新最新密钥的标记（如果分段已受版本控制，则更新最新版本的标记）。此外，还会复制具有标记（而不是标记更新）的常规载入。</block>
  <block id="e4a630891a3d97a37a282910a5b05774" category="paragraph">多部分上传和 `ETag` 值</block>
  <block id="e7d6c0bd3cb9d7fb905987942e88ab1d" category="paragraph">镜像使用多部分上传方式上传的对象时， CloudMirror 服务不会保留这些部分。因此，镜像对象的 `ETag` 值将与原始对象的 `ETag` 值不同。</block>
  <block id="dd1c86f8a9db76e32d22777252df6907" category="paragraph">使用 SSI-C 加密的对象（使用客户提供的密钥进行服务器端加密）</block>
  <block id="cd58dc4f1b22dbe7f44c0c3fdf02661b" category="paragraph">CloudMirror 服务不支持使用 SSI-C 加密的对象如果您尝试将对象载入源存储分段以进行 CloudMirror 复制，并且此请求包含 SSI-C 请求标头，则此操作将失败。</block>
  <block id="586d2b54d8624fc704c1065c450d91a0" category="paragraph">已启用 S3 对象锁定的存储分段</block>
  <block id="bfb0259c16c1811032ed02479fe2ed45" category="paragraph">如果用于 CloudMirror 复制的目标 S3 存储分段已启用 S3 对象锁定，则配置存储分段复制（ PUT 存储分段复制）的尝试将失败，并显示 AccessDenied 错误。</block>
  <block id="7096f60758fdbd30925758159ed39fea" category="summary">如果要对对象元数据使用外部搜索和数据分析服务，则可以为 S3 存储分段启用搜索集成。</block>
  <block id="8b14b490b626944c517ba24bbb1b6de8" category="doc">了解搜索集成服务</block>
  <block id="574a0fb6665a18b19a0dc217d485564f" category="paragraph">搜索集成服务是一种自定义 StorageGRID 服务，每当更新对象或其元数据时，该服务都会自动异步地将 S3 对象元数据发送到目标端点。然后，您可以使用目标服务提供的复杂搜索，数据分析，可视化或机器学习工具来搜索，分析对象数据并从中获得洞察力。</block>
  <block id="f6ee544081d4565f06e843326f7a46a4" category="paragraph">您可以为任何版本控制或未版本控制的存储分段启用搜索集成服务。搜索集成是通过将元数据通知配置 XML 与用于指定要对哪些对象执行操作的存储分段以及对象元数据的目标进行关联来配置的。</block>
  <block id="9ad34dcafd311e574e0d5bcc898488b9" category="paragraph">通知以 JSON 文档的形式生成，该文档使用分段名称，对象名称和版本 ID （如果有）命名。除了对象的所有标记和用户元数据之外，每个元数据通知还包含一组标准的对象系统元数据。</block>
  <block id="c3084cb35bf7a979197929ffbf53cca2" category="paragraph">每当出现以下情况时，都会生成通知并将其排队以供传送：</block>
  <block id="fa846ea4386cb27d3ea6712fe0c5f144" category="list-text">已创建对象。</block>
  <block id="6c32e43f4298871fcd132e537123b744" category="list-text">删除对象，包括因网格的 ILM 策略操作而删除对象的时间。</block>
  <block id="f12412a9fcd9ff4d386066a087e4d705" category="list-text">添加，更新或删除对象元数据或标记。更新时始终会发送一组完整的元数据和标记，而不仅仅是更改后的值。</block>
  <block id="bb2cbb1f6ca98a668718b71142754d64" category="paragraph">将元数据通知配置 XML 添加到存储分段后，系统会为您创建的任何新对象以及您通过更新其数据，用户元数据或标记来修改的任何对象发送通知。但是，不会为存储分段中已有的任何对象发送通知。要确保将存储分段中所有对象的对象元数据发送到目标，应执行以下任一操作：</block>
  <block id="dcd3f4bfbb814f6929ecbb3efb5c116c" category="list-text">创建存储分段后以及添加任何对象之前，请立即配置搜索集成服务。</block>
  <block id="60cd99a038a6b443f73de419e7d50b06" category="list-text">对存储分段中已有的所有对象执行操作，此操作将触发元数据通知消息以发送到目标。</block>
  <block id="75a4b1337e2cc27cae31bf1bd42cb377" category="paragraph">StorageGRID 搜索集成服务支持将 Elasticsearch 集群作为目标。与其他平台服务一样，目标也会在端点中指定，而此端点的 URN 会在该服务的配置 XML 中使用。使用<block ref="0aaf04254af18646f3d246cd4a4b417d" category="inline-link-rx"></block> 确定支持的 Elasticsearch 版本。</block>
  <block id="68e91cabfee9f7e01c27386d4b986cac" category="summary">租户管理器信息板概述了租户帐户的配置以及租户的分段 \ （ s3 ）或容器 \ （ swift\ ）中的对象使用的空间量。如果租户有配额，信息板将显示配额的已用量和剩余量。如果存在与租户帐户相关的任何错误，则这些错误将显示在信息板上。</block>
  <block id="36d0be1d5d4fa93b4f6fe47f632614c6" category="doc">了解租户管理器信息板</block>
  <block id="ba4315a80958c2c7c6af9b6f91d5bbe6" category="paragraph">租户管理器信息板概述了租户帐户的配置以及租户分段（ S3 ）或容器（ Swift ）中的对象所使用的空间量。如果租户有配额，信息板将显示配额的已用量和剩余量。如果存在与租户帐户相关的任何错误，则这些错误将显示在信息板上。</block>
  <block id="b3fe210b9d2a104d055336882a272156" category="admonition">" 已用空间 " 值是估计值。这些估计值受载入时间，网络连接和节点状态的影响。</block>
  <block id="31fe6b854aaf7c70fcdd55d7401f18a9" category="paragraph">上传对象后，信息板类似于以下示例：</block>
  <block id="d3ab39c9047a0b7da5b2e5880d915132" category="image-alt">信息板—存储分段列表</block>
  <block id="ba5aebc24f9d64f6fbe80f548ffee5ed" category="section-title">租户帐户摘要</block>
  <block id="17f03f059365d243898cd3015a1b2f05" category="paragraph">信息板顶部包含以下信息：</block>
  <block id="ddc0ff8a7220e6ca034631a7571c69f3" category="list-text">已配置的分段或容器，组和用户的数量</block>
  <block id="27db5ac202fde976a8401bcc36422cef" category="list-text">已配置的平台服务端点数量（如果有）</block>
  <block id="24e0e3ecb84e6f6bc4527604497ebfd1" category="paragraph">您可以选择这些链接来查看详细信息。</block>
  <block id="0d407fc66e7060980c334905dd2a9174" category="paragraph">信息板右侧包含以下信息：</block>
  <block id="e449c3524d23beba29d5202d360abb5d" category="list-text">租户的对象总数。</block>
  <block id="b5eabd06f200cc3bdcee10c582d3ac46" category="paragraph">对于 S3 帐户，如果尚未载入任何对象，并且您具有 root 访问权限，则会显示入门准则，而不是对象总数。</block>
  <block id="7856fd71c4d6bc2dc998e0eac80ca6da" category="inline-xref-macro">自己的身份源</block>
  <block id="f240402e3de2df860e14d419fb828709" category="list-text">租户详细信息，包括租户帐户名称和 ID 以及租户是否可以使用 <block ref="a474083eafb12b01acc542e7cab5ab7f" category="inline-xref-macro-rx"></block>， <block ref="a7c16d4edbb211e478386d6180cd8bd6" category="inline-xref-macro-rx"></block>或 <block ref="cca421a0c4ec7ff00802669f7c7a25cf" category="inline-xref-macro-rx"></block> （仅列出已启用的权限）。</block>
  <block id="731d54c061bcad8024cd575511cd119d" category="section-title">存储和配额使用量</block>
  <block id="dca5d2731ab53ecad5ad8ef5f61dc3ff" category="paragraph">存储使用情况面板包含以下信息：</block>
  <block id="bc9e8c9da4996116d609e9cfaa380251" category="list-text">租户的对象数据量。</block>
  <block id="5e746db38ea0155fb00cb7d70f55e9b4" category="admonition">此值表示已上传的对象数据总量，不表示用于存储这些对象及其元数据副本的空间。</block>
  <block id="19851211dbcd705e6cfbe6eed01f6b33" category="list-text">如果设置了配额，则表示可用于对象数据的总空间量以及剩余空间量和百分比。配额限制了可载入的对象数据量。</block>
  <block id="9311438520576c0d2132fcea3cd8069e" category="list-text">一个条形图，表示最大分段或容器的相对大小。</block>
  <block id="41778694c273df9badd68ffaa3859210" category="paragraph">您可以将光标置于任何图表区块上方，以查看该分段或容器占用的总空间。</block>
  <block id="967b76b1bf873806e927277a8149fa36" category="image-alt">条形图分段</block>
  <block id="9103481ae1a8552df841302491c00246" category="list-text">要与条形图相对应，需要列出最大的分段或容器，包括对象数据总量以及每个分段或容器的对象数量。</block>
  <block id="2eb84a257f2c4134cbca86a0ef91254a" category="image-alt">租户信息板分段</block>
  <block id="740fb76251ddfff7e2ffed6c23720d28" category="paragraph">如果租户具有九个以上的分段或容器，则所有其他分段或容器将合并到列表底部的一个条目中。</block>
  <block id="30a63670a742e123fbe88045709c6476" category="section-title">配额使用情况警报</block>
  <block id="903821b22cac4a08c392c706c47ae1ba" category="paragraph">如果已在网格管理器中启用配额使用情况警报，则在配额不足或超过配额时，这些警报将显示在租户管理器中，如下所示：</block>
  <block id="d127afd7a8ed13a8ba30a131748b4b8e" category="paragraph">如果已使用租户配额的 90% 或更多，则会触发 * 租户配额使用量高 * 警报。有关详细信息，请参见 StorageGRID 监控和故障排除说明中的警报参考。</block>
  <block id="6cbe7879567c7a14615a4a8e71e7dde8" category="image-alt">剩余租户信息板配额</block>
  <block id="50b38d025e54fc965fe027f81b3cfbda" category="paragraph">如果超过配额，则无法上传新对象。</block>
  <block id="f3314ea2a51f9f73bd4729b6c87a0d50" category="image-alt">已使用租户信息板配额</block>
  <block id="228be35cd76d9909e3204223048b075b" category="admonition">要查看其他详细信息以及管理警报规则和通知，请参见有关监控 StorageGRID 和对其进行故障排除的说明。</block>
  <block id="67e20e8a7ac6d17f0516900f8027ca81" category="section-title">端点错误</block>
  <block id="615217a7b85ecccfa625e15f94f1ce7a" category="paragraph">如果您已使用网格管理器配置一个或多个端点以用于平台服务，则如果在过去七天内发生任何端点错误，则租户管理器信息板将显示警报。</block>
  <block id="f9ac09065157a3002e6ef9388b5386bd" category="image-alt">显示端点消息的信息板</block>
  <block id="c68489bda76f04d38e3dcfa33975faa6" category="paragraph">要查看有关端点错误的详细信息，请选择端点以显示端点页面。</block>
  <block id="7044730cb78e9ea3860ddf518088008c" category="inline-xref-macro">解决平台服务端点错误</block>
  <block id="8c3a4992be1d8c7e787fb6e996588383" category="paragraph"><block ref="8c3a4992be1d8c7e787fb6e996588383" category="inline-xref-macro-rx"></block></block>
  <block id="383e5f2063c31be37aa68be55a028ab4" category="summary">您可以通过导入联合组或创建本地组来管理 Swift 租户帐户的访问权限。至少有一个组必须具有 Swift 管理员权限，这是管理 Swift 租户帐户的容器和对象所必需的。</block>
  <block id="9e4ba145bb31b58a533021268695ccc7" category="doc">为 Swift 租户创建组</block>
  <block id="569d713f35c9882aa4cf673e36201648" category="list-text">如果您计划导入联合组，则表示已配置身份联合，并且已配置的身份源中已存在此联合组。</block>
  <block id="ca2a2c519888ba76156d34dd1575c94e" category="image-alt">显示 " 访问控制 "&gt;" 组 " 页面的屏幕截图</block>
  <block id="e175f6ba298ab2232a2593ee762bf621" category="paragraph">如果为 StorageGRID 系统启用了单点登录（ SSO ），则属于本地组的用户将无法登录到租户管理器，但他们可以根据组权限使用客户端应用程序管理租户的资源。</block>
  <block id="37d75815c82bc091385f8c0bebaf7230" category="list-text">选择访问模式。如果用户属于多个组，并且任何组设置为只读，则用户将对所有选定设置和功能具有只读访问权限。</block>
  <block id="3b6afa7e59db0f694df565c69f38b981" category="list-text">* 读写 * （默认）：用户可以登录到租户管理器并管理租户配置。</block>
  <block id="43daa0b4397d69fb9ff064937e133007" category="list-text">* 只读 * ：用户只能查看设置和功能。他们不能在租户管理器或租户管理 API 中进行任何更改或执行任何操作。本地只读用户可以更改自己的密码。</block>
  <block id="08b7d07a8765e4353eabd6a40c9f1525" category="list-text">设置组权限。</block>
  <block id="f44f0dfd3b9542dc64b1759d79644654" category="list-text">如果用户需要登录到租户管理器或租户管理 API ，请选中 * 根访问 * 复选框。（默认）</block>
  <block id="f32bb36e5a66451d560f79a073118fa3" category="list-text">如果用户不需要访问租户管理器或租户管理 API ，请取消选中 * 根访问 * 复选框。例如，取消选中不需要访问租户的应用程序对应的复选框。然后，分配 * Swift 管理员 * 权限，以允许这些用户管理容器和对象。</block>
  <block id="36ad84b89459566c4d1c039744255999" category="list-text">如果用户需要能够使用 Swift REST API ，请选中 * Swift administrator* 复选框。</block>
  <block id="5e0342e1c6df5d5525def88891cc839b" category="list-text">根据要创建的是联合组还是本地组，选择显示的按钮：</block>
  <block id="1c829db607e587666599ff73ccd41319" category="list-text">联合组： * 创建组 *</block>
  <block id="e00e32a5b18b7a22cc81923463079ba1" category="list-text">本地组： * 继续 *</block>
  <block id="acbc39d5756a95c332bdbd296ae8b297" category="paragraph">如果要创建本地组，请在选择 * 继续 * 后显示步骤 4 （添加用户）。对于联合组，不会显示此步骤。</block>
  <block id="e50a4e6d9508edbe83af5c963d489ef0" category="list-text">选中要添加到组的每个用户对应的复选框，然后选择 * 创建组 * 。</block>
  <block id="0e56d4290d806fd549ab7fc9bdf0cffa" category="paragraph">或者，您也可以在不添加用户的情况下保存组。您可以稍后将用户添加到组中，也可以在创建新用户时选择组。</block>
  <block id="9a36a35ab384371f87bdc0961f7f8358" category="paragraph">您创建的组将显示在组列表中。由于缓存，更改可能需要长达 15 分钟才能生效。</block>
  <block id="b8cab423f36b3b6983ff2b7383834cee" category="summary">您可以通过导入联合组或创建本地组来管理 S3 用户组的权限。</block>
  <block id="484d5b93bfa148c34b36d1ef9a84a3e2" category="doc">为 S3 租户创建组</block>
  <block id="861de116b47baf4fe09063e530f482da" category="list-text">选择此组的组权限。</block>
  <block id="c1487de2c04b89e2003a1e97f22fdbe3" category="paragraph">请参见有关租户管理权限的信息。</block>
  <block id="49ffd0c45376c6afa012142d09ea0497" category="list-text">选择组策略以确定此组的成员将拥有哪些 S3 访问权限。</block>
  <block id="22c3ec6816945671e07423bfa03e4e9b" category="list-text">* 无 S3 访问 * ：默认值。此组中的用户无权访问 S3 资源，除非使用存储分段策略授予访问权限。如果选择此选项，则默认情况下，只有 root 用户才能访问 S3 资源。</block>
  <block id="e5c0ebb06f5efbb4a641c0c15dff5bb2" category="list-text">* 自定义 * ：组中的用户将获得您在文本框中指定的权限。有关组策略的详细信息，包括语言语法和示例，请参见实施 S3 客户端应用程序的说明。</block>
  <block id="3799d11bc4e7f2efbba23ceef5188291" category="list-text">如果选择 * 自定义 * ，请输入组策略。每个组策略的大小限制为 5 ， 120 字节。您必须输入有效的 JSON 格式字符串。</block>
  <block id="1b44ee217e7ecc074444f76e991b0fb0" category="paragraph">在此示例中，只允许组成员列出和访问指定存储分段中与其用户名（密钥前缀）匹配的文件夹。请注意，在确定其他组策略和存储分段策略的隐私时，应考虑这些文件夹的访问权限。</block>
  <block id="cac99b32277f99a45686828f915c31b3" category="paragraph">或者，您也可以在不添加用户的情况下保存组。您可以稍后将用户添加到组中，也可以在添加新用户时选择组。</block>
  <block id="28d88db53acbd0da4a08b7df526c2771" category="summary">每当创建，删除对象或更新其元数据或标记时，搜索集成服务都会将对象元数据发送到目标搜索索引。</block>
  <block id="55540d35fa1d2865733a1b14208f4e52" category="doc">配置搜索集成服务</block>
  <block id="c449dd8e323f1d5db89fda85364c092d" category="list-text">您必须已创建要为其内容编制索引的 S3 存储分段。</block>
  <block id="905822f60bf378c0ae66103e0b48a1c4" category="list-text">要用作搜索集成服务目标的端点必须已存在，并且必须具有其 URN 。</block>
  <block id="50503786dd4382d90faf292dc4f7569d" category="paragraph">为源存储分段配置搜索集成服务后，创建对象或更新对象的元数据或标记会触发要发送到目标端点的对象元数据。如果为已包含对象的存储分段启用搜索集成服务，则不会自动为现有对象发送元数据通知。您必须更新这些现有对象，以确保其元数据已添加到目标搜索索引中。</block>
  <block id="6007946554842bb6a57ba318ee141d54" category="list-text">使用文本编辑器创建启用搜索集成所需的元数据通知 XML 。</block>
  <block id="c05f9a0906956cafd68070e1e2599722" category="list-text">请参见有关用于搜索集成的配置 XML 的信息。</block>
  <block id="6dce58e6b1e8355dbdad5f057ff2b0a5" category="list-text">配置 XML 时，请使用搜索集成端点的 URN 作为目标。</block>
  <block id="ffc02d6aa70dd3b9b6fe7b4512c16742" category="list-text">选择 * 平台服务 * &gt; * 搜索集成 *</block>
  <block id="6251fd506ffe6779da09a09c7b03b856" category="list-text">选中 * 启用搜索集成 * 复选框。</block>
  <block id="750e2f5c6c1abb28aa5c402b51317476" category="list-text">将元数据通知配置粘贴到文本框中，然后选择 * 保存更改 * 。</block>
  <block id="e32248c0409dab85d63b0a7b968ff9e3" category="image-alt">搜索集成配置对话框的屏幕截图</block>
  <block id="a85da1c209d7c7c38b1adf9fa06d5795" category="admonition">StorageGRID 管理员必须使用网格管理器或管理 API 为每个租户帐户启用平台服务。如果保存配置 XML 时发生错误，请联系 StorageGRID 管理员。</block>
  <block id="d3650fa69b6ee9c4183f4058c0b78089" category="list-text">验证是否已正确配置搜索集成服务：</block>
  <block id="b9dd421549ee26c4a4cdb079bbab4fe1" category="list-text">向源存储分段添加一个对象，以满足配置 XML 中指定的元数据通知触发要求。</block>
  <block id="9d3b45abec97ce5e98e469b83abb77f5" category="paragraph">在前面显示的示例中，添加到存储分段的所有对象都会触发元数据通知。</block>
  <block id="d0403d4d4cae3e799fe810fde92300a9" category="list-text">确认包含对象元数据和标记的 JSON 文档已添加到端点中指定的搜索索引中。</block>
  <block id="29e79b6b9a3c0c06648fa8b788c901b5" category="paragraph">根据需要，您可以使用以下任一方法禁用存储分段的搜索集成：</block>
  <block id="49287bbff633ae8667760651d0ed421b" category="list-text">选择 * 存储（ S3 ） * &gt; * 分段 * ，然后取消选中 * 启用搜索集成 * 复选框。</block>
  <block id="544bcff508b841d828308c8c0653a05d" category="list-text">如果您直接使用 S3 API ，请使用删除分段元数据通知请求。请参见有关实施 S3 客户端应用程序的说明。</block>
  <block id="652a3d611265165341a208c00f8a4e3a" category="paragraph"><block ref="652a3d611265165341a208c00f8a4e3a" category="inline-xref-macro-rx"></block></block>
  <block id="75b97d5e870cd350622ebc72fec99e84" category="summary">您可以根据需要将用户添加到本地组。</block>
  <block id="aae789a1afb659cd26002a28c27deb0f" category="doc">将用户添加到本地组</block>
  <block id="e699e35a49564243c4979d1e56b3fc0d" category="list-text">选择要将用户添加到的本地组的名称。</block>
  <block id="17b58e3233fd30857d54c2986b40bef8" category="paragraph">此时将显示组详细信息页面。</block>
  <block id="a5e4947913f1be26418d088051673711" category="list-text">选择 * 用户 * ，然后选择 * 添加用户 * 。</block>
  <block id="1b4fcfaacbd0ae3e24bc82f8d7a82211" category="image-alt">管理用户</block>
  <block id="82772f29aac5f51f8bca69ebe69482e3" category="list-text">选择要添加到组中的用户，然后选择 * 添加用户 * 。</block>
  <block id="777596d014265ef9fc03dbb2d4b74fb3" category="image-alt">将用户添加到组</block>
  <block id="f862aaac43e81ed6106fa80354ded77d" category="summary">如果您使用的是 S3 租户，并且您拥有相应的权限，则可以删除其他用户的 S3 访问密钥。删除访问密钥后，无法再使用它访问租户帐户中的对象和分段。</block>
  <block id="843f826cc77e915d132e2c6a2d8da5c4" category="doc">删除其他用户的 S3 访问密钥</block>
  <block id="3dfbd1e9f0b101c650a9c889fba0277a" category="paragraph">如果您使用的是 S3 租户，并且您拥有相应的权限，则可以删除其他用户的 S3 访问密钥。删除访问密钥后，无法再使用它访问租户帐户中的对象和分段。</block>
  <block id="53eeb744b4e87bb461be4f51102d188b" category="list-text">您必须具有 root 访问权限。请参见 <block ref="5b9f1b5a99edd0f1dc1967c03fbeba87" category="inline-xref-macro-rx"></block>。</block>
  <block id="2e87ed2205987f477e6d873f99685001" category="list-text">选择 * 访问密钥 * ，然后选中要删除的每个访问密钥对应的复选框。</block>
  <block id="9df1b8adf45a1fd946fd08c4e41e7db9" category="list-text">选择 * 操作 * &gt; * 删除选定密钥 * 。</block>
  <block id="eb37b091cc4ac70b024ad73b2de1245e" category="summary">S3 租户帐户的每个用户都必须具有访问密钥，才能在 StorageGRID 系统中存储和检索对象。访问密钥由访问密钥 ID 和机密访问密钥组成。</block>
  <block id="0a946fc7edd81c78d0e9cf4ec017b233" category="paragraph">S3 访问密钥可按如下方式进行管理：</block>
  <block id="1e6ac9f82f80337a425e49ac4fee3737" category="list-text">具有 * 管理自己的 S3 凭据 * 权限的用户可以创建或删除自己的 S3 访问密钥。</block>
  <block id="3f129934df3f9ba2f35437b90c13496a" category="list-text">具有 * 根访问 * 权限的用户可以管理 S3 根帐户和所有其他用户的访问密钥。除非存储分段策略明确禁用，否则根访问密钥可为租户提供对所有存储分段和对象的完全访问权限。</block>
  <block id="1f6817cfc669fd1cec3711f6df7b7672" category="paragraph">StorageGRID 支持签名版本 2 和签名版本 4 身份验证。除非存储分段策略明确启用，否则不允许跨帐户访问。</block>
  <block id="717b083ddeee3bdf420bca8578e70ff5" category="summary">如果您使用的是 S3 租户，并且您拥有相应的权限，则可以创建自己的 S3 访问密钥。要访问 S3 租户帐户中的分段和对象，您必须具有访问密钥。</block>
  <block id="85244b848dd54a37b748a5712b64a770" category="paragraph">您可以创建一个或多个 S3 访问密钥，以便为租户帐户创建和管理存储分段。创建新的访问密钥后，使用新的访问密钥 ID 和机密访问密钥更新应用程序。为安全起见，请勿创建超出您需要的密钥，并删除您未使用的密钥。如果只有一个密钥，并且该密钥即将到期，请在旧密钥到期之前创建一个新密钥，然后删除旧密钥。</block>
  <block id="8ce7f7911360337e36534c009cf6e9ff" category="list-text">为密钥设置到期时间，以将访问权限限制为特定时间段。设置较短的到期时间有助于降低访问密钥 ID 和机密访问密钥意外暴露时的风险。过期密钥将自动删除。</block>
  <block id="0d49dfac1da28d50d073d3d60fd119d4" category="list-text">如果环境中的安全风险较低，并且您不需要定期创建新密钥，则无需为密钥设置到期时间。如果您稍后决定创建新密钥，请手动删除旧密钥。</block>
  <block id="8bfb86995a7b64fe58fbb81623a91f57" category="list-text">选择 * 不设置到期时间 * 可创建不会过期的密钥。（默认）</block>
  <block id="89d3dfb8aad2074b9f00de9456507756" category="image-alt">创建访问密钥对话框的屏幕截图</block>
  <block id="8e268e6dc76d93d703687242642f789a" category="paragraph">此时将显示 Download access key 对话框，其中列出了您的访问密钥 ID 和机密访问密钥。</block>
  <block id="3cd21f8419321db1938eb99172d89ce4" category="image-alt">保存密钥对话框的屏幕截图</block>
  <block id="ab6ef5d66eb05be79cfcbde35d38f0d7" category="paragraph">新密钥将列在 " 我的访问密钥 " 页面上。由于缓存，更改可能需要长达 15 分钟才能生效。</block>
  <block id="32b91d0b578efa5e4b916357d440f056" category="summary">如果与平台服务的连接发生更改，您可以测试端点的连接，以验证目标资源是否存在以及是否可以使用您指定的凭据访问它。</block>
  <block id="f248b92dbce84406960a0be493eef559" category="doc">测试平台服务端点的连接</block>
  <block id="263d01b472148d0e699d19f424e8342e" category="paragraph">StorageGRID 不会验证这些凭据是否具有正确的权限。</block>
  <block id="d42ba2c13f6dcf5824d2f5fb58b63866" category="list-text">选择要测试其连接的端点。</block>
  <block id="d8f33ae757568ccee233c5c7c05ed6d3" category="image-alt">测试端点连接</block>
  <block id="39c8bc096cfa5d669099b0f4accfd4b1" category="list-text">如果端点验证失败，则会显示一条错误消息。如果需要修改端点以更正错误，请选择 * 配置 * 并更新信息。然后，选择 * 测试并保存更改 * 。</block>
  <block id="0d09e9933e758f069ca785d67624d370" category="summary">搜索集成服务使用 &lt;MetadataNotificationConfiguration\&gt; 和 &lt;/MetadataNotificationConfiguration\&gt; 标记中包含的一组规则进行配置。每个规则都指定规则适用场景 所使用的对象以及 StorageGRID 应将这些对象的元数据发送到的目标。</block>
  <block id="fcc389f0dfe95225bf6020862ded3ecb" category="paragraph">搜索集成服务使用 ` &lt;MetadataNotificationConfiguration&gt;` 和 ` &lt;/MetadataNotificationConfiguration&gt;` 标记中包含的一组规则进行配置。每个规则都指定规则适用场景 所对应的对象以及 StorageGRID 应将这些对象的元数据发送到的目标。</block>
  <block id="cfc5c9ee12778c561b0395f3753a14e7" category="paragraph">可以按对象名称的前缀筛选对象。例如，您可以将前缀为 `images` 的对象的元数据发送到一个目标，将前缀为 `videos` 的对象的元数据发送到另一个目标。前缀重叠的配置无效，在提交时会被拒绝。例如，不允许对前缀为 `test` 的对象使用一个规则，而对前缀为 `test2` 的对象使用另一个规则。</block>
  <block id="c5be7823412fc218faccb406d015c995" category="paragraph">必须使用为搜索集成服务创建的 StorageGRID 端点的 URN 指定目标。这些端点是指 Elasticsearch 集群上定义的索引和类型。</block>
  <block id="a7fa4bdb0bc43de5a93da0b207d70bef" category="paragraph">urn 包含在目标元素中。</block>
  <block id="cbe51c9f1d7b9fd737d11decd1021427" category="paragraph">使用示例元数据通知配置 XML 了解如何构建自己的 XML 。</block>
  <block id="dcbabe6969c82f722d85959bf60531ae" category="section-title">用于适用场景 所有对象的元数据通知配置</block>
  <block id="47a47e9e0f791ea5eaedf5c99cac64bd" category="paragraph">在此示例中，所有对象的对象元数据都将发送到同一目标。</block>
  <block id="b8f221ebe75ef0943076d464e1a05c54" category="section-title">具有两个规则的元数据通知配置</block>
  <block id="416c731a6feeda1d65b306f46faf0678" category="doc">使用租户帐户：概述</block>
  <block id="6b67256e2b0c2670be489b15da1d909f" category="section-title">什么是租户帐户？</block>
  <block id="c09e5cfc87213b5552c30ee7fda760b7" category="admonition">如果使用 S3 客户端协议，则还可以使用 S3 分段和分段策略在企业中的各个部门之间隔离对象。您无需创建单独的租户帐户。请参见 <block ref="887c675ade23ade7eb8876f656f4f0ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="cf51079aa329b0dee64c4c9293819d2a" category="section-title">如何创建租户帐户</block>
  <block id="8b62bb4899bf253bc5c2ed67f35f3d4c" category="inline-xref-macro">使用网格管理器的 StorageGRID 网格管理员</block>
  <block id="b9e32c33e554f0b4be5e397126cdd372" category="paragraph">租户帐户由创建 <block ref="e579c06cec3fdb4ec3a1ab1996b271f9" category="inline-xref-macro-rx"></block>。创建租户帐户时，网格管理员会指定以下信息：</block>
  <block id="a775020266d9a61f92fb0451bab7250d" category="inline-xref-macro">已创建 S3 租户帐户</block>
  <block id="2f676894dafdf138bb9a216ef23a6e6f" category="paragraph">在之后 <block ref="d2d74f52f920f005b99ae92b13548df3" category="inline-xref-macro-rx"></block>，您可以访问租户管理器以执行以下任务：</block>
  <block id="40561bddc32028a6e3cadad20cf900a9" category="inline-xref-macro">S3 访问密钥，并使用 S3 REST API 载入和管理对象</block>
  <block id="73b88ee50e8f945bb36c11a974ab6277" category="admonition">虽然您可以使用租户管理器创建和管理 S3 存储分段，但您必须具有 <block ref="e8a0c254fe23f8f76e6397ed91acb0e7" category="inline-xref-macro-rx"></block>。</block>
  <block id="0fb2926fa23da5225694769bbdbd8f34" category="inline-xref-macro">已创建 Swift 租户帐户</block>
  <block id="68a068dd057e29372760646adb79a6a7" category="paragraph">在 A 之后 <block ref="9eb18c3a69145a588e8b5e67c859459a" category="inline-xref-macro-rx"></block>，您可以访问租户管理器以执行以下任务：</block>
  <block id="ca900f4351c6cc03061e99a9da3d9498" category="inline-xref-macro">Swift REST API</block>
  <block id="467ee15df0c74c9119a8fd8fe17d7df7" category="admonition">Swift 用户必须具有 root 访问权限才能访问租户管理器。但是， " 根访问 " 权限不允许用户在中进行身份验证 <block ref="ff492c2f7f72bafa61b4336982a6b4a8" category="inline-xref-macro-rx"></block> 创建容器和载入对象。用户必须具有 Swift 管理员权限才能向 Swift REST API 进行身份验证。</block>
  <block id="af26af438fe330ae7843478b7d38d6e1" category="section-title">使用租户管理器</block>
  <block id="a4e42054784c7f90a098bded7e9fd7f9" category="paragraph">租户管理器允许您管理 StorageGRID 租户帐户的所有方面。</block>
  <block id="f97d74aa5ba6a7ec0cb3a494565fe814" category="paragraph">您可以使用租户管理器监控租户帐户的存储使用情况，并通过身份联合或创建本地组和用户来管理用户。对于 S3 租户帐户，您还可以管理 S3 密钥，管理 S3 存储分段以及配置平台服务。</block>
  <block id="62b89835dbc5d5e41e893c3222ded103" category="summary">如果您希望 StorageGRID 将添加到 S3 存储分段的指定对象复制到一个或多个目标存储分段，则可以为该存储分段启用 CloudMirror 复制。</block>
  <block id="d3e4c29697aaf83f2e705e4b803fa98d" category="paragraph">CloudMirror 复制独立于网格的活动 ILM 策略运行。CloudMirror 服务会在将对象存储到源存储分段时复制这些对象，并尽快将其交付到目标存储分段。对象载入成功后，系统将触发复制对象的传送。</block>
  <block id="306af527987503c08be4f75aa50d8a7f" category="paragraph">如果为现有存储分段启用 CloudMirror 复制，则只会复制添加到该存储分段的新对象。不会复制存储分段中的任何现有对象。要强制复制现有对象，您可以通过执行对象复制来更新现有对象的元数据。</block>
  <block id="3cb5de227186e21514debc2792122ad6" category="admonition">如果您使用 CloudMirror 复制将对象复制到 AWS S3 目标，请注意 Amazon S3 将每个 PUT 请求标头中用户定义的元数据的大小限制为 2 KB 。如果对象的用户定义元数据大于 2 KB ，则不会复制该对象。</block>
  <block id="d097b9bc3c216acfa46ac28bf4ff8c4c" category="paragraph">在 StorageGRID 中，您可以将单个存储分段中的对象复制到多个目标存储分段。为此，请为复制配置 XML 中的每个规则指定目标。不能将对象同时复制到多个存储分段。</block>
  <block id="6e132341a633faaa32b1b8c1c6c2d57c" category="paragraph">此外，您还可以在受版本控制或未受版本控制的分段上配置 CloudMirror 复制，并可以指定受版本控制或未受版本控制的分段作为目标。您可以使用版本控制和未版本控制的分段的任意组合。例如，您可以将版本控制的存储分段指定为未版本控制的源存储分段的目标，反之亦然。您还可以在未版本控制的存储分段之间进行复制。</block>
  <block id="fd03c2eef5546350cd2afdce54feb6b4" category="paragraph">CloudMirror 复制服务的删除行为与 Amazon S3 提供的跨区域复制（ CRR ）服务的删除行为相同—删除源存储分段中的对象绝不会删除目标中的复制对象。如果源和目标存储分段都已进行版本控制，则会复制删除标记。如果目标分段未进行版本控制，则删除源分段中的对象不会将删除标记复制到目标分段或删除目标对象。</block>
  <block id="fa5f61e404214dc3f9f78b07b65b3cf8" category="paragraph">当对象复制到目标存储分段时， StorageGRID 会将其标记为 `replicas 。` 目标 StorageGRID 存储分段不会再次复制标记为副本的对象，从而防止意外复制环路。此副本标记是 StorageGRID 的内部标记，不会阻止您在使用 Amazon S3 存储分段作为目标时利用 AWS CRR 。</block>
  <block id="50961cbe8f796b71c527f5a0dd5f250b" category="admonition">用于标记副本的自定义标头为 `x-ntap-sg-replica` 。此标记可防止级联镜像。StorageGRID 确实支持在两个网格之间使用双向 CloudMirror 。</block>
  <block id="5662ae9215e371ac3f8e6d938ec40541" category="paragraph">无法保证目标存储分段中事件的唯一性和顺序。由于为确保成功交付而执行的操作，可能会将一个源对象的多个相同副本传送到目标。在极少数情况下，如果从两个或更多不同的 StorageGRID 站点同时更新同一对象，则目标存储分段上的操作顺序可能与源存储分段上的事件顺序不匹配。</block>
  <block id="3524ea2e67cc2c63c59f13572a6d766a" category="paragraph">CloudMirror 复制通常配置为使用外部 S3 存储分段作为目标。但是，您也可以将复制配置为使用另一个 StorageGRID 部署或任何与 S3 兼容的服务。</block>
  <block id="7361e7a7369f82a02409853d0944f75a" category="summary">如果您使用的是 S3 租户，则可以使用租户管理器或租户管理 API 更改 S3 分段的版本控制状态。</block>
  <block id="c9bfacbde939f17f46abcffa8ad746b3" category="doc">更改存储分段的对象版本控制</block>
  <block id="21414412769ef480ab9717889dc34cea" category="list-text">您属于具有 " 管理所有分段 " 或 " 根访问 " 权限的用户组。这些权限将覆盖组或存储分段策略中的权限设置。</block>
  <block id="def117f8feab93d795fe1ab5261ece89" category="paragraph">您可以为存储分段启用或暂停对象版本控制。为存储分段启用版本控制后，它将无法恢复为未版本控制状态。但是，您可以暂停存储分段的版本控制。</block>
  <block id="c283f8c5636f528a651389ea99ae0488" category="list-text">Disabled ：从未启用版本控制</block>
  <block id="95b752f050cdbefb4a5782a2bc39282c" category="inline-xref-macro">S3 对象版本控制</block>
  <block id="2c67651a4eb0944901f9a3c5eea15bd8" category="paragraph"><block ref="2c67651a4eb0944901f9a3c5eea15bd8" category="inline-xref-macro-rx"></block></block>
  <block id="765aaf8d1ff98fcad091b75fd7b671b6" category="inline-xref-macro">S3 版本对象的 ILM 规则和策略（示例 4 ）</block>
  <block id="0365774faa07aec8c966996c02033ac1" category="paragraph"><block ref="0365774faa07aec8c966996c02033ac1" category="inline-xref-macro-rx"></block></block>
  <block id="b40f05a5d40c3487b4addfe415d636f1" category="list-text">选择 * 分段选项 * &gt; * 对象版本控制 * 。</block>
  <block id="e63345e0846fe0d71e3e2f08481b98dd" category="image-alt">存储分段更改对象版本控制</block>
  <block id="1632c609388fc8293c12f4ebd2ca6b72" category="list-text">为此存储分段中的对象选择版本控制状态。</block>
  <block id="bbc412dfa18e5b21747bd31a2d0706c4" category="admonition">如果启用了 S3 对象锁定或原有合规性，则会禁用 * 对象版本控制 * 选项。</block>
  <block id="823e3d309f271d17abda0806debebd13" category="paragraph">启用版本控制</block>
  <block id="d6cd516384e37f1199ea2ea276fc7b29" category="paragraph">如果要将每个对象的每个版本存储在此存储分段中，请启用对象版本控制。然后，您可以根据需要检索对象的先前版本。</block>
  <block id="3a31dfc9887410a4175489bc8415323a" category="paragraph">用户修改存储分段中已存在的对象时，这些对象将进行版本控制。</block>
  <block id="42a50527948c20c1f2ff7b37ceba88a1" category="paragraph">暂停版本控制</block>
  <block id="8ff210360c778eddfe9f8b27afb91e82" category="paragraph">如果您不再需要创建新的对象版本，请暂停对象版本控制。您仍然可以检索任何现有对象版本。</block>
  <block id="507c8b138d86eebaa9d3aff92a5a5c65" category="summary">您可以为用户组分配权限，以控制租户用户可以执行的任务。您可以从身份源（例如 Active Directory 或 OpenLDAP ）导入联合组，也可以创建本地组。</block>
  <block id="5d10fe3401d52b56670b203b20ddb6bf" category="doc">管理组</block>
  <block id="696bcfbf2eca001c857f875a8a3685b9" category="admonition">如果为 StorageGRID 系统启用了单点登录（ SSO ），则本地用户将无法登录到租户管理器，但他们可以根据组权限访问 S3 和 Swift 资源。</block>
  <block id="7df0b0b49b9b1c4f523f2bcd308e8f06" category="summary">您可以使用租户管理器为对象数据创建 S3 分段。创建存储分段时，必须指定存储分段的名称和区域。如果为 StorageGRID 系统启用了全局 S3 对象锁定设置，则可以选择为存储分段启用 S3 对象锁定。</block>
  <block id="6eae817814fb8715e955fb58063350af" category="doc">创建 S3 存储分段</block>
  <block id="de7135fcbc0443c98e20060a5f4262c4" category="paragraph">您可以使用租户管理器为对象数据创建 S3 分段。创建存储分段时，必须指定存储分段的名称和区域。如果为 StorageGRID 系统启用了全局 S3 对象锁定设置，则可以选择为存储分段启用 S3 对象锁定。</block>
  <block id="03f28cec004396bf5c903fe684a4095d" category="inline-xref-macro">存储分段策略或组策略</block>
  <block id="8824c8d6dab34096e1abe9b79fac9c76" category="admonition">可以授予设置或修改存储分段或对象的 S3 对象锁定属性的权限 <block ref="5da7844f16e01ddd830ddf8f575335d3" category="inline-xref-macro-rx"></block>。</block>
  <block id="a02d691eb7c7b334c7121ab44e0beeb3" category="list-text">如果您计划使用 S3 对象锁定创建存储分段，则已为 StorageGRID 系统启用全局 S3 对象锁定设置，并已查看 S3 对象锁定存储分段和对象的要求。</block>
  <block id="5d5e1ffd8659b82398b52034c30c4c32" category="image-alt">已禁用存储分段创建合规性</block>
  <block id="ca85590a2bdefb558da8af7dacd6b952" category="list-text">输入存储分段的唯一名称。</block>
  <block id="e53c957114009561725fc45998abd90c" category="list-text">每个标签必须以小写字母或数字开头和结尾，并且只能使用小写字母，数字和连字符。</block>
  <block id="f5deb6c50c5ef38950f650cba34780bc" category="inline-link">有关存储分段命名规则的 Amazon Web Services （ AWS ）文档</block>
  <block id="2acdc081b87dfb5f7470a08db727a212" category="admonition">有关详细信息，请参见<block ref="c192042024a8f68be5a4c7bc34004895" category="inline-link-rx"></block>。</block>
  <block id="98ec0134ae125a466cd4f52ee4170b6e" category="paragraph">StorageGRID 管理员负责管理可用的区域。存储分段的区域可能会影响应用于对象的数据保护策略。默认情况下，所有分段都在 `us-east-1` 区域创建。</block>
  <block id="2a14a84d2cdf3dba66397aa642ecd1a7" category="admonition">创建存储分段后，您无法更改此区域。</block>
  <block id="1abddff768170eaba75c14978bc2c71b" category="list-text">（可选）为存储分段启用对象版本控制。</block>
  <block id="15d8ef58a268d1ea319505f03e71e221" category="list-text">如果显示 "S3 Object Lock" 部分，则可以选择为存储分段启用 S3 Object Lock 。</block>
  <block id="121c057e9b7cbd5da5ebf474105d6af3" category="admonition">创建存储分段后，您无法启用或禁用 S3 对象锁定。</block>
  <block id="9612955e3fc0d9fd38d59dc0a68d70ec" category="paragraph">只有在启用了全局 S3 对象锁定设置的情况下，才会显示 S3 对象锁定部分。</block>
  <block id="67c829986ae2289c3d2343127a819271" category="paragraph">必须为存储分段启用 S3 对象锁定， S3 客户端应用程序才能为添加到存储分段的对象指定保留日期和合法保留设置。</block>
  <block id="706645668046ef27f43c764e82ffc91f" category="paragraph">如果为存储分段启用 S3 对象锁定，则会自动启用存储分段版本控制。您也可以 <block ref="e2c421d9a5703c6c664784d1045961cf" category="inline-xref-macro-rx"></block> 应用于输入到存储分段中但未指定其自身保留设置的每个对象。</block>
  <block id="dae88aa57023d25a914b7f27844a0886" category="paragraph">此时将创建存储分段并将其添加到 " 存储分段 " 页面上的表中。</block>
  <block id="0894f612bf3eefe24129515f5cf8d30a" category="paragraph"><block ref="0894f612bf3eefe24129515f5cf8d30a" category="inline-xref-macro-rx"></block></block>
  <block id="d3929a0dea572e10006f2adf12521dc3" category="summary">如果在 StorageGRID 尝试与平台服务端点通信时发生错误，信息板上将显示一条消息。在平台服务端点页面上，最后一个错误列指示错误发生多长时间前。如果与端点凭据关联的权限不正确，则不会显示任何错误。</block>
  <block id="2e9baf063809d4d87edcfc5d70ba641c" category="paragraph">如果在 StorageGRID 尝试与平台服务端点通信时发生错误，信息板上将显示一条消息。在平台服务端点页面上，最后一个错误列指示错误发生多长时间前。如果与端点凭据关联的权限不正确，则不会显示任何错误。</block>
  <block id="c12c2c1cc8ea46511a483fb5a6d1c070" category="section-title">确定是否发生错误</block>
  <block id="caf62d57547d606836901b3feec19307" category="paragraph">如果在过去 7 天内发生任何平台服务端点错误，则租户管理器信息板将显示一条警报消息。您可以转到平台服务端点页面以查看有关此错误的更多详细信息。</block>
  <block id="f21757011cac2ba2c210b8b9012e340d" category="image-alt">信息板上显示端点错误消息</block>
  <block id="490a7ed52d08332759469769475afe3d" category="paragraph">信息板上显示的同一错误也会显示在平台服务端点页面的顶部。要查看更详细的错误消息，请执行以下操作：</block>
  <block id="4ae7fbe9bdb9aee1cabe152608d33a13" category="list-text">从端点列表中，选择出现错误的端点。</block>
  <block id="ed73f4016ee6866ed2e4236ca92efe88" category="inline-image-macro">红色 X 图标</block>
  <block id="d2b8912c04923e3bbda14128b3af9d1a" category="list-text">在端点详细信息页面上，选择 * 连接 * 。此选项卡仅显示端点的最新错误，并指示错误发生的时间。包含红色 X 图标的错误 <block ref="bb86e4e1464ab87ed499ed81e05f4c80" category="inline-image-macro-rx" type="image"></block> 发生在过去 7 天内。</block>
  <block id="db238f6beab7d3cedbd56bf0ece97127" category="image-alt">连接选项卡上出现端点错误</block>
  <block id="c9027db42a06f8d2fe6a3364b16f4665" category="section-title">检查错误是否仍然是最新的</block>
  <block id="c8a2e33d63f7235c78463e8557f57199" category="paragraph">即使解决了某些错误， * 最后一个错误 * 列也可能会继续显示这些错误。要查看错误是否为当前错误或强制从表中删除已解决的错误，请执行以下操作：</block>
  <block id="706a94abb308de1e0a2786b20cf2ea4b" category="list-text">选择端点。</block>
  <block id="5e7e63936ca2f9e3a6ab7b59ef663585" category="list-text">选择 * 连接 * &gt; * 测试连接 * 。</block>
  <block id="b5b5e9c79aa3fcbe36899ca67e3a3535" category="paragraph">选择 * 测试连接 * 将使 StorageGRID 验证平台服务端点是否存在以及是否可以使用当前凭据访问它。系统会从每个站点的一个节点验证与端点的连接。</block>
  <block id="24a432ad8d7e085a84332f726a615631" category="section-title">解决端点错误</block>
  <block id="7a0dc0e23e7f6baa9c2721121d04abb9" category="paragraph">您可以使用端点详细信息页面上的 * 最后一个错误 * 消息来帮助确定导致错误的原因。某些错误可能需要编辑端点才能解决问题描述 。例如，如果 StorageGRID 由于没有正确的访问权限或访问密钥已过期而无法访问目标 S3 存储分段，则可能会发生 CloudMirrorbuc2 错误。消息为 "`需要更新端点凭据或目标访问，` " ，详细信息为 "`AccessDenied` " 或 "`InvalidAccessKeyId 。` "</block>
  <block id="a7726c1313e56c1dfaede151b96dc7ba" category="paragraph">如果您需要编辑端点以解决错误，则选择 * 测试并保存更改 * 会使 StorageGRID 验证更新后的端点，并确认可以使用当前凭据访问它。系统会从每个站点的一个节点验证与端点的连接。</block>
  <block id="f0cf5556706f0b04333f10689f2a03b0" category="list-text">在端点详细信息页面上，选择 * 配置 * 。</block>
  <block id="79abb6951aa7797f43f9decc47a369cb" category="list-text">根据需要编辑端点配置。</block>
  <block id="b2d014899b71e474abc60f742e307824" category="section-title">权限不足的端点凭据</block>
  <block id="7660fbc510d6d7079f1bf75d01740ec7" category="paragraph">当 StorageGRID 验证平台服务端点时，它会确认端点的凭据可用于联系目标资源，并执行基本权限检查。但是， StorageGRID 不会验证某些平台服务操作所需的所有权限。因此，如果您在尝试使用平台服务（例如 "`403 For禁用` " ）时收到错误，请检查与此端点凭据关联的权限。</block>
  <block id="846eeb4ae50fd8438796084b8cc99d43" category="section-title">其他平台服务故障排除</block>
  <block id="d25adf863efbad0142843b4f02347932" category="paragraph">有关追加信息 对平台服务进行故障排除的信息，请参见有关管理 StorageGRID 的说明。</block>
  <block id="44f77697df59b64b74533f65e9eab29b" category="paragraph"><block ref="44f77697df59b64b74533f65e9eab29b" category="inline-xref-macro-rx"></block></block>
  <block id="3fd04687fc473829980d9be777bca3e1" category="paragraph"><block ref="3fd04687fc473829980d9be777bca3e1" category="inline-xref-macro-rx"></block></block>
  <block id="92b66737d7c75d489324a30414f63a74" category="summary">如果您不想再使用关联的平台服务，可以删除端点。</block>
  <block id="d05191b114b68223f8dc4b5febf013d0" category="doc">删除平台服务端点</block>
  <block id="0d4222e2a03a94a72804f0c38047be15" category="list-text">您必须属于具有 * 管理端点 * 权限的用户组。请参见 <block ref="5b9f1b5a99edd0f1dc1967c03fbeba87" category="inline-xref-macro-rx"></block>。</block>
  <block id="d8866c7b767ecd50e9a173841f0fcc86" category="list-text">选中要删除的每个端点对应的复选框。</block>
  <block id="4af499393e603ee157bcde41c2b59902" category="admonition">如果删除正在使用的平台服务端点，则使用此端点的任何分段都将禁用关联的平台服务。任何尚未完成的请求都将被丢弃。所有新请求都将继续生成，直到您更改存储分段配置以不再引用已删除的 URN 为止。StorageGRID 会将这些请求报告为不可恢复的错误。</block>
  <block id="a8e4e5d3211091298b933d1c8d1488e5" category="list-text">选择 * 操作 * &gt; * 删除端点 * 。</block>
  <block id="ba8ac0d63ee266e7d03f450289e2f53d" category="image-alt">确认删除端点</block>
  <block id="9a2d141a9e898b1a7b9b55c06ae5af48" category="list-text">选择 * 删除端点 * 。</block>
  <block id="ebe59fd241b00a5ce951518a061100f3" category="summary">您可以使用 S3 控制台查看 S3 存储分段中的对象。</block>
  <block id="66033f96757d3c6567bdfb3cc577cf24" category="paragraph">您也可以使用 S3 控制台执行以下操作：</block>
  <block id="0540e4b39c419e71b83ac6667a0bd37c" category="list-text">添加和删除对象，对象版本和文件夹</block>
  <block id="b92a692da08efd1c944295ec5d696e55" category="list-text">重命名对象</block>
  <block id="c1374baf6a3217d773361bf7dbc4bd5f" category="list-text">在分段和文件夹之间移动和复制对象</block>
  <block id="44076a98ae880d29a78ebbb4e7b64123" category="list-text">管理对象标记</block>
  <block id="43410a7bf809384ddd58286e68e0d4b1" category="list-text">查看对象元数据</block>
  <block id="102e1c92c514c885b81f0aec8532f314" category="list-text">下载对象</block>
  <block id="c478160a22b90a78547e05d3425d8606" category="admonition">S3 控制台尚未经过全面测试，并标记为 " 试验 " 。 它不适用于对象的批量管理或在生产环境中使用。只有在为少量对象执行功能时，租户才应使用 S3 控制台，例如上传对象以模拟新的 ILM 策略，排除载入问题或使用概念验证或非生产网格。</block>
  <block id="092e95cef4385afdc033c67b85009090" category="list-text">您具有管理自己的 S3 凭据权限。</block>
  <block id="b896fab5a9f3410c54d05310016ec073" category="list-text">您已创建存储分段。</block>
  <block id="fc8a8aeb4fd1f1473eb96504c860e7d3" category="inline-xref-macro">创建访问密钥的说明</block>
  <block id="b5814e926bc2c78ebbaa3b0777006c13" category="list-text">您知道用户的访问密钥 ID 和机密访问密钥。您也可以使用包含此信息的 ` .csv` 文件。请参见 <block ref="90c90f9b7d682166e37249ff7761bd06" category="inline-xref-macro-rx"></block>。</block>
  <block id="8a7d0c537806ee65874e62ed286fba89" category="list-text">选择 * 分段 * 。</block>
  <block id="04fa9fb9172edd60ecb493a1c3b10a70" category="inline-image-macro">S3 控制台链接</block>
  <block id="0daf92645aeb0214da193c9215a908e1" category="list-text">选择 ... <block ref="4a743b1f5d2f9483f0ee996d20a35802" category="inline-image-macro-rx" type="image"></block>。您也可以从存储分段详细信息页面访问此链接。</block>
  <block id="f6a882cef53d87e4c8b0a3eae617579e" category="list-text">在试验性 S3 控制台登录页面上，将访问密钥 ID 和机密访问密钥粘贴到字段中。否则，请选择 * 上传访问密钥 * 并选择您的 ` .csv` 文件。</block>
  <block id="fba8aee9e9cbd17907838f66af93f924" category="list-text">选择 * 登录 * 。</block>
  <block id="9f325c855e9512a918aecfc668909431" category="list-text">根据需要管理对象。</block>
  <block id="d89c030690d8444e3269b8189c0a58e2" category="image-alt">S3 控制台示例</block>
  <block id="cd2e6b5bbd21135e2b2572084e054fcf" category="summary">您可以通过在支持的 Web 浏览器的地址栏中输入租户的 URL 来访问租户管理器。</block>
  <block id="e1c08628016d2029d26d1fb43e3f3d1c" category="doc">登录到租户管理器</block>
  <block id="e5dc5a7c73187e09b5e89b9c2becd337" category="paragraph">您可以通过在的地址栏中输入租户的 URL 来访问租户管理器 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="400be4872b47632b0ed2538c0321dc02" category="list-text">您必须拥有登录凭据。</block>
  <block id="eb1eb1fd54ce5818b7e2102654e8a0e1" category="list-text">您必须具有网格管理员提供的用于访问租户管理器的 URL 。URL 将类似于以下示例之一：</block>
  <block id="2ad58b061aa528ac6856d0f577418418" category="paragraph">此 URL 始终包含用于访问管理节点的完全限定域名（ FQDN ）或 IP 地址，也可以包括端口号， 20 位租户帐户 ID 或这两者。</block>
  <block id="6d5c49481f71153aa67947d306fca791" category="list-text">如果 URL 不包含租户的 20 位帐户 ID ，则必须具有此帐户 ID 。</block>
  <block id="e908f4117410cbd79181064086cc30b5" category="list-text">必须在 Web 浏览器中启用 Cookie 。</block>
  <block id="776d5fcc59361a00b906a0cffd1000d4" category="list-text">启动 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="b1678354d2d73071f20ae96d56f8cdf8" category="list-text">在浏览器的地址栏中，输入用于访问租户管理器的 URL 。</block>
  <block id="5966282b59ac887ab70836053243914f" category="list-text">如果系统提示您显示安全警报，请使用浏览器的安装向导安装证书。</block>
  <block id="bead8bc8da342328d0b58dbd85b32478" category="paragraph">您看到的登录屏幕取决于您输入的 URL 以及您的组织是否使用单点登录（ SSO ）。您将看到以下屏幕之一：</block>
  <block id="9b63a7bbd858dfa7a2faea672f8fd020" category="list-text">网格管理器登录页面。单击右上角的 * 租户登录 * 链接。</block>
  <block id="9567fd5c133a9b5c0e95e0939a3f2273" category="image-alt">网格管理器登录页面上的租户登录链接</block>
  <block id="4bb63f3b124d37951a58ee09f3fed7c1" category="list-text">租户管理器登录页面。* 帐户 ID* 字段可能已完成，如下所示。</block>
  <block id="1ba1a0dff0e9616f9620ae88d4cc2f9c" category="image-alt">租户管理器登录页面</block>
  <block id="c756667913a7ea9ef4754c297e9b1561" category="list-text">如果未显示租户的 20 位帐户 ID ，请选择最近帐户列表中显示的租户帐户名称，或者输入帐户 ID 。</block>
  <block id="795f86a5b5dd65a594f6688a3a5d26f0" category="list-text">输入用户名和密码。</block>
  <block id="ce5a7da9965108904137678af1c180c8" category="list-text">单击 * 登录 * 。</block>
  <block id="967b25acefca0c3a5964d557a5d40e29" category="paragraph">此时将显示租户管理器信息板。</block>
  <block id="379e915cb134892c51c9b0d6a21d0253" category="list-text">如果在网格上启用了 SSO ，则为您所在组织的 SSO 页面。例如：</block>
  <block id="ee2d277f6e1bdb4625b8c6b2ec8e74fa" category="image-alt">SSO 的示例组织登录页面</block>
  <block id="310c45bbe1a82551bc123ead56ae6050" category="paragraph">输入标准 SSO 凭据，然后单击 * 登录 * 。</block>
  <block id="7b7a6b4c643c6f2a04235f6423b1bf53" category="list-text">租户管理器 SSO 登录页面。</block>
  <block id="2220d4e68cbbe0286e91be2705e6a9de" category="image-alt">如果启用了 SSO ，请登录到租户帐户</block>
  <block id="771f4b7d22427cb132fc6fa5c01f7d9e" category="list-text">在您组织的 SSO 登录页面上使用您的标准 SSO 凭据登录。</block>
  <block id="ba60de0cc2a9e3709e461420b4668838" category="list-text">如果您从其他人收到初始密码，请更改密码以保护您的帐户。选择 * 。 username_* &gt; * 更改密码 * 。</block>
  <block id="829cf47db50b2ccb035406a12a3da343" category="admonition">如果为 StorageGRID 系统启用了 SSO ，则无法从租户管理器更改密码。</block>
  <block id="7b4f3dcd458f6a046925d0ccac7dbc78" category="summary">您可以使用租户管理 REST API 执行系统管理任务，而不是使用租户管理器用户界面。例如，您可能希望使用 API 来自动执行操作或更快地创建多个实体，例如用户。</block>
  <block id="6b6696e95fe4077f3c05605899ce230f" category="paragraph">租户管理 API ：</block>
  <block id="b9498c7cf9cb240dc6ae3e0b6397681b" category="list-text">使用 Swagger 开源 API 平台。Swagger 提供了一个直观的用户界面，支持开发人员和非开发人员与 API 进行交互。Swagger 用户界面提供了每个 API 操作的完整详细信息和文档。</block>
  <block id="aa590b975818d9342f846566cea657be" category="inline-xref-macro">版本控制以支持无中断升级</block>
  <block id="4e33cd9b940a41f93df66798c6dafe17" category="list-text">用途 <block ref="f5e86a49a4b33867875574b1b082369b" category="inline-xref-macro-rx"></block>。</block>
  <block id="2b469bdc52e1c35d358e451e00810d6b" category="paragraph">要访问租户管理 API 的 Swagger 文档，请执行以下操作：</block>
  <block id="9a8258a8ca031e97a2bebf80f0a2196b" category="list-text">从租户管理器顶部，选择帮助图标并选择 * API Documentation" 。</block>
  <block id="d8fce04918de880d92478dd52681b9d1" category="section-title">API 操作</block>
  <block id="a2f7bddc57272f53ad955d7113e6d281" category="paragraph">租户管理 API 将可用的 API 操作组织到以下部分中：</block>
  <block id="e63410c5738007eb9ed9130033c46786" category="list-text">* 帐户 * - 对当前租户帐户执行的操作，包括获取存储使用情况信息。</block>
  <block id="85579c8f7500020c7686909457bf4811" category="list-text">* 身份验证 * —执行用户会话身份验证的操作。</block>
  <block id="e7bc23d60d29e887e10da612a85f0e33" category="paragraph">租户管理 API 支持不承载令牌身份验证方案。对于租户登录，您可以在身份验证请求的 JSON 正文中提供用户名，密码和帐户 ID （即 `post /apI/v3/authorize` ）。如果用户已成功通过身份验证，则会返回一个安全令牌。此令牌必须在后续 API 请求的标题中提供（ " 授权：承载令牌 " ）。</block>
  <block id="39bbe9fdc02ced3fa3cf584bd7494246" category="inline-xref-macro">防止跨站点请求伪造</block>
  <block id="378095ebdcc4f01ed85cd6505db0b5cb" category="paragraph">有关提高身份验证安全性的信息，请参见 <block ref="354c0a591729a22ec5bfb3ea25218bfd" category="inline-xref-macro-rx"></block>。</block>
  <block id="a138bbc066512dd3becda08bfd6c2350" category="inline-xref-macro">有关使用网格管理 API 的说明</block>
  <block id="9f606b33fc669b4fabac1a0086a6cb19" category="admonition">如果为 StorageGRID 系统启用了单点登录（ SSO ），则必须执行不同的步骤进行身份验证。请参见 <block ref="54958d1475f50c3463f1969e375584ff" category="inline-xref-macro-rx"></block>。</block>
  <block id="e52752525a477eac37b85c15b8b28647" category="list-text">*config* —与租户管理 API 的产品版本和版本相关的操作。您可以列出该版本支持的产品版本和主要 API 版本。</block>
  <block id="cb08fbd32aed86da35cc216f8205b606" category="list-text">* 容器 * —对 S3 存储分段或 Swift 容器执行的操作如下：</block>
  <block id="7731d7f1590f8188780938354bb5798e" category="paragraph">* S3</block>
  <block id="8bf0dd5c6da832c5bda1f513e3549538" category="list-text">创建存储分段（启用和不启用 S3 对象锁定）</block>
  <block id="24e1f6c96700e4065562fb9d55aaca35" category="list-text">修改存储分段默认保留（适用于启用了 S3 对象锁定的存储分段）</block>
  <block id="f8d059ea6b0c61011fca8c8650a50e48" category="list-text">为对对象执行的操作设置一致性控制</block>
  <block id="d976b5a8b49df7b526621511ad73d5fa" category="list-text">创建，更新和删除存储分段的 CORS 配置</block>
  <block id="955886c4f1932e82119eb4b550f136eb" category="list-text">启用和禁用对象的上次访问时间更新</block>
  <block id="1cab760c6b5328649cb731f43203a72f" category="list-text">管理平台服务的配置设置，包括 CloudMirror 复制，通知和搜索集成（元数据通知）</block>
  <block id="6f0759613c99d44ba892bc7134d079e4" category="list-text">删除空分段</block>
  <block id="88b76da97abd6df2a914f69132dfe8ba" category="paragraph">* Swift* ：设置用于容器的一致性级别</block>
  <block id="97465a96d15df9d6f3f34dc1e828c080" category="list-text">"*deactived-features * - 用于查看可能已停用的功能的操作 " 。</block>
  <block id="0bcff68cf1af9f879b0e39ff30d7715d" category="list-text">* 端点 * —用于管理端点的操作。通过端点， S3 存储分段可以使用外部服务进行 StorageGRID CloudMirror 复制，通知或搜索集成。</block>
  <block id="5d43bfa9fa09bb1b049e687961b847ea" category="list-text">* 组 * —用于管理本地租户组和从外部身份源检索联合租户组的操作。</block>
  <block id="3e5019f8a73d67ec342b6c14adef0e92" category="list-text">*identity-source* —用于配置外部身份源以及手动同步联合组和用户信息的操作。</block>
  <block id="ab827a5979cbefaf4242581d9878001a" category="list-text">* 区域 * - 用于确定已为 StorageGRID 系统配置哪些区域的操作。</block>
  <block id="0261e2c1853513938497015538a86b59" category="list-text">* S3 * —用于管理租户用户 S3 访问密钥的操作。</block>
  <block id="b6737fd0e6b2a8dd39024637b6910ecb" category="list-text">* s3-object-lock* - 对全局 S3 对象锁定设置执行操作，用于支持合规性。</block>
  <block id="6c140d4caa512ee75c0896e6cfe03919" category="list-text">* 用户 * —用于查看和管理租户用户的操作。</block>
  <block id="07867d3c18edd524ebd06cd98fcc74b3" category="section-title">操作详细信息</block>
  <block id="45d927b36e21fce4e53e799a571fbc87" category="paragraph">展开每个 API 操作时，您可以看到其 HTTP 操作，端点 URL ，任何必需或可选参数的列表，请求正文示例（如果需要）以及可能的响应。</block>
  <block id="d9ff8d9608415845ca809cea292fbf0f" category="image-alt">示例显示了 Swagger API 中的 GET 组操作</block>
  <block id="dce6bad21ecef254d80cfa2fa63b55d0" category="section-title">问题描述 API 请求</block>
  <block id="dcac6d400f4607e6df828be4a3292372" category="list-text">选择 HTTP 操作以查看请求详细信息。</block>
  <block id="a5ae89790ef97d444207910a622645d7" category="list-text">确定此请求是否需要其他参数，例如组或用户 ID 。然后，获取这些值。您可能需要先对其他 API 请求进行问题描述 处理，以获取所需的信息。</block>
  <block id="eb0d59b5bdab97aeabef04c6e7e60fa4" category="list-text">确定是否需要修改示例请求正文。如果是，您可以选择 * 型号 * 来了解每个字段的要求。</block>
  <block id="b1f85b610b71ac9db3be3c5efe00f9a4" category="list-text">选择 * 试用 * 。</block>
  <block id="e6c247f9db6927a35352176505b73ddb" category="list-text">提供所需的任何参数，或根据需要修改请求正文。</block>
  <block id="c226d28399dfd8c127b616b86c9d4fea" category="list-text">选择 * 执行 * 。</block>
  <block id="f38dca3bbba24282bb882193d1ceff82" category="list-text">查看响应代码以确定请求是否成功。</block>
  <block id="e7c811401ed114402b5b8b6fea3b9b47" category="paragraph"><block ref="5f1270af3eb9626d6a9ee716741f937c" category="inline-xref-macro-rx"></block> 将其包含的任何数据移动到网格中的其他节点。</block>
  <block id="f53ec7f1bb8b245bc89a7472e9722a05" category="paragraph">在设备重新启动并确认 KMS 已清除且设备处于预安装状态后，您可以从 StorageGRID 系统中物理删除此设备。请参见 <block ref="64240232fd05f34637ac7631111da38c" category="inline-xref-macro-rx"></block>。</block>
  <block id="241bd2510d5c0be878e7697aa4dda888" category="summary">您可以在首次部署 StorageGRID 时安装一个或多个 StorageGRID 服务设备，也可以稍后在扩展过程中添加服务设备节点。</block>
  <block id="216097879e0143a0b255ae614bf78914" category="paragraph">SG100</block>
  <block id="d4105bc38c12784b301a5ade2bf865a2" category="paragraph">11.4 或更高版本（建议使用最新的修补程序）</block>
  <block id="97e3c38ed5b27f209d28094038c2e9b4" category="paragraph">SG1000</block>
  <block id="03c89cc4f5e2442b35db8e2b699c4e84" category="paragraph">11.3 或更高版本（建议使用最新的修补程序）</block>
  <block id="b1cf95f893111400490e97f9222cbc06" category="paragraph">准备 StorageGRID 设备并将其添加到网格包括四个主要步骤：</block>
  <block id="326d7e6b9ea159882d8d15333c0f8329" category="list-text">验证网络配置</block>
  <block id="7fd306ec259ca7b29ea82d8cf26e8725" category="list-text">连接电源线并接通电源</block>
  <block id="e2a3351ec6af83ad23aaf4d3d94afdd9" category="list-text">访问设备上的基板管理控制器（ BMC ）接口。</block>
  <block id="fb17e675ba3478e46e2666fe682d418a" category="list-text">部署设备网关或管理节点</block>
  <block id="5d1a05f587dc968c0b9a806d1a95b9ee" category="paragraph">安装并配置设备硬件后，您可以将此设备部署为 StorageGRID 系统中的网关节点和管理节点。SG100 和 SG1000 设备可以同时作为网关节点和管理节点（主节点和非主节点）运行。</block>
  <block id="db9d8e4a5d282ea7000274c4dbdd3082" category="paragraph">在新的 StorageGRID 系统中部署设备网关或管理节点</block>
  <block id="336299dd63542543d20b9e2473db44b8" category="inline-xref-macro">部署服务设备节点</block>
  <block id="323c05970bc6d150f72a5d9eca53d938" category="paragraph"><block ref="323c05970bc6d150f72a5d9eca53d938" category="inline-xref-macro-rx"></block></block>
  <block id="e48bcc78f6289255e20a6dea361d366d" category="paragraph">将设备网关或管理节点添加到现有 StorageGRID 系统</block>
  <block id="1ef272d7749c1df37e46b03ec79c5481" category="paragraph">在节点恢复操作中部署设备网关或管理节点</block>
  <block id="72eb883248d6428b501367c55463cf20" category="inline-xref-macro">准备安装（ SG100 和 SG1000 ）</block>
  <block id="4e90002bbb364306ea287e373b5bc946" category="paragraph"><block ref="4e90002bbb364306ea287e373b5bc946" category="inline-xref-macro-rx"></block></block>
  <block id="6830f4b8a50c07a5ce64abec9d239d97" category="inline-xref-macro">安装硬件（ SG100 和 SG1000 ）</block>
  <block id="1e295a320d67b10d534bd0c23255d3cb" category="paragraph"><block ref="1e295a320d67b10d534bd0c23255d3cb" category="inline-xref-macro-rx"></block></block>
  <block id="682c9dcbd03b68f67cf4e6bfe193760c" category="inline-xref-macro">配置 StorageGRID 连接（ SG100 和 SG1000 ）</block>
  <block id="1d570c3eb3a309ceda592fa1abcbc403" category="paragraph"><block ref="1d570c3eb3a309ceda592fa1abcbc403" category="inline-xref-macro-rx"></block></block>
  <block id="593ca1ef1516dbfa6e7593706a3054e4" category="inline-xref-macro">打开蓝色标识 LED</block>
  <block id="cc6ab73b1c0690eceb0a8a5555c044ab" category="list-text">（可选）为了帮助您查找数据中心中的控制器， <block ref="a5cfedc3900e45fc3179f08651be1e5c" category="inline-xref-macro-rx"></block>。</block>
  <block id="c2d99946d08e0b428d4a242037a9fc66" category="inline-xref-macro">配置网络链路（ SG100 和 SG1000 ）</block>
  <block id="5f5bb57e247e0992d9a8c2f72b79c3e0" category="paragraph"><block ref="5f5bb57e247e0992d9a8c2f72b79c3e0" category="inline-xref-macro-rx"></block></block>
  <block id="d66b55cd8d763d06c15eb0e4ec520f0a" category="doc">硬件安装故障排除（ SG100 和 SG1000 ）</block>
  <block id="6bcb90a10c4a6042e52fc02207ce4181" category="inline-xref-macro">使用 StorageGRID 设备安装程序自动执行配置</block>
  <block id="60f675d4fac183a254a547f32afa2a15" category="admonition">此操作步骤 适用于在使用命令行界面方面具有一定经验的高级用户。或者，您也可以 <block ref="062733bbeeac980fe6c643161fe0d95b" category="inline-xref-macro-rx"></block>。</block>
  <block id="d90d7517c0e99f980474c2317d838abf" category="list-text">如果要将设备配置备份到 JSON 文件，请使用 advanced 和 `backup-file` 子命令。例如，如果要将 IP 地址为 ` SGA-install-ip_` 的设备配置备份到名为 `appliance-SG1000.json` 的文件中，请输入以下命令： + `configure-sga.py advanced -backup-file appliance-SG1000.json _SGA-install-IP_`</block>
  <block id="dd78e69a9c321d664092a390f6fc1deb" category="inline-xref-macro">已将设备置于维护模式</block>
  <block id="337f4b27e45c09acdffd8fc482b8f0a6" category="list-text">您已拥有 <block ref="d9a1a3e4004118f366355c60a60e9910" category="inline-xref-macro-rx"></block>。</block>
  <block id="4d68799e6493045c7f569164b82a0d54" category="summary">如果在设备启动时发生硬件错误， BMC 将记录一个错误代码。您可以根据需要使用 BMC 界面查看这些错误代码，然后与技术支持联系以解决此问题描述 。</block>
  <block id="6c06ac889e8e20f43d5f83a8ac919ec2" category="doc">查看设备的错误代码</block>
  <block id="1e5da5fcbf0297c91fe514a9306cb62a" category="doc">打开包装箱（ SG100 和 SG1000 ）</block>
  <block id="a1d5c2c6064b86227e174c7418800dd2" category="section-title">设备硬件</block>
  <block id="fd4a8d7f5024fcb935f0823b95809540" category="list-text">* SG100 或 SG1000*</block>
  <block id="6a81c2867a5d94043e939151370fcbd9" category="image-alt">正面驱动器 SG 100 或 SG1000 服务设备</block>
  <block id="37badf9b2a104ee5374dcf37d95986ff" category="paragraph">StorageGRID 设备的发货包括以下电源线：</block>
  <block id="ce3da88b75bc4cbd8a74f7c849adb0b7" category="summary">在为设备接通电源时， BMC 会记录一系列启动代码。您可以在连接到 BMC 管理端口的图形控制台上查看这些代码。</block>
  <block id="541ba445eef54f02c8b44a97f0da4b71" category="doc">查看设备的启动代码</block>
  <block id="95e15890362e784e4f76177b898c7e4a" category="paragraph">StorageGRID 设备正在运行。</block>
  <block id="e6cd9e0299e10f81e9d0b3461de6041d" category="paragraph"><block ref="e6cd9e0299e10f81e9d0b3461de6041d" category="inline-xref-macro-rx"></block></block>
  <block id="8c8d6f893579f193f06f010a317c3626" category="list-text">您正在使用可连接到 StorageGRID 管理网络的任何管理客户端。</block>
  <block id="879455e294fc5923cd4443bd5e37497d" category="list-text">服务设备已连接到您计划使用的所有 StorageGRID 网络。</block>
  <block id="1fdfa94ea1fd84deb4b9fd2d84c33edd" category="list-text">您知道这些网络上服务设备的 IP 地址，网关和子网。</block>
  <block id="b5b32ea1d42ac3addad9815e5e36535b" category="paragraph">要首次访问 StorageGRID 设备安装程序，您可以使用 DHCP 为服务设备上的管理网络端口分配的 IP 地址（假设它已连接到管理网络），也可以将服务笔记本电脑直接连接到服务设备。</block>
  <block id="d7fe4174192fe5b503b24f54a78de2ea" category="list-text">如果可能，请使用服务设备上管理网络端口的 DHCP 地址来访问 StorageGRID 设备安装程序。</block>
  <block id="d84fd8365888055f25a07b2bc9a7fc5d" category="paragraph">* SG100 管理网络端口 *</block>
  <block id="3f5ce86840389d07ba69f1dacc15556f" category="inline-image-macro">SG100 上的管理网络端口</block>
  <block id="dd6310969b1463881fa0329b3b27cffd" category="paragraph"><block ref="dd6310969b1463881fa0329b3b27cffd" category="inline-image-macro-rx" type="image"></block></block>
  <block id="5f1202b3e83d7a6ca05faf42e2975a71" category="paragraph">* SG1000 管理网络端口 *</block>
  <block id="d7fd1db324ce75b51ed2e2a59d410a54" category="image-alt">SG1000 上的管理网络端口</block>
  <block id="7ea066fb99edbd564649e31ab6b9924a" category="list-text">找到服务器设备正面的 MAC 地址标签，然后确定管理网络端口的 MAC 地址。</block>
  <block id="9ffb0e0beeb9fac2353e16b2a5adac1a" category="list-text">在客户端中，输入 StorageGRID 设备安装程序的以下 URL ： + ` * https://_services-appliance_IP_:8443*`</block>
  <block id="45165b9ea917934d85e3358ae6cf4b07" category="paragraph">对于 ` service-appliation_ip_` ，请使用 DHCP 地址。</block>
  <block id="953ef5a5bdd8c014e3a26e67f6c253cd" category="list-text">或者，如果无法使用 DHCP 获取 IP 地址，请使用链路本地连接访问 StorageGRID 设备安装程序。</block>
  <block id="4558954c9bea9629dda151c16492b681" category="list-text">使用以太网缆线将服务笔记本电脑直接连接到服务设备上最右侧的 RJ-45 端口。</block>
  <block id="cc0105649d6ffd132295ed73cd494d22" category="paragraph">* SG100 链路本地连接 *</block>
  <block id="6b55dd5a07c255c477de9dc84aa6c3dd" category="image-alt">SG100 链路本地连接</block>
  <block id="57f58bb4e31f32b8465f743f49619d01" category="paragraph">* SG1000 链路本地连接 *</block>
  <block id="b193d31126c83716a419874e4e535f34" category="image-alt">SG1000 链路本地连接</block>
  <block id="cd6a2201ffe8cbff396eaef6295f907c" category="list-text">打开 Web 浏览器。</block>
  <block id="6bdf071ede2ea159d497d827ee30ccd6" category="image-alt">设备安装程序主页— SG100 和 SG1000</block>
  <block id="2ad51c958c99b4354a253f409f152512" category="summary">您可以将服务设备部署为主管理节点，非主管理节点或网关节点。SG100 和 SG1000 设备可以同时作为网关节点和管理节点 \ （主节点或非主节点 \ ）运行。</block>
  <block id="601579df321d9752116a393b9940bc9e" category="paragraph">您可以将服务设备部署为主管理节点，非主管理节点或网关节点。SG100 和 SG1000 设备可以同时作为网关节点和管理节点（主节点或非主节点）运行。</block>
  <block id="d72e69bb7a9f02b1edc7fa25c64fe033" category="summary">如果您熟悉为硬件配置 SNMP ，则可以使用 BMC 界面为服务设备配置 SNMP 设置。您可以提供安全社区字符串，启用 SNMP 陷阱并最多指定五个 SNMP 目标。</block>
  <block id="246c8077afb85c74d73a8648314d5f45" category="doc">配置服务设备的 SNMP 设置</block>
  <block id="1a9af413eedca5714d84af5365d602aa" category="admonition">如果此设备发生故障且需要更换，则此操作步骤 所做的 BMC 设置可能不会保留下来。请确保您已应用所有设置，以便在更换硬件后根据需要轻松重新应用这些设置。</block>
  <block id="684492e45914e14f54f86faa721c678d" category="paragraph">如果您希望服务设备在 SNMP 控制台处于异常状态时立即向其发送通知，请启用陷阱。陷阱可能指示链路启动 / 关闭状况，温度超过特定阈值或流量较高。</block>
  <block id="ac982a4117e97c4a9b8e9e1b9f5096cd" category="summary">服务设备上的基板管理控制器 \ （ BMC\ ）的用户界面提供了有关硬件的状态信息，并允许您为服务设备配置 SNMP 设置和其他选项。</block>
  <block id="2d07ea5930c0b6be07ef1c4786b1a7b0" category="doc">配置 BMC 接口（ SG100 和 SG1000 ）</block>
  <block id="7ff01c403e3fff2520f2d567b844069c" category="paragraph">服务设备上的基板管理控制器（ BMC ）的用户界面可提供有关硬件的状态信息，并可用于为服务设备配置 SNMP 设置和其他选项。</block>
  <block id="5f29d84a72d56fbb6bc236e691044453" category="summary">连接网络缆线后，您可以为设备接通电源。</block>
  <block id="7918efceb3490c0c7b4dc0cd9382713f" category="doc">连接电源线并接通电源（ SG100 和 SG1000 ）</block>
  <block id="9fb1bbfad9a03ae13038897fe2ace160" category="list-text">将电源线分别连接到设备中的两个电源设备。</block>
  <block id="aa7f6b5b6c6195e4c614fa464625fff0" category="list-text">如果设备正面的电源按钮当前未呈蓝色亮起，请按此按钮打开设备电源。</block>
  <block id="1fe071dec354bcb4daef1e1138ee9203" category="list-text">如果已卸下前挡板，请将其连接到设备。</block>
  <block id="6e25125b0fed149e16bc036683d1980d" category="inline-xref-macro">查看 SG100 和 SG1000 设备上的状态指示符</block>
  <block id="912bf927ee3a27a8b37d272c8c97f6cb" category="paragraph"><block ref="912bf927ee3a27a8b37d272c8c97f6cb" category="inline-xref-macro-rx"></block></block>
  <block id="82f799aa7dc07b4455d4cec82ca5dbe4" category="doc">查看设备网络连接（ SG100 和 SG1000 ）</block>
  <block id="dcc444ef4765c49f0f3a8cb43ba9a9c4" category="paragraph">将 StorageGRID 设备部署为 StorageGRID 系统中的节点时，您可以将其连接到以下网络：</block>
  <block id="a43ab4ec6314775efb16fdcbad06d69a" category="list-text">* 适用于 StorageGRID 的客户端网络： * 客户端网络是一种开放网络，用于访问包括 S3 和 Swift 在内的客户端应用程序。客户端网络可提供对网格的客户端协议访问，从而可以隔离和保护网格网络。您可以配置客户端网络，以便仅使用您选择打开的端口通过此网络访问设备。客户端网络是可选的。</block>
  <block id="99424aded5db9aa07768be3a655dabc5" category="list-text">服务设备的 * BMC 管理网络 * （可选）：通过此网络，您可以访问 SG100 和 SG1000 中的基板管理控制器，这些设备可用于监控和管理设备中的硬件组件。此管理网络可以与 StorageGRID 的管理网络相同，也可以是一个独立的管理网络。</block>
  <block id="925556b9386b9c07556444d95cc54e0c" category="inline-xref-macro">收集安装信息（ SG100 和 SG1000 ）</block>
  <block id="c29ddf88b58c030fb56bfbc3012271c2" category="paragraph"><block ref="c29ddf88b58c030fb56bfbc3012271c2" category="inline-xref-macro-rx"></block></block>
  <block id="59cdc151ec041ab7105bdeaecad59351" category="inline-xref-macro">缆线设备 SG100 和 SG1000</block>
  <block id="1f4f218474c3283674cbaee0fe945f25" category="paragraph"><block ref="1f4f218474c3283674cbaee0fe945f25" category="inline-xref-macro-rx"></block></block>
  <block id="9902b9a7d709c233782fc4e59ae778db" category="paragraph"><block ref="9902b9a7d709c233782fc4e59ae778db" category="inline-xref-macro-rx"></block></block>
  <block id="75b1fb67b989de20fcf52b4902494ef3" category="doc">获取其他设备和工具（ SG100 和 SG1000 ）</block>
  <block id="2dbbbec65a941da222160e4d0384996c" category="list-text">* 光缆和收发器 *</block>
  <block id="055b1da21484a9a79edb5dbfd63bfb97" category="image-alt">光缆和 QSF+ 收发器</block>
  <block id="09d6acc298f7319fa2d9ab309b9bbd4f" category="list-text">缆线</block>
  <block id="b992a1d9edb991f884f191a5e1140552" category="list-text">双轴电缆 / 铜缆（ 1 到 4 ）</block>
  <block id="497cb2fd139a83212772c267e7b5e836" category="list-text">光纤 / 光纤（ 1 到 4 ）</block>
  <block id="0cf6dd5f1c0426a112c72ad0075be83c" category="list-text">根据链路速度，每个收发器 / 适配器 1 到 4 个（不支持混合速度）</block>
  <block id="b7b9aca5c5c8ee28cc93474d10282aa7" category="list-text">SG100 ：</block>
  <block id="fcb7aea9a14248650fc2b4195b723923" category="cell">链路速度（ GbE ）</block>
  <block id="e4de90fd0b2bcf3088f97680f1d7c0d0" category="paragraph">SFP+ 收发器</block>
  <block id="b8d3bd63a607dbfd7da4943a560899df" category="paragraph">SFP28 收发器</block>
  <block id="a6080f7fecc7fafcff30be65425ef323" category="list-text">SG1000 ：</block>
  <block id="14fc2f3c2de985625ce99d9e8dfb988a" category="paragraph">QSFP-SFP 适配器（ QSA ）和 SFP+ 收发器</block>
  <block id="5a97f815a0143d55e776fdbf06a15859" category="paragraph">QSFP-SFP 适配器（ QSA ）和 SFP28 收发器</block>
  <block id="27abebb7558f1109d3677cc49cda1cc9" category="paragraph">QSFP + 收发器</block>
  <block id="24d7bce75a9a758f54f4ab31e44791c4" category="paragraph">QSP28 收发器</block>
  <block id="306d362edd19e8a4ea48519d38545a66" category="list-text">* RJ-45 （ Cat5/Cat5e/Cat6/Cat6a ）以太网缆线 *</block>
  <block id="2dda4ffde63487013e8294a5f5ed6c0c" category="image-alt">以太网缆线</block>
  <block id="46b0e50dee424029f576bd12783b5158" category="admonition">某些端口可能不支持 10/100 以太网速度。</block>
  <block id="b6f8f8f0b95f8b0b389c937851c2c341" category="summary">您可能需要对设备执行维护过程。本节中的过程假定设备已部署为 StorageGRID 系统中的网关节点或管理节点。</block>
  <block id="c1c9ffdd7c375c14d020f17c506cee94" category="doc">维护设备</block>
  <block id="a96fc6c5e95a292251fc0ff8d0d42db0" category="summary">服务设备中的 SSD 包含 StorageGRID 操作系统。此外，如果将设备配置为管理节点，则 SSD 还包含审核日志，指标和数据库表。驱动器使用 RAID1 进行镜像以实现冗余。如果其中一个驱动器发生故障，您必须尽快更换它以确保冗余。</block>
  <block id="9d800d35ce63ee0d0534d70ab8443855" category="doc">更换服务设备中的驱动器</block>
  <block id="61684fbac4cfcc8514f86489f29dde1c" category="inline-xref-macro">已物理定位设备</block>
  <block id="58dcd70d2d1cac0812b14bd3ffdae432" category="list-text">您已拥有 <block ref="130941bf909a3ae009505b8ec7a7b57a" category="inline-xref-macro-rx"></block>。</block>
  <block id="6fe9626dfa4b4b7d16fe89a30ffe8737" category="list-text">您已通过注意到左侧 LED 呈琥珀色闪烁来验证哪个驱动器出现故障。</block>
  <block id="e1ec3ca4383d70e901b8fee0dd291bc6" category="admonition">如果您删除工作正常的驱动器，则会关闭设备节点。请参见有关查看状态指示器的信息以验证故障。</block>
  <block id="66388744d1c9eb2deda697d2bcc596ea" category="list-text">您已获得替代驱动器。</block>
  <block id="c382ba50c846f544d2eb1c1502e7b340" category="list-text">您已获得适当的 ESD 保护。</block>
  <block id="2f1e004d6069e93a2adcb7031f6d0c2e" category="list-text">验证驱动器的左侧 LED 是否呈琥珀色闪烁。</block>
  <block id="ea65cbd3780404d3a0a11908397b8a70" category="paragraph">您还可以使用网格管理器监控 SSD 的状态。选择 * 节点 * 。然后选择 ` * 设备节点 *` &gt; * 硬件 * 。如果某个驱动器发生故障，则存储 RAID 模式字段会显示一条消息，指出哪个驱动器发生故障。</block>
  <block id="e8e12ce61c5a10cc4c5d368b079b1d32" category="list-text">拆开备用驱动器的包装，并将其放在设备附近的无静电水平表面上。</block>
  <block id="fee3966d92459f5760d89d77bde33dcc" category="paragraph">节省所有包装材料。</block>
  <block id="a111cc28790ea44c4a62983001bf37de" category="list-text">按下故障驱动器上的释放按钮。</block>
  <block id="db2083c41f708744e432e2ec9eafce5d" category="image-alt">驱动器删除</block>
  <block id="771844193eed59e2698380754dc7efca" category="paragraph">驱动器弹出器上的手柄部分打开，驱动器从插槽中释放。</block>
  <block id="308ee25e5ba025fe0f67953ee4b29c71" category="list-text">打开手柄，滑出驱动器，然后将其放在无静电的水平表面上。</block>
  <block id="de27a07dbf4120b923156c234581a615" category="list-text">在将替代驱动器插入驱动器插槽之前，请按此驱动器上的释放按钮。</block>
  <block id="7d7ad7330d52c913bdfaa3da9c340068" category="paragraph">闩锁会弹开。</block>
  <block id="1f35e3aa8c5481b2b4e90828d4b90ad0" category="image-alt">驱动器安装</block>
  <block id="a5a0565f8b9ecb44d8e2c898322bc617" category="list-text">将替代驱动器插入插槽，然后合上驱动器手柄。</block>
  <block id="15d614d9d38f8bd4374d159a12996ac4" category="admonition">合上手柄时，请勿用力过大。</block>
  <block id="bef9147d721ca5648109497f8f041704" category="paragraph">驱动器完全插入后，您会听到卡嗒声。</block>
  <block id="7d6b6a13e650ea87b7ef02d18d17ea54" category="paragraph">驱动器会使用工作驱动器中的镜像数据自动重建。您可以使用网格管理器检查重建的状态。选择 * 节点 * 。然后选择 ` * 设备节点 *` &gt; * 硬件 * 。存储 RAID 模式字段包含一条消息 `re构建` ，直到驱动器完全重建为止。</block>
  <block id="34b184d77569b9859051e7709771c254" category="list-text">有关驱动器更换的信息，请联系技术支持。</block>
  <block id="ebad283ee31b5269ec75763789d1d797" category="paragraph">技术支持将提供有关退回故障驱动器的说明。</block>
  <block id="0d7f07232af401052728907ef44e07bc" category="summary">您必须在机柜或机架中为设备安装一组导轨，然后将设备滑入导轨。</block>
  <block id="3a8cea1705d5a07424514431b5cca4cf" category="doc">将设备安装到机柜或机架中（ SG100 和 SG1000 ）</block>
  <block id="7d1ab6828a128ff3174c7ef7ea536e69" category="image-alt">SG100 和 SG 1000 导轨</block>
  <block id="0cdfd1b3a027b3932587d97e43e32315" category="list-text">将设备插入导轨。</block>
  <block id="bec0ee578185688d7d0a5e6b2227a38d" category="list-text">将设备滑入机柜或机架。</block>
  <block id="80ed0f3f54e6cf40e77d1ae3c171d32c" category="paragraph">如果无法再移动设备，请拉动机箱两侧的蓝色闩锁，将设备滑入原处。</block>
  <block id="3a4beaae7173a417d356a6933686ad93" category="image-alt">在导轨上滑动 SG 100 和 SG1000</block>
  <block id="baddba1d04cc22343cff3c649ef3f57b" category="admonition">在打开设备电源之前，请勿连接前挡板。</block>
  <block id="7df965647f5c84c53ab773c00e0bcad2" category="summary">关闭服务设备以执行硬件维护。</block>
  <block id="78ee72946d244e5462fb9e5f6e9e8373" category="doc">关闭服务设备</block>
  <block id="4a0b9c396a3ba051ee7cbaaabaae8461" category="list-text">您已将需要维护的服务设备物理定位在数据中心。</block>
  <block id="0ba6aa20a93286624a8a0203c75e2540" category="paragraph">为了防止服务中断，请在计划维护时段关闭服务设备，此时通常会发生服务中断。</block>
  <block id="90e09cca3492ffaf99c3424168637501" category="list-text">将设备置于维护模式后，关闭设备：</block>
  <block id="5877a38b0c15395fa374ae8dadd7a1c7" category="admonition">您必须输入以下指定的命令，以有控制的方式关闭设备。使用电源开关关闭设备将导致数据丢失。</block>
  <block id="9dd042eb1e724a446bfea2481cfe1b85" category="list-text">关闭服务设备： + ` * shutdown -h now*`</block>
  <block id="c3fcd884a96ec8b0486213dd55392687" category="list-text">使用以下方法之一验证设备是否已关闭：</block>
  <block id="f3fcaf263afc38f8754ce4f80b8bf307" category="list-text">查看设备正面的电源 LED ，确认其已关闭。</block>
  <block id="85b1c30169029a181dcfcb44616c6b32" category="list-text">检查 BMC 界面的电源控制页面，确认设备已关闭。</block>
  <block id="f018e69b943f58da2ecdeb3dce33ed55" category="doc">准备站点（ SG100 和 SG1000 ）</block>
  <block id="4ee8aacd9535f6867283ff1c5a2c8b59" category="list-text">确认您所在位置的交流电源电压正确（介于 120 到 240 伏之间）。</block>
  <block id="f780e7216d3995de2eb9338dee2828d2" category="summary">您可以使用 BMC 管理端口的 DHCP 或静态 IP 地址访问服务设备上的 BMC 接口。</block>
  <block id="58b8ea0d3063a9201c41bc8e67d1952f" category="list-text">服务设备上的 BMC 管理端口已连接到您计划使用的管理网络。</block>
  <block id="e6e03da0060789709bf98dd786f292c8" category="paragraph">* SG100 BMC 管理端口 *</block>
  <block id="39e4ca894753bebe1ff238085c549465" category="image-alt">sg100 bmc 管理端口</block>
  <block id="3ae90e46ac02b6c22a8d260083e11e1b" category="paragraph">* SG1000 BMC 管理端口 *</block>
  <block id="778da11a86a83173e4e6b49bb7e1d748" category="image-alt">SG1000 BMC 管理端口</block>
  <block id="38575d40ea875f8d34782e6bdaff27ad" category="inline-xref-macro">配置 BMC 接口（ SG100/SG1000 ）</block>
  <block id="ff8015358abcc48870ebbf13fd0e7bc6" category="admonition">如果尚未配置 `BMC_Port_IP` ，请按照中的说明进行操作 <block ref="295d9ed5f2b08011ddf7b0cd8255af3e" category="inline-xref-macro-rx"></block>。如果由于硬件问题而无法遵循此操作步骤 ，并且尚未配置 BMC IP 地址，则仍可访问此 BMC 。默认情况下， BMC 使用 DHCP 获取 IP 地址。如果在 BMC 网络上启用了 DHCP ，则网络管理员可以提供分配给 BMC MAC 的 IP 地址，该地址印在 SG6000-CN 控制器正面的标签上。如果 BMC 网络上未启用 DHCP ， BMC 将在几分钟后不会做出响应，并为自己分配默认静态 IP `192.168.0.120` 。您可能需要将笔记本电脑直接连接到 BMC 端口，并更改网络设置以为笔记本电脑分配 IP ，例如 `192.168.0.200/24` ，以便浏览到 `192.168.0.120` 。</block>
  <block id="481e787b810d5f7a3f34a70ad4158eb4" category="list-text">使用您在更改默认 root 密码时设置的密码输入 root 用户名和密码： + ` * root*`</block>
  <block id="1396eb46b29470f26ca2fd7e4f30d58c" category="paragraph">` * _password_*`</block>
  <block id="606fc6a05b70c4953bc728fd74987bf2" category="list-text">单击 * 登录 *</block>
  <block id="54b7b441d496c485af087c566d0a25ce" category="paragraph">此时将显示 BMC 信息板。</block>
  <block id="cd0086519240f5941460985c3f888336" category="inline-xref-macro">更改 BMC 接口的根密码</block>
  <block id="19bd3e55550fceab5f70e45c56a5c5bc" category="paragraph"><block ref="19bd3e55550fceab5f70e45c56a5c5bc" category="inline-xref-macro-rx"></block></block>
  <block id="629e97bb58225304ea6fba3e3ee676fa" category="summary">对于服务设备上的两个 1-GbE 管理端口，您可以选择独立网络绑定模式或主动备份网络绑定模式来连接到可选的管理网络。</block>
  <block id="b39b3693b75b01cd27c8bdb491378387" category="doc">管理端口的网络绑定模式</block>
  <block id="248ad3964f698de31768e56ef4354d45" category="paragraph">* SG100 网络管理端口 *</block>
  <block id="41feb2441ba34f67f35bf731144b3c52" category="image-alt">sg100 绑定管理端口</block>
  <block id="11f7ec5f79464f916cb8f330b8689d57" category="paragraph">* SG1000 网络管理端口 *</block>
  <block id="e0c983c2d8232b056cb0aa71754fd444" category="image-alt">SG1000 网络管理端口</block>
  <block id="e4762dbadf84d24ab4ee5c854e001636" category="admonition">如果在将 1-GbE 管理端口配置为主动备份模式后需要临时本地连接到服务设备，请从两个管理端口拔下缆线，将临时缆线插入右侧的管理端口，然后使用 IP 地址 169.254.0.1 访问此设备。</block>
  <block id="cd15447dc546bbcb7bfce61830b9b2a3" category="paragraph">主动备份模式。这两个管理端口都绑定到一个连接到管理网络的逻辑管理端口。</block>
  <block id="cf6929cc004a4ffe9792f3c8fcd025e7" category="paragraph">独立模式。左侧端口连接到管理网络。右侧端口可用于临时本地连接（ IP 地址 169.254.0.1 ）。</block>
  <block id="81ba01b687ee5301fdf6e75fe714afcf" category="list-text">在客户端中，输入 StorageGRID 设备安装程序的 URL ： + ` * https://_services_appliance_IP_:8443*`</block>
  <block id="9e72b61dabc56b80113a62b94df49129" category="paragraph">对于 `services _appliation_ip` ，请在任何 StorageGRID 网络上使用此设备的 IP 地址。</block>
  <block id="70127bd8c82b2bb9829a7676632ae063" category="summary">在将服务设备部署为网关节点或非主管理节点时，您可以使用该设备上随附的 StorageGRID 设备安装程序。</block>
  <block id="13645cb57f6c05cc6d551be93d19472a" category="doc">将服务设备部署为网关或非主管理节点</block>
  <block id="c0999c91add829763b4e16c4cbadd848" category="admonition">如果已重新映射任何端口，则不能使用相同的端口配置负载平衡器端点。您可以使用重新映射的端口创建端点，但这些端点将重新映射到原始 CLB 端口和服务，而不是负载平衡器服务。按照中的步骤进行操作 <block ref="7e6cc8450c7e11816aa6b60a132d2925" category="inline-xref-macro-rx"></block>。</block>
  <block id="4777f50589c142066408c52353609e4a" category="list-text">您知道分配给设备的 IP 地址。您可以对任何已连接的 StorageGRID 网络使用此 IP 地址。</block>
  <block id="64ad6f3be04a1b5eb460f6b5171db9c3" category="paragraph">要在服务设备节点上安装 StorageGRID ，请执行以下操作：</block>
  <block id="06ecae27d7a22c2772946f8e600bf743" category="list-text">您开始安装，并等待软件安装完成。</block>
  <block id="ca5a02495af6bdb0a0ecd42075778723" category="paragraph">在完成设备网关节点安装任务后，安装将暂停。要恢复安装，请登录到网格管理器，批准所有网格节点并完成 StorageGRID 安装过程。安装非主管理节点不需要您的批准。</block>
  <block id="70add8d91ed7024baafe200d0d76e7d3" category="admonition">不要在同一站点中部署 SG100 和 SG1000 服务设备。可能会导致性能不可预测。</block>
  <block id="0889fe1724e85e89a70be7f29f3b9667" category="inline-xref-macro">自动化设备安装和配置（ SG100 和 SG1000 ）</block>
  <block id="57150c84be3f06ca6513686efb4648e5" category="admonition">如果您需要一次部署多个设备节点，则可以使用 `configure-sGa.py` Appliance Installation 脚本自动执行安装过程。您也可以使用设备安装程序上传包含配置信息的 JSON 文件。请参见 <block ref="3f981561bd07bf54745b2fdac0a7ac01" category="inline-xref-macro-rx"></block> 有关自动安装的详细信息，请参见。</block>
  <block id="71993e8ea93f8d02397504df8a2f696f" category="list-text">打开浏览器，然后输入设备的 IP 地址。</block>
  <block id="1ff855ab55729ae4063274c6d17a385f" category="list-text">或者，要安装其他版本的 StorageGRID 软件，请执行以下步骤：</block>
  <block id="f55c44e714e5d969f72d1422c703f984" category="list-text">从 StorageGRID 的 "NetApp 下载 " 页面下载安装归档。</block>
  <block id="3befe165a449c2011ecba00696c3f4ab" category="list-text">提取归档。</block>
  <block id="1d24290d8f4a79eeaafbecffc1f4a350" category="list-text">从 StorageGRID 设备安装程序中，选择 * 高级 * &gt; * 上传 StorageGRID 软件 * 。</block>
  <block id="6fd2b0d88a0ea6f057348837593e1cf4" category="list-text">单击 * 删除 * 以删除当前软件包。</block>
  <block id="1f288c0ba3f88bf0912012d36eb9d7dd" category="image-alt">设备安装程序 - 删除当前软件</block>
  <block id="712777b5e9d637ccfae5b04a415653d3" category="list-text">单击 * 浏览 * 下载并提取的软件包，然后单击 * 浏览 * 获取校验和文件。</block>
  <block id="79e56e0389e10379e27bca8568ffa4c6" category="image-alt">设备安装程序—上传 SG 软件</block>
  <block id="59773e84f2479ffeb34ba9422edf9f9c" category="list-text">选择 * 主页 * 以返回到主页页面。</block>
  <block id="06f9cb221f1c7b35766aeb533e33b69c" category="list-text">在 Installation 部分中，确认当前状态为 "Ready to start installation of ` node_node name_` into grid with primary Admin Node ` _admin_IP_` " ，并且 * 开始安装 * 按钮已启用。</block>
  <block id="dd3c49a5e1ad35a1fcdc49631b4a489a" category="image-alt">设备安装程序主页—安装非主管理节点</block>
  <block id="7219d53a2c987afebdf600ccc504d1ab" category="list-text">如果网格包含多个设备节点，请对每个设备重复上述步骤。</block>
  <block id="6833d1fb2aff8ca0a43fc5ee98dc0434" category="summary">如果设备运行不正常或出现故障，您可能需要更换设备。</block>
  <block id="393302751ebbc8d34bec2189faa07afc" category="doc">更换服务设备</block>
  <block id="c3d9da76bc60daa886782280178ca9ba" category="list-text">您的更换设备的部件号与要更换的设备相同。</block>
  <block id="4b526ad126631aeb936c11f22d031fad" category="list-text">您可以通过标签来识别连接到设备的每个缆线。</block>
  <block id="c58f6e4fdb0fdb11458180bf0d620c00" category="paragraph">更换设备时，无法访问 StorageGRID 节点。如果设备运行正常，您可以在此操作步骤 开始时执行受控关闭。</block>
  <block id="b098156b0b656e192198d50fb6586058" category="admonition">如果在安装 StorageGRID 软件之前更换设备，则在完成此操作步骤 后，您可能无法立即访问 StorageGRID 设备安装程序。虽然您可以从与设备位于同一子网上的其他主机访问 StorageGRID 设备安装程序，但不能从其他子网上的主机访问它。此情况应在 15 分钟内自行解决（当原始设备的任何 ARP 缓存条目超时），或者您也可以通过手动从本地路由器或网关清除任何旧的 ARP 缓存条目来立即清除此情况。</block>
  <block id="462a966b3dc43c625f6f58a69d56596f" category="list-text">将设备置于维护模式后，关闭设备。</block>
  <block id="6f8205cfaf19dfd3696b0f6316d5a5a7" category="list-text">关闭设备： + ` * shutdown -h now*`</block>
  <block id="0b8ee46871f080185df625a5607f5368" category="list-text">使用以下两种方法之一验证设备电源是否已关闭：</block>
  <block id="e6ec793106479401b83de15d871bbafd" category="list-text">设备正面的电源指示灯 LED 熄灭。</block>
  <block id="8fc61950484d2215fea6ef106b31b8eb" category="list-text">BMC 界面的电源控制页面指示设备已关闭。</block>
  <block id="2bcc0de19e6ffbd770e51bf9f2df062a" category="list-text">如果连接到设备的 StorageGRID 网络使用 DHCP 服务器，请更新 DNS/network 和 IP 地址设置。</block>
  <block id="3276188b60f776641c109332d0fdbbcf" category="list-text">找到设备正面的 MAC 地址标签，然后确定管理网络端口的 MAC 地址。</block>
  <block id="a79e81724891718056b140bfa1a514de" category="list-text">请网络管理员将您删除的设备的 DNS/network 和 IP 地址与替换设备的 MAC 地址关联起来。</block>
  <block id="8953cf6acd035e33305d53707b5a433b" category="admonition">在为替代设备接通电源之前，您必须确保原始设备的所有 IP 地址均已更新。否则，设备将在启动时获取新的 DHCP IP 地址，并且可能无法重新连接到 StorageGRID 。此步骤将对连接到设备的所有 StorageGRID 网络执行适用场景 。</block>
  <block id="e94bdaef0d9cae7ec49505ca7dc2034e" category="admonition">如果原始设备使用静态 IP 地址，新设备将自动采用您删除的设备的 IP 地址。</block>
  <block id="e353a7e5e83921100255ea545ecb231f" category="list-text">卸下并更换设备：</block>
  <block id="d736287f7b3a58870d0dc1b4c2b7d5ae" category="list-text">为缆线贴上标签，然后断开缆线和任何网络收发器的连接。</block>
  <block id="8f1beb57e3bba985408dcd06a7bc8494" category="list-text">从机柜或机架中取出故障设备。</block>
  <block id="63727a096ff427ad21965d195a4a9467" category="list-text">将故障设备中的两个电源，八个散热风扇和两个 SSD 传输到更换设备。</block>
  <block id="cadcdccb154dcc98e8b3af8d77234ab4" category="paragraph">按照提供的说明更换这些组件。</block>
  <block id="fb92114fc5b4342c490ab3ae07f9c233" category="list-text">将替代设备安装到机柜或机架中。</block>
  <block id="0400d4bf6f23b78af991dc54200bfd7d" category="list-text">更换缆线和任何光纤收发器。</block>
  <block id="98f7d7ca9d38386faba93589745bed18" category="list-text">打开设备电源并监控设备 LED 和启动代码。</block>
  <block id="dc019660bd796257fda20698ea260081" category="paragraph">使用 BMC 界面监控启动状态。</block>
  <block id="d459ccefa7a5e44bd0615e4cdb618c89" category="list-text">确认设备节点显示在网格管理器中且未显示任何警报。</block>
  <block id="4f633b73b1f23271dd4776f0ab8dd707" category="paragraph"><block ref="4f633b73b1f23271dd4776f0ab8dd707" category="inline-xref-macro-rx"></block></block>
  <block id="bd07c214888c5b9de73149618868a325" category="inline-xref-macro">查看 SG100 和 SG1000 设备上的状态指示灯</block>
  <block id="09173885d8632e2964af3854caef470d" category="paragraph"><block ref="09173885d8632e2964af3854caef470d" category="inline-xref-macro-rx"></block></block>
  <block id="0f30318ec0f297e9f023ed9efbf93fc0" category="paragraph"><block ref="0f30318ec0f297e9f023ed9efbf93fc0" category="inline-xref-macro-rx"></block></block>
  <block id="16d86c5176288c41b4ea6e6008ed5e85" category="list-text">您已获得所需的额外设备来满足您的缆线类型和链路速度要求。</block>
  <block id="c005001a79c4e5f5fe755afed2f9ee1c" category="list-text">您已将网络端口连接到支持所选速度的交换机。</block>
  <block id="e5b05f293997fd124b38efcc87bc5dd1" category="paragraph">图中显示了四个网络端口在固定端口绑定模式下的绑定方式（默认配置）。</block>
  <block id="765a808055fe32c1ea11190445ed62fa" category="paragraph">* SG100 固定端口绑定模式 *</block>
  <block id="40cbfd87b99cc3e001be44570ee1ecd0" category="image-alt">SG100 固定端口绑定模式</block>
  <block id="82fd733ecb693cc901a9f50c569d66a1" category="paragraph">* SG1000 固定端口绑定模式 *</block>
  <block id="7fb46bfc2583b909d20e3797aa8fd7ee" category="image-alt">SG1000 固定端口绑定模式</block>
  <block id="106bb3c6beb9675a1694561318830d03" category="paragraph">* SG100 聚合端口绑定模式 *</block>
  <block id="4694ac89d287f009722d5544f75fd900" category="image-alt">聚合端口绑定模式 SG100</block>
  <block id="e72d9134d41e5b0485578aab92ed789f" category="paragraph">* SG1000 聚合端口绑定模式 *</block>
  <block id="a25d5facb306224bd802b234decae136" category="image-alt">聚合端口绑定模式 SG1000</block>
  <block id="1b671cd93ac7d9c6cd7543f839d88b5f" category="paragraph">下表总结了用于配置四个网络端口的选项。默认设置以粗体显示。只有在要使用非默认设置时，才需要在链路配置页面上配置设置。</block>
  <block id="bc78ab6e717925791e14cdefd1ce92de" category="admonition">LACP 传输哈希策略默认为 layer2+3 模式。如有必要，您可以使用网格管理 API 将其更改为 layer3+4 模式。</block>
  <block id="94d9a3079cbe92685422ba4af94a3fb0" category="paragraph">有关其他详细信息，请参见有关服务设备的 GbE 端口连接的文章。</block>
  <block id="6fd88f50981b2a22e2cac39175142f2c" category="paragraph">此图显示了 SG100 上的两个 1-GbE 管理端口如何在管理网络的主动备份网络绑定模式下绑定。</block>
  <block id="c1ad68b3ed119c503cf5776408ef034d" category="paragraph">这些图显示了设备上的两个 1-GbE 管理端口如何在管理网络的主动备份网络绑定模式下绑定。</block>
  <block id="209a1c813b6d1cdfd36ece726119aca6" category="paragraph">* 绑定 SG100 管理网络端口 *</block>
  <block id="5dc3c1a600be24503541c79052ed4930" category="image-alt">管理网络端口绑定 SG100</block>
  <block id="b544d2cef2a9070d8fe98360780d9061" category="paragraph">* 绑定 SG1000 管理网络端口 *</block>
  <block id="bb5f7c591fd63d575af6c25d7627f47e" category="image-alt">管理网络端口绑定 SG1000</block>
  <block id="36e5323a5417a4b8891789e3f18db94f" category="paragraph">* SG100 端口 *</block>
  <block id="67da25a403613eaa27dc3e13217aa02e" category="image-alt">SG100 后部连接器</block>
  <block id="de91a4e734ea47cf7c4baa9bfa171535" category="paragraph">* SG1000 端口 *</block>
  <block id="67dd12ce757ad2b636148b743ecd09da" category="image-alt">SG1000 端口</block>
  <block id="373f3c90a867b9f86428e942a1f5745a" category="paragraph">" 链路状态 " 表列出了已编号端口的链路状态和速度（所示为 SG1000 ）。</block>
  <block id="159969167817b694e39d98015e3bab52" category="image-alt">SG1000 链路状态</block>
  <block id="678a14800d0067fb610b6fe26abe74fa" category="list-text">从 * 链路速度 * 下拉列表中选择网络端口的链路速度。</block>
  <block id="fd97c4115309fef0e4ee36ad4e9340d6" category="paragraph">您用于网格网络和客户端网络的网络交换机也必须支持此速度并为此速度进行配置。您必须使用适当的适配器或收发器来设置所配置的链路速度。请尽可能使用自动链路速度，因为此选项会与链路配对节点协商链路速度和正向错误更正（ FEC ）模式。</block>
  <block id="251a4c3325d24cce3beeb2fa25236ac7" category="paragraph">此时将显示数据 NIC 端口的客户端网络设置。</block>
  <block id="cd83853a650afd5076a9331407337acb" category="list-text">为网格和客户端网络选择了 * 聚合 * 和 * LACP * 。您必须为每个网络指定唯一的 VLAN 标记。您可以选择 0 到 4095 之间的值。</block>
  <block id="30151ebcc272344d1d0c87b4647751b2" category="image-alt">网络链路配置聚合</block>
  <block id="5f3dde000883ad1b95cb30373c30c103" category="admonition">如果更改了所连接的网络或链路，则可能会断开连接。如果 1 分钟内未重新连接，请使用分配给 StorageGRID 设备的其他 IP 地址之一重新输入此设备安装程序的 URL ： + ` * https://_services_appliance_IP_:8443*`</block>
  <block id="1f478afa5208dbe56ca8e238c951e8e5" category="paragraph"><block ref="1f478afa5208dbe56ca8e238c951e8e5" category="inline-xref-macro-rx"></block></block>
  <block id="ca24497a603bbc47076b2ca3cbe5a2ac" category="paragraph">在此阶段，安装程序将从设备中的驱动器中清除任何现有配置，并配置主机设置。</block>
  <block id="90f6370ccbecc973aa1553afa395b729" category="list-text">继续监控安装进度，直到出现以下过程之一：</block>
  <block id="247f3d17e4317101acecf503110544b0" category="list-text">对于除主管理节点之外的所有设备节点，安装 StorageGRID 阶段将暂停，嵌入式控制台上会显示一条消息，提示您使用网格管理器在管理节点上批准此节点。继续执行下一步。</block>
  <block id="f510cd32983f784739fb722bd0cb0a83" category="list-text">对于设备主管理节点安装，您无需批准该节点。设备将重新启动。您可以跳过下一步。</block>
  <block id="ca2089a4125ab586b2ca81b4d4a9340b" category="admonition">在安装设备主管理节点期间，将显示第五个阶段（请参见显示四个阶段的示例屏幕截图）。如果第五阶段的进度超过 10 分钟，请手动刷新网页。</block>
  <block id="a502699e7fa49618892585a8980922d7" category="list-text">转至主管理节点的网格管理器，批准待定网格节点，然后完成 StorageGRID 安装过程。</block>
  <block id="6ac1a7d9832a500687085e0cf66a46ec" category="paragraph">在网格管理器中单击 * 安装 * 后，第 3 阶段完成，第 4 阶段 * 完成安装 * 开始。阶段 4 完成后，设备将重新启动。</block>
  <block id="9ea5b8e226ca4dc69bdc8feb338a5958" category="summary">在 StorageGRID 设备安装程序运行期间，您可能需要重新启动服务设备。例如，如果安装失败，您可能需要重新启动服务设备。</block>
  <block id="d8e0bbc7b6dd4e5376c03efc7c759bca" category="doc">在 StorageGRID 设备安装程序运行期间重新启动服务设备</block>
  <block id="01c1dccc680bac60b1fef0a041c5878d" category="paragraph">只有在服务设备运行 StorageGRID 设备安装程序时，此操作步骤 才适用。安装完成后，此步骤将不再起作用，因为 StorageGRID 设备安装程序不再可用。</block>
  <block id="39dbe762575181d1b6252ec23d1523fe" category="list-text">从 StorageGRID 设备安装程序的菜单栏中，单击 * 高级 * &gt; * 重新启动控制器 * 。</block>
  <block id="55ed84f907657f5ac34aed136c12586f" category="paragraph">此时将显示重新启动控制器页面。</block>
  <block id="a420980356ae9b79e4d6d07fcd777f71" category="paragraph">服务设备将重新启动。</block>
  <block id="4e2d1b46d32d63f7b20c891a226971a0" category="summary">您可以更改服务设备的以太网链路配置。您可以更改端口绑定模式，网络绑定模式和链路速度。</block>
  <block id="b8186fa29bee53bc4918df9012a5e878" category="doc">更改服务设备的链路配置</block>
  <block id="2eb50c5d14a0717498b7751f07467d44" category="paragraph">用于更改服务设备的以太网链路配置的选项包括：</block>
  <block id="9375de3fffbb63f94a7ca68331299b22" category="list-text">更改链路速度</block>
  <block id="5ed828ee565fa5c9fbd8cbc8e3525b3b" category="list-text">对链路配置进行所需的更改。</block>
  <block id="93b46e606d32a493646a41bbb400d80a" category="inline-xref-macro">配置网络链路</block>
  <block id="230f8db34ddc601d406c4284bc4e5acb" category="paragraph">有关选项的详细信息，请参见 <block ref="66aeb2cc56961a54518b9c0d567f1f0e" category="inline-xref-macro-rx"></block>。</block>
  <block id="6c404165b9f61f221f812376cd4c250f" category="list-text">对设备的 IP 地址进行任何必要的更改。</block>
  <block id="5b5bd6a02675ccf28c5e1043535a22b7" category="paragraph">如果更改了 VLAN 设置，则设备的子网可能已更改。如果需要更改设备的 IP 地址，请参见 <block ref="254df8b860730f880960792fa9dde431" category="inline-xref-macro-rx"></block>。</block>
  <block id="195e1ea188aad8bae807efe8c3dce3ec" category="list-text">使用 Ping 测试工具检查与任何网络上的 IP 地址的连接，这些网络可能已受到您在配置设备时所做的链路配置更改的影响。</block>
  <block id="dd285b2094fbb590db2df270c687a35d" category="paragraph">除了您选择执行的任何其他测试之外，请确认您可以对主管理节点的网格网络 IP 地址以及至少一个其他节点的网格网络 IP 地址执行 ping 操作。如有必要，请返回到有关配置网络链路的说明，并更正任何问题。</block>
  <block id="52492953af7b9d071a2057d95f02e5da" category="inline-xref-macro">已物理定位服务设备</block>
  <block id="666fa454fe232a6a2944cd8a4a191608" category="list-text">您已拥有 <block ref="56d68699786281bd30be7060f90a74d1" category="inline-xref-macro-rx"></block>。</block>
  <block id="b4552e408018ee9024f59e4837bf209d" category="admonition">您必须通过输入以下指定的命令来控制控制器的关闭。使用电源开关关闭设备将导致数据丢失。</block>
  <block id="16eb8283e310826145f33fe6116ba3eb" category="summary">StorageGRID SG100 服务设备和 SG1000 服务设备可以作为网关节点和管理节点运行，以便在 StorageGRID 系统中提供高可用性负载平衡服务。这两个设备可以同时用作网关节点和管理节点（主节点或非主节点）。</block>
  <block id="37c862f464bdf4d5bb6255511e46a76c" category="doc">SG100 和 SG1000 设备概述</block>
  <block id="6d0ade2fa24dcd390db4eebf8a1390df" category="paragraph">StorageGRID SG100 服务设备和 SG1000 服务设备可以作为网关节点和管理节点运行，以便在 StorageGRID 系统中提供高可用性负载平衡服务。这两个设备可以同时作为网关节点和管理节点（主节点或非主节点）运行。</block>
  <block id="07c7e7e8da60c1194366cb92a963b708" category="section-title">设备功能</block>
  <block id="b9d4703bd7bc28d5d3523eb88d7e2146" category="paragraph">这两种型号的服务设备均可提供以下功能：</block>
  <block id="e0de68a9950b897661137b378e28a400" category="list-text">StorageGRID 系统的网关节点或管理节点功能。</block>
  <block id="0b33dfc033b8e0dbb3743bcb20488971" category="list-text">StorageGRID 设备安装程序，用于简化节点部署和配置。</block>
  <block id="3d5c4dd896b5026bdd8934e827c2ce21" category="list-text">部署后，可以从现有管理节点或从下载到本地驱动器的软件访问 StorageGRID 软件。为了进一步简化部署过程，在制造过程中，设备会预加载最新版本的软件。</block>
  <block id="1e14353441177ea39eff303cc723ae42" category="list-text">用于监控和诊断某些设备硬件的基板管理控制器（ BMC ）。</block>
  <block id="a26fb99e7662765c3707f3857c2a8b22" category="list-text">能够连接到所有三个 StorageGRID 网络，包括网格网络，管理网络和客户端网络：</block>
  <block id="b5ccdd270bbb42735f3f862e234aa793" category="list-text">SG100 最多支持四个 10 GbE 或 25 GbE 网格网络和客户端网络连接。</block>
  <block id="1e275cfebcb0d355593529c94cb1d3b8" category="list-text">SG1000 最多支持四个 10 GbE ， 25 GbE ， 40 GbE 或 100 GbE 网格网络和客户端网络连接。</block>
  <block id="a84b5f1afdd502c061024370bfc6a952" category="section-title">SG100 和 SG1000 图表</block>
  <block id="0c7424fc4179a48368c08ef3259ad5eb" category="paragraph">此图显示了 SG100 和 SG1000 的正面，其中已卸下挡板。</block>
  <block id="c9b5cd1fb8ac57a06e5af2b62fdd1c7c" category="admonition">从正面看，除了挡板上的产品名称之外，这两个设备是相同的。</block>
  <block id="4b86742c39b237ccb5d55d72255d53fc" category="paragraph">橙色轮廓所示的两个固态驱动器（ SSD ）用于存储 StorageGRID 操作系统，并使用 RAID1 进行镜像以实现冗余。将 SG100 或 SG1000 服务设备配置为管理节点时，这些驱动器用于存储审核日志，指标和数据库表。</block>
  <block id="6610dc47f2f5383953ec2a1621ffb22e" category="paragraph">其余驱动器插槽为空。</block>
  <block id="28989aff1888ad2b7678074c0b2967d1" category="image-alt">正面，带有 SSD SG100 和 SG1000</block>
  <block id="ce478cb1ae0155c8d07a13ab9de40f18" category="section-title">SG100 背面的连接器</block>
  <block id="d6e5389fc7987a2d5338515d74fde402" category="paragraph">此图显示了 SG100 背面的连接器。</block>
  <block id="8eb40e649816b715525a6f941db85a2a" category="image-alt">后部连接器 SG100</block>
  <block id="4603ff043da853e84db5796e2480cba9" category="paragraph">10/225-GbE ，根据缆线或 SFP 收发器类型（支持 SFP28 和 SFP+ 模块），交换机速度和已配置的链路速度</block>
  <block id="8eabbf54b4705cc1ec628d35d5d031ac" category="paragraph">连接到设备基板管理控制器。</block>
  <block id="43418b4f11f9ba0ccdc183f792937f84" category="paragraph">将设备连接到 StorageGRID 的管理网络。</block>
  <block id="b9107f5e43825acc403cae24e32254dd" category="list-text">保持断开连接并可用于临时本地访问（ IP 169.254.0.1 ）。</block>
  <block id="82c53ad07843889b8b66feeacc8cb877" category="section-title">SG1000 背面的连接器</block>
  <block id="a8538205b801db636fcb03dc3fffd848" category="paragraph">此图显示了 SG1000 背面的连接器。</block>
  <block id="6edb230ba4b4b7e8c0434cd4a0726662" category="image-alt">后部连接器 SG1000</block>
  <block id="80e4d50672ca6a9dee660a4560c67826" category="paragraph">10/25/40/100-GbE ，基于缆线或收发器类型，交换机速度和已配置的链路速度。本机支持 QSFP28 和 QSFP+ （ 40/100GbE ）， SFP28/SFP+ 收发器可与 QSA （单独销售）结合使用，以使用 10/25GbE 速度。</block>
  <block id="d3e51bf4cea879942719d38c3beb4663" category="paragraph"><block ref="d3e51bf4cea879942719d38c3beb4663" category="inline-xref-macro-rx"></block></block>
  <block id="121ad2f3a2a6261b8137f4a0bafd82d1" category="summary">您可以使用 StorageGRID 设备安装程序在 StorageGRID 网格，管理和客户端网络上配置服务设备所使用的 IP 地址和路由信息。</block>
  <block id="091f45549f6b51162059c953cf7c2411" category="paragraph">如果要更改链路配置，请参见有关更改服务设备的链路配置的说明。</block>
  <block id="aaccbf9f03a40528ae2d68d7b438162d" category="inline-xref-macro">更改服务设备的链路配置</block>
  <block id="ca602e48e4f08dad9129b2e0887d1075" category="paragraph"><block ref="ca602e48e4f08dad9129b2e0887d1075" category="inline-xref-macro-rx"></block></block>
  <block id="3cab961789319a0b0aa7a9eedd075c86" category="summary">您可以通过各种方式配置 StorageGRID 服务设备，以提供网关服务以及某些网格管理服务的冗余。</block>
  <block id="252bb28d2c71c79886d2c7c4ff0e6bb0" category="doc">SG100 和 SG1000 应用程序</block>
  <block id="3bfb14367a110523ffaa1301ad67b29e" category="paragraph">可以通过以下方式部署设备：</block>
  <block id="6db616f7a73c4d21f79032378a105021" category="list-text">作为网关节点添加到新网格或现有网格中</block>
  <block id="5ce7e9e17d9d48eb2e9a65ae9fbaa662" category="list-text">作为主管理节点或非主管理节点添加到新网格中，或者作为非主管理节点添加到现有网格中</block>
  <block id="6ce63c8c4ded433b27a8a7c4a73dad64" category="list-text">同时作为网关节点和管理节点（主节点或非主节点）运行</block>
  <block id="792d1be3fbe8d0f4a7750b3710ef9c41" category="paragraph">该设备有助于在 S3 或 Swift 数据路径连接中使用高可用性（ HA ）组和智能负载平衡。</block>
  <block id="a80993ad4d9595044e2bb99659e13da9" category="paragraph">以下示例介绍了如何最大限度地提高设备的功能：</block>
  <block id="599b3e861c0fc282e1c17e2ac2a0cae4" category="list-text">使用两个 SG100 或两个 SG1000 设备通过将其配置为网关节点来提供网关服务。</block>
  <block id="05ec0cccf1a620c91d02122834efabd5" category="list-text">使用两个 SG100 或两个 SG1000 设备为某些网格管理服务提供冗余。为此，请将每个设备配置为管理节点。</block>
  <block id="2f9c95fc4e3ccbe2083cecf3223335a4" category="list-text">使用两个 SG100 或两个 SG1000 设备提供通过一个或多个虚拟 IP 地址访问的高可用性负载平衡和流量调整服务。为此，请将设备配置为管理节点或网关节点的任意组合，并将这两个节点添加到同一 HA 组。</block>
  <block id="e3ef9cbd71b8f013d703ebb75b5f5b21" category="admonition">如果在同一 HA 组中使用管理节点和网关节点，则 CLB （连接负载平衡器）端口和仅管理节点端口不会进行故障转移。有关配置 HA 组的说明，请参见有关管理 StorageGRID 的说明。</block>
  <block id="ab213d2e85f6a2233d40369c0c2f5cbc" category="paragraph">在与 StorageGRID 存储设备结合使用时， SG100 和 SG1000 服务设备均支持部署纯设备网格，而不依赖于外部虚拟机管理程序或计算硬件。</block>
  <block id="c317f3d92ce66f83fa4dcd149a405072" category="doc">监控维护模式下的节点加密（ SG100 和 SG1000 ）</block>
  <block id="82fe89a300ab2b8f80e721cad27dcb86" category="list-text">您在安装期间为设备启用了节点加密。安装设备后，您无法启用节点加密。</block>
  <block id="c9f56ea3956bda9c0db17221dd58d433" category="paragraph">节点加密页面包括三个部分：</block>
  <block id="68504c39869669c6b5389a2274d4dffa" category="inline-xref-macro">有关配置 KMS 的说明</block>
  <block id="3c3e29a44d71f65829b52869bc735156" category="list-text">要解决证书本身的问题，例如续订已过期的证书，请参见 <block ref="396f5203ff29fbd6b2082d715597a10d" category="inline-xref-macro-rx"></block>。</block>
  <block id="e8aa6bc8ea38ee6a8a6ad384e418df19" category="inline-xref-macro">域名系统（ DNS ）服务器正确无误</block>
  <block id="152f82af2ae59cf239a7fb0a9d4c089f" category="inline-xref-macro">已正确配置设备网络</block>
  <block id="2aa0e3e997cf20f4a32dabe302008d32" category="list-text">如果连接到 KMS 主机时出现意外问题，请验证 <block ref="fb339ecdfefe4dc5bc4f877518f2795c" category="inline-xref-macro-rx"></block> 这样 <block ref="d3232e5149a548a78691ae0106fa83cf" category="inline-xref-macro-rx"></block>。</block>
  <block id="7b7d547dd07868230450e5837a5f217d" category="list-text">选择 * 重新启动至维护模式 * 以重新启动控制器，同时使节点仍处于维护模式。（只有当控制器处于维护模式时，此选项才可用。） 如果需要在节点重新加入网格之前对其执行其他维护操作，请选择此选项。</block>
  <block id="1e9973681bf17e35b5bb5144f07cc892" category="admonition">如果此设备发生故障且需要更换，则此操作步骤 所做的 BMC 设置可能不会保留下来。请确保您已应用所有设置，以便在更换硬件后根据需要轻松重新应用这些设置。</block>
  <block id="6387b205937dae6bd3df0623e0ab8c14" category="summary">在为 SG100 和 SG1000 设备配置网络链路时，您可以对连接到网格网络和可选客户端网络的端口以及连接到可选管理网络的 1-GbE 管理端口使用端口绑定。端口绑定可在 StorageGRID 网络和设备之间提供冗余路径，从而有助于保护数据。</block>
  <block id="0db970194f54ee211df631cf9c0bac9c" category="doc">SG100 和 SG1000 设备的端口绑定模式</block>
  <block id="9817d0d5624254e4df97d403abda6672" category="summary">您必须将设备上的管理端口连接到服务笔记本电脑，并将设备上的网络端口连接到网格网络和适用于 StorageGRID 的可选客户端网络。</block>
  <block id="630c11f4d52682c9face01acf736a23e" category="list-text">您有一根 RJ-45 以太网缆线用于连接管理端口。</block>
  <block id="39695c4da0867a253d7dfaef63919724" category="list-text">对于 SG100 ，如果您计划使用光缆连接端口，则需要一到四个 SFP+ 或 SFP28 收发器。</block>
  <block id="f0272109e4a5b1b7f00948a59a27d79b" category="list-text">对于 SG1000 ，如果您计划使用光缆连接端口，则需要一到四个 QSFP+ 或 QSFP28 收发器。</block>
  <block id="56c6d743c80729258d20200f11a06543" category="admonition">* 受到激光辐射的风险 * —请勿拆卸或卸下 SFP 或 QSFP 收发器的任何部件。您可能受到激光辐射的影响。</block>
  <block id="85175777268e80181938ab7aa226d5dc" category="paragraph">下图显示了设备背面的端口。</block>
  <block id="c2f640c6063814b56ed87afb30ed5593" category="paragraph">* SG100 端口连接 *</block>
  <block id="4ca50183b66968ff0d90093a3d2e88f3" category="paragraph">* SG1000 端口连接 *</block>
  <block id="851bd3ed8a238e545780c276365728f1" category="image-alt">SG1000 端口连接</block>
  <block id="8ae8a16e6adb9ce2463fc0595dd7f6b8" category="paragraph">设备上的 BMC 管理端口</block>
  <block id="ba9d9e1feb4e5b72ea0eea4ce0c8abe4" category="paragraph">设备上有四个网络端口</block>
  <block id="e52c61ac559716034cb6a7d31ae116c3" category="list-text">对于 SG100 ： 10/225-GbE</block>
  <block id="266fbd3f0dd60dfc2a6a65d370b764ec" category="list-text">对于 SG1000 ： 10/25/40/100-GbE</block>
  <block id="7fa42904e436de7ae7dbce261fd78d17" category="paragraph">设备上的管理网络端口（图中标记为 P1 ）</block>
  <block id="46a8c6d986e87c118da8bab5c7c2ba30" category="paragraph">将设备连接到 StorageGRID 的管理网络。</block>
  <block id="65f494b4f7f3c3b65eb0e0866a69854e" category="paragraph">设备上最右侧的 RJ-45 端口</block>
  <block id="63ecc68ce6fb0b9c866a9871239cc9b0" category="list-text">可以保持断开连接，并可用于临时本地访问（ IP 169.254.0.1 ）。</block>
  <block id="ed87a601132b3ac53b85a417e15faa5e" category="list-text">在安装期间，如果 DHCP 分配的 IP 地址不可用，则可以使用将设备连接到服务笔记本电脑。</block>
  <block id="c3d2a3bd36a7e34a1d89592b4f71db43" category="list-text">使用以太网缆线将设备上的 BMC 管理端口连接到管理网络。</block>
  <block id="a89f8f68e10a9e8b06bbaf14010b5088" category="list-text">使用双轴缆线或光缆和收发器将设备上的网络端口连接到相应的网络交换机。</block>
  <block id="19c1060835619f07f9d0cfc9081953b9" category="admonition">这四个网络端口必须使用相同的链路速度。请参见下表，了解根据您的硬件和链路速度所需的设备。</block>
  <block id="ae907c37369a66936b451416dd57508b" category="cell">SG100 链路速度（ GbE ）</block>
  <block id="4108389807df38e55b96ba21999d98f9" category="cell">SG1000 链路速度（ GbE ）</block>
  <block id="f70b9beac280fae2af72447c44421daf" category="paragraph">QSA 和 SFP+ 收发器</block>
  <block id="c73a84a8877d7615118c3cc8ed952526" category="paragraph">QSA 和 SFP28 收发器</block>
  <block id="d297925be311878c043e096ecb684d9e" category="list-text">如果您计划使用 StorageGRID 管理网络，请使用以太网缆线将设备上的管理网络端口连接到管理网络。</block>
  <block id="15ff1def8cf75dae2802619ebb8e3cc2" category="summary">设备中的指示灯可帮助您确定设备控制器和两个 SSD 的状态。</block>
  <block id="0425c776f02886fc2ad3d02d6a30aea0" category="section-title">设备指示灯和按钮</block>
  <block id="811d271fc8871f49479cd0550410bc16" category="image-alt">正面指示灯— SG1000</block>
  <block id="46a2a41cc6e552044816a2d04634545d" category="cell">State</block>
  <block id="bd4e7d8b57aa748823173134d7a5069d" category="list-text">蓝色：设备已启动。</block>
  <block id="30eb29ec5f74e13d3513a23195f8cd0f" category="list-text">off ：设备已关闭。</block>
  <block id="11123144e7598aaa122bd5291ffff35b" category="list-text">蓝色，闪烁：表示机柜或机架中的设备。</block>
  <block id="dc81233a523b5268bcdd467dea63836f" category="list-text">蓝色，实心：表示机柜或机架中的设备。</block>
  <block id="dd260ba09c172112ee24cf1453bab5c2" category="list-text">off ：无法在机柜或机架中直观地识别设备。</block>
  <block id="8d0cd96e8c225541b7c009ba37c8e654" category="list-text">琥珀色，稳定亮起：发生错误。</block>
  <block id="7f59fbd1059f1a6e4d24cdd09e532a2e" category="section-title">SSD 指示灯</block>
  <block id="c49f04e86a8869ebf6cddd3df2137305" category="image-alt">SSD 指示灯</block>
  <block id="53e0dbc06e48e3d381ac224fa8bae3df" category="cell">LED</block>
  <block id="a8bab586ce162b13259bfbc2b76da3a6" category="paragraph">驱动器状态 / 故障</block>
  <block id="53a8eec83a38c1439970d4f24b8fed94" category="list-text">蓝色（实心）：驱动器已联机</block>
  <block id="e166de804d57f66554bbd48bebf1c3b0" category="list-text">琥珀色（闪烁）：驱动器故障</block>
  <block id="0ff1fefe51da31ab2da390767b67fdf3" category="list-text">off ：插槽为空</block>
  <block id="cfc94e557ae947f64fcec69da788db44" category="paragraph">驱动器处于活动状态</block>
  <block id="a899e0c13af3edd1a8beef4ffee6fa9d" category="paragraph">蓝色（闪烁）：正在访问驱动器</block>
  <block id="c62c967a02bf2bdfdccc8964524854f2" category="paragraph"><block ref="c62c967a02bf2bdfdccc8964524854f2" category="inline-xref-macro-rx"></block></block>
  <block id="0a08efe4a7672faa7918823cf29ffe55" category="paragraph"><block ref="0a08efe4a7672faa7918823cf29ffe55" category="inline-xref-macro-rx"></block></block>
  <block id="1dcdcefd8c322622231d91e17e3a222d" category="summary">在将服务设备部署为主管理节点时，您可以使用设备上提供的 StorageGRID 设备安装程序安装 StorageGRID 软件，或者上传要安装的软件版本。在安装任何其他设备节点类型之前，您必须先安装并配置主管理节点。主管理节点可以连接到网格网络以及可选的管理网络和客户端网络（如果配置了其中一个或两者）。</block>
  <block id="5982956d1cd896b46b04ee40aafef91c" category="doc">将服务设备部署为主管理节点</block>
  <block id="1851ae66d4460eded418e1301925f668" category="inline-xref-macro">负载平衡的工作原理— CLB 服务（已弃用）</block>
  <block id="0e5aafb567a0b2a3e2fecf1d90a09429" category="paragraph">请参见 <block ref="d539106dc6ac0110dad189884bf28c12" category="inline-xref-macro-rx"></block> 有关 CLB 服务的详细信息。</block>
  <block id="7affba66ef4869b80f35788b21790843" category="list-text">您知道分配给设备的 IP 地址之一。您可以对任何已连接的 StorageGRID 网络使用此 IP 地址。</block>
  <block id="584bec36fb27133ce8a721515dfb572d" category="paragraph">要在设备主管理节点上安装 StorageGRID ，请执行以下操作：</block>
  <block id="25a9aabada9e76a8d6ff5b35a1c21f72" category="list-text">您可以使用 StorageGRID 设备安装程序安装 StorageGRID 软件。如果要安装其他版本的软件，请先使用 StorageGRID 设备安装程序上传。</block>
  <block id="e6e13a04c262a4b06737258ae67863db" category="list-text">软件安装完毕后，请稍候。</block>
  <block id="5e4867ecb703c1c5092c9d72f59a521a" category="list-text">安装软件后，设备将自动重新启动。</block>
  <block id="746474c289f6e82bf46b9c5e4ff14d01" category="list-text">打开浏览器，然后输入设备的 IP 地址。+ ` * https://_services_appliance_IP_:8443*`</block>
  <block id="ee582fbffde4e48e49751279436ada69" category="list-text">在 * 此节点 * 部分中，选择 * 主管理 * 。</block>
  <block id="9cd87bcbfd4b2a32db00eb063a04342d" category="paragraph">节点名称将分配给 StorageGRID 系统中的此设备节点。它显示在网格管理器的网格节点页面上。</block>
  <block id="2d636e90bd2e05a13f9a7e54cc9ff4de" category="list-text">确认当前状态为 "`Ready to start installation of primary Admin Node name with software version x.y` " ，并且已启用 * 开始安装 * 按钮。</block>
  <block id="56b23f33166faf44244f331fb7f573bf" category="admonition">如果要将管理节点设备部署为节点克隆目标，请在此停止部署过程，然后按照继续执行节点克隆操作步骤 <block ref="a0762e2dd5f1d14d4710e6c0139de3cc" category="inline-xref-macro-rx"></block> 说明。</block>
  <block id="3c90ca8c817ea8ed7231082584be44e9" category="image-alt">设备主管理节点安装</block>
  <block id="90c1e1a753f99e83b4fb9ba6388eca35" category="summary">在安装和配置 StorageGRID 设备时，您必须做出决策并收集有关以太网交换机端口， IP 地址以及端口和网络绑定模式的信息。记下连接到设备的每个网络所需的信息。安装和配置硬件需要这些值。</block>
  <block id="e9b7bfe71840258365702506beff7cd0" category="section-title">管理和维护端口</block>
  <block id="5a233caf39ff6cb2c62f380671950cdd" category="paragraph">StorageGRID 管理网络是一个可选网络，用于系统管理和维护。此设备使用设备上的以下 1-GbE 管理端口连接到管理网络。</block>
  <block id="170f7eea9a02b42c196e89c3ad267242" category="paragraph">* SG100 RJ-45 端口 *</block>
  <block id="d1f45fb8090b888f9ff7addad1017864" category="image-alt">圈出的 sg100 RJ 45 端口</block>
  <block id="1aa93bb5b005d6aa673b526c73a99e80" category="paragraph">* SG1000 RJ-45 端口 *</block>
  <block id="bb09b9a31ec62215453be15285ffa467" category="image-alt">SG1000 RJ-45 端口</block>
  <block id="97f5ea4ed01d2dd54255bec307c92588" category="paragraph">* 管理和维护连接 *</block>
  <block id="e670cdf747255e0f33056980d5ee334b" category="paragraph">图中圈出的左侧端口的交换机端口（独立网络绑定模式的默认活动端口）</block>
  <block id="0c63b618d0077e772ef02c8863d2a704" category="paragraph">图中圈出的右侧端口的交换机端口（仅限主动备份网络绑定模式）</block>
  <block id="05834f265802338c05f45e52d2db53ce" category="paragraph">* 注： * 设备正面的 MAC 地址标签列出了 BMC 管理端口的 MAC 地址。要确定管理网络端口的 MAC 地址，必须在标签上的十六进制数字中添加 * 。 2 *例如，如果标签上的 MAC 地址以 *09* 结尾，则管理端口的 MAC 地址将以 *0B* 结尾。如果标签上的 MAC 地址以 * （ _y_ ） FF* 结尾，则管理端口的 MAC 地址将以 * （ _y_+1 ） 01* 结尾。您可以通过在 Windows 中打开 Calculator ，将其设置为程序编程模式，选择十六进制，键入 MAC 地址，然后键入 * + 2 =* 来轻松进行计算。</block>
  <block id="3706149d54b8ae34b912de528e4f6d46" category="paragraph">您计划在管理网络上用于设备节点的静态 IP 地址</block>
  <block id="c950c6d6cd726e9a640171a878985491" category="section-title">网络端口</block>
  <block id="2179b952cffe7642e0de347c4590d01f" category="paragraph">设备上的四个网络端口连接到 StorageGRID 网格网络和可选客户端网络。</block>
  <block id="84bd823b8431067b93a2ba8f78d07313" category="paragraph">* 网络连接 *</block>
  <block id="53a0851f170b929656c579e2e349702c" category="paragraph">对于 SG100 ，请选择以下选项之一：</block>
  <block id="4c3207b5e50f600002b80c894d8981e9" category="paragraph">对于 SG1000 ，请选择以下选项之一：</block>
  <block id="a551b5cc1f477d04e84ffc68af0a73a3" category="list-text">40 GbE</block>
  <block id="edcd3f3adc6d51b309e9115847fa497f" category="list-text">100 GbE</block>
  <block id="eabd43664e79e5045a1c26a5206953b2" category="paragraph">* 注： * 对于 SG1000 ， 10-GbE 和 25-GbE 速度要求使用 QSA 适配器。</block>
  <block id="9c997e3e8b59c5ff5f89c327cce6da4a" category="section-title">网格网络端口</block>
  <block id="1b11bf446a02447a6b0fd0f01937079b" category="paragraph">适用于 StorageGRID 的网格网络是一个必需的网络，用于所有内部 StorageGRID 流量。此设备使用四个网络端口连接到网格网络。</block>
  <block id="53d006416a1a04ccb064e71b7ce477d0" category="paragraph">* 网格网络连接 *</block>
  <block id="4e64876e1cab7f2285323dc316d18f5b" category="paragraph">您计划用于网格网络上设备节点的静态 IP 地址</block>
  <block id="ccbcbffde785af5096552d69adac97c6" category="paragraph">最大传输单元（ Maximum Transmission Unit ， MTU ）设置（可选）您可以使用默认值 1500 ，也可以将 MTU 设置为适合巨型帧的值，例如 9000 。</block>
  <block id="6b30f656d46a465f8db91a1defcc8c8d" category="section-title">客户端网络端口</block>
  <block id="d6e4e9fa690498b90a5163b942fac7e5" category="paragraph">适用于 StorageGRID 的客户端网络是一个可选网络，通常用于提供对网格的客户端协议访问。此设备使用四个网络端口连接到客户端网络。</block>
  <block id="c781eb521a92ab9bb5eb1fe695b05180" category="paragraph">* 客户端网络连接 *</block>
  <block id="c36a0c61942163d855d04f2103fdc8aa" category="paragraph">您计划在客户端网络上用于设备节点的静态 IP 地址</block>
  <block id="e04677e2409768cf633618ce7181b62e" category="paragraph">* 注意： * 如果启用了客户端网络，则设备上的默认路由将使用此处指定的网关。</block>
  <block id="8f4f705e7f311caf7286db589fb649c1" category="section-title">BMC 管理网络端口</block>
  <block id="fcaf09fb0540e3464838550131eda295" category="paragraph">您可以使用图中圈出的 1-GbE 管理端口访问服务设备上的 BMC 接口。此端口支持使用智能平台管理接口（ Intelligent Platform Management Interface ， IPMI ）标准通过以太网远程管理控制器硬件。</block>
  <block id="dd320dfaa609e8457c7d7532dfeff906" category="image-alt">SG100 管理端口</block>
  <block id="d9b55262093f170224a25892dc69d195" category="image-alt">SG1000 BMC 管理端口</block>
  <block id="c0b9c27169bb9dfcee6fa0143ac5cb71" category="paragraph">* BMC 管理网络连接 *</block>
  <block id="cf355f90e56aa7d7f3835f83950618e6" category="paragraph"><block ref="cf355f90e56aa7d7f3835f83950618e6" category="inline-xref-macro-rx"></block></block>
  <block id="254df8b860730f880960792fa9dde431" category="paragraph"><block ref="254df8b860730f880960792fa9dde431" category="inline-xref-macro-rx"></block></block>
  <block id="b8a8f6bceabb0b8e37b878ffa707cb2d" category="summary">在将服务设备部署为 StorageGRID 系统中的节点之前，您必须配置设备与计划使用的网络之间的连接。您可以通过浏览到服务设备上预安装的 StorageGRID 设备安装程序来配置网络连接。</block>
  <block id="f901bb957623059d7317f87858176d61" category="paragraph"><block ref="f901bb957623059d7317f87858176d61" category="inline-xref-macro-rx"></block></block>
  <block id="6730dc801c22e9a44ea2f4222265a2d5" category="list-text">找到设备的机箱序列号。</block>
  <block id="171119d718f06adfd5c53e4ceff0507a" category="doc">SG100 和 SG1000 设备：概述</block>
  <block id="fefbb7d87e66ead831efc0aab80c8299" category="section-title">SG100 背面的连接器</block>
  <block id="4359ed7de64a2e05d19dadbb8046b48b" category="section-title">SG1000 背面的连接器</block>
  <block id="62679f22de916e22b6c9e82c446561ef" category="inline-xref-macro">网格管理器</block>
  <block id="0ac82a4db71d617117af13f25d1a6782" category="inline-xref-macro">安装 API</block>
  <block id="70764d9d4395a9f9aecf6dc5bbbf2ea2" category="admonition">您也可以使用配置系统 <block ref="bd72198f80e94a12f330c3247b75930f" category="inline-xref-macro-rx"></block> 或 <block ref="41937c6e5bf8396d046daeefc9155811" category="inline-xref-macro-rx"></block>。</block>
  <block id="2a76444ee65695674e39c3d6b8bc1862" category="admonition">您可以直接使用 StorageGRID 自动化 Python 脚本，也可以使用它们作为示例，说明如何在您自己开发的网格部署和配置工具中使用 StorageGRID 安装 REST API 。请参见的说明 <block ref="2cdb92fea73ee89cc9e8188edd172d5c" category="inline-xref-macro-rx"></block>。</block>
  <block id="5374a0c5227418d93fd4bd54e4fbdbf8" category="summary">服务设备上的网络端口支持网格网络和客户端网络连接的固定端口绑定模式或聚合端口绑定模式。</block>
  <block id="534eecc2bfbd820b642ee7f232fbf676" category="doc">网络绑定模式</block>
  <block id="3f2b457291d4b77d0774662934e25042" category="paragraph">固定端口绑定模式是网络端口的默认配置。</block>
  <block id="b488be515158774e739eeb387658f767" category="list-text">在 LACP 模式下，每对端口在服务设备和网络之间形成一个逻辑通道，从而提高吞吐量。如果一个端口发生故障，另一个端口将继续提供通道。吞吐量会降低，但连接不会受到影响。</block>
  <block id="6e7182acb2a8582fda75230f8b2ea477" category="admonition">如果不需要冗余连接，则每个网络只能使用一个端口。但是，请注意，安装 StorageGRID 后，可能会在网格管理器中触发 * 服务设备链路已关闭 * 警报，指示已拔下缆线。您可以安全地禁用此警报规则。</block>
  <block id="4477c879f95b73024934aaba13f56ed2" category="paragraph">聚合端口绑定模式可显著提高每个 StorageGRID 网络的吞吐量，并提供额外的故障转移路径。</block>
  <block id="0f42d5f5827052fca378a343c6e9fcaa" category="image-alt">SG100 聚合端口绑定模式</block>
  <block id="46b8162ed4439672d3e92b2b03425c71" category="image-alt">SG1000 聚合端口绑定模式</block>
  <block id="84b7d4a8a3100d8c89db752544055ca0" category="paragraph">如果不想使用全部四个端口，可以使用一个，两个或三个端口。使用多个端口可以最大程度地提高在其中一个端口出现故障时某些网络连接仍可用的可能性。</block>
  <block id="fa1dccee9e01ab88c820bbc42906f0d6" category="admonition">如果您选择使用的网络端口少于四个，请注意，在安装设备节点后，可能会在网格管理器中触发 * 服务设备链路已关闭 * 警报，指示已拔下缆线。您可以安全地为触发的警报禁用此警报规则。</block>
  <block id="dfcabb8ef15d8a08f4466505015d0b60" category="summary">此服务设备具有两个电源以实现冗余。如果其中一个电源发生故障，您必须尽快更换，以确保设备具有冗余电源。在控制器中运行的两个电源必须具有相同的型号和功率。</block>
  <block id="b57d1b5624364aa93858fab4a2825e03" category="doc">更换服务设备中的一个或两个电源</block>
  <block id="f332ff85df51b00e44dd819f32a08b07" category="paragraph">此服务设备具有两个电源以实现冗余。如果其中一个电源发生故障，您必须尽快更换，以确保计算控制器具有冗余电源。在控制器中运行的两个电源必须具有相同的型号和功率。</block>
  <block id="846ad863c23fa150a30949a017a6e41b" category="inline-xref-macro">已物理定位控制器</block>
  <block id="1fa502d060f9cd1388440fec4d69c0f5" category="list-text">您已拥有 <block ref="f62e250090e5de65b7b59874e28f79ee" category="inline-xref-macro-rx"></block> 更换电源。</block>
  <block id="9110fcff17804c720804fe79ffdc0bd2" category="paragraph">此图显示了 SG100 的两个电源设备，这些设备可从设备背面访问。</block>
  <block id="0bea41ec16ae624024bc7856a8cbec12" category="image-alt">带有两个电源的 SG100 的背面</block>
  <block id="2888b58341acf399db07fe78f91a1b62" category="admonition">SG1000 的电源相同。</block>
  <block id="e44a248bb5434444710f4ad0dc197f0c" category="list-text"><block ref="b88831f7a712fc5e1a4c9e6c28af638a" category="inline-xref-macro-rx"></block>。</block>
  <block id="f1610183f499f3ea69e9ba02405e5d72" category="list-text"><block ref="6c30d39fe544a4047794f29d3e225c9e" category="inline-xref-macro-rx"></block>。</block>
  <block id="90e45ef141abdf2066a4a06d40748b35" category="list-text">重新启动节点。在 StorageGRID 设备安装程序中，选择 * 高级 * &gt; * 重新启动控制器 * ，然后选择以下选项之一：</block>
  <block id="f76c5a16a112e058ef1c4bf1c057cb79" category="inline-xref-macro">使用 configure-sga.py 脚本</block>
  <block id="f9ddcff67d8e2ccb063588324b8bbbd7" category="admonition">希望自动安装和配置设备的经验丰富的用户可以 <block ref="25c1ec7fc0f29c84c1dcffb524ec80ed" category="inline-xref-macro-rx"></block>。</block>
  <block id="4f0e0878324ad318dcba2bef0523ba6d" category="list-text">使用以下方法之一生成 JSON 文件：</block>
  <block id="5bdacc299a4b3269a4779512a9a12ba1" category="inline-link">ConfigBuilder 应用程序</block>
  <block id="e9461c0df279b37e2dda27ab2a48c8be" category="list-text">。<block ref="0bd4e29a5e55e64f2c3ceb4b7e3cf5df" category="inline-link-rx"></block>。</block>
  <block id="f147a53a7f00945a875ba4dfdcc31079" category="inline-xref-macro">`configure-sGa.py` 设备配置脚本</block>
  <block id="2ff3a035fddd65dc21e682e65fe20111" category="list-text">。 <block ref="031a2540d9a55b9864603c84fab49ebe" category="inline-xref-macro-rx"></block>。您可以从 StorageGRID 设备安装程序（ * 帮助 * &gt; * 设备配置脚本 * ）下载此脚本。</block>
  <block id="8013e89a1ff244cf3f45c8aec94ccdd5" category="summary">在访问 BMC 接口之前，必须为服务设备上的 BMC 管理端口配置 IP 地址。</block>
  <block id="5c63d70c44f9a5c78b993efa945f3ea9" category="image-alt">SG100 BMC 管理端口</block>
  <block id="6fa1918f8fad49e321f7adcace4ad734" category="admonition">出于支持目的， BMC 管理端口允许进行低级硬件访问。您只能将此端口连接到安全，可信的内部管理网络。如果没有此类网络可用，请保持 BMC 端口未连接或被阻止，除非技术支持请求 BMC 连接。</block>
  <block id="a8547dad52547f37211fe00996a1b983" category="paragraph">对于 ` services_appliation_ip_` ，请在任何 StorageGRID 网络上使用此设备的 IP 地址。</block>
  <block id="57796b16faf01449ca282e4202a30f5e" category="summary">此服务设备具有八个散热风扇。如果其中一个风扇发生故障，您必须尽快更换，以确保设备具有适当的散热效果。</block>
  <block id="e419846019336007d997eb7b5c763d41" category="doc">更换服务设备中的风扇</block>
  <block id="121b08a7e9498dc3b49aa20e03edc8ba" category="list-text">您已卸载替代风扇。</block>
  <block id="20e56779a63eca58ee0bfe71defb83ff" category="list-text">您已确认其他风扇已安装并正在运行。</block>
  <block id="962e3542e3cf5104101d85743308573e" category="paragraph">更换风扇时，无法访问设备节点。</block>
  <block id="5ba7f8261fd3176467dc8c0f2930fbe1" category="paragraph">图中显示了服务设备的风扇。将顶盖从设备上取下后，即可访问散热风扇。</block>
  <block id="91e9e34a276ffd159d1ad818fd270a7b" category="admonition">两个电源设备中的每个设备都包含一个风扇。此操作步骤 不包括这些风扇。</block>
  <block id="e7554f589f74e30313904e0768aad25d" category="image-alt">风扇 FRU</block>
  <block id="0a8f35596b1583ea003bf7cdc2fd6342" category="list-text">使用以下两种方法之一验证服务设备的电源是否已关闭：</block>
  <block id="3ccd277cf6dc6b3dd8018701c541f8b5" category="list-text">将设备从机架中拉出。</block>
  <block id="d15fea9d3f54d5cc3f5928065bc85c15" category="list-text">提起顶盖上的闩锁，然后从设备中卸下此盖板。</block>
  <block id="7198c1deae43186621655b1c18dd3e3b" category="list-text">找到出现故障的风扇。</block>
  <block id="f276b07c1c25d12eb4f99e4e2ca8fb37" category="image-alt">风扇位置</block>
  <block id="aff3e62baa9c74224ed71339115da844" category="list-text">将故障风扇从机箱中提出。</block>
  <block id="855df8e2d9df3c3a5a6da1a41bb932ea" category="image-alt">风扇拆卸</block>
  <block id="3852fd6ceb72ed3018be170f504e1ec9" category="list-text">将替代风扇滑入机箱中的打开插槽。</block>
  <block id="dc4ea38e5f52501422a631845cd03667" category="paragraph">将风扇边缘与导销对中。此销在照片中圈出。</block>
  <block id="b41fd2fb343aae8fb7d20754cab8f0c9" category="image-alt">风扇导向销</block>
  <block id="e54b94216204f38e92058876a20f671a" category="list-text">将风扇连接器稳固地按入电路板。</block>
  <block id="970c6f45434aa006e0f9aea03b602d3e" category="image-alt">风扇连接器检查</block>
  <block id="1123cf40497bd7ecb4315fc602092969" category="list-text">将顶盖重新放在设备上，然后向下按压闩锁以将盖固定到位。</block>
  <block id="19a0c0c263fd11577ae020622f7b7b97" category="list-text">打开设备电源并监控控制器 LED 和启动代码。</block>
  <block id="010f3a08716763ed000ad6a7ee844731" category="doc">对连接问题（ SG100 和 SG1000 ）进行故障排除</block>
  <block id="edab759d5958f988aa1f2c72f3799bb1" category="paragraph">如果无法连接到服务设备，则可能存在网络问题描述 ，或者硬件安装可能未成功完成。</block>
  <block id="24635ed0ad2fdc4580e67183efbaf66c" category="list-text">尝试使用设备的 IP 地址对设备执行 ping 操作： + ` * ping _services_appliation_ip_*`</block>
  <block id="b9d641c4be1777f224a5b6b21876a422" category="list-text">如果 IP 地址正确，请检查设备布线， QSFP 或 SFP 收发器以及网络设置。</block>
  <block id="a586f0af1e97cb2ca9eadf7f335a2e02" category="list-text">如果可以对设备进行物理访问，则可以使用与永久链路本地 IP `169.254.0.1` 的直接连接来检查控制器网络配置，并在必要时进行更新。有关详细说明，请参见中的步骤 2 <block ref="c3c9bce8e4f04ffb667340aba4fa0219" category="inline-xref-macro-rx"></block>。</block>
  <block id="66ef4a636c2d357765b801668fc1005b" category="list-text">输入 StorageGRID 设备安装程序的 URL ： + ` * https://_appliances_controller_IP_:8443*`</block>
  <block id="199547c461b1abb668da99566b567b5f" category="summary">如果硬件故障或布线错误阻止 StorageGRID 设备完成启动处理，则此设备安装程序可能不可用。</block>
  <block id="0048160ca1e1d2f3e8a956a60e044862" category="doc">硬件设置似乎挂起（ SG100 和 SG1000 ）</block>
  <block id="598bca3e557c113f2e819ba45e285cd8" category="list-text">查看设备上的 LED 以及 BMC 中显示的启动和错误代码。</block>
  <block id="c1006ad39d7bf9aa13d15700639a80c5" category="paragraph"><block ref="c1006ad39d7bf9aa13d15700639a80c5" category="inline-xref-macro-rx"></block></block>
  <block id="e5d50ffb8d8753a53809bb2b02c0bf3c" category="admonition">如果要设置共享存储以支持 StorageGRID 节点迁移并使用设备映射程序多路径功能，则可以在所有主机上创建并安装通用的 ` /etc/multipath.conf` 。只需确保在每个主机上使用不同的容器引擎存储卷即可。使用别名并将目标主机名包含在每个容器引擎存储卷 LUN 的别名中，这样便于记住，建议这样做。</block>
  <block id="3c00958fd4fa818263af3b806d7587b6" category="inline-xref-macro">配置容器引擎存储卷</block>
  <block id="e35ffad4d9b7d531bd215be4301f57a6" category="paragraph"><block ref="e35ffad4d9b7d531bd215be4301f57a6" category="inline-xref-macro-rx"></block></block>
  <block id="f7fe41c617b13ff4f2821717ef299304" category="summary">您可以使用 StorageGRID RPM 软件包安装 StorageGRID 主机服务。</block>
  <block id="f086051eb73ae130f295987af27ba89d" category="paragraph">以下说明介绍如何从 RPM 软件包安装主机服务。或者，您也可以使用安装归档中包含的 Yum 存储库元数据远程安装 RPM 软件包。请参见适用于 Linux 操作系统的 Yum 存储库说明。</block>
  <block id="f09d468bfcfa3701cee2ea8a32e55c48" category="list-text">将 StorageGRID RPM 软件包复制到每个主机，或使其在共享存储上可用。</block>
  <block id="9b5648818042babd92565a61937d98b4" category="list-text">以 root 身份或使用具有 sudo 权限的帐户登录到每个主机，然后按指定顺序运行以下命令：</block>
  <block id="7eca0c5b575d2728eaf34b7851e629d1" category="admonition">您必须先安装映像软件包，然后再安装服务软件包。</block>
  <block id="829b2ab122dd171e27a4312642b6f247" category="admonition">如果您将软件包放置在非 ` /tmp` 目录中，请修改命令以反映您使用的路径。</block>
  <block id="6302af5dae0cde0f69470a887569e6c3" category="admonition">安装 StorageGRID 版本后，您必须应用任何所需的修补程序。有关详细信息，请参见 <block ref="95503718432f90d6c1d4eb90eb876e09" category="inline-xref-macro-rx"></block>。</block>
  <block id="88439acf396d0d585ec200a77ed7a6e8" category="list-text">在 * 安装 StorageGRID * 列中，为 Red Hat Enterprise Linux 或 CentOS 选择 .tgz 或 .zip 文件。</block>
  <block id="08c3cf687781192d46297a0203333d6a" category="admonition">表中列出的路径与提取的安装归档所安装的顶级目录相对</block>
  <block id="c31f621797adae951561e32c74cc1eb6" category="summary">在安装容器引擎（ Docker 或 Podman ）之前，您可能需要格式化存储卷并将其挂载。</block>
  <block id="1e52480afbb69c74aa907dfa7cba8277" category="paragraph">如果您计划对 Docker 或 Podman 存储卷使用本地存储，并且在包含适用于 Docker 的 ` /var/lib/Docker` 和适用于 Podman 的 ` /var/lib/containers` 的主机分区上有足够的可用空间，则可以跳过这些步骤。</block>
  <block id="baa3eedd777bce6be4fc6687d10b80cd" category="admonition">只有 Red Hat Enterprise Linux （ RHEL ）才支持 Podman 。</block>
  <block id="db6da021520a2e9bd882fc45c32e7ce4" category="list-text">在容器引擎存储卷上创建文件系统：</block>
  <block id="f21a78afd45fbc880398455d43ebf7fd" category="list-text">挂载容器引擎存储卷：</block>
  <block id="8a1bf6a101dd1b45b027b1f821aa60ac" category="list-text">对于 Docker ：</block>
  <block id="175a4c6a4a71657d0fb6c846c5262661" category="list-text">对于 Podman ：</block>
  <block id="b7e71dc5fce7922d0e050d6ac8be0e06" category="list-text">将 container-storage-volume-device 的条目添加到 /etc/fstab 中。</block>
  <block id="280342113a0fe1a587a2a2a5fb9ed427" category="inline-xref">安装 Podman</block>
  <block id="a1be9c78a2eada5a790d946856762ea2" category="paragraph">StorageGRID 系统作为一组容器在 Red Hat Enterprise Linux 或 CentOS 上运行。如果您已选择使用 Docker 容器引擎，请按照以下步骤安装 Docker 。否则， <block ref="4c0bced94748248021e4dabe4c8cb76a" category="inline-xref-macro-rx"></block>。</block>
  <block id="47e011156251a64be7e2f051a619bdf8" category="section-title">安装 Podman</block>
  <block id="01ec0334a5f1e982c4c947d225edff66" category="inline-xref">安装 Docker</block>
  <block id="6d4d96c8eed08eaf16cfeb5241676309" category="paragraph">StorageGRID 系统作为一组容器在 Red Hat Enterprise Linux 上运行。如果您已选择使用 Podman 容器引擎，请按照以下步骤安装 Podman 。否则， <block ref="206ea472e2096d76632ab375def95946" category="inline-xref-macro-rx"></block>。</block>
  <block id="ce6aefe32721b455850302571941b731" category="list-text">按照适用于您的 Linux 版本的说明安装 Podman 和 Podman-Docker 。</block>
  <block id="e81cc7668c468004bed856b1c9437fb8" category="admonition">安装 Podman 时，您还必须安装 Podman-Docker 软件包。</block>
  <block id="ba4c0240886ee80a4da2127859fb532f" category="list-text">输入以下命令，确认您已安装所需的 Podman 和 Podman-Docker 版本：</block>
  <block id="0652a0f58ef698b4e18636be0a44c464" category="admonition">通过 Podman-Docker 软件包，您可以使用 Docker 命令。</block>
  <block id="16ca150f2b1296559978070a214df7cd" category="paragraph">客户端和服务器版本必须为 3.2.3 或更高版本。</block>
  <block id="ba193099d2f257795725963084d414db" category="summary">您可以使用示例文件将四个 Linux 物理接口聚合到一个 LACP 绑定中，然后建立三个 VLAN 接口，将此绑定分包为 StorageGRID 网格，管理和客户端网络接口。</block>
  <block id="31bef96dba44072adf207f7cc3f42203" category="doc">示例 /etc/sysconfig/network-scripts</block>
  <block id="863f0767b636e71f35f4547410883788" category="paragraph">` * /etc/sysconfig/network-scripts/ifcfg-ens160*`</block>
  <block id="02d6af36d1f64f44d46289959ca28e0e" category="paragraph">` * /etc/sysconfig/network-scripts/ifcfg-ens192*`</block>
  <block id="053abcbd9657e2c04e084c721d70a9d5" category="paragraph">` * /etc/sysconfig/network-scripts/ifcfg-ens224*`</block>
  <block id="1689c24d703b691dfdd99fad05615ba0" category="paragraph">` * /etc/sysconfig/network-scripts/ifcfg-ens256*`</block>
  <block id="da29d21a1156ca1a327d8d4822af2c21" category="paragraph">` * /etc/sysconfig/network-scripts/ifcfg-bond0*`</block>
  <block id="514b5f32bda2c308cdf723c529ec0279" category="paragraph">` * /etc/sysconfig/network-scripts/ifcfg-bond0.1001*`</block>
  <block id="73e65e90d28c22690b6105b85c282665" category="paragraph">` * /etc/sysconfig/network-scripts/ifcfg-bond0.1002*`</block>
  <block id="376dd1d548324ef95282390ad7b7e876" category="paragraph">` * /etc/sysconfig/network-scripts/ifcfg-bond0.1003*`</block>
  <block id="1e3c8f4584608e7846c03d162f5e6169" category="inline-xref-macro">配置主机网络</block>
  <block id="c75c1b5ebe2e90e7ea2ddf2368d98693" category="paragraph">可以通过多种方法在多个主机之间实现一致的网络接口命名；请参见 <block ref="56113e4bee2a938e343f3a71bd0f292f" category="inline-xref-macro-rx"></block> 例如。</block>
  <block id="a50c26eb3d644b105fd36cfcbd54fd8a" category="doc">自动安装（ Red Hat Enterprise Linux 或 CentOS ）</block>
  <block id="3873faaf500a3dc0ac4354b36a322a4d" category="paragraph">StorageGRID 主机服务由软件包安装，并由配置文件驱动。您可以使用以下方法之一创建配置文件：</block>
  <block id="1d132a772f661128ec336b5fbdcb3b3e" category="inline-xref-macro">创建配置文件</block>
  <block id="fc6ecdcf307f182f8d41cda468b34113" category="list-text"><block ref="dbece96a51bfa6f33f66fc011a5b7423" category="inline-xref-macro-rx"></block> 手动安装期间以交互方式进行。</block>
  <block id="a0af5d2c1402e93e07388f272bbda3dd" category="list-text">如本文所述，提前（或以编程方式）准备配置文件，以便使用标准业务流程框架实现自动安装。</block>
  <block id="3e43a5fbfec4d4457ae2ccc4b6d104a1" category="paragraph">StorageGRID 提供了可选的 Python 脚本，用于自动配置 StorageGRID 设备和整个 StorageGRID 系统（ "`grid` " ）。您可以直接使用这些脚本，也可以对其进行检查，了解如何在您自己开发的网格部署和配置工具中使用 StorageGRID 安装 REST API 。</block>
  <block id="8160d31f862fa1b4c2d8531796f3524a" category="paragraph">StorageGRID 主机服务打包在 RPM 中，并由配置文件驱动，您可以提前（或以编程方式）准备这些配置文件，以启用自动安装。如果您已经使用标准业务流程框架来安装和配置 RHEL 或 CentOS ，则在攻略手册或秘诀中添加 StorageGRID 应该非常简单。</block>
  <block id="5ec3c9a5a1431b7cc16b483420980997" category="paragraph">请参见随安装归档提供的 ` 或 Extras` 文件夹中的示例 Ansible 角色和攻略手册。Ansible 攻略手册介绍了 `StorageGRID` 角色如何准备主机并将 StorageGRID 安装到目标服务器上。您可以根据需要自定义角色或攻略手册。</block>
  <block id="5b49954b363adca1fdc6d5a5fbd0342d" category="admonition">此示例攻略手册不包括在启动 StorageGRID 主机服务之前创建网络设备所需的步骤。在完成并使用攻略手册之前，请添加以下步骤。</block>
  <block id="b3b525647cee940e45b89f700cb5a44b" category="paragraph">您可以自动执行准备主机和部署虚拟网格节点的所有步骤。</block>
  <block id="c32795a960cb34839e8a1bbf59cbf874" category="list-text">` /var/log/storagegRid/nodes/node-name.log`</block>
  <block id="cb18a86b424e1563d27c20f2d449bbca" category="image-alt">网格管理器安装程序密码页面</block>
  <block id="2d2320e828b627a2a5f25e025d012396" category="admonition">单击摘要页面上的 * 安装 * 后，系统将提示您下载恢复软件包文件（ `sGWS-recovery-package-id-revision.zip` ）。您必须 <block ref="35497eb02f189793088960ead0704031" category="inline-xref-macro-rx"></block> 以完成安装。访问系统所需的密码存储在恢复软件包文件中的 `passwords.txt` 文件中。</block>
  <block id="b1d853f2d9fdded3f26ef35c32bd56e1" category="inline-xref-macro">StorageGRID 安装 REST API</block>
  <block id="3ca2b37a615696ea68ce804253bd5278" category="paragraph">StorageGRID 主机服务由软件包安装，并由配置文件驱动，这些配置文件可以在手动安装期间以交互方式创建，也可以提前准备（或以编程方式），以便使用标准业务流程框架实现自动安装。StorageGRID 提供了可选的 Python 脚本，用于自动配置 StorageGRID 设备和整个 StorageGRID 系统（ "`grid` " ）。您可以直接使用这些脚本，也可以检查它们以了解如何使用 <block ref="d455bcad4450909f3e0429314a6d61ca" category="inline-xref-macro-rx"></block> 在网格部署和配置工具中，您可以自行开发。</block>
  <block id="c6085d8d2f4e07e5f0f733a31026adbe" category="summary">您必须在所有网格主机上安装 Red Hat Enterprise Linux 或 CentOS Linux 。使用 NetApp 互操作性表工具可获取受支持版本的列表。</block>
  <block id="799ccfbf1cb8909a61adb82dad28f91c" category="admonition">如果您使用的是标准 Linux 安装程序， NetApp 建议选择 "`compute node` " 软件配置（如果可用）或 " `minimal install` " 基础环境。请勿安装任何图形桌面环境。</block>
  <block id="f46f11cb6c624a06a801374fd07230c2" category="list-text">确保所有主机均可访问软件包存储库，包括其他通道。</block>
  <block id="05307c005e5614403b44c4a77df5b8ff" category="paragraph">您可能需要在此安装操作步骤 中稍后再安装这些附加软件包。</block>
  <block id="90e4386cab463b5a240dd40131b7f523" category="list-text">如果您使用的是虚拟主机，则已阅读 <block ref="21587db15065409f8cea202b4f2d22a2" category="inline-xref-macro-rx"></block> 配置主机网络之前。</block>
  <block id="53fab3eaec6590f4f0ef96a32e6c5e69" category="inline-xref-macro">正在创建节点配置文件</block>
  <block id="9b51015f0026d01b8e2be211abb8cd35" category="paragraph"><block ref="9b51015f0026d01b8e2be211abb8cd35" category="inline-xref-macro-rx"></block></block>
  <block id="41d5caff42ea879646bcd4f5133f8650" category="paragraph">* 结果 * ： ens256 的主机 MAC 为 B2 ： 9c ： 02 ： C2 ： 27 ： 10 ，管理网络 MAC 为 11 ： 22 ： 33 ： 44 ： 55 ： 66</block>
  <block id="61aa841d028d8053a054a4fc2d47598e" category="image-alt">Red Hat 安装 VLAN 示意图</block>
  <block id="b158c8331dcd3be653e42ea16a97c25b" category="paragraph">在安装或启动期间或热添加接口时， Linux 操作系统会自动创建 `ensXYZ` 接口。除了确保接口设置为在启动后自动启动之外，无需进行任何配置。您必须确定哪个 `ensXYZ` 对应于哪个 StorageGRID 网络（网格，管理员或客户端），以便稍后在配置过程中提供正确的映射。</block>
  <block id="a8ba3ae64dd15cc2bdb7c7fc0bea4404" category="paragraph">如果交换机 1 是物理交换机，则应将连接到接口 10G1 到 10G3 的端口配置为访问模式，并将其放置在相应的 VLAN 上。</block>
  <block id="b571a5d90a5909252e5c2d1c08707bff" category="paragraph">对每个主机上的绑定使用相同的名称。例如， `bond0` 。</block>
  <block id="43d59d0dcbc77b0e483f6eb85f97b893" category="paragraph"><block ref="43d59d0dcbc77b0e483f6eb85f97b893" category="inline-xref-macro-rx"></block></block>
  <block id="5cf8cb4a9aeff306836715468bca061f" category="list-text">* 容器池 * - 节点容器的性能层（ 10K SAS 或 SSD ）存储，在支持 StorageGRID 节点的主机上安装和配置容器引擎时，此存储将分配给容器引擎存储驱动程序。</block>
  <block id="64b17463568d05370bbd62fe9964694b" category="paragraph">12 TB （ 4 TB/LUN ）请参见 <block ref="afc45619ce9e6bcbd3743fbd6af36714" category="inline-xref-macro-rx"></block> 有关详细信息 ...</block>
  <block id="ebdb5fa91037ead1f19b348ca81a9170" category="summary">在 Red Hat Enterprise Linux （ RHEL ）或 CentOS Linux 环境中安装 StorageGRID 系统包括三个主要步骤。</block>
  <block id="2ad89e7cae143b086f23ed0c7a5f278c" category="doc">安装 Red Hat Enterprise Linux 或 CentOS ：概述</block>
  <block id="2c9b61e49a37fd4630d50b6ee0e55671" category="list-text">安装容器引擎</block>
  <block id="a2ea46cfa80beacde2afba086daabf2e" category="list-text">使用 Linux 命令行和节点配置文件在步骤 1 准备的主机上部署基于软件的网格节点。</block>
  <block id="b9bbbd888b85431abbca2f5234d42ff3" category="paragraph">以下说明为部署和配置 StorageGRID 系统建议了一种标准方法。另请参见有关以下替代方法的信息：</block>
  <block id="c374d885ddf87f59a9840bcd1fb5cb5b" category="list-text">使用 Ansible ， Puppet 或 Chef 等标准业务流程框架安装 RHEL 或 CentOS ，配置网络和存储，安装容器引擎和 StorageGRID 主机服务以及部署虚拟网格节点。</block>
  <block id="3808c2a392c35aee6d7fb99d83b86848" category="paragraph">对于返回状态为 "`not-running` " 或 " `S顶部` " 的任何节点，请运行以下命令：</block>
  <block id="635ff823e66a5f8aaddbbf33918af7c0" category="paragraph">此时将显示用于配置 StorageGRID 系统的页面。</block>
  <block id="96ccc0a1ff1262637005cd684cbf1b35" category="doc">安装前（ Red Hat 或 CentOS ）</block>
  <block id="5ec3fd6be7b926991b857e019aa74594" category="summary">您应了解 StorageGRID 系统对 Swift REST API 的支持发生了哪些变化。</block>
  <block id="227d7089d0af66ac99aa6e8f21e131f8" category="doc">StorageGRID 中的 Swift API 支持历史记录</block>
  <block id="57a38fe69bfd18ff9f412e3887da78b9" category="paragraph">您应了解 StorageGRID 系统对 Swift REST API 的支持发生了哪些变化。</block>
  <block id="7236f4b96b9c8df005febcdd191d25bc" category="paragraph">少量编辑更改。</block>
  <block id="82bd2c334a7c6dc0cb49de3b86ccfbe3" category="paragraph">消除了弱一致性控制。此时将改用可用的一致性级别。</block>
  <block id="09944ae93e1aa0cde85a86afa7b2253b" category="paragraph">增加了对 TLS 1.3 的支持，并更新了支持的 TLS 密码套件列表。CLB 已弃用。增加了 ILM 与一致性设置之间的关系问题描述 。</block>
  <block id="035468c83c03afa1f320591bbaedb10f" category="paragraph">更新了 PUT 对象操作，以描述在载入时使用同步放置的 ILM 规则的影响（适用于载入行为的平衡而严格的选项）。添加了使用负载平衡器端点或高可用性组的客户端连接的问题描述 。更新了支持的 TLS 密码套件列表。不再支持 TLS 1.1 密码。</block>
  <block id="32f5508b51d5490a65c000815a993730" category="paragraph">对文档进行了少量编辑更改。</block>
  <block id="2ec7a32131ded46386c3798659071698" category="paragraph">增加了对使用 HTTP 与网格节点建立 Swift 客户端连接的支持。更新了一致性控制的定义。</block>
  <block id="92b0708989ad935021b01fdaf4202b85" category="paragraph">增加了对每个租户帐户 1 ， 000 个容器的支持。</block>
  <block id="753a0683973d8a58c547cd2bc3c2780b" category="paragraph">对文档进行管理更新和更正。删除了用于配置自定义服务器证书的部分。</block>
  <block id="75f3e40ceee76f708c477e542c38a8a3" category="paragraph">StorageGRID 系统对 Swift API 的初始支持。当前支持的版本为 OpenStack Swift 对象存储 API v1 。</block>
  <block id="a24a34d6432fde8c3d118e2a1966535a" category="summary">每个 Swift 帐户最多支持 1 ， 000 个容器。 StorageGRID对容器执行以下 Swift API 操作。</block>
  <block id="b464d3942135309d7003630a7e23d89d" category="doc">容器操作</block>
  <block id="dd2161d6895978063e88a64774beb68a" category="section-title">删除容器</block>
  <block id="fa3df538a0ecfeb50392b85b0eab5eda" category="paragraph">此操作会从 StorageGRID 系统中的 Swift 帐户中删除一个空容器。</block>
  <block id="fcb40da27cfb181bb960ba503adac23d" category="paragraph">需要以下请求参数：</block>
  <block id="28ac82042ed4118f83c34802af702527" category="list-text">`帐户`</block>
  <block id="269969ff1196d0e544d45fb3c08c9e6b" category="list-text">`容器`</block>
  <block id="3868ab7fd20ccff0a7e44bd4ce04d0b5" category="paragraph">以下请求标头为必填项：</block>
  <block id="6867369ac2c9ced23f0019a32c61cb13" category="list-text">`X-Auth-Token`</block>
  <block id="37c80c2673a245282dec99bc8a1427f3" category="paragraph">成功执行将返回以下标头并显示 "HTTP/1.1 204 No Content" 响应：</block>
  <block id="af4b7386f13360b41d3d73a973e48c42" category="list-text">`dATE`</block>
  <block id="5f06dc156a650ef918daa961ed07af42" category="list-text">`X-Trans-ID`</block>
  <block id="7407c0ec6fef6a02c06be2d9ac0b02ff" category="section-title">获取容器</block>
  <block id="5e97f60e39d7efaa17982962ead138bd" category="paragraph">此操作将检索与此容器关联的对象列表以及 StorageGRID 系统中的容器统计信息和元数据。</block>
  <block id="30cb54331b0ca932fddc59db20749234" category="paragraph">以下支持的请求查询参数是可选的：</block>
  <block id="ae2778706035fc0959c9c865abbe1e7a" category="list-text">`delimiter`</block>
  <block id="39f5fb1e339ac6a11ba3306c6e8d1643" category="list-text">`End_marker`</block>
  <block id="dc94a8a31150188a974dc1890f76192d" category="list-text">`格式`</block>
  <block id="fd8090cc65a8889c2db1517276e95161" category="list-text">`限制`</block>
  <block id="2c0e006b973943d5e11caf5e0feb6b7a" category="list-text">`marker`</block>
  <block id="e046f310c7d4e5e9e79d8b79485d8ab6" category="list-text">`路径`</block>
  <block id="80d80e221554bec3c0e3180c0d655274" category="list-text">`前缀`</block>
  <block id="2840cf0d0b7ce4e0665fc0fd5127a784" category="paragraph">成功执行将返回以下标头，并显示 "HTTP/1.1 200 successful" 或 "HTTP/1.1 204 No Content" 响应：</block>
  <block id="3af081255deda754b9a680651f43e453" category="list-text">`Accept-ranges`</block>
  <block id="74e7ef1b7d27b1fa2b194ed10c82cf73" category="list-text">`X-Container-bytes-used`</block>
  <block id="380790d24f7ca591414ccccf7f544b2c" category="list-text">`X-Container-Object-Count`</block>
  <block id="2ade19c4bc702effdd5874dede0707ae" category="list-text">`X-Timestamp`</block>
  <block id="d468ee0b61d873a7498349fe19349d8c" category="section-title">机头容器</block>
  <block id="7d3cefda5feb18f0498e077870db6e40" category="paragraph">此操作将从 StorageGRID 系统检索容器统计信息和元数据。</block>
  <block id="4acf0e15b105ed4e919a531e231b4e29" category="section-title">放入容器</block>
  <block id="cb8e8b1d9fa9714f04601c93bd5624f2" category="paragraph">此操作将为 StorageGRID 系统中的帐户创建一个容器。</block>
  <block id="0aed569edeee1794fb4c730869865433" category="paragraph">成功执行将返回以下标头，并显示 "HTTP/1.1 201 Created " 或 "HTTP/1.1 202 Accept" （如果此帐户下已存在此容器）响应：</block>
  <block id="009e476c1a3d4a5f85b9b7d53bb5dc47" category="paragraph">容器名称在 StorageGRID 命名空间中必须是唯一的。如果容器位于其他帐户下，则返回以下标头： "HTTP/1.1 409 conflict 。 "</block>
  <block id="0757a0138f476df2c209952ef6b0cbba" category="paragraph"><block ref="0757a0138f476df2c209952ef6b0cbba" category="inline-xref-macro-rx"></block></block>
  <block id="294b7bb42036aecf105754d2444a55f3" category="summary">使用 PUT 容器一致性请求可以指定要应用于对容器执行的操作的一致性级别。默认情况下，使用 " 读后新写入 " 一致性级别创建新容器。</block>
  <block id="be8e4cfa81a750d3b6d0efdf5b91fe30" category="doc">提交容器一致性请求</block>
  <block id="6bd37eaf1be3d4bc5e57a4d93b1b8a46" category="paragraph">使用 PUT 容器一致性请求可以指定要应用于对容器执行的操作的一致性级别。默认情况下，使用 `read-after-new-write` 一致性级别创建新容器。</block>
  <block id="517b8662d1c96d133251b015c54ff9be" category="cell">请求 HTTP 标头</block>
  <block id="0497ee8c62ca710914c2c808669a95c1" category="paragraph">要用于请求的帐户的 Swift 身份验证令牌。</block>
  <block id="f7639ca90a4781d56966a3c885ed2419" category="paragraph">`x-ntap-sg-consistency`</block>
  <block id="787cd888af7a1bff620fbdff87086712" category="paragraph">要应用于容器上的操作的一致性控制级别。支持以下值：</block>
  <block id="d83d2003aa6851244f71572976c607ad" category="list-text">* 全部 * ：所有节点均立即接收数据，否则请求将失败。</block>
  <block id="b2ba6f9414c6b9ba5b2891d63d57dccd" category="list-text">* 强 - 全局 * ：保证所有站点中所有客户端请求的写入后读一致性。</block>
  <block id="e9cce4fee81eefca6d771f700cbba244" category="list-text">* 强站点 * ：保证站点内所有客户端请求的写入后读一致性。</block>
  <block id="3508c5c9fc4aa26994bce07d5f3d16d8" category="list-text">* 读后新写入 * ：为新对象提供读后写入一致性，并最终为对象更新提供一致性。提供高可用性和数据保护保证。</block>
  <block id="d29bd918fe34e974d0f8e95e8741999c" category="paragraph">* 注意 * ：如果应用程序对不存在的对象使用 head 请求，则在一个或多个存储节点不可用时，可能会收到大量 500 个内部服务器错误。要防止出现这些错误，请使用 "`Available` " 级别。</block>
  <block id="76d26d12b5a574ca020ddd8f29a2b40a" category="list-text">* 可用 * （机头操作的最终一致性）：与 `read-after-new-write` 一致性级别相同，但仅为机头操作提供最终一致性。如果存储节点不可用，则为机头操作提供的可用性比 " `read-after-new-write` " 更高。</block>
  <block id="42348c07f83f7b8607ff0ae8a8b33fc8" category="paragraph">`主机`</block>
  <block id="e8f1d002bd400dd86c664293adb59c7c" category="paragraph">请求所定向到的主机名。</block>
  <block id="a9a8e776b94aea3446af2b0d4e6b390c" category="section-title">一致性控制和 ILM 规则如何交互的示例</block>
  <block id="6bed9e8519dac156b6737e838fb83d66" category="cell">响应 HTTP 标头</block>
  <block id="b8af86284f9902de8a2e41465ce7e96b" category="paragraph">响应的日期和时间。</block>
  <block id="73eb7eea134fddc058b1807735518af3" category="paragraph">`连接`</block>
  <block id="02964aca9209e02e7db4a0e37cbcbe99" category="paragraph">与服务器的连接是打开还是关闭。</block>
  <block id="808a5c31b967d5c776ce4dfabec682f5" category="paragraph">请求的唯一事务标识符。</block>
  <block id="7f1e9ae2cb3e2076df32ddebc6be0543" category="paragraph">响应正文的长度。</block>
  <block id="80addafb621ac5390f808b9d2d6a5fcf" category="summary">了解可能的错误响应有助于您对操作进行故障排除。</block>
  <block id="e4c901f493df3af2565973b8c7f41de8" category="doc">对 Swift API 操作的错误响应</block>
  <block id="b98dc7d497729f5f9efc58946365e62e" category="paragraph">如果操作期间发生错误，可能会返回以下 HTTP 状态代码：</block>
  <block id="10b271c9ae56a3dadbed25bbbc7a3c06" category="cell">Swift 错误名称</block>
  <block id="6a7a3bb63b34df0cf6f22fafa10ae349" category="paragraph">AccountNameTooLong ， ContainerNameTooLong ， HeaderTooBig ， InContainvaliderName ， InvalidRequest ， InvalidURI ， MetadataNameTooLong ， MetadataValueTooBig ， MissingSecurityHeader ， ObjectNameTooLong ， TooManyContainers ， TooManyMetadataItems ， TotalMetadataTooLarge</block>
  <block id="ec1bb789542d981ad309d4887e4349cd" category="paragraph">ContainerNotEmpty ， ContainerAlreadyExists</block>
  <block id="38c300f4fc9ce8a77aad4a30de05cad8" category="paragraph">未找到</block>
  <block id="adebdf4f798da959fa03f49e81f7ab07" category="paragraph">ResourceNotFound</block>
  <block id="e06d1ba70f1331e9f9a113cc2f887d3f" category="paragraph">未授权</block>
  <block id="987ec9e1c847709406571048e5a96a18" category="paragraph">401 未授权</block>
  <block id="bcc63308f9773c816911ce819b314e2c" category="paragraph">UnprocessableEntity</block>
  <block id="917ef711b7514d05e99aed61242ab05c" category="paragraph">422 不可处理实体</block>
  <block id="ca9a1b7e0d8ba9f29a375da3468aa8dd" category="summary">StorageGRID 支持以下 Swift API 端点：信息 URL ，身份验证 URL 和存储 URL 。</block>
  <block id="715414d6e995181393ce772c9ecd17c4" category="doc">支持的 Swift API 端点</block>
  <block id="d8832b3ec2e1c33824afca921fb386bb" category="section-title">信息 URL</block>
  <block id="19df2e8464eb993c613156f3fef3150e" category="paragraph">您可以通过向带有 /info 路径的 Swift 基础 URL 发出 GET 请求来确定 StorageGRID Swift 实施的功能和限制。</block>
  <block id="178ebd8c3849c96cc96fc13695d9a16f" category="paragraph">`https://_FQDN_ _ 节点 IP ： Swift Port_/info/`</block>
  <block id="dcf9d300f07dc549ff9ccb8df0dcbba6" category="paragraph">在请求中：</block>
  <block id="8373e2935382012c35f783096750a6ab" category="list-text">` fqdn_` 是完全限定域名。</block>
  <block id="e1ecf7dd41e9ffb457a5c3b1896c40d9" category="list-text">` 节点 IP_` 是 StorageGRID 网络上存储节点或网关节点的 IP 地址。</block>
  <block id="067dcb2dd057bb4cfbf1638e4c0a0ac9" category="list-text">` _Swift Port_` 是用于存储节点或网关节点上的 Swift API 连接的端口号。</block>
  <block id="b03a7ab4d69f55a29c9feda2410da209" category="paragraph">例如，以下信息 URL 将从 IP 地址为 10.99.106.103 且使用端口 18083 的存储节点请求信息。</block>
  <block id="63802562709bb2e9ae9482cb5c6dd166" category="paragraph">` https://10.99.106.103:18083/info/`</block>
  <block id="fc5ddd0b3891d09994bc5a5639d26d8c" category="paragraph">此响应包括 Swift 实施的功能，可用作 JSON 词典。客户端工具可以解析 JSON 响应以确定实施的功能，并将其用作后续存储操作的约束。</block>
  <block id="663fd5f2b6a68183dc8689ee49d7d1a9" category="paragraph">通过实施 StorageGRID ， Swift 可以对信息 URL 进行未经身份验证的访问。</block>
  <block id="a439f14406c88cad25a51a59cc70d806" category="section-title">身份验证 URL</block>
  <block id="a995f94f881a7c20b85ad09d22c331af" category="paragraph">客户端可以使用 Swift 身份验证 URL 作为租户帐户用户进行身份验证。</block>
  <block id="453ed1311c72e74016c772a5e2da177b" category="paragraph">`https://_FQDN_ _ 节点 IP ： Swift Port_/auth/v1.0/`</block>
  <block id="fb5fb2c18db16eb7a82359ab45332125" category="paragraph">您必须在 `X-Auth-User` 和 `X-Auth-Key` Request 标头中提供租户帐户 ID ，用户名和密码作为参数，如下所示：</block>
  <block id="89989f3b42ee9771e4b3f3ffb0698a40" category="paragraph">`X-Auth-User ： _Tenant 帐户 ID ： Username_`</block>
  <block id="889b9134567bf297d4919b10548ada68" category="paragraph">`X-Auth-Key ： _Password_`</block>
  <block id="d7d8357f686eabe015680bb43043c50a" category="paragraph">在请求标题中：</block>
  <block id="a1539b4c24c97d9a79a7d12eb82e8ec4" category="list-text">` 租户帐户 ID` 是创建 Swift 租户时 StorageGRID 分配的帐户 ID 。这与租户管理器登录页面上使用的租户帐户 ID 相同。</block>
  <block id="1b2a96dbf1d4db21a0dddacdde1e1dcb" category="list-text">` 用户名 _` 是已在租户管理器中创建的租户用户的名称。此用户必须属于具有 Swift 管理员权限的组。无法将租户的 root 用户配置为使用 Swift REST API 。</block>
  <block id="d97a8603f8da8df6df9ff8ab6a5c3d6d" category="paragraph">如果为租户帐户启用了身份联合，请从 LDAP 服务器提供联合用户的用户名和密码。或者，也可以提供 LDAP 用户的域名。例如：</block>
  <block id="a50a499072d65cac717ed8974dc6ec91" category="paragraph">`X-Auth-User ： _Tenant 帐户 ID ：用户名@Domain_Name_`</block>
  <block id="e364faa8c6197cfc03a901413b781911" category="list-text">` 密码 _` 是租户用户的密码。用户密码在租户管理器中创建和管理。</block>
  <block id="964b6cfd97de5cce78d1045ccff8cb12" category="paragraph">对成功的身份验证请求的响应将返回存储 URL 和身份验证令牌，如下所示：</block>
  <block id="ab3c648bd69bb733fc0409bd687083cb" category="paragraph">`X-Storage-URL ：<block ref="7dcd480b1322ed7a49e91e8e37c5ad0b" category="inline-link-rx"></block> _ 节点 _IP ： Swift_Port_/v1/_Tenant 帐户 ID`</block>
  <block id="8ea658c1dae115565df1a534f67db3ef" category="paragraph">`X-Auth-Token ： _token_`</block>
  <block id="49ed2db81c0ff3c21751bb7a1c98ddeb" category="paragraph">`X-Storage-Token ： _token_`</block>
  <block id="afb19a72265b8a574ee290141ff4f712" category="paragraph">默认情况下，令牌在生成后 24 小时内有效。</block>
  <block id="de93995f1d944376963f51aca5c39f65" category="paragraph">为特定租户帐户生成令牌。一个帐户的有效令牌不会授权用户访问另一个帐户。</block>
  <block id="367bb09536aede36f7778e647ec37495" category="section-title">存储 URL</block>
  <block id="e1b3781dd39573081e891ccf3b356b60" category="paragraph">客户端应用程序可以通过问题描述 Swift REST API 调用对网关节点或存储节点执行支持的帐户，容器和对象操作。存储请求会发送到身份验证响应中返回的存储 URL 。此请求还必须包含从身份验证请求返回的 X-Auth-Token 标头和值。</block>
  <block id="5a6fa1a8e0b66a61732ed06bb8da0fe9" category="paragraph">` https://FQDN _ IP ： Swift_Port_/v1/_Tenant 帐户 ID`</block>
  <block id="e57686df6caf11a0d278adbbed00ba56" category="paragraph">` _ 容器 _]_/object_]`</block>
  <block id="10608507d9292acd715d92cad4ca84a3" category="paragraph">某些包含使用情况统计信息的存储响应标头可能无法反映最近修改的对象的准确数字。准确的数字可能需要几分钟才能显示在这些标题中。</block>
  <block id="be3fb62b87c188c5cd7cf9702f01f772" category="paragraph">帐户和容器操作的以下响应标头是包含使用情况统计信息的示例：</block>
  <block id="facdf960c6d9b747c6caa17489917be7" category="list-text">`X-Account-bytes-used`</block>
  <block id="8eacb3bc499de5e00e5237c250f15933" category="list-text">`X-Account-Object-Count`</block>
  <block id="df410b31a7b6b522a24d61ffd68cff5c" category="paragraph"><block ref="df410b31a7b6b522a24d61ffd68cff5c" category="inline-xref-macro-rx"></block></block>
  <block id="d3c71e4eec47a9c7d096122fee5c48a9" category="inline-xref-macro">帐户操作</block>
  <block id="56346662674d46fa05176e696f72957d" category="paragraph"><block ref="56346662674d46fa05176e696f72957d" category="inline-xref-macro-rx"></block></block>
  <block id="5e8b99f385719d18e1f9f5ccbd867db7" category="paragraph"><block ref="5e8b99f385719d18e1f9f5ccbd867db7" category="inline-xref-macro-rx"></block></block>
  <block id="244723d41f645c6cf75e6b322bf8b2fb" category="inline-xref-macro">对象操作</block>
  <block id="cf977d8b2f81fcf7ec728f4f1bf42288" category="paragraph"><block ref="cf977d8b2f81fcf7ec728f4f1bf42288" category="inline-xref-macro-rx"></block></block>
  <block id="a942cda614b8b31d01019d52144c38c9" category="summary">对帐户执行以下 Swift API 操作。</block>
  <block id="75f732d805833a1ba0661d206dddbf7a" category="section-title">获取帐户</block>
  <block id="a97f5d8c880d175f2d6a8ea828d178bd" category="paragraph">此操作将检索与帐户和帐户使用情况统计信息关联的容器列表。</block>
  <block id="697cd4b77cbc348375766778e02cbdcc" category="paragraph">以下请求参数为必填项：</block>
  <block id="08af997456c1fec130d269fe1f8e9326" category="paragraph">如果成功执行，则会返回以下标头，并在该帐户未找到容器或容器列表为空时返回 "`HTTP/1.1 204 No Content` " 响应；如果找到该帐户且容器列表不为空，则返回 "`HTTP/1.1 200 OK` " 响应：</block>
  <block id="b2d0b6090d8254cfcac561659282e30a" category="list-text">`X-Account-Container-Count`</block>
  <block id="e1f05e4bea95be40cbe28f1676229c57" category="section-title">主帐户</block>
  <block id="d1e72472ad9ebeb593abd75c374dafc2" category="paragraph">此操作将从 Swift 帐户检索帐户信息和统计信息。</block>
  <block id="c20e39f447748a8fe0feef34d1eebe59" category="paragraph">成功执行将返回以下标头，并显示 "`HTTP/1.1 204 No Content` " 响应：</block>
  <block id="52c29a263d2d60565b0fb21e71ef491f" category="summary">在实施用于 StorageGRID 的 Swift REST API 时，应遵循以下建议。</block>
  <block id="5638d07eff4007b4f7f252933042f1b7" category="doc">实施 Swift REST API 的建议</block>
  <block id="e751083e396c6356830f9a41898bde14" category="paragraph">如果您的应用程序定期检查某个对象是否位于您不希望该对象实际存在的路径上，则应使用 "`available` " 一致性控制。例如，如果应用程序在对某个位置执行 PUT 操作之前对该位置执行 HEAD 操作，则应使用 "`Available` " 一致性控制。</block>
  <block id="6cf06a6e1ffec6530b07e32cefee14bc" category="paragraph">您可以使用 PUT 容器一致性请求为每个容器设置 "`Available` " 一致性控制。</block>
  <block id="d5aa434fe268f83d8898225b9ce57a37" category="section-title">对象名称建议</block>
  <block id="6bead78e4575c2844b586c8604c5b23d" category="paragraph">对于在 StorageGRID 11.4 或更高版本中创建的容器，不再需要限制对象名称以满足性能最佳实践。例如，现在可以对对象名称的前四个字符使用随机值。</block>
  <block id="f85a985fee27541b9adf06ae25168a3e" category="paragraph">对于在 StorageGRID 11.4 之前的版本中创建的容器，请继续对对象名称遵循以下建议：</block>
  <block id="cc88315df6c040bfe1039fad3a2b27fc" category="list-text">不应使用随机值作为对象名称的前四个字符。这与 AWS 以前针对名称前缀的建议不同。而应使用非随机的非唯一前缀，例如 `image` 。</block>
  <block id="77d21a36726299560deccb39e5cc5e03" category="list-text">如果您按照以前的 AWS 建议在名称前缀中使用随机和唯一字符，则应在对象名称前添加目录名称。也就是说，请使用以下格式：</block>
  <block id="a4b29e302980e16de3422d926c36d132" category="paragraph">如果选择了 * 压缩存储的对象 * 选项（ * 配置 * &gt; * 系统 * &gt; * 网格选项 * ），则 Swift 客户端应用程序应避免执行指定要返回的字节数范围的 GET 对象操作。这些 "`range read` " 操作效率低下，因为 StorageGRID 必须有效解压缩对象以访问请求的字节。从非常大的对象请求少量字节的 GET 对象操作效率尤其低下；例如，从 50 GB 压缩对象读取 10 MB 范围的操作效率非常低。</block>
  <block id="503200e84560041511d568333d0f014d" category="inline-xref-macro">获取容器一致性请求</block>
  <block id="d91a89b48918eaa13f6535f1b4046a16" category="paragraph"><block ref="d91a89b48918eaa13f6535f1b4046a16" category="inline-xref-macro-rx"></block></block>
  <block id="b23e25e2ca01635efa617ddc0ee08f0c" category="paragraph"><block ref="b23e25e2ca01635efa617ddc0ee08f0c" category="inline-xref-macro-rx"></block></block>
  <block id="c52fa659d2e6a1b59541a44ac0e4f5e5" category="paragraph">客户端可以连接到网关节点或管理节点上的负载平衡器服务，直接连接到存储节点或网关节点上已弃用的 CLB 服务。</block>
  <block id="a53c93f492f0cf6b1f9084beb3eff8e9" category="summary">一致性级别可以在对象的可用性与这些对象在不同存储节点和站点之间的一致性之间进行权衡。使用获取容器一致性请求，您可以确定应用于特定容器的一致性级别。</block>
  <block id="6d98e19fee696406b42e70a0b6694bc2" category="paragraph">指定要用于请求的帐户的 Swift 身份验证令牌。</block>
  <block id="d0b4271ef615685b3e2e00328075ba4c" category="paragraph">指定请求的类型，其中 `true` = 获取容器一致性， `false` = 获取容器。</block>
  <block id="fec86d802f7371ce52f32581e8694e85" category="paragraph">应用于容器的一致性控制级别。支持以下值：</block>
  <block id="0ba99ab63cbc99e2523573c069a3922d" category="summary">选项请求会检查单个 Swift 服务的可用性。选项请求由 URL 中指定的存储节点或网关节点处理。</block>
  <block id="b802a3be02eaadaa2afa0429d933d13c" category="doc">选项请求</block>
  <block id="96fba8a8360f7030d0c5094f57f55abb" category="section-title">options 方法</block>
  <block id="81f21d0dd9fd3ed8f7b2a85f37f5fbed" category="paragraph">例如，客户端应用程序可以在不提供 Swift 身份验证凭据的情况下将选项请求问题描述 到存储节点上的 Swift 端口，以确定存储节点是否可用。您可以使用此请求进行监控，也可以允许外部负载平衡器确定存储节点何时关闭。</block>
  <block id="59bd006bf52828f3ee7d0adf2d7645d9" category="paragraph">与信息 URL 或存储 URL 结合使用时， options 方法将返回给定 URL 支持的动词列表（例如 head ， get ， options 和 put ）。选项方法不能与身份验证 URL 结合使用。</block>
  <block id="a0d2d8246a2be61d1b432abc0159a333" category="paragraph">以下请求参数是可选的：</block>
  <block id="73c61c52b843a814d6e3f2acfc696784" category="list-text">`对象`</block>
  <block id="6e94da60beb62832e559472e335d5563" category="paragraph">成功执行将返回以下标头，并显示 "`HTTP/1.1 204 No Content` " 响应。对存储 URL 的选项请求不要求目标存在。</block>
  <block id="c5d4856666da60b9098ea0d6fed92eef" category="list-text">`allow` （给定 URL 支持的动词列表，例如 head ， get ， options ， 和 PUT ）</block>
  <block id="c3281276883594d813e52777d44a5ff7" category="paragraph"><block ref="c3281276883594d813e52777d44a5ff7" category="inline-xref-macro-rx"></block></block>
  <block id="192764bdf0ae3665e4bebc2b916b66d1" category="summary">在 Swift REST API 中添加了特定于 StorageGRID 系统的操作。</block>
  <block id="443f06026c08ef7345ab307563aaef4f" category="doc">StorageGRID Swift REST API 操作</block>
  <block id="10917e022575e5668d9af504814a64ae" category="summary">客户端应用程序可以使用 Swift REST API 调用连接到存储节点和网关节点以创建容器以及存储和检索对象。这样，为 OpenStack Swift 开发的面向服务的应用程序便可与 StorageGRID 系统提供的内部对象存储相连接。</block>
  <block id="e22e70f08d1f204a7f70546a58efa3e8" category="doc">StorageGRID 如何实施 Swift REST API</block>
  <block id="a9048c22e93be0a6bc26b99ac6ac1a35" category="section-title">Swift 对象管理</block>
  <block id="e4f7dca329659162cf6b3bfba9afd132" category="paragraph">将 Swift 对象载入 StorageGRID 系统后，这些对象将通过系统活动 ILM 策略中的信息生命周期管理（ ILM ）规则进行管理。ILM 规则和策略可确定 StorageGRID 如何创建和分发对象数据副本，以及它如何在一段时间内管理这些副本。例如， ILM 规则可能适用于特定 Swift 容器中的对象，并可能指定在一定年数内将多个对象副本保存到多个数据中心。</block>
  <block id="9f7ceb0c1ba73718b2e3380c0e483a40" category="paragraph">如果您需要了解网格的 ILM 规则和策略将如何影响您的 Swift 租户帐户中的对象，请联系您的 StorageGRID 管理员。</block>
  <block id="570ca599843a9b7378703937089341c5" category="paragraph">冲突的客户端请求（例如，两个客户端写入同一密钥）将以 " 最新成功 " 为基础进行解决。" 最新赢单 " 评估的时间取决于 StorageGRID 系统何时完成给定请求，而不是 Swift 客户端何时开始操作。</block>
  <block id="03e2e5eb9608c723bc7e863ecd659ef2" category="section-title">一致性保证和控制</block>
  <block id="03ef469ef436a59f5e8e892317b56525" category="paragraph">默认情况下， StorageGRID 为新创建的对象提供读写一致性，并为对象更新和机头操作提供最终一致性。成功完成 PUT 后的任何 GET 都将能够读取新写入的数据。对现有对象的覆盖，元数据更新和删除最终保持一致。覆盖通常需要几秒钟或几分钟才能传播，但可能需要长达 15 天的时间。</block>
  <block id="f375f8f738d9e2cffe129a592748b933" category="paragraph">此外，您还可以通过 StorageGRID 控制每个容器的一致性。您可以根据应用程序的需要更改一致性控制，以便在对象的可用性与这些对象在不同存储节点和站点之间的一致性之间进行权衡。</block>
  <block id="bc9a7360e4cb784ed8ad9e54d852bf64" category="summary">StorageGRID 系统在 OpenStack Swift API 中支持大多数操作。在将 Swift REST API 客户端与 StorageGRID 集成之前，请查看帐户，容器和对象操作的实施详细信息。</block>
  <block id="6fb9ed8c327f41f8e78e88e4eeef8189" category="doc">Swift REST API 支持的操作</block>
  <block id="03195eaae4fb60155b92270add8a23c6" category="section-title">StorageGRID 中支持的操作</block>
  <block id="0fa10b09cfd86d292af8b0a1488ff161" category="paragraph">支持以下 Swift API 操作：</block>
  <block id="f2f4cf929a5d08d3f666859aa101d14c" category="section-title">所有操作的通用响应标头</block>
  <block id="3777625424eb38b11fc19bb4df6c3ced" category="paragraph">StorageGRID 系统可为 OpenStack Swift 对象存储 API v1 定义的受支持操作实施所有通用标头。</block>
  <block id="7f3bac7791b5dab58f29984ab4f139e1" category="inline-link">OpenStack ：对象存储 API</block>
  <block id="c037cb52f24a5088c3b531e6a9ce0ae1" category="paragraph"><block ref="c037cb52f24a5088c3b531e6a9ce0ae1" category="inline-link-rx"></block></block>
  <block id="b7a4dabfab63f8871d2c2b16c1c8af6f" category="paragraph">每天保存一次活动的 audit.log 文件，并启动一个新的 audit.log 文件。已保存文件的名称以 `yyyy-mm-dd.txt` 格式指示其保存时间。</block>
  <block id="030d13c24e3e1df97cdcd4ea3be2c93c" category="paragraph">一天之后，保存的文件将被压缩并重命名，格式为 `yyyy-mm-dd.txt.gz` ，从而保留原始日期。</block>
  <block id="246040745da9c2ebc6b54e7bb072dd83" category="paragraph">此示例显示了活动的 audit.log 文件，前一天的文件（ 2018-04-15.txt ）以及前一天的压缩文件（`2018-04-14.txt.gz` ）。</block>
  <block id="3e7306695bd0a45cb61dc95f267b9039" category="list-text">输入以下命令： `ssh _admin@primary_Admin_Node_IP_`</block>
  <block id="ac05258fba45f6c38a943641bedb3c33" category="list-text">转到包含审核日志文件的目录：``cd /var/local/audit/export``</block>
  <block id="a2557182a427ebb5226912869188a1b4" category="section-title">审核日志中跟踪的 Swift 操作</block>
  <block id="8dd9f4d96248dc1ea8987ee8af0a39f4" category="paragraph">所有成功的存储删除， GET ， HEAD ， POST 和 PUT 操作都会在 StorageGRID 审核日志中进行跟踪。不会记录故障，也不会记录信息，身份验证或选项请求。</block>
  <block id="4d85aa5d50020fba87248e664108bfd3" category="paragraph">有关为以下 Swift 操作跟踪的信息的详细信息，请参见 _ 了解审核消息 _ 。</block>
  <block id="f6c91b751d1a260e6731cae5c8daf1c0" category="list-text">删除对象</block>
  <block id="5ec16cd3e09009dc4c0f312788c9a568" category="list-text">获取对象</block>
  <block id="e17eb1ed4b119a441788037e4a2a9e3a" category="list-text">head 对象</block>
  <block id="4910a489edf774ff672ec967f401e0d7" category="list-text">PUT 对象</block>
  <block id="2a8e964545c8d275ae2b9628472c55ce" category="summary">客户端应用程序可以使用 OpenStack Swift API 与 StorageGRID 系统相连接。</block>
  <block id="100a938be154576ab479154d6e21f8ec" category="doc">使用 Swift ：概述</block>
  <block id="202b8bfccfb913404c745cf501ab5699" category="paragraph">StorageGRID 支持以下特定版本的 Swift 和 HTTP 。</block>
  <block id="47b33121414ecde3ad7226050a0f5bcc" category="paragraph">Swift 规格</block>
  <block id="359ad51f7c069dca7558323973748d06" category="paragraph">截至 2015 年 11 月的 OpenStack Swift 对象存储 API v1</block>
  <block id="673d99596fbd945d70ae1f88e87f11bc" category="paragraph">1.1 有关 HTTP 的详细信息，请参见 HTTP/1.1 （ RFC 7230-35 ）。</block>
  <block id="4f8ec5421f1f61600640cb085d51bc20" category="summary">对对象执行以下 Swift API 操作。</block>
  <block id="def39b320bdee10b900c534bdd0a38dc" category="paragraph">此操作将从 StorageGRID 系统中删除对象的内容和元数据。</block>
  <block id="2307bbb1288cb43bc9c4cccbc1863a26" category="paragraph">成功执行将返回以下响应标头，并显示 `HTTP/1.1 204 No Content` response ：</block>
  <block id="4fed7cbfc6917e4b9a5af12b27e5ff0a" category="paragraph">有关如何删除对象的详细信息，请参见有关通过信息生命周期管理来管理对象的说明。</block>
  <block id="a2c6dbf63cede4ad49390e4a28cd030f" category="paragraph">此操作将检索对象内容并从 StorageGRID 系统获取对象元数据。</block>
  <block id="e4a561e2f6654245603c156cf4625d6b" category="paragraph">以下请求标头是可选的：</block>
  <block id="ee6a67582c2115e0b2162bc38f114fef" category="list-text">`接受编码`</block>
  <block id="1eb0a646cce9ce42c7b788a3d0a6e86f" category="list-text">`如果匹配`</block>
  <block id="2203f9766f2913df124480e731aaab85" category="list-text">`如果修改 - 自`</block>
  <block id="57456a1e6259d98c267e55746afba9de" category="list-text">`如果 - 无 - 匹配`</block>
  <block id="bda87268d8d10911107843d29c52e47e" category="list-text">`If - Unmodify-since`</block>
  <block id="44e1b4e389fbe63146ea96b13ba4824f" category="list-text">`范围`</block>
  <block id="dbdc6f11ca6a3e425e755a404834722a" category="paragraph">成功执行将返回以下标头，并显示 `HTTP/1.1 200 OK` 响应：</block>
  <block id="5e873c5af003ddeea5a434feea7031a3" category="list-text">`Content-Disposition` ，仅当设置了 `Content-Disposition` 元数据时才返回</block>
  <block id="4bdd89c37e78fcc118eae709c13ee3cc" category="list-text">`Content-Encoding` ，仅在设置了 `Content-Encoding` 元数据时才返回</block>
  <block id="3ea85184e329948d4c0e4506489de1b5" category="list-text">`ETag`</block>
  <block id="affe2735d65c066863ce2bc6df003fef" category="list-text">`最后修改日期`</block>
  <block id="2be50945b1d672e6a672c9c23bb156a8" category="paragraph">此操作将从 StorageGRID 系统检索所载入对象的元数据和属性。</block>
  <block id="af22f4857d6fe669ef5f692529b59898" category="paragraph">成功执行将返回以下标头并显示 "HTTP/1.1 200 OK" 响应：</block>
  <block id="cfadf89dbc00d0c181373f8f44e06aaf" category="paragraph">此操作将使用数据和元数据创建新对象，或者将现有对象替换为 StorageGRID 系统中的数据和元数据。</block>
  <block id="4e1b6efa63a7b7e79d416332addc8832" category="paragraph">StorageGRID 支持大小高达 5 TiB （ 5 ， 497 ， 556 ， 138 ， 880 字节）的对象。</block>
  <block id="6df66abf6db702b08cf8675f7da671ef" category="paragraph">如果 ILM 规则要求适用场景 对象根据大小筛选对象并在载入时使用同步放置（即用于载入行为的平衡或严格选项），请勿使用分块 `内容编码` 。</block>
  <block id="4f520d969827ffb292a4a379343d5b85" category="paragraph">如果 ILM 规则要求适用场景 对象根据大小筛选对象并在载入时使用同步放置（即用于载入行为的平衡或严格选项），请勿使用压缩或分块 `Transfer-Encoding` 。</block>
  <block id="8b17da079a4ff8f7a8296b333f1d55cb" category="paragraph">如果 ILM 规则按大小筛选对象并在载入时使用同步放置，则必须指定 `Content-L长度` 。</block>
  <block id="73e3907fb48739cbc24cbf4c0a4ed2a1" category="admonition">如果您未遵循 `内容编码` ， `传输编码` 和 `内容长度` 的这些准则，则 StorageGRID 必须先保存此对象，然后才能确定对象大小并应用 ILM 规则。换言之， StorageGRID 必须默认为在载入时创建对象的临时副本。也就是说， StorageGRID 必须对载入行为使用双提交选项。</block>
  <block id="a8e79543d47fb40f358624f9619b1f85" category="paragraph">有关同步放置和 ILM 规则的详细信息，请参见有关通过信息生命周期管理来管理对象的说明。</block>
  <block id="377e8bc147b489de12ab0877d69d5ee5" category="list-text">`X-Object-Meta-&lt; 名称 \&gt;` （对象相关元数据）</block>
  <block id="41916166dbb1b28024fa3193103dd3ae" category="paragraph">如果要使用 * 用户定义的创建时间 * 选项作为 ILM 规则的参考时间，则必须将该值存储在名为 `X-Object-Meta-creation-time` 的用户定义标题中。例如：</block>
  <block id="b6b6962f9c44d73c073c8456cf83811a" category="paragraph">自 1970 年 1 月 1 日以来，此字段的评估值为秒。</block>
  <block id="4201adc711918c5fdff55ae97a74c392" category="list-text">`X-Storage-Class ： reduced 冗余`</block>
  <block id="f26d04dd1bfab3db157fb26c5931d9ed" category="paragraph">如果与所载入对象匹配的 ILM 规则指定了双重提交或平衡的载入行为，则此标头会影响 StorageGRID 创建的对象副本数。</block>
  <block id="fe9f946f16676c0dba479f5003f0ccca" category="list-text">* 已平衡 * ：如果 ILM 规则指定 Balified 选项，则只有在系统无法立即创建规则中指定的所有副本时， StorageGRID 才会创建一个临时副本。如果 StorageGRID 可以执行同步放置，则此标头不起作用。</block>
  <block id="9d15a585468db4284cd5b51af495e9d8" category="paragraph">如果与 `re匹配的 ILM 规则创建了一个复制副本，则最好使用` created_redundancy 标头。在这种情况下，使用 `recreated_redundancy` 可以避免在每次载入操作中不必要地创建和删除额外的对象副本。</block>
  <block id="4e5b4f70f5095508d2de4ce0fbea14d2" category="paragraph">在其他情况下，不建议使用 `re部冗余` 标头，因为这样会增加载入期间丢失对象数据的风险。例如，如果最初将单个副本存储在发生故障的存储节点上，而此存储节点未能进行 ILM 评估，则可能会丢失数据。</block>
  <block id="0a2a9689ae22bf6b685df9478df85755" category="admonition">在任何一段时间内只复制一个副本会使数据面临永久丢失的风险。如果某个对象只存在一个复制副本，则在存储节点出现故障或出现严重错误时，该对象将丢失。在升级等维护过程中，您还会暂时失去对对象的访问权限。</block>
  <block id="088b93677a426002cb000a32948d9631" category="paragraph">请注意，指定 `recreated_redundancy` 仅会影响首次载入对象时创建的副本数。它不会影响在活动 ILM 策略评估对象时创建的对象副本数，也不会导致数据在 StorageGRID 系统中以较低的冗余级别存储。</block>
  <block id="c8dcf89f7ceec56b8a9701948971b7bd" category="paragraph">成功执行将返回以下标头，并显示 "HTTP/1.1 201 Created " 响应：</block>
  <block id="c8144361d8ee2ff3ca086c1ba17b5640" category="section-title">创建和配置 Swift 租户帐户</block>
  <block id="36fe9426212bb4d07a01476ae069b9a0" category="paragraph">要使 Swift API 客户端能够在 StorageGRID 上存储和检索对象，需要使用 Swift 租户帐户。每个租户帐户都有自己的帐户 ID ，组和用户以及容器和对象。</block>
  <block id="9e130426920980ba8c2f9c6d8995b767" category="paragraph">Swift 租户帐户由 StorageGRID 网格管理员使用网格管理器或网格管理 API 创建。</block>
  <block id="949e0b2555baf29a80ed59f8ff588d8e" category="paragraph">创建 Swift 租户帐户时，网格管理员会指定以下信息：</block>
  <block id="756dbd96232e35416215595cc742ff67" category="list-text">租户的显示名称（租户的帐户 ID 会自动分配，不能更改）</block>
  <block id="945b9617a8172f85cefe7a63d64e6649" category="list-text">如果启用了 SSO ，则哪个联合组具有 root 访问权限来配置租户帐户。</block>
  <block id="6f6f6599a5bc30d0c8a0fec3e43c08e5" category="paragraph">网格管理员可以选择影响 Swift 客户端连接到 StorageGRID 以存储和检索数据的配置。建立连接所需的具体信息取决于所选的配置。</block>
  <block id="6d63b2a35ae4a36a0fa4d3a3c0336a2c" category="paragraph">默认 Swift 端口：</block>
  <block id="442d5cf19d056e1b55739ab389cdcc87" category="list-text">HTTPS ： 8083</block>
  <block id="c2d77cedbb98a3c02c7b82a4070e59ed" category="list-text">HTTP ： 8085</block>
  <block id="1cbb1ce11e06bbba7a4b637bd015f013" category="paragraph">* 注意： * 默认情况下， CLB 和 LDR 的 HTTP 端口未启用。</block>
  <block id="d62be7a67018cd438b8d9af0ef5312cc" category="list-text">HTTPS ： 18083</block>
  <block id="15cc9a5bda9f6ab4ba2ef78efc065b4d" category="list-text">HTTP ： 18085</block>
  <block id="9ce5954403bfab64f3920adec287062a" category="paragraph">要将 Swift 客户端连接到网关节点 HA 组的负载平衡器端点，请使用以下结构化 URL ：</block>
  <block id="c13b6408965cfad5e8b4c5c93a5bba5f" category="list-text">`https://_VIP-of-HA-group:LB-endpoint-port_`</block>
  <block id="841b33792c941941415d361b65e013b5" category="paragraph">例如，如果 HA 组的虚拟 IP 地址为 192.0.2.6 ， Swift 负载平衡器端点的端口号为 10444 ，则 Swift 客户端可以使用以下 URL 连接到 StorageGRID ：</block>
  <block id="a6f157917d84f58f47e0df3bc2a41bc1" category="list-text">` https://192.0.2.6:10444`</block>
  <block id="9fbf6f96e5bfbd472eb823f6178ee024" category="section-title">在 Swift API 配置中测试连接</block>
  <block id="a28adb863cc50d04e41ddd351f4ac1f4" category="paragraph">您可以使用 Swift 命令行界面测试与 StorageGRID 系统的连接，并验证是否可以向系统读取和写入对象。</block>
  <block id="38e6bc5bdc322a6f441aaa4fe4abfbfe" category="list-text">您必须已下载并安装 python swiftclient ，即 Swift 命令行客户端。</block>
  <block id="ea2e2232bb3986e591fff52edb33db45" category="inline-link">SwiftStack ： Python-swiftclient</block>
  <block id="ba17489a8f740c07748827b51c4bca72" category="paragraph"><block ref="ba17489a8f740c07748827b51c4bca72" category="inline-link-rx"></block></block>
  <block id="3d0b6b2bc34345ee43d5ec713caf4ae2" category="list-text">您必须在 StorageGRID 系统中具有 Swift 租户帐户。</block>
  <block id="f9cfd85bde3b541345f8d7650d96f0ed" category="paragraph">如果尚未配置安全性，则必须在每个命令中添加 ` -insecure` 标志。</block>
  <block id="0224dc6451a221df0be836110175806b" category="list-text">查询 StorageGRID Swift 部署的信息 URL ：</block>
  <block id="88818e28339942789eaed3ee519150a6" category="paragraph">这足以测试您的 Swift 部署是否正常运行。要通过存储对象进一步测试帐户配置，请继续执行其他步骤。</block>
  <block id="d1110605bcfea05887b05fbdf7e5b786" category="list-text">将对象放入容器中：</block>
  <block id="06e4611b08ee9075f0561a499035198d" category="list-text">获取用于验证对象的容器：</block>
  <block id="7d8b425ab0225c2eef01e1b917aa1a80" category="list-text">删除对象：</block>
  <block id="54e073b50e81a8a4b4b8fdd657ef99c7" category="list-text">删除容器：</block>
  <block id="d82f23e7e841640734036dce6787342e" category="paragraph"><block ref="d82f23e7e841640734036dce6787342e" category="inline-xref-macro-rx"></block></block>
  <block id="c7eba578fddaf9a63db40ee3687cd574" category="paragraph"><block ref="c7eba578fddaf9a63db40ee3687cd574" category="inline-xref-macro-rx"></block></block>
  <block id="a1224e8e1d42e54574d1b861a3df5f2f" category="summary">NetApp StorageGRID 是一款软件定义的对象存储套件，支持公有 ，私有云和混合多云环境中的各种用例。StorageGRID 利用自动化生命周期管理等行业领先的创新技术来存储，保护，保护和保留非结构化数据，以便在很长时间内用于多种用途。</block>
  <block id="68482d23bcdb3015258243e1b9aacf51" category="doc">StorageGRID 11.6 文档</block>
  <block id="89c5558abd42608716db79b18b3ca0c1" category="summary">本节介绍了按照 TSM 最佳实践准备 TSM 服务器的示例说明。</block>
  <block id="5ca066ef8f2546a92618b256b546bca5" category="doc">配置 TSM 服务器</block>
  <block id="7ca458f84460588c63c5efe223c28150" category="paragraph">以下说明将指导您完成以下过程：</block>
  <block id="1d54883990245b56befa1add5904f96e" category="list-text">在 TSM 服务器上定义磁盘存储池和磁带存储池（如果需要）</block>
  <block id="42a7ae5dcb15bc1f447663c4e1fb57a7" category="list-text">为从归档节点保存的数据定义使用 TSM 管理类的域策略，并注册节点以使用此域策略</block>
  <block id="73edad8d2cab5f08b07b7e6bb2eb8238" category="paragraph">这些说明仅供您参考；它们并不是为了取代 TSM 文档，也不是为了提供适用于所有配置的完整而全面的说明。应由熟悉您的详细要求和一整套 TSM Server 文档的 TSM 管理员提供部署特定的说明。</block>
  <block id="2826683f0f706a95e5d888f6608d58aa" category="summary">NFS 审核客户端将根据其 IP 地址获得对审核共享的访问权限。通过将新 NFS 审核客户端的 IP 地址添加到审核共享，将审核共享的访问权限授予给该客户端。</block>
  <block id="bfbc9a44484080a2a0a2734701ece74c" category="doc">将 NFS 审核客户端添加到审核共享</block>
  <block id="7a336b31e980f51695a28800c9ff94a5" category="list-text">您已拥有 `passwords.txt` 文件以及 root/admin 帐户密码（可从上述软件包中获取）。</block>
  <block id="f378f0466737e98de02ffadf4870cd9b" category="list-text">您已有 `Configuration.txt` 文件（可在上述软件包中找到）。</block>
  <block id="cd4a4a18da473a67b4cfe2ea36564730" category="list-text">审核客户端正在使用 NFS 版本 3 （ NFSv3 ）。</block>
  <block id="15a783d0dc5673ed8f3da8107571446d" category="list-text">启动 NFS 配置实用程序： `config_nfs.rb`</block>
  <block id="70a62df2422e69c0179b56d7bd2541ad" category="list-text">输入： `add-ip-on-share`</block>
  <block id="24d5f76336164c4462109b502e90a3e5" category="paragraph">此时将显示在管理节点上启用的 NFS 审核共享列表。此审核共享列出为： ` /var/local/audit/export`</block>
  <block id="5ff5c9392105e0485775ca284dc1537c" category="list-text">输入审核共享的编号： ` _audit_share_number_`</block>
  <block id="c16735d05eff3f87e564c80710abf275" category="list-text">出现提示时，输入审核共享的审核客户端 IP 地址或 IP 地址范围： ` client_ip_address_`</block>
  <block id="f608c9e3808cea3225b41b0ed26afce9" category="paragraph">此时，审核客户端将添加到审核共享中。</block>
  <block id="759a9da1dfb870de45bf31c390c120ba" category="list-text">出现提示时，按 * 输入 * 。</block>
  <block id="bc1fb54609ebdbb015039d8732bca357" category="paragraph">此时将显示 NFS 配置实用程序。</block>
  <block id="9600491c42cbbea79f0944d58366b138" category="list-text">对应添加到审核共享中的每个审核客户端重复上述步骤。</block>
  <block id="e18432e02ef96fb5bc1d31cfe86c2b98" category="list-text">（可选）验证您的配置： `validate-config`</block>
  <block id="eaa0775871fedf3ca93503ef157d039c" category="paragraph">此时将检查并显示这些服务。</block>
  <block id="dfa75030eb1d2b7dc7b14f78aa8b884b" category="list-text">关闭 NFS 配置实用程序： `exit`</block>
  <block id="032c1437320494c511bf205f32967a62" category="list-text">如果 StorageGRID 部署是单个站点，请转至下一步。</block>
  <block id="068234e7d2a4ead9de6a0a4b5d594f4e" category="paragraph">否则，如果 StorageGRID 部署包括其他站点的管理节点，则可以根据需要选择启用这些审核共享：</block>
  <block id="e475042e1fe5db41a36d3e898b8b9541" category="list-text">远程登录到站点的管理节点：</block>
  <block id="13dfcb3d6f76cc287a484755f00cc929" category="list-text">重复上述步骤为每个管理节点配置审核共享。</block>
  <block id="197f6d0414f89bd4266ce56986a91fc2" category="list-text">关闭远程安全 Shell 登录到远程管理节点： `exit`</block>
  <block id="a651a29baf9b907c07a03fa8eb724390" category="summary">在为 StorageGRID 系统启用单点登录之前，请查看本节中的要求。</block>
  <block id="e8b453a9fe4a33276d35f36ec587810c" category="doc">使用单点登录的要求</block>
  <block id="d40d795fd7fd7de2c7f9acf290e26f05" category="paragraph">在为 StorageGRID 系统启用单点登录（ SSO ）之前，请查看本节中的要求。</block>
  <block id="4f60ffd0d4ac14c36da07a2fa961dcab" category="section-title">身份提供程序要求</block>
  <block id="0357c20a6e15ae5bc75058c97313b886" category="paragraph">StorageGRID 支持以下 SSO 身份提供程序（ IdP ）：</block>
  <block id="b6d613c2353ce59852166c77690755bb" category="list-text">Active Directory 联合身份验证服务（ AD FS ）</block>
  <block id="2d0a0c7d70dfc9d01b48e616bab3c4dd" category="list-text">Azure Active Directory （ Azure AD ）</block>
  <block id="8be692f2d7f8fe746b9e4a80e973c3ab" category="list-text">PingFederate</block>
  <block id="173252e58a79b7fef63c0142bbc5a9fb" category="paragraph">您必须先为 StorageGRID 系统配置身份联合，然后才能配置 SSO 身份提供程序。用于身份联合的 LDAP 服务类型控制您可以实施的 SSO 类型。</block>
  <block id="7d23779656a3775a08601190442e0e86" category="cell">已配置 LDAP 服务类型</block>
  <block id="6f0e3b09cd861b8a8c1193cb3ac30a00" category="cell">SSO 身份提供程序的选项</block>
  <block id="3a580f142203677f1f0bc30898f63f53" category="list-text">Azure 酒店</block>
  <block id="9d56987952f9247cd872ebd1f1234b4e" category="section-title">AD FS 要求</block>
  <block id="2f9ab9930bea2c9689636e6394f2ca3b" category="paragraph">您可以使用以下任意版本的 AD FS ：</block>
  <block id="ead2069bfa365dc3730fad4fec6f356a" category="list-text">Windows Server 2022 AD FS</block>
  <block id="c148624de16c93847080e88b995183ba" category="list-text">Windows Server 2019 AD FS</block>
  <block id="180de68945635a7aaef6816cabb19935" category="list-text">Windows Server 2016 AD FS</block>
  <block id="4bf5b1d3512e1fae4dab75a79b244b94" category="inline-link">KB3201845 更新</block>
  <block id="9b8a4a0ff41a1832a24b40b339c4212e" category="admonition">Windows Server 2016 应使用<block ref="3a21a8155a7c886e633becd08603f4e7" category="inline-link-rx"></block>或更高版本。</block>
  <block id="7c6c7de8a3274bffa9d0dfce78f30a53" category="list-text">AD FS 3.0 ，随 Windows Server 2012 R2 更新或更高版本提供。</block>
  <block id="024464eb7b3fd909a9746dff88c6b9c9" category="section-title">其他要求</block>
  <block id="1ddb6310cc0e1da22e1ca69e5b931d11" category="list-text">传输层安全（ Transport Layer Security ， TLS ） 1.2 或 1.3</block>
  <block id="602fbec02c2567c989898993f787cb0f" category="list-text">Microsoft .NET Framework 3.5.1 或更高版本</block>
  <block id="3d313b8e4859485a48c44861d6f22998" category="section-title">服务器证书要求</block>
  <block id="4946fea274ff1406681f69efee1f753f" category="paragraph">默认情况下， StorageGRID 会在每个管理节点上使用管理接口证书来保护对网格管理器，租户管理器，网格管理 API 和租户管理 API 的访问。在为 StorageGRID 配置依赖方信任（ AD FS ），企业应用程序（ Azure ）或服务提供商连接（ PingFederate ）时，您可以使用服务器证书作为 StorageGRID 请求的签名证书。</block>
  <block id="f0c110dcce3a5abd16a852aaeedd3a04" category="inline-xref-macro">已为管理接口配置自定义证书</block>
  <block id="5cd627992d850d97030d80878562e5ba" category="paragraph">如果您尚未执行此操作 <block ref="c7675eee2822849c60ced8752f31a5fa" category="inline-xref-macro-rx"></block>，您现在应执行此操作。安装自定义服务器证书时，该证书将用于所有管理节点，您可以在所有 StorageGRID 依赖方信任关系，企业应用程序或 SP 连接中使用该证书。</block>
  <block id="2ae8af43b46ab9f605a53b24931009f4" category="admonition">建议不要在依赖方信任，企业应用程序或 SP 连接中使用管理节点的默认服务器证书。如果节点发生故障而您恢复了该节点，则会生成一个新的默认服务器证书。在登录到已恢复的节点之前，您必须使用新证书更新依赖方信任，企业应用程序或 SP 连接。</block>
  <block id="b4416cb6999fe0242cea923c435d418f" category="paragraph">您可以通过登录到管理节点的命令 Shell 并转到 ` /var/local/mgmt-api` 目录来访问管理节点的服务器证书。自定义服务器证书名为 `custom-server.crt` 。节点的默认服务器证书名为 `sserver.crt` 。</block>
  <block id="76841410d8f9a6881e0b96f150e9cedf" category="section-title">端口要求</block>
  <block id="3643f8d782963cdb960208feb31e4d04" category="inline-xref-macro">通过防火墙控制访问</block>
  <block id="b29a9af7ba74058e4a76f16f7fbf5b0c" category="paragraph">受限网格管理器或租户管理器端口上不提供单点登录（ SSO ）。如果您希望用户通过单点登录进行身份验证，则必须使用默认 HTTPS 端口（ 443 ）。请参见 <block ref="0538dfeeab7a809f8b665ac18e66f195" category="inline-xref-macro-rx"></block>。</block>
  <block id="74395ea8f1007a7de8c5903eda48c5bd" category="summary">默认情况下，客户端应用程序会使用 HTTPS 网络协议连接到存储节点或网关节点上已弃用的 CLB 服务。您可以选择为这些连接启用 HTTP ，例如在测试非生产网格时。</block>
  <block id="65ebc800d74bce1f7dafb01cccb2d5fc" category="doc">为客户端通信启用 HTTP</block>
  <block id="9c82d435d219fb608769d4887e044c3e" category="paragraph">只有当 S3 和 Swift 客户端需要直接与存储节点或网关节点上已弃用的 CLB 服务建立 HTTP 连接时，才能完成此任务。</block>
  <block id="94640a4b4929cc35e82085c82c5facfe" category="paragraph">对于仅使用 HTTPS 连接的客户端或连接到负载平衡器服务的客户端，您无需完成此任务（因为您可以将每个负载平衡器端点配置为使用 HTTP 或 HTTPS ）。有关详细信息，请参见有关配置负载平衡器端点的信息。</block>
  <block id="19a5cc5d49ad328e5ef9a609284755d1" category="paragraph">请参见 <block ref="b5281aa732621225b468974e1774b301" category="inline-xref-macro-rx"></block> 了解使用 HTTP 或 HTTPS 连接到存储节点或已弃用的 CLB 服务时 S3 和 Swift 客户端使用的端口</block>
  <block id="7b4eac3f15dfb9b0f0552098e4562335" category="admonition">为生产网格启用 HTTP 时请务必小心，因为请求会以未加密方式发送。</block>
  <block id="e6f62bd109ffb13fc6f9dd85d927f4cc" category="list-text">选择 * 配置 * &gt; * 系统 * &gt; * 网格选项 * 。</block>
  <block id="31f1c024c922847e9ae7521aa5d52840" category="list-text">在网络选项部分中，选中 * 启用 HTTP 连接 * 复选框。</block>
  <block id="a10aef3e721f3173fd4f912aea1d6e9d" category="image-alt">启用 HTTP 连接</block>
  <block id="a9afb6c4aba5bb26c45f4aeccf93e957" category="list-text"><block ref="a9afb6c4aba5bb26c45f4aeccf93e957" category="inline-xref-macro-rx"></block></block>
  <block id="12c59932c3e5913edaf1e343b08c1725" category="summary">平台服务中使用的端点由租户管理器中的租户用户创建和维护；但是，如果租户在配置或使用平台服务时遇到问题，您可能可以使用网格管理器帮助解决问题描述 。</block>
  <block id="20ac4d96fef3f3f076d50b28df7dd8f2" category="doc">对平台服务进行故障排除</block>
  <block id="38ac39db56fd3862825ebc159d60d105" category="section-title">新端点出现问题</block>
  <block id="d03a1e5e721fc6305a3c496d05cef1be" category="paragraph">租户必须先使用租户管理器创建一个或多个端点，才能使用平台服务。每个端点表示一个平台服务的外部目标，例如 StorageGRID S3 存储分段， Amazon Web 服务分段，简单通知服务主题或本地或 AWS 上托管的 Elasticsearch 集群。每个端点都包括外部资源的位置以及访问该资源所需的凭据。</block>
  <block id="730dc24cffdaee1e42d66dc2c2e5b5a1" category="paragraph">租户创建端点时， StorageGRID 系统会验证此端点是否存在，以及是否可以使用指定的凭据访问此端点。系统会从每个站点的一个节点验证与端点的连接。</block>
  <block id="b0ebb2c0a8fce2a79c3e4d244f140b1d" category="paragraph">如果端点验证失败，则会显示一条错误消息，说明端点验证失败的原因。租户用户应解析问题描述 ，然后重新尝试创建端点。</block>
  <block id="d589ad629a7dc1248d7292430fe0edcc" category="admonition">如果未为租户帐户启用平台服务，则端点创建将失败。</block>
  <block id="7be8b7c829240a7c5789e1ead2826109" category="section-title">现有端点存在问题</block>
  <block id="b5a8f8bbd0baaadec0e560ad6a9ffbab" category="paragraph">如果在 StorageGRID 尝试访问现有端点时发生错误，则租户管理器的信息板上将显示一条消息。</block>
  <block id="0ecac2e4277e2b405e156d5eccbf2e78" category="paragraph">租户用户可以转到 " 端点 " 页面查看每个端点的最新错误消息，并确定错误发生多长时间。"* 最后一个错误 * " 列显示每个端点的最新错误消息，并指示错误发生的时间。包含的错误 <block ref="bb86e4e1464ab87ed499ed81e05f4c80" category="inline-image-macro-rx" type="image"></block> 图标在过去 7 天内出现。</block>
  <block id="825321de5cd0ebfeb1df124fc5af52f5" category="image-alt">显示上次错误列的端点页面的屏幕截图</block>
  <block id="ec11c8669c15b407030cc8c5aaf56774" category="admonition">* 最后一个错误 * 列中的某些错误消息可能会在圆括号中包含日志 ID 。网格管理员或技术支持可以使用此 ID 在 bycast.log 中查找有关此错误的更多详细信息。</block>
  <block id="6ce84b15338c14177ea2eb95564323d6" category="section-title">与代理服务器相关的问题</block>
  <block id="0cb4aa6cd5031dc55144d050b69f3e14" category="paragraph">如果您在存储节点和平台服务端点之间配置了存储代理，则如果您的代理服务不允许来自 StorageGRID 的消息，则可能会发生错误。要解决这些问题，请检查代理服务器的设置，以确保不会阻止与平台服务相关的消息。</block>
  <block id="2f7cdd662da494ffea37b872c45bb2d3" category="section-title">确定是否发生错误</block>
  <block id="e25e12728a9588c35746da6dd67fb451" category="paragraph">如果在过去 7 天内发生任何端点错误，则租户管理器中的信息板将显示一条警报消息。您可以转到 " 端点 " 页面以查看有关此错误的更多详细信息。</block>
  <block id="2b43470561f9d300fb4ffe964ad51fc4" category="section-title">客户端操作失败</block>
  <block id="3d6a74a4c96332f18427059c1ee9116f" category="paragraph">某些平台服务问题可能会导致 S3 存储分段上的发生原因 客户端操作失败。例如，如果内部复制状态计算机（ RSM ）服务停止，或者排队等待传送的平台服务消息太多， S3 客户端操作将失败。</block>
  <block id="a8612186a4e108f899d5556a6eb5fb20" category="paragraph">要检查服务状态，请执行以下操作：</block>
  <block id="2fc89cf778d736a1aee3500cd7cd062a" category="list-text">选择 * 站点 _* &gt; * 存储节点 _* &gt; * SSM* &gt; * 服务 * 。</block>
  <block id="87f5b09b972d6c804fb121139080269a" category="section-title">可恢复和不可恢复的端点错误</block>
  <block id="f1e66164b9ee8c7e61230d37626b6822" category="paragraph">创建端点后，平台服务请求错误可能会因各种原因而发生。某些错误可通过用户干预进行恢复。例如，可能会发生可恢复的错误，原因如下：</block>
  <block id="167fa254f41d9cd9c323d26702223110" category="list-text">用户凭据已删除或已过期。</block>
  <block id="29cedd0048495b135e4b6f0be85a91f6" category="list-text">目标存储分段不存在。</block>
  <block id="1d9ff5e8f68eec3b4390ae8b60bc8d40" category="list-text">无法传送通知。</block>
  <block id="ad822750c6562d3f7f06292afa789b45" category="paragraph">如果 StorageGRID 遇到可恢复的错误，将重试平台服务请求，直到成功。</block>
  <block id="aada9201d429088ad7b54a1b735929d9" category="paragraph">其他错误不可恢复。例如，如果删除端点，则会发生不可恢复的错误。</block>
  <block id="00fe110d467e432d35566e378718ded6" category="paragraph">如果 StorageGRID 遇到不可恢复的端点错误，则会在网格管理器中触发总事件（ SMTT） 原有警报。要查看总事件旧警报，请执行以下操作：</block>
  <block id="858c88ef4314367a4f3cded9b4904e25" category="list-text">选择 * 站点 _* &gt; * 节点 _* &gt; * SSM* &gt; * 事件 * 。</block>
  <block id="22c791a5e521db5b9414a946bddfc9d5" category="list-text">选择 * 配置 * 选项卡以重置事件计数。</block>
  <block id="c86ee4626a0c87910983ecb45c8131c3" category="list-text">指示租户通过更新对象的元数据或标记来重新触发失败的复制或通知。</block>
  <block id="e940fe985d2bd93ced06b4daf17fdf52" category="paragraph">租户可以重新提交现有值，以避免进行不必要的更改。</block>
  <block id="ea9cc761eb85a852c1b9fa4591c5a33b" category="section-title">无法传送平台服务消息</block>
  <block id="0fad25137f7d4e265ccca837d7ade597" category="paragraph">如果目标遇到的问题描述 阻止其接受平台服务消息，则在存储分段上执行的客户端操作将成功，但不会传送平台服务消息。例如，如果更新了目标上的凭据，使 StorageGRID 无法再向目标服务进行身份验证，则可能会发生此错误。</block>
  <block id="04378581135c3aeb54835c429ce64514" category="paragraph">如果由于不可恢复的错误而无法传送平台服务消息，则会在网格管理器中触发总事件（ SMTT） 原有警报。</block>
  <block id="65b090ef2e120d388a1f1d48c4b282b5" category="section-title">降低平台服务请求的性能</block>
  <block id="c07578aedcffef7924793503d545cbf8" category="section-title">平台服务请求失败</block>
  <block id="5f671ae0cadc4b493c433231e2c35de6" category="paragraph">要查看平台服务的请求失败率，请执行以下操作：</block>
  <block id="bed248d606bff92af143ae5142a50b07" category="list-text">选择 *_site_* &gt; * 平台服务 * 。</block>
  <block id="c5a2492cb4476284026d9e76a9e6faa6" category="list-text">查看请求错误率图表。</block>
  <block id="27789bde4da6b6fcf9dfcde587404c5c" category="image-alt">节点页面站点级平台服务</block>
  <block id="f99f981540abe91bd7de546dce394288" category="section-title">平台服务不可用警报</block>
  <block id="26d78a6270cdd47daf1d04fd33bdc11a" category="paragraph">" 平台服务不可用 * " 警报表示无法在站点上执行平台服务操作，因为运行或可用的 RSM 服务存储节点太少。</block>
  <block id="3bfea132a867e4cb747d0ca2c1d0feea" category="paragraph">RSM 服务可确保将平台服务请求发送到其各自的端点。</block>
  <block id="4a99fa1b31105d626fdc6f11201c4ed0" category="paragraph">要解决此警报，请确定站点上的哪些存储节点包含 RSM 服务。（ RSM 服务位于也包含此 ADC 服务的存储节点上。） 然后，确保这些存储节点中的大多数都在运行且可用。</block>
  <block id="676b970482b43ad8b4b471e23d82f977" category="admonition">如果某个站点上有多个包含 RSM 服务的存储节点出现故障，则该站点的任何待定平台服务请求都将丢失。</block>
  <block id="58676977c3b7cfbdd031e587752cfb61" category="section-title">有关平台服务端点的其他故障排除指南</block>
  <block id="f9663e6fed786a8444d1599249c84652" category="inline-xref-macro">使用租户帐户</block>
  <block id="5871b32b703ab445e6bed8b51193bf0b" category="paragraph">有关追加信息 对平台服务端点进行故障排除的信息，请参见的说明 <block ref="c07a59f062c2f31eaf90fa11bcdbda65" category="inline-xref-macro-rx"></block>。</block>
  <block id="77c5ff6fae8601650d3603aab21e63c5" category="inline-xref-macro">配置存储代理设置</block>
  <block id="ed68d503336d7195b23d9be0b3e98fc3" category="list-text"><block ref="ed68d503336d7195b23d9be0b3e98fc3" category="inline-xref-macro-rx"></block></block>
  <block id="f30f9fbbe24b5fde61cbc86dbd4e3555" category="summary">您可以使用网格管理 API 完全停用 StorageGRID 系统中的某些功能。停用某个功能后，不能为任何人分配执行与该功能相关的任务的权限。</block>
  <block id="5abf8f7e01b03c8171072a83f380b2dd" category="doc">使用 API 停用功能</block>
  <block id="79ffd50811b82efcffa613c9c389dcd2" category="paragraph">停用的功能系统允许您阻止访问 StorageGRID 系统中的某些功能。停用某个功能是防止 root 用户或具有 * root 访问权限 * 的管理组中的用户能够使用该功能的唯一方法。</block>
  <block id="14fac5e322cf4619d6f1bc987dd6865e" category="paragraph">要了解此功能的有用程度，请考虑以下情形：</block>
  <block id="6a6540d1f8d4453992615734c9aa5d8d" category="paragraph">_Company A 是一家服务提供商，通过创建租户帐户租用其 StorageGRID 系统的存储容量。为了保护租户对象的安全， A 公司希望确保自己的员工在部署帐户后永远不能访问任何租户帐户。 _</block>
  <block id="b29464048e3e58ebf89df8f3372e0b38" category="paragraph">_Company A 可以通过使用网格管理 API 中的停用功能系统来实现此目标。通过完全停用网格管理器中的 * 更改租户根密码 * 功能（ UI 和 API ），公司 A 可以确保任何管理员用户（包括 root 用户和属于具有 * root 访问权限 * 组的用户）都不能更改任何租户帐户的 root 用户的密码</block>
  <block id="f4986e587a6b325a7a5861406b2db955" category="list-text">访问网格管理 API 的 Swagger 文档。请参见 <block ref="fb20a87dd79ba23bb42ff8aceb1bc70f" category="inline-xref-macro-rx"></block>。</block>
  <block id="be500c6db4b16bd0d476131cf8f9adc5" category="list-text">找到停用功能端点。</block>
  <block id="a59897bd7e3859883c7903824531db1c" category="list-text">要停用更改租户 root 密码等功能，请按如下所示向 API 发送正文：</block>
  <block id="11dc52a6f70c137eb3328f990eb2c2d5" category="paragraph">` ｛ "grid" ： ｛ "change租 户 RootPassword" ： true ｝ ｝`</block>
  <block id="348d744f6af60c2cabde64ff464b4a4a" category="paragraph">请求完成后，更改租户根密码功能将被禁用。用户界面中不再显示 * 更改租户根密码 * 管理权限，尝试更改租户根密码的任何 API 请求将失败，并显示 "`403 For禁用 。`</block>
  <block id="77824dd7125b350b5a7ef5684bb2d1f1" category="section-title">重新激活已停用的功能</block>
  <block id="f15f9031c98db4f24b7db2714069bbfe" category="paragraph">默认情况下，您可以使用网格管理 API 重新激活已停用的功能。但是，如果要防止重新激活已停用的功能，则可以停用 * 激活功能 * 功能本身。</block>
  <block id="1a7bcd39a17fee9243683ab1094d0e16" category="admonition">无法重新激活 * 活动功能 * 功能。如果您决定停用此功能，请注意，您将永远无法重新激活任何其他已停用的功能。要还原任何丢失的功能，您必须联系技术支持。</block>
  <block id="23363f28c4591db00776a3d40dc184cb" category="list-text">访问网格管理 API 的 Swagger 文档。</block>
  <block id="8e058cdf977114ba89d1dd5d6d2e9567" category="list-text">要重新激活所有功能，请按如下所示将正文发送到 API ：</block>
  <block id="fd1e68173527064c0feb5d53492e28ac" category="paragraph">` ｛ "grid" ： null ｝`</block>
  <block id="c000bb803a88d0c88fa4b5338676a1e3" category="paragraph">此请求完成后，包括更改租户 root 密码功能在内的所有功能都将重新激活。现在， " 更改租户根密码 " 管理权限将显示在用户界面中，如果用户具有 * 根访问权限 * 或 * 更改租户根密码 * 管理权限，则尝试更改租户根密码的任何 API 请求都将成功。</block>
  <block id="84829b4478e727e22a5e59b3c9a7fb24" category="paragraph">上一示例将重新激活 _all_ 已停用的功能。如果其他功能已停用，而这些功能应保持停用状态，则必须在 PUT 请求中明确指定它们。例如，要重新激活更改租户 root 密码功能并继续停用警报确认功能，请发送此 PUT 请求：</block>
  <block id="a82795ffbfbb3c273d2390dcbc5e4ad3" category="paragraph">` ｛ "grid" ： ｛ "alarmAction" ： true ｝ ｝`</block>
  <block id="e5d1de8c9427f02b2672c6d05d567423" category="summary">按照以下说明配置和管理 StorageGRID 系统。</block>
  <block id="97b0c428fcd03670869b6902e2819533" category="doc">管理 StorageGRID 系统</block>
  <block id="bd6acec1f0b41fd41f76d90d3ba0e519" category="paragraph">以下说明介绍如何使用网格管理器设置组和用户，创建租户帐户以允许 S3 和 Swift 客户端应用程序存储和检索对象，配置和管理 StorageGRID 网络，配置 AutoSupport ，管理节点设置等。</block>
  <block id="edc311b28d4e4feb9d1bb36bea0d2450" category="paragraph">有关使用信息生命周期管理（ ILM ）规则和策略管理对象的说明已移至<block ref="5143f9b7656d191fdc2d9db2e1591b49" category="inline-xref-macro-rx"></block>。</block>
  <block id="de03f255c863b04d93189f44d644033a" category="paragraph">本说明适用于在安装 StorageGRID 系统后配置，管理和支持该系统的技术人员。</block>
  <block id="742f8d943b103ff1695790520f022387" category="list-text">您已大致了解 StorageGRID 系统。</block>
  <block id="c3bf066ba22dc59625e300095f1d51ad" category="list-text">您对 Linux 命令 Shell ，网络连接以及服务器硬件设置和配置有相当详细的了解。</block>
  <block id="cbf27659540e8a2c5efb805b2e6ab6c3" category="summary">下图举例说明了配置 HA 组的不同方式。每个选项都有优缺点。</block>
  <block id="4100475a234d24140a62ab5740ed58e4" category="paragraph">下图举例说明了配置 HA 组的不同方式。每个选项都有优缺点。</block>
  <block id="26733da8622fe4f5075a30670a2c3bef" category="paragraph">在图中，蓝色表示 HA 组中的主接口，黄色表示 HA 组中的备份接口。</block>
  <block id="b846c1de6e408e7f28ec71489b5995eb" category="image-alt">HA 示例</block>
  <block id="c82ef7140bd506fd80de1db2ca0b3dfc" category="paragraph">下表总结了图中所示每个 HA 配置的优势。</block>
  <block id="f7b2ceb71d1db781418644d81e747782" category="cell">优势</block>
  <block id="90843c066e7c75581a9005b9579c151d" category="cell">缺点</block>
  <block id="80222d1d85d8678dc80e861645e73c2f" category="paragraph">主动备份 HA</block>
  <block id="17f86fb1ebf3881c51d42860c8ae0343" category="list-text">由 StorageGRID 管理，无外部依赖关系。</block>
  <block id="94eb6ed180e9fcb802922b6fa76f2389" category="list-text">快速故障转移。</block>
  <block id="2bc623e2f35d9fab71493a801d306c9a" category="list-text">一个 HA 组中只有一个节点处于活动状态。每个 HA 组至少有一个节点处于空闲状态。</block>
  <block id="2aad7c9815f42b4f9cf10953d94ea146" category="paragraph">DNS 轮循</block>
  <block id="c3ce0325f1eec5a9f37cf6d4de2f5e68" category="list-text">提高聚合吞吐量。</block>
  <block id="e8bd45476322c502b50839e72a9f7618" category="list-text">无闲置主机。</block>
  <block id="01ccf038476f7ae96a09c76074c5a6b7" category="list-text">故障转移速度较慢，这可能取决于客户端行为。</block>
  <block id="88a16591c9a09b3869fcaacb9841f7c2" category="list-text">需要在 StorageGRID 之外配置硬件。</block>
  <block id="0aff68ca0716170e6b4f32ce7282213e" category="list-text">需要客户实施的运行状况检查。</block>
  <block id="e38f7673d17ba7cfbdc2a252646faa5c" category="paragraph">主动 - 主动 HA</block>
  <block id="9582427c53ff28b136ac0bd0c784033b" category="list-text">流量分布在多个 HA 组中。</block>
  <block id="f7fc70f77e907a9595f5482658b658d6" category="list-text">可随 HA 组数量扩展的高聚合吞吐量。</block>
  <block id="ecaa8ea14b17c88bb5ad4c8e785509de" category="list-text">配置更复杂。</block>
  <block id="791edd910b7979f3ee9673dc7ef59e28" category="summary">网关节点上的连接负载平衡器（ CLB\ ）服务已弃用。现在，建议使用负载平衡器服务。</block>
  <block id="981f2910c26645c451b5b7e5d53fc555" category="paragraph">网关节点上的连接负载平衡器（ CLB ）服务已弃用。现在，建议使用负载平衡器服务。</block>
  <block id="abea067d7c5f69a1519e28aae1690902" category="paragraph">CLB 服务使用第 4 层负载平衡功能，根据可用性，系统负载和管理员配置的链路成本，将传入的 TCP 网络连接从客户端应用程序分发到最佳存储节点。选择最佳存储节点后， CLB 服务将建立双向网络连接，并将流量转发到选定节点和从选定节点转发流量。在定向传入网络连接时， CLB 不考虑网格网络配置。</block>
  <block id="094f6037216a19f834c5ee86cc6e2590" category="paragraph">要查看有关 CLB 服务的信息，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * ，然后展开网关节点，直到可以选择 * CLB* 及其下方的选项为止。</block>
  <block id="a328a7ba3ed8e2ba3853e087d0ad19e1" category="image-alt">网格拓扑树中的 API 网关节点</block>
  <block id="80f196080e0fddf5d2d33e6a8bd9c6e6" category="paragraph">如果您选择使用 CLB 服务，则应考虑为 StorageGRID 系统配置链路成本。</block>
  <block id="051abf3efe62de31598d02abe6cb7552" category="inline-xref-macro">链路成本是多少</block>
  <block id="ff9cc8841651fa31b474b7162a68aba2" category="list-text"><block ref="ff9cc8841651fa31b474b7162a68aba2" category="inline-xref-macro-rx"></block></block>
  <block id="e1ce80175fbad831c19cb55d999df2b0" category="inline-xref-macro">更新链路成本</block>
  <block id="95a70b65f3ae076677a20f1d6f59ce83" category="list-text"><block ref="95a70b65f3ae076677a20f1d6f59ce83" category="inline-xref-macro-rx"></block></block>
  <block id="03f805d2f578b7a3bf77bb9780fb4c4e" category="summary">如果要通过防火墙控制访问，请打开或关闭外部防火墙上的特定端口。</block>
  <block id="f68b8d7e99831d9f651ee43e8ac2b32c" category="section-title">控制外部防火墙的访问</block>
  <block id="0cafef369594cb55c4954a5e73f876c2" category="paragraph">您可以通过在外部防火墙中打开或关闭特定端口来控制对 StorageGRID 管理节点上用户界面和 API 的访问。例如，除了使用其他方法控制系统访问之外，您可能还希望防止租户能够在防火墙处连接到网格管理器。</block>
  <block id="b0fa0e69707f9f5d1cafd8a8dd47ae1e" category="cell">端口是否已打开 ...</block>
  <block id="01657595f885a065443185810e1bdfb6" category="paragraph">管理节点的默认 HTTPS 端口</block>
  <block id="e6b9ea51d94df6ac8a3370161acfdf43" category="paragraph">Web 浏览器和管理 API 客户端可以访问网格管理器，网格管理 API ，租户管理器和租户管理 API 。</block>
  <block id="49c84ec3a77d6b0ae5181cc8896fd24f" category="paragraph">* 注： * 端口 443 也用于某些内部流量。</block>
  <block id="58d38f3d9cd36e42aa20a03603f622d0" category="paragraph">管理节点上的网格管理器端口受限</block>
  <block id="9777d8a8209b959229ef26e130f6f490" category="list-text">Web 浏览器和管理 API 客户端可以使用 HTTPS 访问网格管理器和网格管理 API 。</block>
  <block id="99d2cc46fb999e8e1486a6fc53bbb5b2" category="list-text">Web 浏览器和管理 API 客户端无法访问租户管理器或租户管理 API 。</block>
  <block id="0c3fd5066cbf1fff54daf426d1c71397" category="list-text">请求内部内容将被拒绝。</block>
  <block id="5d6044fbb9608953c2a62170625c63f2" category="paragraph">管理节点上的租户管理器端口受限</block>
  <block id="37a494e9ed1f11477285ee628b1dee81" category="list-text">Web 浏览器和管理 API 客户端可以使用 HTTPS 访问租户管理器和租户管理 API 。</block>
  <block id="e352773a527aa79ab80ab80270192e47" category="list-text">Web 浏览器和管理 API 客户端无法访问网格管理器或网格管理 API 。</block>
  <block id="fa15c5a5c06bfa6ed3e3eb54a3320881" category="admonition">受限网格管理器或租户管理器端口上不提供单点登录（ SSO ）。如果您希望用户通过单点登录进行身份验证，则必须使用默认 HTTPS 端口（ 443 ）。</block>
  <block id="bb0dd8b0b8efa5928afbafc369fda5e1" category="inline-xref-macro">登录到网格管理器</block>
  <block id="dc600a787ebd961eadee274914c482a1" category="list-text"><block ref="dc600a787ebd961eadee274914c482a1" category="inline-xref-macro-rx"></block></block>
  <block id="3e8abb25f6c6b51f7625724063f57459" category="inline-xref-macro">创建租户帐户</block>
  <block id="ff2f2b710eabc81ff08b87eee4a06826" category="list-text"><block ref="ff2f2b710eabc81ff08b87eee4a06826" category="inline-xref-macro-rx"></block></block>
  <block id="b7c26e7a5e3c0adc1cce4b2c9a6cbca1" category="list-text"><block ref="b7c26e7a5e3c0adc1cce4b2c9a6cbca1" category="inline-xref-macro-rx"></block></block>
  <block id="a996e8717991e16ce551b58ae31994c0" category="summary">用于配置审核客户端的操作步骤 取决于身份验证方法： Windows 工作组或 Windows Active Directory \ （ AD\ ）。添加后，审核共享将自动启用为只读共享。</block>
  <block id="7fea9b006f2898d932bc568d787bd795" category="doc">为 CIFS 配置审核客户端</block>
  <block id="a504d36688403fcf5789140b7773601e" category="paragraph">用于配置审核客户端的操作步骤 取决于身份验证方法： Windows 工作组或 Windows Active Directory （ AD ）。添加后，审核共享将自动启用为只读共享。</block>
  <block id="d2b8dee229206f3e9b40b90729b8644a" category="summary">使用此操作步骤 更改 StorageGRID 配置密码短语。恢复，扩展和维护过程需要密码短语。下载恢复软件包备份时也需要使用密码短语，其中包括网格拓扑信息，网格节点控制台密码以及 StorageGRID 系统的加密密钥。</block>
  <block id="e4d5b43f2473c4f331fdaca3df25b2aa" category="doc">更改配置密码短语</block>
  <block id="4aa75b1a4ce22178d19c28d14cbf2503" category="paragraph">使用此操作步骤 更改 StorageGRID 配置密码短语。恢复，扩展和维护过程需要密码短语。下载恢复软件包备份时也需要使用密码短语，其中包括网格拓扑信息，网格节点控制台密码以及 StorageGRID 系统的加密密钥。</block>
  <block id="38725ac51d4b4aef80df1cc2d8182950" category="list-text">您具有当前配置密码短语。</block>
  <block id="8fc8356da6b0276b8fcccb95210df061" category="paragraph">许多安装和维护过程以及都需要配置密码短语 <block ref="467ab2a8a269ea13de1a4fbf77ee1613" category="inline-xref-macro-rx"></block>。配置密码短语未列在 `passwords.txt` 文件中。请务必记录配置密码短语并将其保存在安全的位置。</block>
  <block id="d611197833e74bc62b7668ca8c6f7d40" category="list-text">选择 * 配置 * &gt; * 访问控制 * &gt; * 网格密码 * 。</block>
  <block id="8e8a68d187d0714e364a531fe90c3e48" category="image-alt">网格密码</block>
  <block id="f00dedf10e2f561d18edffcba2fbe3fd" category="list-text">在 * 更改配置密码短语 * 下选择 * 进行更改 * 。</block>
  <block id="c0806cfe5fcbc04e62a78b65e395bfc5" category="image-alt">网格密码会更改配置密码短语</block>
  <block id="d15761f981bbdabe650102422fea6590" category="list-text">输入当前配置密码短语。</block>
  <block id="063b3c4cf75331823137681d9178d968" category="list-text">输入新密码短语。密码短语必须至少包含 8 个字符，并且不能超过 32 个字符。密码短语区分大小写。</block>
  <block id="0b0b87f974999fac0db03c9f2795b5a9" category="list-text">将新配置密码短语存储在安全位置。安装，扩展和维护过程需要使用它。</block>
  <block id="0047d365c326828abf83651bbe37cce0" category="list-text">重新输入新密码短语，然后选择 * 保存 * 。</block>
  <block id="39617bda1b0e832d4c84965eb30f75e2" category="paragraph">配置密码短语更改完成后，系统将显示一个绿色的成功横幅。</block>
  <block id="c5f18faccc775c810db867e9a3439de7" category="image-alt">更改配置密码短语成功</block>
  <block id="c97c4cd0c607b741bd000d83d443827e" category="list-text">选择 * 恢复包 * 。</block>
  <block id="b7827ee049d86ace646973a790d83016" category="list-text">输入新的配置密码短语以下载新的恢复软件包。</block>
  <block id="25160e50cc851973c0c97bc12ab49bad" category="admonition">更改配置密码短语后，您必须立即下载新的恢复软件包。通过恢复包文件，您可以在发生故障时还原系统。</block>
  <block id="97aaf59a823da8a47546e4d1b3b9c72a" category="summary">在调整 TSM 服务器的大小并对其进行配置时，应应用一些最佳实践来优化它，以便与归档节点配合使用。</block>
  <block id="7f2c699d58a49a648fc0e19074231077" category="doc">配置最佳实践</block>
  <block id="64a2000e5b494983e32ec260e04f8376" category="paragraph">在估算 TSM 服务器的规模并对其进行配置时，应考虑以下因素：</block>
  <block id="561dd071da7d644744e8a0739737d64b" category="list-text">由于归档节点在将对象保存到 TSM 服务器之前不会聚合对象，因此必须对 TSM 数据库进行大小调整，以保留对要写入归档节点的所有对象的引用。</block>
  <block id="43772cf4a1512f49025fa2129550e0b5" category="list-text">归档节点软件不能容忍将对象直接写入磁带或其他可移动介质所涉及的延迟。因此，无论何时使用可移动介质， TSM 服务器都必须配置一个磁盘存储池，用于初始存储归档节点保存的数据。</block>
  <block id="c27181022e7ad623dba03580321dd661" category="list-text">您必须配置 TSM 保留策略，以使用基于事件‐的保留。归档节点不支持基于创建的 TSM 保留策略。在保留策略中使用以下建议设置 remin=0 和 rever=0 （这表示保留从归档节点触发保留事件时开始，并在此之后保留 0 天）。但是， remin 和 rever 的这些值是可选的。</block>
  <block id="f2300f5dd56832a0c908e1c70136fb30" category="paragraph">必须对磁盘池进行配置，以便将数据迁移到磁带池（即，磁带池必须是磁盘池的 NXTSTGPOOL ）。不能将磁带池配置为磁盘池的副本池，并同时向两个池写入数据（即，磁带池不能是磁盘池的 COPYSTGPOOL ）。要为包含归档节点数据的磁带创建脱机副本，请为 TSM 服务器配置第二个磁带池，该磁带池是用于归档节点数据的磁带池的副本池。</block>
  <block id="effd7e040eaf56458dbefb57e9467695" category="summary">对 StorageGRID 部署中要从中检索审核消息的每个管理节点执行此操作步骤 。</block>
  <block id="9b09cac30f15b53caad2c726b2660594" category="doc">为 Active Directory 配置审核客户端</block>
  <block id="6825c14ec4fa0d92e77851bd9557cafb" category="list-text">您具有 CIFS Active Directory 用户名和密码。</block>
  <block id="15ca6f33c162a64c8540559fd9058fd4" category="list-text">您已有 `Configuration.txt` 文件（可在上述软件包中找到）。</block>
  <block id="1e7e3d1f109bbb5cd7ab4cce2e07b1e8" category="list-text">确认所有服务的状态均为 running 或 Verified ： `storagegRid-status`</block>
  <block id="f9a251a8b23763965cdc8340361e9be4" category="paragraph">如果所有服务均未运行或未验证，请先解决问题，然后再继续。</block>
  <block id="b1709a201a7765bc47f31e1223f581c1" category="list-text">启动 CIFS 配置实用程序： `config_cifs.rb`</block>
  <block id="a0619d34621010071024aa95eb686113" category="list-text">为 Active Directory 设置身份验证： `sET-authentication`</block>
  <block id="e2f345e209d574c33dd319e620d340df" category="paragraph">在大多数部署中，您必须在添加审核客户端之前设置身份验证。如果已设置身份验证，则会显示一条建议消息。如果已设置身份验证，请转至下一步。</block>
  <block id="ad54cffb1e54227d27057870d56850bf" category="list-text">当系统提示您安装工作组或 Active Directory 时： `ad`</block>
  <block id="121f4f7a00f5234102d12df45ca040f0" category="list-text">出现提示时，输入 AD 域的名称（短域名）。</block>
  <block id="b50fab5ebb7c29e2f3133e28dc70a47b" category="list-text">出现提示时，输入域控制器的 IP 地址或 DNS 主机名。</block>
  <block id="954a6cc0ae8ddf1353da1215fb6723da" category="list-text">出现提示时，输入完整的域域名。</block>
  <block id="b257888c50dc6aa548a8173c8eb172a1" category="paragraph">使用大写字母。</block>
  <block id="8b845534ad55f29ffdd42fc94ed56971" category="list-text">当系统提示您启用 winbind 支持时，键入 * 。</block>
  <block id="a4c9a444dbf6b9c04cf8a6a7bf070fdf" category="paragraph">winbind 用于解析 AD 服务器中的用户和组信息。</block>
  <block id="19c2c615bc5e392c9c39911684031952" category="list-text">出现提示时，输入 NetBIOS 名称。</block>
  <block id="9f08cdfeb0c11c07d694da21fa0b9f61" category="paragraph">此时将显示 CIFS 配置实用程序。</block>
  <block id="5f7a18a954ca2c15f59b643ecee7ac98" category="list-text">加入域：</block>
  <block id="fd5a7449c342f6a2e9b51676f0450cdd" category="list-text">如果尚未启动，请启动 CIFS 配置实用程序： `config_cifs.rb`</block>
  <block id="f3686151567b58058ecec34ced40fb59" category="list-text">加入域： `join-domain`</block>
  <block id="e31bc500904854de243d04430af6b738" category="list-text">系统会提示您测试管理节点当前是否为有效的域成员。如果此管理节点先前未加入此域，请输入： `no`</block>
  <block id="c1bed6fa8643f514f048483b66a902bb" category="list-text">出现提示时，请提供管理员的用户名： ` 管理员用户名 _`</block>
  <block id="5024d890718d790fae3b077a4725c79e" category="paragraph">其中， ` 管理员用户名 _` 是 CIFS Active Directory 用户名，而不是 StorageGRID 用户名。</block>
  <block id="e827fe79db53d48196c8325a30914480" category="list-text">出现提示时，请提供管理员密码： ` 管理员密码 _ 密码 _`</block>
  <block id="3032bd3b3449e80c00939fc4dbb4a011" category="paragraph">` ` _administrator_password_ 是 CIFS Active Directory 用户名，而不是 StorageGRID 密码。</block>
  <block id="23f139b58f9598f391e02e7990371df7" category="list-text">验证您是否已正确加入域：</block>
  <block id="cd302810ccd52f46f509cf9cfe0ae07c" category="list-text">当系统提示测试服务器当前是否为域的有效成员时，输入： `y`</block>
  <block id="83e37270c4fcc04d499105290a6cda69" category="paragraph">如果您收到消息 "`join is OK ，` " you have successfully joined the domain.如果未收到此响应，请尝试设置身份验证并重新加入域。</block>
  <block id="81ab1d849fd71f4fc6988e2cabbbc774" category="list-text">添加审核客户端： `add-audit-share`</block>
  <block id="1259228c0c823ee31e1531ea3acacd04" category="list-text">当系统提示您添加用户或组时，输入： `user`</block>
  <block id="3aafb6f231412eb351e828419c0a99f2" category="list-text">当系统提示您输入审核用户名时，请输入审核用户名。</block>
  <block id="1862360591668c9e729a64907a3f1ad9" category="list-text">如果允许多个用户或组访问审核共享，请添加其他用户： `add-user-to share`</block>
  <block id="4fcaf4c5c509d2d28e7432054ce3f246" category="paragraph">此时将显示已启用共享的编号列表。</block>
  <block id="834295d88f71114dafe0fc787531ca27" category="list-text">输入审核导出共享的编号。</block>
  <block id="0d39f81bd104cd5f28997ca73582e8e7" category="list-text">当系统提示您添加用户或组时，输入： `group`</block>
  <block id="1756ed0d8142abb562b7813194279c1e" category="paragraph">系统将提示您输入审核组名称。</block>
  <block id="355dac2db0b06c1eb504a7fb18ec35aa" category="list-text">当系统提示您输入审核组名称时，输入审核用户组的名称。</block>
  <block id="3cf0ba7e04f1d2cfb73604315f027c35" category="list-text">对有权访问审核共享的每个其他用户或组重复此步骤。</block>
  <block id="2a92f8c54e677b9c0ee3555597420164" category="paragraph">此时将检查并显示这些服务。您可以安全地忽略以下消息：</block>
  <block id="46f10515557abee20727a08038027e99" category="list-text">找不到 include 文件 ` /etc/samba/includes/cifs-interfaces.inc`</block>
  <block id="5e319328f7235f3734d94dfd0e473cc7" category="list-text">找不到 include 文件 ` /etc/samba/includes/cifs-filesystem.inc`</block>
  <block id="361ebbc24fe221f3cf3bd57b63d84504" category="list-text">找不到 include 文件 ` /etc/samba/includes/cifs-custom-config.inc`</block>
  <block id="0ba0cd850196578a16fb303454fe4969" category="list-text">找不到 include 文件 ` /etc/samba/includes/cifs-shares.inc`</block>
  <block id="127baaf4e73b6546b061a7d128642328" category="list-text">rlimit_max ：将 rlimit_max （ 1024 ）增加到最小 Windows 限制（ 16384 ）</block>
  <block id="5500bb05bafa79d1f72e563a4ce967e1" category="admonition">请勿将设置 "security=ads" 与 "password server" 参数结合使用。（默认情况下， Samba 会自动发现要联系的正确 DC ）。</block>
  <block id="c91834f1788fc387c7474840f7be0bae" category="list-text">出现提示时，按 * 输入 * 以显示审核客户端配置。</block>
  <block id="9228a1a1b9cfb5189cf823e20af29375" category="list-text">关闭 CIFS 配置实用程序： `exit`</block>
  <block id="d5bc9da88af96c1999e7bc8db1c9f2ac" category="paragraph">或者，如果 StorageGRID 部署包括其他站点的管理节点，则根据需要启用这些审核共享：</block>
  <block id="00b86dcc926ca912488d1e9581cc6bdb" category="list-text">关闭远程安全 Shell 登录到管理节点： `exit`</block>
  <block id="854e4d3eaf7112bbe15f66eba792ceaf" category="summary">您可以查看 StorageGRID 系统中每个网格节点的 IP 地址。然后，您可以使用此 IP 地址通过命令行登录到网格节点并执行各种维护过程。</block>
  <block id="e42d6ef5f3dd4c029f685d0f581da357" category="doc">查看 IP 地址</block>
  <block id="cc936e889ec6f7028dc7a8cc07cc0a25" category="paragraph">有关更改 IP 地址的信息，请参见 <block ref="a0762e2dd5f1d14d4710e6c0139de3cc" category="inline-xref-macro-rx"></block>。</block>
  <block id="cd2b24fcedbc0cc21112ec937dbe095b" category="list-text">选择 * 节点 * &gt; * 网格节点 _* &gt; * 概述 * 。</block>
  <block id="1e85321233d8f743b69a567b1929ea97" category="list-text">选择 IP 地址标题右侧的 * 显示更多 * 。</block>
  <block id="139bc1fb8b58e933677793035d0dd543" category="paragraph">此网格节点的 IP 地址会在表中列出。</block>
  <block id="01cd1f6bdcb4550c0da6dad80660f251" category="image-alt">节点页面 IP 地址</block>
  <block id="ecdea1af3e125306090b1a4b111874a8" category="summary">如果 Grid Manager 和租户管理器用户处于非活动状态的时间超过一段时间，您可以控制他们是否已注销。</block>
  <block id="9bb80b355d68f3a3cedf88c2e428521d" category="doc">更改浏览器会话超时</block>
  <block id="050047ff0bf12f16f8365925feef71ef" category="paragraph">GUI 非活动超时默认为 900 秒（ 15 分钟）。如果用户的浏览器会话在此时间内未处于活动状态，则此会话将超时。</block>
  <block id="0b5ecf345dae70d18d585c533579a237" category="paragraph">您可以根据需要通过设置 GUI 非活动超时显示选项来增加或减少超时时间。</block>
  <block id="9a22e593097410334917c1edb24562ad" category="paragraph">如果启用了单点登录（ SSO ），并且用户的浏览器会话超时，系统的行为就像用户手动选择了 * 注销 * 一样。用户必须重新输入其 SSO 凭据才能再次访问 StorageGRID 。请参见 <block ref="fc226766362e3806d830b8b1afe9b50f" category="inline-xref-macro-rx"></block>。</block>
  <block id="40230e2068bcfb06ddc8f4339c8cd01d" category="paragraph">用户会话超时也可通过以下方式控制：</block>
  <block id="4762e49e1360295b834da30f20467bec" category="list-text">一个单独的不可配置 StorageGRID 计时器，其中包括用于系统安全保护的计时器。默认情况下，每个用户的身份验证令牌在用户登录后 16 小时到期。用户的身份验证过期后，即使尚未达到 GUI 非活动超时值，该用户也会自动注销。要续订令牌，用户必须重新登录。</block>
  <block id="0919dc7e10f99c9efa8a86e1dc5a7c02" category="list-text">身份提供程序的超时设置（假设已为 StorageGRID 启用 SSO ）。</block>
  <block id="8d19489d45134e1a86d398f4d5f628c8" category="list-text">选择 * 配置 * &gt; * 系统 * &gt; * 显示选项 * 。</block>
  <block id="bd1d44adf38330a30ab49cfbf69e2012" category="list-text">对于 * 图形用户界面非活动超时 * ，请输入 60 秒或更长时间的超时期限。</block>
  <block id="b298d176b4e0e6143de21e302470223e" category="paragraph">如果不想使用此功能，请将此字段设置为 0 。用户在登录后 16 小时，身份验证令牌过期时将注销。</block>
  <block id="db9b5a0d1f125f098ca401910ab59891" category="image-alt">显示选项页面</block>
  <block id="de46f70d00ffd895e2e5781dfe5afafa" category="paragraph">新设置不会影响当前已登录的用户。用户必须重新登录或刷新浏览器，新的超时设置才能生效。</block>
  <block id="312121239426c5c7cefd75da880984bb" category="summary">StorageGRID 系统旨在为对象存储和检索提供高效操作，并通过无缝创建对象数据和元数据的冗余副本提供出色的数据保护，防止数据丢失。</block>
  <block id="c20787d5fe2995d82301191a56a5a013" category="doc">迁移对操作的影响</block>
  <block id="da7adb3bd3b2e302fcd21e2393364095" category="paragraph">但是，必须按照本章中的说明仔细管理数据迁移，以避免对日常系统操作造成影响，或者在极端情况下，在 StorageGRID 系统发生故障时使数据面临丢失风险。</block>
  <block id="6c6b8391f54cb6bf95c672c059d33df6" category="paragraph">迁移大量数据会给系统带来额外的负载。当 StorageGRID 系统负载过重时，它对存储和检索对象的请求响应速度较慢。这可能会干扰日常操作不可或缺的存储和检索请求。迁移还可以发生原因 解决其他操作问题。例如，当存储节点接近容量时，由于批量载入而产生的大量间歇性负载可以对存储节点进行发生原因 ，使其在只读和读写之间循环，从而生成通知。</block>
  <block id="63f0438793483d5f81d3f7e4e1be3ce2" category="paragraph">如果负载仍然繁重，则可以为 StorageGRID 系统必须执行的各种操作开发队列，以确保对象数据和元数据完全冗余。</block>
  <block id="b13821a1c7fefa1460ffc7fca922a6a6" category="paragraph">必须按照本文档中的准则仔细管理数据迁移，以确保 StorageGRID 系统在迁移期间安全高效地运行。迁移数据时，请批量载入对象或持续限制载入。然后，持续监控 StorageGRID 系统，以确保不超过各种属性值。</block>
  <block id="3074b2cb852a554405231afba9a92ee4" category="summary">对于执行严格主机名验证且不支持禁用严格主机名验证的 S3 客户端，例如使用 FabricPool 的 ONTAP 客户端，您可以在配置负载平衡器端点时生成或上传服务器证书。</block>
  <block id="94cdbc8a60aab58bd2787bb906a09c47" category="doc">为 FabricPool 配置 StorageGRID 证书</block>
  <block id="0bfbcc2b04b5b788fff6148c2d73fde3" category="paragraph">创建负载平衡器端点时，您可以生成自签名服务器证书或上传由已知证书颁发机构（ CA ）签名的证书。在生产环境中，您应使用由已知 CA 签名的证书。由 CA 签名的证书可以无中断地轮换。它们也更安全，因为它们可以更好地防止中间人攻击。</block>
  <block id="f45e3dfe8edc668147af6ef26e6a74fd" category="inline-xref-macro">为 FabricPool 配置 StorageGRID</block>
  <block id="8ff50eafe57fbd909570a93800c63a34" category="paragraph">以下步骤为使用 FabricPool 的 S3 客户端提供了一般准则。有关更多详细信息和过程，请参见 <block ref="783d170609f2deeaa7e7d83e466d9d15" category="inline-xref-macro-rx"></block>。</block>
  <block id="7a17699ba3d7f3fa9107ccb84467931e" category="admonition">网关节点上的单独连接负载平衡器（ CLB ）服务已弃用，不建议用于 FabricPool 。</block>
  <block id="e4a86527f282642202094abb5d5c7e1f" category="list-text">（可选）配置一个高可用性（ High Availability ， HA ）组以供 FabricPool 使用。</block>
  <block id="08f7ad87503640f0c2eb66c0370aa10f" category="list-text">创建 S3 负载平衡器端点以供 FabricPool 使用。</block>
  <block id="0ffa4f772830f830df20a4d9770fd646" category="paragraph">创建 HTTPS 负载平衡器端点时，系统会提示您上传服务器证书，证书专用密钥和可选的 CA 捆绑包。</block>
  <block id="fb1512d36c2d081796cf8411fb4f1233" category="list-text">在 ONTAP 中将 StorageGRID 附加为云层。</block>
  <block id="98e60eeb519e2adb45abd36764892ea4" category="paragraph">指定负载平衡器端点端口以及上载的 CA 证书中使用的完全限定域名。然后，提供 CA 证书。</block>
  <block id="2b19c1a006ae26cec11154c4af31e8b9" category="admonition">如果中间 CA 颁发了 StorageGRID 证书，则必须提供中间 CA 证书。如果 StorageGRID 证书是直接由根 CA 颁发的，则必须提供根 CA 证书。</block>
  <block id="79f7c5fcbd484af79ffe951e0173da9a" category="summary">StorageGRID 系统支持一组有限的密码套件，用于将传输层安全 \ （ tls\ ）连接到用于身份联合和云存储池的外部系统。</block>
  <block id="5779618b5532ebc609ce86cf78e63e8f" category="paragraph">StorageGRID 系统支持一组有限的密码套件，用于将传输层安全（ Transport Layer Security ， TLS ）连接到用于身份联合和云存储池的外部系统。</block>
  <block id="ef0908745f63f0dbd464c3d481dd268f" category="paragraph">StorageGRID 支持使用 TLS 1.2 和 TLS 1.3 连接到用于身份联合和云存储池的外部系统。</block>
  <block id="b03a497ce971dc551bcc7a815cb4e466" category="paragraph">为了确保与一系列外部系统兼容，我们选择了可与外部系统结合使用的 TLS 密码。此列表大于支持在 S3 或 Swift 客户端应用程序中使用的密码列表。</block>
  <block id="97e76166ededaefe78929b428f6eb3ab" category="admonition">协议版本，密码，密钥交换算法和 MAC 算法等 TLS 配置选项在 StorageGRID 中不可配置。如果您对这些设置有特定要求，请联系您的 NetApp 客户代表。</block>
  <block id="1be360cda001ff10a7d1dc06e1b3d9b8" category="section-title">支持的 TLS 1.2 密码套件</block>
  <block id="777f37abad94613abdf053476437b6f8" category="paragraph">支持以下 TLS 1.2 密码套件：</block>
  <block id="7397dc1c01dd058299ec0dbfe63689a1" category="list-text">tls_ECDHE_ECDSA_WIT_AES_128_GCM_SHA256</block>
  <block id="b71ceeef5e8196538ef5d472a6f1727c" category="list-text">tls_ECDHE_ECDSA_WIT_AES_256_GCM_SHA384</block>
  <block id="e6290f5042a77b2846f2d56765def257" category="list-text">tls_ECDHE_RSA_WIT_CHACHA20_POLY1305</block>
  <block id="7f505e783fe8cdc7194b173fa88e43fd" category="list-text">tls_ECDHE_ECDSA_ING_CHACHA20_POLY1305</block>
  <block id="3712e309b2d5e7bf0f0d0149a68b6e71" category="section-title">支持的 TLS 1.3 密码套件</block>
  <block id="5c45a7f7d726345c4dca716d9690ae53" category="paragraph">支持以下 TLS 1.3 密码套件：</block>
  <block id="a3f92d84dab3d6bb1b35249a6388759c" category="summary">审核共享会自动启用为只读共享。</block>
  <block id="704d180fa776823b938bd1db4a6100bf" category="doc">为 NFS 配置审核客户端</block>
  <block id="06e3e34ad3c8720048c79774c707aa9f" category="list-text">您已拥有 `passwords.txt` 文件以及 root/admin 密码（可在上述软件包中找到）。</block>
  <block id="2d6bd72df68a53c8f2916ef08fcae910" category="list-text">确认所有服务的状态均为正在运行或已验证。输入： `storagegRid-status`</block>
  <block id="792e92d8ecd9ee890b12954281f6c104" category="paragraph">如果任何服务未列为 "Running or Verifified （正在运行或已验证） " ，请先解决问题，然后再继续。</block>
  <block id="52f8e5f06cc00e6ad0de38d136b331f4" category="list-text">返回到命令行。按 * 。 Ctrl+* 。</block>
  <block id="e36a0a07d0eb7ca9af3a5f0d4bbf5d7e" category="list-text">启动 NFS 配置实用程序。输入： `config_nfs.rb`</block>
  <block id="dfbd77cb0c6ad5360546e3522064822a" category="list-text">添加审核客户端： `add-audit-share`</block>
  <block id="92bf46b301f4ed1522c48b6b2483d0a3" category="list-text">出现提示时，输入审核共享的审核客户端 IP 地址或 IP 地址范围： `client_ip_address`</block>
  <block id="1599b8317b0c8f0f4fbd950ad6ca09d8" category="list-text">如果允许多个审核客户端访问审核共享，请添加其他用户的 IP 地址： `add-ip-o-share`</block>
  <block id="a5494d9141565e54d046f15310c2ad38" category="list-text">对有权访问审核共享的其他每个审核客户端重复这些子步骤。</block>
  <block id="5be055fb2ba0ac8a12b00eeaf42e1c1e" category="list-text">（可选）验证您的配置。</block>
  <block id="10bd46e5caaee0071e6f6002ffe40b8a" category="list-text">输入以下内容： `validate-config`</block>
  <block id="fcd966e18d969767f4d39202d1ecb247" category="list-text">确定是否必须在其他站点启用审核共享。</block>
  <block id="e10d1a8eadd67a507385e0bf7d67c942" category="list-text">如果 StorageGRID 部署包括其他站点的管理节点，请根据需要启用这些审核共享：</block>
  <block id="69a645955f9d1af2d34386fd67154527" category="list-text">远程登录到站点的管理节点：</block>
  <block id="e4a0b1b5ac9b4cdf9f4598425f781f56" category="list-text">重复上述步骤为每个附加管理节点配置审核共享。</block>
  <block id="3810d19e04ea66ffb3514c064fc2b703" category="list-text">关闭远程安全 Shell 登录到远程管理节点。输入： `exit`</block>
  <block id="4ba084ce5cd6802f73edcf1ef4aecbae" category="paragraph">NFS 审核客户端将根据其 IP 地址获得对审核共享的访问权限。通过将新 NFS 审核客户端的 IP 地址添加到共享中来向该客户端授予对审核共享的访问权限，或者通过删除现有审核客户端的 IP 地址来删除该客户端。</block>
  <block id="d990a6bd19048e4d955d2acd026381ba" category="summary">网格管理 API 将可用的 API 操作组织到以下几节中。</block>
  <block id="57d73ef539b38eef90e8b6d73454d4c8" category="doc">网格管理 API 操作</block>
  <block id="4b7937f5fc884bd0d08bfd7d6d218676" category="paragraph">网格管理 API 将可用操作组织到以下部分中。</block>
  <block id="14c5b949651b0191bf20d0a0e2b0f6da" category="admonition">此列表仅包含公有 API 中可用的操作。</block>
  <block id="f336bc04ef9d679e6aa613fb62e6f313" category="list-text">* 帐户 * —用于管理存储租户帐户的操作，包括创建新帐户和检索给定帐户的存储使用情况。</block>
  <block id="bd12512781ca1fef7dc630aa9ed76c19" category="list-text">* 警报 * —用于列出当前警报（旧系统）并返回有关网格运行状况的信息的操作，包括当前警报和节点连接状态摘要。</block>
  <block id="e351d064f61256a283e6a9aa23f67321" category="list-text">*alert-histori* —对已解决警报执行的操作。</block>
  <block id="aff37597c4c7df15326a07c777642086" category="list-text">* 警报接收器 * —对警报通知接收器（电子邮件）的操作。</block>
  <block id="87515bbc87c8123ba9b363f4954ae065" category="list-text">*alert-rules* —对警报规则执行的操作。</block>
  <block id="69d162de3656df6019b85d937808935b" category="list-text">*alert-silences* —对警报静音执行的操作。</block>
  <block id="7393dedd45d9c5bcd2a8b05396f1840e" category="list-text">* 警报 * - 对警报执行的操作。</block>
  <block id="adb22cbf85074fd651ec367ceecf1ff7" category="list-text">* 审核 * —用于列出和更新审核配置的操作。</block>
  <block id="aaee830971d4e106c7c784285f652b3b" category="paragraph">网格管理 API 支持不可承载令牌身份验证方案。要登录，请在身份验证请求的 JSON 正文中提供用户名和密码（即 `post /apI/v3/authorize` ）。如果用户已成功通过身份验证，则会返回一个安全令牌。此令牌必须在后续 API 请求的标题中提供（ "Authorization ： bearer _token_" ）。</block>
  <block id="25537d47265c476217b4d4e7d10bdd9c" category="admonition">如果为 StorageGRID 系统启用了单点登录，则必须执行不同的步骤进行身份验证。请参见 "`在启用单点登录后对 API 进行身份验证。` "</block>
  <block id="c6465433f3ae219c99ba066f8d69a898" category="paragraph">有关提高身份验证安全性的信息，请参见 "`防止跨站点请求伪造` " 。</block>
  <block id="ba44269806b4ce4073ca1a2fc9723b27" category="list-text">* 客户端证书 * —用于配置客户端证书以便使用外部监控工具安全访问 StorageGRID 的操作。</block>
  <block id="d917c31cc92465c6f65a3940297c1136" category="list-text">*config* —与网格管理 API 的产品版本和版本相关的操作。您可以列出该版本支持的网格管理 API 的产品版本和主要版本，并且可以禁用已弃用的 API 版本。</block>
  <block id="0491ff561025c7fa0a62d8ab10504019" category="list-text">*DNS-servers* —用于列出和更改已配置外部 DNS 服务器的操作。</block>
  <block id="48fe7c13388f5dabb37f25c623a6440f" category="list-text">* 端点域名 * —用于列出和更改端点域名的操作。</block>
  <block id="d89ce97670b16a58b86c8b5e5138bc33" category="list-text">* 擦除编码 * —擦除编码配置文件的操作。</block>
  <block id="abd9b4121d36e9fa62d83ca144c84806" category="list-text">* 扩展 * —扩展操作（过程级）。</block>
  <block id="6022dc0f9142c8d0fcfa7760f2479504" category="list-text">* 扩展节点 * —扩展操作（节点级别）。</block>
  <block id="900a7eb59aebcd883c137cfd4cf44f8b" category="list-text">* 扩展站点 * —扩展操作（站点级）。</block>
  <block id="ea8908836a8476e8c4a22dd799710715" category="list-text">* 网格网络 * —用于列出和更改网格网络列表的操作。</block>
  <block id="c42662fba6f23554afabe343fd847dcf" category="list-text">* 网格密码 * —网格密码管理操作。</block>
  <block id="4a283b9718c6b24a92a1969f2b596b1c" category="list-text">* 组 * —用于管理本地网格管理员组以及从外部 LDAP 服务器检索联合网格管理员组的操作。</block>
  <block id="ae8af64d940a6a93bd80b9ef00da2ed9" category="list-text">* ILM * —信息生命周期管理（ ILM ）操作。</block>
  <block id="4a3f922d3ba2543d64c23138e257c4f6" category="list-text">* 许可证 * —用于检索和更新 StorageGRID 许可证的操作。</block>
  <block id="a87cb030b1ac9d3dea4e996c3eb4752c" category="list-text">* 日志 * —用于收集和下载日志文件的操作。</block>
  <block id="6c977503bd0aaac2593c3458a891b6e1" category="list-text">* 指标 * —对 StorageGRID 指标的操作，包括单个时间点的即时指标查询和一段时间内的范围指标查询。网格管理 API 使用 Prometheus 系统监控工具作为后端数据源。有关构建 Prometheus 查询的信息，请参见 Prometheus 网站。</block>
  <block id="eee2381cc7615fed84961bd611d8cfb5" category="admonition">名称中包含 `` _private_`` 的指标仅供内部使用。这些指标可能会在 StorageGRID 版本之间发生更改，恕不另行通知。</block>
  <block id="10275d6826e6ccdaf6a66eff16e04b27" category="list-text">"node-details* "- 对节点详细信息的操作。</block>
  <block id="fe6c1c49ce0d7e5e0e704bb1dc6436c8" category="list-text">"node-health* " —对节点运行状况执行的操作。</block>
  <block id="86335f9dff5184c19cc82953250d6aa9" category="list-text">* ntp-servers* —用于列出或更新外部网络时间协议（ NTP ）服务器的操作。</block>
  <block id="b73cc6b043159c5a6876144a4543f850" category="list-text">* 对象 * - 对对象和对象元数据执行的操作。</block>
  <block id="af02eea076a7fa10c3dcb3dc1dd26d2e" category="list-text">* 恢复 * —恢复操作步骤 的操作。</block>
  <block id="9f28bd4b1b7525e2d86a183085b4d312" category="list-text">* 区域 * - 用于查看和创建区域的操作。</block>
  <block id="4c1e2e4223d8c6753595f26b8961e98c" category="list-text">* s3-object-lock* —对全局 S3 对象锁定设置执行的操作。</block>
  <block id="5db67aa3d47d5545aed2648760447dc6" category="list-text">* 服务器证书 * —用于查看和更新 Grid Manager 服务器证书的操作。</block>
  <block id="cb9b9dc5faa26de6f9215bf3afee6c10" category="list-text">"* SNMP* - 对当前 SNMP 配置执行的操作 " 。</block>
  <block id="f7bc475fd7b7e3d64d21f02e8bbb4be0" category="list-text">*traffic 类 * —流量分类策略的操作。</block>
  <block id="e9fb486389e2012ccace3818c6136609" category="list-text">* 不可信客户端网络 * —对不可信客户端网络配置执行的操作。</block>
  <block id="3bc52387ba9bd6eafef36f67bd5a54a8" category="list-text">* 用户 * —用于查看和管理 Grid Manager 用户的操作。</block>
  <block id="edda80c70aaa6049f93c268c690ec6e5" category="summary">StorageGRID 系统的对象元数据容量用于控制可存储在该系统上的最大对象数。为了确保 StorageGRID 系统有足够的空间来存储新对象，您必须了解 StorageGRID 在何处以及如何存储对象元数据。</block>
  <block id="9969140fe6cab61c680854db01f17d0c" category="section-title">什么是对象元数据？</block>
  <block id="4f2c742f451302da47841addef711ed6" category="paragraph">对象元数据是指描述对象的任何信息。StorageGRID 使用对象元数据跟踪网格中所有对象的位置，并管理每个对象的生命周期。</block>
  <block id="3d4f1564dbeb7ba00d6b95ab8efc6de7" category="paragraph">对于 StorageGRID 中的对象，对象元数据包括以下类型的信息：</block>
  <block id="03899078b909e5fa77035efb76835cd1" category="list-text">系统元数据，包括每个对象的唯一 ID （ UUID ），对象名称， S3 存储分段或 Swift 容器的名称，租户帐户名称或 ID ，对象的逻辑大小，首次创建对象的日期和时间， 以及上次修改对象的日期和时间。</block>
  <block id="3dbdb43407d55e92a14a85f1d6388c70" category="list-text">对于分段对象和多部分对象，分段标识符和数据大小。</block>
  <block id="645006d4b8123f5048091056a4bb2d84" category="section-title">如何存储对象元数据？</block>
  <block id="25824e54a5da02afa57ce1c97e5c2225" category="paragraph">StorageGRID 在 Cassandra 数据库中维护对象元数据，该数据库独立于对象数据进行存储。为了提供冗余并防止对象元数据丢失， StorageGRID 会为每个站点的系统中的所有对象存储三个元数据副本。对象元数据的三个副本均匀分布在每个站点的所有存储节点上。</block>
  <block id="6cf974f955c294a19f39d3d01dc05d61" category="paragraph">此图表示两个站点上的存储节点。每个站点都具有相同数量的对象元数据，这些元数据会在该站点的存储节点之间平均分布。</block>
  <block id="2d8b94b8aaf786ec35431b86366d0970" category="image-alt">站点之间的元数据空间</block>
  <block id="d455552f352d2a18342ce361a366d0c8" category="section-title">对象元数据存储在何处？</block>
  <block id="6d56877bfdbbee269647360932ac6a89" category="paragraph">此图表示单个存储节点的存储卷。</block>
  <block id="914879791d314b408a8d4cad703d097d" category="paragraph">如图所示， StorageGRID 会为每个存储节点的存储卷 0 上的对象元数据预留空间。它会使用预留空间存储对象元数据并执行基本数据库操作。存储卷 0 和存储节点中所有其他存储卷上的任何剩余空间仅用于对象数据（复制的副本和经过纠删编码的片段）。</block>
  <block id="7a6f7f51729cc42a1963d40dee1d60e1" category="paragraph">为特定存储节点上的对象元数据预留的空间量取决于多种因素，如下所述。</block>
  <block id="96bec1bded4cd6af695f79a8a3e535ce" category="section-title">元数据预留空间设置</block>
  <block id="fa51da07e1ba80270aca7bddade98754" category="paragraph">元数据预留空间 _ 是一个系统范围设置，表示将为每个存储节点的卷 0 上的元数据预留的空间量。如表所示， StorageGRID 11.6 的此设置的默认值如下所示：</block>
  <block id="a0543000d353a38cce773c63642d8d9c" category="list-text">最初安装 StorageGRID 时使用的软件版本。</block>
  <block id="2dcec80ecb8561748260ce32ae7b73c4" category="list-text">每个存储节点上的 RAM 量。</block>
  <block id="3b357e87d0511dd1a915cf496a72517a" category="cell">用于初始 StorageGRID 安装的版本</block>
  <block id="993b0337e4330d76151888b0bda67e89" category="cell">存储节点上的 RAM 量</block>
  <block id="0a43337bc639bd1ea036af95936751af" category="cell">StorageGRID 11.6. 的默认元数据预留空间设置</block>
  <block id="8579ed70a401b0fd838db30cd892bb2c" category="paragraph">11.5/11.6.</block>
  <block id="1e12d923c2401bc4bc6fc9311dd8f2c4" category="paragraph">网格中的每个存储节点上的容量为 128 GB 或更大</block>
  <block id="a09f2c82d6bb8b3ed4e6c9f5fe99a9d1" category="paragraph">8 TB （ 8 ， 000 GB ）</block>
  <block id="d70c5c90548e9539c9c05ea1e99dccac" category="paragraph">网格中任何存储节点上的容量小于 128 GB</block>
  <block id="2832f68f7d74b37279fd3e67058d426f" category="paragraph">3 TB （ 3 ， 000 GB ）</block>
  <block id="3f1f5dffb4a801a6b1b94bcf7a4dd5cd" category="paragraph">11.1 到 11.4</block>
  <block id="c374530a4aead4c17a9240a8dbce2fdf" category="paragraph">任何一个站点的每个存储节点上的容量为 128 GB 或更大</block>
  <block id="f24f3ea947278aa133147f6262fda068" category="paragraph">4 TB （ 4 ， 000 GB ）</block>
  <block id="a8adaf15c2d249df4ca4632e99587a85" category="paragraph">每个站点的任何存储节点上的容量小于 128 GB</block>
  <block id="39634c6e2aa411e93d52b0086c1e0ba8" category="paragraph">11.0 或更早版本</block>
  <block id="46a36b7b9b908e96c2a0d0eb51efb0ba" category="paragraph">任意数量</block>
  <block id="58e25e1aa845948c3288246331b55ff7" category="paragraph">2 TB （ 2 ， 000 GB ）</block>
  <block id="9fea33fd9fd02cf2db0ee469b6a89697" category="paragraph">要查看 StorageGRID 系统的元数据预留空间设置，请执行以下操作：</block>
  <block id="7d5603ab60a3394a27cd44fdc02cd347" category="list-text">在存储水印表中，找到 * 元数据预留空间 * 。</block>
  <block id="c99d57dd9bf277548275646ff8e9ffd7" category="image-alt">元数据预留空间存储选项</block>
  <block id="816ab323f1f8a460f68c5b42e7538d89" category="paragraph">在屏幕截图中， * 元数据预留空间 * 值为 8 ， 000 GB （ 8 TB ）。这是新 StorageGRID 11.6 安装的默认设置，其中每个存储节点的 RAM 均为 128 GB 或以上。</block>
  <block id="3e402fe396435388d8d7c50176435a14" category="section-title">元数据的实际预留空间</block>
  <block id="53cd51bf85842384715dbe3670dafedd" category="paragraph">与系统范围的元数据预留空间设置不同，系统会为每个存储节点确定对象元数据的 _actual reserved space_ 。对于任何给定的存储节点，元数据的实际预留空间取决于节点的卷 0 大小以及系统范围的 * 元数据预留空间 * 设置。</block>
  <block id="cfc16a7896e42b0aff33e7b2dab463a5" category="cell">节点的卷 0 大小</block>
  <block id="46c7e7275caed89cae90d53e40b09bac" category="paragraph">小于 500 GB （非生产用）</block>
  <block id="ce5f70deb64ace88a4ec0e80cd96e6cc" category="paragraph">卷 0 的 10%</block>
  <block id="e0831ad31a89e6a4343c7db7bb9fda1a" category="paragraph">500 GB 或更大</block>
  <block id="6227a989d4d9903598b547a758dc2a82" category="paragraph">这些值中较小的值：</block>
  <block id="30d8ae894c450570af29494b65c241fa" category="paragraph">要查看特定存储节点上元数据的实际预留空间，请执行以下操作：</block>
  <block id="b8aad886571eb414a2e3e5f7ccf52acf" category="list-text">在网格管理器中，选择 * 节点 * &gt; * 存储节点 _* 。</block>
  <block id="956bd76ef07bb7bebde3deb223774708" category="list-text">将光标悬停在 "Storage Used - Object Metadata " 图表上，找到 "* 实际预留 * " 值。</block>
  <block id="817f1fd485307a7277255f8eba291747" category="image-alt">已用存储 - 对象元数据 - 实际预留</block>
  <block id="a08f534938f4257e4b218f81751cb4bd" category="paragraph">在屏幕截图中， * 实际预留 * 值为 8 TB 。此屏幕截图适用于新 StorageGRID 11.6 安装中的大型存储节点。由于此存储节点的系统范围元数据预留空间设置小于卷 0 ，因此此节点的实际预留空间等于元数据预留空间设置。</block>
  <block id="1330519d0e045d3fc87f6323341f429a" category="section-title">实际预留的元数据空间示例</block>
  <block id="b259691f75c31be104d30e996d4f2171" category="paragraph">假设您安装的是使用版本 11.6 的新 StorageGRID 系统。在此示例中，假设每个存储节点的 RAM 超过 128 GB ，并且存储节点 1 （ SN1 ）的卷 0 为 6 TB 。基于以下值：</block>
  <block id="34f22e6c0371461571c2eb9e020c814f" category="list-text">系统范围的 * 元数据预留空间 * 设置为 8 TB 。（如果每个存储节点的 RAM 超过 128 GB ，则这是新 StorageGRID 11.6 安装的默认值。）</block>
  <block id="ac78cdb82e72a22fb5bb1f13c15d54d6" category="list-text">SN1 元数据的实际预留空间为 6 TB 。（由于卷 0 小于 * 元数据预留空间 * 设置，因此会保留整个卷。）</block>
  <block id="a4bfa722009cac18e58a04fe0323ded0" category="section-title">允许的元数据空间</block>
  <block id="b60868f57fa86e054f631e62330f1725" category="paragraph">每个存储节点为元数据实际预留的空间细分为可用于对象元数据的空间（允许的元数据空间 _ ）以及基本数据库操作（如数据缩减和修复）以及未来硬件和软件升级所需的空间。允许的元数据空间用于控制整体对象容量。</block>
  <block id="9fdebf502ac0450c9812eb638dd81a27" category="image-alt">元数据允许的空间卷 0</block>
  <block id="21b345d25dfb84a683b530c9fecab32c" category="paragraph">下表总结了 StorageGRID 如何确定存储节点的允许元数据空间值。</block>
  <block id="72b0a52112b8d93419ccb870c8686f97" category="cell">存储节点上的内存大小</block>
  <block id="1cb751f6ceb3cf252c1db82843dcdf7e" category="paragraph">&amp;lt ； 128 GB</block>
  <block id="3021a904034f0c7ba0a20f90e67a5210" category="paragraph">&amp;gt ； = 128 GB</block>
  <block id="5847ddf05d3a6a95c88d12c933d394d7" category="paragraph">&amp;lt ； = 4 TB</block>
  <block id="91b550683247f4d83ff943d2c57ac2cb" category="paragraph">元数据的实际预留空间的 60% ，最多 1.32 TB</block>
  <block id="ecda6784ce93119a5cf1699f9b5c4317" category="paragraph">元数据实际预留空间的 60% ，最大 1.98 TB</block>
  <block id="75b15f9ac4b6d5915b20c4c6b07df3cb" category="paragraph">管理； 4 TB</block>
  <block id="d130f205993ada60ec29e60cd72341a9" category="paragraph">（元数据的实际预留空间− 1 TB ） × 60% ，最多 1.32 TB</block>
  <block id="b3d14e5816e1938b1e11234d46093af8" category="paragraph">（元数据的实际预留空间− 1 TB ） × 60% ，最多 3.96 TB</block>
  <block id="f98a89740518332a8aaa6cecae72a440" category="paragraph">要查看存储节点允许的元数据空间，请执行以下操作：</block>
  <block id="dc2d2dfb6fcedfd40329d7846575d151" category="list-text">选择存储节点。</block>
  <block id="5f8fcd4254ffacb7a26fd976dba56fd3" category="list-text">将光标悬停在已用存储 - 对象元数据图表上，找到 * 允许 * 值。</block>
  <block id="fe6d11e6a2ef46b7a9b5790335cc31fd" category="image-alt">已用存储 - 对象元数据 - 允许</block>
  <block id="0c1a43708b90e3597ce503653cb77107" category="paragraph">在屏幕截图中， * 允许 * 值为 2.64 TB ，这是存储节点的最大值，该存储节点的元数据实际预留空间超过 4 TB 。</block>
  <block id="047aa6b535a39ba7a329c27731e1b646" category="paragraph">* 允许 * 值对应于此 Prometheus 指标：</block>
  <block id="5cea9ea6d8b8528e3492188f81e0e1c0" category="section-title">允许的元数据空间示例</block>
  <block id="ee87bd8cd3dc26f88f989c45aac06b6b" category="paragraph">假设您安装的是使用版本 11.6 的 StorageGRID 系统。在此示例中，假设每个存储节点的 RAM 超过 128 GB ，并且存储节点 1 （ SN1 ）的卷 0 为 6 TB 。基于以下值：</block>
  <block id="a0e08a6fa10741d75a5494c5bd68bcc3" category="list-text">系统范围的 * 元数据预留空间 * 设置为 8 TB 。（当每个存储节点的 RAM 超过 128 GB 时，这是 StorageGRID 11.6 的默认值。）</block>
  <block id="17f5550ce2e48e2b7ecca86a36d5591f" category="list-text">SN1 上允许的元数据空间为 2.64 TB 。（这是实际预留空间的最大值。）</block>
  <block id="755e1483cce78395025ba41d3d00016d" category="section-title">不同大小的存储节点如何影响对象容量</block>
  <block id="a747d55e71b7458fdc18a976629f3c6a" category="paragraph">如上所述， StorageGRID 会在每个站点的存储节点之间均匀分布对象元数据。因此，如果某个站点包含不同大小的存储节点，则该站点上最小的节点将决定该站点的元数据容量。</block>
  <block id="3f885b3755c24a3898b140210b0d5afe" category="paragraph">请考虑以下示例：</block>
  <block id="4a1ba799ab7796371dc72e9366f2cfd4" category="list-text">您有一个单站点网格，其中包含三个大小不同的存储节点。</block>
  <block id="0250fd643bf5b30b1e0c5aebe2a0828a" category="list-text">* 元数据预留空间 * 设置为 4 TB 。</block>
  <block id="a1bbf0da74449f525115e971bdcd1842" category="list-text">对于实际预留的元数据空间和允许的元数据空间，存储节点具有以下值。</block>
  <block id="114593cdcddba2c69f834b6e9cc9dc5f" category="cell">卷 0 的大小</block>
  <block id="83863761f14d34683ecaf2cedb5f9ece" category="cell">实际预留的元数据空间</block>
  <block id="46cb01c6ff781756d76636e7f210ecfe" category="paragraph">SN1</block>
  <block id="2de043d72e5b79a2aa36cea3b121a234" category="paragraph">2.2 TB</block>
  <block id="198f870771c2244cb37c24d95b12cd3c" category="paragraph">1.32 TB</block>
  <block id="e12690c63767f123f2ef43808258a9a9" category="paragraph">SN2</block>
  <block id="b3dd42c7956751be5d38b5c0cb2e09c0" category="paragraph">5 TB</block>
  <block id="dbf13ee746bf3321dc6f92ccf385fa75" category="paragraph">4 TB</block>
  <block id="3d3a29685d419753555b9a9f117cff35" category="paragraph">1.98 TB</block>
  <block id="c6cd9740af41e8e26477ae2e3e78156c" category="paragraph">SN3</block>
  <block id="ab4bf7c1be6270d2b6e2a29d2048d9ba" category="paragraph">6 TB</block>
  <block id="ac1dbb3ddcb6c84e624518aebc2d3790" category="paragraph">由于对象元数据在站点的存储节点之间平均分布，因此本示例中的每个节点只能持有 1.32 TB 的元数据。不能使用 SN2 和 SN3 允许的额外 0.66 TB 元数据空间。</block>
  <block id="d794a723f9381a1666ddecba093a91eb" category="image-alt">元数据空间三个存储节点</block>
  <block id="3c74ea181793ed45dbaf6354420afee6" category="paragraph">同样，由于 StorageGRID 会维护每个站点上 StorageGRID 系统的所有对象元数据，因此 StorageGRID 系统的整体元数据容量取决于最小站点的对象元数据容量。</block>
  <block id="138387b0c6429b11119a3b797cbcecb8" category="paragraph">由于对象元数据容量控制最大对象数，因此当一个节点用尽元数据容量时，网格实际上已满。</block>
  <block id="0b2d9ef541b1c34cc77c207b8e16da57" category="list-text">要了解如何监控每个存储节点的对象元数据容量，请转至 <block ref="52835fa2e95dc83a0d2224948b0d7781" category="inline-xref-macro-rx"></block>。</block>
  <block id="2aa467fe2a5b5d73877e7247aff3ad1d" category="list-text">要增加系统的对象元数据容量，请添加新的存储节点。转至 <block ref="00f53a1c07e278d2ecb7e620c7725966" category="inline-xref-macro-rx"></block>。</block>
  <block id="5e41ca5d6624fa7875a1a716fd023939" category="summary">您可以通过 StorageGRID 管理节点而不是存储设备管理端口向技术支持发送 E 系列 SANtricity System Manager AutoSupport 消息。</block>
  <block id="f1a80e6f754fc4a61e2fcaadc87ac71f" category="doc">通过 StorageGRID 发送 E 系列 AutoSupport 消息</block>
  <block id="63f3497e0456c50d0068933ea96e35c6" category="list-text">您将使用登录到网格管理器 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="7b4cc84a4cb17fc5d2ad8bcbba21caaa" category="list-text">您具有存储设备管理员权限或 root 访问权限。</block>
  <block id="c5b4ed509d633dd15fee771314585795" category="paragraph">E 系列 AutoSupport 消息包含存储硬件的详细信息，比 StorageGRID 系统发送的其他 AutoSupport 消息更具体。</block>
  <block id="7229c4e100b590c8a164a38c8ac8377a" category="paragraph">在 SANtricity 系统管理发生原因 器中配置一个特殊的代理服务器地址，以便在不使用设备管理端口的情况下通过 StorageGRID 管理节点传输 AutoSupport 消息。以这种方式传输的 AutoSupport 消息与可能已在网格管理器中配置的首选发件人和管理员代理设置相关。</block>
  <block id="e73de50f29f0dca4b2f8f37122ae7a66" category="inline-xref-macro">配置管理员代理设置</block>
  <block id="1be880eae17b109167b9b057e479d60a" category="paragraph">如果要在网格管理器中配置管理代理服务器，请参见 <block ref="61aced2fbeb2c38c653046f1f496bf31" category="inline-xref-macro-rx"></block>。</block>
  <block id="20a8377ad5367d389a5417d54b6ac74f" category="inline-link">NetApp E 系列和 SANtricity 文档</block>
  <block id="762bc1a11ce0ed06f4499b001c343dc7" category="admonition">此操作步骤 仅用于为 E 系列 AutoSupport 消息配置 StorageGRID 代理服务器。有关 E 系列 AutoSupport 配置的更多详细信息，请参见<block ref="afa6af239f94ec48e2d158af839c1b86" category="inline-link-rx"></block>。</block>
  <block id="b670710bc1dc45eda7828cc693319469" category="list-text">在网格管理器中，选择 * 节点 * 。</block>
  <block id="5cd2f65c9d414688a863f42ba48a3b02" category="list-text">从左侧的节点列表中，选择要配置的存储设备节点。</block>
  <block id="6d13cf1156fc44b3ab816735ab47a658" category="list-text">选择 * SANtricity 系统管理器 * 。</block>
  <block id="08fc6da80f8b8bdab1c1e9b3962c689a" category="image-alt">AutoSupport SANtricity 主页</block>
  <block id="dcb29f0c5b16da2eaf9a1cd167142f14" category="list-text">选择 * 支持 * &gt; * 支持中心 * &gt; * AutoSupport * 。</block>
  <block id="f5e2917f346c547c6c28fb77ee924eff" category="paragraph">此时将显示 AutoSupport 操作页面。</block>
  <block id="e0f811391cfde445522012464944bedd" category="image-alt">AutoSupport SANtricity AutoSupport 操作</block>
  <block id="d15ef58f591a31679a31fd6a6870c0f9" category="list-text">选择 * 配置 AutoSupport 交付方法 * 。</block>
  <block id="be52c361979c6e4238d363565a75fb58" category="paragraph">此时将显示配置 AutoSupport 交付方法页面。</block>
  <block id="2cee091eca297bf01baf727ea39ad452" category="image-alt">AutoSupport 配置 AutoSupport 交付方法 SANtricity</block>
  <block id="2a65d2aa636fcb25db29b341a132c71f" category="list-text">选择 * HTTPS * 作为传送方法。</block>
  <block id="f4578daa9026923d7849b063dd016e12" category="admonition">启用 HTTPS 协议的证书已预先安装。</block>
  <block id="fc86c717e58bea119934f4aaf7ee6cb3" category="list-text">选择 * 通过代理服务器 * 。</block>
  <block id="21f036a11af5bb0b155c91b584c7f884" category="list-text">输入 `tunnate-host` 作为 * 主机地址 * 。</block>
  <block id="61e3fa26fdd0122c86cf9269d0ce7534" category="paragraph">`tunnate-host` 是使用管理节点发送 E 系列 AutoSupport 消息的特殊地址。</block>
  <block id="c26efd017d144d4466bf0d94d3bc3a10" category="list-text">为 * 端口号 * 输入 `10225` 。</block>
  <block id="a40e68c3f615c91961fd8066f3f6264f" category="paragraph">`10225` 是 StorageGRID 代理服务器上从设备中的 E 系列控制器接收 AutoSupport 消息的端口号。</block>
  <block id="28a1cc0ddf19c59205955c05773b734e" category="list-text">选择 * 测试配置 * 以测试 AutoSupport 代理服务器的路由和配置。</block>
  <block id="56b3420f4ce48daf8480cf820ee93993" category="paragraph">如果正确，则绿色横幅中会显示一条消息： "`您的 AutoSupport 配置已验证。` "</block>
  <block id="639d7bdb629295b7be34e6b0682065b5" category="paragraph">如果测试失败，则会在红色横幅中显示一条错误消息。检查 StorageGRID DNS 设置和网络连接，确保首选发件人管理节点可以连接到 NetApp 支持站点，然后重试此测试。</block>
  <block id="27d10e5b8a155f5bb26ba13f69f123b3" category="paragraph">此时将保存此配置，并显示一条确认消息： "`AutoSupport delivery method has been configured 。` "</block>
  <block id="0839715a975beca06fd1cb0c179e68ca" category="summary">当存储节点达到容量时，您必须通过添加新存储来扩展 StorageGRID 系统。有三种选项可供选择：添加存储卷，添加存储扩展架和添加存储节点。</block>
  <block id="247b0c8a47bbbdbabe74d0b5c29f83bb" category="doc">管理完整存储节点</block>
  <block id="2205403fbd493a497279293400370c4e" category="section-title">添加存储卷</block>
  <block id="547b9db78fa3732c6c65d9a7f2511a95" category="inline-xref-macro">扩展 StorageGRID 系统</block>
  <block id="f0781235847b6d5981d1202a8db4f3a9" category="paragraph">每个存储节点均支持最大数量的存储卷。定义的最大值因平台而异。如果存储节点包含的存储卷数少于最大数量，则可以添加卷以增加其容量。请参见的说明 <block ref="5625c7da7bf439c8e3a357dc9ea71e98" category="inline-xref-macro-rx"></block>。</block>
  <block id="b99c8a2197156d33f316deb2c0d1df35" category="section-title">添加存储扩展架</block>
  <block id="d1cfa9d74f93d40906a76c1c7126fcf0" category="paragraph">某些 StorageGRID 设备存储节点（例如 SG6060 ）可以支持更多存储架。如果您的 StorageGRID 设备具有扩展功能，但尚未扩展到最大容量，则可以添加存储架以增加容量。请参见的说明 <block ref="5625c7da7bf439c8e3a357dc9ea71e98" category="inline-xref-macro-rx"></block>。</block>
  <block id="bda90421676565ea5bce60929e24b214" category="section-title">添加存储节点</block>
  <block id="77b97a17db60fa0f54c2ee824a1c76d2" category="paragraph">您可以通过添加存储节点来增加存储容量。添加存储时，必须仔细考虑当前活动的 ILM 规则和容量要求。请参见的说明 <block ref="5625c7da7bf439c8e3a357dc9ea71e98" category="inline-xref-macro-rx"></block>。</block>
  <block id="f16653d4fa6d3b663bb2585001481e47" category="summary">在将大量数据迁移到 StorageGRID 系统之前，请确认 StorageGRID 系统具有处理预期卷所需的磁盘容量。</block>
  <block id="0cd4b96af5c5eb311519408255d07464" category="doc">确认 StorageGRID 系统的容量</block>
  <block id="4776278a0bf2b5c219966621d6432dbf" category="paragraph">如果 StorageGRID 系统包含归档节点，并且已将迁移对象的副本保存到近线存储（例如磁带）中，请确保归档节点的存储具有足够的容量来容纳所迁移数据的预期卷。</block>
  <block id="7fe57dc7b83566b3573d1b2010b8469c" category="inline-xref-macro">管理存储节点</block>
  <block id="61576b3190c3c6ebd7404959e02a4edd" category="paragraph">在容量评估过程中，请查看计划迁移的对象的数据配置文件，并计算所需的磁盘容量。有关监控 StorageGRID 系统磁盘容量的详细信息，请参见 <block ref="26cbd6bb44fa2eca71a5501c2137b8cb" category="inline-xref-macro-rx"></block> 和 <block ref="52835fa2e95dc83a0d2224948b0d7781" category="inline-xref-macro-rx"></block>。</block>
  <block id="d98700f3718b34a4cca2d837f13d5e87" category="summary">在为所有 StorageGRID 用户启用单点登录（ SSO ）之前，您可以使用沙盒模式配置和测试单点登录（ SSO ）。启用 SSO 后，您可以在需要更改或重新测试配置时返回到沙盒模式。</block>
  <block id="64580c787e3904b811e6dd91d2f3857b" category="doc">使用沙盒模式</block>
  <block id="edfe21f84c9522e80317424501a93a44" category="list-text">您已为 StorageGRID 系统配置身份联合。</block>
  <block id="050fa9f3282393d681332a62f3491cd3" category="list-text">对于身份联合 * LDAP 服务类型 * ，您根据计划使用的 SSO 身份提供程序选择了 Active Directory 或 Azure 。</block>
  <block id="199ea5d433ad84b8677c16eaca165474" category="paragraph">启用 SSO 后，如果用户尝试登录到管理节点，则 StorageGRID 会向 SSO 身份提供程序发送身份验证请求。然后， SSO 身份提供程序会向 StorageGRID 发回身份验证响应，指示身份验证请求是否成功。对于成功的请求：</block>
  <block id="2780e46e539a48bb1d2c3db948a51bbd" category="list-text">Active Directory 或 PingFederate 的响应包括用户的通用唯一标识符（ UUID ）。</block>
  <block id="1de9e3f88f8c7e03ac70c785e1c820fc" category="list-text">Azure 的响应包括用户主体名称（ UPN ）。</block>
  <block id="9b0af8c0cd97298ffd3542d393ee8ff9" category="paragraph">要允许 StorageGRID （服务提供商）和 SSO 身份提供程序就用户身份验证请求进行安全通信，您必须在 StorageGRID 中配置某些设置。接下来，您必须使用 SSO 身份提供程序的软件为每个管理节点创建依赖方信任（ AD FS ），企业应用程序（ Azure ）或服务提供商（ PingFederate ）。最后，您必须返回到 StorageGRID 以启用 SSO 。</block>
  <block id="d68ec61edcc24671eedd8e57d2d2b671" category="paragraph">使用沙盒模式，可以轻松执行此背面配置，并在启用 SSO 之前测试所有设置。使用沙盒模式时，用户无法使用 SSO 登录。</block>
  <block id="c4b678394f02a35559ef7f65322d0527" category="section-title">访问沙盒模式</block>
  <block id="634b34986db1e19fa3fbbc9794253300" category="list-text">选择 * 配置 * &gt; * 访问控制 * &gt; * 单点登录 * 。</block>
  <block id="8bb91545f17649924eb187fb4702e167" category="paragraph">此时将显示 Single Sign-On 页面，并选择 * 已禁用 * 选项。</block>
  <block id="b09b64d514f512789859e3d67b582b73" category="image-alt">已禁用 SSO 状态的单点登录页面</block>
  <block id="9e6fdc12fd0f11b8f355520c506884c7" category="admonition">如果未显示 SSO 状态选项，请确认您已将身份提供程序配置为联合身份源。请参见 <block ref="d4bf250bdd7ae0a618628aa234c674c5" category="inline-xref-macro-rx"></block>。</block>
  <block id="a87d6466fc809a61e2ad8f7cf3436f90" category="list-text">选择 * 沙盒模式 * 。</block>
  <block id="aa57e7ab4d30ea0c078945894f9486fe" category="paragraph">此时将显示 "Identity Provider" 部分。</block>
  <block id="022eeded39d0ebaf1e89861c4c146079" category="section-title">输入身份提供程序详细信息</block>
  <block id="abf264542bbc4c6be79ae71cc70f0d5b" category="list-text">从下拉列表中选择 * SSO 类型 * 。</block>
  <block id="2d8c22bbd657cd95d091f39b2ae27533" category="list-text">根据您选择的 SSO 类型填写身份提供程序部分中的字段。</block>
  <block id="a385ac7ecb29a094a6dbea9b40aa1797" category="list-text">输入身份提供程序的 * 联合服务名称 * ，与 Active Directory 联合身份验证服务（ AD FS ）中显示的名称完全相同。</block>
  <block id="440cf30ad14def7553554698c1c214e2" category="admonition">要查找联合服务名称，请转到 Windows Server Manager 。选择 * 工具 * &gt; * AD FS 管理 * 。从操作菜单中，选择 * 编辑联合身份验证服务属性 * 。联合服务名称显示在第二个字段中。</block>
  <block id="aacb99f397b6a5964d8e8d9508a962ac" category="list-text">指定当身份提供程序响应 StorageGRID 请求发送 SSO 配置信息时，将使用哪个 TLS 证书来保护连接安全。</block>
  <block id="59df434f027563cf713c413e89f50c62" category="list-text">* 使用操作系统 CA 证书 * ：使用操作系统上安装的默认 CA 证书确保连接安全。</block>
  <block id="b7776a23f71c2e39505382c87bcc68b2" category="list-text">* 使用自定义 CA 证书 * ：使用自定义 CA 证书确保连接安全。</block>
  <block id="92ac3cbb2a142c59efa5ffacf37886d5" category="paragraph">如果选择此设置，请复制自定义证书的文本并将其粘贴到 * CA 证书 * 文本框中。</block>
  <block id="35f27d4bcbb63fd7d672458a70aa102e" category="list-text">* 请勿使用 TLS* ：请勿使用 TLS 证书来保护连接。</block>
  <block id="4939d2c81c655fe1bb3cca832941f7ba" category="list-text">在依赖方部分中，指定 StorageGRID 的 * 依赖方标识符 * 。此值控制 AD FS 中每个依赖方信任所使用的名称。</block>
  <block id="bde0e413b626ae7454306094160aecfe" category="list-text">例如，如果您的网格只有一个管理节点，并且您预计将来不会添加更多管理节点，请输入 `SG` 或 `StorageGRID` 。</block>
  <block id="691e083c5942871d66a12ad6876a646d" category="list-text">如果网格包含多个管理节点，请在标识符中包含字符串 ` HOSTNAME]` 。例如， `SG-[HOSTNAME]` 。此时将生成一个表，其中根据节点的主机名显示系统中每个管理节点的依赖方标识符。</block>
  <block id="44c25ab7454dd996818118bafb9e4c23" category="image-alt">单点登录</block>
  <block id="a451bc81d43bd9c4cb2397cf5d9cb425" category="admonition">您必须为 StorageGRID 系统中的每个管理节点创建依赖方信任。对每个管理节点拥有依赖方信任，可确保用户可以安全地登录和注销任何管理节点。</block>
  <block id="d21097fbb13236c7c816d1c8f1276a38" category="paragraph">绿色复选标记将在 * 保存 * 按钮上显示几秒钟。</block>
  <block id="41670d238accf8bbb61ea2fcfbba2383" category="image-alt">带有绿色复选标记的保存按钮</block>
  <block id="940405f3bb61d77622c465ce3765a0ae" category="list-text">在企业应用程序部分中，为 StorageGRID 指定 * 企业应用程序名称 * 。此值控制 Azure AD 中每个企业应用程序使用的名称。</block>
  <block id="f0416c748001104a884292ba7615ca2a" category="list-text">如果网格包含多个管理节点，请在标识符中包含字符串 ` HOSTNAME]` 。例如， `SG-[HOSTNAME]` 。此时将生成一个表，其中根据节点的主机名显示系统中每个管理节点的企业应用程序名称。</block>
  <block id="52841ad89be37432e9d5ebf0754888cb" category="admonition">您必须为 StorageGRID 系统中的每个管理节点创建一个企业级应用程序。为每个管理节点配备一个企业级应用程序可确保用户可以安全地登录和注销任何管理节点。</block>
  <block id="7c2f0332f9429524ecec45ecb5a7808e" category="inline-xref-macro">在 Azure AD 中创建企业级应用程序</block>
  <block id="d3b842de477c4002ea51b23f836f662f" category="list-text">按照中的步骤进行操作 <block ref="bc41269684e39cbe52872df5b751dbc3" category="inline-xref-macro-rx"></block> 为表中列出的每个管理节点创建企业级应用程序。</block>
  <block id="9d02e758d45d2bdbd0fde131a50d8176" category="list-text">从 Azure AD 中，复制每个企业应用程序的联合元数据 URL 。然后，将此 URL 粘贴到 StorageGRID 中相应的 * 联合元数据 URL* 字段中。</block>
  <block id="34fa88a359a8938782b5c73cd399064a" category="list-text">复制并粘贴所有管理节点的联合元数据 URL 后，选择 * 保存 * 。</block>
  <block id="79abb4ab736e8343eaab1d19c8ae056a" category="list-text">在服务提供商（ SP ）部分中，为 StorageGRID 指定 * SP 连接 ID* 。此值控制 PingFederate 中每个 SP 连接使用的名称。</block>
  <block id="be18abbbc462a7d3ca01bc101763f934" category="list-text">如果网格包含多个管理节点，请在标识符中包含字符串 ` HOSTNAME]` 。例如， `SG-[HOSTNAME]` 。此时将生成一个表，其中根据节点的主机名显示系统中每个管理节点的 SP 连接 ID 。</block>
  <block id="9482f50f5530dceb07030303ec9284b4" category="admonition">您必须为 StorageGRID 系统中的每个管理节点创建一个 SP 连接。为每个管理节点建立 SP 连接可确保用户可以安全地登录和注销任何管理节点。</block>
  <block id="0e320f40a78ee5a23e12ccc3d02ec744" category="list-text">在 * 联合元数据 URL* 字段中指定每个管理节点的联合元数据 URL 。</block>
  <block id="661fa7f53f6bea71260ceac9e256c1b6" category="paragraph">请使用以下格式：</block>
  <block id="77eec18cddbfef327dca7d19b66756e6" category="section-title">配置依赖方信任，企业应用程序或 SP 连接</block>
  <block id="a48a87deee4964b3b4418748723cd446" category="paragraph">保存配置后，将显示沙盒模式确认通知。此通知用于确认沙盒模式现已启用，并提供了概述说明。</block>
  <block id="c2cc951b8d6b515721ae009088e56fee" category="paragraph">只要需要， StorageGRID 就可以保持沙盒模式。但是，如果在 Single Sign-On 页面上选择了 * 沙盒模式 * ，则所有 StorageGRID 用户都将禁用 SSO 。只有本地用户才能登录。</block>
  <block id="b88b96dc0da61560c54ef963aadd8923" category="paragraph">按照以下步骤配置依赖方信任（ Active Directory ），完整的企业应用程序（ Azure ）或配置 SP 连接（ PingFederate ）。</block>
  <block id="1e0b5d6ed133e1781dff5982138720c8" category="list-text">转至 Active Directory 联合身份验证服务（ AD FS ）。</block>
  <block id="83a80f739a1f5bca84e04bb6a41a26a4" category="list-text">使用 StorageGRID 单点登录页面上的表中所示的每个依赖方标识符为 StorageGRID 创建一个或多个依赖方信任。</block>
  <block id="8315d36db6a90c7daa3f44941a28d7ae" category="paragraph">您必须为表中所示的每个管理节点创建一个信任。</block>
  <block id="36db1ab99cfe4a5e066255e71d2b4286" category="inline-xref-macro">在 AD FS 中创建依赖方信任</block>
  <block id="ac763e7cfaae8a57bdeb1397e2f42834" category="paragraph">有关说明，请转至 <block ref="258eea0707b552f4c4d34c2ee89e94df" category="inline-xref-macro-rx"></block>。</block>
  <block id="0ab7db22b8a44baf52462d3d391397a9" category="list-text">从当前登录到的管理节点的单点登录页面中，选择按钮以下载并保存 SAML 元数据。</block>
  <block id="a490159da15a84f1d8145cebbeb98325" category="list-text">然后，对于网格中的任何其他管理节点，重复以下步骤：</block>
  <block id="15acc0ba80f9dfdcb94d7a5282bce1de" category="list-text">登录到节点。</block>
  <block id="fc9981325613c5a8613a28a5c10e63c3" category="list-text">下载并保存该节点的 SAML 元数据。</block>
  <block id="55b19be672acb5a49709b0351e45cbc1" category="list-text">转到 Azure 门户。</block>
  <block id="72994c97db872319205dba5202aed4a4" category="list-text">按照中的步骤进行操作 <block ref="bc41269684e39cbe52872df5b751dbc3" category="inline-xref-macro-rx"></block> 将每个管理节点的 SAML 元数据文件上传到其对应的 Azure 企业应用程序中。</block>
  <block id="5d2c05b2332872e881328a01f4f3b1fc" category="list-text">转到 PingFederate 。</block>
  <block id="f55597dc58c91db2c28a3110f314d5bc" category="inline-xref-macro">为 StorageGRID 创建一个或多个服务提供商（ SP ）连接</block>
  <block id="1391ce0715f1912db7200e83db75589b" category="list-text"><block ref="aa664c207d4223c8d870f8c8d134d61d" category="inline-xref-macro-rx"></block>。使用每个管理节点的 SP 连接 ID （如 StorageGRID 单点登录页面上的表所示）以及为该管理节点下载的 SAML 元数据。</block>
  <block id="fdb10fd8d28d28c1c2cea56dee47be69" category="paragraph">您必须为表中所示的每个管理节点创建一个 SP 连接。</block>
  <block id="a1ce3870c5226b2b94a937dfb0e220d4" category="section-title">测试 SSO 连接</block>
  <block id="d045169775d1a2cf50047b5098329893" category="paragraph">在对整个 StorageGRID 系统强制使用单点登录之前，您应确认已为每个管理节点正确配置单点登录和单点注销。</block>
  <block id="9477740c3f1adbf98dcff533650195ec" category="list-text">在 StorageGRID 单点登录页面中，找到沙盒模式消息中的链接。</block>
  <block id="8e7bc66649dc4f71b994dd495e5835df" category="paragraph">此 URL 是从您在 * 联合服务名称 * 字段中输入的值派生的。</block>
  <block id="299345c957977d9c86e071471846d0da" category="image-alt">身份提供程序登录页面的 URL</block>
  <block id="2d35a1547573aab044d3a062a375b0f2" category="list-text">选择此链接，或者将此 URL 复制并粘贴到浏览器中，以访问身份提供程序的登录页面。</block>
  <block id="852725419a83874fc993175cf6c14d76" category="list-text">要确认您可以使用 SSO 登录到 StorageGRID ，请选择 * 登录到以下站点之一 * ，选择主管理节点的依赖方标识符，然后选择 * 登录 * 。</block>
  <block id="93c19016ebd14e49b98382acd696c2f5" category="image-alt">在 SSO 沙盒模式下测试依赖方信任</block>
  <block id="ae0afee7739d78bd9e16577dc876f39a" category="list-text">输入您的联合用户名和密码。</block>
  <block id="d8755066b5027989abdc23fc4493013c" category="list-text">如果 SSO 登录和注销操作成功，则会显示一条成功消息。</block>
  <block id="e75a4f0ef4d6c457d13b5ee357642416" category="image-alt">SSO 身份验证和注销测试成功消息</block>
  <block id="8a58ab11cd98fc0c82d413c94042fb1b" category="list-text">如果 SSO 操作失败，则会显示一条错误消息。修复问题描述 ，清除浏览器的 Cookie 并重试。</block>
  <block id="0b56dfbe0549f8a2006dc9e1e263b688" category="list-text">重复上述步骤，验证网格中每个管理节点的 SSO 连接。</block>
  <block id="7e3d9019fe5b92007a160825279f83db" category="list-text">转到 Azure 门户中的单点登录页面。</block>
  <block id="1cdb1ccd4d39b1d8344df476097a548b" category="list-text">选择 * 测试此应用程序 * 。</block>
  <block id="de4c4e6723cb007baa0c131ad7a34132" category="list-text">输入联合用户的凭据。</block>
  <block id="813c77607f4921434a174bfe19367499" category="list-text">从 StorageGRID 单点登录页面中，选择沙盒模式消息中的第一个链接。</block>
  <block id="fe585dce3e8cab4700d1fd8c18f7727c" category="paragraph">一次选择并测试一个链路。</block>
  <block id="2bddc839384c48425c81817b27b9385d" category="list-text">选择下一个链接以验证网格中每个管理节点的 SSO 连接。</block>
  <block id="b0d9e1bfe274b8825959b90a0b9cd095" category="paragraph">如果您看到页面已过期消息，请在浏览器中选择 * 返回 * 按钮，然后重新提交您的凭据。</block>
  <block id="c5d3fab51c59bb1cae5762e4c1cc8cfa" category="section-title">启用单点登录</block>
  <block id="bc58c638d0e2ef36687fdc77c356ce71" category="paragraph">确认可以使用 SSO 登录到每个管理节点后，您可以为整个 StorageGRID 系统启用 SSO 。</block>
  <block id="235991e93f4af28dc4edd6ddba62630f" category="admonition">启用 SSO 后，所有用户都必须使用 SSO 访问网格管理器，租户管理器，网格管理 API 和租户管理 API 。本地用户无法再访问 StorageGRID 。</block>
  <block id="d20c850085e42e51d24b7c5d1fe65184" category="list-text">将 SSO 状态更改为 * 已启用 * 。</block>
  <block id="20a4005f9de85313661ff3cecfa99d40" category="list-text">查看警告消息，然后选择 * 确定 * 。</block>
  <block id="5298a057b963a7714257280ac5e2bd08" category="paragraph">现在，已启用单点登录。</block>
  <block id="f8defc53537ba3c73c1b210cc315a5b9" category="admonition">如果您使用的是 Azure 门户，并且从用于访问 Azure 的同一计算机访问 StorageGRID ，请确保 Azure 门户用户也是授权的 StorageGRID 用户（已导入到 StorageGRID 的联合组中的用户） 或者，在尝试登录到 StorageGRID 之前，请先从 Azure 门户中注销。</block>
  <block id="8000d36339ddb22101d79b4b8b7d37cc" category="summary">如果归档节点通过 S3 API 连接到归档存储系统，则可以重置存储故障计数，此计数可用于清除 ARVF （存储故障）警报。</block>
  <block id="5e5de3bffcb7b30f3613a476a57af196" category="doc">重置 S3 API 连接的存储故障计数</block>
  <block id="17a913b72577dd5c61a9152e7938b216" category="paragraph">如果归档节点通过 S3 API 连接到归档存储系统，则可以重置存储故障计数，此计数可用于清除 ARVF （存储故障）警报。</block>
  <block id="da471f28db96de2f2cdd92e2fc63ae02" category="list-text">选择 * ：归档节点 _* &gt; * 。 ARR* &gt; * 存储 * 。</block>
  <block id="ecbb8ea9cbb007c408cd3efdb29eb04a" category="image-alt">配置 S3 API 连接的存储设置</block>
  <block id="a13e5e50790a0f4780d4e0fd1e3ded86" category="list-text">选择 * 重置存储故障计数 * 。</block>
  <block id="3e044d16b33d985d879050f8e735cc70" category="paragraph">存储故障属性重置为零。</block>
  <block id="831edd66137b4cb3e58e84fdce8dd27a" category="summary">如果要确保在对象存储受到影响时无法以可读形式检索数据，则可以对存储的对象进行加密。默认情况下，对象不会加密。</block>
  <block id="08aaa54d9f9c403edefab215ea6580be" category="doc">配置存储的对象加密</block>
  <block id="9ccedf436a03619d783a7c95dfbd2cfc" category="paragraph">存储的对象加密可对通过 S3 或 Swift 载入的所有对象数据进行加密。启用此设置后，所有新载入的对象都将被加密，但不会对现有存储的对象进行任何更改。如果禁用加密，则当前加密的对象将保持加密状态，但新载入的对象不会加密。</block>
  <block id="8aa11c92a5e0a76fcc5902b2996ea4dc" category="admonition">如果更改此设置，则应用新设置需要大约一分钟的时间。已配置的值将进行缓存以提高性能和扩展能力。</block>
  <block id="76c490b730bcab3ab57ae54bb5bb967b" category="paragraph">存储的对象可以使用 AES‐128 或 AES‐256 加密算法进行加密。</block>
  <block id="2e357696b36980ebf816b84e2d90f703" category="paragraph">存储对象加密设置仅适用于尚未通过存储分段级别或对象级别加密进行加密的 S3 对象。</block>
  <block id="dda3af772327885c934eabfba3f5e34e" category="list-text">在存储的对象选项部分中，将存储的对象加密更改为 * 无 * （默认）， * AES-128* 或 * AES-256* 。</block>
  <block id="59e2fd5769f78e7f7bb29fe1b74fc8f4" category="image-alt">存储对象加密</block>
  <block id="4792ba92038635e62235c1b519f88844" category="summary">对象分段是指将对象拆分成一组固定大小的较小对象，以优化大型对象的存储和资源使用量的过程。S3 多部分上传还会创建分段对象，其中每个部分都有一个对象。</block>
  <block id="e7839d9bb0a256965fb5ddf64510d9c2" category="doc">什么是对象分段？</block>
  <block id="44064194df06fe4e0a7c72935009b759" category="paragraph">将对象载入 StorageGRID 系统后， LDR 服务会将该对象拆分为多个区块，并创建一个区块容器，其中会将所有区块的标题信息列为内容。</block>
  <block id="1d78826b2bdb4ac4913d28faa50b954e" category="image-alt">对象细分工作流</block>
  <block id="a1563dee24b9a94a56345b66f3553195" category="paragraph">检索分段容器时， LDR 服务会从其分段中汇集原始对象并将该对象返回给客户端。</block>
  <block id="68e29b09aabda311305e428c60e6cb7b" category="paragraph">容器和分段不一定存储在同一个存储节点上。容器和分段可以存储在 ILM 规则中指定的存储池中的任何存储节点上。</block>
  <block id="b476824c1eb7a9441ca268db480f106f" category="paragraph">StorageGRID 系统会单独处理每个区块，并计入受管对象和存储对象等属性的数量。例如，如果存储在 StorageGRID 系统中的对象拆分为两个区块，则在载入完成后，受管对象的值将增加三个，如下所示：</block>
  <block id="ea6f38494bae41db8b8356e816b21c54" category="paragraph">分段容器 + 分段 1 + 分段 2 = 三个已存储对象</block>
  <block id="5670a55c2d12bd097067f67c1b0cd57d" category="paragraph">您可以通过确保以下各项来提高处理大型对象时的性能：</block>
  <block id="c50246874f3ef5fe33cd7e0c1130e3a0" category="list-text">每个网关和存储节点都有足够的网络带宽来满足所需的吞吐量。例如，在 10 Gbps 以太网接口上配置单独的网格网络和客户端网络。</block>
  <block id="ed054a2dcbaebcd3d01c379b58edff56" category="list-text">已部署足够多的网关和存储节点以满足所需的吞吐量。</block>
  <block id="d3fcb3d6f73f0ae669c254c8987e0707" category="list-text">每个存储节点都具有足够的磁盘 IO 性能来满足所需的吞吐量。</block>
  <block id="94703b3b85ecb9630c6cbaa25ff4e0c5" category="summary">负载平衡器端点决定了 S3 和 Swift 客户端在连接到网关和管理节点上的 StorageGRID 负载平衡器时可以使用的端口和网络协议。</block>
  <block id="f9d68b8e69c6ccfbb1474090a87c9d9f" category="paragraph">负载平衡器端点决定了 S3 和 Swift 客户端在连接到网关和管理节点上的 StorageGRID 负载平衡器时可以使用的端口和网络协议。</block>
  <block id="34b23c34e4cd00fbdd3cbb7976382cbd" category="inline-xref-macro">已删除端口重新映射</block>
  <block id="21d411724053125e905553eceeb702a9" category="list-text">如果您先前已重新映射要用于负载平衡器端点的端口，则表示您已重新映射 <block ref="1c63827efde8d96fd8f638650e4148ec" category="inline-xref-macro-rx"></block>。</block>
  <block id="b38c338fd8591dd7ad7c17c5b4630e3e" category="list-text">您已创建计划使用的任何高可用性（ HA ）组。建议使用 HA 组，但不要求使用 HA 组。请参见 <block ref="9c623feaa0dcb8f5af8b2367745f6e76" category="inline-xref-macro-rx"></block>。</block>
  <block id="beeb513fb9d618218e39727b4ee478ce" category="inline-xref-macro">S3 Select 的 S3 租户</block>
  <block id="c3c9d1ebcc6dcd4bdec58dac1444b980" category="list-text">负载平衡器端点是否将由使用 <block ref="83d8853b3839a5283707164bc4ada78d" category="inline-xref-macro-rx"></block>，不能使用任何裸机节点的 IP 地址或 FQDN 。用于 S3 Select 的负载平衡器端点仅允许使用 SG100 或 SG1000 设备以及基于 VMware 的软件节点。</block>
  <block id="e5d3aa48e2d64ac8853a639ba2652dae" category="list-text">您已配置计划使用的任何 VLAN 接口。请参见 <block ref="6461ea59f2881d84137e9e49be65484f" category="inline-xref-macro-rx"></block>。</block>
  <block id="a42efe9c31db0c24a4b7c6fb8ff63690" category="list-text">如果要创建 HTTPS 端点（建议），则您具有服务器证书的信息。</block>
  <block id="94a5813a7bce919e5d661da4301af289" category="list-text">要上传证书，您需要服务器证书，证书专用密钥以及 CA 捆绑包（可选）。</block>
  <block id="8d0cd1507ca6c20fa22f790f03c0fb1c" category="list-text">要生成证书，您需要 S3 或 Swift 客户端用于访问此端点的所有域名和 IP 地址。您还必须知道主题（可分辨名称）。</block>
  <block id="8aeb33b3aa2028be086e7555c781003e" category="inline-xref-macro">配置 S3 和 Swift API 证书</block>
  <block id="990b5d1a8614228963e97c0689332693" category="list-text">如果要使用 StorageGRID S3 和 Swift API 证书（也可用于直接连接到存储节点），则已将默认证书替换为由外部证书颁发机构签名的自定义证书。请参见<block ref="17adaf7f02e4354c48992ae43fc71293" category="inline-xref-macro-rx"></block>。</block>
  <block id="71d158ff68bd3031a9dcc469db4fc15d" category="paragraph">此证书可以使用通配符表示运行负载平衡器服务的所有管理节点和网关节点的完全限定域名。例如， ` * .storagegrid._example_.com` 使用 * 通配符表示 `adm1.storagegrid._example_.com` 和 `gn1.storagegrid._example_.com` 。请参见 <block ref="520d9c39bfcabf8e1611f52fec61fbd1" category="inline-xref-macro-rx"></block>。</block>
  <block id="e9314c563d64ffa83517806d8bc55185" category="section-title">创建负载平衡器端点</block>
  <block id="f9b79b515843f7f6c38732bd122e606a" category="paragraph">每个负载平衡器端点都指定一个端口，一个客户端类型（ S3 或 Swift ）和一个网络协议（ HTTP 或 HTTPS ）。</block>
  <block id="a992ebe3aabf4930fea1b87767d7275f" category="section-title">访问向导</block>
  <block id="2e52064d220559cb84f695229ae28068" category="section-title">输入端点详细信息</block>
  <block id="ec21c0575c3c7c0f85dd9db683876da0" category="list-text">输入端点的详细信息。</block>
  <block id="9ab7363ece7c80507b6e56b5514a1607" category="paragraph">端点的描述性名称，将显示在负载平衡器端点页面的表中。</block>
  <block id="c53afee56492bb5f1cf8bd777aa1f72c" category="paragraph">端口客户端将使用连接到管理节点和网关节点上的负载平衡器服务。</block>
  <block id="38a9e2e4fc8914050022b591222ef651" category="paragraph">接受建议的端口号或输入其他网格服务未使用的任何外部端口。输入一个介于 1 到 65535 之间的值。</block>
  <block id="79e5d007139247552cd51dcf5bae8584" category="paragraph">如果输入 * 。 80* 或 * 。 443* ，则仅在网关节点上配置端点。这些端口在管理节点上预留。</block>
  <block id="7941dcdee97e54fa19f7b491563d4af2" category="paragraph">请参见 <block ref="e1bf2b8082914814aefb3dd546569f4d" category="inline-xref-macro-rx"></block> 有关外部端口的信息。</block>
  <block id="c9a9943ff5914d87da3b9127fc8f1d19" category="paragraph">要使用此端点的客户端应用程序类型，可以是 * S3 或 * Swift* 。</block>
  <block id="9299449ddb4ed75ef05f49581e13ca79" category="paragraph">客户端在连接到此端点时将使用的网络协议。</block>
  <block id="5d068218cf32fbc51711f45fff914ad7" category="list-text">选择 * HTTPS * 可进行安全的 TLS 加密通信（建议）。您必须附加安全证书，然后才能保存此端点。</block>
  <block id="6957557d06ea809a9b56e4a11e4108c6" category="list-text">选择 * HTTP * 可实现不太安全的未加密通信。对于非生产网格，请仅使用 HTTP 。</block>
  <block id="e13cc65a974f9ed81ece0a77b971ab4f" category="section-title">选择绑定模式</block>
  <block id="e8a5a96b340f6dd405fb73584234b168" category="list-text">为端点选择绑定模式以控制端点的访问方式。</block>
  <block id="bd3e1125c468a17520ced8d49a037332" category="paragraph">全局（默认）</block>
  <block id="a0570b99644bc4ece789b5995b501899" category="paragraph">客户端可以使用完全限定域名（ FQDN ），任何网关节点或管理节点的 IP 地址或任何网络上任何 HA 组的虚拟 IP 地址来访问此端点。</block>
  <block id="dc1a79ea22893ff23d3c7ebac9f4f22e" category="paragraph">除非需要限制此端点的可访问性，否则请使用 * 全局 * 设置（默认）。</block>
  <block id="6555fdfdcd33967aa9edc1deadb4a99a" category="paragraph">节点接口</block>
  <block id="fb78eae9955798be61abc14380f95e3d" category="paragraph">客户端必须使用选定节点的 IP 地址和网络接口来访问此端点。</block>
  <block id="a45d07f9b6c29b6d29394fe3aefba67c" category="paragraph">HA 组的虚拟 IP</block>
  <block id="964a90b6fd4e3d77066fe80fbf51e6c7" category="paragraph">客户端必须使用 HA 组的虚拟 IP 地址来访问此端点。</block>
  <block id="c17f05ba10fc8ef7ccea28e5407ec1ef" category="paragraph">只要为端点选择的 HA 组不重叠，具有此绑定模式的端点都可以使用相同的端口号。</block>
  <block id="345675b43c1d77675a7fc9f33ecb07c5" category="paragraph">只要您为端点选择的接口不重叠，采用此模式的端点都可以使用相同的端口号。</block>
  <block id="72567a5f980224855328bb96e5506c71" category="admonition">如果对多个端点使用同一端口，则使用 * HA 组的虚拟 IP * 模式的端点将覆盖使用 * 节点接口 * 模式的端点，而此模式将覆盖使用 * 全局 * 模式的端点。</block>
  <block id="0c2a14893e0ed66a33b16f0e4b9bc7f4" category="list-text">如果选择了 * 节点接口 * ，请为要与此端点关联的每个管理节点或网关节点选择一个或多个节点接口。</block>
  <block id="bb458ceb2209700e3bf885fe64dc1eb9" category="image-alt">端点节点接口绑定模式</block>
  <block id="698d38f1c7488310155709e30434ac36" category="list-text">如果选择了 * HA 组的虚拟 IP * ，请选择一个或多个 HA 组。</block>
  <block id="82db619d3c0c4c7a07397198ae36526c" category="image-alt">端点 HA 组 VIP 绑定模式</block>
  <block id="f74af593f0cb54ae177cb0f72bbf828a" category="list-text">如果要创建 * HTTP * 端点，则不需要附加证书。选择 * 创建 * 以添加新的负载平衡器端点。然后，转到 <block ref="b0740ecbddb308626e885b672486ec15" category="inline-xref-macro-rx"></block>。否则，请选择 * 继续 * 以附加证书。</block>
  <block id="fae6ec1a06e87ef688b3d0c496a09fab" category="section-title">附加证书</block>
  <block id="0679a96f841bfbff7c7bd868374235d8" category="list-text">如果要创建 * HTTPS * 端点，请选择要附加到该端点的安全证书类型。</block>
  <block id="773337ac4ae1dc291cd7fe137591d6b5" category="paragraph">此证书可保护 S3 和 Swift 客户端之间的连接以及管理节点或网关节点上的负载平衡器服务。</block>
  <block id="52c4726aa914670907bf1c2fcbf2699a" category="list-text">* 上传证书 * 。如果您要上传自定义证书，请选择此选项。</block>
  <block id="93ab19337647ca6d174e12789ef14e1b" category="list-text">* 生成证书 * 。如果您具有生成自定义证书所需的值，请选择此选项。</block>
  <block id="dbea0169cb93603555c2f2ff436df6f9" category="list-text">* 使用 StorageGRID S3 和 Swift 证书 * 。如果要使用全局 S3 和 Swift API 证书，则选择此选项，此证书也可用于直接连接到存储节点。</block>
  <block id="b7f610b82d90692386086b07f26ae558" category="paragraph">除非已将由网格 CA 签名的默认 S3 和 Swift API 证书替换为由外部证书颁发机构签名的自定义证书，否则无法选择此选项。请参见<block ref="17adaf7f02e4354c48992ae43fc71293" category="inline-xref-macro-rx"></block>。</block>
  <block id="ec206428912fb69fa0feaa3b13c2ee7d" category="list-text">如果您未使用 StorageGRID S3 和 Swift 证书，请上传或生成此证书。</block>
  <block id="7c05006854ac47f2b94debe9856b3474" category="open-title">上传证书</block>
  <block id="ccfd19772ea1a0372c837cc85eb38940" category="list-text">选择 * 上传证书 * 。</block>
  <block id="868904e73b9fe9a8cb8a365b23dd8001" category="list-text">上传所需的服务器证书文件：</block>
  <block id="6374572a8d279bed99f8af3ca8448cd9" category="list-text">* 服务器证书 * ： PEM 编码的自定义服务器证书文件。</block>
  <block id="02a4cfcb921f7dfb64e9ad8dfb50a27c" category="list-text">* 证书专用密钥 * ：自定义服务器证书专用密钥文件（` 。 key` ）。</block>
  <block id="511efc84507c529ccba435590dda966b" category="admonition">EC 专用密钥必须大于或等于 224 位。RSA 私钥必须大于或等于 2048 位。</block>
  <block id="a2c34fbb3123d1f5df75cf947c53398f" category="list-text">* CA bundle* ：一个可选文件，其中包含来自每个中间颁发证书颁发机构（ CA ）的证书。此文件应包含 PEM 编码的每个 CA 证书文件，并按证书链顺序串联。</block>
  <block id="000e13310a3151661cba3675e1966216" category="list-text">展开 * 证书详细信息 * 以查看您上传的每个证书的元数据。如果您上传了可选的 CA 包，则每个证书都会显示在其自己的选项卡上。</block>
  <block id="8ac5ae52baa0f8fa0ecbc188f984444f" category="list-text">选择 * 下载证书 * 以保存证书文件，或者选择 * 下载 CA 捆绑包 * 以保存证书捆绑包。</block>
  <block id="749b615224c008d679f443d3646aa2db" category="paragraph">指定证书文件名和下载位置。使用扩展名 ` .pem` 保存文件。</block>
  <block id="a5bd490dcec705000a15483fcda9a1b4" category="paragraph">例如： `storagegRid_certificate.pem`</block>
  <block id="e618bab18c2e7d13134e8eccac18c7e0" category="list-text">选择 * 复制证书 PEM* 或 * 复制 CA 捆绑包 PEM* ，将证书内容复制到其他位置进行粘贴。</block>
  <block id="49c8636a4bc74c001a8b713e0fc7416b" category="list-text">选择 * 创建 * 。+ 已创建负载平衡器端点。自定义证书用于 S3 和 Swift 客户端与端点之间的所有后续新连接。</block>
  <block id="04257483421fee18fec318c20e7386b4" category="open-title">生成证书</block>
  <block id="cb8ff25abd73e27087cb82265dc80ba3" category="list-text">选择 * 生成证书 * 。</block>
  <block id="da7021784fa793aa5e36a41a52ce0dab" category="list-text">指定证书信息：</block>
  <block id="45cf6beb66463f8ebeaed096b0848195" category="list-text">* 域名 * ：要包含在证书中的一个或多个完全限定域名。使用 * 作为通配符表示多个域名。</block>
  <block id="fab47a0e500c229c94022d8f4d94d746" category="list-text">* IP * ：要包含在证书中的一个或多个 IP 地址。</block>
  <block id="ed8b60abce86f6e68dd92617344f9c39" category="list-text">* 主题 * ：证书所有者的 X.509 主题或可分辨名称（ DN ）。</block>
  <block id="8cbfb0b7acefa746757e9a9e94bdbba1" category="list-text">* 有效天数 * ：创建证书后的天数到期。</block>
  <block id="c67e909aabe72e49f90ee7cbe67386f3" category="list-text">选择 * 生成 * 。</block>
  <block id="2b53e6bcdb289e676dfdd451e07c0a25" category="list-text">选择 * 证书详细信息 * 可查看生成的证书的元数据。</block>
  <block id="3b9c44573a57de38bd0615279c48c7c6" category="list-text">选择 * 下载证书 * 以保存证书文件。</block>
  <block id="535711740f9654cde0a5ba7774707f54" category="list-text">选择 * 复制证书 PEM* 将证书内容复制到其他位置进行粘贴。</block>
  <block id="b792584d0a761fa372c4b931752e8cbd" category="paragraph">此时将创建负载平衡器端点。自定义证书用于 S3 和 Swift 客户端与此端点之间的所有后续新连接。</block>
  <block id="eb41be383d8dc338f3cb732cec4566ab" category="list-text">如果您使用域名系统（ DNS ），请确保 DNS 包含一条记录，以便将 StorageGRID 完全限定域名与客户端用于建立连接的每个 IP 地址相关联。</block>
  <block id="1e49ee9e0fc8ef0d5c6ccff4734b4163" category="list-text">如果已配置 HA 组，则客户端将连接到该 HA 组的虚拟 IP 地址。</block>
  <block id="712868af3f9bec1a0e1e602a452d7856" category="list-text">如果您不使用 HA 组，则客户端将使用任何网关节点或管理节点的 IP 地址连接到 StorageGRID 负载平衡器服务。</block>
  <block id="4012fe36971835a32c3571537b438cf2" category="list-text">为 S3 和 Swift 客户端提供连接到端点所需的信息：</block>
  <block id="f92d8a9d6542ee6a4e661a28d977f622" category="list-text">端口号</block>
  <block id="4074f555178453e0a64cd16706322ab6" category="list-text">完全限定域名或 IP 地址</block>
  <block id="6d062a73381eda280b912086780db2e0" category="list-text">任何必需的证书详细信息</block>
  <block id="aa97bdc4b73e8d5bbf42989272ad338f" category="section-title">查看和编辑负载平衡器端点</block>
  <block id="5fa96a5c31e63ab09bf2d379524877d7" category="paragraph">您可以查看现有负载平衡器端点的详细信息，包括安全端点的证书元数据。您还可以更改端点的名称或绑定模式，并更新任何关联的证书。</block>
  <block id="6691c8c79e91bbd1786362727e6e09ef" category="paragraph">您不能更改服务类型（ S3 或 Swift ），端口或协议（ HTTP 或 HTTPS ）。</block>
  <block id="7a9e46b2bf5e8b8e96ce7c3606afa3b2" category="list-text">要查看所有负载平衡器端点的基本信息，请查看负载平衡器端点页面上的表。</block>
  <block id="ce4f74cacb252886181f1651c3053362" category="image-alt">负载平衡器端点表</block>
  <block id="f06b8960fc5d0bcde0d6b6979379abc8" category="list-text">要查看有关特定端点的所有详细信息，包括证书元数据，请在表中选择端点的名称。</block>
  <block id="60575554ac9ee5dd77b467f1a88fc5af" category="image-alt">负载平衡器端点详细信息</block>
  <block id="761e32d5f087396bdae363ba98b05072" category="list-text">要编辑端点，请使用负载平衡器端点页面上的 * 操作 * 菜单或特定端点的详细信息页面。</block>
  <block id="983dfaca49b89eeb850104671c4df746" category="admonition">编辑端点后，您可能需要等待长达 15 分钟，才能将所做的更改应用于所有节点。</block>
  <block id="2bc00827cd9049f4e8e5340fc926c2d5" category="cell">操作菜单</block>
  <block id="578f2be92e5c72e5eee6db5a021923cb" category="cell">详细信息页面</block>
  <block id="84ddcf4a778e6cf6f2fa82883051e7d6" category="paragraph">编辑端点名称</block>
  <block id="3b346df8394204a1332d4b4b3244da0e" category="list-text">选中端点对应的复选框。</block>
  <block id="5b17735f8ed13d6938ca64a560f13ad4" category="list-text">选择 * 操作 * &gt; * 编辑端点名称 * 。</block>
  <block id="21dc1187d83c65752c71e602987887c4" category="list-text">输入新名称。</block>
  <block id="b681427bf39a7a0ea41ec9971b63c563" category="list-text">选择端点名称以显示详细信息。</block>
  <block id="114e64031daf1405489e7866d0999b4c" category="list-text">选择编辑图标 <block ref="b67b468b391ab50f9ec30894cf44ee94" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="021242041fc016925603a3e557d712d1" category="paragraph">编辑端点绑定模式</block>
  <block id="ede7868cc8af947feb2a8543efe83805" category="list-text">选择 * 操作 * &gt; * 编辑端点绑定模式 * 。</block>
  <block id="b8b524b55b83ae700fe6ae6f59648d31" category="list-text">根据需要更新绑定模式。</block>
  <block id="81b0635438176bdbb3187554bb8080e4" category="list-text">选择 * 编辑绑定模式 * 。</block>
  <block id="b1af1dcc5f60d5f7d0ca45dc6546a659" category="paragraph">编辑端点证书</block>
  <block id="70c970eb5a631cf15bee2bf3cd036b4f" category="list-text">选择 * 操作 * &gt; * 编辑端点证书 * 。</block>
  <block id="1a9b89800c687dfa52555c58d846ebed" category="list-text">根据需要上传或生成新的自定义证书或开始使用全局 S3 和 Swift 证书。</block>
  <block id="cf786d80cf53f265b636eec50fd0535f" category="list-text">选择 * 证书 * 选项卡。</block>
  <block id="1b7037995e2a8ca9a76501aaf9947306" category="list-text">选择 * 编辑证书 * 。</block>
  <block id="b9e0ad175982f89cfd355d36f9e556db" category="section-title">删除负载平衡器端点</block>
  <block id="2dc2636705d2988048c38464c9459578" category="paragraph">您可以使用 * 操作 * 菜单删除一个或多个端点，也可以从详细信息页面中删除单个端点。</block>
  <block id="ed41f2d30a0818300b17130933ead582" category="admonition">为防止客户端中断，请在删除负载平衡器端点之前更新任何受影响的 S3 或 Swift 客户端应用程序。更新每个客户端以使用分配给另一个负载平衡器端点的端口进行连接。请务必同时更新所需的任何证书信息。</block>
  <block id="956ae498134c1ce83bf7728d73c9b005" category="list-text">删除一个或多个端点：</block>
  <block id="169be6ef9237edf66afd056adf326c1b" category="list-text">在负载平衡器页面中，选中要删除的每个端点对应的复选框。</block>
  <block id="9d49217b266b171b0b86b494ea85f220" category="list-text">选择 * 操作 * &gt; * 删除 * 。</block>
  <block id="c3f3cc6244515dc686dc56f79410258c" category="list-text">从详细信息页面中删除一个端点：</block>
  <block id="5454c7d9bdb173324dd453fcb22a20a9" category="list-text">从负载平衡器页面。选择端点名称。</block>
  <block id="d9b1687369e3f9ca5b9f2d099c04045c" category="list-text">在详细信息页面上选择 * 删除 * 。</block>
  <block id="417224574ae0ad471cb61e42c493f7a3" category="summary">如果您当前正在使用 Cloud Tiering - Simple Storage Service \ （ S3\ ）功能将对象数据分层到 S3 存储分段，请考虑将对象迁移到云存储池。云存储池提供了一种可扩展的方法，可利用 StorageGRID 系统中的所有存储节点。</block>
  <block id="5742fa7eff438d1a85903a16b2a7f19e" category="doc">将对象从 Cloud Tiering - S3 迁移到云存储池</block>
  <block id="36cc059efaac838963481c3d4694d59c" category="paragraph">如果您当前正在使用 * 云分层 - 简单存储服务（ S3 ） * 功能将对象数据分层到 S3 存储分段，请考虑将对象迁移到云存储池。云存储池提供了一种可扩展的方法，可利用 StorageGRID 系统中的所有存储节点。</block>
  <block id="d4cf77fc8cfbadea03fbbfedc5507252" category="list-text">您已将对象存储在为 Cloud Tiering 配置的 S3 存储分段中。</block>
  <block id="d702d3866b0caa38ea4008e71f25d7b8" category="admonition">迁移对象数据之前，请联系您的 NetApp 客户代表，了解并管理任何相关成本。</block>
  <block id="a19ad37b97097d74623a28bc1e1c607f" category="paragraph">从 ILM 角度来看，云存储池与存储池类似。但是，虽然存储池包含 StorageGRID 系统中的存储节点或归档节点，但云存储池包含一个外部 S3 存储分段。</block>
  <block id="198bb722ea6ba8c1b0b451e1ffd1ae77" category="paragraph">在将对象从 Cloud Tiering - S3 迁移到云存储池之前，必须先创建 S3 存储分段，然后在 StorageGRID 中创建云存储池。然后，您可以创建一个新的 ILM 策略，并将用于存储 Cloud Tiering 分段中对象的 ILM 规则替换为在 Cloud Storage Pool 中存储相同对象的克隆 ILM 规则。</block>
  <block id="010c426d1af8d3d90e907770e5ff9b9b" category="admonition">如果对象存储在云存储池中，则这些对象的副本也无法存储在 StorageGRID 中。如果您当前用于云分层的 ILM 规则配置为同时将对象存储在多个位置，请考虑是否仍要执行此可选迁移，因为您将丢失此功能。如果继续执行此迁移，则必须创建新规则，而不是克隆现有规则。</block>
  <block id="5b66ff62c4b9e77ce861d67b27088ced" category="list-text">创建云存储池。</block>
  <block id="5e774b1b20cc4792adec8cfd5b15b28a" category="paragraph">为云存储池使用新的 S3 存储分段，以确保其仅包含由云存储池管理的数据。</block>
  <block id="78cbf6a099d89fb09ab2b88ce71d266e" category="list-text">在活动 ILM 策略中找到要存储在云分层分段中的发生原因 对象的任何 ILM 规则。</block>
  <block id="f3b7838e515502ff71f65e3670b63a7b" category="list-text">克隆上述每个规则。</block>
  <block id="dfab6ccdbe9b1cf60cb54ae90569b0dc" category="list-text">在克隆的规则中，将放置位置更改为新的云存储池。</block>
  <block id="66a71c13337724cea2f1ce0458e36acf" category="list-text">保存克隆的规则。</block>
  <block id="512877eb76d796480d14351daed5c736" category="list-text">创建使用新规则的新策略。</block>
  <block id="432e59d1e275ba188589fa31a55ff977" category="list-text">模拟并激活新策略。</block>
  <block id="0cd7468349a8b983bb81a5e695c1a2a2" category="paragraph">激活新策略并进行 ILM 评估后，对象将从为 Cloud Tiering 配置的 S3 存储分段移动到为 Cloud Storage Pool 配置的 S3 存储分段。网格上的可用空间不受影响。将对象移至云存储池后，这些对象将从 Cloud Tiering 分段中删除。</block>
  <block id="dcbee528b3b7f59c084c0deab72febb8" category="summary">客户端证书允许授权的外部客户端访问 StorageGRID Prometheus 数据库，从而为外部工具监控 StorageGRID 提供了一种安全的方式。</block>
  <block id="6a32a1d46bf6cc637172fcbc8cb0eee7" category="doc">配置客户端证书</block>
  <block id="90985de8452bc9e5c4e41d9c56ff4050" category="paragraph">如果您需要使用外部监控工具访问 StorageGRID ，则必须使用网格管理器上传或生成管理员客户端证书，并将证书信息复制到外部工具。</block>
  <block id="c0ab7110a2c851e7e320c7ad3c3450de" category="inline-xref-macro">常规安全证书用途</block>
  <block id="32856f7081e8b2ba5c6011a20dba3bd0" category="inline-xref-macro">配置自定义服务器证书</block>
  <block id="4baa8454ecb22d0944bdabfbae0f8634" category="paragraph">请参见有关的信息 <block ref="abe60b3bcba97fcf6ef213935b1acf52" category="inline-xref-macro-rx"></block> 和 <block ref="b8d379a39c3975101e9901f324e1e448" category="inline-xref-macro-rx"></block>。</block>
  <block id="01bbf9eb43623ce7bc4735a352354c16" category="admonition">为了确保操作不会因服务器证书失败而中断，当此服务器证书即将到期时，系统将触发 " 证书 " 页面上配置的 * 客户端证书到期 " 警报。根据需要，您可以通过选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * 并在客户端选项卡上查看客户端证书的到期日期来查看当前证书的到期时间。</block>
  <block id="11b8687f707e5caa6ed2833cbf1f11c2" category="inline-xref-macro">上传 KMS 客户端证书</block>
  <block id="96085f420956fc1e0f83439e12ca1307" category="admonition">如果您使用密钥管理服务器（ KMS ）保护专门配置的设备节点上的数据，请参见有关的特定信息 <block ref="94fc6fb07ceedf8e5b49854912f3d128" category="inline-xref-macro-rx"></block>。</block>
  <block id="fb68e61e4e48005b55b034520253ac12" category="list-text">您具有 root 访问权限。</block>
  <block id="1d55cade13aae6ce40f694ccec8069bb" category="list-text">配置客户端证书：</block>
  <block id="5550c01c0b58d39a0518d4b3e3193a7c" category="list-text">您拥有管理节点的 IP 地址或域名。</block>
  <block id="c135444e1027f6e8bfbe8b9efac46db5" category="list-text">您已配置 StorageGRID 管理接口证书并具有相应的可选 CA 包。</block>
  <block id="31d35b92c043bb702adabf5997771b7d" category="list-text">要上传您自己的证书，您的本地计算机上提供了证书的公有 密钥和专用密钥。</block>
  <block id="68c8842de0a4b78d5904e0f79a653508" category="list-text">编辑客户端证书：</block>
  <block id="b42c160188ca6db1c57b30657e63daa8" category="list-text">要上传新证书和私钥，您的本地计算机上提供了证书的公有 密钥和私钥。</block>
  <block id="ac566eba87e20641bace0b394942007f" category="section-title">添加客户端证书</block>
  <block id="2d6d208c997cdafe4f7a6349f838a7e5" category="paragraph">要添加管理员客户端证书，您可以提供自己的证书或使用网格管理器生成一个证书。</block>
  <block id="fa12509cfb8e8ccded16e2a254e988c4" category="list-text">选择 * 添加 * 。</block>
  <block id="3e5727a8821c7b24dfa5bae2c7aa3cd3" category="list-text">输入一个介于 1 到 32 个字符之间的证书名称。</block>
  <block id="5858994c96db5f00ae8f764de5afc932" category="list-text">要使用外部监控工具访问 Prometheus 指标，请选择 * 允许 Prometheus* 。</block>
  <block id="dd849930a02f89db3d68e2e9ddbe4c4b" category="list-text">在 * 证书类型 * 部分中，上传或生成证书。</block>
  <block id="69816ce5f7c5eb9e5c5410b150ac64e1" category="paragraph">上传证书 ` .pem` 文件。</block>
  <block id="12cbb2c7d89296cd4882e37f8a802d91" category="list-text">选择 * 上传证书 * ，然后选择 * 继续 * 。</block>
  <block id="7777ee7af0cb541ca8231fe08dfb9a5c" category="list-text">上传客户端证书名称（` .pem` ）。</block>
  <block id="81f92ba8271bc276d8f55de7a9ae21c4" category="paragraph">选择 * 客户端证书详细信息 * 以显示证书元数据和证书 PEM 。</block>
  <block id="756dd597a5b9f6d85d874ad1e734f433" category="list-text">选择 * 创建 * 以在网格管理器中保存证书。</block>
  <block id="3f2af05559f5f2bd768ad1e8af66616a" category="paragraph">新证书将显示在客户端选项卡上。</block>
  <block id="d38e01c164e4ea02c7839d988ac73db2" category="paragraph">生成要粘贴到其他位置的证书文本。</block>
  <block id="58423a78cec41c8aad43221ce70e8e00" category="admonition">关闭此对话框后，您将无法查看此证书专用密钥。将密钥复制或下载到安全位置。</block>
  <block id="f98c821969b88229deec662e249678e3" category="list-text">选择 * 复制私钥 * 可复制证书私钥以粘贴到其他位置。</block>
  <block id="771ca30200532c31ddfc1880f667b252" category="list-text">选择 * 下载私钥 * 将私钥另存为文件。</block>
  <block id="185b4fe0cddd9c17949480bf2eed6759" category="paragraph">指定私钥文件名和下载位置。</block>
  <block id="c3c43be88a77482854d11c8b37f302a5" category="list-text">在外部监控工具上配置以下设置，例如 Grafana 。</block>
  <block id="030e48f0935462d8340386549d35bd31" category="paragraph">以下屏幕截图显示了一个 Grafana 示例：</block>
  <block id="1241e381aa14119a3db5706e611e0fc0" category="image-alt">Grafana —添加 URL 和身份验证</block>
  <block id="423c79fd31fd6252263021e853df5e94" category="list-text">* 名称 * ：输入连接的名称。</block>
  <block id="96e8d6991fd00459c8014de21d477dc2" category="paragraph">StorageGRID 不需要此信息，但您必须提供一个名称来测试连接。</block>
  <block id="ba06c47df4237ad5c80131bc73246135" category="list-text">* URL * ：输入管理节点的域名或 IP 地址。指定 HTTPS 和端口 9091 。</block>
  <block id="9dab8e9252f8955a20aff4ca57f75973" category="paragraph">例如： ` + https://admin-node.example.com:9091+`</block>
  <block id="1a563b8fc954aa6f56dafcc089e72880" category="list-text">启用 * TLS 客户端身份验证 * 和 * 使用 CA 证书 * 。</block>
  <block id="707e2310d459991f0ebe7f2d5075c91c" category="list-text">将管理接口证书或可选 CA 包复制并粘贴到 TLS/SSL 身份验证详细信息下的 "CA 证书 " 中。</block>
  <block id="2018d0947a1552e40f602e6bb1a4ca60" category="list-text">* 服务器名称 * ：输入管理节点的域名。</block>
  <block id="6c89b0648889e88f0a08abca982ae9cc" category="paragraph">servername 必须与管理接口证书中显示的域名匹配。</block>
  <block id="c1a48ced67109802ede91514a297139e" category="list-text">保存并测试从 StorageGRID 或本地文件复制的证书和私钥。</block>
  <block id="4fc484c84fb26a309fa86e702b28fb28" category="paragraph">现在，您可以使用外部监控工具从 StorageGRID 访问 Prometheus 指标。</block>
  <block id="352d46e51096684fdfbca07d240dac2f" category="inline-xref-macro">有关监控 StorageGRID 的说明</block>
  <block id="e38e85bf0ebe510bdb0999e2e593d570" category="paragraph">有关指标的信息，请参见 <block ref="74bbcbb823f9d4c21eae9292caac523d" category="inline-xref-macro-rx"></block>。</block>
  <block id="9fbb206c53580de6cb6fc9a813531840" category="section-title">编辑客户端证书</block>
  <block id="20aeed0e9062ac2c868fc4294e905dea" category="paragraph">您可以编辑管理员客户端证书以更改其名称，启用或禁用 Prometheus 访问，或者在当前证书已过期时上传新证书。</block>
  <block id="ce6cfd757b4d94f2d76cfc042f53dc85" category="list-text">选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * ，然后选择 * 客户端 * 选项卡。</block>
  <block id="ec8c52c8a5e419e6c2e816677ccb7ce2" category="paragraph">表中列出了证书到期日期和 Prometheus 访问权限。如果证书即将过期或已过期，则表中会显示一条消息并触发警报。</block>
  <block id="dacb49c98ac5732a3ee05cd60c04e5b2" category="list-text">选择要编辑的证书。</block>
  <block id="ffa7e721a2e504a195c3e541aaf12fc3" category="list-text">选择 * 编辑 * ，然后选择 * 编辑名称和权限 *</block>
  <block id="899b28d26ba927062b46b37c0205abfc" category="list-text">选择 * 继续 * 以在网格管理器中保存证书。</block>
  <block id="9b7883128d7dfd75d93e109a7170d99a" category="paragraph">更新后的证书将显示在客户端选项卡上。</block>
  <block id="d61922c54533179767bb36f5e57090c7" category="section-title">附加新的客户端证书</block>
  <block id="38c498734a82c1f92e40bc1c9adc48fa" category="paragraph">您可以在当前证书过期后上传新证书。</block>
  <block id="8f8146e06d3559395839ef338f5369d0" category="list-text">选择 * 编辑 * ，然后选择编辑选项。</block>
  <block id="4301387e6aef0c40fbff0aa2a9d85d9a" category="paragraph">复制证书文本以粘贴到其他位置。</block>
  <block id="99f2b0324f97f7ebad818c18dc46f691" category="section-title">下载或复制客户端证书</block>
  <block id="541902543965ac58f87aeae4856ff15a" category="paragraph">您可以下载或复制客户端证书以供其他位置使用。</block>
  <block id="741a4de79546b0dcef63a853801a7d6a" category="list-text">选择要复制或下载的证书。</block>
  <block id="68cc6b2c18224aeb404c87fdfedf9904" category="list-text">下载或复制证书。</block>
  <block id="3c5f426d40cb40ea8f2b12b11caf233a" category="open-title">下载证书文件</block>
  <block id="807d0782be4ece166761e4046abeb451" category="paragraph">下载证书 ` .pem` 文件。</block>
  <block id="1c89a4244ecde93b23506c7cf43a1ffe" category="list-text">选择 * 下载证书 * 。</block>
  <block id="d4da6a9de32f844ebbbcc160f227dc27" category="open-title">复制证书</block>
  <block id="e8e6c6cd74a8d3cded5ecf03aa128601" category="list-text">选择 * 复制证书 PEM* 。</block>
  <block id="d43629729ec716f29833efaf53719d12" category="list-text">将复制的证书粘贴到文本编辑器中。</block>
  <block id="c1cbea7dec6229819b273514b6de0cf3" category="list-text">保存扩展名为 ` .pem` 的文本文件。</block>
  <block id="90762b1ee0871a4ace4a845d3c09e214" category="section-title">删除客户端证书</block>
  <block id="ae066752f393dd7f317a7230be5016ed" category="paragraph">如果您不再需要管理员客户端证书，可以将其删除。</block>
  <block id="1185b810eeaf4a74b79fb01136a38c4c" category="list-text">选择要删除的证书。</block>
  <block id="067507df418173e9d589031934ebf093" category="list-text">选择 * 删除 * ，然后确认。</block>
  <block id="60225428e4dbee394a1a73cab6cbcdf8" category="admonition">要删除最多 10 个证书，请在客户端选项卡上选择要删除的每个证书，然后选择 * 操作 * &gt; * 删除 * 。</block>
  <block id="c2683eb4e79d52dc33c174ecfe9fa491" category="paragraph">删除证书后，使用该证书的客户端必须指定一个新的客户端证书，才能访问 StorageGRID Prometheus 数据库。</block>
  <block id="56b7aa6a6136ab9552d830747f113497" category="paragraph">有关其他示例和详细信息，请参见联机 API 文档。</block>
  <block id="3921613479f552d992b5838fd455e7f3" category="summary">您可以通过添加新用户或组并删除旧用户或组来更改 CIFS 审核共享的用户或组名称。</block>
  <block id="2ebccd3f4ad98bb5c3873631582ded6d" category="doc">更改 CIFS 审核共享用户或组名称</block>
  <block id="ad715e8a8d8fedb9e978f8a3152fc969" category="list-text">将名称已更新的新用户或组添加到审核共享中。</block>
  <block id="f2748cbdb1ad6f8c38c592ab55d33a55" category="list-text">删除旧用户或组名称。</block>
  <block id="e841960df7ad9485c3fd1faa6ebd215d" category="inline-xref-macro">将用户或组添加到 CIFS 审核共享</block>
  <block id="f57e0dd186138f6b894e0a04a1f53860" category="list-text"><block ref="f57e0dd186138f6b894e0a04a1f53860" category="inline-xref-macro-rx"></block></block>
  <block id="4f6be440cb85b43e2f3913b3f4a91f77" category="inline-xref-macro">从 CIFS 审核共享中删除用户或组</block>
  <block id="c7a1af9203b82ed51b51273563fc8920" category="list-text"><block ref="c7a1af9203b82ed51b51273563fc8920" category="inline-xref-macro-rx"></block></block>
  <block id="65c3d1c33b0a056f0dbb5233e89f98e3" category="summary">您可以将大量数据迁移到 StorageGRID 系统，同时使用 StorageGRID 系统执行日常操作。</block>
  <block id="f748666ab1e3d6b19bc86d0f50964882" category="doc">将数据迁移到 StorageGRID</block>
  <block id="53e40d163376d5a6e5bf9e0aba044771" category="paragraph">下一节将指导您了解并规划将大量数据迁移到 StorageGRID 系统。本指南不是数据迁移的通用指南，也不包括执行迁移的详细步骤。请遵循本节中的准则和说明，确保在不影响日常操作的情况下将数据高效迁移到 StorageGRID 系统中，并确保 StorageGRID 系统能够正确处理迁移的数据。</block>
  <block id="5f985f3176d6e2114fefb4cd7210662d" category="summary">您必须将 StorageGRID 配置为每个外部密钥管理服务器或 KMS 集群的客户端，然后才能将 KMS 添加到 StorageGRID 。</block>
  <block id="aabcf31528e6193a00f29ff7a18a5ceb" category="doc">在 KMS 中将 StorageGRID 配置为客户端</block>
  <block id="1d9a77e60c2a448c095a96c67f40029c" category="paragraph">这些说明适用于 Thales CipherTrust Manager k170v 2.0 ， 2.1 和 2.2 版。如果您对在 StorageGRID 中使用其他密钥管理服务器有任何疑问，请联系技术支持。</block>
  <block id="7a600043530500dfa08b962b86356422" category="inline-link">Thales CipherTrust Manager</block>
  <block id="7333da22c084856409ccbe674d67751c" category="paragraph"><block ref="7333da22c084856409ccbe674d67751c" category="inline-link-rx"></block></block>
  <block id="cf3825d01a34e68fbe352957b6a5f513" category="list-text">在 KMS 软件中，为计划使用的每个 KMS 或 KMS 集群创建一个 StorageGRID 客户端。</block>
  <block id="76a2f0e697f5745a066c4d4cdc50a335" category="paragraph">每个 KMS 都会为单个站点或一组站点上的 StorageGRID 设备节点管理一个加密密钥。</block>
  <block id="f699120e570db1af68e29294e9ee097d" category="list-text">在 KMS 软件中，为每个 KMS 或 KMS 集群创建 AES 加密密钥。</block>
  <block id="29eccb945b70a09c29b8c7c06726b255" category="paragraph">加密密钥需要可导出。</block>
  <block id="0c80ed88475e946cedb0e8ba2b9c1397" category="list-text">记录每个 KMS 或 KMS 集群的以下信息。</block>
  <block id="843f57c1cbd07d9a150eeb1e3a85c04d" category="paragraph">将 KMS 添加到 StorageGRID 时需要此信息。</block>
  <block id="e50e4a29525b2f16ede13ca62aeb42af" category="list-text">每个服务器的主机名或 IP 地址。</block>
  <block id="6e4943eb89cbec98060ba74ae056eb03" category="list-text">KMS 使用的 KMIP 端口。</block>
  <block id="25444748df7a723769b1572da3f7f38b" category="list-text">KMS 中加密密钥的密钥别名。</block>
  <block id="4ccb11f36959ad6689c25111cecfcd28" category="admonition">此加密密钥必须已存在于 KMS 中。StorageGRID 不会创建或管理 KMS 密钥。</block>
  <block id="df760964e067ee423fa71fa0ed69ead2" category="list-text">对于每个 KMS 或 KMS 集群，获取一个由证书颁发机构（ CA ）签名的服务器证书，或者一个包含 PEM 编码的每个 CA 证书文件的证书捆绑包，这些证书按证书链顺序串联。</block>
  <block id="5ecc33bcc3d47a12b3b4eee3c4e03f2a" category="paragraph">通过服务器证书，外部 KMS 可以向 StorageGRID 进行身份验证。</block>
  <block id="dbd378cbbffea63368aeafeafdb0cd1a" category="list-text">证书必须使用 Privacy Enhanced Mail （ PEM ） Base － 64 编码的 X.509 格式。</block>
  <block id="468e9ebbdf502543b1eeb5fc37a29c7d" category="list-text">每个服务器证书中的 " 使用者备用名称（ SAN ） " 字段必须包含 StorageGRID 要连接到的完全限定域名（ FQDN ）或 IP 地址。</block>
  <block id="6ff7b6dd38989f7fee2aeffcdf0a2df0" category="admonition">在 StorageGRID 中配置 KMS 时，必须在 * 主机名 * 字段中输入相同的 FQDN 或 IP 地址。</block>
  <block id="74a6648d3d1177a6995530a0b7d5ce3c" category="list-text">服务器证书必须与 KMS 的 KMIP 接口使用的证书匹配，该接口通常使用端口 5696 。</block>
  <block id="590ba53362ae9806b6816ec75a243ae5" category="list-text">获取外部 KMS 颁发给 StorageGRID 的公有 客户端证书以及客户端证书的专用密钥。</block>
  <block id="18d77619bc7c79ae5f695fc3dd66c081" category="paragraph">客户端证书允许 StorageGRID 向 KMS 进行身份验证。</block>
  <block id="feec3e7ceee8b419fea760789d3150d6" category="summary">您的 StorageGRID 系统会将归档节点作为一个位置来管理，在该位置，对象会无限期地存储，并且始终可以访问。</block>
  <block id="052db14443fad9938bbdf2cd3a432dab" category="doc">归档节点配置和操作</block>
  <block id="e5aa10a12f2ac95acd028fefbc1b85e8" category="paragraph">在载入对象时，系统会根据为 StorageGRID 系统定义的信息生命周期管理（ ILM ）规则将副本复制到所有必需的位置，包括归档节点。归档节点充当 TSM 服务器的客户端， TSM 客户端库通过 StorageGRID 软件安装过程安装在归档节点上。定向到归档节点进行存储的对象数据会在收到时直接保存到 TSM 服务器。归档节点不会在将对象数据保存到 TSM 服务器之前暂存对象数据，也不会执行对象聚合。但是，如果数据速率需要，归档节点可以在一个事务中向 TSM 服务器提交多个副本。</block>
  <block id="f5d27596729d7a0b8f95365176eefc95" category="paragraph">在归档节点将对象数据保存到 TSM 服务器后， TSM 服务器将使用其生命周期 / 保留策略来管理对象数据。必须定义这些保留策略，使其与归档节点的操作兼容。也就是说，归档节点保存的对象数据必须无限期存储，并且必须始终可由归档节点访问，除非归档节点将其删除。</block>
  <block id="7f76299d8a6eee2d9e07304b79bba9ec" category="paragraph">StorageGRID 系统的 ILM 规则与 TSM 服务器的生命周期 / 保留策略之间没有连接。每个对象彼此独立运行；但是，在将每个对象载入 StorageGRID 系统时，您可以为其分配一个 TSM 管理类。此管理类将与对象数据一起传递到 TSM 服务器。通过将不同的管理类分配给不同的对象类型，您可以将 TSM 服务器配置为将对象数据放置在不同的存储池中，或者根据需要应用不同的迁移或保留策略。例如，标识为数据库备份的对象（临时内容，不能使用较新的数据覆盖）的处理方式可能与应用程序数据（必须无限期保留的固定内容）不同。</block>
  <block id="812c8de132984daebad2b0b2a48bd932" category="paragraph">归档节点可以与新的或现有的 TSM 服务器集成；它不需要专用的 TSM 服务器。TSM 服务器可以与其他客户端共享，但前提是 TSM 服务器的大小应适合最大预期负载。TSM 必须安装在与归档节点不同的服务器或虚拟机上。</block>
  <block id="9f822d31054d1b2892636d4f2845e1db" category="paragraph">可以将多个归档节点配置为写入同一个 TSM 服务器；但是，只有当归档节点向 TSM 服务器写入不同的数据集时，才建议使用此配置。当每个归档节点向归档写入相同对象数据的副本时，建议不要将多个归档节点配置为写入同一 TSM 服务器。在后一种情况下，对于对象数据的独立冗余副本，这两个副本都会发生单点故障（ TSM 服务器）。</block>
  <block id="c390a05f17498d526d0e2656c3191efd" category="paragraph">归档节点不会使用 TSM 的分层存储管理（ HSM ）组件。</block>
  <block id="298293acaf97685392f5e4dac86be624" category="summary">您可以使用高可用性（ High Availability ， HA ）组提供与 StorageGRID 的高可用性连接，以用于对象数据和管理目的。</block>
  <block id="4ca94df7576705c5e4edbcafe47531fc" category="doc">如何使用 HA 组？</block>
  <block id="de2d143881b19725476a3617b9926ef2" category="list-text">HA 组可以为网格管理器或租户管理器提供高度可用的管理连接。</block>
  <block id="89a6451f38b93562c1d9c907f7ec6b0f" category="list-text">HA 组可以为 S3 和 Swift 客户端提供高可用性数据连接。</block>
  <block id="5d4735631a3ab0fa457db9c3aacf50a2" category="list-text">如果 HA 组仅包含一个接口，则可以提供多个 VIP 地址并明确设置 IPv6 地址。</block>
  <block id="7decaab7d1a1652c01cfae4c8e02bff2" category="paragraph">只有当 HA 组中包含的所有节点都提供相同的服务时， HA 组才能提供高可用性。创建 HA 组时，请从提供所需服务的节点类型中添加接口。</block>
  <block id="b2b82c36bcd3374a035c517d6c94e86b" category="list-text">* 管理节点 * ：包括负载平衡器服务，并允许访问网格管理器或租户管理器。</block>
  <block id="9ab747b7db531573bf622320c9e4ffb1" category="list-text">* 网关节点 * ：包括负载平衡器服务和 CLB 服务（已弃用）。</block>
  <block id="ded321722e484e9a10fa3edc98b818dc" category="cell">HA 组的用途</block>
  <block id="979e00202aab0472e3aff062ce93164b" category="cell">将此类型的节点添加到 HA 组</block>
  <block id="d3f5b5f8bdeec28dd07c67769a734a1b" category="paragraph">访问 Grid Manager</block>
  <block id="fb9b587a19ff192cff3002f02efcef6d" category="list-text">主管理节点（ * 主 * ）</block>
  <block id="e7c81112830379a942df7d7f01713862" category="paragraph">* 注： * 主管理节点必须为主接口。某些维护过程只能从主管理节点执行。</block>
  <block id="e2706f45a05782ee8b16ed9a96d11233" category="paragraph">仅访问租户管理器</block>
  <block id="fab6e4be4117bc39c31023b11841e822" category="list-text">主管理节点或非主管理节点</block>
  <block id="4c8e81f4173e365e621b3a98a236b342" category="paragraph">S3 或 Swift 客户端访问—负载平衡器服务</block>
  <block id="633eff98bae2f872dc198ec9b2ef188f" category="paragraph">的 S3 客户端访问 <block ref="cca421a0c4ec7ff00802669f7c7a25cf" category="inline-xref-macro-rx"></block></block>
  <block id="526e0bfdf42e4999274baebff1f765b8" category="list-text">SG100 或 SG1000 设备</block>
  <block id="b8cfda360ab058b70a78573ec3816e58" category="list-text">基于 VMware 的软件节点</block>
  <block id="f6874a0c93eb93f7900d8d5417bc97b0" category="paragraph">* 注 * ：使用 S3 Select 时建议使用 HA 组，但不要求使用 HA 组。</block>
  <block id="7dcff60122d2d0de9109a46316e16b35" category="paragraph">S3 或 Swift 客户端访问— CLB 服务</block>
  <block id="8b1ecdb76c8e8a403183bf06005a2b87" category="section-title">将 HA 组与 Grid Manager 或租户管理器结合使用的限制</block>
  <block id="df854786f6a825e5e396b5d213115820" category="paragraph">如果 Grid Manager 或租户管理器服务失败，则不会触发 HA 组故障转移。</block>
  <block id="9f8ab17b781c89cfc43b3c0a9a654a7c" category="paragraph">如果在发生故障转移时登录到网格管理器或租户管理器，则您将注销并必须重新登录才能恢复任务。</block>
  <block id="ba38cfa64a9185343ae2793bc998accc" category="paragraph">当主管理节点不可用时，无法执行某些维护过程。在故障转移期间，您可以使用网格管理器监控 StorageGRID 系统。</block>
  <block id="9855dbe7265cb79ae01396a90a2c0743" category="section-title">将 HA 组与 CLB 服务结合使用的限制</block>
  <block id="367cc468a9b4656a53fd3ad400056c86" category="paragraph">CLB 服务发生故障不会在 HA 组中触发故障转移。</block>
  <block id="66b3988857bb5ab935e7d8c25f715d8c" category="summary">您也可以选择使用归档节点部署每个 StorageGRID 数据中心站点，以便连接到目标外部归档存储系统，例如 Tivoli Storage Manager （ TSM ）。</block>
  <block id="41d3b4dd45acf3c38f885a0e66308838" category="doc">什么是归档节点</block>
  <block id="ae29b54dd9ffc842d5a88f7bde90c540" category="paragraph">归档节点提供了一个接口，您可以通过该接口将外部归档存储系统作为长期存储对象数据的目标。归档节点还会监控此连接以及 StorageGRID 系统与目标外部归档存储系统之间的对象数据传输。</block>
  <block id="e467acf274987449b2e2d6d6a7e93399" category="image-alt">归档节点概述</block>
  <block id="beb8674433f26e9e91f8c1e93a4af56e" category="paragraph">配置与外部目标的连接后，您可以配置归档节点以优化 TSM 性能，在 TSM 服务器容量接近或不可用时使归档节点脱机，以及配置复制和检索设置。您还可以为归档节点设置自定义警报。</block>
  <block id="ee1569221495d2e50796071428639f43" category="paragraph">无法删除但未定期访问的对象数据可以随时从存储节点的旋转磁盘移出，并移至云或磁带等外部归档存储。对象数据的这种归档是通过配置数据中心站点的归档节点以及配置 ILM 规则来实现的，在这些规则中，此归档节点被选为内容放置说明的 " 目标 " 。归档节点不会管理归档对象数据本身；这可通过外部归档设备实现。</block>
  <block id="57e15692d18d8375c80d0ee26c28eb75" category="admonition">对象元数据不会归档，但会保留在存储节点上。</block>
  <block id="0f32933ce97c7b76d1e0777a1cff19b0" category="section-title">什么是 ARC-Service</block>
  <block id="e272102b95d09d637aeee1e3b925fa8d" category="paragraph">归档节点上的归档（ Archive ， ARC-） 服务提供了一个管理界面，您可以使用此界面来配置通过 TSM 中间件连接到外部归档存储（例如磁带）的连接。</block>
  <block id="9e50317261bbab7fc4dc542712f5bee9" category="paragraph">它是一种可与外部归档存储系统交互的应用程序服务，用于为近线存储发送对象数据，并在客户端应用程序请求归档对象时执行检索。当客户端应用程序请求归档对象时，存储节点会从 ARC-Service 请求对象数据。ARC-Service 会向外部归档存储系统发出请求，该系统会检索请求的对象数据并将其发送到 ARC-Service 。此应用程序服务会验证对象数据并将其转发到存储节点，然后存储节点会将此对象返回到请求的客户端应用程序。</block>
  <block id="3a68c41ed3a95d45f14e1c05a4192324" category="paragraph">通过 TSM 中间件将对象数据归档到磁带的请求可以进行管理，以提高检索效率。可以对请求进行排序，以便按同一顺序请求按顺序存储在磁带上的对象。然后，请求将排队等待提交到存储设备。根据归档设备的不同，可以同时处理对不同卷上的对象的多个请求。</block>
  <block id="1d203dccb835fbce7f3e4eb3193a7ac7" category="summary">使用身份联合可以加快设置组和用户的速度，并允许用户使用熟悉的凭据登录到 StorageGRID 。</block>
  <block id="36decd98c17787bb8b76b25f6da2e89f" category="section-title">为 Grid Manager 配置身份联合</block>
  <block id="636e5df8ac3834fad561f8733fe03e3e" category="paragraph">如果您希望在 Active Directory ， Azure Active Directory （ Azure AD ）， OpenLDAP 或 Oracle Directory Server 等其他系统中管理管理管理组和用户，则可以在网格管理器中配置身份联合。</block>
  <block id="bfff1b07de27a3e9d132bec6750cecfd" category="list-text">如果您计划使用 OpenLDAP ，则必须配置 OpenLDAP 服务器。请参见 <block ref="cc469a97360643c222122920cb68a223" category="inline-xref-macro-rx"></block>。</block>
  <block id="5e1db39fb24027fe53b4ae5b172f7c67" category="inline-xref-macro">使用单点登录的要求</block>
  <block id="97cc4370c46922562510af570a774628" category="list-text">如果您计划启用单点登录（ SSO ），则已查看 <block ref="85eca2dc68bdafff3a9f59a063ea62f7" category="inline-xref-macro-rx"></block>。</block>
  <block id="47b9f67034fa26641cce1caae83ee764" category="list-text">如果您计划使用传输层安全（ Transport Layer Security ， TLS ）与 LDAP 服务器进行通信，则身份提供程序正在使用 TLS 1.2 或 1.3 。请参见 <block ref="78f6e288d851b20994bd394f8c75b593" category="inline-xref-macro-rx"></block>。</block>
  <block id="6587fd0db979c263c6e12e3f59768382" category="paragraph">如果要从 Active Directory ， Azure AD ， OpenLDAP 或 Oracle Directory Server 等其他系统导入组，则可以为网格管理器配置身份源。您可以导入以下类型的组：</block>
  <block id="e0390a075f56b15a3871647eb0038611" category="list-text">管理组。管理组中的用户可以登录到网格管理器并根据分配给该组的管理权限执行任务。</block>
  <block id="89487380e3628746f9a1d40b8c7def29" category="list-text">不使用自己身份源的租户的租户用户组。租户组中的用户可以登录到租户管理器，并根据在租户管理器中为该组分配的权限执行任务。请参见 <block ref="ff2f2b710eabc81ff08b87eee4a06826" category="inline-xref-macro-rx"></block> 和 <block ref="a45393bc84d50473d112ef9346a5bbf2" category="inline-xref-macro-rx"></block> 了解详细信息。</block>
  <block id="737bb7af8997fa54cd0cc1b9c2627919" category="section-title">输入配置</block>
  <block id="e812ec5ff5585872cf77c2955423bf90" category="list-text">选择 * 配置 * &gt; * 访问控制 * &gt; * 身份联合 * 。</block>
  <block id="d7a158061e1e969f6deaaa8d38b6360b" category="section-title">强制与身份源同步</block>
  <block id="72a39de1386e9606a8f44da02e81eb87" category="section-title">配置 OpenLDAP 服务器的准则</block>
  <block id="ad2925de9219117118c78bc5e27919ad" category="summary">NFS 审核客户端将根据其 IP 地址获得对审核共享的访问权限。您可以通过删除现有审核客户端的 IP 地址来删除此客户端。</block>
  <block id="5fc2bcb9e42e9ac834cf5d77f5bb8f4b" category="doc">从审核共享中删除 NFS 审核客户端</block>
  <block id="9dd1118f883549581ebb174432544f7e" category="paragraph">您不能删除允许访问审核共享的最后一个 IP 地址。</block>
  <block id="5d997fda2b48d47c86090ed0e40dcd66" category="list-text">从审核共享中删除 IP 地址： `remove-ip-from-share`</block>
  <block id="46cf7e35ed6cadc1157435e34d2bca0f" category="paragraph">此时将显示服务器上配置的审核共享的编号列表。此审核共享列出为： ` /var/local/audit/export`</block>
  <block id="25acc63a8b457ac86585ad4013b2918d" category="list-text">输入与审核共享对应的数字： ` _audit_share_number_`</block>
  <block id="0136207cc1a7e80596d279f3718de664" category="paragraph">此时将显示允许访问审核共享的 IP 地址的编号列表。</block>
  <block id="c27680051227b49609bb69ecd36b7a48" category="list-text">输入与要删除的 IP 地址对应的数字。</block>
  <block id="57f4ee900a4717ee8e976ff986ff0b2c" category="paragraph">此时将更新审核共享，并且不再允许使用此 IP 地址的任何审核客户端进行访问。</block>
  <block id="9a4c2eccd529b12cd6d5f3593f0a3274" category="list-text">如果您的 StorageGRID 部署为多数据中心站点部署，而其他站点上有更多管理节点，请根据需要禁用这些审核共享：</block>
  <block id="14d20340f8728f1f50c07e102bc4ba43" category="list-text">远程登录到每个站点的管理节点：</block>
  <block id="a3bc94e9b5925bf3208437fd586d6cdc" category="summary">您可以配置一个或多个外部密钥管理服务器（ KMS\ ）以保护专门配置的设备节点上的数据。</block>
  <block id="7afc7c7bf096a14d1fe6edc513c75c8f" category="doc">配置密钥管理服务器：概述</block>
  <block id="48872e83daa5b40042034da6d4697a8e" category="paragraph">您可以配置一个或多个外部密钥管理服务器（ KMS ）来保护专门配置的设备节点上的数据。</block>
  <block id="b2efa747a2183943604c8db36a37b5d1" category="section-title">什么是密钥管理服务器（ KMS ）？</block>
  <block id="a6ee34df66416f97be73201d810d3f1c" category="paragraph">密钥管理服务器（ Key Management Server ， KMS ）是一种外部第三方系统，可使用密钥管理互操作性协议（ Key Management Interoperability Protocol ， KMIP ）为关联 StorageGRID 站点上的 StorageGRID 设备节点提供加密密钥。</block>
  <block id="b719c050dec414415e26bfac5d8b162d" category="paragraph">您可以使用一个或多个密钥管理服务器来管理安装期间启用了 * 节点加密 * 设置的任何 StorageGRID 设备节点的节点加密密钥。通过将密钥管理服务器与这些设备节点结合使用，您可以保护数据，即使设备已从数据中心中删除也是如此。对设备卷进行加密后，除非节点可以与 KMS 通信，否则无法访问设备上的任何数据。</block>
  <block id="71e73494019330903d6bf422837702d9" category="admonition">StorageGRID 不会创建或管理用于对设备节点进行加密和解密的外部密钥。如果您计划使用外部密钥管理服务器来保护 StorageGRID 数据，则必须了解如何设置该服务器，并且必须了解如何管理加密密钥。执行密钥管理任务不在本说明的范围之内。如果需要帮助，请参见密钥管理服务器的文档或联系技术支持。</block>
  <block id="beaf4c5ef13fde80e469ab07577dafce" category="summary">您可以为归档节点配置复制设置并禁用入站和出站复制，或者重置为关联警报跟踪的故障计数。</block>
  <block id="c492c1ab30f32469427b3ed89f232e09" category="doc">配置归档节点复制</block>
  <block id="598e130d8d05efd25c01e9ffa7b4ada0" category="list-text">选择 * ：归档节点 _* &gt; * 。 ARR* &gt; * 复制 * 。</block>
  <block id="399d1962a9a7ebc3435c00801edfc46e" category="image-alt">" 归档节点配置 " 页面 &gt;" 复制设置 "</block>
  <block id="7b129f06b3f871124f1512c53b47fba5" category="list-text">根据需要修改以下设置：</block>
  <block id="4568b688df91ebf725c79091dbc01830" category="list-text">* 重置入站复制失败计数 * ：选择此项可重置入站复制失败的计数器。此操作可用于清除 RIRF （入站复制 - 失败）警报。</block>
  <block id="688b709a3c21b4968d5eb8f6caaeaa22" category="list-text">* 重置出站复制失败计数 * ：选择此项可重置出站复制失败的计数器。此操作可用于清除 RORF （出站复制 - 失败）警报。</block>
  <block id="e07991e9bb458959dbe4b99131356380" category="list-text">* 禁用入站复制 * ：选择此项可在维护或测试操作步骤 过程中禁用入站复制。在正常操作期间保持清除状态。</block>
  <block id="ead9cec171d429a786131aaa9b9eb38a" category="paragraph">禁用入站复制后，可以从应用程序中心服务检索对象数据，以便复制到 StorageGRID 系统中的其他位置，但不能将对象从其他系统位置复制到此应用程序中心服务。此‐服务为只读。</block>
  <block id="1494a40495d42d181d00767c6da39957" category="list-text">* 禁用出站复制 * ：选中此复选框可在维护或测试操作步骤 过程中禁用出站复制（包括 HTTP 检索的内容请求）。在正常操作期间保持未选中状态。</block>
  <block id="38c3bb66b703eabcbe7e89a4a1af7cc1" category="paragraph">禁用出站复制后，可以将对象数据复制到此应用程序中心服务以满足 ILM 规则的要求，但无法从应用程序中心服务检索对象数据以复制到 StorageGRID 系统中的其他位置。此 ARC 服务为 write‐only 。</block>
  <block id="67192e9d2fc0c172fd543fd20c22785f" category="summary">完成安装过程后，归档节点无法正常运行。在 StorageGRID 系统将对象保存到 TSM 归档节点之前，您必须完成 TSM 服务器的安装和配置，并配置归档节点以与 TSM 服务器进行通信。</block>
  <block id="da66264adbfa72e5ed91a9345e90cbd4" category="doc">完成归档节点设置</block>
  <block id="14f6768837fef8b559cfebc091fa47a1" category="paragraph">在准备 TSM 服务器以便与 StorageGRID 系统中的归档节点集成时，请根据需要参考以下 IBM 文档：</block>
  <block id="6d5a5366d9c6d1d826e39a8e49e237a3" category="inline-link">《 IBM 磁带设备驱动程序安装和用户指南》</block>
  <block id="0a6aa76a0aef7cdf5df92f5c8b9150ab" category="list-text"><block ref="35e8bc1fba82ab670984898ddb54cd1d" category="inline-link-rx"></block></block>
  <block id="26cf412f2ddec9aa161b9064024ec472" category="inline-link">《 IBM 磁带设备驱动程序编程参考》</block>
  <block id="f9c4ee2825d99fe5a3dc7eff2b59bb7b" category="list-text"><block ref="085a819c233e6f17367fb88dea82e192" category="inline-link-rx"></block></block>
  <block id="87f0c196d801a1f65e181a33fac90edb" category="summary">StorageGRID 使用内部证书颁发机构 \ （ CA\ ）保护内部流量。如果您上传自己的证书，则此证书不会更改。</block>
  <block id="d53505680bc38b422b14b73cfc42e6b1" category="doc">复制网格 CA 证书</block>
  <block id="0d3ed81da3601d29dee4e4d04f4c470d" category="paragraph">StorageGRID 使用内部证书颁发机构（ CA ）来保护内部流量。如果您上传自己的证书，则此证书不会更改。</block>
  <block id="1914c92f5f37d6765a897b6d7c8450c4" category="paragraph">如果配置了自定义服务器证书，则客户端应用程序应使用自定义服务器证书验证服务器。他们不应从 StorageGRID 系统复制 CA 证书。</block>
  <block id="087265915e712fbd5c722bbb88b7cde9" category="list-text">选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * ，然后选择 * 网格 CA* 选项卡。</block>
  <block id="ff80c3f418acecb2d05df7d46ab18616" category="list-text">在 * 证书 PEM* 部分中，下载或复制证书。</block>
  <block id="90629116730622aabcff2ffc3d8f7fcf" category="open-title">复制证书 PEM</block>
  <block id="b7d3ad7a9ce93f410fc7d1543d9d19a0" category="summary">如果允许 S3 租户使用平台服务，则必须为网格配置网络连接，以确保平台服务消息可以传送到其目标。</block>
  <block id="13f04a7f2dd4ce9262b78593be6c84fd" category="doc">用于平台服务的网络和端口</block>
  <block id="7cf800a8ffe08e51f21aabaed5f394b6" category="paragraph">在创建或更新 S3 租户帐户时，您可以为该租户帐户启用平台服务。如果启用了平台服务，则租户可以创建端点，用作 CloudMirror 复制，事件通知或从其 S3 存储分段搜索集成消息的目标。这些平台服务消息会从运行此 ADA 服务的存储节点发送到目标端点。</block>
  <block id="0f841fe6369d55117f81a4f38d70699b" category="paragraph">例如，租户可以配置以下类型的目标端点：</block>
  <block id="e2101d78312fe9c41b2d5bad36a662ac" category="list-text">本地托管的 Elasticsearch 集群</block>
  <block id="088a470406f62b36c73035e2732f4872" category="list-text">一种支持接收简单通知服务（ SNS ）消息的本地应用程序</block>
  <block id="b2e61bc301d6e675ef85c7eb752c58a2" category="list-text">同一个或另一个 StorageGRID 实例上本地托管的 S3 存储分段</block>
  <block id="8896cc46cb6c6e587b325a35449c04a6" category="list-text">外部端点，例如 Amazon Web Services 上的端点。</block>
  <block id="7be326f0972bc0ccae4defb56c5b1ad0" category="paragraph">要确保可以传送平台服务消息，您必须配置一个或多个包含此 ADA 存储节点的网络。您必须确保可使用以下端口向目标端点发送平台服务消息。</block>
  <block id="291262618c3a52b0b647d6c6a0b9e1eb" category="paragraph">默认情况下，平台服务消息在以下端口上发送：</block>
  <block id="a48597cfaa6e61f8e7eb92d39762b20c" category="list-text">* 80* ：对于以 http 开头的端点 URI</block>
  <block id="e4991188ed444404bd90480b67c521ee" category="list-text">* 443 ：对于以 https 开头的端点 URI</block>
  <block id="3350e73b18eada9ed30559b537719efd" category="paragraph">租户可以在创建或编辑端点时指定其他端口。</block>
  <block id="25ccab0848aacfa594cee277b19c4bc3" category="admonition">如果使用 StorageGRID 部署作为 CloudMirror 复制的目标，则可能会在 80 或 443 以外的端口上收到复制消息。确保已在端点中指定目标 StorageGRID 部署用于 S3 的端口。</block>
  <block id="16744ac876f6d35b2353511c5be3237c" category="inline-xref-macro">配置存储代理设置</block>
  <block id="431f84be43c51b35863da46dc87ea716" category="paragraph">如果使用非透明代理服务器，则还必须使用 <block ref="27ea4283caeabe371b188774e1494ba5" category="inline-xref-macro-rx"></block> 允许将消息发送到外部端点，例如 Internet 上的端点。</block>
  <block id="382036c8c5d4afb115e5386bec88e9ca" category="summary">存储节点可管理和存储对象数据和元数据。每个 StorageGRID 系统必须至少具有三个存储节点。如果您有多个站点，则 StorageGRID 系统中的每个站点也必须有三个存储节点。</block>
  <block id="6246dffa5ae351551e2d5c89e8d510eb" category="doc">什么是存储节点？</block>
  <block id="315a48f0dc137fd39db20ae805859f36" category="paragraph">存储节点包括在磁盘上存储，移动，验证和检索对象数据和元数据所需的服务和进程。您可以在 * 节点 * 页面上查看有关存储节点的详细信息。</block>
  <block id="9b029f04eeaa0ab1891231f14cd8927b" category="section-title">什么是模数转换器服务？</block>
  <block id="eb2074205ca7fadb1a7b48f29fc18075" category="paragraph">管理域控制器（ ADC-A ）服务对网格节点及其彼此连接进行身份验证。一个站点的前三个存储节点中的每个存储节点都托管了此类模块转换服务。</block>
  <block id="b5e095392295c883e223245b3d96014f" category="paragraph">此 ADA 服务可维护拓扑信息，包括服务的位置和可用性。当网格节点需要来自另一个网格节点的信息或由另一个网格节点执行操作时，它会联系一个模数转换器服务来查找处理其请求的最佳网格节点。此外，该 StorageGRID 服务还会保留一份部署配置包的副本，以便任何网格节点都可以检索当前配置信息。您可以在网格拓扑页面（ * 支持 * &gt; * 网格拓扑 * ）上查看存储节点的数据转换信息。</block>
  <block id="791f14e6af2174c9fe386750ef8734a3" category="paragraph">为了便于分布式和孤岛式操作，每个 StorageGRID 服务会将证书，配置包以及有关服务和拓扑的信息与系统中的其他 ADE 服务进行同步。</block>
  <block id="c282a754699543f9dd39915bce61f37b" category="paragraph">通常，所有网格节点都会至少与一个 ADC 服务保持连接。这样可以确保网格节点始终访问最新信息。当网格节点连接时，它们会缓存其他网格节点的` 证书，从而使系统能够继续使用已知网格节点运行，即使某个模数转换器服务不可用也是如此。新的网格节点只能通过使用模数转换器服务建立连接。</block>
  <block id="bdf917dcb52b04285d32335306e82a64" category="paragraph">通过每个网格节点的连接，可以使此 ADA 服务收集拓扑信息。此网格节点信息包括 CPU 负载，可用磁盘空间（如果有存储），支持的服务以及网格节点的站点 ID 。其他服务则通过拓扑查询向此类服务请求拓扑信息。对于从 StorageGRID 系统收到的最新信息，此 ADA 服务会对每个查询做出响应。</block>
  <block id="6f7578225c4943873a54bcae9ee81c3a" category="section-title">什么是 DDS 服务？</block>
  <block id="03f9d93c63182b5a39fecfc34960f75d" category="paragraph">分布式数据存储（ DDS ）服务由存储节点托管，它与 Cassandra 数据库建立接口，以便对存储在 StorageGRID 系统中的对象元数据执行后台任务。</block>
  <block id="8087c2fb4c578fde187b700651a574a1" category="section-title">对象计数</block>
  <block id="17210886468d43f2e41a023606a39e83" category="paragraph">DDS 服务可跟踪载入到 StorageGRID 系统中的对象总数，以及通过每个系统支持的接口（ S3 或 Swift ）载入的对象总数。</block>
  <block id="4126411b7a6a28138fe7e7817d8c47a2" category="paragraph">您可以在任何存储节点的 "Nodes" 页面 &gt;"Object" 选项卡上查看对象总数。</block>
  <block id="46355f8065c4db5f0b9b9cae5458488a" category="image-alt">DDS 概述页面</block>
  <block id="371bf9755a4289e229b6b3479dc1be2b" category="paragraph">您可以确定通过特定 DDS 服务对元数据存储运行查询所需的平均时间，成功查询的总数以及因问题描述 超时而失败的查询总数。</block>
  <block id="43be0fddc4106d4e0611117a6b36f9c9" category="paragraph">您可能希望查看查询信息以监控元数据存储 Cassandra 的运行状况，这会影响系统的载入和检索性能。例如，如果平均查询的延迟较慢，并且因超时而导致查询失败的次数较多，则元数据存储可能会遇到较高的负载或执行其他操作。</block>
  <block id="bba451fd0f1c66bf8c11295798306105" category="paragraph">您还可以查看因一致性失败而失败的查询总数。通过特定 DDS 服务执行查询时，可用元数据存储数量不足，导致一致性级别失败。</block>
  <block id="ce55bffbc13c42bdc4785199ef577ea5" category="paragraph">您可以使用 " 诊断 " 页面获取网格当前状态的追加信息 。请参见 <block ref="2b6712137ba21398baa36807fb561a48" category="inline-xref-macro-rx"></block>。</block>
  <block id="d006427725df025958b8ff94accd344d" category="paragraph">StorageGRID 保证新创建的对象的写入后读一致性。成功完成 PUT 操作后的任何 GET 操作都将能够读取新写入的数据。现有对象的覆盖，元数据更新和删除操作最终保持一致。</block>
  <block id="e8d772e3bb725e140c46266480cf6e56" category="section-title">什么是 LDR 服务？</block>
  <block id="4fe0c3c99a5f9b208b980d58bc477cd6" category="paragraph">本地分发路由器（ LDR ）服务由每个存储节点托管，负责处理 StorageGRID 系统的内容传输。内容传输包含许多任务，包括数据存储，路由和请求处理。LDR 服务通过处理数据传输负载和数据流量功能来完成 StorageGRID 系统的大部分繁重工作。</block>
  <block id="594b1b4b13f0ac3bde359b31ac21edf8" category="paragraph">LDR 服务可处理以下任务：</block>
  <block id="2bb473abc563ea46d6201cbb31c9c1cc" category="list-text">信息生命周期管理（ ILM ）活动</block>
  <block id="b6f824a816802ccebdf7cb15ddf186c4" category="list-text">对象删除</block>
  <block id="0a84aa49fca9b9b94cc3004661678b40" category="list-text">对象数据存储</block>
  <block id="08a6bb2afcfbd1dcdda8de1b78d76564" category="list-text">从其他 LDR 服务（存储节点）传输对象数据</block>
  <block id="7a78c01440c89d06033c07421287eee3" category="list-text">数据存储管理</block>
  <block id="6f140878277f29773aff72e698f99823" category="list-text">协议接口（ S3 和 Swift ）</block>
  <block id="b634f909be589ba1dadf3dc6ce7bd1c4" category="paragraph">此外， LDR 服务还可管理 S3 和 Swift 对象到 StorageGRID 系统为每个载入对象分配的唯一 "`content handles` " （ UUID ）的映射。</block>
  <block id="705e9682866de36e680a7a733cd7f579" category="paragraph">LDR 查询包括在检索和归档操作期间查询对象位置。您可以确定运行查询所需的平均时间，成功查询的总数以及因超时问题描述 而失败的查询总数。</block>
  <block id="1f59f88a9c0d9c6f734fa197ab912569" category="paragraph">您可以查看查询信息以监控元数据存储的运行状况，这会影响系统的载入和检索性能。例如，如果平均查询的延迟较慢，并且因超时而导致查询失败的次数较多，则元数据存储可能会遇到较高的负载或执行其他操作。</block>
  <block id="bc71aec6fdc564dc3c566885d2b012de" category="paragraph">您还可以查看因一致性失败而失败的查询总数。通过特定 LDR 服务执行查询时，可用元数据存储数量不足会导致一致性级别失败。</block>
  <block id="80bba82e1db4d6d59cd1c4f7d09efc4d" category="section-title">ILM 活动</block>
  <block id="32068c2de271cc51b17e94ec2127d679" category="paragraph">通过信息生命周期管理（ ILM ）指标，您可以监控对象在实施 ILM 时的评估速率。您可以在信息板或 * 节点 * &gt; * 存储节点 _* &gt; * ILM * 上查看这些指标。</block>
  <block id="6670d47e57b4fe982554519effc771c5" category="section-title">对象存储</block>
  <block id="9c7231143d58f18eb5fb0bf0532da79a" category="paragraph">LDR 服务的底层数据存储分为固定数量的对象存储（也称为存储卷）。每个对象存储都是一个单独的挂载点。</block>
  <block id="f286cc3091b953f2691193a904769d76" category="paragraph">您可以在节点页面 &gt; 存储选项卡上查看存储节点的对象存储。</block>
  <block id="c2ea41a5801a9175f90e6f8d772196e0" category="paragraph">存储在存储节点中的对象使用从 0000 到 002F 的十六进制数字进行标识，该数字称为卷 ID 。在第一个对象存储（卷 0 ）中预留空间用于 Cassandra 数据库中的对象元数据；该卷上的任何剩余空间用于对象数据。所有其他对象存储仅用于对象数据，其中包括复制的副本和经过纠删编码的片段。</block>
  <block id="1df03524a5fdf784a72919f4051deb79" category="paragraph">为了确保复制的副本的空间使用量均匀，给定对象的对象数据会根据可用存储空间存储到一个对象存储中。当一个或多个对象存储填满容量时，其余对象存储将继续存储对象，直到存储节点上没有更多空间为止。</block>
  <block id="f3eab670837c97973752da884ba45bf6" category="section-title">元数据保护</block>
  <block id="7aecd2f224ac395752472d6c65ec634b" category="paragraph">对象元数据是指与对象或对象的问题描述 相关的信息，例如对象修改时间或存储位置。StorageGRID 将对象元数据存储在与 LDR 服务连接的 Cassandra 数据库中。</block>
  <block id="ddd89a7bf8c792c86866174ea2f87ac9" category="paragraph">为了确保冗余并防止丢失，每个站点维护三个对象元数据副本。这些副本会均匀分布在每个站点的所有存储节点上。此复制不可配置，并且会自动执行。</block>
  <block id="c70713a3f8f991a51ed0722e4bf51935" category="paragraph"><block ref="c70713a3f8f991a51ed0722e4bf51935" category="inline-xref-macro-rx"></block></block>
  <block id="2a27714c7d6b03f70b208a2a63e35f87" category="summary">主管理节点托管 CMN 服务。某些维护过程只能使用主管理节点执行。</block>
  <block id="03b227459e4fde42a54ff92673c0ed9e" category="doc">确定主管理节点</block>
  <block id="e3ae60af078325b9d96c5575b558923d" category="inline-image-macro">加号</block>
  <block id="2e149e043d1a9c783980cdf2c1aa2171" category="list-text">选择 * ； site_* &gt; * 管理节点 * ，然后选择 <block ref="0dd3f3b596fe9802ed702c076bb0e1b5" category="inline-image-macro-rx" type="image"></block> 展开拓扑树并显示此管理节点上托管的服务。</block>
  <block id="1dde6dc342a0489a44d6a6dba0dac9c4" category="paragraph">主管理节点托管 CMN 服务。</block>
  <block id="ea8ff707bf049e983e06af0d93d0b370" category="list-text">如果此管理节点不托管 CMN 服务，请检查其他管理节点。</block>
  <block id="8da9368ba7597d268e3b078eb4170f28" category="summary">如果您不再需要流量分类策略，可以将其删除。</block>
  <block id="fd5fb6ab64fd52bd637efc5df5960596" category="doc">删除流量分类策略</block>
  <block id="8d54d8878dc586c55429e38c02793c47" category="image-alt">流量分类策略示例</block>
  <block id="2f127c1fc57c440c0ae0c78eebe08252" category="list-text">选择要删除的策略左侧的单选按钮。</block>
  <block id="c4a069fbf75f5325da1d2e25fb56b56d" category="paragraph">此时将显示警告对话框。</block>
  <block id="224119358255aab9f7d4f3209820a81b" category="image-alt">删除流量分类策略</block>
  <block id="7157f98effd196e9475562977dca4676" category="list-text">选择 * 确定 * 确认要删除此策略。</block>
  <block id="36c3aba72fd1e7689f5e4596808a8abb" category="paragraph">此策略将被删除。</block>
  <block id="13565840b7e2ba9f2687e3254f1ebf40" category="summary">您需要为从归档节点保存的数据定义一个使用 TSM 管理类的域策略，然后注册一个节点以使用此域策略。</block>
  <block id="66467c05ff1b013f60118628a984e5e0" category="doc">定义域策略并注册节点</block>
  <block id="0be2d9746534fb96d269d78f6f4cb314" category="admonition">如果 Tivoli Storage Manager （ TSM ）中归档节点的客户端密码过期，则归档节点进程可能会泄漏内存。确保已配置 TSM 服务器，以便归档节点的客户端用户名 / 密码永不过期。</block>
  <block id="90b92e0d60710286c2391f39f2c8162d" category="paragraph">在 TSM 服务器上注册节点以使用归档节点（或更新现有节点）时，必须通过在注册节点命令中指定 MAXNUMMP 参数来指定节点可用于写入操作的挂载点数量。挂载点的数量通常等于分配给归档节点的磁带驱动器头的数量。在 TSM 服务器上为 MAXNUMMP 指定的数量必须至少与为归档节点的 * ARC* &gt; * 目标 * &gt; * 配置 * &gt; * 主 * &gt; * 最大存储会话 * 设置的值相同。 该值设置为 0 或 1 ，因为归档节点不支持并发存储会话。</block>
  <block id="f39cec32634da9f0f0194a7dfe11a296" category="paragraph">为 TSM 服务器设置的 MaxSessions 值用于控制所有客户端应用程序可向 TSM 服务器打开的最大会话数。在 TSM 上指定的 MaxSessions 值必须至少与在网格管理器中为归档节点指定的 * ARC* &gt; * 目标 * &gt; * 配置 * &gt; * 主 * &gt; * 会话数 * 的值相同。归档节点会同时为每个挂载点最多创建一个会话，并另外创建少量（ &lt; 5 ）个会话。</block>
  <block id="e57a23f6bb7958e30b584385b20de4fd" category="paragraph">分配给归档节点的 TSM 节点使用自定义域策略 `TSM-domain` 。`TSM-domain` 域策略是 "tandard` " 域策略的修改版本，配置为写入磁带，并将归档目标设置为 StorageGRID 系统的存储池（` _SGWSDiskPool `s` ）。</block>
  <block id="8d986e33f895ea773c712c757a28f268" category="admonition">您必须使用管理权限登录到 TSM 服务器，并使用 dsmadc 工具创建和激活域策略。</block>
  <block id="f147c8ed0b48190b7e71b7f516f198c6" category="summary">如果需要更改 NFS 审核客户端的 IP 地址，请完成以下步骤。</block>
  <block id="d39f30e9c109cc1b79cae20a22fc5b35" category="doc">更改 NFS 审核客户端的 IP 地址</block>
  <block id="8d0ca4973cf72fd1c243adb4c07a2ec2" category="list-text">向现有 NFS 审核共享添加新 IP 地址。</block>
  <block id="7850b21804fe8f9f83e3d4d9ef522499" category="list-text">删除原始 IP 地址。</block>
  <block id="2b1feff7b12ffec5f09e77d1def984c0" category="list-text"><block ref="2b1feff7b12ffec5f09e77d1def984c0" category="inline-xref-macro-rx"></block></block>
  <block id="d7c95f6ed6282835691a5b46bc41adc0" category="list-text"><block ref="d7c95f6ed6282835691a5b46bc41adc0" category="inline-xref-macro-rx"></block></block>
  <block id="86f7d1a64c415dbe7948ca36a1e3bf52" category="summary">您必须使用受支持的 Web 浏览器。</block>
  <block id="975ad36a3df03daefcd1871fe8e481dd" category="cell">Web 浏览器</block>
  <block id="100e06e22fe26dcd8d289d35362544bb" category="cell">支持的最低版本</block>
  <block id="76868ae832f6c6bd26cadc7d7c269986" category="paragraph">Google Chrome</block>
  <block id="26657d5ff9020d2abefe558796b99584" category="paragraph">96</block>
  <block id="a5c41f715c1b8a880253846c025624e9" category="paragraph">Microsoft Edge</block>
  <block id="c70af508e72e2dc32d72f3765abb21b9" category="paragraph">Mozilla Firefox</block>
  <block id="f4b9ec30ad9f68f89b29639786cb62ef" category="paragraph">94.</block>
  <block id="74b0db43450d6ca0f809f583a0924212" category="paragraph">您应将浏览器窗口设置为建议的宽度。</block>
  <block id="fb5b6a7dd7429a0b8c2e33d3de52766e" category="cell">浏览器宽度</block>
  <block id="c3d2f5d37334dc978fd8b17fc77408a1" category="cell">像素</block>
  <block id="a1d0ec6d56f8833a078b5a7ac4caf2d4" category="paragraph">最小值</block>
  <block id="021bbc7ee20b71134d53e20206bd6feb" category="paragraph">1024</block>
  <block id="9936886d3be53d8c1e376cd2cae09233" category="paragraph">最佳</block>
  <block id="da11e8cd1811acb79ccf0fd62cd58f86" category="paragraph">1280</block>
  <block id="d888e88f01f55cf8f0a34792563cd201" category="summary">链路成本可用于确定存在两个或更多数据中心站点时哪个数据中心站点提供请求的服务的优先级。您可以调整链路成本以反映站点之间的延迟。</block>
  <block id="96c0c853265d726943f2080cc78bb945" category="list-text">链接成本用于确定用于实现对象检索的对象副本的优先级。</block>
  <block id="6802358ccac1d9f910297c8425ad6afb" category="list-text">网格管理 API 和租户管理 API 使用链路成本来确定要使用的内部 StorageGRID 服务。</block>
  <block id="53457053b38e340b23e6b91ac14ca452" category="inline-xref-macro">负载平衡的工作原理— CLB 服务</block>
  <block id="ce61ca8cb0f0df667e7d7479f5f27985" category="list-text">链路成本由网关节点上已弃用的连接负载平衡器（ CLB ）服务用于指导客户端连接。请参见 <block ref="18ce3d9fa455809894d6fd1df362ca3a" category="inline-xref-macro-rx"></block>。</block>
  <block id="bfaa1d1e45d5ac06c455599d14332b66" category="paragraph">此图显示了一个三站点网格，其中在站点之间配置了链路成本：</block>
  <block id="c87f6edc64e15e93feedd4674c83aad1" category="image-alt">数据中心之间链路成本的概念图</block>
  <block id="fa0d04e7240598539d56362e0eddbc20" category="list-text">网关节点上的 CLB 服务会将客户端连接平均分布到同一数据中心站点上的所有存储节点以及任何数据中心站点，链路成本为 0 。</block>
  <block id="23de9d5042498c49aa79193e817a0e41" category="paragraph">在此示例中，数据中心站点 1 （ DC1 ）的网关节点会将客户端连接平均分布到 DC1 的存储节点和 DC2 的存储节点。DC3 上的网关节点仅向 DC3 上的存储节点发送客户端连接。</block>
  <block id="83e392fd5573fef60c95238dc5592b84" category="list-text">在检索作为多个复制副本存在的对象时， StorageGRID 会在链路成本最低的数据中心检索此副本。</block>
  <block id="dc27db3f579a768298fdf73737403d1a" category="paragraph">在此示例中，如果 DC2 上的客户端应用程序检索存储在 DC1 和 DC3 上的对象，则会从 DC1 检索该对象，因为从 DC1 到 D2 的链路成本为 0 ，低于从 DC3 到 DC2 的链路成本（ 25 ）。</block>
  <block id="c6888da4dbb7f0c356bb00574f524dac" category="paragraph">链路成本是任意的相对数字，没有特定的度量单位。例如，使用链路成本 50 比使用链路成本 25 更低。下表显示了常用链路成本。</block>
  <block id="62e734353c5cfd6023d970172d9908a9" category="cell">链路成本</block>
  <block id="f8d2e4f277b883914700bcf3f6db29a7" category="paragraph">物理数据中心站点之间</block>
  <block id="8cf9ba0dd9b99d39606ff052a4b5d51c" category="paragraph">25 （默认）</block>
  <block id="27cd743f3732e5d2d4e3bbb19a629c8e" category="paragraph">通过 WAN 链路连接的数据中心。</block>
  <block id="b9222dc4c1ed01f106b2f3f8e012cd2c" category="paragraph">位于同一物理位置的逻辑数据中心站点之间</block>
  <block id="dcd193f592e35d951a5ab665343680ff" category="paragraph">逻辑数据中心位于通过 LAN 连接的同一物理建筑或园区中。</block>
  <block id="7a94650e77c7efcd85928ced41247a73" category="summary">管理节点上的网络管理系统（ Network Management System ， NMS ）服务会向邮件服务器发送通知。您可以在接口引擎页面上查看 NMS 服务的当前状态及其通知队列大小。</block>
  <block id="21fe5b6242bc7db695a152418b4c05cc" category="doc">查看通知状态和队列</block>
  <block id="8c371e660a46244f1b8018ccf8b8c5b8" category="paragraph">要访问接口引擎页面，请选择 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 。最后，选择 * 站点 _* &gt; * 管理节点 _* &gt; * NMS* &gt; * 接口引擎 * 。</block>
  <block id="cd10bab6a752cca9ec09463bb43d913b" category="image-alt">接口引擎页面</block>
  <block id="590bd5a76e698a735fd48492bff0b969" category="paragraph">通知通过电子邮件通知队列进行处理，并按触发顺序逐个发送到邮件服务器。如果出现问题（例如网络连接错误），并且在尝试发送通知时邮件服务器不可用，则尽力将通知重新发送到邮件服务器的操作将持续 60 秒。如果通知在 60 秒后未发送到邮件服务器，则通知将从通知队列中删除，并尝试在队列中发送下一个通知。由于通知可以从通知队列中删除而不发送，因此，在不发送通知的情况下，可能会触发警报。如果通知从队列中删除而未发送，则会触发分钟（电子邮件通知状态）次要警报。</block>
  <block id="f0b2a602a1440d88059a15d4f23c9e58" category="summary">您可以替换或还原用于通过 S3 或 Swift 客户端连接到存储节点，网关节点上已弃用的 CLB 服务或负载平衡器端点的服务器证书。替换的自定义服务器证书特定于您的组织。</block>
  <block id="03ed5a8ec1cf98f00e79b02027a1837e" category="paragraph">您可以替换或还原用于通过 S3 或 Swift 客户端连接到存储节点，网关节点上已弃用的连接负载平衡器（ CLB ）服务或负载平衡器端点的服务器证书。替换的自定义服务器证书特定于您的组织。</block>
  <block id="f66673b358db11d917366aad6f274fbb" category="paragraph">默认情况下，每个存储节点都会获得一个由网格 CA 签名的 X.509 服务器证书。这些 CA 签名的证书可以替换为一个通用的自定义服务器证书和相应的专用密钥。</block>
  <block id="4a9ce8a873ac90bb157793b71558a71d" category="paragraph">所有存储节点都使用一个自定义服务器证书，因此，如果客户端在连接到存储端点时需要验证主机名，则必须将此证书指定为通配符或多域证书。定义自定义证书，使其与网格中的所有存储节点匹配。</block>
  <block id="ce228ea0ee331198297ed52b70bc0254" category="paragraph">在服务器上完成配置后，您可能还需要在用于访问系统的 S3 或 Swift API 客户端中安装网格 CA 证书，具体取决于您正在使用的根证书颁发机构（ CA ）。</block>
  <block id="65e525b4d4a57b745101ed6b986726eb" category="admonition">为了确保操作不会因服务器证书失败而中断，根服务器证书即将过期时会触发 * S3 和 Swift APi* 全局服务器证书到期警报。根据需要，您可以通过选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * 并在全局选项卡上查看 S3 和 Swift API 证书的到期日期来查看当前证书的到期时间。</block>
  <block id="8658bb3cf3ec790b59c8187613a4b7b1" category="paragraph">您可以上传或生成自定义 S3 和 Swift API 证书。</block>
  <block id="8a1ba96660a3c2582478eb3a85970f23" category="section-title">添加自定义 S3 和 Swift API 证书</block>
  <block id="50b66720071a12cff575dbc470414ce1" category="list-text">选择 * 使用自定义证书 * 。</block>
  <block id="44edae949695e6b761348920fe29be4c" category="list-text">上传或生成证书。</block>
  <block id="9da5c2efee047e7bbf45297d96c9a411" category="paragraph">上传所需的服务器证书文件。</block>
  <block id="c3531ef4808becf3d3bf168a985f308a" category="list-text">* 服务器证书 * ：自定义服务器证书文件（ PEM 编码）。</block>
  <block id="403ac7d2fa87cdd120a7789edb437baf" category="list-text">* CA bundle* ：一个可选文件，其中包含来自每个中间颁发证书颁发机构的证书。此文件应包含 PEM 编码的每个 CA 证书文件，并按证书链顺序串联。</block>
  <block id="25b5b50768ffa33a68baa7c4ead844d7" category="list-text">选择证书详细信息以显示上传的每个自定义 S3 和 Swift API 证书的元数据和 PEM 。如果您上传了可选的 CA 包，则每个证书都会显示在其自己的选项卡上。</block>
  <block id="251dae58c4e46936e0914371f0f6301d" category="paragraph">自定义服务器证书用于后续的新 S3 和 Swift 客户端连接。</block>
  <block id="0e36047584a0f3990e6cf3e83fc912a6" category="paragraph">生成服务器证书文件。</block>
  <block id="f00a8e93e85076daa4ec01659dab2e27" category="list-text">选择 * 证书详细信息 * 可显示生成的自定义 S3 和 Swift API 证书的元数据和 PEM 。</block>
  <block id="eee2436513fa6615e5cdc092097838c9" category="list-text">选择一个选项卡以显示默认 StorageGRID 服务器证书，已上传的 CA 签名证书或已生成的自定义证书的元数据。</block>
  <block id="7a5286940c0acb810e9619dae8473de7" category="admonition">上传或生成新证书后，请留出最多一天的时间来清除任何相关证书到期警报。</block>
  <block id="b45a76c38a9762aafb7dfb5dcf3d6662" category="list-text">刷新页面以确保 Web 浏览器已更新。</block>
  <block id="2e96d1c941a6350d5c05b964589b80c0" category="list-text">添加自定义 S3 和 Swift API 证书后， S3 和 Swift API 证书页面将显示正在使用的自定义 S3 和 Swift API 证书的详细证书信息。+ 您可以根据需要下载或复制证书 PEM 。</block>
  <block id="7d3ce9993ffe01109897ba2ab515cec8" category="section-title">还原默认 S3 和 Swift API 证书</block>
  <block id="3a78798a6e8258b9bcd204b5eb496a74" category="paragraph">对于 S3 和 Swift 客户端与存储节点的连接以及网关节点上已弃用的 CLB 服务，您可以还原为使用默认 S3 和 Swift API 证书。但是，您不能对负载平衡器端点使用默认 S3 和 Swift API 证书。</block>
  <block id="3d7a7e3a9c3ab8ca1a389c5b0496c855" category="list-text">选择 * 使用默认证书 * 。</block>
  <block id="fa67060c1e18f09daf65844e1af2263f" category="paragraph">还原全局 S3 和 Swift API 证书的默认版本时，您配置的自定义服务器证书文件将被删除，无法从系统中恢复。默认的 S3 和 Swift API 证书将用于以后与存储节点以及网关节点上已弃用的 CLB 服务建立的新 S3 和 Swift 客户端连接。</block>
  <block id="481914e181628b97a9ad8ee5139ff970" category="list-text">选择 * 确定 * 确认警告并还原默认 S3 和 Swift API 证书。</block>
  <block id="fa3940727ce573a812306197e3eee619" category="paragraph">如果您拥有根访问权限，并且自定义 S3 和 Swift API 证书用于负载平衡器端点连接，则会显示一个负载平衡器端点列表，这些端点将无法再使用默认 S3 和 Swift API 证书进行访问。转至 <block ref="ab412983dcdc2d64f5eb319fec073b1f" category="inline-xref-macro-rx"></block> 编辑或删除受影响的端点。</block>
  <block id="90725c08d4db3fd75587bfff36d56b17" category="section-title">下载或复制 S3 和 Swift API 证书</block>
  <block id="c668e54f4519a1d504f00d2c44a1506d" category="paragraph">您可以保存或复制 S3 和 Swift API 证书内容，以便在其他位置使用。</block>
  <block id="edf4245faf499620ac5860d7ae3f9505" category="list-text">选择 * 服务器 * 或 * CA 捆绑包 * 选项卡，然后下载或复制证书。</block>
  <block id="7e1c7799ff5ba797f020ebcdbbfce959" category="open-title">下载证书文件或 CA 包</block>
  <block id="b3d60ab183c46ad8414969c997f36e4b" category="paragraph">下载证书或 CA 捆绑包 ` .pem` 文件。如果您使用的是可选的 CA 包，则该包中的每个证书都会显示在其自己的子选项卡上。</block>
  <block id="e368c3ea2409485f08a5b01b34f487dc" category="list-text">选择 * 下载证书 * 或 * 下载 CA 捆绑包 * 。</block>
  <block id="b1a7d731272f673419de29626d908923" category="paragraph">如果要下载 CA 包，则 CA 包二级选项卡中的所有证书将作为一个文件下载。</block>
  <block id="2d523443485f221261f83394ac318441" category="open-title">复制证书或 CA 捆绑包 PEM</block>
  <block id="74b3afbfd28d6b33c4752847c6cec78a" category="paragraph">复制证书文本以粘贴到其他位置。如果您使用的是可选的 CA 包，则该包中的每个证书都会显示在其自己的子选项卡上。</block>
  <block id="dc350c837f68441dbd37ba967b9f5fb1" category="list-text">选择 * 复制证书 PEM* 或 * 复制 CA 捆绑包 PEM* 。</block>
  <block id="d462a72897edd3d7693595cac8e60b34" category="paragraph">如果要复制 CA 包，则 CA 包二级选项卡中的所有证书会同时复制在一起。</block>
  <block id="520d9c39bfcabf8e1611f52fec61fbd1" category="list-text"><block ref="520d9c39bfcabf8e1611f52fec61fbd1" category="inline-xref-macro-rx"></block></block>
  <block id="ce0fbc211c2eb1c432c99d171ee15e82" category="summary">如果要使用 S3 接口连接到归档节点，则必须配置 S3 API 的连接设置。在配置这些设置之前，由于无法与外部归档存储系统进行通信，因此， ARC-Service 将保持主要警报状态。</block>
  <block id="97fb95b38a5f6804b6d2f6b0f0f7540d" category="doc">配置 S3 API 的连接设置</block>
  <block id="e54fd72f10833a026d8eb2044f5eff5b" category="paragraph">通过 S3 API 将对象从归档节点移动到外部归档存储系统已被 ILM 云存储池所取代，它可提供更多功能。仍然支持 * 云分层 - 简单存储服务（ S3 ） * 选项，但您可能更喜欢实施云存储池。</block>
  <block id="c33873cef12754f6df16e1cf36511cf4" category="paragraph">如果您当前正在使用具有 * 云分层 - 简单存储服务（ S3 ） * 选项的归档节点，请考虑将对象迁移到云存储池。请参见 <block ref="5143f9b7656d191fdc2d9db2e1591b49" category="inline-xref-macro-rx"></block>。</block>
  <block id="1b13691c541b86d501557ba00c921745" category="list-text">您已在目标归档存储系统上创建存储分段：</block>
  <block id="19d53be0015cee2be2ec49989fdb0b21" category="list-text">此存储分段专用于一个归档节点。它不能由其他归档节点或其他应用程序使用。</block>
  <block id="e73248ea33c53890a6ee7bfa55a1a61a" category="list-text">存储分段已为您的位置选择相应的区域。</block>
  <block id="115b9d5fded334d47c16c1d7446e4c37" category="list-text">应在存储分段配置中暂停版本控制。</block>
  <block id="55b7aebe330e2c800b46dc0d42814751" category="list-text">已启用对象分段，并且最大分段大小小于或等于 4.5 GiB （ 4 ， 831 ， 838 ， 208 字节）。如果使用 S3 作为外部归档存储系统，超过此值的 S3 API 请求将失败。</block>
  <block id="22a72702fadc31774952077aad0f9e94" category="image-alt">归档节点的配置页面</block>
  <block id="ffc39755202a2e7cbacf640347805a49" category="list-text">从目标类型下拉列表中选择 * 云分层 - 简单存储服务（ S3 ） * 。</block>
  <block id="a8aedf8c46d11e10f2c341d765443c2e" category="admonition">只有在选择目标类型后，配置设置才可用。</block>
  <block id="c25cc800f905f08eebb89462d1d92e3e" category="list-text">配置云分层（ S3 ）帐户，归档节点将通过该帐户连接到支持 S3 的目标外部归档存储系统。</block>
  <block id="fe543d92d8ff9838de3e9c4965554217" category="paragraph">此页面上的大多数字段都是不言自明的。下面介绍了可能需要指导的字段。</block>
  <block id="4bd39eecfd8c81952fc6c86218a1004b" category="list-text">* 地区 * ：仅在选择 * 使用 AWS* 时可用。您选择的区域必须与存储分段的区域匹配。</block>
  <block id="01bba13b82065a42da684baa60419672" category="list-text">* 端点 * 和 * 使用 AWS* ：对于 Amazon Web Services （ AWS ），请选择 * 使用 AWS* 。然后，系统会根据 " 分段名称 " 和 " 区域 " 属性自动为 * 端点 * 填充端点 URL 。例如：</block>
  <block id="6d37e351fd1a84af6cb1de0f4845a1c2" category="paragraph">` https://bucket.region.amazonaws.com`</block>
  <block id="922439a0db2cd3b4f10e0d1c7b8585a5" category="paragraph">对于非 AWS 目标，输入托管存储分段的系统的 URL ，包括端口号。例如：</block>
  <block id="c0658c6e01c5145ece61ce53eb9e21fe" category="paragraph">` https://system.com:1080`</block>
  <block id="bac9ea6f37d46931dcbaa27870afd31a" category="list-text">* 端点身份验证 * ：默认情况下处于启用状态。如果外部归档存储系统的网络是可信的，则可以取消选中此复选框，以便为目标外部归档存储系统禁用端点 SSL 证书和主机名验证。如果 StorageGRID 系统的另一个实例是目标归档存储设备，并且系统配置了公共签名证书，则可以保持选中复选框。</block>
  <block id="a99a53112409185291f025b9479c6f52" category="list-text">* 存储类 * ：选择 * 标准（默认） * 作为常规存储。仅为易于重新创建的对象选择 * 精简冗余 * 。* 冗余减少 * 可降低存储成本，降低可靠性。如果目标归档存储系统是 StorageGRID 系统的另一个实例，则如果在目标系统上载入对象时使用了双提交，则 * 存储类 * 将控制在目标系统上载入时为该对象创建的中间副本数。</block>
  <block id="d1183dfeccf002edd4f2cdc5a3a03453" category="paragraph">系统将验证指定的配置设置并将其应用于 StorageGRID 系统。配置后，无法更改目标。</block>
  <block id="f56f831cbf231032efca44955ba39a36" category="summary">例如，如果证书即将到期，您可能需要编辑密钥管理服务器的配置。</block>
  <block id="3756762891d566e02684573341bb54b6" category="doc">编辑密钥管理服务器（ KMS ）</block>
  <block id="6f0bca55c4c9c649deb9c649f2bfcddb" category="inline-xref-macro">使用密钥管理服务器的注意事项和要求</block>
  <block id="45867460d54868612f0c46bd29dbc441" category="list-text">您已查看 <block ref="0cff570d8b3a2c7a08ae7ebeb5e31b6c" category="inline-xref-macro-rx"></block>。</block>
  <block id="f3fb0e930e33c1e08aabadbd84b6b286" category="inline-xref-macro">更改站点的 KMS 的注意事项</block>
  <block id="92c2e1faaa6b2d459a21f35286b71955" category="list-text">如果您计划更新为 KMS 选择的站点，则已查看 <block ref="21a607f0547750e609ad793a87a38df7" category="inline-xref-macro-rx"></block>。</block>
  <block id="eb0979742e58f4650cd61bef13332167" category="list-text">选择 * 配置 * &gt; * 安全性 * &gt; * 密钥管理服务器 * 。</block>
  <block id="094aad38dddbccdf2ece60952150a7f8" category="paragraph">此时将显示密钥管理服务器页面，其中显示了已配置的所有密钥管理服务器。</block>
  <block id="d5be381d54b449eea9e715ed09b6d138" category="image-alt">KMS 配置详细信息 KMS 表</block>
  <block id="3c7c5d7a7762562690cdafecb36e5a2a" category="list-text">选择要编辑的 KMS ，然后选择 * 编辑 * 。</block>
  <block id="76be3d87a1bcbdd54d29e37575961dac" category="list-text">或者，更新编辑密钥管理服务器向导的 * 步骤 1 （输入 KMS 详细信息） * 中的详细信息。</block>
  <block id="4bbf6364417b0c5ad864344545a7843c" category="paragraph">Kms 显示名称</block>
  <block id="ab04af3d4265dc18de4a73b2eaed832d" category="paragraph">一个描述性名称，可帮助您标识此 KMS 。必须介于 1 到 64 个字符之间。</block>
  <block id="d1be9ef41530dd42ac60aeb1de5a7ff8" category="paragraph">密钥名称</block>
  <block id="bfa2a8abf9595c270ddb1dbd00c07479" category="paragraph">StorageGRID 客户端在 KMS 中的确切密钥别名。必须介于 1 到 255 个字符之间。</block>
  <block id="59bf1405fee066560110ab38a17f60ac" category="paragraph">在极少数情况下，您只需要编辑密钥名称。例如，如果在 KMS 中重命名了别名，或者先前密钥的所有版本都已复制到新别名的版本历史记录中，则必须编辑密钥名称。</block>
  <block id="d382410bc09d07cebb583ef425cc3bb6" category="paragraph">切勿尝试通过更改 KMS 的密钥名称（别名）来旋转密钥。而是通过更新 KMS 软件中的密钥版本来轮换密钥。StorageGRID 要求使用相同密钥别名从 KMS 访问以前使用的所有密钥版本（以及将来的任何密钥版本）。如果更改已配置 KMS 的密钥别名，则 StorageGRID 可能无法对数据进行解密。</block>
  <block id="e6ff445302b54ca5e3c1903fed224731" category="inline-xref-macro">使用密钥管理服务器的注意事项和要求</block>
  <block id="2fd5145ed8b9a92553556f1031112f49" category="paragraph"><block ref="2fd5145ed8b9a92553556f1031112f49" category="inline-xref-macro-rx"></block></block>
  <block id="3942d893a42cdf2d4190c69f62200ecc" category="paragraph">管理的密钥</block>
  <block id="744d7943684237d5f7b9eee1549b88ed" category="paragraph">如果您正在编辑站点特定的 KMS ，并且尚未设置默认 KMS ，则也可以选择 * 不由其他 KMS 管理的站点（默认 KMS ） * 。此选项会将站点特定的 KMS 转换为默认 KMS ，该 KMS 将应用于没有专用 KMS 的所有站点以及在扩展中添加的任何站点。</block>
  <block id="37a276e6273a2b3a732f72a197ae969e" category="paragraph">* 注意： * 如果要编辑站点特定的 KMS ，则无法选择其他站点。如果要编辑默认 KMS ，则无法选择特定站点。</block>
  <block id="d43d1108c693168f6c3b6bbe6bdd0384" category="paragraph">KMS 服务器用于密钥管理互操作性协议（ Key Management Interoperability Protocol ， KMIP ）通信的端口。默认为 5696 ，即 KMIP 标准端口。</block>
  <block id="c8f4b8c435b3d99a66e1b91bec60737c" category="paragraph">主机名</block>
  <block id="2e7ebbeb96b416cdd4b8b1b515a35d04" category="paragraph">KMS 的完全限定域名或 IP 地址。</block>
  <block id="e5daa2e5d251cbe0de3991fe23244fd3" category="paragraph">* 注： * 服务器证书的 SAN 字段必须包含您在此处输入的 FQDN 或 IP 地址。否则， StorageGRID 将无法连接到 KMS 或 KMS 集群中的所有服务器。</block>
  <block id="cdbd8fedb673ea705335f47861a3a2e8" category="inline-image-macro">图标加号</block>
  <block id="4e9722bd6f8e5f605beddf6e2bc645bd" category="list-text">如果要配置 KMS 集群，请选择加号 <block ref="67847d056b9d257a54be6156f859e5e1" category="inline-image-macro-rx" type="image"></block> 为集群中的每个服务器添加主机名。</block>
  <block id="6b45378509d8b8148febbc884982b8af" category="paragraph">此时将显示编辑密钥管理服务器向导的第 2 步（上传服务器证书）。</block>
  <block id="3fc542564de68581146e733c1815a9cd" category="list-text">如果需要替换服务器证书，请选择 * 浏览 * 并上传新文件。</block>
  <block id="ec80b706663939f48384adec7e172c68" category="paragraph">此时将显示编辑密钥管理服务器向导的第 3 步（上传客户端证书）。</block>
  <block id="c0f153f19fd8470a56a67df2d06addcf" category="list-text">如果需要替换客户端证书和客户端证书专用密钥，请选择 * 浏览 * 并上传新文件。</block>
  <block id="e372287a0e1c9a0f7a54e2ac255f1156" category="paragraph">测试密钥管理服务器与受影响站点上的所有节点加密设备节点之间的连接。如果所有节点连接均有效，并且在 KMS 上找到正确的密钥，则密钥管理服务器将添加到密钥管理服务器页面上的表中。</block>
  <block id="911593e6dba3b7dfe9f8692438340dc4" category="list-text">如果显示错误消息，请查看消息详细信息，然后选择 * 确定 * 。</block>
  <block id="c187b2deace2ac9f2811f04714c34615" category="paragraph">例如，如果为此 KMS 选择的站点已由另一个 KMS 管理，或者连接测试失败，则可能会收到 422 ： Unprocessable Entity 错误。</block>
  <block id="e6e82a80c2cecc06c42f67f21bc8dc16" category="list-text">如果在解决连接错误之前需要保存当前配置，请选择 * 强制保存 * 。</block>
  <block id="ec3ccc09e06e2619983a0e7bc7bdb8bb" category="admonition">选择 * 强制保存 * 可保存 KMS 配置，但不会测试每个设备与该 KMS 的外部连接。如果具有此配置的问题描述 ，则可能无法重新启动受影响站点上已启用节点加密的设备节点。在问题解决之前，您可能无法访问数据。</block>
  <block id="06c45923514586ccc7aeb6ca1f42960b" category="paragraph">此时将保存 KMS 配置。</block>
  <block id="ca81d76878e219cc86765e94cc3164bd" category="list-text">查看确认警告，如果确实要强制保存配置，请选择 * 确定 * 。</block>
  <block id="2b30c91b5922cad0da5aebeed5abd649" category="image-alt">Kms 强制保存警告</block>
  <block id="55d058f9362be09e001c470fc678b3ae" category="paragraph">已保存 KMS 配置，但未测试与 KMS 的连接。</block>
  <block id="4b69fd0a387e1069b81c18424d925a6d" category="summary">必须根据需要计划和监控数据迁移，以确保在所需时间内根据 ILM 策略放置数据。</block>
  <block id="f01c71b30775d3374eea42b893c6d966" category="doc">计划和监控数据迁移</block>
  <block id="be42e31bdd5b38740fb5c0ad73d6c85b" category="section-title">计划数据迁移</block>
  <block id="203cddeac0c895d81017eeeffcbb3f29" category="paragraph">避免在核心运行时间迁移数据。将数据迁移限制为晚上，周末以及系统使用率较低的其他时间。</block>
  <block id="1e125e11a51655b631c662950516d24b" category="paragraph">如果可能，请勿在活动频繁期间计划数据迁移。但是，如果完全避免高活动期限不可行，只要您密切监控相关属性并在其超过可接受值时采取措施，就可以安全地继续操作。</block>
  <block id="495c66921a7b38cedf7d028ef7c2a42a" category="section-title">监控数据迁移</block>
  <block id="0cf19fa655b3aa3d538ff93f20813afe" category="paragraph">此表列出了在数据迁移期间必须监控的属性及其所代表的问题。</block>
  <block id="23eacd91b743e59471e5cb5d5a67d3ed" category="paragraph">如果您使用具有速率限制的流量分类策略来限制载入，则可以结合下表所述的统计信息来监控观察到的速率，并根据需要降低这些限制。</block>
  <block id="d2986ac8cb6bd55892099c1ffd6b1f6f" category="cell">监控</block>
  <block id="8879212f4683816d6b8f35cbbb424b73" category="paragraph">等待 ILM 评估的对象数量</block>
  <block id="2f7b672595e70e597216dd73212a6245" category="list-text">选择 * ； deployment_* &gt; * 概述 * &gt; * 主要 * 。</block>
  <block id="29384f69f4da0378f6a32e33837a629c" category="list-text">在 "ILM Activity" 部分中，监控为以下属性显示的对象数量：</block>
  <block id="f2eb8e0fc737af7f726cab33050989c0" category="list-text">* 正在等待 - 全部（ XQUZ ） * ：等待 ILM 评估的对象总数。</block>
  <block id="bb3c7300315e82007e419decf7d55007" category="list-text">* 正在等待 - 客户端（ XQZ ） * ：等待通过客户端操作（例如载入）进行 ILM 评估的对象总数。</block>
  <block id="6516c753d76d3efc613760c938d2117a" category="list-text">如果为其中任一属性显示的对象数量超过 100 ， 000 个，请限制对象的载入速率，以减少 StorageGRID 系统上的负载。</block>
  <block id="ff53f42cd1868dd6c064e4f3869c90f3" category="paragraph">目标归档系统的存储容量</block>
  <block id="d212b3f7189c293425871788bdd210d9" category="paragraph">如果 ILM 策略将已迁移数据的副本保存到目标归档存储系统（磁带或云），请监控目标归档存储系统的容量，以确保已迁移数据具有足够的容量。</block>
  <block id="627c6ce3af06484529f16a2ca74c5941" category="paragraph">* 归档节点 * &gt; * ARC/ * 存储 *</block>
  <block id="e80002b8bf3d96742de60835ece5c3f8" category="paragraph">如果触发了针对 * 存储故障（ ARVF ） * 属性的警报，则目标归档存储系统可能已达到容量。检查目标归档存储系统并解决触发警报的任何问题。</block>
  <block id="79fb64c66c0b74b0673538a420eefc5e" category="summary">您可以查看有关 StorageGRID 系统中已启用节点加密设置的设备节点的信息。</block>
  <block id="8754f14ec070203b9f67e767dd11c7fb" category="doc">查看加密节点</block>
  <block id="b3d7a84ddd6ba6c81da5c99026cd9926" category="paragraph">您可以查看有关 StorageGRID 系统中已启用 * 节点加密 * 设置的设备节点的信息。</block>
  <block id="537561509bcfc75de8d4c2f7b09479c5" category="paragraph">此时将显示密钥管理服务器页面。配置详细信息选项卡显示已配置的任何密钥管理服务器。</block>
  <block id="9d1203cd450f33949b55c3eaf6f931b9" category="list-text">从页面顶部，选择 * 加密节点 * 选项卡。</block>
  <block id="1a89d927bd4ad8ddb2ee8d883115affe" category="image-alt">Kms 加密节点选项卡</block>
  <block id="c1d05977cb2a58aa94d1dddcbe4de212" category="paragraph">加密节点选项卡列出了 StorageGRID 系统中已启用 * 节点加密 * 设置的设备节点。</block>
  <block id="86b0a27911d90bb8e7d592cad34624c3" category="image-alt">Kms 加密节点表</block>
  <block id="565918d639a4a237aa047a0ae3f6860d" category="list-text">查看表中每个设备节点的信息。</block>
  <block id="1976d7f704de389d9fe064e08ea35b2d" category="cell">列</block>
  <block id="b42e7e9f43276548d600d26ad21cd252" category="paragraph">节点名称</block>
  <block id="8e24c4785cc9779b963af9bdfbc1f7a7" category="paragraph">设备节点的名称。</block>
  <block id="fae2fede4aade9329940dae516241622" category="paragraph">节点的类型：存储，管理或网关。</block>
  <block id="a7d6475ec8993b7224d6facc8cb0ead6" category="paragraph">站点</block>
  <block id="0d7e293bae8a2c9a0ac37e23daf33764" category="paragraph">安装节点的 StorageGRID 站点的名称。</block>
  <block id="43b3ca3aa96a2d2a7996ef89915ee1ef" category="paragraph">用于节点的 KMS 的描述性名称。</block>
  <block id="72726f8fe96861933e2402c50c46e8b6" category="paragraph">如果未列出任何 KMS ，请选择配置详细信息选项卡以添加 KMS 。</block>
  <block id="90e0f7c31a43a0bfdda20f8fad29356c" category="inline-xref-macro">添加密钥管理服务器（ KMS ）</block>
  <block id="fb39cd51dd58d33b8fb5b20ad3761cd2" category="paragraph"><block ref="fb39cd51dd58d33b8fb5b20ad3761cd2" category="inline-xref-macro-rx"></block></block>
  <block id="d8fb2941a73638788556b9060fdeaed6" category="paragraph">密钥 UID</block>
  <block id="e3132fdedeea9346226730971da99de8" category="paragraph">用于对设备节点上的数据进行加密和解密的加密密钥的唯一 ID 。要查看整个密钥 UID ，请将光标悬停在单元格上方。</block>
  <block id="dac02a0825b2e26ac24191dde505bbf6" category="paragraph">短划线（ - ）表示密钥 UID 未知，可能是因为设备节点和 KMS 之间存在连接问题描述 。</block>
  <block id="d0c5b7dc805034b794844957fca6ce87" category="paragraph">KMS 与设备节点之间的连接状态。如果节点已连接，则时间戳每 30 分钟更新一次。更改 KMS 配置后，可能需要几分钟才能更新连接状态。</block>
  <block id="e01b79155e27f62939a0b6915cd54425" category="paragraph">* 注意： * 您必须刷新 Web 浏览器才能查看新值。</block>
  <block id="884425ae45e540e568ede64c8af009f1" category="list-text">如果状态列指示 KMS 问题描述 ，请立即解决此问题描述 。</block>
  <block id="804a276ea998820823b72f2bf0633340" category="paragraph">在正常的 KMS 操作期间，状态将为 * 已连接到 KMS* 。如果节点与网格断开连接，则会显示节点连接状态（ administratively down 或 Unknown ）。</block>
  <block id="a141f8a5d6640320d82b6b390c6db6d3" category="paragraph">其他状态消息对应于同名的 StorageGRID 警报：</block>
  <block id="4fa8b9cb5159ac8f5aa0a3c9e3de950b" category="paragraph">请参见的说明中针对这些警报建议的操作 <block ref="b9419b8aeaaca1ed05948ee5b33838b9" category="inline-xref-macro-rx"></block>。</block>
  <block id="835cbd94ec6cfb29dba6c0b75fa19b75" category="admonition">您必须立即解决任何问题，以确保您的数据得到完全保护。</block>
  <block id="418dcdb70633edffd6ad7bd0e9105b61" category="summary">您可以在首次安装 StorageGRID 时启用 AutoSupport 功能和各个 AutoSupport 选项，也可以稍后启用它们。</block>
  <block id="44ab8d5e0ce2a670c121bda2763e8fc5" category="doc">配置 AutoSupport</block>
  <block id="58e099a8e3798ce371f0f2a66dd4a773" category="list-text">您具有 root 访问权限或其他网格配置权限。</block>
  <block id="98bdb09d50c9c241d6d41e0f89315525" category="list-text">如果您要使用 HTTPS 或 HTTP 协议发送 AutoSupport 消息，则可以直接或使用代理服务器（不需要入站连接）提供对主管理节点的出站 Internet 访问。</block>
  <block id="9a3b8c094694ded9f787220fbb650ae6" category="inline-xref-macro">已配置管理员代理服务器</block>
  <block id="95148d26d53e2ba7cef55c0ec74e466d" category="list-text">如果要使用 HTTPS 或 HTTP 协议，并且要使用代理服务器，则可以使用 <block ref="a55d1d253b009a88fa4443dce14f638d" category="inline-xref-macro-rx"></block>。</block>
  <block id="d20ba1dd1cb7ad0abc5e4aab7e827092" category="list-text">如果要使用 SMTP 作为 AutoSupport 消息的协议，则表示已配置 SMTP 邮件服务器。警报电子邮件通知使用相同的邮件服务器配置（旧系统）。</block>
  <block id="39da5022506227af88f09e5a55461fef" category="section-title">指定 AutoSupport 消息的协议</block>
  <block id="3c21a43204a2ad41094078eb81113293" category="paragraph">您可以使用以下任一协议发送 AutoSupport 消息：</block>
  <block id="d040646a493d83a046938e13e272f92f" category="list-text">* HTTPS ：这是新安装的默认和建议设置。HTTPS 协议使用端口 443 。如果要启用 AutoSupport On Demand 功能，则必须使用 HTTPS 协议。</block>
  <block id="24fe1d22641a341bacfe164351379688" category="list-text">* HTTP * ：此协议不安全，除非在可信环境中使用，在该环境中，代理服务器在通过 Internet 发送数据时会转换为 HTTPS 。HTTP 协议使用端口 80 。</block>
  <block id="2811bfadd6addf4144fa17e84b8eade6" category="list-text">* SMTP ：如果要通过电子邮件发送 AutoSupport 消息，请使用此选项。如果使用 SMTP 作为 AutoSupport 消息的协议，则必须在 " 旧电子邮件设置 " 页面上配置 SMTP 邮件服务器（ * 支持 * &gt; * 警报（旧） * &gt; * 旧电子邮件设置 * ）。</block>
  <block id="290361fb6f8830b937e41d1121757a22" category="admonition">在 StorageGRID 11.2 版本之前， SMTP 是唯一可用于 AutoSupport 消息的协议。如果您最初安装的是早期版本的 StorageGRID ，则可能选择了 SMTP 协议。</block>
  <block id="53db622b9ce249209cbff8221f402d35" category="paragraph">您设置的协议用于发送所有类型的 AutoSupport 消息。</block>
  <block id="d7c456ce00204ac11452593f064abc35" category="paragraph">此时将显示 AutoSupport 页面，并选择 * 设置 * 选项卡。</block>
  <block id="5a6f3eb4c759612e8d3dbbb66b495e31" category="image-alt">包含设置选项卡 selected.png 的 AutoSupport 页面</block>
  <block id="582c9f6d453497082c823272d6c9243c" category="list-text">选择要用于发送 AutoSupport 消息的协议。</block>
  <block id="aa3b4c775721d8227c08c370829c3358" category="list-text">如果选择了 * HTTPS * ，请选择是否使用 TLS 证书来保护与 NetApp 支持服务器的连接。</block>
  <block id="cad2587e592dc8b8db740f4fd50f6a59" category="list-text">* 使用 NetApp 支持证书 * （默认）：证书验证可确保 AutoSupport 消息的传输安全。NetApp 支持证书已随 StorageGRID 软件一起安装。</block>
  <block id="389c39429bf1a84c68981ef463d93a10" category="list-text">* 不验证证书 * ：只有当您有充分理由不使用证书验证时，例如证书出现临时问题时，才选择此选项。</block>
  <block id="472e365c459916c6a365d5548f60e1b9" category="paragraph">所有每周消息，用户触发的消息和事件触发的消息均使用选定协议发送。</block>
  <block id="4c6876f328ae416524a7017cd7de120e" category="section-title">禁用每周 AutoSupport 消息</block>
  <block id="2a096b149ad2b8714e58ce3dcfe629d1" category="paragraph">默认情况下， StorageGRID 系统配置为每周向 NetApp 支持发送一次 AutoSupport 消息。</block>
  <block id="db20fed97356adedc2019ad49330067d" category="paragraph">要确定每周 AutoSupport 消息的发送时间，请转到 * AutoSupport * &gt; * 结果 * 选项卡。在 * 每周 AutoSupport * 部分中，查看 * 下一计划时间 * 的值。</block>
  <block id="8b32b86bc5f48032e840290998903036" category="image-alt">每周 AutoSupport 下一计划时间</block>
  <block id="62e05dd73f076984d8f31d1d0af25b1a" category="paragraph">您可以随时禁止自动发送每周 AutoSupport 消息。</block>
  <block id="b8dbca4808f189167461d2326abb9d07" category="list-text">取消选中 * 启用每周 AutoSupport * 复选框。</block>
  <block id="3c4a7cbba5db134bec8718efeea3644f" category="section-title">禁用事件触发的 AutoSupport 消息</block>
  <block id="618d951b35d3262e6400df8b467a667e" category="paragraph">默认情况下， StorageGRID 系统配置为在发生重要警报或其他重要系统事件时向 NetApp 支持发送 AutoSupport 消息。</block>
  <block id="5c8058256d1c4bd4e233eda1624b4701" category="paragraph">您可以随时禁用事件触发的 AutoSupport 消息。</block>
  <block id="de7f034785274075b63bcdbc743fcc70" category="admonition">在系统范围内禁止电子邮件通知时，也会禁止显示事件触发的 AutoSupport 消息。（选择 * 配置 * &gt; * 系统 * &gt; * 显示选项 * 。然后，选择 * 通知禁止全部 * 。）</block>
  <block id="00b3c5a0b8b294724674674d49c01acf" category="list-text">取消选中 * 启用事件触发的 AutoSupport * 复选框。</block>
  <block id="6b24738503e161633995fbad9bcc321b" category="section-title">启用 AutoSupport On Demand</block>
  <block id="369350ae72e56bc6e984da2e67ddb2a5" category="paragraph">AutoSupport On Demand 可帮助解决技术支持正在积极处理的问题。</block>
  <block id="38bf2f6d4fb03d3a2f81a53c7c830e0e" category="paragraph">默认情况下， AutoSupport On Demand 处于禁用状态。启用此功能后，技术支持可以请求 StorageGRID 系统自动发送 AutoSupport 消息。技术支持还可以为 AutoSupport On Demand 查询设置轮询时间间隔。</block>
  <block id="9a79d9a8faade4565af61b2137d691d3" category="paragraph">技术支持无法启用或禁用 AutoSupport On Demand 。</block>
  <block id="513108db63b7ade2f38de6f246aa7b31" category="list-text">为协议选择 * HTTPS * 。</block>
  <block id="55ca8d9c075c45a68dd5da058dbfe760" category="list-text">选中 * 启用每周 AutoSupport * 复选框。</block>
  <block id="72699946464c539109705f60f35eaf79" category="list-text">选中 * 启用按需 AutoSupport * 复选框。</block>
  <block id="f6a006c5eaf6d3e6170039c906a6e756" category="paragraph">已启用 AutoSupport On Demand ，技术支持可以将 AutoSupport On Demand 请求发送到 StorageGRID 。</block>
  <block id="7ea884be28d0d2c6eb32551bdaadfbd1" category="section-title">禁用软件更新检查</block>
  <block id="13938ce263a197cc3210a7512539b0b4" category="paragraph">默认情况下， StorageGRID 会联系 NetApp 以确定您的系统是否有可用的软件更新。如果提供了 StorageGRID 修补程序或新版本，则新版本将显示在 StorageGRID 升级页面上。</block>
  <block id="7cd7a1d78d9d5644bfd2cde135de4190" category="paragraph">根据需要，您可以选择禁用软件更新检查。例如，如果您的系统无法访问 WAN ，则应禁用此检查以避免下载错误。</block>
  <block id="2a638d5df9aecbabe954b659f4ed6d68" category="list-text">取消选中 * 检查软件更新 * 复选框。</block>
  <block id="c8a5df7ca9a1323633d53cbdd141a6a9" category="section-title">添加其他 AutoSupport 目标</block>
  <block id="e488c685478201257e1a9f2c53079664" category="paragraph">启用 AutoSupport 后，系统会向 NetApp 支持部门发送运行状况和状态消息。您可以为所有 AutoSupport 消息指定一个其他目标。</block>
  <block id="16b7ea9269174fb4fa0d9eced06240f5" category="paragraph">要验证或更改用于发送 AutoSupport 消息的协议，请参见中的说明 <block ref="670af9943e2b962f3d37c9e9038580f0" category="inline-xref-macro-rx"></block>。</block>
  <block id="ab82339205a7cb27663ffae1401860ec" category="admonition">您不能使用 SMTP 协议将 AutoSupport 消息发送到其他目标。</block>
  <block id="14558fa1a0d6d1c97d800f6096c5a037" category="list-text">选择 * 启用其他 AutoSupport 目标 * 。</block>
  <block id="57904a003e0dd72567178123082d69bb" category="paragraph">此时将显示其他 AutoSupport 目标字段。</block>
  <block id="782ca77a736f36beda4dd6bfc1568da1" category="image-alt">AutoSupport 正在添加其他目标</block>
  <block id="e66bb574f84ae5a8ed27e7a4329763d1" category="list-text">输入其他 AutoSupport 目标服务器的服务器主机名或 IP 地址。</block>
  <block id="839f212043b3f4fbcbec997113eaf0b1" category="admonition">您只能输入一个附加目标。</block>
  <block id="88211469cd127e78f05603b8af2a8fd1" category="list-text">输入用于连接到其他 AutoSupport 目标服务器的端口（对于 HTTP ，默认为端口 80 ，对于 HTTPS ，默认为端口 443 ）。</block>
  <block id="4ae9e2200fe17eadccecd24471b8ecb0" category="list-text">要发送包含证书验证的 AutoSupport 消息，请在 * 证书验证 * 下拉列表中选择 * 使用自定义 CA 捆绑包 * 。然后，执行以下操作之一：</block>
  <block id="dbb6f29c532b26af2eb44b059ee28d96" category="list-text">使用编辑工具将 PEM 编码的每个 CA 证书文件的所有内容复制并粘贴到 * CA bundle* 字段中，该字段按证书链顺序串联。您必须在所选内容中包含 ` ---begin certificate--` 和 ` --end certificate--` 。</block>
  <block id="7c120b99b2f751b22e117ab38a82f74a" category="image-alt">AutoSupport 证书</block>
  <block id="b7dec71977780aeac2b2b4ebbef718af" category="list-text">选择 * 浏览 * ，导航到包含证书的文件，然后选择 * 打开 * 上传文件。证书验证可确保 AutoSupport 消息的传输安全。</block>
  <block id="e0d5baefbd227f05ef0f9e4e1b776c07" category="list-text">要在不验证证书的情况下发送 AutoSupport 消息，请在 * 证书验证 * 下拉列表中选择 * 不验证证书 * 。</block>
  <block id="1a886e29769c8646c74a13ccce8cb105" category="paragraph">只有当您有充分的理由不使用证书验证时，例如证书出现临时问题时，才选择此选项。</block>
  <block id="2595e9f32e7a1689e32cc544f21c8a40" category="paragraph">警告此时将显示一条消息： " 您未使用 TLS 证书来保护与其他 AutoSupport 目标的连接。 "</block>
  <block id="b580a8310a33aa43bbb4e8a211da1c8c" category="paragraph">未来所有每周，事件触发和用户触发的 AutoSupport 消息都将发送到其他目标。</block>
  <block id="68cee654771911ed675fa1abfc05bbfd" category="summary">您可以将默认 StorageGRID 服务器证书替换为一个自定义服务器证书，该证书允许用户访问网格管理器和租户管理器，而不会遇到安全警告。您还可以还原到默认管理接口证书或生成新的管理接口证书。</block>
  <block id="8034def64f6f60bc10df05270442edaf" category="doc">配置管理接口证书</block>
  <block id="d85bacad4d2bac038deaf57c4b7afac0" category="paragraph">您可以将默认管理接口证书替换为一个自定义证书，使用户可以访问 Grid Manager 和租户管理器，而不会遇到安全警告。您还可以还原到默认管理接口证书或生成新的管理接口证书。</block>
  <block id="d58f3507de2f94fc29bd1f50846b8db5" category="paragraph">默认情况下，每个管理节点都会获得一个由网格 CA 签名的证书。这些 CA 签名的证书可以替换为一个通用的自定义管理接口证书和相应的专用密钥。</block>
  <block id="3839995b52518747a69c75ec66a282e5" category="paragraph">由于所有管理节点都使用一个自定义管理接口证书，因此，如果客户端在连接到网格管理器和租户管理器时需要验证主机名，则必须将此证书指定为通配符或多域证书。定义自定义证书，使其与网格中的所有管理节点匹配。</block>
  <block id="4fe21fdbcac896e64a0fdf2b30921003" category="paragraph">您需要在服务器上完成配置，根据所使用的根证书颁发机构（ CA ），用户可能还需要在用于访问网格管理器和租户管理器的 Web 浏览器中安装网格 CA 证书。</block>
  <block id="5ca262b36c5658f91fbc7793910cba00" category="admonition">为了确保操作不会因服务器证书失败而中断，当此服务器证书即将到期时，将触发 * 管理接口的服务器证书到期 * 警报。根据需要，您可以通过选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * 并在全局选项卡上查看管理接口证书的到期日期来查看当前证书的到期时间。</block>
  <block id="2795de27b5d594d2d9ae932582f88169" category="inline-xref">从自定义管理接口证书还原到默认服务器证书</block>
  <block id="0b26ca09902b1c6e1acb7c092ead3d1f" category="list-text">您 <block ref="1ea387bec36a042216a30d416c3fabeb" category="inline-xref-macro-rx"></block>。</block>
  <block id="5c76906525092756e259fa3346a326e2" category="section-title">添加自定义管理接口证书</block>
  <block id="f13e11fae050bfca7631e833d97c21b9" category="paragraph">要添加自定义管理接口证书，您可以提供自己的证书或使用网格管理器生成一个证书。</block>
  <block id="9fc2f0911fce085defae47dac9c411a4" category="list-text">选择 * 保存 * 。+ 自定义管理接口证书用于此后与网格管理器，租户管理器，网格管理器 API 或租户管理器 API 的所有新连接。</block>
  <block id="1354569e59922226f4f7cbf1d069d25d" category="admonition">生产环境的最佳实践是使用由外部证书颁发机构签名的自定义管理接口证书。</block>
  <block id="84da71351cb5c3dc373434c087f0e240" category="list-text">添加自定义管理接口证书后， " 管理接口证书 " 页面将显示正在使用的证书的详细证书信息。+ 您可以根据需要下载或复制证书 PEM 。</block>
  <block id="68ca50f9271a99059d919993af2fe99d" category="section-title">还原默认管理接口证书</block>
  <block id="cfcbaec22773700787365a76a91dfbfd" category="paragraph">您可以使用网格管理器和租户管理器连接的默认管理接口证书还原到。</block>
  <block id="c5069206c219f1b8dd4e6680770f77e4" category="paragraph">还原默认管理接口证书时，您配置的自定义服务器证书文件将被删除，无法从系统中恢复。默认管理接口证书将用于所有后续的新客户端连接。</block>
  <block id="4e3c19bf6b3bf44e9c97976f0f3c9388" category="section-title">使用脚本生成新的自签名管理接口证书</block>
  <block id="80d597e4bd0c8ad341d128c18c40fbdd" category="paragraph">如果需要严格验证主机名，可以使用脚本生成管理接口证书。</block>
  <block id="97c94b6f4bee94e07bcaf89fe7f351a0" category="paragraph">生产环境的最佳实践是使用由外部证书颁发机构签名的证书。</block>
  <block id="bba64d855c1f9bdc33556e36f45d69e7" category="list-text">获取每个管理节点的完全限定域名（ FQDN ）。</block>
  <block id="29aecac1e4b572476dc5e3a8bafe7fee" category="list-text">输入以下命令： `ssh admin@primary_Admin_Node_IP`</block>
  <block id="a76ba21cf9aaa136f6c746c686212ddd" category="list-text">使用新的自签名证书配置 StorageGRID 。</block>
  <block id="a6b7516052340e8cbd5bd9c861d1e5d0" category="paragraph">` $sudo make-certificate -domains _wilder-admin-node-fqdn_ -type management`</block>
  <block id="9dabcdf4ee4b659399d2fcae0f22f43b" category="list-text">对于 ` 域` ，请使用通配符表示所有管理节点的完全限定域名。例如， ` * .ui.storagegrid.example.com` 使用 * 通配符表示 `admin1.ui.storagegrid.example.com` 和 `admin2.ui.storagegrid.example.com` 。</block>
  <block id="2b61409c76125a4ba7b8452b21461699" category="list-text">将 ` 键入` 设置为 `management` 以配置管理接口证书，网格管理器和租户管理器将使用该证书。</block>
  <block id="970fa2838b2b98e4d9947a8a36384514" category="list-text">默认情况下，生成的证书有效期为一年（ 365 天），必须在证书过期之前重新创建。您可以使用 ` -days` 参数覆盖默认有效期。</block>
  <block id="9bf4de3292b6913e3909d3dd13346fb2" category="admonition">运行 `make-certificate` 时，证书的有效期开始。您必须确保管理客户端与 StorageGRID 同步到同一个时间源；否则，客户端可能会拒绝此证书。</block>
  <block id="7982eefed75e362ef81fae650e2a63d6" category="paragraph">生成的输出包含管理 API 客户端所需的公有 证书。</block>
  <block id="50968fa4484e55e787d3c7a7e45c69cd" category="list-text">选择并复制证书。</block>
  <block id="392e144b72eb0f8511c1160503da7210" category="paragraph">在您的选择中包括开始和结束标记。</block>
  <block id="c93c4bf90b27d71ffb0e3b3c4afdf0a9" category="list-text">从命令 Shell 中注销。` $ 退出`</block>
  <block id="49e8437e5b689784b4a341f1c4af2fab" category="list-text">确认已配置证书：</block>
  <block id="299f7cb5a607c4e1ff85408f61d037e5" category="list-text">访问网格管理器。</block>
  <block id="ae9db904f2031ae6af075139a84bc452" category="list-text">选择 * 配置 * &gt; * 安全性 * &gt; * 证书 *</block>
  <block id="ea4b6306cd5ba67f1081c27d52b8e1cc" category="list-text">将管理客户端配置为使用您复制的公有 证书。包括开始和结束标记。</block>
  <block id="2b9bb1f4acc63d783a54bd214c1be46c" category="section-title">下载或复制管理接口证书</block>
  <block id="1188cbf9a9f98cab550e0e74364347e1" category="paragraph">您可以保存或复制管理接口证书内容，以便在其他位置使用。</block>
  <block id="3697f98f9b5b5b34d446d1b3a88b7e5d" category="summary">管理节点可通过审核管理系统 \ （ AMS \ ）服务将所有审核的系统事件记录到可通过审核共享访问的日志文件中，该文件会在安装时添加到每个管理节点中。为了便于访问审核日志，您可以配置客户端对 CIFS 和 NFS 的审核共享的访问权限。</block>
  <block id="b938425a79e7a3ea01be7121d50f4673" category="doc">配置审核客户端访问</block>
  <block id="08a58593925b57485086d0d416da75ff" category="paragraph">管理节点通过审核管理系统（ Audit Management System ， AMS ）服务将所有审核的系统事件记录到可通过审核共享访问的日志文件中，该文件会在安装时添加到每个管理节点中。为了便于访问审核日志，您可以配置客户端对 CIFS 和 NFS 的审核共享的访问权限。</block>
  <block id="0428d0ce1d576ff5efa8ba61c8cfc162" category="paragraph">StorageGRID 系统会使用肯定确认来防止在将审核消息写入日志文件之前丢失这些消息。消息会一直在服务中排队，直到 AMS 服务或中间审核中继服务确认对其进行控制为止。</block>
  <block id="a918434d201e6ff4c2d78640936016d5" category="paragraph">有关详细信息，请参见 <block ref="6678ff9ab033a73c5956a0530afa2bed" category="inline-xref-macro-rx"></block>。</block>
  <block id="c3482a0b5532693bd925922ec11b6a47" category="admonition">已弃用通过 CIFS/Samba 进行审核导出，并将在未来的 StorageGRID 版本中删除。如果您可以选择使用 CIFS 或 NFS ，请选择 NFS 。</block>
  <block id="4745582c6b2723d356fcb56ae38e846b" category="summary">StorageGRID 提供了多种数据加密选项。您应查看可用的方法，以确定哪些方法符合数据保护要求。</block>
  <block id="a8e93751c131aa808a9eafa1b8e11286" category="doc">查看 StorageGRID 加密方法</block>
  <block id="128497696f34bbd3ac60a2e9038c136a" category="paragraph">下表简要总结了 StorageGRID 中可用的加密方法。</block>
  <block id="795304ff622f581ad5c1f4a3335a25b4" category="cell">加密选项</block>
  <block id="9ffdb95250e26c7a6b468126ac7c75b0" category="cell">工作原理</block>
  <block id="f5ccadfc7734d3a5818e229f8fd28f0d" category="cell">适用场景</block>
  <block id="32cb94c91e3e8f0c5d4e734e55ab5a63" category="paragraph">网格管理器中的密钥管理服务器（ KMS ）</block>
  <block id="3aa192f89127b6ab040cda4ff38841f2" category="paragraph">您可以为 StorageGRID 站点配置密钥管理服务器（ * 配置 * &gt; * 安全性 * &gt; * 密钥管理服务器 * ），并为设备启用节点加密。然后，设备节点将连接到 KMS 以请求密钥加密密钥（ Key Encryption Key ， KEK ）。此密钥用于对每个卷上的数据加密密钥（ DEK ）进行加密和解密。</block>
  <block id="59b2506141d8589ec37b9281f5dbfd5d" category="paragraph">安装期间启用了 * 节点加密 * 的设备节点。设备上的所有数据均可防止物理丢失或从数据中心删除。可与某些 StorageGRID 存储和服务设备结合使用。</block>
  <block id="b92ce36195d9b7dbea9b50e3b54158a1" category="paragraph">SANtricity System Manager 中的驱动器安全性</block>
  <block id="ce10512e063918ffdb5b2e2e615cd3f3" category="paragraph">如果为存储设备启用了驱动器安全功能，则可以使用 SANtricity 系统管理器创建和管理安全密钥。要访问受保护驱动器上的数据，需要使用此密钥。</block>
  <block id="e50288dc6103542af030fa5997bf5dab" category="paragraph">具有全磁盘加密（ Full Disk Encryption ， FDE ）驱动器或联邦信息处理标准（ Federal Information Processing Standard ， FIPS ）驱动器的存储设备。安全驱动器上的所有数据均可防止物理丢失或从数据中心中删除。不能用于某些存储设备或任何服务设备。</block>
  <block id="7b78db0d9937e2d44e6c4ef2ad306877" category="paragraph">存储对象加密网格选项</block>
  <block id="9ed2f701811eba116ce0c26b5fd33357" category="paragraph">可以在网格管理器中启用 * 存储对象加密 * 选项（ * 配置 * &gt; * 系统 * &gt; * 网格选项 * ）。启用后，任何未在存储分段级别或对象级别加密的新对象都会在载入期间进行加密。</block>
  <block id="c5f5bc763864c10e114ba32b66aaaf01" category="paragraph">新载入的 S3 和 Swift 对象数据。</block>
  <block id="20ce67548ce92137f9515067f5685bc8" category="paragraph">现有存储对象未加密。对象元数据和其他敏感数据未加密。</block>
  <block id="d5713533efe22f793ae19f6d557c2d52" category="list-text"><block ref="d5713533efe22f793ae19f6d557c2d52" category="inline-xref-macro-rx"></block></block>
  <block id="97c170d429878a80462c098c96fabbcf" category="paragraph">S3 存储分段加密</block>
  <block id="7060f50438c57b41bd68d30b95c1a2ea" category="paragraph">问题描述 PUT 分段加密请求以对分段启用加密。任何未在对象级别加密的新对象都会在载入期间进行加密。</block>
  <block id="126f35eabfa30dde3353bd29730ce6e6" category="paragraph">仅新载入的 S3 对象数据。</block>
  <block id="290fd5a83c2f29a1314593da0b6699b3" category="paragraph">必须为存储分段指定加密。现有存储分段对象未加密。对象元数据和其他敏感数据未加密。</block>
  <block id="773ab1008496083be7589030e346eaed" category="paragraph">S3 对象服务器端加密（ SS3 ）</block>
  <block id="b0445a188fb3f2b7d47ff7759ac38405" category="paragraph">您可以问题描述 S3 请求以存储对象，并包含 `x-AMZ-server-side encryption` request 标头。</block>
  <block id="ba9712a9a773f778854bae430c87951e" category="paragraph">必须为对象指定加密。对象元数据和其他敏感数据未加密。</block>
  <block id="f1aaaa237851574ab61fda1f9f4d9594" category="paragraph">StorageGRID 负责管理密钥。</block>
  <block id="e12c6a262b35f20b0452d471514700c5" category="paragraph">使用客户提供的密钥（ SSI-C ）进行 S3 对象服务器端加密</block>
  <block id="a881b219680fedd4f7c967450d2b20ab" category="paragraph">您可以问题描述 S3 请求以存储一个对象并包含三个请求标头。</block>
  <block id="670ea2390e39172b936c65c4da702084" category="paragraph">密钥在 StorageGRID 之外进行管理。</block>
  <block id="0aac41f109204115c8597379ed0cd46c" category="paragraph">外部卷或数据存储库加密</block>
  <block id="06c8569fe11c9722480fa55f173121e9" category="paragraph">如果您的部署平台支持，则可以在 StorageGRID 外部使用加密方法对整个卷或数据存储库进行加密。</block>
  <block id="9b6e80c0f517c5188043db24b86cb51a" category="paragraph">所有对象数据，元数据和系统配置数据，假设每个卷或数据存储库都已加密。</block>
  <block id="a5d000871e2f85a8ecaf1c66d32ca46a" category="paragraph">外部加密方法可以更严格地控制加密算法和密钥。可以与列出的其他方法结合使用。</block>
  <block id="dfb1bd17433d86a835921b141c9db74a" category="paragraph">StorageGRID 外部的对象加密</block>
  <block id="5cec930ee40c58d35d1288ae44c50501" category="paragraph">在将对象数据和元数据载入 StorageGRID 之前，您可以在 StorageGRID 外部使用加密方法对这些数据和元数据进行加密。</block>
  <block id="4ef02d58d6bea9e010c4285555a90594" category="paragraph">仅限对象数据和元数据（系统配置数据不加密）。</block>
  <block id="54f4e5b38ccb7106dc1bccafd2e35842" category="inline-link">Amazon Simple Storage Service —开发人员指南：使用客户端加密保护数据</block>
  <block id="46baa825fd140da5580d54523213f022" category="list-text"><block ref="46baa825fd140da5580d54523213f022" category="inline-link-rx"></block></block>
  <block id="e799234e539edff20b560df9b9f4b280" category="section-title">使用多种加密方法</block>
  <block id="f3fd161e1c56552c01aa5fa826b79ce5" category="paragraph">根据您的要求，您一次可以使用多种加密方法。例如：</block>
  <block id="752de73f03d45e039d9bc198adb3081e" category="list-text">您可以使用 KMS 来保护设备节点，也可以使用 SANtricity 系统管理器中的驱动器安全功能在同一设备中的自加密驱动器上 " `d` 进行灵活加密 " 数据。</block>
  <block id="3f66ffc1f202b37cc587ea3ced0b45ae" category="list-text">您可以使用 KMS 来保护设备节点上的数据安全，也可以使用存储对象加密网格选项在载入所有对象时对其进行加密。</block>
  <block id="cf2c5f0cdc5f325d978156cfd8530456" category="paragraph">如果只有一小部分对象需要加密，请考虑在存储分段或单个对象级别控制加密。启用多个级别的加密会产生额外的性能成本。</block>
  <block id="fc0ade6b716891bd671185f18b18d11b" category="summary">StorageGRID 系统使用传输层安全 \ （ tls\ ）保护网格节点之间的内部控制流量。网络传输加密选项用于设置 TLS 用于加密网格节点之间的控制流量的算法。此设置不会影响数据加密。</block>
  <block id="137ebb0ed38ac044d9190830a9584229" category="doc">更改网络传输加密</block>
  <block id="f01a7dab90976a918dcb28338adb0663" category="paragraph">StorageGRID 系统使用传输层安全（ Transport Layer Security ， TLS ）保护网格节点之间的内部控制流量。网络传输加密选项用于设置 TLS 用于加密网格节点之间的控制流量的算法。此设置不会影响数据加密。</block>
  <block id="56499f25c2c963f0bf16842f3ec7dced" category="paragraph">默认情况下，网络传输加密使用 AES256-SHA 算法。此外，还可以使用 AES128-SHA 算法对控制流量进行加密。</block>
  <block id="81b51870a88518ccff9120a3cf127e83" category="list-text">在网络选项部分中，将网络传输加密更改为 * AES128-SHA* 或 * AES256-SHA* （默认）。</block>
  <block id="a0fbcd776cfd743df48ae73f9933c88c" category="image-alt">网格配置网络加密</block>
  <block id="5809a27f41084c39ce452c893a01f430" category="summary">您可以使用网格管理 REST API 执行系统管理任务，而不是使用网格管理器用户界面。例如，您可能希望使用 API 来自动执行操作或更快地创建多个实体，例如用户。</block>
  <block id="20eb0118d7c1364686f46780ec3db5df" category="section-title">顶级资源</block>
  <block id="76e454ef3ffde7c57022ef93c1bfef9c" category="paragraph">网格管理 API 可提供以下顶级资源：</block>
  <block id="1c469a15619a184b2a8506f2cc42ac31" category="list-text">` / 网格` ：仅限网格管理器用户访问，且访问权限取决于配置的组权限。</block>
  <block id="4bd2b19ce25d7370061194eb4575515b" category="list-text">` /Org` ：仅限属于租户帐户的本地或联合 LDAP 组的用户访问。有关详细信息，请参见 <block ref="a45393bc84d50473d112ef9346a5bbf2" category="inline-xref-macro-rx"></block>。</block>
  <block id="72e3996813fdd6b0600e5fc1fb4b12b2" category="list-text">` / 私有` ：仅限 Grid Manager 用户访问，并且访问权限取决于配置的组权限。专用 API 如有更改，恕不另行通知。StorageGRID 私有端点也会忽略此请求的 API 版本。</block>
  <block id="a1e6e9fd7080160201a1dd56da659ca9" category="paragraph">网格管理 API 使用 Swagger 开源 API 平台。Swagger 提供了一个直观的用户界面，使开发人员和非开发人员能够使用 API 在 StorageGRID 中执行实时操作。</block>
  <block id="8230d1bdc3eaf79a438f3aad40645cae" category="paragraph">Swagger 用户界面提供了每个 API 操作的完整详细信息和文档。</block>
  <block id="21a20929ff16ef2be2a21b80fe0c98b4" category="list-text">从网格管理器标题中，选择帮助图标并选择 * API Documentation" 。</block>
  <block id="1bf8bec47c5219e4d1b4ed43c544f949" category="image-alt">帮助菜单</block>
  <block id="19d929e58f0338f61485972c25589a08" category="list-text">要使用专用 API 执行操作，请在 StorageGRID 管理 API 页面上选择 * 转至专用 API 文档 * 。</block>
  <block id="90dcfb33d03ac75eb0286a31c2ea4fb6" category="paragraph">专用 API 如有更改，恕不另行通知。StorageGRID 私有端点也会忽略此请求的 API 版本。</block>
  <block id="5c8eb318c1ce5e4ffb043e41d0c60919" category="list-text">选择所需的操作。</block>
  <block id="dcbf28a1c0177bf500f697e05682d624" category="paragraph">展开 API 操作时，您可以看到可用的 HTTP 操作，例如 GET ， PUT ， UPDATE 和 DELETE 。</block>
  <block id="c53e6d8767af150fcbcc87e21e6177a7" category="list-text">选择 HTTP 操作可查看请求详细信息，包括端点 URL ，任何必需或可选参数的列表，请求正文示例（如果需要）以及可能的响应。</block>
  <block id="d2fe4a146ca4ac0b0c5bfa9db15528f3" category="image-alt">Swagger UI 示例</block>
  <block id="b68b5f66a23b99e8d065139679c07f1b" category="summary">您可以根据需要查看 StorageGRID 系统的许可证信息，例如网格的最大存储容量。</block>
  <block id="7aa7e74f9964b01633d1a0ad9b17bc12" category="doc">查看 StorageGRID 许可证信息</block>
  <block id="0eb9a5a861b05fa54167a6915e0fe942" category="paragraph">如果问题描述 具有此 StorageGRID 系统的软件许可证，则信息板上的 " 运行状况 " 面板将包含一个 " 许可证状态 " 图标和一个 * 许可证 * 链接。此数字表示存在多少个与许可证相关的问题。</block>
  <block id="77dff5e321c443c424819eabb364354f" category="image-alt">信息板运行状况面板许可证状态</block>
  <block id="9bce59d03b9698cd1fb1ebcdb5dc54f9" category="paragraph">要查看许可证，请执行以下操作之一：</block>
  <block id="2d0b39c524b694e1f2e1d888cf1dfdf2" category="list-text">从信息板上的 " 运行状况 " 面板中，选择许可证状态图标或 * 许可证 * 链接。只有当具有许可证的问题描述 时，才会显示此链接。</block>
  <block id="a0021607422b8a1f13fde1fb4d7d2dc9" category="list-text">选择 * 维护 * &gt; * 系统 * &gt; * 许可证 * 。</block>
  <block id="38ea2b48854f8aed742b30fc9e3ccc65" category="paragraph">此时将显示 License 页面，其中提供了有关当前许可证的以下只读信息：</block>
  <block id="038d541ad96e8fc808510c912931347f" category="list-text">StorageGRID 系统 ID ，此 ID 是此 StorageGRID 安装的唯一标识号</block>
  <block id="d8c97127df818e94ea6e6ac7b50e96b4" category="list-text">许可证序列号</block>
  <block id="8324a6a30c7c77a07699a9954368cd66" category="list-text">网格的许可存储容量</block>
  <block id="3ddc6a124ef29bd0b336842612a87139" category="list-text">软件许可证结束日期</block>
  <block id="1ca74c9830321a16022a45d1bf69023b" category="list-text">支持服务合同结束日期</block>
  <block id="12a2b059efdb5e591da958a0be0299f0" category="list-text">许可证文本文件的内容</block>
  <block id="96f5a5efc70b4aaa9ebd980d56712572" category="admonition">对于在 StorageGRID 10.3 之前发布的许可证，许可的存储容量不会包含在许可证文件中，并且会显示 " 请参见许可协议 " 消息而不是值。</block>
  <block id="2bac2a9db8d1d2a83e5727ca17a665a8" category="summary">您可以配置高可用性 \ （ HA\ ）组，以提供对管理节点或网关节点上服务的高可用性访问。</block>
  <block id="695051253dbc789698d5194b75b79b5c" category="paragraph">您可以配置高可用性（ High Availability ， HA ）组，以提供对管理节点或网关节点上服务的高可用性访问。</block>
  <block id="b271fd02b8e021c77ca65d9b9dc04739" category="list-text">如果您计划在 HA 组中使用 VLAN 接口，则已创建 VLAN 接口。请参见 <block ref="4469d71444e4376d8f53ea1c79727026" category="inline-xref-macro-rx"></block>。</block>
  <block id="e65ab31bf8d6f5d27e0f3cdbb1f13763" category="list-text">如果您计划对 HA 组中的节点使用访问接口，则已创建此接口：</block>
  <block id="fc6471b19881568a95a0d0cdbd8d52b6" category="list-text">* Red Hat Enterprise Linux 或 CentOS （安装节点之前） * ： <block ref="94029dd11f591f72b6dbed1d7cf2d7ca" category="inline-xref-macro-rx"></block></block>
  <block id="b397cec4c3e31b65609338b18be986e0" category="list-text">* VMware （安装节点后） * ： <block ref="e8741bd7b9e57e7675c5e6a214d32f58" category="inline-xref-macro-rx"></block></block>
  <block id="3302b3275ea2bac6558c4e911fd858ab" category="section-title">创建高可用性组</block>
  <block id="7d95a265f3bf1dd63650da8982a78100" category="paragraph">创建高可用性组时，您可以选择一个或多个接口并按优先级顺序对其进行组织。然后，您将一个或多个 VIP 地址分配给该组。</block>
  <block id="ad26117d49ef9218f67020ebb099673b" category="paragraph">接口必须是要将网关节点或管理节点包含在 HA 组中的接口。一个 HA 组只能对任何给定节点使用一个接口；但是，同一节点的其他接口也可以在其他 HA 组中使用。</block>
  <block id="83dc9bf3e0a1aa938f592737d98de387" category="section-title">输入 HA 组的详细信息</block>
  <block id="12f5259f59497b07fa9658f3180ef8f7" category="list-text">为 HA 组提供一个唯一名称。</block>
  <block id="095413cc1449cd84e18a761f8ddcebd3" category="image-alt">HA 组创建向导</block>
  <block id="53bbce4cac639d73492e42d2338fad6e" category="list-text">或者，输入 HA 组的问题描述 。</block>
  <block id="59ff5d8f1c215e2910b411f48deac2fa" category="section-title">向 HA 组添加接口</block>
  <block id="875b7bda347cd6e788c555d69db20125" category="image-alt">HA 组添加接口</block>
  <block id="54d5f2e816e472e18825ef3f8f4a9f18" category="admonition">创建 VLAN 接口后，请等待最多 5 分钟，使新接口显示在表中。</block>
  <block id="efa5606e94e997ed5a2eed4aa518b1c5" category="list-title">选择接口的准则</block>
  <block id="a14e47670840122780dfa56fdc634b6f" category="list-text">必须至少选择一个接口。</block>
  <block id="b216dd3043d8801f709e669f3ab3a2b6" category="list-text">您只能为一个节点选择一个接口。</block>
  <block id="37fe423ce3c7f84c2503877aff6471e0" category="list-text">如果 HA 组用于管理节点服务（包括网格管理器和租户管理器）的 HA 保护，请仅选择管理节点上的接口。</block>
  <block id="b724c2e51059e9be67a02ab6aeebb02c" category="list-text">如果 HA 组用于对 S3 或 Swift 客户端流量进行 HA 保护，请选择管理节点，网关节点或两者上的接口。</block>
  <block id="7ec6c94f60f58b5b34254c2e9bd2e23f" category="list-text">如果 HA 组用于对已弃用的 CLB 服务进行 HA 保护，请仅选择网关节点上的接口。</block>
  <block id="839f6c903e0668ebf521df970ce2d961" category="list-text">如果选择不同类型节点上的接口，则会显示一条信息性注释。系统会提醒您，如果发生故障转移，则新活动节点上可能无法使用先前活动节点提供的服务。例如，备份网关节点无法为管理节点服务提供 HA 保护。同样，备份管理节点也无法执行主管理节点可以提供的所有维护过程。</block>
  <block id="5a3b7515c85e5c6a2b59ad442fc2b6c2" category="list-text">如果无法选择接口，则其复选框将被禁用。工具提示提供了更多信息。</block>
  <block id="3b4d4d7500f0fc7ba2a8a5567bf2a22b" category="image-alt">VLAN 接口工具提示</block>
  <block id="efe5765ecd2ec8975d3ed7d69559c930" category="list-text">如果某个接口的子网值或网关与另一个选定接口冲突，则无法选择该接口。</block>
  <block id="b8f1c3e0dce64f243ea7aa95a7068e5b" category="list-text">如果已配置的接口没有静态 IP 地址，则无法选择该接口。</block>
  <block id="94a2f731e2c2de000943281ae022d449" category="section-title">确定优先级顺序</block>
  <block id="b9e11703663a00b0786ad28d4831ccfd" category="list-text">确定此 HA 组的主接口和任何备份（故障转移）接口。</block>
  <block id="7110c699b877f81b9f4a7d66d41205d4" category="image-alt">HA 组确定优先级顺序</block>
  <block id="d82ec98ecdee35f71eb0347e55185059" category="admonition">如果 HA 组提供对网格管理器的访问权限，则必须选择主管理节点上的一个接口作为主接口。某些维护过程只能从主管理节点执行。</block>
  <block id="818ce9ad889c77dc8193efa43735a93b" category="paragraph">如果 HA 组包含多个接口，而主接口出现故障，则 VIP 地址将移至可用的最高优先级接口。如果该接口发生故障， VIP 地址将移至可用的下一个最高优先级接口，依此类推。</block>
  <block id="6b94c67c3b0816900e5f768b9783ee56" category="section-title">输入 IP 地址</block>
  <block id="b0812c5fb4f16fafb75871c81ad2afe3" category="list-text">在 * 子网 CIDR * 字段中，以 CIDR 表示法指定 VIP 子网— IPv4 地址后跟斜杠和子网长度（ 0-32 ）。</block>
  <block id="c0e0d25267f983c0a8239a009bf1cc08" category="admonition">如果使用 32 位前缀，则 VIP 网络地址也会用作网关地址和 VIP 地址。</block>
  <block id="be8e5586a8d6c5a912cac74ec3657d8b" category="image-alt">HA 组输入 VIP</block>
  <block id="3ceafc6cb10171642e43d9595049fdea" category="list-text">或者，如果任何 S3 ， Swift ，管理或租户客户端要从其他子网访问这些 VIP 地址，请输入 * 网关 IP 地址 * 。网关地址必须在 VIP 子网中。</block>
  <block id="451fa75f2b25505b51d61beab1beb1bf" category="paragraph">客户端和管理员用户将使用此网关访问虚拟 IP 地址。</block>
  <block id="cefd78bb02062bafb20026867599f435" category="list-text">为 HA 组输入一个或多个 * 虚拟 IP 地址 * 。最多可以添加 10 个 IP 地址。所有 VIP 都必须位于 VIP 子网中。</block>
  <block id="3ea3d6a0c124f6723785860830e605fc" category="list-text">选择 * 创建 HA 组 * 并选择 * 完成 * 。</block>
  <block id="590398c49f3a4171a68f17330cea0b14" category="paragraph">此时将创建 HA 组，您现在可以使用已配置的虚拟 IP 地址。</block>
  <block id="f98284fd306600f0051c3cee65ccd6c7" category="admonition">等待长达 15 分钟，以便对 HA 组所做的更改应用于所有节点。</block>
  <block id="cce78dc6ebbec7385a01f2146d6d01c8" category="section-title">后续步骤</block>
  <block id="9218fddbf937df1f4326b875708ea421" category="paragraph">如果要使用此 HA 组进行负载平衡，请创建一个负载平衡器端点以确定端口和网络协议并附加任何所需的证书。请参见 <block ref="a9afb6c4aba5bb26c45f4aeccf93e957" category="inline-xref-macro-rx"></block>。</block>
  <block id="ad3a3c237eb64e0a6636e731634023f5" category="section-title">编辑高可用性组</block>
  <block id="4da1fb9c0e66e1f38a67cd9590563503" category="paragraph">您可以编辑高可用性（ High Availability ， HA ）组以更改其名称和问题描述 ，添加或删除接口，更改优先级顺序或添加或更新虚拟 IP 地址。</block>
  <block id="89c3b6591f0af3e4ed564c31fc64171b" category="paragraph">例如，如果要删除与站点或节点停用操作步骤 中选定接口关联的节点，则可能需要编辑 HA 组。</block>
  <block id="1c680aa69f71a4b2c944a28a7312a925" category="paragraph">" 高可用性组 " 页面显示所有现有的 HA 组。</block>
  <block id="018db383b5f420cbe924f90b49d318cc" category="image-alt">包含组的 HA 组页面</block>
  <block id="334b45b94e2dce50f554c49b2cb1a72f" category="list-text">选中要编辑的 HA 组对应的复选框。</block>
  <block id="7f753584d637625928f17c77549590ed" category="list-text">根据要更新的内容执行以下操作之一：</block>
  <block id="c75538b1cc92b1f52080a6e1970bcca7" category="list-text">选择 * 操作 * &gt; * 编辑虚拟 IP 地址 * 以添加或删除 VIP 地址。</block>
  <block id="4d9aa6b166202c8036f72723711fe9c8" category="list-text">选择 * 操作 * &gt; * 编辑 HA 组 * 可更新组的名称或问题描述 ，添加或删除接口，更改优先级顺序或添加或删除 VIP 地址。</block>
  <block id="a1ebb3c36e591086046f71074d1190d4" category="list-text">如果选择了 * 编辑虚拟 IP 地址 * ：</block>
  <block id="d10b5f8334dec780d651800f6434a87d" category="list-text">更新 HA 组的虚拟 IP 地址。</block>
  <block id="ee8bd0455e1ecdfc03ec3f9b015e9c98" category="list-text">如果选择了 * 编辑 HA 组 * ：</block>
  <block id="d3c92c18efeb73f2000bb65e221f0d7b" category="list-text">（可选）更新组的名称或问题描述 。</block>
  <block id="a1c5f81098d14f5d8ee567b31120fa11" category="list-text">或者，选中或取消选中这些复选框以添加或删除接口。</block>
  <block id="2e3cc22636785374e5bb03eb1c214526" category="admonition">如果 HA 组提供对网格管理器的访问权限，则必须选择主管理节点上的一个接口作为主接口。某些维护过程只能从主管理节点执行</block>
  <block id="4360f134744b365c062722b1401ce8be" category="list-text">或者，也可以拖放行来更改此 HA 组的主接口和任何备份接口的优先级顺序。</block>
  <block id="4e70c3cf64c0157bb9681034efea782f" category="list-text">也可以更新虚拟 IP 地址。</block>
  <block id="96948675f5e779d936c17f929eb7ff62" category="list-text">选择 * 保存 * ，然后选择 * 完成 * 。</block>
  <block id="ba5748a4bb6a2c29c12c97f1a47f3f4b" category="section-title">删除高可用性组</block>
  <block id="52f780b3475d77c1c52712e4ee861980" category="paragraph">您可以一次删除一个或多个高可用性（ HA ）组。但是，如果 HA 组绑定到一个或多个负载平衡器端点，则无法删除该组。</block>
  <block id="4b13c60c0a6c46e90396f5a7213d0f78" category="paragraph">为防止客户端中断，请在删除 HA 组之前更新任何受影响的 S3 或 Swift 客户端应用程序。更新每个客户端以使用其他 IP 地址进行连接，例如，安装期间为接口配置的不同 HA 组的虚拟 IP 地址或 IP 地址。</block>
  <block id="f47f15659bb164dfb1d6be5ed8ec37c0" category="list-text">选中要删除的每个 HA 组对应的复选框。然后，选择 * 操作 * &gt; * 删除 HA 组 * 。</block>
  <block id="71146ab38c96d993610bb6bd368a05ee" category="list-text">查看此消息并选择 * 删除 HA 组 * 以确认您的选择。</block>
  <block id="22428c8a702ba8e76abe7f39f4380daf" category="paragraph">选定的所有 HA 组都将被删除。高可用性组页面上会显示一个绿色的成功横幅。</block>
  <block id="ba62e97f24ee1730a5dbdc4ec7a4d546" category="summary">您可以将归档节点与新的或现有的 TSM 服务器集成在一起。如果要安装新的 TSM 服务器，请按照 TSM 文档中的说明完成安装。</block>
  <block id="66b6a700fa18e3ada92553049d4f98e9" category="doc">安装新的 TSM 服务器</block>
  <block id="487956e1cd89aae009ce23e09d3748af" category="admonition">归档节点不能与 TSM 服务器托管。</block>
  <block id="32e2ee9774e5a71ce9896c573ff0061a" category="summary">您可以将归档节点配置为直接连接到 Amazon Web Services \ （ AWS\ ）或可通过 S3 API 连接到 StorageGRID 系统的任何其他系统。</block>
  <block id="634619c20ca82593c25f037d5378e4c7" category="doc">通过 S3 API 归档到云</block>
  <block id="af7f2520ad131dbf63cd69fe7d9991c5" category="paragraph">您可以将归档节点配置为直接连接到 Amazon Web Services （ AWS ）或可通过 S3 API 连接到 StorageGRID 系统的任何其他系统。</block>
  <block id="29f72afdeb80937297784cd9f434d0f4" category="paragraph">如果您当前正在使用具有 * 云分层 - 简单存储服务（ S3 ） * 选项的归档节点，请考虑将对象迁移到云存储池。请参见的说明 <block ref="d5309287bf71e54b8de7f99511d131e8" category="inline-xref-macro-rx"></block>。</block>
  <block id="c2ed142e8fc6d5c5d4a138380ec7d153" category="summary">在配置外部密钥管理服务器（ KMS\ ）之前，您必须了解注意事项和要求。</block>
  <block id="a7cf9652ae0c1a8db0c5987f2e64cb28" category="paragraph">在配置外部密钥管理服务器（ KMS ）之前，您必须了解注意事项和要求。</block>
  <block id="0f4342f6393d3b2a4ee1a5b04d2f38fd" category="section-title">KMIP 要求是什么？</block>
  <block id="f784c753e1880021c96d2fa51cf0ba48" category="paragraph">StorageGRID 支持 KMIP 1.4 版。</block>
  <block id="9901e38bddfca8c3fdb1da405c11c4d8" category="inline-link">密钥管理互操作性协议规范 1.4 版</block>
  <block id="577c5a2ded7928cf6268532af289d0f1" category="paragraph"><block ref="577c5a2ded7928cf6268532af289d0f1" category="inline-link-rx"></block></block>
  <block id="f49dd4a0551ce10f84e30fe3249e1a3b" category="paragraph">设备节点与配置的 KMS 之间的通信使用安全 TLS 连接。StorageGRID 支持 KMIP 使用以下 TLS v1.2 密码：</block>
  <block id="ac71bf5078b200e49e40b5e4e5692698" category="paragraph">您必须确保使用节点加密的每个设备节点都可以通过网络访问为站点配置的 KMS 或 KMS 集群。</block>
  <block id="e881eb4b17b0825381652b0e0e7d6891" category="paragraph">网络防火墙设置必须允许每个设备节点通过用于密钥管理互操作性协议（ Key Management Interoperability Protocol ， KMIP ）通信的端口进行通信。默认 KMIP 端口为 5696 。</block>
  <block id="9466de89b9c41674414e8ac2ded38f63" category="section-title">支持哪些设备？</block>
  <block id="884d87d5a1e043714d13fed875d45bc1" category="paragraph">您可以使用密钥管理服务器（ Key Management Server ， KMS ）管理网格中启用了 * 节点加密 * 设置的任何 StorageGRID 设备的加密密钥。只有在使用 StorageGRID 设备安装程序安装设备的硬件配置阶段，才能启用此设置。</block>
  <block id="6d0058f56ea6f9d9c16c2a87793a8e4b" category="admonition">在将设备添加到网格后，您无法启用节点加密，并且不能对未启用节点加密的设备使用外部密钥管理。</block>
  <block id="7596c6bb770c2371a912b7c7baed6a71" category="paragraph">您可以对以下 StorageGRID 设备和设备节点使用已配置的 KMS ：</block>
  <block id="95363aa90e372ebfaf3970380516572f" category="cell">节点类型</block>
  <block id="dc17923ab49fbfcf6a8c59a8bccf10f2" category="paragraph">SG1000 服务设备</block>
  <block id="98e606f6be05f281082f4664600a3f7a" category="paragraph">管理节点或网关节点</block>
  <block id="644f8990953a1ecaa95682e9704dfedd" category="paragraph">SG100 服务设备</block>
  <block id="1225a6af4dc4361f83e422e7135c5b97" category="paragraph">SG6000 存储设备</block>
  <block id="92d39647fb4bd148b622ad6d9773ed7c" category="paragraph">SG5700 存储设备</block>
  <block id="31195c4bb59a61933233baf64e3ea932" category="paragraph">SG5600 存储设备</block>
  <block id="b107ff934196092d7b370094f1b30d7b" category="paragraph">您不能对基于软件（非设备）的节点使用已配置的 KMS ，包括以下节点：</block>
  <block id="13b7fd6f3e38d8aa63df0be3eff43a4d" category="list-text">部署为虚拟机（ VM ）的节点</block>
  <block id="db27bebef6933459e7cd2076e2f5e291" category="list-text">在 Linux 主机上的容器引擎中部署的节点</block>
  <block id="b5ac7968e01184d7caed893cc5e60d09" category="paragraph">在这些其他平台上部署的节点可以在数据存储库或磁盘级别使用 StorageGRID 外部的加密。</block>
  <block id="b73137b74f3648d2055661716c616d39" category="section-title">应在何时配置密钥管理服务器？</block>
  <block id="3d2cf2f3a21911e2b0adaeac9bab96fe" category="paragraph">对于新安装，通常应在创建租户之前在网格管理器中设置一个或多个密钥管理服务器。此顺序可确保节点在存储任何对象数据之前受到保护。</block>
  <block id="f98c7897c422736bfcacec4199f1e7e0" category="paragraph">您可以在安装设备节点之前或之后在网格管理器中配置密钥管理服务器。</block>
  <block id="9677f63fa6090fbf8a1a4d3ad408dcc6" category="section-title">我需要多少个密钥管理服务器？</block>
  <block id="655d74cca597b0e4fa0b5c3b2898e149" category="paragraph">您可以配置一个或多个外部密钥管理服务器，以便为 StorageGRID 系统中的设备节点提供加密密钥。每个 KMS 都为单个站点或一组站点上的 StorageGRID 设备节点提供一个加密密钥。</block>
  <block id="938f2c03383a5051514a011e6a069bae" category="paragraph">StorageGRID 支持使用 KMS 集群。每个 KMS 集群都包含多个复制的密钥管理服务器，这些服务器共享配置设置和加密密钥。建议使用 KMS 集群进行密钥管理，因为它可以提高高可用性配置的故障转移功能。</block>
  <block id="a2a8141817b733e180a619c01d271239" category="paragraph">例如，假设您的 StorageGRID 系统有三个数据中心站点。您可以将一个 KMS 集群配置为为为 Data Center 1 上的所有设备节点提供密钥，而将另一个 KMS 集群配置为为为所有其他站点上的所有设备节点提供密钥。添加第二个 KMS 集群时，您可以为 Data Center 2 和 Data Center 3 配置默认 KMS 。</block>
  <block id="3705832edf10e35a685bbbf28ff2c6b5" category="paragraph">请注意，不能对非设备节点或在安装期间未启用 * 节点加密 * 设置的任何设备节点使用 KMS 。</block>
  <block id="445fec43e4e20b43a68d1bc572ff6496" category="image-alt">每个站点的公里数</block>
  <block id="a8551e06dd8f68b1bc7485eb93935f66" category="section-title">轮换密钥时会发生什么情况？</block>
  <block id="55e5697b8c2b512c946dc1ec2acb37f9" category="paragraph">作为安全最佳实践，您应定期轮换每个已配置的 KMS 使用的加密密钥。</block>
  <block id="a7771a9b1c57d6bbfb5a3d7c43702d20" category="paragraph">在旋转加密密钥时，请使用 KMS 软件将该密钥从上次使用的版本轮换到同一密钥的新版本。请勿旋转到完全不同的密钥。</block>
  <block id="ee60467921212d97c5fb07ee267a696a" category="admonition">切勿尝试通过在网格管理器中更改 KMS 的密钥名称（别名）来轮换密钥。而是通过更新 KMS 软件中的密钥版本来轮换密钥。对新密钥使用与先前密钥相同的密钥别名。如果更改已配置 KMS 的密钥别名，则 StorageGRID 可能无法对数据进行解密。</block>
  <block id="68ac6e2fcde2e697616270cb5120319f" category="paragraph">新密钥版本可用时：</block>
  <block id="44d682bf44630af54d32589fb82971b5" category="list-text">它会自动分发到与 KMS 关联的站点上的加密设备节点。分发应在轮换密钥后的一小时内完成。</block>
  <block id="6d3ffca3bd3b2ed8bf31e55ec14782c0" category="list-text">如果在分发新密钥版本时加密设备节点脱机，则该节点将在重新启动后立即收到新密钥。</block>
  <block id="0e7d942a3b460490d1229571b47a44c7" category="list-text">如果由于任何原因无法使用新密钥版本对设备卷进行加密，则会为此设备节点触发 * KMS 加密密钥轮换失败 * 警报。您可能需要联系技术支持以帮助解决此警报。</block>
  <block id="0c9323c5ed5b6bdb77d1271ec035c28f" category="section-title">是否可以在设备节点加密后重复使用它？</block>
  <block id="5b492f2ff7a5537b4cfa7aafcee42d55" category="paragraph">如果需要将加密设备安装到另一个 StorageGRID 系统中，则必须先停用网格节点，才能将对象数据移动到另一个节点。然后，您可以使用 StorageGRID 设备安装程序清除 KMS 配置。清除 KMS 配置将禁用 * 节点加密 * 设置，并删除设备节点与 StorageGRID 站点的 KMS 配置之间的关联。</block>
  <block id="5138d4a232e53a370d152842fd22c2d5" category="admonition">如果无法访问 KMS 加密密钥，则设备上保留的任何数据将无法再访问并永久锁定。</block>
  <block id="00120dddb7139042b22533b88edec706" category="summary">要增强服务质量 \ （ QoS\ ）服务，您可以创建流量分类策略来识别和监控不同类型的网络流量。这些策略有助于限制和监控流量。</block>
  <block id="d462db7dadc23aa8189eb378bd63ee68" category="paragraph">为了增强服务质量（ QoS ）服务，您可以创建流量分类策略来识别和监控不同类型的网络流量。这些策略有助于限制和监控流量。</block>
  <block id="ca80ef30ae4e001596aa25908ed4702c" category="paragraph">流量分类策略应用于网关节点和管理节点的 StorageGRID 负载平衡器服务上的端点。要创建流量分类策略，必须已创建负载平衡器端点。</block>
  <block id="e19d68c4b9fc41d1ab82cc9aa6bb5e89" category="section-title">匹配规则和可选限制</block>
  <block id="507d75e24074bd0c53b5f5569af8d6cb" category="paragraph">每个流量分类策略都包含一个或多个匹配规则，用于标识与以下一个或多个实体相关的网络流量：</block>
  <block id="62254758dcfe975098fab22609c8aa79" category="list-text">存储分段</block>
  <block id="ab46b0da4c689d676afbc74038c40f71" category="list-text">Tenants</block>
  <block id="f633446196d69ae566ef9dbe62ebd5bb" category="list-text">子网（包含客户端的 IPv4 子网）</block>
  <block id="9c174a0f67d67a36cda0b1265aa0d33e" category="list-text">端点（负载平衡器端点）</block>
  <block id="10593a4b840fd6b7824b1c76bdd06c1c" category="paragraph">StorageGRID 会根据规则的目标监控与策略中任何规则匹配的流量。与某个策略的任何规则匹配的任何流量均由该策略处理。相反，您可以设置规则来匹配除指定实体之外的所有流量。</block>
  <block id="bac887d7ed30475aac4743b634376714" category="paragraph">您也可以根据以下参数为策略设置限制：</block>
  <block id="79965245c5fb3f817e62ba1abddc65b2" category="list-text">中的聚合带宽</block>
  <block id="ba62d757175389ab14b79d12e4ee5736" category="list-text">聚合带宽不足</block>
  <block id="cf8b82c5a5dc04e3265942b599de3ed7" category="list-text">并发读取请求</block>
  <block id="523351dd7fa68bcb661b935d72639e2a" category="list-text">并发写入请求</block>
  <block id="e348dec4a54c3dd34290093e0280775b" category="list-text">每个请求的带宽</block>
  <block id="74c8caf380b8176004d5049e32f5f4d2" category="list-text">每个请求的带宽不足</block>
  <block id="54d15db04038214ee02d682bdf758d91" category="list-text">读取请求速率</block>
  <block id="96d7e1c040d31654fc790a38dea9f4d7" category="list-text">写入请求速率</block>
  <block id="036555c5f85dafecdaf1781360262b28" category="admonition">您可以创建策略来限制聚合带宽或限制每个请求的带宽。但是， StorageGRID 不能同时限制这两种类型的带宽。聚合带宽限制可能会对非受限流量产生额外的轻微性能影响。</block>
  <block id="65c1b5488efb241957721d64373c5956" category="section-title">流量限制</block>
  <block id="4fa2e485059418423bfd2358633be1a4" category="paragraph">创建流量分类策略后，可以根据您设置的规则和限制类型来限制流量。对于聚合或每个请求的带宽限制，请求将以您设置的速率传入或移出。StorageGRID 只能强制执行一个速度，因此，按匹配器类型强制执行最具体的策略匹配。对于所有其他限制类型，客户端请求会延迟 250 毫秒，对于超过任何匹配策略限制的请求，客户端请求会收到 503 个响应速度较慢的响应。</block>
  <block id="9afa2ec5446420381bab1fc983c62ec5" category="paragraph">在网格管理器中，您可以查看流量图表并验证策略是否正在强制实施预期的流量限制。</block>
  <block id="85705d311c45a147b56d5ab04a4d734a" category="section-title">使用具有 SLA 的流量分类策略</block>
  <block id="dee9b0b5aef6aed515f57d6113b67ee1" category="paragraph">您可以将流量分类策略与容量限制和数据保护结合使用来实施服务级别协议（ SLA ），这些协议提供了有关容量，数据保护和性能的具体信息。</block>
  <block id="8ae9fb562c46f2b674b4b1e5868f4abd" category="paragraph">每个负载平衡器都会实施流量分类限制。如果流量同时分布在多个负载平衡器上，则总最大速率是您指定的速率限制的倍数。</block>
  <block id="2c517f757f50cee138d8ff05f5e16f10" category="paragraph">以下示例显示了一个 SLA 的三个层。您可以创建流量分类策略以实现每个 SLA 层的性能目标。</block>
  <block id="a1c8d5d07eff6069e265340fa3782f15" category="cell">服务级别层</block>
  <block id="3b8f7696879f77dfc8c74aa8df8db24b" category="cell">Capacity</block>
  <block id="21a1e68164f738b8be1dae11d5a694b3" category="cell">数据保护</block>
  <block id="9446a98ad14416153cc4d45ab8b531bf" category="cell">性能</block>
  <block id="20b4f77bd00b4f63a49ec8e08f3bf6a6" category="cell">成本</block>
  <block id="9768feb3fdb1f267b06093bc572952dd" category="paragraph">金牌</block>
  <block id="429529cf4be23342761105dcc7fd6004" category="paragraph">允许 1 PB 存储</block>
  <block id="6d296c0d0e5d5c40a4a26957800b7415" category="paragraph">3 复制 ILM 规则</block>
  <block id="d4393f31c02611956ed4dc231efdf2d2" category="paragraph">25 K 请求 / 秒</block>
  <block id="fc7246597e96a563b547b2d94cfc8728" category="paragraph">5 GB/ 秒（ 40 Gbps ）带宽</block>
  <block id="2dc05ba0581e3c95f4b6ba18ba409686" category="paragraph">每月 $$</block>
  <block id="f96e345fdc19cbd4cf15256c251a39a0" category="paragraph">银牌</block>
  <block id="d45ad91c3e8fe00a13a25efa0b9ff93f" category="paragraph">允许使用 250 TB 存储</block>
  <block id="bab8422be1b3fcb9f7ffcf5cb25898e1" category="paragraph">2 复制 ILM 规则</block>
  <block id="140e5f1992e09129d5199dd8a51dedb1" category="paragraph">每秒 10 K 个请求</block>
  <block id="4e221eb947b0afe4be1dfb677cb80c87" category="paragraph">1.25 GB/ 秒（ 10 Gbps ）带宽</block>
  <block id="9f87a109ebc48fc6feeccdcf729e003b" category="paragraph">每月 $$</block>
  <block id="a0df72576daf9a1137d39f7553d36e82" category="paragraph">铜牌</block>
  <block id="bac405ab91740347782e06bcc9d097c5" category="paragraph">允许 100 TB 存储</block>
  <block id="b4ed4873f0c18fcada98f5875e3441d0" category="paragraph">5 K 请求 / 秒</block>
  <block id="07e50182890f61567084c4f5fdc5c398" category="paragraph">1 GB/ 秒（ 8 Gbps ）带宽</block>
  <block id="50cf78ddfcc0278e7738d73e06bdb987" category="paragraph">每月 $</block>
  <block id="39dae996d25beffcf47fb2a85af3986d" category="summary">存储选项包括对象分段设置，存储卷水印的当前值以及元数据预留空间设置。您还可以查看网关节点上已弃用的 CLB 服务以及存储节点上的 LDR 服务使用的 S3 和 Swift 端口。</block>
  <block id="f96adc9ea832c4e4993931c21725f949" category="doc">管理存储选项</block>
  <block id="b2ab82d238ed8b412628cf5876f96640" category="paragraph">有关端口分配的信息，请参见 <block ref="b5281aa732621225b468974e1774b301" category="inline-xref-macro-rx"></block>。</block>
  <block id="fae5e3f2af1f352e19232fa984566bbb" category="image-alt">存储选项</block>
  <block id="dd13479b4160647aae8a2d0939a75196" category="summary">如果您的 StorageGRID 部署包含多个管理节点，则可以选择哪个管理节点应是通知的首选发送方。默认情况下，系统会选择主管理节点，但任何管理节点都可以是首选发送方。</block>
  <block id="cc834eec329da3842a41ccbc9103aca7" category="doc">选择首选发件人</block>
  <block id="3539a0063935424c52f405f1de0620f9" category="paragraph">"* 配置 * &gt; * 系统 * &gt; * 显示选项 * " 页面显示了当前选择用作首选发送方的管理节点。默认情况下会选择主管理节点。</block>
  <block id="5d4020d29dcd2f75ca6f6e5e6d1eb8fa" category="paragraph">在正常系统操作下，只有首选发件人才会发送以下通知：</block>
  <block id="c232c3e85ee1366820a448bc348281f4" category="list-text">AutoSupport 消息</block>
  <block id="a50fc970e37f58fa5e8947b96dad27d5" category="list-text">警报电子邮件</block>
  <block id="b6057fc85700545356fc2ed6c5e16ec7" category="list-text">警报电子邮件（旧系统）</block>
  <block id="cbad4b6ed9a9f1a7fc48e2208a371521" category="paragraph">但是，所有其他管理节点（备用发送器）都会监控首选发送器。如果检测到问题，备用发件人也可以发送这些通知。</block>
  <block id="998ac0eed132c2de7296cb6a406bdce1" category="paragraph">在以下情况下，首选发件人和备用发件人都可能发送通知：</block>
  <block id="28f4537e0ab02a2e465c2f3f83aaee14" category="list-text">如果管理节点彼此变为 "`islanded` " ，则首选发件人和备用发件人都将尝试发送通知，并且可能会收到多个通知副本。</block>
  <block id="95cf9fa08c792aebb00ba71290560777" category="list-text">备用发件人检测到首选发件人存在问题并开始发送通知后，首选发件人可能会重新获得其发送通知的能力。如果发生这种情况，可能会发送重复的通知。当备用发件人不再检测到首选发件人的错误时，它将停止发送通知。</block>
  <block id="9945b90964885389e7c9db1fcdf15c1c" category="admonition">在测试警报通知和 AutoSupport 消息时，所有管理节点都会发送测试电子邮件。在测试警报通知时，您必须登录到每个管理节点以验证连接。</block>
  <block id="bc5631963bae43740962f551beb6df2d" category="list-text">从下拉列表中选择要设置为首选发送方的管理节点。</block>
  <block id="34b4db51d5ce1e15bd9bd8610b1a88a9" category="paragraph">管理节点设置为通知的首选发件人。</block>
  <block id="51b12482d308bb22e687d045542317ec" category="summary">您可以选择阻止客户端修改网格选项来拒绝特定的 HTTP 客户端操作。</block>
  <block id="c8446858e65c5aa736034d52f20af779" category="doc">控制允许哪些客户端操作</block>
  <block id="6c847ad1d3919b0a4fd2f86e7048da97" category="paragraph">" 阻止客户端修改 " 是系统范围的设置。选择阻止客户端修改选项后，以下请求将被拒绝：</block>
  <block id="9e67482bd713f79041f9f258725f614b" category="list-text">* S3 REST APi*</block>
  <block id="5991983fb6e812bb6340e54f84734041" category="list-text">删除存储分段请求</block>
  <block id="a1cb742c2c22dbabb937ac39c9f4c46a" category="list-text">修改现有对象数据，用户定义的元数据或 S3 对象标记的任何请求</block>
  <block id="9aa33b500fc56f75d9c88cd46e815d69" category="admonition">此设置不适用于启用了版本控制的存储分段。版本控制已阻止对对象数据，用户定义的元数据和对象标记进行修改。</block>
  <block id="c1c486f976daaf1f26a424375debde2d" category="list-text">* Swift REST APi*</block>
  <block id="e54206ca18944fdf0613874197b1bd33" category="list-text">删除容器请求</block>
  <block id="0c915c954f03d0c764df05995c396eaf" category="list-text">修改任何现有对象的请求。例如，以下操作被拒绝： PUT 覆盖，删除，元数据更新等。</block>
  <block id="e6ddc4f5e82d4dfb7ecf4dbc20ba3cdf" category="list-text">在网络选项部分中，选中 * 阻止客户端修改 * 复选框。</block>
  <block id="260a0acd47019339256c8443294dc9b9" category="image-alt">阻止客户端修改</block>
  <block id="38724b92fe112aba233947f3034ca356" category="summary">存储节点可提供磁盘存储容量和服务。管理存储节点需要监控每个节点上的可用空间量，使用水印设置以及应用存储节点配置设置。</block>
  <block id="5af9ab4cc426824b7280739490372919" category="doc">关于管理存储节点</block>
  <block id="39e4733df0d4266df7c4f229da0fe074" category="paragraph">存储节点可提供磁盘存储容量和服务。管理存储节点需要执行以下操作：</block>
  <block id="afe51c9b448a3b0fa503c913632a7cb2" category="list-text">管理存储选项</block>
  <block id="136e0dcf23624941dd48ca91fe60ba40" category="list-text">了解什么是存储卷水印，以及如何使用水印覆盖来控制存储节点何时变为只读</block>
  <block id="ee0eb0769e8d0867f33613ce11ed9b1f" category="list-text">监控和管理用于对象元数据的空间</block>
  <block id="3cace9119fd76e9b8e8cd3de0fe85c3b" category="list-text">为已存储对象配置全局设置</block>
  <block id="d7b9b52c6482f238e2dd7f9d7f818819" category="list-text">正在应用存储节点配置设置</block>
  <block id="ac22616fbb1d45acb7b8e61e5bdd8ce0" category="list-text">管理完整存储节点</block>
  <block id="a73477a6d66a9a5f55f2a249c92694e6" category="summary">您可以查看有关 StorageGRID 系统中每个密钥管理服务器的信息，包括服务器和客户端证书的当前状态。</block>
  <block id="cb2c6cb98d29263decfa1b22d74f820e" category="doc">查看 KMS 详细信息</block>
  <block id="8d4c2cc1457cd9ab073e4742f960e8a5" category="paragraph">您可以查看有关 StorageGRID 系统中每个密钥管理服务器（ KMS ）的信息，包括服务器和客户端证书的当前状态。</block>
  <block id="54669a4bf15a8cbfa3c36e57807a333d" category="paragraph">此时将显示密钥管理服务器页面。配置详细信息选项卡显示了已配置的任何密钥管理服务器。</block>
  <block id="4bca20f452f83b83506f0d466d0bfeb3" category="list-text">查看每个 KMS 的表中的信息。</block>
  <block id="eb3d9c7c5820932969256a1b88d37a9c" category="paragraph">KMS 的描述性名称。</block>
  <block id="fceee31b10f15a72c690037f0fdcff19" category="paragraph">KMS 中 StorageGRID 客户端的密钥别名。</block>
  <block id="1192a7fb598aa563f14f6f5c8c5c7b95" category="paragraph">与 KMS 关联的 StorageGRID 站点。</block>
  <block id="05fb8c0e4c4b873243ad909068726e1c" category="paragraph">此字段显示特定 StorageGRID 站点的名称或 * 不由其他 KMS （默认 KMS ）管理的站点。 *</block>
  <block id="2055564620427dcc8b26316ee25199ad" category="paragraph">KMS 的完全限定域名或 IP 地址。</block>
  <block id="d2c0f85fe8c0abfd95b64318e521cccc" category="paragraph">如果集群包含两个密钥管理服务器，则会列出这两个服务器的完全限定域名或 IP 地址。如果集群中有两个以上的密钥管理服务器，则会列出第一个 KMS 的完全限定域名或 IP 地址以及集群中其他密钥管理服务器的数量。</block>
  <block id="deb4698b89dee3ce0c2dbca20ecfa553" category="paragraph">例如： `10.10.10.10 和 10.10.10.11` 或 `10.10.10.10 和其他 2` 。</block>
  <block id="d9db3c5a400827386420f2dcc6b5c0a4" category="paragraph">要查看集群中的所有主机名，请选择一个 KMS ，然后选择 * 编辑 * 。</block>
  <block id="8be29b6170af8ecd77d6d7671810f360" category="paragraph">证书状态</block>
  <block id="d04b84d9f6f3a7631707383705014214" category="paragraph">服务器证书，可选 CA 证书和客户端证书的当前状态：有效，已过期，即将到期或未知。</block>
  <block id="357603600f14c668eb400b813b20317b" category="paragraph">* 注意： * StorageGRID 可能需要长达 30 分钟才能更新证书状态。您必须刷新 Web 浏览器才能查看当前值。</block>
  <block id="5628ad7a8fba7d0a2e0a804477792a5e" category="list-text">如果证书状态为未知，请等待长达 30 分钟，然后刷新 Web 浏览器。</block>
  <block id="7345f994265f93f3c21bd415464d9e79" category="admonition">添加 KMS 后，密钥管理服务器页面上的证书状态将立即显示为未知。StorageGRID 可能需要长达 30 分钟才能获取每个证书的实际状态。您必须刷新 Web 浏览器才能查看实际状态。</block>
  <block id="e8bcc640b8cc961a7ec948c4a0120389" category="list-text">如果证书状态列指示证书已过期或即将到期，请尽快解决问题描述 。</block>
  <block id="03e3e93727f22daa10f1c768ccfbff28" category="paragraph">请参见的说明中针对 * KMS CA 证书到期 * ， * KMS 客户端证书到期 * 和 * KMS 服务器证书到期 * 警报的建议操作 <block ref="b9419b8aeaaca1ed05948ee5b33838b9" category="inline-xref-macro-rx"></block>。</block>
  <block id="f4f8e7920f7d8dfcd2a932d88ac3ef92" category="admonition">要保持数据访问，您必须尽快解决任何证书问题。</block>
  <block id="9b256403644dc564a14877f7d87cc59f" category="summary">如果单点登录 \ （ SSO\ ）系统发生故障，您可能无法登录到网格管理器。在这种情况下，您可以为一个管理节点临时禁用并重新启用 SSO 。要禁用并重新启用 SSO ，必须访问节点的命令 Shell 。</block>
  <block id="0374edd4949dab78f59c58f0f4943195" category="doc">临时禁用并重新启用一个管理节点的单点登录</block>
  <block id="8efb04eb679352c4c11d27cbec12c44c" category="paragraph">如果单点登录（ Single Sign-On ， SSO ）系统发生故障，您可能无法登录到网格管理器。在这种情况下，您可以为一个管理节点临时禁用并重新启用 SSO 。要禁用并重新启用 SSO ，必须访问节点的命令 Shell 。</block>
  <block id="c11fb3ca256de9ff6eaf6aa6c1eb8b84" category="list-text">您知道本地 root 用户的密码。</block>
  <block id="c470c7dd2a73685d6de3f643294ee65f" category="paragraph">为一个管理节点禁用 SSO 后，您可以以本地 root 用户身份登录到网格管理器。要保护 StorageGRID 系统的安全，您必须在注销后立即使用节点的命令 Shell 在管理节点上重新启用 SSO 。</block>
  <block id="e101eb26d630076826abe0afc7c3ccad" category="admonition">为一个管理节点禁用 SSO 不会影响网格中任何其他管理节点的 SSO 设置。网格管理器的单点登录页面上的 * 启用 SSO* 复选框将保持选中状态，并且所有现有的 SSO 设置都将保持不变，除非您对其进行更新。</block>
  <block id="324d837c61b8c5b13b9c73eb3bf9c4ea" category="list-text">运行以下命令：``disable-SAML``</block>
  <block id="83dd4f94b6b1a5b2974ff84af64d0cc9" category="paragraph">此时将显示一条消息，指出命令适用场景 this Admin Node only 。</block>
  <block id="f7a9e4ad1ac4a2e5a549989ad02c9a1f" category="list-text">确认要禁用 SSO 。</block>
  <block id="093cc313e74ed5877429d9ce8e8b4e89" category="paragraph">显示一条消息，指示节点上已禁用单点登录。</block>
  <block id="23cf7b79fdc43e4689dd2d0a77a5f365" category="list-text">从 Web 浏览器访问同一管理节点上的网格管理器。</block>
  <block id="0a2f53267155568fdae95c18f0ab9577" category="paragraph">现在，由于已禁用 SSO ，将显示网格管理器登录页面。</block>
  <block id="b582d5727581667026db06c0451c99ab" category="list-text">使用用户名 root 和本地 root 用户的密码登录。</block>
  <block id="8a785b23bd29ab72da4a09ce75916a72" category="list-text">如果您因需要更正 SSO 配置而临时禁用 SSO ：</block>
  <block id="a76db06e07b3c390176a876258656c62" category="list-text">更改不正确或过时的 SSO 设置。</block>
  <block id="4fe7b03d4f25ae8c73a16b5380d7d553" category="paragraph">从 Single Sign-On 页面选择 * 保存 * 会自动为整个网格重新启用 SSO 。</block>
  <block id="150f523f5c84d6e49de5febfe9f96cee" category="list-text">如果您因某些其他原因需要访问网格管理器而临时禁用 SSO ：</block>
  <block id="453561e72c479ad64a2b428855fddcab" category="list-text">执行需要执行的任何任务。</block>
  <block id="70570ed568afc7d23430dfa40716ba02" category="list-text">选择 * 注销 * ，然后关闭网格管理器。</block>
  <block id="e1230a76e8cf47e37f481d8f76b8730c" category="list-text">在管理节点上重新启用 SSO 。您可以执行以下任一步骤：</block>
  <block id="26412e97c50d2c8d4b5a692b91c47f19" category="list-text">运行以下命令： `enable-SAML`</block>
  <block id="4fefc2db737c7de22c2b71b3cbe6f1c3" category="paragraph">确认要启用 SSO 。</block>
  <block id="135fef6c58c18e7970dd20ad937069a4" category="paragraph">显示一条消息，指示节点上已启用单点登录。</block>
  <block id="3bb24c70115721fa55364d023ae31930" category="list-text">从 Web 浏览器中，从同一管理节点访问网格管理器。</block>
  <block id="b2398934e1498b1f275e2e37001859ad" category="list-text">确认此时将显示 StorageGRID 登录页面，并且您必须输入 SSO 凭据才能访问网格管理器。</block>
  <block id="b06f337f6ff16328ac50f4cd92861d80" category="summary">您可以将归档节点配置为以 Tivoli Storage Manager （ TSM\ ）服务器为目标，该服务器可提供逻辑接口，用于将对象数据存储和检索到随机或顺序访问存储设备，包括磁带库。</block>
  <block id="035c7c40e8aaec60defe9401fb090518" category="doc">通过 TSM 中间件归档到磁带</block>
  <block id="cfb06a6c3e069cb5557d3cb12c59c350" category="paragraph">您可以将归档节点配置为以 Tivoli Storage Manager （ TSM ）服务器为目标，该服务器可提供逻辑接口，用于将对象数据存储和检索到随机或顺序访问存储设备，包括磁带库。</block>
  <block id="01d5d68dd569bb5a481cf606130cbe8d" category="paragraph">归档节点的 ARC 服务充当 TSM 服务器的客户端，使用 Tivoli Storage Manager 作为与归档存储系统通信的中间件。</block>
  <block id="36ba275cf328ea667fda7e457e2e8588" category="section-title">TSM 管理类</block>
  <block id="65a1913b5b9ae7e43fe731ffee72be35" category="paragraph">TSM 中间件定义的管理类概括了 TSMʹs 备份和归档操作的工作原理，可用于为 TSM 服务器应用的内容指定规则。此类规则独立于 StorageGRID 系统的 ILM 策略运行，并且必须符合 StorageGRID 系统的要求，即对象永久存储，并且始终可供归档节点检索。在归档节点将对象数据发送到 TSM 服务器后，将应用 TSM 生命周期和保留规则，同时将对象数据存储到 TSM 服务器管理的磁带。</block>
  <block id="db63f803bcf42323e20e9ce1188dbf82" category="paragraph">在归档节点将对象发送到 TSM 服务器后， TSM 服务器将使用 TSM 管理类应用数据位置或保留规则。例如，标识为数据库备份的对象（可使用较新数据覆盖的临时内容）可以与应用程序数据（必须无限期保留的固定内容）不同。</block>
  <block id="63b80d8d9cbfb934c0114d2331f2b956" category="summary">将归档节点配置为通过 S3 API 连接到外部归档存储系统后，如果连接发生变化，您可以修改某些设置。</block>
  <block id="1336ee298e3a5ced93fd8093fbfa7677" category="doc">修改 S3 API 的连接设置</block>
  <block id="5570491650f189bb8e8bbadf0fbb8046" category="paragraph">如果更改 Cloud Tiering （ S3 ）帐户，则必须确保用户访问凭据对存储分段具有读 / 写访问权限，包括先前归档节点向存储分段载入的所有对象。</block>
  <block id="f9443b46f798cacc98bfba02d0f9593b" category="list-text">选择 * ：归档节点 _* &gt; * 。 ARR* &gt; * 目标 * 。</block>
  <block id="759e7c2e986c9a702e6c89bbe08521c9" category="image-alt">修改归档节点的配置页面</block>
  <block id="880f455c0558928b436518619d26de99" category="list-text">根据需要修改帐户信息。</block>
  <block id="8b4caad60cf2ec4847704c6c9a047099" category="paragraph">如果更改存储类，则新对象数据将与新存储类一起存储。载入时，现有对象仍存储在存储类集下。</block>
  <block id="f43eb72013bab752e500d934c614723c" category="admonition">分段名称，区域和端点，使用 AWS 值，不能更改。</block>
  <block id="d5103c9d8c738419b383537e4dcc9355" category="summary">在启用单点登录 \ （ SSO\ ）之前，您必须确认至少有一个联合用户可以登录到网格管理器以及任何现有租户帐户的租户管理器。</block>
  <block id="f2eecc659d2ee1aa565f0c4cbfa2d500" category="doc">确认联合用户可以登录</block>
  <block id="72c849fceb08889da81dca36cbc1af67" category="paragraph">在启用单点登录（ SSO ）之前，您必须确认至少有一个联合用户可以登录到网格管理器以及任何现有租户帐户的租户管理器。</block>
  <block id="4a784ed01aa8702e6e0e74153403440a" category="list-text">您已配置身份联合。</block>
  <block id="fe41a5c98481d9eeae93bde7c3862743" category="list-text">如果存在现有租户帐户，请确认所有租户均未使用其自己的身份源。</block>
  <block id="afddeb7c8cec7db095de18576017d32d" category="admonition">启用 SSO 后，在租户管理器中配置的身份源将被网格管理器中配置的身份源覆盖。属于租户身份源的用户将无法再登录，除非他们拥有网格管理器身份源帐户。</block>
  <block id="9641d021a46c48398a3cbd644738a102" category="list-text">登录到每个租户帐户的租户管理器。</block>
  <block id="e2b5d9abd19653d5245a0a085e609872" category="list-text">确认未选中 * 启用身份联合 * 复选框。</block>
  <block id="5ee0ce7c4af29eefef7ce5287ac51b8c" category="list-text">如果是，请确认不再需要可能用于此租户帐户的任何联合组，取消选中此复选框，然后选择 * 保存 * 。</block>
  <block id="0fcb113b019fa3079f7007521d2bf1bf" category="list-text">确认联合用户可以访问网格管理器：</block>
  <block id="6b2ac52ed3a493e5c89fd1b23108a4a5" category="list-text">在网格管理器中，选择 * 配置 * &gt; * 访问控制 * &gt; * 管理组 * 。</block>
  <block id="8dc007af4d26ce459ac7c60b4832617b" category="list-text">确保已从 Active Directory 身份源导入至少一个联合组，并已为其分配 root 访问权限。</block>
  <block id="c74de3ecf7f9f29bb9bb0ee55c8146cd" category="list-text">注销。</block>
  <block id="df32f946ffe8395c49e5368e976e6eda" category="list-text">确认您可以以联合组中的用户身份重新登录到网格管理器。</block>
  <block id="ce1d0bf2654e3a3c73836e55e7ceb309" category="list-text">如果存在现有租户帐户，请确认具有 root 访问权限的联合用户可以登录：</block>
  <block id="2bc92b6f4ecea799c3f20bb85da6fb9f" category="list-text">选择租户帐户，然后选择 * 操作 * &gt; * 编辑 * 。</block>
  <block id="5cb058a9fb7057fb58baf1943f2c61a8" category="list-text">在输入详细信息选项卡上，选择 * 继续 * 。</block>
  <block id="d562ac184ae194d705b363cbf388e611" category="list-text">如果选中了 * 使用自己的身份源 * 复选框，请取消选中该复选框并选择 * 保存 * 。</block>
  <block id="f2e9239b59d2df3611cb06862df9cfa0" category="image-alt">未选中编辑租户帐户 &gt; 使用自己的身份源复选框</block>
  <block id="7080511c7f0625262c8c60b285bd8520" category="paragraph">此时将显示租户页面。</block>
  <block id="815c09801ee5b4990135ea4e88ba0591" category="list-text">选择租户帐户，选择 * 登录 * ，然后以本地 root 用户身份登录到租户帐户。</block>
  <block id="2525d19acd0b89958e6a4cc203a9ef80" category="list-text">在租户管理器中，选择 * 访问管理 * &gt; * 组 * 。</block>
  <block id="548c29aecd681da3c89ee8cc15395913" category="list-text">确保至少已为此租户为网格管理器中的一个联合组分配 root 访问权限。</block>
  <block id="c7a13eb1d44769e24c35b3a740a25aff" category="list-text">确认您可以以联盟组中的用户身份重新登录到租户。</block>
  <block id="d4bf250bdd7ae0a618628aa234c674c5" category="list-text"><block ref="d4bf250bdd7ae0a618628aa234c674c5" category="inline-xref-macro-rx"></block></block>
  <block id="d40a142ac2e16df29d925a8206e27f27" category="list-text"><block ref="d40a142ac2e16df29d925a8206e27f27" category="inline-xref-macro-rx"></block></block>
  <block id="04b9586e37ab00800fcbe1348820076c" category="summary">您可以在管理节点和网关节点上创建虚拟 LAN 接口（ VLAN\ ），并在 HA 组和负载平衡器端点上使用这些接口隔离和分区流量，以提高安全性，灵活性和性能。</block>
  <block id="0a51f84e6be43565f49734e391d586d6" category="paragraph">您可以在管理节点和网关节点上创建虚拟 LAN （ VLAN ）接口，并在 HA 组和负载平衡器端点中使用这些接口隔离和分区流量，以提高安全性，灵活性和性能。</block>
  <block id="065bd625c8d55e9a1a4e451b54286127" category="section-title">VLAN 接口注意事项</block>
  <block id="8980ad0ec123fa8838f8dab8a28ab627" category="list-text">您可以通过输入 VLAN ID 并在一个或多个节点上选择父接口来创建 VLAN 接口。</block>
  <block id="617058e2da7d9e2f9df95e8cd36cc44b" category="list-text">必须在交换机上将父接口配置为中继接口。</block>
  <block id="f49366edb29f0dd2e1b8588e6aec6574" category="list-text">父接口可以是网格网络（ eth0 ），客户端网络（ eth2 ），也可以是虚拟机或裸机主机的附加中继接口（例如 ens256 ）。</block>
  <block id="8ac59507057c6176e97a3c7fb65d1365" category="list-text">对于每个 VLAN 接口，您只能为给定节点选择一个父接口。例如，不能将同一网关节点上的网格网络接口和客户端网络接口同时用作同一 VLAN 的父接口。</block>
  <block id="3fffe1700b668fd593431a3741db6923" category="list-text">如果 VLAN 接口用于管理节点流量，其中包括与网格管理器和租户管理器相关的流量，请仅选择管理节点上的接口。</block>
  <block id="6ad223db5cdb52fa4889b195017b50ee" category="list-text">如果 VLAN 接口用于 S3 或 Swift 客户端流量，请选择管理节点或网关节点上的接口。</block>
  <block id="70209c738c1d70dedd06e795306f68db" category="list-text">如果需要添加中继接口，请参见以下内容了解详细信息：</block>
  <block id="0ddbd1a819521fa9aaf7593da111b3e9" category="section-title">创建 VLAN 接口</block>
  <block id="a63f0fcd92026b7ef2a8ba1ea18fdd45" category="list-text">已在网络中配置中继接口并将其连接到 VM 或 Linux 节点。您知道中继接口的名称。</block>
  <block id="aed2a0b0f5659cd3eb06338201b41f53" category="list-text">您知道要配置的 VLAN 的 ID 。</block>
  <block id="bbbe9ad61043ff58b2151af520d6d607" category="paragraph">网络管理员可能已配置一个或多个中继接口以及一个或多个 VLAN ，以隔离属于不同应用程序或租户的客户端或管理流量。每个 VLAN 都通过一个数字 ID 或标记来标识。例如，您的网络可能使用 VLAN 100 传输 FabricPool 流量，而使用 VLAN 200 传输归档应用程序。</block>
  <block id="9a880d3b38fdca4df44357cfc64773fc" category="paragraph">您可以使用网格管理器创建 VLAN 接口，以允许客户端访问特定 VLAN 上的 StorageGRID 。创建 VLAN 接口时，您可以指定 VLAN ID 并选择一个或多个节点上的父（中继）接口。</block>
  <block id="e65589f6a674d67abc71e200ec94c681" category="list-text">选择 * 配置 * &gt; * 网络 * &gt; * VLAN 接口 * 。</block>
  <block id="b6a4c2ef907e213ee2ea43c131b86ebe" category="section-title">输入 VLAN 接口的详细信息</block>
  <block id="9c65ff06ef04cb9d167c37dbfe307e60" category="list-text">指定网络中 VLAN 的 ID 。您可以输入 1 到 4094 之间的任何值。</block>
  <block id="7bd0d48b9776cfa0aac46980066d7cfe" category="paragraph">VLAN ID 不需要唯一。例如，您可以对一个站点的管理流量使用 VLAN ID 200 ，而对另一个站点的客户端流量使用相同的 VLAN ID 。您可以在每个站点使用不同的父接口集创建单独的 VLAN 接口。但是， ID 相同的两个 VLAN 接口不能在一个节点上共享同一个接口。</block>
  <block id="8175a6eec0f88446955085b8d6946f0c" category="paragraph">如果指定的 ID 已被使用，则会显示一条消息。您可以继续为同一 VLAN ID 创建另一个 VLAN 接口，也可以选择 * 取消 * ，然后编辑现有 ID 。</block>
  <block id="97d86b0ac84324c8146d4725fe20fad1" category="list-text">或者，输入 VLAN 接口的短问题描述 。</block>
  <block id="bdfe66a8a7fe677546d346d14f93a46f" category="image-alt">VLAN 接口创建向导 VLAN 详细信息</block>
  <block id="ed271f1e1e558156418903271b92a2e6" category="section-title">选择父接口</block>
  <block id="9f7717a24ebde802b7259d352869a70f" category="paragraph">下表列出了网格中每个站点上所有管理节点和网关节点的可用接口。管理网络（ eth1 ）接口不能用作父接口，也不会显示。</block>
  <block id="c9a8a1d07a5987fa091329d2db00339b" category="list-text">选择一个或多个要将此 VLAN 连接到的父接口。</block>
  <block id="080774942c6702b79d9a2c7ee98a19f3" category="paragraph">例如，您可能希望将 VLAN 连接到网关节点和管理节点的客户端网络（ eth2 ）接口。</block>
  <block id="5712831c17ef297c5dfb6606b42eef4e" category="image-alt">VLAN 创建向导的父接口</block>
  <block id="ec5d04589b0cf5d3ed356cbcf7bdd691" category="section-title">确认设置</block>
  <block id="a0679511e00319bbad39ed39490d29fb" category="list-text">查看配置并进行任何更改。</block>
  <block id="d6397084ee793908266c533df4a9bc5d" category="list-text">如果需要更改 VLAN ID 或问题描述 ，请选择页面顶部的 * 输入 VLAN 详细信息 * 。</block>
  <block id="e7d1175007b4f18833ed8a94a768fef8" category="list-text">如果需要更改父接口，请选择页面顶部的 * 选择父接口 * 或选择 * 上一个 * 。</block>
  <block id="a0049c1b6457af34e067968e24fc76c0" category="inline-image-macro">垃圾桶图标</block>
  <block id="b51873d0023757bdf57d56ee6bc47a55" category="list-text">如果需要删除父接口，请选择垃圾桶 <block ref="fed0dd1ccdb81645a489a6ee40d7a1a3" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="cc6fb2c32dacd577ca8f40b0975c8a56" category="list-text">等待 5 分钟，使新接口显示为 " 高可用性组 " 页面上的一个选项，并在节点的 * 网络接口 * 表中列出（ * 节点 * &gt; * 父接口节点 _* &gt; * 网络 * ）。</block>
  <block id="61906ab831a0a1f2fcee735248f9e88b" category="section-title">编辑 VLAN 接口</block>
  <block id="073fd975fc53c66ea6a17211fa2e466d" category="paragraph">编辑 VLAN 接口时，可以进行以下类型的更改：</block>
  <block id="ce47e7c90258ab131d79e56c7bd7981f" category="list-text">更改 VLAN ID 或问题描述 。</block>
  <block id="076d6e4c2a2051300176609340ddb8c6" category="list-text">添加或删除父接口。</block>
  <block id="243e118f21922de0a6705e378897d9bf" category="paragraph">例如，如果您计划停用关联节点，则可能需要从 VLAN 接口中删除父接口。</block>
  <block id="e6774d6ae0b64332d92691708ba49f56" category="list-text">如果在 HA 组中使用 VLAN 接口，则无法更改 VLAN ID 。</block>
  <block id="2c00b217b52281b54e9a8b70cb0b94e5" category="list-text">如果父接口在 HA 组中使用，则不能删除该父接口。</block>
  <block id="3a0bda1303924e859e2c3f154f41b52b" category="paragraph">例如，假设 VLAN 200 连接到节点 A 和 B 上的父接口如果 HA 组对节点 A 使用 VLAN 200 接口，而对节点 B 使用 eth2 接口，则可以删除节点 B 未使用的父接口，但不能删除节点 A 使用的父接口</block>
  <block id="84dde09df2fdadd8f84e762a1770a315" category="list-text">选中要编辑的 VLAN 接口对应的复选框。然后，选择 * 操作 * &gt; * 编辑 * 。</block>
  <block id="f0294b82af47b26fe4527c300ca1af4f" category="list-text">也可以更新 VLAN ID 或问题描述 。然后，选择 * 继续 * 。</block>
  <block id="6756a481a81e7fdb523489c1a165abae" category="paragraph">如果在 HA 组中使用 VLAN ，则无法更新 VLAN ID 。</block>
  <block id="e87fdb6bdccf769a8c443b5482f7e7b0" category="list-text">或者，选中或取消选中复选框以添加父接口或删除未使用的接口。然后，选择 * 继续 * 。</block>
  <block id="b99103ea3d7994a0290fe8493d3c561e" category="section-title">删除 VLAN 接口</block>
  <block id="e07029212eca08ab6df5839ea9342176" category="paragraph">您可以删除一个或多个 VLAN 接口。</block>
  <block id="01b51504791971c55eaf1fa101dd43ed" category="paragraph">如果 VLAN 接口当前正在 HA 组中使用，则无法将其删除。必须先从 HA 组中删除 VLAN 接口，然后才能将其删除。</block>
  <block id="7abbe36119d862d0a3320bf8d6ea610a" category="paragraph">要避免客户端流量发生任何中断，请考虑执行以下操作之一：</block>
  <block id="854a3ba69ece1caab24355a3ee9e1312" category="list-text">在删除此 VLAN 接口之前，请向 HA 组添加一个新的 VLAN 接口。</block>
  <block id="fb1dfa5dd72dcd487bf0b6fb532d21e5" category="list-text">创建不使用此 VLAN 接口的新 HA 组。</block>
  <block id="45f5c94ae470e84181c7054f15658181" category="list-text">如果要删除的 VLAN 接口当前为活动接口，请编辑 HA 组。将要删除的 VLAN 接口移至优先级列表的底部。等待新主接口建立通信，然后从 HA 组中删除旧接口。最后，删除该节点上的 VLAN 接口。</block>
  <block id="2c90bf623a9880713832c141ac3e876f" category="list-text">选中要删除的每个 VLAN 接口对应的复选框。然后，选择 * 操作 * &gt; * 删除 * 。</block>
  <block id="48d0fa42987f4d3497e343955d7a4885" category="list-text">选择 * 是 * 确认您的选择。</block>
  <block id="90beb233b2a5596b08ec37b12a857683" category="paragraph">选定的所有 VLAN 接口都将被删除。VLAN 接口页面上会显示一个绿色的成功横幅。</block>
  <block id="81fb1c4f2eac8421fcc636f357364c08" category="summary">如果 root 用户被锁定在帐户之外，您可能需要更改租户的本地 root 用户的密码。</block>
  <block id="79b604971169e90289377a38ce5551a8" category="doc">更改租户的本地 root 用户的密码</block>
  <block id="b043ecb42a45aa8e9c1bdcec5cdfd54e" category="paragraph">如果 root 用户被锁定在帐户之外，您可能需要更改租户的本地 root 用户的密码。</block>
  <block id="f7f58a62755fe69cec402c4ad7c01535" category="paragraph">如果为 StorageGRID 系统启用了单点登录（ SSO ），则本地 root 用户将无法登录到租户帐户。要执行 root 用户任务，用户必须属于对租户具有 root 访问权限的联合组。</block>
  <block id="841e50bb5861b13903c046ed9f71f2ee" category="list-text">选择要编辑的租户帐户。</block>
  <block id="03c6cb35d70bc6663bc2895c715dbf25" category="paragraph">此时， "Actions" 按钮将变为启用状态。</block>
  <block id="ac9ea679da03f79444890bc8cebbb0b4" category="list-text">从 * 操作 * 下拉列表中，选择 * 更改 root 密码 * 。</block>
  <block id="50ff845719da28680f51014868207007" category="list-text">输入租户帐户的新密码。</block>
  <block id="05cb4b3b673c0e38e7c1dfc726c6fc6a" category="summary">归档节点将写入磁盘存储池。要将内容归档到磁带，必须配置磁盘存储池以将内容移动到磁带存储池。</block>
  <block id="30a2fd4fa3db319b1676210a97a59e02" category="doc">定义 TSM 磁带和磁盘存储池</block>
  <block id="7f31825842d9d55a9d6d9e24db33ec7f" category="paragraph">对于 TSM 服务器，您必须在 Tivoli Storage Manager 中定义磁带存储池和磁盘存储池。定义磁盘池后，创建一个磁盘卷并将其分配给磁盘池。如果您的 TSM 服务器仅使用磁盘‐存储，则不需要磁带池。</block>
  <block id="93ef2cddb368ab371dc49fbdd1f3a979" category="paragraph">您必须先在 TSM 服务器上完成多个步骤，然后才能创建磁带存储池。（在磁带库中创建一个磁带库和至少一个驱动器。定义从服务器到库以及从服务器到驱动器的路径，然后为驱动器定义设备类。） 根据站点的硬件配置和存储要求，这些步骤的详细信息可能会有所不同。有关详细信息，请参见 TSM 文档。</block>
  <block id="f62a767441080acc1bf42c4736515612" category="paragraph">以下一组说明说明了此过程。请注意，根据部署要求，您的站点可能会有所不同。有关配置详细信息和说明，请参见 TSM 文档。</block>
  <block id="4cc9007fac3cf230f0f0bb5e2ca479fe" category="admonition">您必须使用管理权限登录到服务器，并使用 dsmadc 工具执行以下命令。</block>
  <block id="35ec222e234a1246c74935fbfae0fb57" category="list-text">创建磁带库。</block>
  <block id="b2aae69ce07f5b91dcfdc4a5cbeef551" category="paragraph">`define library _tapelibre_ libtype=_SCSI_`</block>
  <block id="0c0fb70900937c4308b5b73e46710066" category="paragraph">其中， ` _tapeliborle_` 是为磁带库选择的任意名称， `libtype` 的值可能因磁带库类型而异。</block>
  <block id="268a6ebb786f5c00a925a6155bf1a29d" category="list-text">定义从服务器到磁带库的路径。</block>
  <block id="e0170845ab980ce1d8c28b688010e1e6" category="paragraph">`define path _servername tapelibre_ srctype=server desttype=library device=_lib-devicename_`</block>
  <block id="1035d825d576489c34a4477c79f80fe3" category="list-text">` servername_` 是 TSM 服务器的名称</block>
  <block id="584c35bc08a98bd5174a6a70fcd053f5" category="list-text">` _tapeliborle_` 是您定义的磁带库名称</block>
  <block id="9e56355331ebf0cf7ef669435d623d6c" category="list-text">` _lib-devicename_` 是磁带库的设备名称</block>
  <block id="237a1fad6a7324f68680dc382037a762" category="list-text">为库定义驱动器。</block>
  <block id="8b35f3c7ae51c7c4673f834975db3994" category="paragraph">`define drive _tapelibre_ _drivename_`</block>
  <block id="352cca9947fc241520dad46491fe131b" category="list-text">` _drivename_` 是要为驱动器指定的名称</block>
  <block id="34b8cdc4576cde5e3ee75d02309d5c8c" category="paragraph">根据您的硬件配置，您可能需要配置一个或多个驱动器。（例如，如果 TSM 服务器连接到一个光纤通道交换机，而该交换机具有来自磁带库的两个输入，则您可能需要为每个输入定义一个驱动器。）</block>
  <block id="70f0a1d1f5233e6096885a63f3a11b2f" category="list-text">定义从服务器到您定义的驱动器的路径。</block>
  <block id="ff37cc03bf976e052f64c314751e6ba8" category="paragraph">`define path _servername_ drivename srctype=server desttype=drive library=_tapelibre_ device=_drive-dname_`</block>
  <block id="c1dd6d946f1c5e2f3c61989872f0d889" category="list-text">` drive-dname_` 是驱动器的设备名称</block>
  <block id="5bf9b492bd5b91c0ecb264c88804a7e7" category="paragraph">对为磁带库定义的每个驱动器重复上述步骤，对每个驱动器使用单独的 ` 驱动器名称 _` 和 ` 驱动器 -dname_` 。</block>
  <block id="0c8188316e1603cdbff25bfe87553aa2" category="list-text">为驱动器定义设备类。</block>
  <block id="7f692b1e3e17966cab1b830187ec1bf7" category="paragraph">`define devclass _DeviceClassName_ devtype=_LTO_ library=_tapelibre_ format=_tapettype_`</block>
  <block id="a5bd759893061fc26556e7c8116ef419" category="list-text">` _DeviceClassName_` 是设备类的名称</block>
  <block id="82494dfce9cdcdf17ccd9246b7573903" category="list-text">` lod_` 是连接到服务器的驱动器类型</block>
  <block id="02a75a6bb1208d2966a58381220d23ed" category="list-text">` _tapettype_` 是磁带类型；例如 ultrium3</block>
  <block id="57bd97d76814d7b9175a3e821c735e87" category="list-text">将磁带卷添加到库的清单中。</block>
  <block id="caf72eade18211e3ed62e7641e6f07f8" category="paragraph">`签入 libvolume _tapelibaler_`</block>
  <block id="92c39b59a2a782593f9ce076998c97cc" category="paragraph">` _tapeliborle_` 是您定义的磁带库名称。</block>
  <block id="315490c53b27034ea9c3b3ae62feacab" category="list-text">创建主磁带存储池。</block>
  <block id="1f5353becb061190459ddc5d0679c5ee" category="paragraph">`define stgpool _SGWSTapePool _ _DeviceClassName_ description=_description_ _m2ate=filespace_maxscrating=_XX_`</block>
  <block id="b91ae36b01330604f11dd1954278e216" category="list-text">` _SGWSTapePool_` 是归档节点的磁带存储池的名称。您可以为磁带存储池选择任何名称（只要该名称使用 TSM 服务器预期的语法约定）。</block>
  <block id="5c9fef499800cd74475c39db18bbb769" category="list-text">` _DeviceClassName_` 是磁带库的设备类名称。</block>
  <block id="7a1e277f262869530262197511d8af3b" category="list-text">` _TSM_` 是存储池的问题描述 ，可使用 `query stgpool` 命令显示在问题描述 服务器上。例如： "`归档节点的磁带存储池。` "</block>
  <block id="e14abc8737022e35f5f568318e8a151a" category="list-text">` _cowate=filespace_` 指定 TSM 服务器应将同一文件空间中的对象写入单个磁带。</block>
  <block id="590a2ac7780adf5ca34cf9fb10487cc8" category="list-text">`XX` 是以下项之一：</block>
  <block id="9134331ef323614fe5501f312f8ed2b3" category="list-text">磁带库中的空磁带数量（如果归档节点是唯一使用该库的应用程序）。</block>
  <block id="b8124d9c23347b266026c5c3aa062e08" category="list-text">分配给 StorageGRID 系统使用的磁带数量（在共享磁带库的情况下）。</block>
  <block id="8784fef8540a9cc75ded0705fb0b09b8" category="list-text">在 TSM 服务器上，创建磁盘存储池。在 TSM 服务器的管理控制台中，输入</block>
  <block id="f2af26381d1221d6893c09e76498e471" category="paragraph">`define stgpool _SGWSDiskPool _ disk description=_description_ maxsize=_max_file_size nextstgpool=SGWSTapePool _ highmig=_percent_high_ lowmig=_percent_low_`</block>
  <block id="daf77cd37a0da0b371ee7961cc891591" category="list-text">` _SGWSDiskPool` 是归档节点磁盘池的名称。您可以为磁盘存储池选择任何名称（只要该名称使用 TSM 预期的语法约定）。</block>
  <block id="d0e3e59827d56ae25bc4cc69a2e417f1" category="list-text">` _TSM_` 是存储池的问题描述 ，可使用 `query stgpool` 命令显示在问题描述 服务器上。例如， " 为归档节点设置 `D` 存储池。 "</block>
  <block id="f5adeda7b1c90aed280be0a0aef45676" category="list-text">` max_max_file_size_` 强制将大于此大小的对象直接写入磁带，而不是缓存在磁盘池中。建议将 ` 最大文件大小 _` 设置为 10 GB 。</block>
  <block id="2903c74c141ef174938d825130b1ac22" category="list-text">` nextstgpool=SGWSTapePool_` 将磁盘存储池引用为归档节点定义的磁带存储池。</block>
  <block id="d5ca3f27630bb66cb60128ad172827f2" category="list-text">` _percent_high_` 设置磁盘池开始将其内容迁移到磁带池的值。建议将 ` _percent_high_` 设置为 0 ，以便立即开始数据迁移</block>
  <block id="3587396e3c49d18d4a03e7c39ab88495" category="list-text">` _percent_low_` 设置停止迁移到磁带池的值。建议将 ` _percent_low_` 设置为 0 以清除磁盘池。</block>
  <block id="870bd845ff637cbaf5d639fd721ce307" category="list-text">在 TSM 服务器上，创建一个或多个磁盘卷并将其分配给磁盘池。</block>
  <block id="b4a4554d473eb79f17c0b74e5aa63fd1" category="paragraph">`define volume _SGWSDiskPool _ _volume_name_ formatsize=_size_`</block>
  <block id="aacbd0dd546430e00821b30364a4344b" category="list-text">` _SGWSDiskPool` 是磁盘池名称。</block>
  <block id="3b53e97b89e0545a22fd4a0b52f5394e" category="list-text">` volume_name_` 是 TSM 服务器上卷位置的完整路径（例如， ` /var/local/arc/stage6.DSM` ），在此服务器上，它会写入磁盘池的内容，以便为传输到磁带做好准备。</block>
  <block id="85b7afac73906ab8101d20a49077bcd4" category="list-text">` size_` 是磁盘卷的大小，以 MB 为单位。</block>
  <block id="9524a42bc4a8ae5d2d8f0e9306c3c634" category="paragraph">例如，要创建一个磁盘卷，使磁盘池的内容填满一个磁带，请在磁带卷的容量为 200 GB 时将大小值设置为 200 ， 000 。</block>
  <block id="372070618046e08b92d86aab6409ac64" category="paragraph">但是，可能需要创建多个较小大小的磁盘卷，因为 TSM 服务器可以向磁盘池中的每个卷写入数据。例如，如果磁带大小为 250 GB ，请创建 25 个磁盘卷，每个卷的大小为 10 GB （ 10000 ）。</block>
  <block id="005a2291e90112c757bb25a7286a689b" category="paragraph">TSM 服务器会在目录中为磁盘卷预先分配空间。此操作可能需要一段时间才能完成（对于 200 GB 磁盘卷，需要三个多小时）。</block>
  <block id="11835232abc875ea47d6f1310fde360d" category="summary">您可以编辑流量分类策略以更改其名称或问题描述 ，或者创建，编辑或删除此策略的任何规则或限制。</block>
  <block id="59f978a39fd644a0c66c69f5348aa7bd" category="doc">编辑流量分类策略</block>
  <block id="a4d4972ddf67b2bfa98f2af957db190a" category="list-text">选择要编辑的策略左侧的单选按钮。</block>
  <block id="74f5ac0a022f3357aa1be72d1c6ae8aa" category="paragraph">此时将显示编辑流量分类策略对话框。</block>
  <block id="abf7681daaf58956d408385a34eff422" category="image-alt">编辑流量分类策略</block>
  <block id="4211ce1a00866a5a8fac38b9233fc840" category="list-text">根据需要创建，编辑或删除匹配的规则和限制。</block>
  <block id="0aa1188b38c9325f8b389c91dcd3c31a" category="list-text">要创建匹配的规则或限制，请选择 * 创建 * ，然后按照说明创建规则或创建限制。</block>
  <block id="f2a978ecef7b4dc76f977159467dbce4" category="list-text">要编辑匹配的规则或限制，请选择规则或限制的单选按钮，在 * 匹配规则 * 部分或 * 限制 * 部分中选择 * 编辑 * ，然后按照说明创建规则或创建限制。</block>
  <block id="6b4af5dcbf806913ef03eb96c493869f" category="list-text">要删除匹配的规则或限制，请选择规则或限制的单选按钮，然后选择 * 删除 * 。然后，选择 * 确定 * 以确认要删除规则或限制。</block>
  <block id="38f9562252bcdf912d9a2741b7cd70db" category="list-text">创建或编辑规则或限制后，请选择 * 应用 * 。</block>
  <block id="f321bf92f855da4cb019b5ca99405c0a" category="list-text">编辑完策略后，选择 * 保存 * 。</block>
  <block id="c2125fd0f77f82feaf94a91f8b5ad7f0" category="paragraph">您对策略所做的更改将被保存，网络流量现在将根据流量分类策略进行处理。您可以查看流量图表并验证策略是否正在强制实施预期的流量限制。</block>
  <block id="1f8c0d16a5817ce9b2c107e79fceb993" category="summary">StorageGRID 使用三个存储卷水印来确保存储节点在空间严重不足之前安全地过渡到只读状态，并允许已过渡到只读状态的存储节点再次变为读写状态。</block>
  <block id="774b0edc84bb05e7b164d869b3736e93" category="doc">什么是存储卷水印？</block>
  <block id="2dc9e6a29b969dbcfa032deab6e6f88f" category="image-alt">存储卷水印</block>
  <block id="6d13d64449d081add74f2fb68ebe6c4f" category="admonition">存储卷水印仅适用于用于复制和擦除编码对象数据的空间。要了解为卷 0 上的对象元数据预留的空间，请转至<block ref="c70713a3f8f991a51ed0722e4bf51935" category="inline-xref-macro-rx"></block>。</block>
  <block id="18c60a7e1b5c3e25332c3fc3200f9977" category="section-title">什么是软只读水印？</block>
  <block id="198f99bc10416a6fb9e86dace237cfc6" category="paragraph">第一个水印是 * 存储卷软只读水印 * ，用于指示存储节点用于对象数据的可用空间正在变满。</block>
  <block id="10075968673d4975364b762d78316b77" category="paragraph">如果存储节点中的每个卷的可用空间小于该卷的软只读水印，则存储节点将过渡到 _read-only mode" 。只读模式表示存储节点向 StorageGRID 系统的其余部分公布只读服务，但满足所有待处理的写入请求。</block>
  <block id="571e5c17fd7af7faaa794ddbe7da5ef9" category="paragraph">例如，假设存储节点中的每个卷都有一个 10 GB 的软只读水印。一旦每个卷的可用空间小于 10 GB ，存储节点就会过渡到软只读模式。</block>
  <block id="dbf128bddd09f7f1f17987c4556567be" category="section-title">什么是硬只读水印？</block>
  <block id="c675603072d3a26ae1816ad51c5b1080" category="paragraph">下一个水印是 * 存储卷硬只读水印 * ，用于指示节点的对象数据可用空间正在变满。</block>
  <block id="f98b18629faac1754ee82ea7600d2165" category="paragraph">如果卷上的可用空间小于该卷的硬只读水印，则写入该卷将失败。但是，可以继续向其他卷写入数据，直到这些卷上的可用空间小于其硬只读水印为止。</block>
  <block id="d4837a920d4c72871110126b8ac52352" category="paragraph">例如，假设存储节点中的每个卷都有一个 5 GB 的硬只读水印。一旦每个卷的可用空间小于 5 GB ，存储节点就不再接受任何写入请求。</block>
  <block id="afbde1c821ea7529fc6d851ad064ec05" category="paragraph">硬只读水印始终小于软只读水印。</block>
  <block id="83bdd17235a80c942817234054202b3e" category="section-title">什么是读写水印？</block>
  <block id="3d17cae6eddb1bccc475781003037f51" category="paragraph">* 存储卷读写水印 * 仅适用于已过渡到只读模式的适用场景 存储节点。它可确定节点何时可以重新变为读写状态。如果存储节点中任一存储卷上的可用空间大于该卷的读写水印，则该节点会自动过渡回读写状态。</block>
  <block id="3416acec4ebc97da4d13f51873ac6943" category="paragraph">例如，假设存储节点已过渡到只读模式。另外，假设每个卷都有一个读写水印 30 GB 。任何卷的可用空间增加到 30 GB 后，节点将再次变为读写状态。</block>
  <block id="c3e70b4329671dc37b40896951f4c011" category="paragraph">读写水印始终大于软只读水印和硬只读水印。</block>
  <block id="c485b7d832e94c3fe3ca1adf6be473fa" category="section-title">查看存储卷水印</block>
  <block id="7dffea7be3aae31fe1fcb40abdbe8a3c" category="paragraph">您可以查看当前水印设置和系统优化的值。如果未使用优化的水印，您可以确定是否可以或应该调整设置。</block>
  <block id="a19bd2a2e1eee6a9ce289f50af960a87" category="section-title">查看当前水印设置</block>
  <block id="c2c8d893bcba92c9c858215eba32bbc6" category="paragraph">您可以在网格管理器中查看当前存储水印设置。</block>
  <block id="73dbdf8d1bfad0d7235f59d9cee15326" category="list-text">在存储水印部分中，查看三个存储卷水印覆盖的设置。</block>
  <block id="1b7a5c8f537547e6b9822a332659e8de" category="list-text">如果水印覆盖为 * 0 * ，则所有三个水印都会根据存储节点的大小和卷的相对容量针对每个存储节点上的每个存储卷进行优化。</block>
  <block id="406fd3cef1e8496c701038bda0169695" category="paragraph">这是默认的建议设置。您不应更新这些值。根据需要，您可以选择 <block ref="f43e8acb8f91d0c2ad4b26af560a1ad2" category="inline-xref-macro-rx"></block>。</block>
  <block id="d99053296f668033395c9241d9b5a048" category="inline-xref-macro">对低只读水印覆盖警报进行故障排除</block>
  <block id="8d06221be30fe02313f1f8db830db5af" category="list-text">如果水印覆盖值不是 0 ，则会使用自定义（非优化）水印。不建议使用自定义水印设置。按照说明进行操作 <block ref="f29036f6468b450ef826c7bb930284c3" category="inline-xref-macro-rx"></block> 以确定是否可以或应该调整设置。</block>
  <block id="fb251722f8aa05728a121ada4895a890" category="summary">作为网格管理员，您可以管理控制 S3 和 Swift 租户如何将客户端应用程序连接到 StorageGRID 系统以存储和检索数据的配置选项。有多种不同的选项可满足不同的客户端和租户要求。</block>
  <block id="e684b6bc98cd692040abfd262b5e7007" category="doc">关于 S3 和 Swift 客户端连接</block>
  <block id="fdcc7e47c791a33861aae1abe48b99b9" category="paragraph">您可以选择在 StorageGRID 系统上配置以下功能：</block>
  <block id="ce8bce2972ab173fd5033871698e13c3" category="list-text">* VLAN 接口 * ：您可以在管理节点和网关节点上创建虚拟 LAN （ VLAN ）接口，以隔离和分区客户端和租户流量，从而提高安全性，灵活性和性能。创建 VLAN 接口后，您可以将其添加到高可用性（ HA ）组中。</block>
  <block id="986ed8641a7c1b9d5c2201cdb593df98" category="list-text">* 高可用性组 * ：您可以为网关节点或管理节点的接口创建一个 HA 组来创建主动备份配置，也可以使用轮循 DNS 或第三方负载平衡器以及多个 HA 组来实现主动 - 主动配置。客户端连接使用 HA 组的虚拟 IP 地址进行。</block>
  <block id="3a0d8f424c6907acc35ed5ccff6847a0" category="list-text">* 负载平衡器服务 * ：您可以通过为客户端连接创建负载平衡器端点来使客户端能够使用负载平衡器服务。创建负载平衡器端点时，您可以指定端口号，端点是否接受 HTTP 或 HTTPS 连接，将使用此端点的客户端类型（ S3 或 Swift ）以及用于 HTTPS 连接的证书（如果适用）。</block>
  <block id="ee89c219973b36a07bfc1852b61ae8e1" category="list-text">* 不可信客户端网络 * ：您可以通过将客户端网络配置为不可信来提高其安全性。如果客户端网络不可信，则客户端只能使用负载平衡器端点进行连接。</block>
  <block id="9e82ddf2939d0a617618c4d7e2611da3" category="paragraph">此外，您还可以为直接连接到存储节点或使用 CLB 服务（已弃用）连接到 StorageGRID 的客户端启用 HTTP ，并且可以为 S3 客户端配置 S3 API 端点域名。</block>
  <block id="5ad53969d954a6eee743ad6f74d8db5c" category="summary">通过 AutoSupport 功能， StorageGRID 系统可以向技术支持发送运行状况和状态消息。</block>
  <block id="75cc5d5d0ad414e3c3a9a859eab55ba6" category="doc">什么是 AutoSupport ？</block>
  <block id="cb2e44d85b2000d454a473f27bc39799" category="paragraph">使用 AutoSupport 可以显著加快问题的确定和解决速度。技术支持还可以监控系统的存储需求，并帮助您确定是否需要添加新节点或站点。您也可以将 AutoSupport 消息配置为发送到另一个目标。</block>
  <block id="868597aa9e2e4a6d8f3b81d5039f6c43" category="section-title">AutoSupport 消息中包含的信息</block>
  <block id="449468a59dfb205d009bd4c27a3069bb" category="section-title">什么是 Active IQ ？</block>
  <block id="b336c2cebe3bae9eb312de5ccd4963a6" category="section-title">用于发送 AutoSupport 消息的协议</block>
  <block id="9c9f3e9b369b7c5c4104c9d230dd34f8" category="paragraph">您可以选择以下三种协议之一来发送 AutoSupport 消息：</block>
  <block id="bd5657bae319d550ed57cc0b851a5996" category="paragraph">如果使用 HTTPS 或 HTTP 发送 AutoSupport 消息，则可以在管理节点和技术支持之间配置非透明代理服务器。</block>
  <block id="f831501794d1d1aa22ffb0754a3f2c8e" category="paragraph">如果使用 SMTP 作为 AutoSupport 消息的协议，则必须配置 SMTP 邮件服务器。</block>
  <block id="067310caf2580ba27645281e2ced63f2" category="section-title">AutoSupport 选项</block>
  <block id="e7514dac53e26e74fbc44f096cfad77e" category="paragraph">您可以使用以下选项的任意组合向技术支持发送 AutoSupport 消息：</block>
  <block id="d88001e2a6adcb019d7a0a4e70328503" category="list-text">* 每周 * ：每周自动发送一次 AutoSupport 消息。默认设置： enabled 。</block>
  <block id="ae74c5e33919337d335c84fb5a9f64c7" category="list-text">* 事件触发 * ：每小时或发生重大系统事件时自动发送 AutoSupport 消息。默认设置： enabled 。</block>
  <block id="c75daa1d84cb8881bee59ca64bca1c92" category="list-text">* 按需 * ：允许技术支持请求您的 StorageGRID 系统自动发送 AutoSupport 消息，这在他们正在使用问题描述 （需要 HTTPS AutoSupport 传输协议）时非常有用。默认设置： disabled 。</block>
  <block id="f528b63dc8c5de743b7125fafdec808d" category="list-text">* 用户触发 * ：随时手动发送 AutoSupport 消息。</block>
  <block id="9e1af7a2c3fb792f1a58c66d575260d5" category="summary">在使用密钥管理服务器 \ （ KMS\ ）保护设备节点上的 StorageGRID 数据安全之前，您必须完成两项配置任务：设置一个或多个 KMS 服务器以及为设备节点启用节点加密。完成这两项配置任务后，密钥管理过程将自动进行。</block>
  <block id="54183bf4c8cbbdb2f9bec63af9dddc25" category="doc">KMS 和设备配置概述</block>
  <block id="1313d81ac8c929685f5eefb0405daba1" category="paragraph">在使用密钥管理服务器（ KMS ）保护设备节点上的 StorageGRID 数据之前，必须完成两项配置任务：设置一个或多个 KMS 服务器以及为设备节点启用节点加密。完成这两项配置任务后，密钥管理过程将自动进行。</block>
  <block id="3d199ab4137b78a36da482c901703852" category="paragraph">此流程图显示了使用 KMS 在设备节点上保护 StorageGRID 数据的高级步骤。</block>
  <block id="88bc03fc8f925c343c65d66c98b6dcae" category="image-alt">Kms 配置概述</block>
  <block id="8a8e2bdac39dc897f2c2531bc9af34c4" category="paragraph">流程图显示了 KMS 设置和设备设置并行进行；但是，您可以根据需要在为新设备节点启用节点加密之前或之后设置密钥管理服务器。</block>
  <block id="4aecf26d764786089b8bc44f35423663" category="section-title">设置密钥管理服务器（ KMS ）</block>
  <block id="2cc65e2e67a3e9525ca6fc1eac088510" category="paragraph">设置密钥管理服务器包括以下高级步骤。</block>
  <block id="48c7c41b72e1d678923ce3571aa65b2d" category="cell">步骤</block>
  <block id="2e2dcb1ca32253e01855c9cac401ca66" category="paragraph">访问 KMS 软件，并向每个 KMS 或 KMS 集群添加一个 StorageGRID 客户端。</block>
  <block id="2c07cc4b0acf3c54405586fc1267854a" category="paragraph"><block ref="2c07cc4b0acf3c54405586fc1267854a" category="inline-xref-macro-rx"></block></block>
  <block id="c64ea71d2ae6ac8d6b64544b721256b0" category="paragraph">在 KMS 上获取 StorageGRID 客户端所需的信息。</block>
  <block id="4bc06961de4b8c6151dc30aa0670480d" category="paragraph">将 KMS 添加到网格管理器中，将其分配到一个站点或一组默认站点，上传所需的证书并保存 KMS 配置。</block>
  <block id="868475ef45f96af327bb0b03ca3b8072" category="section-title">设置设备</block>
  <block id="a3ecb4174826cabf2ce7abcf20bd3813" category="paragraph">设置要使用 KMS 的设备节点包括以下高级步骤。</block>
  <block id="373b8196119d272401b3e8cf28660229" category="list-text">在设备安装的硬件配置阶段，使用 StorageGRID 设备安装程序为设备启用 * 节点加密 * 设置。</block>
  <block id="600c7369912f7906252ac0796a7ad33c" category="admonition">在将设备添加到网格后，您无法启用 * 节点加密 * 设置，也无法对未启用节点加密的设备使用外部密钥管理。</block>
  <block id="7b32d4f0d5db0164d5f8aec944a4351f" category="list-text">运行 StorageGRID 设备安装程序。在安装期间，系统会为每个设备卷分配一个随机数据加密密钥（ DEK ），如下所示：</block>
  <block id="bd6b04af18ae8226b5e6e8b58a988a2a" category="list-text">这些 DEks 用于对每个卷上的数据进行加密。这些密钥是通过设备操作系统中的 Linux 统一密钥设置（ LUKS ）磁盘加密生成的，不能更改。</block>
  <block id="c09909e57b29944cf018e50a0b8cddb4" category="list-text">每个 DEK 都通过主密钥加密密钥（ KEK ）进行加密。初始 KEK 是一个临时密钥，用于对密钥进行加密，直到设备可以连接到 KMS 为止。</block>
  <block id="38173fd85f077684b5880168b797afae" category="list-text">将设备节点添加到 StorageGRID 。</block>
  <block id="41d8875427657a3f644977b6f90a90b6" category="paragraph">有关详细信息，请参阅以下内容：</block>
  <block id="ec091f0c514afc66cfdd050da4d5b3c6" category="section-title">密钥管理加密过程（自动发生）</block>
  <block id="7ef60374f6285188e4e043a45207d64d" category="paragraph">密钥管理加密包括以下高级步骤，这些步骤会自动执行。</block>
  <block id="4c00df41d53b7f66cb86bd713b78b7be" category="list-text">在网格中安装启用了节点加密的设备时， StorageGRID 会确定包含新节点的站点是否存在 KMS 配置。</block>
  <block id="36e06608307b622cbc843db3bbe80fa8" category="list-text">如果已为站点配置 KMS ，则设备将接收 KMS 配置。</block>
  <block id="2c26a1d28f223ff89a826448a9048863" category="list-text">如果尚未为站点配置 KMS ，则设备上的数据将继续由临时 KEK 加密，直到您为站点配置 KMS 且设备收到 KMS 配置为止。</block>
  <block id="7264b2eeb57f31714b85bdcca41b88df" category="list-text">设备使用 KMS 配置连接到 KMS 并请求加密密钥。</block>
  <block id="2a7b181cd60216a6b9c8a5114abface9" category="list-text">KMS 会向设备发送加密密钥。KMS 中的新密钥将取代临时的 KEK ，现在用于对设备卷的 DEK 进行加密和解密。</block>
  <block id="9c566217c5fc0932d5fc981999c2cee9" category="admonition">加密设备节点连接到配置的 KMS 之前存在的任何数据都将使用临时密钥进行加密。但是，在将临时密钥替换为 KMS 加密密钥之前，不应将设备卷视为不受从数据中心删除的保护。</block>
  <block id="0f2b955d4272c6ccaf489758fa00a0ba" category="list-text">如果设备已启动或重新启动，它将重新连接到 KMS 以请求密钥。保存在易失性内存中的密钥在断电或重新启动后无法生存。</block>
  <block id="3465d65bf5330ccc94973ff548381da5" category="summary">如果您使用的是平台服务或云存储池，则可以在存储节点和外部 S3 端点之间配置非透明代理。例如，您可能需要一个非透明代理来允许将平台服务消息发送到外部端点，例如 Internet 上的端点。</block>
  <block id="fac64f3a1f2608a8ed47f24236c20697" category="paragraph">您可以为单个存储代理配置设置。</block>
  <block id="474675d1e2fcd373fa7500a806060b1c" category="list-text">选择 * 配置 * &gt; * 安全性 * &gt; * 代理设置 * 。</block>
  <block id="338f3b38022e974e7489f7370f772099" category="paragraph">此时将显示存储代理设置页面。默认情况下，在边栏菜单中选择了 * 存储 * 。</block>
  <block id="7acc343925acca320034bcd42f97fce9" category="image-alt">代理设置菜单—存储</block>
  <block id="93e537df2545dca8e14e84429990a2f6" category="list-text">选中 * 启用存储代理 * 复选框。</block>
  <block id="879c32908fb6726c18bd49e8f5e1a9d1" category="paragraph">此时将显示用于配置存储代理的字段。</block>
  <block id="b409dadb4610dd060157df8a493d445f" category="image-alt">存储代理设置对话框的屏幕截图</block>
  <block id="a47f0077d23d8bc661d1591cb7faa906" category="list-text">为非透明存储代理选择协议。</block>
  <block id="d7188ecca82362587f5200e9ac70cc0b" category="list-text">输入代理服务器的主机名或 IP 地址。</block>
  <block id="0d24a6162f6e29a5d825a44422238bf7" category="list-text">（可选）输入用于连接到代理服务器的端口。</block>
  <block id="68eee3cbd9a94bee58525351040171aa" category="paragraph">如果对协议使用默认端口，则可以将此字段留空： 80 表示 HTTP ， 1080 表示 SOCKS5 。</block>
  <block id="a0334df2bcb07fbd13c3342fe3d3a9b8" category="paragraph">保存存储代理后，可以配置和测试平台服务或云存储池的新端点。</block>
  <block id="89c2fa79cafe38e64ae5231e699b9edb" category="admonition">代理更改可能需要长达 10 分钟才能生效。</block>
  <block id="d9219d99cae9e974007375ede9173c30" category="list-text">检查代理服务器的设置，以确保不会阻止来自 StorageGRID 的平台服务相关消息。</block>
  <block id="97a29f47a68e32533cdb6c25c089a294" category="paragraph">如果需要禁用存储代理，请取消选中 * 启用存储代理 * 复选框，然后选择 * 保存 * 。</block>
  <block id="10003df00314d84dc21877bbc05251d0" category="list-text"><block ref="10003df00314d84dc21877bbc05251d0" category="inline-xref-macro-rx"></block></block>
  <block id="0e9b923a8b44139664366c041cd0c8da" category="summary">您可以配置归档节点的检索设置，将状态设置为联机或脱机，或者重置为关联警报跟踪的故障计数。</block>
  <block id="1e7ff5f6f6d353af0582214d6c8d7bd4" category="doc">配置归档节点检索设置</block>
  <block id="f43944da2cee7129bc7c51f111cfd7c6" category="list-text">选择 * 归档节点 * &gt; * ARC/ * 检索 * 。</block>
  <block id="703c1b72ef7dff07dee1e93c024918a3" category="image-alt">归档节点的配置页面 &gt; 检索设置</block>
  <block id="fc8f4678c76934d73c14f2582830e69e" category="list-text">* 检索状态 * ：将组件状态设置为：</block>
  <block id="3081531e8094955f46d06ce61e0bec8b" category="list-text">联机：网格节点可用于从归档介质设备检索对象数据。</block>
  <block id="5bd99a390c22d4060dbf8d89f77b7b93" category="list-text">脱机：网格节点不可用于检索对象数据。</block>
  <block id="988d77117dd0e1f4ee71bf65a1ce9dd3" category="list-text">重置请求失败计数：选中此复选框可重置请求失败的计数器。此选项可用于清除 ARRF （请求失败）警报。</block>
  <block id="2a0d1703994f4b4210e62ebfe2e2740d" category="list-text">重置验证失败计数：选中此复选框可重置已检索对象数据的验证失败计数器。此操作可用于清除 ARRV （验证失败）警报。</block>
  <block id="5aec912f40a0965fea22bb6947678532" category="summary">所有平台服务操作均按站点执行。</block>
  <block id="a957332672987f51a9ce1578a8808a3d" category="doc">按站点交付平台服务消息</block>
  <block id="dbd5a91f6e7b625e9be79e737ceb9b6d" category="paragraph">也就是说，如果租户使用客户端通过连接到数据中心站点 1 的网关节点对对象执行 S3 API 创建操作，则会从数据中心站点 1 触发并发送有关该操作的通知。</block>
  <block id="f0d4e2e7d83d18200be53022b0981865" category="image-alt">显示对站点 1 上的对象执行操作时会从站点 1 触发通知的图表</block>
  <block id="332d9b42d81dda65e3e58d5a729a756d" category="paragraph">如果客户端随后从数据中心站点 2 对同一对象执行 S3 API 删除操作，则会从数据中心站点 2 触发并发送有关删除操作的通知。</block>
  <block id="3bc93e94d0745e466712737560679d68" category="image-alt">显示站点 2 中对象的操作的图会触发站点 2 中的通知</block>
  <block id="6438a184cfa6f046aa1b4f61e69ce316" category="paragraph">请确保在每个站点上配置网络，以便平台服务消息可以传送到其目标。</block>
  <block id="f832b894b4679f9c79cd41d5893fd918" category="summary">您可以通过更改 Cloud Tiering 服务的状态来控制归档节点对通过 S3 API 连接的目标外部归档存储系统的读写能力。</block>
  <block id="505c81992f729ef9c4661a10499f230a" category="doc">修改 Cloud Tiering Service 状态</block>
  <block id="10b3d16f15bd9867631ffea3e274d054" category="paragraph">您可以通过更改 Cloud Tiering 服务的状态来控制归档节点对通过 S3 API 连接的目标外部归档存储系统的读写能力。</block>
  <block id="dfa7778cf6a78f3abed60bfe33f9a929" category="list-text">必须配置归档节点。</block>
  <block id="f6306dd6bd6aaf28d0029c3ff6521a8a" category="paragraph">通过将 Cloud Tiering 服务状态更改为 * 已禁用读写 * ，可以有效地使归档节点脱机。</block>
  <block id="2020dac237b9209c02fd9960c9b02ea8" category="list-text">选择 * 。归档节点 _* &gt; * 。 ARR* 。</block>
  <block id="a743eee7c6bd324ae8a8671c9e85c34f" category="image-alt">云分层服务状态</block>
  <block id="1ff2d5b37717618466ed867abfdb23c3" category="list-text">选择 * 云分层服务状态 * 。</block>
  <block id="8025a262b9a9f593fadc76841acad4b1" category="summary">您可以使用 " 压缩存储的对象 " 网格选项减小 StorageGRID 中存储的对象的大小，从而减少对象占用的存储。</block>
  <block id="bb9eac37863aa1b642ab581ee88bb9dc" category="doc">配置存储的对象压缩</block>
  <block id="1fa63a6289dd9b72405225e3177a4e16" category="paragraph">默认情况下， " 压缩存储的对象 " 网格选项处于禁用状态。如果启用此选项，则 StorageGRID 会在保存每个对象时尝试使用无损压缩对其进行压缩。</block>
  <block id="7377a5de828d9cbf47e654c00ebf93fa" category="paragraph">启用此选项之前，请注意以下事项：</block>
  <block id="e0ccb2b75ea2fe96ab4338694a1ae342" category="list-text">除非您知道要存储的数据是可压缩的，否则不应启用数据压缩。</block>
  <block id="a4787dbc63a91ca140f3a7f28ded847d" category="list-text">将对象保存到 StorageGRID 的应用程序可能会在保存对象之前对其进行压缩。如果客户端应用程序在将对象保存到 StorageGRID 之前已对其进行了压缩，则启用压缩存储的对象不会进一步减小对象的大小。</block>
  <block id="5befb83a73afe5005be072c64a4ab0c8" category="list-text">如果将 NetApp FabricPool 与 StorageGRID 结合使用，请勿启用数据压缩。</block>
  <block id="3e1ac987994b73f9f8c8240d712e1302" category="list-text">如果启用了 " 压缩存储的对象 " 网格选项，则 S3 和 Swift 客户端应用程序应避免执行指定要返回的字节数范围的 GET 对象操作。这些 "`range read` " 操作效率低下，因为 StorageGRID 必须有效解压缩对象以访问请求的字节。从非常大的对象请求少量字节的获取对象操作效率尤其低下；例如，从 50 GB 压缩对象读取 10 MB 范围的操作效率低下。</block>
  <block id="c11410a9b33bf313e0deab7cf51f2883" category="list-text">在存储的对象选项部分中，选中 * 压缩存储的对象 * 复选框。</block>
  <block id="f162c7222962781fe801f8a43f48855f" category="image-alt">压缩存储的对象</block>
  <block id="6538cbe6d73df50eff798d067bf81f13" category="summary">您应为 ARQL 和 ARLRL 属性建立自定义警报，用于监控归档节点从归档存储系统检索对象数据的速度和效率。</block>
  <block id="26875442f33778aaa7246ffc93bcc9f6" category="doc">为归档节点设置自定义警报</block>
  <block id="0c1027a1f2733715716978e59859ca2b" category="list-text">ARQL ：平均队列长度。从归档存储系统中检索对象数据的平均排队时间（以微秒为单位）。</block>
  <block id="b1336dd62175dba5cc2ea855c596eb6e" category="list-text">ARRL ：平均请求延迟。归档节点从归档存储系统检索对象数据所需的平均时间（以微秒为单位）。</block>
  <block id="4a33e7e6e9c10c825c5fb08a66724e77" category="paragraph">这些属性的可接受值取决于归档存储系统的配置和使用方式。（转至 * ARC/ * * 检索 * &gt; * 概述 * &gt; * 主要 * 。） 为请求超时设置的值以及可用于检索请求的会话数尤其具有影响。</block>
  <block id="e2abc3b726f66eba2feae16942c3844d" category="paragraph">集成完成后，监控归档节点的对象数据检索，以确定正常检索时间和队列长度的值。然后，为 ARQL 和 ARLRL 创建自定义警报，以便在出现异常运行状况时触发警报。请参见 <block ref="52835fa2e95dc83a0d2224948b0d7781" category="inline-xref-macro-rx"></block>。</block>
  <block id="81c6f301a73ce2f05ccb99911bb6a46a" category="summary">如果您使用的是客户端网络，则可以通过仅在显式配置的端点上接受入站客户端流量来帮助保护 StorageGRID 免受恶意攻击。</block>
  <block id="9a0b0de9dd2f3e9b47ba30fe3caa1bf7" category="doc">Manage Untrusted Client Networks ：概述</block>
  <block id="b82edff3bad937fe71d88e34b26c45cb" category="paragraph">默认情况下，每个网格节点上的客户端网络均为 _trusted_ 。也就是说，默认情况下， StorageGRID 会信任所有可用外部端口上与每个网格节点的入站连接（请参见中有关外部通信的信息 <block ref="e1bf2b8082914814aefb3dd546569f4d" category="inline-xref-macro-rx"></block>）。</block>
  <block id="40e5308863c677a9d38c2f3429c99be3" category="paragraph">您可以通过指定每个节点上的客户端网络为 _untrused__ 来减少对 StorageGRID 系统的恶意攻击威胁。如果节点的客户端网络不可信，则节点仅接受显式配置为负载平衡器端点的端口上的入站连接。请参见 <block ref="a9afb6c4aba5bb26c45f4aeccf93e957" category="inline-xref-macro-rx"></block>。</block>
  <block id="8ad49386f2e721fced0e66c6f1aabb45" category="section-title">示例 1 ：网关节点仅接受 HTTPS S3 请求</block>
  <block id="636a9676da356a837be824783305764f" category="paragraph">假设您希望网关节点拒绝客户端网络上除 HTTPS S3 请求以外的所有入站流量。您应执行以下常规步骤：</block>
  <block id="8fb4249498a38659dd498dffcfef8dae" category="list-text">在负载平衡器端点页面中，通过 HTTPS 在端口 443 上为 S3 配置负载平衡器端点。</block>
  <block id="dec7c7fcd1aff0c5e95e0552f9a268f9" category="list-text">在不可信客户端网络页面中，指定网关节点上的客户端网络不可信。</block>
  <block id="58a14c566d0dd28b0e7ad22c3369f788" category="paragraph">保存配置后，网关节点客户端网络上的所有入站流量都会被丢弃，但端口 443 上的 HTTPS S3 请求和 ICMP 回显（ ping ）请求除外。</block>
  <block id="61cfa163be70eada0f65a8195417d6c8" category="section-title">示例 2 ：存储节点发送 S3 平台服务请求</block>
  <block id="2c8a9a4d0569f5050c10a2da447aee5f" category="paragraph">假设您要从存储节点启用出站 S3 平台服务流量，但要阻止与客户端网络上的该存储节点建立任何入站连接。您应执行此常规步骤：</block>
  <block id="f3d9dcfea745194e0fa91dccc23d0eb9" category="list-text">在不可信客户端网络页面中，指示存储节点上的客户端网络不可信。</block>
  <block id="8472e2d42f4ec21aadb21bb4a0cd3ff6" category="paragraph">保存配置后，存储节点将不再接受客户端网络上的任何传入流量，但它仍允许向 Amazon Web Services 发出出站请求。</block>
  <block id="4405a6a8740699238781ce89f6f9d310" category="summary">您可以使用 StorageGRID 负载平衡功能处理从 S3 和 Swift 客户端载入和检索工作负载。负载平衡通过在多个存储节点之间分布工作负载和连接来最大限度地提高速度和连接容量。</block>
  <block id="dc193921c4f930cb01a24a1f9b4b2810" category="doc">Manage load balancing ：概述</block>
  <block id="654202a5791a09f4f0612d628e9870f8" category="paragraph">您可以通过以下方式对客户端工作负载进行负载平衡：</block>
  <block id="d3d0158507db8791df6fe82b14e6db84" category="list-text">使用负载平衡器服务，该服务安装在管理节点和网关节点上。负载平衡器服务提供第 7 层负载平衡，并对客户端请求执行 TLS 终止，检查请求并建立与存储节点的新安全连接。这是建议的负载平衡机制。</block>
  <block id="5efab6297b92c91ced360390432aec0a" category="inline-xref-macro">负载平衡的工作原理—负载平衡器服务</block>
  <block id="d39b1c56706fa94aef6114b71bdc874f" category="paragraph">请参见 <block ref="bd8b2e69bf60ff5206b4692e372d6d59" category="inline-xref-macro-rx"></block>。</block>
  <block id="bf41fe3d047e67132106aeb911958ccd" category="list-text">使用已弃用的连接负载平衡器（ CLB ）服务，该服务仅安装在网关节点上。CLB 服务提供第 4 层负载平衡并支持链路成本。</block>
  <block id="162f80bac774134a4012ff0f7d77cb59" category="paragraph">请参见 <block ref="94823e4bfa43abc28c1438b4a8550aba" category="inline-xref-macro-rx"></block>。</block>
  <block id="1935cbea7a57c085533ec3e6427479cd" category="list-text">集成第三方负载平衡器。有关详细信息，请联系您的 NetApp 客户代表。</block>
  <block id="00f007b3181cba0094e1a789253d83f5" category="summary">您可以允许某些 S3 租户对单个对象使用 S3 Select 到问题描述 SelectObjectContent 请求。</block>
  <block id="5dfb94465b4db0d6993ebac766af8978" category="paragraph">S3 Select 可以高效地搜索大量数据，而无需部署数据库和相关资源即可启用搜索。它还可以降低检索数据的成本和延迟。</block>
  <block id="2ac24819a38a7459df6d1935e5f1d59d" category="section-title">什么是 S3 Select ？</block>
  <block id="8e794fd668c2ff31d398176e7b05bff2" category="paragraph">S3 Select 允许 S3 客户端使用 SelectObjectContent 请求仅筛选和检索对象所需的数据。S3 Select 的 StorageGRID 实施包括部分 S3 Select 命令和功能。</block>
  <block id="4444aa570d4ffc725d23a6b3bb97a65d" category="section-title">使用 S3 Select 的注意事项和要求</block>
  <block id="6cbac5666ccce86f39dd2796f2d591a5" category="paragraph">对于 S3 Select 查询， StorageGRID 需要满足以下要求：</block>
  <block id="b3d143035e48b9fec850866e5a3acf26" category="inline-xref-macro">创建租户</block>
  <block id="a6823d58f943c412dfd6825a2332e1b1" category="inline-xref-macro">编辑租户</block>
  <block id="6764394195adf08e2f27c6a0e81a9508" category="list-text">网格管理员必须授予租户 S3 Select 功能。选择 * 允许 S3 选择 * 时间 <block ref="49ada15e4d75766f851cf3f497ea2fcf" category="inline-xref-macro-rx"></block> 或 <block ref="8cae1f01e883fb6e1c08fb7c44936223" category="inline-xref-macro-rx"></block>。</block>
  <block id="3a43707ad6464f3e0817b702e3658d4e" category="inline-xref-macro">StorageGRID 负载平衡器端点</block>
  <block id="c09ff2f0d02fa9f8f1a255b44f4918db" category="list-text">SelectObjectContent 请求必须发送到 <block ref="d4b55fd24172d04cbe49a23a464d3a84" category="inline-xref-macro-rx"></block>。端点使用的管理节点和网关节点必须是 SG100 或 SG1000 设备节点或基于 VMware 的软件节点。</block>
  <block id="f728ea34fcbb13e7fd98fc40d7498dfc" category="paragraph">请注意以下限制：</block>
  <block id="d0bed218a01412e1e256de5c793dff3b" category="list-text">不支持裸机负载平衡器节点。</block>
  <block id="c25de2f71df4a05971657d8367c49e7f" category="list-text">查询不能直接发送到存储节点。</block>
  <block id="20bc795198f95492d2921d63cf4e1f05" category="list-text">不支持通过已弃用的 CLB 服务发送的查询。</block>
  <block id="ac06db2a94cde2a0a4ff88a7b1d14590" category="admonition">SelectObjectContent 请求会降低所有 S3 客户端和所有租户的负载平衡器性能。仅在需要时才启用此功能，并且仅适用于受信任租户。</block>
  <block id="7898f3bb30f88199f89a1d4ee93a999f" category="inline-xref-macro">有关使用 S3 Select 的说明</block>
  <block id="dd6b0828e92b96ceb556d99ec76d369e" category="paragraph">请参见 <block ref="1cb071b85493160c3e3636c6e3eaad43" category="inline-xref-macro-rx"></block>。</block>
  <block id="a4c19049a9034d86be31a5fed24e4298" category="inline-xref-macro">Grafana 图表</block>
  <block id="ebd739bcc9f3bfd46f7c8c0df90e947d" category="paragraph">以查看 <block ref="007e6d58a787613cf788270781a0b579" category="inline-xref-macro-rx"></block> 对于随时间变化的 S3 Select 操作，请在网格管理器中选择 * 支持 * &gt; * 工具 * &gt; * 指标 * 。</block>
  <block id="3c152f78c5f1f79dd26d0888d842c0c7" category="summary">每个存储节点都使用许多配置设置和计数器。要清除警报，您可能需要查看当前设置或重置计数器 \ （原有系统 \ ）。</block>
  <block id="005fd04281a6a0e9f4b9eabded282203" category="doc">存储节点配置设置</block>
  <block id="359c7842177d8798b621c9c450bbb2c1" category="paragraph">每个存储节点都使用许多配置设置和计数器。您可能需要查看当前设置或重置计数器才能清除警报（旧系统）。</block>
  <block id="6d737f058728572ec39a1e31ad5d5f40" category="admonition">除非文档中有明确说明，否则在修改任何存储节点配置设置之前，应咨询技术支持。您可以根据需要重置事件计数器以清除原有警报。</block>
  <block id="db505fd0e0aebbf70d01439c9e594721" category="paragraph">要访问存储节点的配置设置和计数器，请执行以下操作：</block>
  <block id="28e7353576c45b4c7d72593c4856c45f" category="list-text">选择 * 站点 _* &gt; * 存储节点 _* 。</block>
  <block id="da3482044b9762e16c3b4951173a7ee8" category="list-text">展开存储节点并选择服务或组件。</block>
  <block id="c6cad86be022fe9fe4b26b5c468e7d39" category="list-text">选择 * 配置 * 选项卡。</block>
  <block id="b4859d02648a6018cf0f1b8dc02da82f" category="paragraph">下表汇总了存储节点配置设置。</block>
  <block id="fcc977666cdd9ec71cbddb77645f4256" category="cell">属性名称</block>
  <block id="1d603248eedd716a6d4ab2f6ef877e06" category="paragraph">S3 ， Swift 和其他内部 StorageGRID 流量的 HTTP 协议的当前状态：</block>
  <block id="9b80a1c97d5d71edda96b8d871fbbbec" category="list-text">脱机：不允许执行任何操作，任何尝试打开与 LDR 服务的 HTTP 会话的客户端应用程序都会收到错误消息。活动会话正常关闭。</block>
  <block id="72efa5cc97db201526f702176e79cbe2" category="list-text">联机：操作继续正常</block>
  <block id="f5c1ddfcf6cdcab524d63c1abd11356f" category="list-text">如果选择此选项，则重新启动时系统的状态取决于 * LDR* &gt; * 存储 * 组件的状态。如果重新启动时 * LDR* &gt; * 存储 * 组件为只读，则 HTTP 接口也为只读。如果 * LDR* &gt; * 存储 * 组件为联机，则 HTTP 也为联机。否则， HTTP 接口将保持脱机状态。</block>
  <block id="dc37b2d856303acaaa2c30e3238acbed" category="list-text">如果未选中，则 HTTP 接口将保持脱机状态，直到显式启用为止。</block>
  <block id="d669ed31adf2796f255d1990bd5f849b" category="section-title">LDR &gt; 数据存储</block>
  <block id="59e7636a0feed688553125f6a1728c26" category="paragraph">重置丢失的对象计数</block>
  <block id="54675198bbf1a23b50d956699be86527" category="paragraph">RCOR</block>
  <block id="1ebeed6e5b99d5a6f1b5130db6360543" category="paragraph">重置此服务中丢失的对象数量的计数器。</block>
  <block id="b6fc22a5e60cae911246ee7271db3e1c" category="section-title">LDR &gt; 存储</block>
  <block id="315eaf6c674f1862f5080a0977f5e906" category="paragraph">存储状态—所需</block>
  <block id="0b63693b37930a6b230277088ac16a9c" category="paragraph">SSD</block>
  <block id="4793d7ffea10507b39863dcf270d6612" category="paragraph">用户可配置的存储组件所需状态设置。LDR 服务将读取此值并尝试与此属性指示的状态匹配。此值在重新启动后保持不变。</block>
  <block id="411e40f66c5c55a3709b0fb0a50a1da3" category="paragraph">例如，您可以使用此设置强制存储成为只读存储，即使有足够的可用存储空间也是如此。这对于故障排除非常有用。</block>
  <block id="0a133b74b2c2b4befa9d49acff1f83ea" category="paragraph">属性可以采用以下值之一：</block>
  <block id="04b99fe22efd18932773d0f5f7d9ad1b" category="list-text">脱机：当所需状态为脱机时， LDR 服务会使 * LDR* &gt; * 存储 * 组件脱机。</block>
  <block id="e3fb48f86c7ad6b9f56a1963296cb3f4" category="list-text">只读：当所需状态为只读时， LDR 服务会将存储状态移至只读状态并停止接受新内容。请注意，内容可能会继续短时间保存到存储节点中，直到打开的会话关闭为止。</block>
  <block id="f4ecfb195fe63e6bd2b46e4fa7e41ca1" category="list-text">联机：在正常系统操作期间，将此值保留为联机。存储状态—存储组件的当前状态将由服务根据 LDR 服务的状况（例如可用对象存储空间量）动态设置。如果空间不足，则组件将变为只读。</block>
  <block id="0d26dc76acdf1372b661c0a6cb9d3549" category="paragraph">运行状况检查超时</block>
  <block id="9aef10163e016f24cb345731387d0fe2" category="paragraph">SHCT</block>
  <block id="cfcbc4a5c1c0b0031172e2aa3ecd9164" category="paragraph">运行状况检查测试必须完成才能将存储卷视为运行状况良好的时间限制（以秒为单位）。只有在支持部门要求更改此值时，才更改此值。</block>
  <block id="1ed0d80929e90d5a932546313aa8c7d8" category="section-title">LDR &gt; 验证</block>
  <block id="2ca4e39cac27dbe1b1b33cd45e5b5fcf" category="paragraph">重置缺少的对象计数</block>
  <block id="8af6fd581dcf8925aa38b28a2330a494" category="paragraph">VNMI</block>
  <block id="b9213fedb54541e0f0bec751f356bdf5" category="paragraph">重置检测到的缺失对象数（ Oomis ）。请仅在对象存在检查完成后使用。StorageGRID 系统会自动还原缺少的复制对象数据。</block>
  <block id="281772bc2fcf6c327c01617c7ca92edb" category="paragraph">验证率</block>
  <block id="041f318d0c557bf6f7cdf84c06bb74a0" category="paragraph">设置进行后台验证的速率。请参见有关配置后台验证速率的信息。</block>
  <block id="11731378307fe8039ca926deb364b848" category="paragraph">重置损坏对象计数</block>
  <block id="0310bb4ff1ffdfe8b4d6c8f3236e8e65" category="paragraph">VCCR</block>
  <block id="c3c50dd2c36c2125f559ada29164d05a" category="paragraph">重置在后台验证期间发现的已复制对象数据损坏的计数器。此选项可用于清除检测到损坏的对象（ OCOR ）警报条件。有关详细信息，请参见 StorageGRID 监控和故障排除说明。</block>
  <block id="df4159bfb019e3c176972ab6252e3485" category="paragraph">删除隔离的对象</block>
  <block id="618633e8650e7c4056fcce085a20166a" category="paragraph">从隔离目录中删除损坏的对象，将隔离对象的计数重置为零，然后清除检测到的隔离对象（ OQRT ）警报。在 StorageGRID 系统自动还原损坏的对象后，将使用此选项。</block>
  <block id="7b11d97959706d9b68d67c9ae28f0c51" category="paragraph">如果触发对象丢失警报，技术支持可能希望访问隔离的对象。在某些情况下，隔离的对象对于数据恢复或调试导致对象副本损坏的底层问题可能很有用。</block>
  <block id="6f8192f24b175cbb687dd009432b0129" category="section-title">LDR &gt; 擦除编码</block>
  <block id="e26a0700cb27b6269011e939ddb23e45" category="paragraph">重置写入失败计数</block>
  <block id="85a6c41eb62f202480286004aec32f8c" category="paragraph">RSWF</block>
  <block id="1ee654e2862af0ab2d49848f1bef35b4" category="paragraph">将擦除编码对象数据写入失败时的计数器重置到存储节点。</block>
  <block id="8516e8cdf4398d466809054634db48f8" category="paragraph">重置读取失败计数</block>
  <block id="44357faf3d79c0e645b47aa169cf2f0e" category="paragraph">RSRF</block>
  <block id="b92de12f8dacf12e01da0fde033c8fd3" category="paragraph">重置从存储节点读取经过纠删编码的对象数据失败的计数器。</block>
  <block id="d7b3cb21253023e5792a64eed71bed97" category="paragraph">重置删除失败计数</block>
  <block id="55c0f059261dc3743bd39bea6d8f865f" category="paragraph">RSDF</block>
  <block id="b43f152d24093a10181ced4b01623ec3" category="paragraph">重置从存储节点删除经过纠删编码的对象数据失败的计数器。</block>
  <block id="c20839e7990c97bac36616db7097d76e" category="paragraph">重置检测到的损坏副本计数</block>
  <block id="abed1cfc7f6bf0dd3fa874bc87ae548f" category="paragraph">RSCC</block>
  <block id="f64fca079000418be2c158a70eb7abbd" category="paragraph">重置存储节点上经过纠删编码的对象数据的损坏副本数计数器。</block>
  <block id="b65a4cf16adcaff281f5111de4fd338c" category="paragraph">重置检测到的损坏片段计数</block>
  <block id="310b17f9a77d791d208817422d705440" category="paragraph">RSCD</block>
  <block id="41b7ec073abcb936c635a03c70ceb76c" category="paragraph">重置存储节点上擦除编码对象数据损坏片段的计数器。</block>
  <block id="28a06bf1e64857235efa5ea9a96c348b" category="paragraph">重置检测到的缺失片段计数</block>
  <block id="9bd716cf967c1ed4b9b450a51c5cd721" category="paragraph">R贴 片式</block>
  <block id="ae6f7a7b2ce1d4c44a55a46bda0e3e54" category="paragraph">重置存储节点上缺少纠删编码对象数据片段的计数器。请仅在对象存在检查完成后使用。</block>
  <block id="195622b99208433a12326d0cd9fab901" category="section-title">LDR &gt; 复制</block>
  <block id="2bed8d9eba7673611dd15abe833b6327" category="paragraph">重置入站复制失败计数</block>
  <block id="f95907511a0b75bf24c491961cf705fc" category="paragraph">RICR</block>
  <block id="55342e035d1a2e0bcc6cfcc07d0ba3f4" category="paragraph">重置入站复制失败的计数器。此操作可用于清除 RIRF （入站复制 - 失败）警报。</block>
  <block id="86651a6b10ef81810de5b8ad7042e93b" category="paragraph">重置出站复制失败计数</block>
  <block id="5967699010018bb56d0537c07fb2de4c" category="paragraph">ROCR</block>
  <block id="f569a9d85ab9049c54c894aa5e9304a3" category="paragraph">重置出站复制失败的计数器。此操作可用于清除 RORF （出站复制 - 失败）警报。</block>
  <block id="da4d1c974753fee2a798f3684469f393" category="paragraph">禁用入站复制</block>
  <block id="3ae4ceabd9f33c8b762f32c3a6c222a4" category="paragraph">DSIR</block>
  <block id="13d2ba655fcf73ce94926b710a71d855" category="paragraph">选择此项可在维护或测试操作步骤 过程中禁用入站复制。在正常操作期间保持未选中状态。</block>
  <block id="43eb2b39d191ad5222945d1ef5a3650d" category="paragraph">禁用入站复制后，可以从存储节点检索对象以复制到 StorageGRID 系统中的其他位置，但不能从其他位置将对象复制到此存储节点： LDR 服务为只读服务。</block>
  <block id="116aca94166b67a36a56f66ea2f78479" category="paragraph">禁用出站复制</block>
  <block id="efdac6096aad331c4e50e1e347b8c092" category="paragraph">DSOR</block>
  <block id="9371bedc745ba04053d46098ad0d1fa5" category="paragraph">选择此选项可在维护或测试操作步骤 过程中禁用出站复制（包括 HTTP 检索的内容请求）。在正常操作期间保持未选中状态。</block>
  <block id="b32f58fa5dfbee04b4bb687786beaaf9" category="paragraph">禁用出站复制后，可以将对象复制到此存储节点，但无法从存储节点检索对象以复制到 StorageGRID 系统中的其他位置。LDR 服务为只写服务。</block>
  <block id="3efbb350edc2e2adf7d5df0545b0f59f" category="summary">您可以通过查看 " 流量分类策略 " 页面上的图形来监控网络流量。</block>
  <block id="732d950260e913a8425ede74aa892014" category="doc">查看网络流量指标</block>
  <block id="b8852155e0b3313109d841623565f433" category="list-text">您具有 root 访问权限或租户帐户权限。</block>
  <block id="4cb0f019b5baf217b9022b396c09422d" category="paragraph">对于任何现有流量分类策略，您可以查看负载平衡器服务的指标，以确定该策略是否成功限制网络中的流量。图形中的数据可以帮助您确定是否需要调整策略。</block>
  <block id="45f8e6c15f0c8b96f3aa69be533a26e5" category="paragraph">即使没有为流量分类策略设置限制，也会收集指标，并且图形可提供有用的信息来了解流量趋势。</block>
  <block id="b88d48fad1f95610779e7e5e40f2096c" category="admonition">如果您具有租户帐户权限，但没有 root 访问权限，则 * 创建 * ， * 编辑 * 和 * 删除 * 按钮将被禁用。</block>
  <block id="73343c812669887ed92a4fe23b5be7c0" category="list-text">选择要查看指标的策略左侧的单选按钮。</block>
  <block id="ed3879185d941519f9c83679be79a8fe" category="list-text">选择 * 指标 * 。</block>
  <block id="44ccd2399fb219eed7275487e80acf36" category="paragraph">此时将打开一个新浏览器窗口，并显示流量分类策略图形。这些图形仅显示与选定策略匹配的流量的指标。</block>
  <block id="5983ad23f2b877c751841eff12a26f46" category="paragraph">您可以使用 * 策略 * 下拉列表选择其他要查看的策略。</block>
  <block id="9c716330db4b8a811eae6d07c9f217bd" category="image-alt">网络流量图</block>
  <block id="b0a04b9291c5de0e286d1efcd54eacdc" category="paragraph">网页上包含以下图形。</block>
  <block id="8b4e5bfa9da8154a95946c4457760ec4" category="list-text">负载平衡器请求流量：此图提供负载平衡器端点与发出请求的客户端之间传输的数据吞吐量的 3 分钟移动平均值，以每秒位数为单位。</block>
  <block id="40914439ceb13d4c27c617dfb3db3f47" category="list-text">负载平衡器请求完成率：此图按请求类型（ GET ， PUT ， HEAD 和 DELETE ）细分，提供每秒已完成请求数的 3 分钟移动平均值。验证新请求的标头后，此值将更新。</block>
  <block id="3babb1ce12302398701deac38072c81c" category="list-text">错误响应率：此图提供了每秒返回给客户端的错误响应数的 3 分钟移动平均值，并按错误响应代码进行细分。</block>
  <block id="9be5b43128c2e3979b3c2b884916cd53" category="list-text">平均请求持续时间（非错误）：此图提供了按请求类型（ GET ， PUT ， HEAD 和 DELETE ）细分的 3 分钟移动平均请求持续时间。每个请求持续时间从负载平衡器服务解析请求标头时开始，到将完整的响应正文返回给客户端时结束。</block>
  <block id="c8d0d1bd1162337d4452db0c443357de" category="list-text">按对象大小划分的写入请求速率：此热图根据对象大小提供 3 分钟的写入请求完成速率移动平均值。在这种情况下，写入请求仅指 PUT 请求。</block>
  <block id="90f8ecdf576fb53669f41909cfcbbce5" category="list-text">按对象大小划分的读取请求速率：此热图提供了根据对象大小完成读取请求的 3 分钟移动平均值。在这种情况下，读取请求仅指获取请求。热图中的颜色表示各个图形中对象大小的相对频率。较冷的颜色（例如紫色和蓝色）表示相对速率较低，较热的颜色（例如橙色和红色）表示相对速率较高。</block>
  <block id="12aac8683c2ec5e5d42be05added098b" category="list-text">将光标悬停在折线图上可查看该图特定部分的值弹出窗口。</block>
  <block id="1a3b0327af55cee52c73d5f692d0c53f" category="image-alt">流量折线图弹出值</block>
  <block id="937c4a0c073163a5cfcbaadfc4cb410f" category="list-text">将光标悬停在热图上可看到一个弹出窗口，其中显示样本的日期和时间，聚合到计数中的对象大小以及该时间段内的每秒请求数。</block>
  <block id="fff9b0be8e1144ca484449163464f093" category="image-alt">流量条形图弹出值</block>
  <block id="92f36c266a0d1df745477b3401bac839" category="list-text">使用左上角的 * 策略 * 下拉列表选择其他策略。</block>
  <block id="cf04457f6f59c8461f87d9907ad54c6a" category="paragraph">此时将显示选定策略的图形。</block>
  <block id="eb64a52d820f8bb2f45a5c9b8685954e" category="list-text">或者，也可以从 * 支持 * 菜单访问这些图形。</block>
  <block id="62ccb897c7467edf774c6ee83556463c" category="list-text">在页面的 * Grafan* 部分中，选择 * 流量分类策略 * 。</block>
  <block id="f0224aaf275a0336f4e6c8bdad4d5c63" category="list-text">从页面左上角的下拉列表中选择策略。</block>
  <block id="fd156e7154b11f84c357106cfc4c8386" category="paragraph">流量分类策略通过其 ID 进行标识。策略 ID 会列在 " 流量分类策略 " 页面上。</block>
  <block id="7a3f1144d2063cc65d52f279de6ad769" category="summary">您必须至少创建一个租户帐户，才能控制对 StorageGRID 系统中存储的访问。</block>
  <block id="c330664ea16fbed914552fc5ad8b9250" category="paragraph">创建租户帐户时，您可以指定名称，客户端协议以及存储配额（可选）。如果为 StorageGRID 启用了单点登录（ SSO ），则还可以指定具有 root 访问权限的联合组来配置租户帐户。如果 StorageGRID 不使用单点登录，则还必须指定租户帐户是否使用其自己的身份源，并为租户的本地 root 用户配置初始密码。</block>
  <block id="86971b7ea8cb046ef54b30a3f45a4237" category="inline-xref-macro">身份联合</block>
  <block id="d77223d9c5f2dd16c5fb36f9da3b673b" category="inline-xref-macro">单点登录</block>
  <block id="a90c29eaf2ffa53689d41fc085451b83" category="paragraph">网格管理器提供了一个向导，用于指导您完成创建租户帐户的步骤。这些步骤因是否而异 <block ref="ad83e4b8339add974080fff484d05795" category="inline-xref-macro-rx"></block> 和 <block ref="66129802a06399449278b41abc7d66ec" category="inline-xref-macro-rx"></block> 已配置，并且您用于创建租户帐户的网格管理器帐户是否属于具有 root 访问权限的管理组。</block>
  <block id="f89b4a4cea40f023d4f47982f3539f54" category="inline-xref-macro">管理组的管理说明</block>
  <block id="fe6eb77896f1bbde4acaf79252d7fa66" category="list-text">如果租户帐户将使用为网格管理器配置的身份源，并且您要将租户帐户的 root 访问权限授予某个联合组，则您已将该联合组导入到网格管理器中。您无需为此管理员组分配任何 Grid Manager 权限。请参见 <block ref="8e05eece80d379ebd1a83df25936e814" category="inline-xref-macro-rx"></block>。</block>
  <block id="10ad1293c4c433fce409b6a3bce49911" category="list-text">选择 * 创建 * ，然后为租户输入以下信息：</block>
  <block id="e01303f5a378e9a6d9b985caab83d9bf" category="list-text">* 名称 * ：输入租户帐户的名称。租户名称不必唯一。创建租户帐户时，它会收到一个唯一的数字帐户 ID 。</block>
  <block id="73def73fa7ee1989d71d75793ee473d6" category="list-text">* 问题描述 * （可选）：输入有助于识别租户的问题描述 。</block>
  <block id="1705274a97ff1884edf0ee9e3aa0f4c9" category="list-text">* 客户端类型 * ：选择客户端类型为 * S3 * 或 * Swift* 。</block>
  <block id="d5226155ceeb55bd9a5257dac885cd50" category="list-text">* 存储配额 * （可选）：如果希望此租户具有存储配额，请为配额输入一个数值，然后选择正确的单位（ GB ， TB 或 PB ）。</block>
  <block id="593176128a8e9effe36ddb13b211a31c" category="image-alt">租户帐户页面—空白</block>
  <block id="cd698a55da12f7498e0d67fd8f850e34" category="list-text">选择 * 继续 * 并配置 S3 或 Swift 租户。</block>
  <block id="eafa24380a2ca2b713be79a37f3bddcd" category="open-title">S3 租户</block>
  <block id="9af842f1b11ddd669db3942d6c338596" category="paragraph">为租户选择适当的权限。其中某些权限还有其他要求。有关详细信息，请参见每个权限的联机帮助。</block>
  <block id="ff1f149668ad50ceea9b212d85cc67af" category="list-text">允许平台服务</block>
  <block id="e7c7092e0857f933531e40013be9302c" category="list-text">使用自己的身份源（仅当未使用 SSO 时才可选择）</block>
  <block id="2d4c9fa8bfa2432639dbe12e264c442c" category="list-text">允许 S3 选择（请参见 <block ref="1f2a59188f9a1c0542c082f7da17bd95" category="inline-xref-macro-rx"></block>）</block>
  <block id="d040ccb56b44c866eb4073822bd87d3d" category="open-title">Swift 租户</block>
  <block id="bda6304c5dbc6de05a541db2c6e124a7" category="paragraph">如果租户要使用自己的身份源，请选择 * 使用自己的身份源 * （只有在未使用 SSO 时才可选择）。</block>
  <block id="cff6223f09656dce5d3ad10716d11d08" category="list-text">选择 * 继续 * 并为租户帐户定义 root 访问权限。</block>
  <block id="43b0054c6106657ecff0c38472e38f73" category="open-title">未配置身份联合</block>
  <block id="a9c77143ec8fc96066dea18eb6625371" category="list-text">输入本地 root 用户的密码。</block>
  <block id="96689a26ce386a7764a39da87de85e7c" category="open-title">已启用 SSO</block>
  <block id="784742c038cf645b4f31d8d40c8e366a" category="paragraph">为 StorageGRID 启用 SSO 后，租户必须使用为网格管理器配置的身份源。没有本地用户可以登录。您可以指定具有 root 访问权限的联合组来配置租户帐户。</block>
  <block id="084ea4f7ddf32b87884ec65f86b33075" category="list-text">从网格管理器中选择一个现有联合组，以获得租户的初始 root 访问权限。</block>
  <block id="feae17aab0c4229e56a12bd338424d8a" category="admonition">如果您拥有足够的权限，则在选择此字段时，将列出网格管理器中的现有联合组。否则，请输入组的唯一名称。</block>
  <block id="68900592590d9304d71a0d07a1d1e39c" category="open-title">未启用 SSO</block>
  <block id="547555c939b03e0aabc3672564221485" category="list-text">根据租户是管理自己的组和用户，还是使用为网格管理器配置的身份源，完成表中所述的步骤。</block>
  <block id="bdc9ffd43bcd5e57ef89eb932f1459d1" category="cell">租户是否要 ...</block>
  <block id="5e2ad6fd9deb412d871137094ee43ef0" category="cell">执行此操作 ...</block>
  <block id="00aec013a40ddb9aa5a3290f3887aa1b" category="paragraph">管理自己的组和用户</block>
  <block id="39b99eb60e75b25c918a99e913ec717c" category="list-text">选择 * 使用自己的身份源 * 。</block>
  <block id="680ae2cacfe908ce07e1d676aff1f61a" category="inline-xref-macro">有关使用租户帐户的说明</block>
  <block id="9731f458d8d9e0e3115290aaa093552f" category="paragraph">* 注 * ：如果选中此复选框，并且您要对租户组和用户使用身份联合，则租户必须配置自己的身份源。请参见 <block ref="dc78e527e502cfe995cd1dadb4224304" category="inline-xref-macro-rx"></block>。</block>
  <block id="30c885eada7b49d058ac3480ca5bab2b" category="list-text">为租户的本地 root 用户指定密码，然后选择 * 创建租户 * 。</block>
  <block id="b86d4c27cd437c8de8d95e9337745216" category="list-text">选择 * 以 root 用户身份登录 * 以配置租户，或者选择 * 完成 * 以稍后配置租户。</block>
  <block id="c4ebe04a066c386ab7d461a64117a632" category="paragraph">使用为网格管理器配置的组和用户</block>
  <block id="c447d874607802822b4c46be912131d7" category="list-text">从网格管理器中选择一个应具有租户初始根访问权限的现有联合组。</block>
  <block id="b429be6fd849ae31712b15982f588f33" category="paragraph">* 注 * ：如果您拥有足够的权限，则在选择此字段时，将列出网格管理器中的现有联合组。否则，请输入组的唯一名称。</block>
  <block id="e8cc908fb75b3b0417fdc4ef80782211" category="list-text">为租户的本地 root 用户指定密码。</block>
  <block id="cedf4be5d91e1ccc5c34098061770b35" category="list-text">要立即登录到租户，请执行以下操作：</block>
  <block id="e03dea3ddc72c54dd2762e3d81c4841e" category="list-text">如果您要通过受限端口访问网格管理器，请在租户表中选择 * 受限 * ，了解有关访问此租户帐户的更多信息。</block>
  <block id="2ca3c4ee8ea2ab6584ef984b852bfd2b" category="paragraph">租户管理器的 URL 格式如下：</block>
  <block id="052752cbcddf0e19f83395fed46457d4" category="paragraph">`https://_FQDN_or_Admin_Node_IP:port_/?accountId=_20-digit-account-id_/`</block>
  <block id="c5d65bc4957fad165e472e6dc448ebc8" category="list-text">` fqdn_or_Admin_Node_IP_` 是完全限定域名或管理节点的 IP 地址</block>
  <block id="f5e2afefd069bdc1d326b46b5219d15e" category="list-text">` 端口 _` 是仅租户端口</block>
  <block id="9d3dfc43dfc1015ae505968792e9e374" category="list-text">` _20-Digid-account-id_` 是租户的唯一帐户 ID</block>
  <block id="6168880a9dc6322cd0dad980df19b469" category="list-text">如果您正在通过端口 443 访问网格管理器，但未为本地 root 用户设置密码，请在网格管理器的租户表中选择 * 登录 * ，然后在 root 访问联合组中输入用户的凭据。</block>
  <block id="edbc89710e583ba0412a26f5a6c566e3" category="list-text">如果要通过端口 443 访问网格管理器并为本地 root 用户设置密码：</block>
  <block id="44002a790b1208184a4efa8c31c41b1b" category="list-text">选择 * 以 root 用户身份登录 * 以立即配置租户。</block>
  <block id="a310a19b4c6601c517dfa684c43a7d0b" category="paragraph">登录时，将显示用于配置分段或容器，身份联合，组和用户的链接。</block>
  <block id="bcf6749ef9a6dc972419e2856afac74e" category="image-alt">配置租户帐户</block>
  <block id="8372d4b0760e2bcacb99d916ce3f1b8c" category="list-text">选择用于配置租户帐户的链接。</block>
  <block id="53b3e8b3e0eeaa8ace2d976b51166bcf" category="paragraph">每个链接都会在租户管理器中打开相应的页面。要完成此页面，请参见 <block ref="dc78e527e502cfe995cd1dadb4224304" category="inline-xref-macro-rx"></block>。</block>
  <block id="456dff06ab3909ca42af5f4ad372adc7" category="list-text">否则，请选择 * 完成 * 以稍后访问租户。</block>
  <block id="7bac23aaeba8922c046fa5d4dacc8e7f" category="list-text">要稍后访问租户，请执行以下操作：</block>
  <block id="7fc17decf9554a362d80ff8052528439" category="cell">如果您使用的是 ...</block>
  <block id="95c7681c112f307aed5eb0a43a6bcbe6" category="cell">执行以下操作之一 ...</block>
  <block id="5c06e352f423d0b621ec486ba1ddac59" category="paragraph">端口 443</block>
  <block id="b3c72a5e199847b81ba5f7b098c76d27" category="list-text">在网格管理器中，选择 * 租户 * ，然后选择租户名称右侧的 * 登录 * 。</block>
  <block id="0c18c565ebd221042f87209f2b048ee8" category="list-text">在 Web 浏览器中输入租户的 URL ：</block>
  <block id="f6b19e19974f87bdf78d0e77c043e2b8" category="paragraph">`https://_FQDN_or_Admin_Node_IP_/?accountId=_20-digit-account-id_/`</block>
  <block id="7d050c84604266bb97ee7986c60f6fdc" category="paragraph">受限端口</block>
  <block id="0b561cc571494a86caebbdeed35bed07" category="list-text">在网格管理器中，选择 * 租户 * ，然后选择 * 受限 * 。</block>
  <block id="ea14b808aed0dda63a8d68eb9d9d4c72" category="paragraph">`https://_FQDN_or_Admin_Node_IP:port_/?accountId=_20-digit-account-id_`</block>
  <block id="f3f93bd6d76ec1d6c9f64965bca0627b" category="list-text">` 端口 _` 是仅租户的受限端口</block>
  <block id="0538dfeeab7a809f8b665ac18e66f195" category="list-text"><block ref="0538dfeeab7a809f8b665ac18e66f195" category="inline-xref-macro-rx"></block></block>
  <block id="c545791f8e7ccf90cbefef1281de26bc" category="inline-xref-macro">管理 S3 租户帐户的平台服务</block>
  <block id="de4f8470e5267cde8cde368eddf08182" category="list-text"><block ref="de4f8470e5267cde8cde368eddf08182" category="inline-xref-macro-rx"></block></block>
  <block id="0e3b8c599b62f7f1911b4a63afbaace6" category="summary">如果您已配置并启用单点登录（ SSO ），并且使用 PingFederate 作为 SSO 提供程序，则必须对一系列 API 请求进行问题描述 处理，以获取对网格管理 API 或租户管理 API 有效的身份验证令牌。</block>
  <block id="c41f81deac11c3e51228fdf61f535be6" category="doc">如果启用了单点登录，请使用 API （ PingFederate ）</block>
  <block id="ee1f2e1a54d9ae788ccb0b6c87844a4d" category="inline-xref-macro">已配置并启用单点登录（ SSO ）</block>
  <block id="c62f907fed2173ce6fe9c4a3e69d8eb8" category="paragraph">如果您有 <block ref="b415b08aa57ee1251cae8ce7730dd2ae" category="inline-xref-macro-rx"></block> 如果使用 PingFederate 作为 SSO 提供程序，则必须对一系列 API 请求进行问题描述 处理，以获取对网格管理 API 或租户管理 API 有效的身份验证令牌。</block>
  <block id="ec520baf1c3ab6a0a89c0a5898cb80ea" category="section-title">如果启用了单点登录，请登录到 API</block>
  <block id="b50edd3f70c61fc0857f63933fad8dea" category="paragraph">如果您使用 PingFederate 作为 SSO 身份提供程序，则以下说明适用</block>
  <block id="dee2cae274cbbc0af4c7f16b36a1b2e9" category="list-text">您知道属于 StorageGRID 用户组的联合用户的 SSO 用户名和密码。</block>
  <block id="bed3016934a68c80fa17f4d8fde88936" category="list-text">如果要访问租户管理 API ，您知道租户帐户 ID 。</block>
  <block id="2527e31a9bc2ff3e4e5e4c2287cc5426" category="paragraph">要获取身份验证令牌，可以使用以下示例之一：</block>
  <block id="f35527aa7e8188d4e407487fb1f164de" category="list-text">`storagegrid-ssoauth.py` Python 脚本，该脚本位于 StorageGRID 安装文件目录中（对于 Red Hat Enterprise Linux 或 CentOS ，为` ./rpms` ；对于 Ubuntu 或 Debian ，为 ` ./de-s` ；对于 VMware ，为 ` ./vSphere` ）。</block>
  <block id="104d74c6c9fb1d273dde7601c87913a4" category="list-text">cURL 请求的示例工作流。</block>
  <block id="97ddcf51a0198d270c6cb3fbba661c0f" category="paragraph">如果执行速度过慢，则卷曲工作流可能会超时。您可能会看到以下错误： `A valid SubjectConfirmation was not found on this response` 。</block>
  <block id="5ebc886b93c61912512c711231c60e35" category="admonition">示例 cURL 工作流不会保护密码不会被其他用户看到。</block>
  <block id="f3d5886f746e1771621354d6bb68581b" category="paragraph">如果您使用的是 URL 编码问题描述 ，则可能会看到错误： `不支持 SAML 版本` 。</block>
  <block id="ec694df5235b752f6d3fa15f104ae613" category="list-text">选择以下方法之一以获取身份验证令牌：</block>
  <block id="e42a98f2fe651f2b4a501eb0640b3546" category="list-text">使用 `storagegrid-ssoauth.py` Python 脚本。转至步骤 2 。</block>
  <block id="73045529bd1881ca4938021258dab8e7" category="list-text">使用 curl 请求。转至步骤 3 。</block>
  <block id="ed3172315eea19b65322b7d5c9eea805" category="list-text">如果要使用 `storagegrid-ssoauth.py` 脚本，请将此脚本传递给 Python 解释器并运行此脚本。</block>
  <block id="857051aca604c8a73a6fd40b2f67a498" category="paragraph">出现提示时，输入以下参数的值：</block>
  <block id="4bf3136a7823cbb8b0601308fc459829" category="list-text">SSO 方法。您可以输入 "`pingFederate` " 的任何变体（ PNGFEDERATE ， PingFederate 等）。</block>
  <block id="b653806f79ca0da673dd9934108fc406" category="list-text">SSO 用户名</block>
  <block id="0721a1873916c216602753686fbd6c15" category="list-text">安装 StorageGRID 的域。此字段不用于 PingFederate 。您可以将其留空或输入任何值。</block>
  <block id="4a3549b3a1d90b18cb7895dd812b9944" category="list-text">StorageGRID 的地址</block>
  <block id="93b2729109bc11147c9c46d2be1533e9" category="list-text">要访问租户管理 API 的租户帐户 ID 。</block>
  <block id="c03d1fcd51f8ddd344de98c5c38544a7" category="image-alt">用于 Ping 联合的 SSO 身份验证脚本</block>
  <block id="5f82030157938e89f5492b8ffc1ab0e7" category="paragraph">输出中提供了 StorageGRID 授权令牌。现在，您可以将令牌用于其他请求，类似于在未使用 SSO 时使用 API 的方式。</block>
  <block id="d894ef7d1ef7f231253812e189c312cf" category="list-text">如果要使用 curl 请求，请使用以下操作步骤 。</block>
  <block id="f9d7bb854d94f894d76219441b7030e2" category="list-text">声明登录所需的变量。</block>
  <block id="18d5df9efde39454ede542b3adfadc98" category="admonition">要访问网格管理 API ，请使用 0 作为 `TENANTACCOBTID` 。</block>
  <block id="fb587798cb10e09bf10db7bf18ef8efa" category="list-text">要接收签名的身份验证 URL ，问题描述 请将 POST 请求发送到 ` /apI/v3/authorize -SAML` ，然后从响应中删除额外的 JSON 编码。</block>
  <block id="a8a32f5ab4ec206e947376c7219d0c2c" category="paragraph">此示例显示了一个 POST 请求，用于为 TENANTACCOBTID 提供签名身份验证 URL 。结果将传递到 python -m json.tool 以删除 JSON 编码。</block>
  <block id="5a57d12362b4136e3684adb5a8e21247" category="paragraph">此示例的响应包括一个 URL 编码的签名 URL ，但不包括额外的 JSON 编码层。</block>
  <block id="1eb045266496928e11426dac592eb0cb" category="list-text">从响应中保存 `SAMLRequest` ，以便在后续命令中使用。</block>
  <block id="6f4f34ea2998abb070d53d910d29d98f" category="list-text">导出响应和 cookie ，并对响应执行回显：</block>
  <block id="a12de401969efe72d1c5c17fb863fdf5" category="list-text">导出 "pf.adapterId" 值，并对响应执行回显：</block>
  <block id="bff7f86e4159c107ec67b357c104276c" category="list-text">导出 "href" 值（删除后斜杠 / ），并对响应执行回显：</block>
  <block id="6d5623c60113a746189ba86b0cbb5a92" category="list-text">导出 "act" 值：</block>
  <block id="36e5369f6a37e13ee8eaae0a085ce34f" category="list-text">发送 Cookie 以及凭据：</block>
  <block id="6c774d508849f026e99381a3c0ff5a4e" category="list-text">从隐藏字段中保存 `SAMLResponse` ：</block>
  <block id="776e3416f1b5a637a34d658f99aed685" category="list-text">使用已保存的 `SAMLResponse` 发出 StorageGRID`` /API/SAML 响应`` 请求以生成 StorageGRID 身份验证令牌。</block>
  <block id="f7189ef3275288be23767e36639ffd5f" category="paragraph">对于 `RelayState` ，请使用租户帐户 ID ，或者如果要登录到网格管理 API ，请使用 0 。</block>
  <block id="21bd670542bfd29fe4c5d8ef498cdfcc" category="paragraph">响应包括身份验证令牌。</block>
  <block id="788752eac7eb814dba43b0f70ae89cee" category="list-text">将此身份验证令牌保存在响应中为 `MYTOKEN` 。</block>
  <block id="f4b78b21a0169b2703f8e93920bfda2d" category="paragraph">现在，您可以对其他请求使用 `MYTOKEN` ，类似于未使用 SSO 时使用 API 的方式。</block>
  <block id="c22ede812a4117192a45c2b078367aaf" category="section-title">如果启用了单点登录，请注销 API</block>
  <block id="0fd95255c00190af69e5d2fe3488d940" category="paragraph">如果已启用单点登录（ Single Sign-On ， SSO ），则必须对一系列 API 请求进行问题描述 ，才能注销网格管理 API 或租户管理 API 。如果您使用 PingFederate 作为 SSO 身份提供程序，则以下说明适用</block>
  <block id="2dd7d256c026ff4921e4f3fc5ebe980c" category="paragraph">如果需要，只需从组织的单个注销页面注销即可注销 StorageGRID API 。或者，您也可以从 StorageGRID 触发单点注销（ SLO ），这需要有效的 StorageGRID 令牌。</block>
  <block id="b26033ba53353ed87fe8993f701ea35b" category="list-text">要生成签名注销请求，请将 `cookie "sso=true"` 传递到 SLO API ：</block>
  <block id="07b0baf572ae2db4264d4678546f369d" category="paragraph">返回注销 URL ：</block>
  <block id="e52e723f8864a2a0ab69ac0c92ee2282" category="list-text">保存注销 URL 。</block>
  <block id="10493a1b3ea6bb3c8ed3746d4c98d86c" category="list-text">向注销 URL 发送请求以触发 SLO 并重定向回 StorageGRID 。</block>
  <block id="cf25042e0b27328afb18485d2786d494" category="paragraph">返回 302 响应。此重定向位置不适用于纯 API 注销。</block>
  <block id="9a8dddadb71d2347e3f96181882225d2" category="list-text">删除 StorageGRID 承载令牌。</block>
  <block id="d818a53c3ded61e1b1d0e513efbc2590" category="paragraph">删除 StorageGRID 承载令牌的工作方式与不使用 SSO 相同。如果未提供 `cookie "sso=true"` ，则用户将从 StorageGRID 中注销，而不会影响 SSO 状态。</block>
  <block id="7fc650a2289fdc149705825fd577acbc" category="paragraph">`204 No Content` 响应表示用户现在已注销。</block>
  <block id="864989c8ed2ed0c2ba36c26cd808f9ad" category="summary">如果尝试发送 AutoSupport 消息失败， StorageGRID 系统将根据 AutoSupport 消息的类型采取不同的操作。您可以通过选择支持 &gt;&gt; 工具 &gt;&gt; AutoSupport &gt;&gt; 结果来检查 AutoSupport 消息的状态。</block>
  <block id="28d9db878a4b35e69e7248e6f9284260" category="doc">对 AutoSupport 消息进行故障排除</block>
  <block id="b784b6c928bf3a7a5270ec9bccef5fe6" category="paragraph">如果尝试发送 AutoSupport 消息失败， StorageGRID 系统将根据 AutoSupport 消息的类型采取不同的操作。您可以通过选择 * 支持 * &gt; * 工具 * &gt; * AutoSupport * &gt; * 结果 * 来检查 AutoSupport 消息的状态。</block>
  <block id="4b6e46a5f494e4eed9f6326115f4d2e7" category="admonition">如果在系统范围内禁止发送电子邮件通知，则会禁止显示事件触发的 AutoSupport 消息。（选择 * 配置 * &gt; * 系统 * &gt; * 显示选项 * 。然后，选择 * 通知禁止全部 * 。）</block>
  <block id="bbea6728761bfd32f1d54f5957d630ae" category="paragraph">如果 AutoSupport 消息无法发送，则 "`failed` " 将显示在 * AutoSupport * 页面的 * 结果 * 选项卡上。</block>
  <block id="190671404790b5499b3aef930506b435" category="image-alt">AutoSupport Results 选项卡</block>
  <block id="d4955f1ab1ce778b36cee45684ee2cd8" category="section-title">每周 AutoSupport 消息失败</block>
  <block id="156afeef6027d9b8caba18cce22417d5" category="paragraph">如果每周 AutoSupport 消息无法发送， StorageGRID 系统将执行以下操作：</block>
  <block id="9a96e56d7690f76151c2865ed8afc82c" category="list-text">更新最新的 result 属性以重试。</block>
  <block id="c82b7001b95e64335a25a3e97499ddea" category="list-text">尝试每四分钟重新发送 15 次 AutoSupport 消息，持续一小时。</block>
  <block id="51fa16e4af41849327dca08ab46a3dbf" category="list-text">发送失败一小时后，将最新结果属性更新为 Failed 。</block>
  <block id="f658465c787707b372156f0ac6efa2a7" category="list-text">尝试在下次计划的时间重新发送 AutoSupport 消息。</block>
  <block id="e39142814ae6c274ab398d2f09681bad" category="list-text">如果消息因 NMS 服务不可用而失败，并且消息在七天之前发送，则会保留常规 AutoSupport 计划。</block>
  <block id="df4d5cc1a9636aa33a4dfa6e59d82bea" category="list-text">当 NMS 服务再次可用时，如果消息在七天或更长时间内未发送，则会立即发送 AutoSupport 消息。</block>
  <block id="49e95ccb727360363574c1229363b3f8" category="section-title">用户触发或事件触发的 AutoSupport 消息失败</block>
  <block id="4754295277de6513088bbc41fa79f2bd" category="paragraph">如果用户触发或事件触发的 AutoSupport 消息无法发送， StorageGRID 系统将执行以下操作：</block>
  <block id="4196c2048336e2f504ad87f61fb1762d" category="list-text">如果已知错误，则显示错误消息。例如，如果用户选择 SMTP 协议而未提供正确的电子邮件配置设置，则会显示以下错误： `由于电子邮件服务器页面上的设置不正确，无法使用 SMTP 协议发送 AutoSupport 消息。`</block>
  <block id="8c0a440c55bfbfb580fea35fdecbad36" category="list-text">不会再次尝试发送消息。</block>
  <block id="43c62dc6662c9588f8ab759030f7f596" category="list-text">在 `NMS.log` 中记录此错误。</block>
  <block id="2e1b206d1a7676b815ef9fe43cfce6b2" category="paragraph">如果发生故障且所选协议为 SMTP ，请验证 StorageGRID 系统的电子邮件服务器是否已正确配置且电子邮件服务器是否正在运行（ * 支持 * &gt; * 警报（原有） * &gt; * &gt; 旧电子邮件设置 * ）。AutoSupport 页面可能会显示以下错误消息： `由于电子邮件服务器页面上的设置不正确，无法使用 SMTP 协议发送 AutoSupport 消息。`</block>
  <block id="ce30626851e9a59c45ca14e018d2fe84" category="inline-xref-macro">监控和故障排除说明</block>
  <block id="af610e1c3cbac62a3b641ef90d940e67" category="paragraph">了解如何在中配置电子邮件服务器设置 <block ref="160ef191433a17d356eee74d211de29c" category="inline-xref-macro-rx"></block>。</block>
  <block id="d0eec3525f605213de2930bf6187700a" category="section-title">更正 AutoSupport 消息故障</block>
  <block id="345de0e7d2a897bf442840d972a1a090" category="paragraph">如果发生故障且所选协议为 SMTP ，请验证 StorageGRID 系统的电子邮件服务器是否已正确配置且您的电子邮件服务器是否正在运行。AutoSupport 页面可能会显示以下错误消息： `由于电子邮件服务器页面上的设置不正确，无法使用 SMTP 协议发送 AutoSupport 消息。`</block>
  <block id="413e8035fff97222dda9ed9898c8e33e" category="summary">如果您已配置并启用单点登录（ SSO ），并且使用 Azure 作为 SSO 提供程序，则可以使用两个示例脚本获取对网格管理 API 或租户管理 API 有效的身份验证令牌。</block>
  <block id="8fb7032ce686687a9845d1d28a0fe812" category="doc">如果启用了单点登录，请使用 API （ Azure ）</block>
  <block id="5366de7a35d49df5f96bb3646e2d301f" category="paragraph">如果您有 <block ref="b415b08aa57ee1251cae8ce7730dd2ae" category="inline-xref-macro-rx"></block> 使用 Azure 作为 SSO 提供程序时，您可以使用两个示例脚本来获取对网格管理 API 或租户管理 API 有效的身份验证令牌。</block>
  <block id="388c1a535d1dca89f8e3be914586eb6b" category="section-title">如果启用了 Azure 单点登录，请登录到 API</block>
  <block id="ac6d30245aa412042c5d86777e1854b8" category="paragraph">如果您使用 Azure 作为 SSO 身份提供程序，则以下说明适用</block>
  <block id="ffa8135d688e483637052e7dada92b8d" category="list-text">您知道属于 StorageGRID 用户组的联合用户的 SSO 电子邮件地址和密码。</block>
  <block id="c31bdda1f36d1b60f2c1208754f18898" category="paragraph">要获取身份验证令牌，可以使用以下示例脚本：</block>
  <block id="e550ddec8f1d8f1370dc1b559ae90b9e" category="list-text">`storagegrid-ssoauth-azure.py` Python 脚本</block>
  <block id="7362ea254778bdfa92b1ed5ca398358f" category="list-text">`storagegrid-ssoauth-azure.js` Node.js 脚本</block>
  <block id="2bd00a178bd501a433196ade8c79df93" category="paragraph">这两个脚本都位于 StorageGRID 安装文件目录中（对于 Red Hat Enterprise Linux 或 CentOS ，为` ./rpms` ；对于 Ubuntu 或 Debian ，为 ` ./debs` ；对于 VMware ，为 ` ./vSphere` ）。</block>
  <block id="1adba3f764b06fda5156b0d7d53bc133" category="paragraph">要编写您自己与 Azure 的 API 集成，请参见 `storagegrid-ssoauth-azure.py` 脚本。Python 脚本会直接向 StorageGRID 发出两个请求（首先获取 SAMLRequest ，然后再获取授权令牌），同时还会调用 Node.js 脚本与 Azure 交互以执行 SSO 操作。</block>
  <block id="609a713f5e97fe6e9a756663b107702a" category="paragraph">可以使用一系列 API 请求执行 SSO 操作，但这样做并不简单。puppeteer Node.js 模块用于擦除 Azure SSO 接口。</block>
  <block id="b07fd5eebb29c42f1b982e6216505b03" category="list-text">安装所需的依赖关系，如下所示：</block>
  <block id="6b8b4efc7defcb0fc1edb85964cd4557" category="inline-link"><block ref="6b8b4efc7defcb0fc1edb85964cd4557" category="inline-link-rx"></block></block>
  <block id="0e24d9575582a9dd75975cbb465d8662" category="list-text">安装 Node.js （请参见<block ref="96a61e6d8fdd038f1f8a9b753113f0e3" category="inline-link-rx"></block>）。</block>
  <block id="78ea2da1a5a2731d14535bb3f40c01fa" category="list-text">安装所需的 Node.js 模块（ puppeteer 和 jsdom ）：</block>
  <block id="6e41f73f6930d34bc32d9519881ec7af" category="paragraph">`npm install -g &lt;module&gt;`</block>
  <block id="dcd1af6c9327d9fbc9a0214a44c215e6" category="list-text">将 Python 脚本传递给 Python 解释器以运行此脚本。</block>
  <block id="94241a37de1794b117d6ea6948fb4741" category="paragraph">然后， Python 脚本将调用相应的 Node.js 脚本以执行 Azure SSO 交互。</block>
  <block id="9b8eecd5bc224f96db8689c00c7e85d4" category="list-text">出现提示时，输入以下参数的值（或使用参数传递这些值）：</block>
  <block id="292c8b750839b6330ac0ce1f9960aabc" category="list-text">用于登录到 Azure 的 SSO 电子邮件地址</block>
  <block id="7362ba88f3029ff02be4771ca7bf480a" category="list-text">要访问租户管理 API 的租户帐户 ID</block>
  <block id="7d385e6c18bbaf5b38d73fee2f8d8763" category="list-text">出现提示时，输入密码，并在收到请求时准备向 Azure 提供 MFA 授权。</block>
  <block id="f93353d3194e903344af68e34760f06e" category="image-alt">提示输入密码和 MFA</block>
  <block id="60638c20fd6a7faadf4660257700af3b" category="admonition">此脚本假定 MFA 是使用 Microsoft Authenticator 完成的。您可能需要修改此脚本以支持其他形式的 MFA （例如输入通过文本消息接收的代码）。</block>
  <block id="c84f12da9c0b96224696314cc68e5586" category="summary">您必须使用 Active Directory 联合身份验证服务（ AD FS ）为系统中的每个管理节点创建依赖方信任。您可以使用 PowerShell 命令，从 StorageGRID 导入 SAML 元数据或手动输入数据来创建依赖方信任。</block>
  <block id="8c8bac186f9343a6782365edc174ca84" category="list-text">您已为 StorageGRID 配置单点登录，并选择了 * AD FS* 作为 SSO 类型。</block>
  <block id="7abaa71ba4bd5ef15e321c73d1d079e6" category="list-text">在网格管理器的单点登录页面上选择了 * 沙盒模式 * 。请参见 <block ref="1bf5665c6fd7166fd4720a75bd10f707" category="inline-xref-macro-rx"></block>。</block>
  <block id="588a2abd8a0d8800b56cbc3e2f026610" category="list-text">您知道系统中每个管理节点的完全限定域名（或 IP 地址）和依赖方标识符。您可以在 StorageGRID 单点登录页面上的管理节点详细信息表中找到这些值。</block>
  <block id="8939c828ffd9f3944c925a3069b36fc2" category="list-text">您有在 AD FS 中创建依赖方信任的经验，也可以访问 Microsoft AD FS 文档。</block>
  <block id="00a5e5058bc0e70f33addfead2f2756b" category="list-text">您正在使用 AD FS 管理单元，并且属于管理员组。</block>
  <block id="0d05be2a18d087c9d57325fd57102c08" category="list-text">如果您要手动创建依赖方信任，则可以获得为 StorageGRID 管理界面上传的自定义证书，或者知道如何从命令 Shell 登录到管理节点。</block>
  <block id="4537d58529d58d23712bafc8b67e4b89" category="paragraph">以下说明适用于 Windows Server 2016 AD FS 。如果您使用的是其他版本的 AD FS ，则会注意到操作步骤 略有不同。如果您有任何疑问，请参见 Microsoft AD FS 文档。</block>
  <block id="e95b9c7a5e11d39643f57325c0819dad" category="section-title">使用 Windows PowerShell 创建依赖方信任</block>
  <block id="49812bbdbb97a58a13b12100db936090" category="paragraph">您可以使用 Windows PowerShell 快速创建一个或多个依赖方信任。</block>
  <block id="61065f8d9798c0b3623f12b54f976e5f" category="list-text">从 Windows 开始菜单中，右键选择 PowerShell 图标，然后选择 * 以管理员身份运行 * 。</block>
  <block id="e4fb6dbfab98476c74486040656411e4" category="list-text">在 PowerShell 命令提示符处，输入以下命令：</block>
  <block id="59179adbbb716a64d6e491d4fe68a9b1" category="paragraph">`Add-AdfsRelyingPartyTrust -Name "_Admin_Node_Identifer_" -MetadataURL <block ref="f3fa0acf11cc084b8a8ee7ff230c8c40" category="inline-link-rx"></block></block>
  <block id="0d53a4a1d7761498d6eb9574ebec4ea7" category="list-text">对于 ` _Admin_Node_Identifier_` ，请输入管理节点的依赖方标识符，就像它显示在 Single Sign-On 页面上一样。例如， `SG-DC1-ADM1` 。</block>
  <block id="b3f99f25c71a2886c5dad845f3d58afc" category="list-text">对于 ` Admin_Node_FQDN_` ，输入同一管理节点的完全限定域名。（如有必要，您可以改用节点的 IP 地址。但是，如果您在此处输入 IP 地址，请注意，如果此依赖方信任的 IP 地址发生更改，您必须更新或重新创建此信任。）</block>
  <block id="570d35941932384660bc8141e0645c7f" category="list-text">在 Windows Server Manager 中，选择 * 工具 * &gt; * AD FS 管理 * 。</block>
  <block id="e677a28d80ef8837612b848273e5b722" category="paragraph">此时将显示 AD FS 管理工具。</block>
  <block id="b007cbfd2f8f2142a763a519b68c62c6" category="list-text">选择 * AD FS* &gt; * 依赖方信任 * 。</block>
  <block id="67d76fed90b09503bed9fcbf0bbee537" category="paragraph">此时将显示依赖方信任列表。</block>
  <block id="a562c5c04dd6bd965c924c6c54bef7be" category="list-text">向新创建的依赖方信任添加访问控制策略：</block>
  <block id="9aef083c48a4c1ed3b50cbe072944d9e" category="list-text">找到您刚刚创建的依赖方信任。</block>
  <block id="4fff76e0ce6ce98526a29ee76575f7c2" category="list-text">右键单击信任，然后选择 * 编辑访问控制策略 * 。</block>
  <block id="5405cdc79360d26b3f7798f2414faedf" category="list-text">选择访问控制策略。</block>
  <block id="79147cebb1b318cb9ce3dd0ebffb696c" category="list-text">选择 * 应用 * ，然后选择 * 确定 *</block>
  <block id="3e4428d286d08cfcb95e8c63e9bec0ee" category="list-text">将款项申请发放策略添加到新创建的相关方信任：</block>
  <block id="9b12194d7b9b96a36bc5db7fe3e89c10" category="list-text">右键单击此信任，然后选择 * 编辑款项申请发放策略 * 。</block>
  <block id="11ce8fc378ad1e71fa11777c66fc27b8" category="list-text">选择 * 添加规则 * 。</block>
  <block id="1b05148724a9c56404e45e37a4522b5d" category="list-text">在选择规则模板页面上，从列表中选择 * 将 LDAP 属性作为声明发送 * ，然后选择 * 下一步 * 。</block>
  <block id="8557906233bc4110879ea8ecfc376123" category="list-text">在配置规则页面上，输入此规则的显示名称。</block>
  <block id="f7796023c8c206e29a349eafd204d4d8" category="paragraph">例如，将 * 对象 GUID 更改为名称 ID* 。</block>
  <block id="cf76b028bc626eed38dc17a29529f81a" category="list-text">对于属性存储，选择 * Active Directory* 。</block>
  <block id="de03de7736a08ab5b12263221023a2a7" category="list-text">在映射表的 LDAP 属性列中，键入 * 对象 GUID* 。</block>
  <block id="358d13bea424654b112cd6191b388914" category="list-text">在映射表的传出款项申请类型列中，从下拉列表中选择 * 名称 ID* 。</block>
  <block id="987ee517c3c6f413230bf6edb8cfa43f" category="list-text">选择 * 完成 * ，然后选择 * 确定 * 。</block>
  <block id="f957f09da8543c30a14b7359a8b18407" category="list-text">确认元数据已成功导入。</block>
  <block id="8a70a0ecf83f978998c03af50516151a" category="list-text">右键单击依赖方信任以打开其属性。</block>
  <block id="c49f34238d06b6df7d09f6ae6a4463f8" category="list-text">确认已填充 * 端点 * ， * 标识符 * 和 * 签名 * 选项卡上的字段。</block>
  <block id="ea0a38766fb835e326a75b2540c3b3f4" category="paragraph">如果缺少元数据，请确认联合元数据地址是否正确，或者只需手动输入值即可。</block>
  <block id="f68b10639f75d55394f3137f235f2b50" category="list-text">重复上述步骤，为 StorageGRID 系统中的所有管理节点配置依赖方信任。</block>
  <block id="d43a46f98b3eee11b6e86c29dff22330" category="inline-xref-macro">使用沙盒模式</block>
  <block id="847cd33e955fe0fccb69f32226b1e4c3" category="list-text">完成后，返回到 StorageGRID 并测试所有相关方信任，以确认其配置正确。请参见 <block ref="36305cf51961f4c978ab39361782e501" category="inline-xref-macro-rx"></block> 有关说明，请参见。</block>
  <block id="b520ecd5b31fc2d4e5cdc168811e8aee" category="section-title">通过导入联合元数据创建依赖方信任</block>
  <block id="2b8af469ea5c8098b68cff4db91ecbe5" category="paragraph">您可以通过访问每个管理节点的 SAML 元数据来导入每个依赖方信任的值。</block>
  <block id="148569dc67c5ccd624ffbd0db1e55afe" category="list-text">在 Windows Server Manager 中，选择 * 工具 * ，然后选择 * AD FS 管理 * 。</block>
  <block id="31800edfb1d2f5a8d0801825da7f8ed8" category="list-text">在操作下，选择 * 添加依赖方信任 * 。</block>
  <block id="3dc7948298772b715809a9e68a40589f" category="list-text">在 Welcome 页面上，选择 * 声明感知 * ，然后选择 * 开始 * 。</block>
  <block id="05ee7039b163a1d26108b8f4f65b555a" category="list-text">选择 * 导入有关依赖方的在线或本地网络上发布的数据 * 。</block>
  <block id="b50a34e9d85808987dcd2666a7e3a50a" category="list-text">在 * 联合元数据地址（主机名或 URL ） * 中，键入此管理节点的 SAML 元数据的位置：</block>
  <block id="28c9604e278deccf5f3e3c4ed71611c0" category="paragraph">`https://_Admin_Node_FQDN_/api/saml-metadata`</block>
  <block id="92c23fd22f0a5aae516d0068f078f007" category="list-text">完成依赖方信任向导，保存依赖方信任并关闭该向导。</block>
  <block id="bf089639c20c69cf11772da194f405b9" category="admonition">输入显示名称时，请使用管理节点的相关方标识符，与网格管理器的 Single Sign-On 页面上显示的完全相同。例如， `SG-DC1-ADM1` 。</block>
  <block id="01fe0852fd3a42246a3252cf3d0d6c3b" category="list-text">添加声明规则：</block>
  <block id="80e1b2c570512d924f7de12ae6ba100e" category="list-text">选择 * 添加规则 * ：</block>
  <block id="64cceca34982543788690d6dd31d84c2" category="section-title">手动创建依赖方信任</block>
  <block id="941bb65dd23eb2e1da7bd6aee84b229e" category="paragraph">如果您选择不导入依赖部件信任的数据，则可以手动输入值。</block>
  <block id="c1878c473659f57f953b6272ba87b3c0" category="list-text">选择 * 手动输入有关依赖方的数据 * ，然后选择 * 下一步 * 。</block>
  <block id="4f7ad3d8499ea4b1ff0c94145dd48a85" category="list-text">完成依赖方信任向导：</block>
  <block id="60f8a34a06a858f6d4cd1290334178c6" category="list-text">输入此管理节点的显示名称。</block>
  <block id="0c63e832551e144864144ce1858725de" category="paragraph">为了确保一致性，请使用管理节点的依赖方标识符，与网格管理器的单点登录页面上显示的一致。例如， `SG-DC1-ADM1` 。</block>
  <block id="41bfc890aa4afae98c6a4d3a5274e282" category="list-text">跳过此步骤可配置可选令牌加密证书。</block>
  <block id="fa2f3c63c212101e64efdce66d307ae3" category="list-text">在配置 URL 页面上，选中 * 启用对 SAML 2.0 WebSSO 协议的支持 * 复选框。</block>
  <block id="802e25bbcd3dc38eb66efab7a38bc51c" category="list-text">键入管理节点的 SAML 服务端点 URL ：</block>
  <block id="208d535b2d5507952a72f52d677fcd93" category="paragraph">`https://_Admin_Node_FQDN_/api/saml-response`</block>
  <block id="796fedadebff514e0b6c2cbd3c4854f3" category="paragraph">对于 ` Admin_Node_FQDN_` ，输入管理节点的完全限定域名。（如有必要，您可以改用节点的 IP 地址。但是，如果您在此处输入 IP 地址，请注意，如果此依赖方信任的 IP 地址发生更改，您必须更新或重新创建此信任。）</block>
  <block id="0e962bf5067281344cad1f49c315805e" category="list-text">在配置标识符页面上，指定同一管理节点的依赖方标识符：</block>
  <block id="5f3252a843c367239ba5d9aeef00650f" category="paragraph">` 管理节点标识符 _`</block>
  <block id="9e7e389a31419e3eab8fbb3e5aa8d19a" category="list-text">查看设置，保存依赖方信任并关闭向导。</block>
  <block id="feba9cf51ee2073af40a52bf1ea0ed78" category="paragraph">此时将显示编辑款项申请发放策略对话框。</block>
  <block id="caf39eec8584297c60727743d200c281" category="admonition">如果未显示此对话框，请右键单击此信任，然后选择 * 编辑款项申请发放策略 * 。</block>
  <block id="3c547e16049048e66ba9a7b86928058b" category="list-text">要启动 Claim Rule 向导，请选择 * 添加规则 * ：</block>
  <block id="e67c920e66c57eda9c6a29db097f1c1d" category="list-text">在 * 端点 * 选项卡上，为单点注销（ SLO ）配置端点：</block>
  <block id="ff9dc70da561c4c7c8f1ce04f0562702" category="list-text">选择 * 添加 SAML * 。</block>
  <block id="1ff193eb5144003095c228c673836200" category="list-text">选择 * 端点类型 * &gt; * SAML 注销 * 。</block>
  <block id="11d405fac84e1b7c636bc0813e8947a8" category="list-text">选择 * 绑定 * &gt; * 重定向 * 。</block>
  <block id="f24afd7272e33f917635efdad796452f" category="list-text">在 * 可信 URL* 字段中，输入用于从此管理节点单点注销（ SLO ）的 URL ：</block>
  <block id="417c241b33757fda658247b35382f928" category="paragraph">`https://_Admin_Node_FQDN_/api/saml-logout`</block>
  <block id="9915863d70fa60b49f33c2fae25551e0" category="paragraph">对于 ` Admin_Node_FQDN_` ，输入管理节点的完全限定域名。（如有必要，您可以改用节点的 IP 地址。但是，如果您在此处输入 IP 地址，请注意，如果此依赖方信任的 IP 地址发生更改，您必须更新或重新创建此信任。）</block>
  <block id="01142e6991a42e43bf940198f66a688a" category="list-text">在 * 签名 * 选项卡上，指定此依赖方信任的签名证书：</block>
  <block id="14ef173680127522daf93d6483d46859" category="list-text">添加自定义证书：</block>
  <block id="06346a3260feb3a348a64c2e1ebe0c42" category="list-text">如果您已将自定义管理证书上传到 StorageGRID ，请选择此证书。</block>
  <block id="50e9a6dde4fd5a0e1c10cea8bd5db8b5" category="list-text">如果您没有自定义证书，请登录到管理节点，转到管理节点的 ` /var/local/mgmt-api` 目录，然后添加 `custom-server.crt` 证书文件。</block>
  <block id="422cb5ba90ebe8e4da1143cb9e4fcdd2" category="paragraph">* 注： * 不建议使用管理节点的默认证书（ `server.crt` ）。如果管理节点出现故障，则在恢复节点时将重新生成默认证书，您需要更新依赖方信任。</block>
  <block id="f62e4d7ab8827b9a38876953b2c22ada" category="list-text">选择 * 应用 * ，然后选择 * 确定 * 。</block>
  <block id="cf99c01efb12e12f7e4a61ccb0e38931" category="paragraph">依赖方属性将被保存并关闭。</block>
  <block id="4e98817ec71f1a178c64747bcb1752c4" category="list-text">完成后，返回到 StorageGRID 并测试所有相关方信任，以确认其配置正确。请参见 <block ref="7af14e50b752a7a68888be90018c4c7b" category="inline-xref-macro-rx"></block> 有关说明，请参见。</block>
  <block id="23d1fe1a67ad508a3822a6492e87c4db" category="summary">您必须创建一个域策略，然后将其激活，以配置 TSM 服务器以保存从归档节点发送的数据。</block>
  <block id="f7faf2adb2e69119cf1179a31e783d78" category="doc">创建并激活域策略</block>
  <block id="367da4289ea882aba020fb5ab9d57287" category="list-text">创建域策略。</block>
  <block id="6201140b6cad3f1e20d1db7fd1c252cf" category="paragraph">`复制域标准 TSM-DOMAIN`</block>
  <block id="f9932850c3fa680fd08bdc2d73e17cc9" category="list-text">如果您使用的不是现有管理类，请输入以下内容之一：</block>
  <block id="562ddb7ce3a6e9f8a8fb140b5e49e616" category="paragraph">`define policySet TSM-domain standard`</block>
  <block id="64902c8b0eada6853e8ac50074ecd522" category="paragraph">`define mgmtclass tsm-domain standard _default_m`</block>
  <block id="a2862dd812d66aca69944d45fa8fb8e0" category="paragraph">` 默认 _` 是部署的默认管理类。</block>
  <block id="e303c28ff77386b39c30d3e26be0f769" category="list-text">创建一个副本组到相应的存储池。在一行中输入：</block>
  <block id="db80ce9696ea6f696363ae6151e4706e" category="paragraph">`define copygroup Tsm-domain standard _defaults_ type=archive destination=SGWSDiskPool reinit=event remin=0 rever=0`</block>
  <block id="2468d4e483b351f7b31dc04c7179cc4f" category="paragraph">` _default_` 是归档节点的默认管理类。已选择 `retinit` ， `retmin` 和 `reTver` 的值，以反映归档节点当前使用的保留行为</block>
  <block id="6ebdf867b626e2e0358d3d5a6704de13" category="admonition">请勿将 `retinit` 设置为 `retinit = create` 。设置 `retinit = create` 会阻止归档节点删除内容，因为保留事件用于从 TSM 服务器中删除内容。</block>
  <block id="362649bfd0bd1df96ce57073fbff2c16" category="list-text">将管理类分配为默认值。</block>
  <block id="bc910c67057b999a2bb5507c9a7f923f" category="paragraph">`assign defmgmtclass _TSM-domain_ standard _default_s`</block>
  <block id="5391729b5387b095eb236c7153ea95b3" category="list-text">将新策略集设置为活动。</block>
  <block id="9f93c8bc8f1553fd1358c7f1663e0b18" category="paragraph">`激活 policySet TSM-domain standard`</block>
  <block id="767429fdafd7fe0a71c74ed142e1e724" category="paragraph">请忽略输入 activate 命令时显示的 "`no backup copy group` " 警告。</block>
  <block id="bde6ba22a7cae5155c558f89bd005d80" category="list-text">注册一个节点以使用在 TSM 服务器上设置的新策略。在 TSM 服务器上，输入（在一行上）：</block>
  <block id="a9431394791dd16f42414ee6f1dbfa41" category="paragraph">`re注册节点 arc-user arc-password passexp=0 domain=Tsm-domain MAXNUMMP=number-in-sessions`</block>
  <block id="79c375d492f67f21fa5e546bd4ddefe6" category="paragraph">arc-user 和 arc-password 与您在归档节点上定义的客户端节点名称和密码相同，并且 MAXNUMMP 的值设置为为归档节点存储会话预留的磁带驱动器数量。</block>
  <block id="0117024d0f6afabe979ecd810c0d82f1" category="admonition">默认情况下，注册节点会创建一个由客户端所有者授权的管理用户 ID ，并为此节点定义密码。</block>
  <block id="a68405b318674a8c4601593199199de3" category="summary">如果您是网格管理器的本地用户，则可以更改自己的密码。</block>
  <block id="147debe5b0bc2a6a8819aba5c0fba902" category="doc">更改密码</block>
  <block id="cfef372599a933fc62e8691b7d07e20e" category="paragraph">如果您以联合用户身份登录到 StorageGRID 或启用了单点登录（ Single Sign-On ， SSO ），则无法在网格管理器中更改密码。而是必须更改外部身份源中的密码，例如 Active Directory 或 OpenLDAP 。</block>
  <block id="d199d96d070aa43307e1251f6427f53e" category="list-text">从网格管理器标题中，选择 * 。您的姓名 _* &gt; * 更改密码 * 。</block>
  <block id="d33329ec0c775d62b858bf4db5084a69" category="list-text">输入当前密码。</block>
  <block id="ec1f97c5d765714d2fe6dbcf642485fa" category="list-text">键入新密码。</block>
  <block id="beddd22a0099020e975ce0f599b763df" category="paragraph">您的密码必须至少包含 8 个字符，并且不能超过 32 个字符。密码区分大小写。</block>
  <block id="762ae44791b5a689d059551c640acb5c" category="list-text">重新输入新密码。</block>
  <block id="4c662485fa1a6afa7e6ef3223827e073" category="summary">您可以编辑租户帐户以更改显示名称，更改身份源设置，允许或禁止平台服务或输入存储配额。</block>
  <block id="a918a28d41e3e21c2637d4c809d57311" category="doc">编辑租户帐户</block>
  <block id="ccc85449fd5579bdff673616fba10561" category="paragraph">使用搜索框按名称或租户 ID 搜索租户帐户。</block>
  <block id="8ab48a006027c2c24d7e4325a3e23a76" category="list-text">从操作下拉列表中，选择 * 编辑 * 。</block>
  <block id="36a541b442834c50a0527800308389ae" category="paragraph">此示例适用于不使用单点登录（ SSO ）的网格。此租户帐户未配置其自己的身份源。</block>
  <block id="d2a627e559e118dd11629784b5a27063" category="image-alt">编辑租户帐户</block>
  <block id="053fc844347be57b49ac1cb8b390b10d" category="list-text">根据需要更改这些字段的值：</block>
  <block id="496ee322ba138fdbc777e5ab2e30145e" category="list-text">* 名称 *</block>
  <block id="f14c276c07197ebef1394a5a219087a1" category="list-text">* 问题描述 *</block>
  <block id="5a37e298656f85018194b68222c56b92" category="list-text">* 客户端类型 *</block>
  <block id="6eac059d809da70b66959d02c2b4752a" category="list-text">* 存储配额 *</block>
  <block id="20941ed0cb47ab74b4deb7769b8db655" category="list-text">选择或取消选择租户帐户的权限。</block>
  <block id="95a3bae4c3796bbb326cf13046615fde" category="list-text">如果对已在使用 * 平台服务 * 的租户禁用此服务，则其为 S3 分段配置的服务将停止工作。不会向租户发送任何错误消息。例如，如果租户已为 S3 存储分段配置了 CloudMirror 复制，则他们仍可将对象存储在存储分段中，但这些对象的副本将不再创建在已配置为端点的外部 S3 存储分段中。</block>
  <block id="9dc4e5bcdfab60d6c61ab59bef36cc7f" category="list-text">更改 * 使用自己的身份源 * 复选框的设置，以确定租户帐户是使用自己的身份源还是使用为网格管理器配置的身份源。</block>
  <block id="75a5e0ec8ab136d09d5709f9fc3c52e6" category="paragraph">如果 * 使用自己的身份源 * 复选框为：</block>
  <block id="59e3047bcdfb41536e626211da1b3546" category="list-text">已禁用并选中租户已启用其自己的身份源。租户必须先禁用其身份源，然后才能使用为网格管理器配置的身份源。</block>
  <block id="2d3da43dfff489cdfcece79d02baa455" category="list-text">已禁用并取消选中，已为 StorageGRID 系统启用 SSO 。租户必须使用为网格管理器配置的身份源。</block>
  <block id="f1b9cb246d38a668402ea0744e4060fa" category="list-text">根据需要启用或禁用 * S3 Select* 。请参见 <block ref="1f2a59188f9a1c0542c082f7da17bd95" category="inline-xref-macro-rx"></block>。</block>
  <block id="e3aa9adaf456fb9ffb49bbf49b3d5abc" category="summary">网格中的每个节点都有一个唯一的节点控制台密码，您需要使用该密码登录到该节点。按照以下步骤更改网格中每个节点的节点控制台密码。密码存储在恢复包中。</block>
  <block id="537823d7ad338a90fa12db48f71989ad" category="paragraph">网格中的每个节点都有一个唯一的节点控制台密码，您需要使用该密码登录到该节点。按照以下步骤更改网格中每个节点的每个唯一节点控制台密码。</block>
  <block id="ec533441bc76dde889d90e561ba9c2bb" category="paragraph">使用节点控制台密码以 "admin" 身份使用 SSH 登录到节点，或者以 VM/ 物理控制台连接上的 root 用户身份登录到节点。更改节点控制台密码过程会为网格中的每个节点创建新密码，并将这些密码存储在恢复包中更新的 `passwords.txt` 文件中。密码将在 Passwords.txt 文件的 Password 列中列出。</block>
  <block id="1e45b760438154a0d80cc5d4c520d219" category="admonition">用于节点间通信的 SSH 密钥具有单独的 SSH 访问密码。此操作步骤 不会更改 SSH 访问密码。</block>
  <block id="f6d71b9eb670ceb60627c69ff3f9d7be" category="list-text">选择 * 配置 * &gt; * 访问控制 * &gt; * 网格密码 * 。</block>
  <block id="1d189b59570ecc2aa4c689e3c82b267d" category="list-text">在 * 更改节点控制台密码 * 下选择 * 进行更改 * 。</block>
  <block id="2f763db727cb41e2687f7946a0eb3b42" category="section-title">输入配置密码短语</block>
  <block id="6917e8a926d686aed52bcb7f420ba4eb" category="list-text">输入配置密码短语。</block>
  <block id="107b78a87704cae1c9db79e7ec490ffe" category="image-alt">输入配置密码短语</block>
  <block id="2f6066b887b146427b3eed57ef0b8a45" category="section-title">下载当前的恢复包</block>
  <block id="473d28d243d77ec51cbb08ad8b1fb419" category="list-text">选择 * 下载恢复包 * 。</block>
  <block id="8e5662492f8a082ab8b0c0deb5708094" category="paragraph">如果任何节点的密码更改过程失败，您可以使用当前恢复包中的旧密码。</block>
  <block id="ef350f2504b22d90cbf473919e268cc4" category="image-alt">下载当前恢复软件包</block>
  <block id="f6078199d62dbf1366ae50831b237e35" category="list-text">将恢复软件包文件（ .zip ）复制到两个安全的单独位置。</block>
  <block id="3ba93710fdcf1dfeecf59e8bf1cd9033" category="list-text">选择 * 是 * 确认要更改节点控制台密码。</block>
  <block id="8039d5446b3d83387c1a75be204d2484" category="image-alt">开始更改密码</block>
  <block id="6fa983c60913761f4ab8947aeb1bc499" category="paragraph">如果选择 * 是 * ，则会使用新密码生成一个新的恢复包。使用新密码生成新的恢复包可能需要几分钟的时间。</block>
  <block id="6624846e48b98d4afd4afd0be9493ba8" category="paragraph">如果选择 * 取消 * ，则会返回到上一页。</block>
  <block id="4d6d71422f919494b0feee8e8a06c40c" category="list-text">选择 * 下载新恢复包 * 。</block>
  <block id="9ea06ac4728f54701347589a5b6adb1a" category="image-alt">下载新的恢复 package.png</block>
  <block id="5d31e5e0432e391e1037400a639cef9b" category="list-text">打开 .zip 文件。</block>
  <block id="c2118e6534954b16f0883b3ba1d9caef" category="list-text">提取 .zip 文件的内容。</block>
  <block id="45b0fd68ac0235f4f7b7e3a9fb4ed189" category="list-text">确认您可以打开 `passwords.txt` 文件，并且内容是可读的。</block>
  <block id="2f7908ff1bb7de6d0fab8b62ed9aa0fd" category="list-text">将新的恢复软件包文件（ .zip ）复制到两个安全，安全且独立的位置。</block>
  <block id="bb9e0c7404ec3ea419ff6eafa4b04d3a" category="admonition">请勿覆盖旧的恢复软件包。</block>
  <block id="a709d95d991e504d3551e26b593d6967" category="paragraph">您应只查看 `passwords.txt` 文件，或者如果无法查看，请先删除提取的 `passwords.txt` 文件，然后再将恢复软件包复制到两个单独的安全位置。恢复包文件必须受到保护，因为它包含可用于从 StorageGRID 系统获取数据的加密密钥和密码。</block>
  <block id="2e8486d672e4d8e915e25c656766dbd7" category="list-text">选中此复选框以指示您已下载新的恢复软件包并验证其内容。</block>
  <block id="5475e2e589511cd43acb330b6cddd8f9" category="list-text">选择 * 更改节点控制台密码 * 并等待所有节点密码更新。这可能需要几分钟时间。</block>
  <block id="a77cfb3ca589a8af2500b77ee633a8fb" category="paragraph">如果所有节点的密码均已更改，则会显示一个绿色的成功横幅。继续执行下一步。</block>
  <block id="44dce563712ee76f772ef65734ebc991" category="paragraph">如果更新过程中出现错误，则会显示一条横幅消息，列出无法更改密码的节点数。系统将在任何无法更改密码的节点上自动重试此过程。如果此过程结束时某些节点仍没有更改密码，则会显示 * 重试 * 按钮。</block>
  <block id="057bd6562ec89dc866c241a35947ca64" category="paragraph">如果一个或多个节点的密码更新失败：</block>
  <block id="137698b937424d5013aa898dcdd67145" category="list-text">查看表中列出的错误消息。</block>
  <block id="e90f2682b525f940395a61c0c5088b53" category="list-text">解决问题。</block>
  <block id="c9484d6b31ae236ffa6bc8f6ddaf3676" category="admonition">重试仅会更改先前尝试更改密码期间失败的节点上的节点控制台密码。</block>
  <block id="0b3a729926e88a69b60635ec02519cbd" category="list-text">更改所有节点的节点控制台密码后，删除旧的恢复软件包。</block>
  <block id="a68ab2d1eee623f87ef7a6f372d29733" category="list-text">或者，也可以使用 * 恢复软件包 * 链接下载新恢复软件包的其他副本。</block>
  <block id="cf896dab519393538f55d87285ee6573" category="summary">您可以将用户或组添加到与 AD 身份验证集成的 CIFS 审核共享。</block>
  <block id="5331bb440c21d7d8078de006902d4762" category="paragraph">以下操作步骤 适用于与 AD 身份验证集成的审核共享。</block>
  <block id="b3594441cbb03c0478e6b9dd4f8896b9" category="list-text">开始添加用户或组： `add-user-on-share`</block>
  <block id="0c344016cb5c2cd1e0e937410283f119" category="paragraph">此时将显示已配置的审核共享的编号列表。</block>
  <block id="a15fda1bc7bbc0a27215adc49756ff2b" category="list-text">出现提示时，输入审核共享（审核 - 导出）的编号： ` _audit_share_number_`</block>
  <block id="f4ce8de7459ac6e756a42094d991e65a" category="paragraph">系统会询问您是否要授予用户或组对此审核共享的访问权限。</block>
  <block id="c3fea64179d6cca0af84447f1fe6285e" category="list-text">出现提示时，添加用户或组： `user` 或 `group`</block>
  <block id="299aa4d0a37ecabec7e6c4ea49239126" category="list-text">当系统提示您输入此 AD 审核共享的用户或组名称时，请输入此名称。</block>
  <block id="bd91542a45270ea250f79bb02efda9a1" category="paragraph">此用户或组将作为审核共享的只读添加到服务器的操作系统和 CIFS 服务中。系统将重新加载 Samba 配置，以使用户或组能够访问审核客户端共享。</block>
  <block id="213d6e8a6de94a42d5b8bf9128a98ae5" category="list-text">对有权访问审核共享的每个用户或组重复上述步骤。</block>
  <block id="21f3932051df9094b07f6c7244864c0b" category="list-text">找不到 include 文件 /etc/samba/includes/cifs-interfaces.inc</block>
  <block id="870617808346b1727909aaf46ca2ac85" category="list-text">找不到 include 文件 /etc/samba/includes/cifs-filesystem.inc</block>
  <block id="f7268f3dbce9cbcb777f4328ba3e55f7" category="list-text">找不到 include 文件 /etc/samba/includes/cifs-custom-config.inc</block>
  <block id="f6e273b54693cbce175af9a77fd3df20" category="list-text">找不到 include 文件 /etc/samba/includes/cifs-shares.inc</block>
  <block id="78fc8fdb4ebb14c31b9725e7be116846" category="list-text">确定是否需要启用其他审核共享，如下所示：</block>
  <block id="a8569eb76e7da43624dd173b39844833" category="summary">如果您已配置并启用单点登录（ SSO ），并且使用 Active Directory 作为 SSO 提供程序，则必须对一系列 API 请求进行问题描述 处理，以获取对网格管理 API 或租户管理 API 有效的身份验证令牌。</block>
  <block id="61a525e4054c3ed8076190610eef2451" category="doc">如果启用了单点登录，请使用 API （ Active Directory ）</block>
  <block id="4473e8b1092b6c305a4d9faed40d3214" category="paragraph">如果您有 <block ref="b415b08aa57ee1251cae8ce7730dd2ae" category="inline-xref-macro-rx"></block> 如果您使用 Active Directory 作为 SSO 提供程序，则必须对一系列 API 请求进行问题描述 处理，以获取对网格管理 API 或租户管理 API 有效的身份验证令牌。</block>
  <block id="fb6be15b5e8d63d5866811553baa9b6f" category="paragraph">如果您使用 Active Directory 作为 SSO 身份提供程序，则以下说明适用。</block>
  <block id="f824afe69721690a2407462cada0d20a" category="list-text">SSO 方法。输入 ADFS 或 ADFS 。</block>
  <block id="1a382f3e3667928b4cb3193dc7122b30" category="list-text">安装 StorageGRID 的域</block>
  <block id="cdcad51ebb57b8d90f00a6a4f904a801" category="image-alt">适用于 AD FS 的 SSO 身份验证脚本</block>
  <block id="9e1854a0c6d1c3c5fd3ce48bcfdb8943" category="paragraph">此示例显示了 `TENANTACCOBTID` 的已签名身份验证 URL 的 POST 请求。结果将传递到 `python -m json.tool` 以删除 JSON 编码。</block>
  <block id="085ed16c2285901e6b0627feaec8a318" category="list-text">从 AD FS 获取包含客户端请求 ID 的完整 URL 。</block>
  <block id="a93c99126e0f6fdee6b6cb48ae0486bf" category="paragraph">一种方法是使用上一响应中的 URL 请求登录表单。</block>
  <block id="e9919cd915f48b79acceba403ee86223" category="paragraph">此响应包括客户端请求 ID ：</block>
  <block id="ef7907b0b46bc57f27fc5426aa40428a" category="list-text">保存响应中的客户端请求 ID 。</block>
  <block id="149dffddc6daf08a9f6114de1418359f" category="list-text">将您的凭据发送到上一响应中的表单操作。</block>
  <block id="01e60e254c2df3ec1c83f3d8308f20c9" category="paragraph">AD FS 返回 302 重定向，并在标题中显示追加信息 。</block>
  <block id="30353d1bbb7d7833d4c0d29c2d7b011f" category="admonition">如果为 SSO 系统启用了多因素身份验证（ MFA ），则此表单发布还将包含第二个密码或其他凭据。</block>
  <block id="708e617fb19c56d3111e93e7f3385b32" category="list-text">从响应中保存 `MSISAuth` cookie 。</block>
  <block id="1accb65b345433767165c1f5eef25bde" category="list-text">使用身份验证 POST 中的 Cookie 将 GET 请求发送到指定位置。</block>
  <block id="bf4fc96adafe76fade8274e17403f249" category="paragraph">响应标头将包含 AD FS 会话信息，以便日后注销时使用，而响应正文将 SAMLResponse 隐藏在一个格式的字段中。</block>
  <block id="c881e893ebd0cb88757d0b783b83277f" category="paragraph">如果已启用单点登录（ Single Sign-On ， SSO ），则必须对一系列 API 请求进行问题描述 ，才能注销网格管理 API 或租户管理 API 。如果您使用 Active Directory 作为 SSO 身份提供程序，则以下说明适用</block>
  <block id="6168138aa68cf9cc96bb19c94719c64e" category="summary">StorageGRID 系统支持使用 RSA 或 ECDSA （椭圆曲线数字签名算法）加密的服务器证书。</block>
  <block id="c4765f6b267fba40cf06437f5c30ffe3" category="doc">支持的服务器证书类型</block>
  <block id="c82096b3f0509c83daed088412536a9a" category="paragraph">StorageGRID 系统支持使用 RSA 或 ECDSA （椭圆曲线数字签名算法）加密的自定义证书。</block>
  <block id="f515f9f69da9422ad0ea172aeec065c8" category="paragraph">有关 StorageGRID 如何为 REST API 保护客户端连接的详细信息，请参见 <block ref="cb9b6c6687eb7e9e4247c9c2fba460a9" category="inline-xref-macro-rx"></block> 或 <block ref="d58c67d46a026d8270f33eafb853581f" category="inline-xref-macro-rx"></block>。</block>
  <block id="590931d0bf98d341c227418270f4e606" category="summary">在归档节点能够与 Tivoli Storage Manager （ TSM\ ）中间件进行通信之前，您必须配置多项设置。</block>
  <block id="b7099a184f1aa28d92e422d484ab170a" category="doc">配置与 TSM 中间件的连接</block>
  <block id="da76f0ea78fe779d9380ef7bc032a641" category="paragraph">在归档节点能够与 Tivoli Storage Manager （ TSM ）中间件进行通信之前，您必须配置多项设置。</block>
  <block id="179ca4666c713f168012021ee6b5700c" category="paragraph">在配置这些设置之前，由于无法与 Tivoli Storage Manager 进行通信，因此，此 ARC-Service 仍会处于主要警报状态。</block>
  <block id="e53ec3f11637ee17316d8806b2c01b17" category="image-alt">目标 TSM 帐户</block>
  <block id="3c3bf4d32ccfb8a2d5948d49a753a972" category="list-text">从 * 目标类型 * 下拉列表中，选择 * Tivoli Storage Manager （ TSM ） * 。</block>
  <block id="114f48ab035e7da3c398eec244e86669" category="list-text">对于 * Tivoli Storage Manager State* ，请选择 * 脱机 * 以防止从 TSM 中间件服务器进行检索。</block>
  <block id="898f3e208598ca84f281cf48029551c5" category="paragraph">默认情况下， Tivoli Storage Manager 状态设置为联机，这意味着归档节点能够从 TSM 中间件服务器检索对象数据。</block>
  <block id="ab449cac7e90008bd2829e84826c88f3" category="list-text">填写以下信息：</block>
  <block id="10fa4089d071d79c08180e47d49904c7" category="list-text">* 服务器 IP 或主机名 * ：指定用于此 ART 服务的 TSM 中间件服务器的 IP 地址或完全限定域名。默认 IP 地址为 127.0.0.1 。</block>
  <block id="d9647bf0d487a6702adc9afe0adcecef" category="list-text">* 服务器端口 * ：指定此 ARE 服务将连接到的 TSM 中间件服务器上的端口号。默认值为 1500 。</block>
  <block id="fd4c1721a5b6ae65016bab6b0f609b37" category="list-text">* 节点名称 * ：指定归档节点的名称。您必须输入在 TSM 中间件服务器上注册的名称（ arc‐user ）。</block>
  <block id="5d2178db1553d80fb66d6bd048c5fc59" category="list-text">* 用户名 * ：指定应用程序中心服务用于登录到 TSM 服务器的用户名。输入为归档节点指定的默认用户名（ arc‐user ）或管理用户。</block>
  <block id="20f49e083fd4e6bd8adecdfc8db3c015" category="list-text">* 密码 * ：指定用于登录到 TSM 服务器的应用程序服务的密码。</block>
  <block id="d17f9d4404bd1dad31d79ad88556d93e" category="list-text">* 管理类 * ：指定在将对象保存到 StorageGRID 系统时未指定管理类或在 TSM 中间件服务器上未定义指定管理类时要使用的默认管理类。</block>
  <block id="2671ba24fd30147e22cbee0c3e9cbbba" category="list-text">* 会话数 * ：指定 TSM 中间件服务器上专用于归档节点的磁带驱动器数量。归档节点会同时为每个挂载点最多创建一个会话，并另外创建少量会话（少于五个）。</block>
  <block id="beaf81a9f56593b5e360fee91527c6b9" category="paragraph">您必须将此值更改为与注册或更新归档节点时为 MAXNUMMP （最大挂载点数）设置的值相同。（在 register 命令中，如果未设置任何值，则使用的 MAXNUMMP 默认值为 1 。）</block>
  <block id="0d063466414e282a69461d6459ad2411" category="paragraph">此外，您还必须将 TSM 服务器的 MaxSessions 值更改为至少与为该应用程序服务设置的会话数相同的数字。TSM 服务器上的 MaxSessions 默认值为 25 。</block>
  <block id="617f0e6964b977c2448d076ccd6ff39b" category="list-text">* 最大检索会话数 * ：指定可由应用程序控制的服务为 TSM 中间件服务器打开以执行检索操作的最大会话数。在大多数情况下，适当的值为会话数减去最大存储会话数。如果需要共享一个磁带驱动器以进行存储和检索，请指定一个等于会话数的值。</block>
  <block id="efd75d883ad661a184a55e4fc8b8659d" category="list-text">* 最大存储会话数 * ：指定可通过应用程序中心服务打开到 TSM 中间件服务器进行归档操作的最大并发会话数。</block>
  <block id="c801dbdd9cf65bb0938f14a5157bf858" category="paragraph">此值应设置为 1 ，但目标归档存储系统已满且只能执行检索时除外。将此值设置为零可使用所有会话进行检索。</block>
  <block id="cdb50e8aca84fb08ba20d55dd04b632f" category="summary">要支持 S3 虚拟托管模式请求，您必须使用网格管理器配置 S3 客户端连接到的端点域名列表。</block>
  <block id="c01d455f233ef69d80947acc5525912b" category="list-text">您已确认网格升级未在进行中。</block>
  <block id="12b18513b74da03ce02368e1dc6982de" category="admonition">在进行网格升级时，请勿对域名配置进行任何更改。</block>
  <block id="241437df1d77d87d46c4a0999b37f1ad" category="paragraph">要使客户端能够使用 S3 端点域名，您必须执行以下所有操作：</block>
  <block id="4136af2cb7f93a4ff75dec2a45982636" category="paragraph">例如，如果端点为 `s3.company.com` ，则必须确保用于 HTTPS 连接的证书包含 `s3.company.com` 端点和端点的通配符使用者备用名称（ SAN ）： ` * .s3.company.com` 。</block>
  <block id="d5fddd4783a8ddc7e6c9667493e5b4f2" category="list-text">配置客户端使用的 DNS 服务器。为客户端用于建立连接的 IP 地址提供 DNS 记录，并确保这些记录引用所有必需的端点域名，包括任何通配符名称。</block>
  <block id="9a3ef2a36747f14faf6f104173b17601" category="admonition">客户端可以使用网关节点，管理节点或存储节点的 IP 地址或连接到高可用性组的虚拟 IP 地址连接到 StorageGRID 。您应了解客户端应用程序如何连接到网格，以便在 DNS 记录中包含正确的 IP 地址。</block>
  <block id="2ab81a8072da7a25c19f6517d9a6befd" category="paragraph">使用 HTTPS 连接（建议）连接到网格的客户端可以使用以下任一证书：</block>
  <block id="4b5631bcef8b8b4eb7dbbf603d519c42" category="list-text">连接到负载平衡器端点的客户端可以对该端点使用自定义证书。可以对每个负载平衡器端点进行配置，以识别不同的端点域名。</block>
  <block id="1394ce43385eab341366b625e4baff80" category="list-text">如果客户端连接到负载平衡器端点，直接连接到存储节点或直接连接到网关节点上已弃用的 CLB 服务，则可以自定义全局 S3 和 Swift API 证书，以包含所有必需的端点域名。</block>
  <block id="73b2e0801e615946efa17e85a8e2dfe3" category="list-text">选择 * 配置 * &gt; * 网络 * &gt; * 域名 * 。</block>
  <block id="d12a7efb8052f47c6df1aed883473354" category="paragraph">此时将显示 Endpoint Domain Names 页面。</block>
  <block id="db6765fc5556e4dbf20928f1260fddba" category="image-alt">端点域名对话框的屏幕截图</block>
  <block id="f03f2c030f192de0e0ff660309d59036" category="list-text">在 * 端点 * 字段中输入 S3 API 端点域名列表。使用 <block ref="de45d5a1074dfd2367c901cbe583afdf" category="inline-image-macro-rx" type="image"></block> 图标以添加其他字段。</block>
  <block id="7a6ed205e412cdfb5d516b13a3bd299c" category="paragraph">如果此列表为空，则会禁用对 S3 虚拟托管模式请求的支持。</block>
  <block id="4acb24e872938acb23265bcf5536d54e" category="list-text">确保客户端使用的服务器证书与所需的端点域名匹配。</block>
  <block id="5be2324d1b668b75244863a665372527" category="list-text">如果客户端连接到使用自己证书的负载平衡器端点，请更新与此端点关联的证书。</block>
  <block id="502811e3524d0ea84229441c199094d9" category="list-text">如果客户端连接到使用全局 S3 和 Swift API 证书的负载平衡器端点，直接连接到存储节点或网关节点上的 CLB 服务，请更新全局 S3 和 Swift API 证书。</block>
  <block id="0070a75b039fa4f92dc9e8187755cf2e" category="list-text">添加所需的 DNS 记录，以确保可以解决端点域名请求。</block>
  <block id="f0115afdaa9527cf8f4243fb174a61fc" category="paragraph">现在，当客户端使用端点 `bucket.s3.company.com` 时， DNS 服务器会解析到正确的端点，并且证书会按预期对端点进行身份验证。</block>
  <block id="cbf5fb0b5b9c9b6b8130f697a55282c3" category="list-text"><block ref="cbf5fb0b5b9c9b6b8130f697a55282c3" category="inline-xref-macro-rx"></block></block>
  <block id="8fdcd668e832ec9af2aff0f5079ab6dc" category="list-text"><block ref="8fdcd668e832ec9af2aff0f5079ab6dc" category="inline-xref-macro-rx"></block></block>
  <block id="25878dc791bfd039182405b7d87026e0" category="list-text"><block ref="25878dc791bfd039182405b7d87026e0" category="inline-xref-macro-rx"></block></block>
  <block id="10fed9fcd2a396a98c4833b32abafa30" category="summary">配置审核共享并添加 NFS 审核客户端后，您可以挂载审核客户端共享并验证这些文件是否可从审核共享访问。</block>
  <block id="f635df655c72b1fa4e28b2edb6a74f4c" category="doc">验证 NFS 审核集成</block>
  <block id="8fa2044c85fcf1bdfbf4280fdd50a52a" category="list-text">使用托管 AMS 服务的管理节点的客户端 IP 地址验证连接（或客户端系统的变体）。输入： `ping ip_address`</block>
  <block id="cc048b1b61cff14fa3a67f5d6883a9fb" category="paragraph">验证服务器是否响应，指示连接。</block>
  <block id="6cf01b3b77cf8b43444783d7a5d2f210" category="list-text">使用适用于客户端操作系统的命令挂载审核只读共享。Linux 命令示例为（在一行中输入）：</block>
  <block id="4a4887a3ef2c463ae5443c49776902f4" category="paragraph">`mount -t nfs -o hard ， intr _Admin_Node_ip_address_ ： /var/local/audit/export _myAudit _`</block>
  <block id="a163cfd90d5e5f5d6da9cc811860e94e" category="paragraph">使用托管 AMS 服务的管理节点的 IP 地址以及审核系统的预定义共享名称。挂载点可以是客户端选择的任何名称（例如，在上一个命令中为 ` myAudit _` ）。</block>
  <block id="0c3e00169d3ec7a41d5ec41b7c91b882" category="list-text">验证这些文件是否可从审核共享访问。输入： `ls _myAudit _/*`</block>
  <block id="baaba6b71b524a8360399596c298e1df" category="paragraph">其中， ` myAudit _` 是审核共享的挂载点。应至少列出一个日志文件。</block>
  <block id="0a4025dadcb0accada75337dee983829" category="summary">在一个管理节点上确认警报时，已确认的警报不会复制到任何其他管理节点。由于确认不会复制到其他管理节点，因此对于每个管理节点，网格拓扑树可能看起来不同。</block>
  <block id="e6085475198e0455d9c057d407cc9436" category="doc">管理节点如何显示已确认的警报（旧系统）</block>
  <block id="efbf4762fb4f93a3f4de8bc488bb5412" category="paragraph">在连接 Web 客户端时，这种差异非常有用。根据管理员的需求， Web 客户端可以具有不同的 StorageGRID 系统视图。</block>
  <block id="9345dd99ad1eddf8be4216c09915c3bb" category="image-alt">多个管理节点和警报确认</block>
  <block id="425d6023d037bb9d1f225237bb42c3b2" category="paragraph">请注意，通知是从发生确认的管理节点发送的。</block>
  <block id="4896b02d5c5be316bb980ed9a413ebe5" category="summary">StorageGRID 系统的 ILM 策略可确定创建的副本数，副本存储到的位置以及这些副本的保留时间。ILM 策略由一组 ILM 规则组成，这些规则介绍如何筛选对象以及如何随着时间的推移管理对象数据。</block>
  <block id="1ab46d98d9bbd3d4b5539a3dcd8fd264" category="doc">确定已迁移数据的 ILM 策略</block>
  <block id="be955aad64c95283a151dbf75e6f99f0" category="paragraph">StorageGRID 系统的 ILM 策略可确定创建的副本数，副本存储到的位置以及这些副本的保留时间。ILM 策略由一组 ILM 规则组成，这些规则介绍如何筛选对象以及如何随着时间的推移管理对象数据。</block>
  <block id="aa35f7ad83a1eaf1791f39e0bb9ba338" category="paragraph">根据迁移数据的使用方式以及迁移数据的要求，您可能需要为迁移的数据定义与日常操作所使用的 ILM 规则不同的唯一 ILM 规则。例如，如果日常数据管理的法规要求与迁移中包含的数据的法规要求不同，则您可能需要在不同级别的存储上为迁移的数据创建不同数量的副本。</block>
  <block id="ad38d27efa3487d2fa8dae3510610415" category="paragraph">如果可以唯一区分已迁移数据和通过日常操作保存的对象数据，则可以配置专用于已迁移数据的规则。</block>
  <block id="816c54a34b072d7ec2e43d15680a5121" category="paragraph">如果您可以使用元数据条件之一可靠地区分数据类型，则可以使用此条件定义仅适用于已迁移数据的 ILM 规则。</block>
  <block id="3fe313a03e3b526ab83d6ba0453602d4" category="paragraph">在开始数据迁移之前，请确保您了解 StorageGRID 系统的 ILM 策略及其如何应用于迁移的数据，并且已对 ILM 策略进行了更改并进行了测试。请参见 <block ref="5143f9b7656d191fdc2d9db2e1591b49" category="inline-xref-macro-rx"></block>。</block>
  <block id="53b8fbc7fcc8ec4010b943a02b3ba494" category="admonition">如果未正确指定 ILM 策略发生原因 ，则可能会导致无法恢复的数据丢失。在激活 ILM 策略之前，请仔细查看对该策略所做的所有更改，以确保该策略按预期运行。</block>
  <block id="bc422c4695a96065ed42ccd5b36faca5" category="summary">启用单点登录（ SSO ）后，只有在用户凭据通过贵组织实施的 SSO 登录过程获得授权的情况下，用户才能访问网格管理器，租户管理器，网格管理 API 或租户管理 API 。本地用户无法登录到 StorageGRID 。</block>
  <block id="d1a7d10f91a6ae50585bda43cd1444ca" category="paragraph">启用单点登录（ SSO ）后，只有在用户凭据通过贵组织实施的 SSO 登录过程获得授权的情况下，用户才能访问网格管理器，租户管理器，网格管理 API 或租户管理 API 。本地用户无法登录到 StorageGRID 。</block>
  <block id="e280967bfb2aaa1dffdf83e675859a72" category="section-title">单点登录的工作原理</block>
  <block id="694582d920071d22a8641df643443b4e" category="paragraph">StorageGRID 系统支持使用安全断言标记语言 2.0 （ SAML 2.0 ）标准的单点登录（ SSO ）。</block>
  <block id="78313dc90614093a5587be65376d47d9" category="paragraph">在启用单点登录（ SSO ）之前，请查看启用 SSO 后 StorageGRID 登录和注销过程会受到什么影响。</block>
  <block id="88e4d924103f4a2d6f2006b141b42317" category="section-title">启用 SSO 后登录</block>
  <block id="cdffc985aea03277b186ca61ed85c02e" category="paragraph">启用 SSO 并登录到 StorageGRID 后，系统会将您重定向到组织的 SSO 页面以验证您的凭据。</block>
  <block id="7feeb1827745ac0a29f8dd7dab1fbbaa" category="list-text">在 Web 浏览器中输入任何 StorageGRID 管理节点的完全限定域名或 IP 地址。</block>
  <block id="73a00ffc0107f9dad97805860683ca96" category="paragraph">此时将显示 StorageGRID 登录页面。</block>
  <block id="73f21e527df2f17f1b76eb3d06973d70" category="list-text">如果这是您首次在此浏览器上访问此 URL ，系统将提示您输入帐户 ID ：</block>
  <block id="19616ac3d5b06663619a84c04f444b11" category="image-alt">首次登录时启用 SSO</block>
  <block id="4e982bbf1b4892d23257ed7ff8c3a66b" category="list-text">如果您之前访问过网格管理器或租户管理器，系统将提示您选择最近的帐户或输入帐户 ID ：</block>
  <block id="8bfaeb927696d45fd5645c0f2729dd17" category="image-alt">启用 StorageGRID 时登录页面</block>
  <block id="cb4771c6b074c360d155cf3308fdb646" category="inline-xref">使用您的 SSO 凭据登录</block>
  <block id="5b41c7ffe89180bdbc2168994a539150" category="admonition">输入租户帐户的完整 URL （即，完全限定域名或 IP 地址后跟 ` / ？ AccountID=_20-Digit-account-id_` ）时，不会显示 StorageGRID 登录页面。而是会立即重定向到您所在组织的 SSO 登录页面，您可以在该页面上进行登录 <block ref="6bad16c07ef1c40d832d34bde80b4a74" category="inline-xref-macro-rx"></block>。</block>
  <block id="c6ab54c6b2639aa5bf41140e9a356ca1" category="list-text">指示您是要访问网格管理器还是租户管理器：</block>
  <block id="652ead8612948867756efec97a6948bf" category="list-text">要访问网格管理器，请将 * 帐户 ID* 字段留空，输入 * 0 * 作为帐户 ID ，或者选择 * 网格管理器 * （如果它显示在近期帐户列表中）。</block>
  <block id="439e828f1932c57305cfac481b332eaa" category="list-text">要访问租户管理器，请输入 20 位租户帐户 ID ，或者如果某个租户显示在近期帐户列表中，则按名称选择此租户。</block>
  <block id="a3f188433a4d4de6b26f77a818628f5e" category="list-text">选择 * 登录 *</block>
  <block id="88e05921033d7ce3a9fbbb5aac315f80" category="paragraph">StorageGRID 会将您重定向到贵组织的 SSO 登录页面。例如：</block>
  <block id="51a348a68be7b566d005ae6c0c6990f3" category="image-alt">SSO 的示例组织登录页面</block>
  <block id="edfdca349a78e7d608f4b80320543f7c" category="list-text">【签名 _sso]] 使用您的 SSO 凭据登录。</block>
  <block id="9b778cc00f470143c0cb2ac36342311e" category="paragraph">如果您的 SSO 凭据正确：</block>
  <block id="8a7d938640c5a322b151794312318701" category="list-text">身份提供程序（ IdP ）为 StorageGRID 提供身份验证响应。</block>
  <block id="843ffd87a734ddb86493352a46af309b" category="list-text">StorageGRID 将验证身份验证响应。</block>
  <block id="7bcf80b0e3bb0def625d8b569b0a99ad" category="list-text">如果响应有效，并且您属于具有 StorageGRID 访问权限的联合组，则您将登录到网格管理器或租户管理器，具体取决于您选择的帐户。</block>
  <block id="dd9b3b105ea337ebfa78fcb14ce71512" category="admonition">如果此服务帐户不可访问，则只要您是具有 StorageGRID 访问权限的联合组的现有用户，您仍可登录。</block>
  <block id="1c132065aa9be78185041b361d67d436" category="list-text">或者，如果您拥有足够的权限，也可以访问其他管理节点，或者访问网格管理器或租户管理器。</block>
  <block id="061e5e71da2f3e2e92ed63c34fb3deef" category="paragraph">您无需重新输入 SSO 凭据。</block>
  <block id="6c288657313b6682a0fe195eacaebb70" category="section-title">启用 SSO 后注销</block>
  <block id="4a9b43902534abba2f82dc302d837cc0" category="paragraph">为 StorageGRID 启用 SSO 后，注销时会发生什么情况取决于您登录到的内容以及注销的位置。</block>
  <block id="7ddf55ee19ce5a9cf8437f52370f3e1a" category="list-text">找到用户界面右上角的 * 注销 * 链接。</block>
  <block id="d5d8810cb27032bce42513e5ecf1465f" category="list-text">选择 * 注销 * 。</block>
  <block id="a51fa73b55d472239233e60c350ce301" category="paragraph">此时将显示 StorageGRID 登录页面。更新了 * 近期帐户 * 下拉列表，其中包含 * 网格管理器 * 或租户名称，以便您将来可以更快地访问这些用户界面。</block>
  <block id="d6c0d5e86c09a21a9c158f77994bbaf1" category="cell">如果您已登录到 ...</block>
  <block id="cb403a64d5c5e5f58512ae400ed192ce" category="cell">您可以从以下位置注销 ...</block>
  <block id="ca79685142ab20abddb5b8e4ade563bd" category="cell">您已注销 ...</block>
  <block id="8ddeaca11fcb1ad4a0b651d40a18d786" category="paragraph">一个或多个管理节点上的网格管理器</block>
  <block id="5cfbed97d1b1f7fb00c11270bee0959e" category="paragraph">任何管理节点上的网格管理器</block>
  <block id="3a710223674391400b8283bf6b1b7652" category="paragraph">所有管理节点上的网格管理器</block>
  <block id="dead3567c86a77398debf542792744ba" category="paragraph">* 注意： * 如果您使用 Azure 进行 SSO ，则从所有管理节点中注销可能需要几分钟的时间。</block>
  <block id="1494d378ba15d17b8f7c0836013eee23" category="paragraph">一个或多个管理节点上的租户管理器</block>
  <block id="654f8231aa47a1625880594f79db86d3" category="paragraph">任何管理节点上的租户管理器</block>
  <block id="96a523cd52dddc6d1dc99e4e949cc70a" category="paragraph">所有管理节点上的租户管理器</block>
  <block id="ad6409375cc25881d815a928f48ac306" category="paragraph">网格管理器和租户管理器</block>
  <block id="a086d1a282792886e7157ac7dabb09e4" category="paragraph">仅限网格管理器。您还必须注销租户管理器才能注销 SSO 。</block>
  <block id="62216816847580cd6a7386f6b90cbf62" category="paragraph">租户管理器</block>
  <block id="0572aa73dacbd2009b336b779b070b4c" category="paragraph">仅适用于租户管理器。您还必须注销 Grid Manager 才能注销 SSO 。</block>
  <block id="cfd2e83280a569836e9b279d20f616b6" category="admonition">下表总结了在使用单个浏览器会话时注销时会发生的情况。如果您通过多个浏览器会话登录到 StorageGRID ，则必须单独注销所有浏览器会话。</block>
  <block id="c91b60a8cae554e45f84aa62c9c41e60" category="summary">安全证书是一个小型数据文件，用于在 StorageGRID 组件之间以及 StorageGRID 组件与外部系统之间创建安全可信的连接。</block>
  <block id="c744755b5d22e431fc75b3b678dc9af9" category="paragraph">StorageGRID 使用两种类型的安全证书：</block>
  <block id="36e5dcde91eae1ab0df70238a780197d" category="list-text">使用 HTTPS 连接时需要 * 服务器证书 * 。服务器证书用于在客户端和服务器之间建立安全连接，向客户端验证服务器的身份并为数据提供安全通信路径。服务器和客户端都有一个证书副本。</block>
  <block id="87898b63186862f4a63b965756416a08" category="list-text">* 客户端证书 * 可对服务器的客户端或用户身份进行身份验证，从而提供比单独使用密码更安全的身份验证。客户端证书不会对数据进行加密。</block>
  <block id="298a39f6a080e205675c5fa833acae12" category="paragraph">当客户端使用 HTTPS 连接到服务器时，服务器会使用包含公有 密钥的服务器证书进行响应。客户端通过将服务器签名与其证书副本上的签名进行比较来验证此证书。如果签名匹配，则客户端将使用相同的公有 密钥启动与服务器的会话。</block>
  <block id="dd6e157369d15d431438f00f3d470d8c" category="paragraph">StorageGRID 用作某些连接的服务器（例如负载平衡器端点）或其他连接的客户端（例如 CloudMirror 复制服务）。</block>
  <block id="dba15a8b6a540cc9d1a2c95d72cbc13d" category="paragraph">* 默认网格 CA 证书 *</block>
  <block id="03cef9aecf942c2bbc500ae3a21172d9" category="paragraph">StorageGRID 包含一个内置证书颁发机构（ Certificate Authority ， CA ），可在系统安装期间生成内部网格 CA 证书。默认情况下，使用网格 CA 证书保护内部 StorageGRID 流量。外部证书颁发机构（ CA ）可以对完全符合组织信息安全策略的自定义证书进行问题描述 。虽然您可以在非生产环境中使用网格 CA 证书，但在生产环境中，最佳做法是使用由外部证书颁发机构签名的自定义证书。此外，还支持无证书的不安全连接，但不建议这样做。</block>
  <block id="e137fc4936986a46485c031db67a64b2" category="list-text">自定义 CA 证书不会删除内部证书；但是，自定义证书应是为验证服务器连接而指定的证书。</block>
  <block id="ea1d578041a16803aa9d8483735ea872" category="inline-xref-macro">系统强化准则</block>
  <block id="83b1e242bbf0e85756530083f093e58a" category="list-text">所有自定义证书都必须满足 <block ref="444aca6b2a850bf00e3549f91ed8e621" category="inline-xref-macro-rx"></block> 服务器证书。</block>
  <block id="710dc19970ee91683a618795e7f09616" category="list-text">StorageGRID 支持将 CA 中的证书捆绑到一个文件中（称为 CA 证书包）。</block>
  <block id="92d2262af7ccd5167782ebe15f056a0e" category="admonition">StorageGRID 还包括在所有网格上相同的操作系统 CA 证书。在生产环境中，请确保指定一个由外部证书颁发机构签名的自定义证书，以替代操作系统 CA 证书。</block>
  <block id="b1da97918730e69834d12c06e4672a39" category="paragraph">服务器和客户端证书类型的变体通过多种方式实现。在配置系统之前，您应准备好特定 StorageGRID 配置所需的所有证书。</block>
  <block id="51df8783db8384f5d554723f8d281bc3" category="section-title">访问安全证书</block>
  <block id="6e897c979ee8995c96ef48c4b0a382f4" category="paragraph">您可以在一个位置访问有关所有 StorageGRID 证书的信息，以及指向每个证书的配置工作流的链接。</block>
  <block id="d12f701351a18a92225ab56b8e723c7b" category="list-text">在 Grid Manager 中，选择 * 配置 * &gt; * 安全性 * &gt; * 证书 * 。</block>
  <block id="8c0175488dc0c173ff4d7ce950f2b1fc" category="image-alt">证书页面</block>
  <block id="8bf4fe525285f87cee4d982e1f72f950" category="list-text">在证书页面上选择一个选项卡，以获取有关每个证书类别的信息并访问证书设置。只有在拥有相应权限的情况下，才能访问选项卡。</block>
  <block id="a8f9f4a29bae344cb0b178c7d24cc6a2" category="list-text">* 全局 * ：确保从 Web 浏览器和外部 API 客户端访问 StorageGRID 的安全。</block>
  <block id="7e579e0c6cb9af510926e80751fec693" category="list-text">* 网格 CA* ：保护内部 StorageGRID 流量的安全。</block>
  <block id="e8b2b44dccaa83d31f2f382072b218a3" category="list-text">* 客户端 * ：保护外部客户端与 StorageGRID Prometheus 数据库之间的连接。</block>
  <block id="5b6c3dc3285adfa0608a755db57cdcdc" category="list-text">* 负载平衡器端点 * ：确保 S3 和 Swift 客户端与 StorageGRID 负载平衡器之间的连接安全。</block>
  <block id="87fc22769dece3ca9cba52e6febcdc4e" category="list-text">* 租户 * ：保护与身份联合服务器或从平台服务端点到 S3 存储资源的连接。</block>
  <block id="6962fe920a5b785a28145458505230e3" category="list-text">* 其他 * ：保护需要特定证书的 StorageGRID 连接。</block>
  <block id="9af6ff87603646078ce0f207ca457cfb" category="paragraph">下面介绍了每个选项卡，并提供了指向其他证书详细信息的链接。</block>
  <block id="4cc6684df7b4a92b1dec6fce3264fac8" category="open-title">全局</block>
  <block id="36c84b89edfa5594bbfa54abebbcd194" category="paragraph">这些全局证书可确保从 Web 浏览器以及外部 S3 和 Swift API 客户端访问 StorageGRID 的安全。在安装期间， StorageGRID 证书颁发机构最初会生成两个全局证书。生产环境的最佳实践是使用由外部证书颁发机构签名的自定义证书。</block>
  <block id="0764576648183cf8a81c0dbaa441e4e8" category="list-text"><block ref="c12c1968f763f7ecbc0d387fc5e5f6a8" category="inline-xref-macro-rx"></block>：确保客户端 Web 浏览器与 StorageGRID 管理界面的连接安全。</block>
  <block id="0af56841df12633b356775b5aeb8c54d" category="list-text"><block ref="55e107653610698f9bf3dbc39400a1c6" category="inline-xref-macro-rx"></block>：保护与存储节点，管理节点和网关节点的客户端 API 连接的安全， S3 和 Swift 客户端应用程序使用这些连接上传和下载对象数据。</block>
  <block id="31212d9a7a2cd0e4b93f0d14ac862300" category="paragraph">有关已安装的全局证书的信息包括：</block>
  <block id="87555ed97620fd0742e607d3fa14c994" category="list-text">* 名称 * ：证书名称，其中包含用于管理证书的链接。</block>
  <block id="a4e4026a8f55605b7e21511d5c2869b5" category="list-text">* 类型 * ：自定义或默认。+ 为了提高网格安全性，您应始终使用自定义证书。</block>
  <block id="11b18f312d4fa04991bd7b303344dd82" category="list-text">* 到期日期 * ：如果使用默认证书，则不会显示到期日期。</block>
  <block id="1584bc99de89b8a234026a25bf2d5c25" category="list-text">将默认证书替换为由外部证书颁发机构签名的自定义证书，以提高网格安全性：</block>
  <block id="8ab0214282b8eadfec9b7d9a4e84bb0c" category="inline-xref-macro">替换由 StorageGRID 生成的默认管理接口证书</block>
  <block id="e775f227ced5725f782a1596c527d2c5" category="list-text"><block ref="0e1a1360de987556e5769ec0416a155c" category="inline-xref-macro-rx"></block> 用于网格管理器和租户管理器连接。</block>
  <block id="f02f55067542c3e159560f34f8e192b5" category="inline-xref-macro">替换 S3 和 Swift API 证书</block>
  <block id="31f88403ab865e740e4342b9eef76775" category="list-text"><block ref="fbdbd5ea34c641f04c71dd42b1f0dac2" category="inline-xref-macro-rx"></block> 用于存储节点， CLB 服务（已弃用）和负载平衡器端点（可选）连接。</block>
  <block id="2f3ca2ef66ff811514ca4b214a6ae938" category="inline-xref-macro">还原默认管理接口证书。</block>
  <block id="147184fd120137ea0df7c478994c17a9" category="list-text"><block ref="147184fd120137ea0df7c478994c17a9" category="inline-xref-macro-rx"></block></block>
  <block id="9ab6b867ab603c941d5bb10a152ffba6" category="inline-xref-macro">还原默认 S3 和 Swift API 证书。</block>
  <block id="53499aa522b0afd5b55a2d241b06be0e" category="list-text"><block ref="53499aa522b0afd5b55a2d241b06be0e" category="inline-xref-macro-rx"></block></block>
  <block id="f4125afb70a1c0620a687e8ec720da4b" category="inline-xref-macro">使用脚本生成新的自签名管理接口证书。</block>
  <block id="7f6c16a5220811316357722b205b978f" category="list-text"><block ref="7f6c16a5220811316357722b205b978f" category="inline-xref-macro-rx"></block></block>
  <block id="c5d012a0ec19912ba5655c0dc23194dd" category="inline-xref-macro">管理接口证书</block>
  <block id="78a60bc985943e61c7c28a79f53f5e6f" category="inline-xref-macro">S3 和 Swift API 证书</block>
  <block id="e23e6bb66bbdd555d8ff334e509f8d1e" category="list-text">复制或下载 <block ref="a2e8331342588b47db5e09cb746960fc" category="inline-xref-macro-rx"></block> 或 <block ref="50df217934ba64beb0d703d84bd7d018" category="inline-xref-macro-rx"></block>。</block>
  <block id="441afc48cd6900c0fde9df58a7de1edd" category="open-title">网格 CA</block>
  <block id="f0030c8742d2d047ed038bc460a3120b" category="inline-xref">网格 CA 证书</block>
  <block id="08f045a6233bf692ce4c6fb059205e2a" category="paragraph">。 <block ref="17e981467873ce837f1a4419ce3da918" category="inline-xref-macro-rx"></block>由 StorageGRID 证书颁发机构在 StorageGRID 安装期间生成，可保护所有内部 StorageGRID 流量。</block>
  <block id="bf3e335de2ce26190d1bb680a5a9a830" category="paragraph">证书信息包括证书到期日期和证书内容。</block>
  <block id="24b532e04f2600b7c2e900a23fbf9944" category="inline-xref-macro">复制或下载网格 CA 证书</block>
  <block id="1118cd7832ef192e1bb83dbf0f4fa0ca" category="paragraph">您可以 <block ref="f5bb53e54356f4b94128ba20810e0faf" category="inline-xref-macro-rx"></block>，但您无法更改它。</block>
  <block id="ec73409e0a5e11ff748119680cf80c5f" category="inline-xref">客户端证书</block>
  <block id="b6008d76f92037dea4d9d28b70458722" category="paragraph"><block ref="98d7725f713ed735c17e0abecd50a52e" category="inline-xref-macro-rx"></block>由外部证书颁发机构生成，用于保护外部监控工具与 StorageGRID Prometheus 数据库之间的连接。</block>
  <block id="f1a0c319905355ecb1df6bb4bcca3df7" category="paragraph">证书表中的每个已配置客户端证书都有一行，用于指示此证书是否可用于 Prometheus 数据库访问以及证书到期日期。</block>
  <block id="29a9053315ee88db88841bbc47a27e61" category="inline-xref-macro">上传或生成新的客户端证书。</block>
  <block id="eee2c4f8cdc6a074e884242948c1fbb4" category="list-text"><block ref="eee2c4f8cdc6a074e884242948c1fbb4" category="inline-xref-macro-rx"></block></block>
  <block id="bc5f6c8ec2985651ff3e578c3aa643c7" category="list-text">选择一个证书名称以显示证书详细信息，您可以在其中执行以下操作：</block>
  <block id="3d48641ad66ea7f5670f3ce0bfa2c1b7" category="inline-xref-macro">更改客户端证书名称。</block>
  <block id="66622054cdcbf28e650e4ef34d49ebe2" category="list-text"><block ref="66622054cdcbf28e650e4ef34d49ebe2" category="inline-xref-macro-rx"></block></block>
  <block id="1a2360117210540783c53f99e0793fd4" category="inline-xref-macro">设置 Prometheus 访问权限。</block>
  <block id="d004a6f7424cb7e4e2fcaf2e26aeaf80" category="list-text"><block ref="d004a6f7424cb7e4e2fcaf2e26aeaf80" category="inline-xref-macro-rx"></block></block>
  <block id="10bef297a04cff2f48175c71c92d87da" category="inline-xref-macro">上传并替换客户端证书。</block>
  <block id="3e3dbd36f393bcde59f3075e2351fa08" category="list-text"><block ref="3e3dbd36f393bcde59f3075e2351fa08" category="inline-xref-macro-rx"></block></block>
  <block id="98e8996e9d42ca7fe22c2724163b9650" category="inline-xref-macro">复制或下载客户端证书。</block>
  <block id="691a416a3eb9f1ec1157c09dab7547ba" category="list-text"><block ref="691a416a3eb9f1ec1157c09dab7547ba" category="inline-xref-macro-rx"></block></block>
  <block id="fc240ddf233b05b6b3ae8b476e32a5c9" category="inline-xref-macro">删除客户端证书。</block>
  <block id="f9aad911a1dbde6adf5d426a82964315" category="list-text"><block ref="f9aad911a1dbde6adf5d426a82964315" category="inline-xref-macro-rx"></block></block>
  <block id="de95b43bceeb4b998aed4aed5cef1ae7" category="inline-xref-macro">编辑</block>
  <block id="915e375d95d78bf040a2e054caadfb56" category="inline-xref-macro">附加</block>
  <block id="0f6969d7052da9261e31ddb6e88c136e" category="inline-xref-macro">删除</block>
  <block id="a5921586d72ace0b1e941f05b95e8c8a" category="list-text">选择 * 操作 * 以快速执行 <block ref="807a2faaed51a80166a9a30cfab86629" category="inline-xref-macro-rx"></block>， <block ref="6b6644698001ff73d530f85de8b35dab" category="inline-xref-macro-rx"></block>或 <block ref="8aa32b677c5fe0aaee962f978d0276dc" category="inline-xref-macro-rx"></block> 客户端证书。您最多可以选择 10 个客户端证书，并使用 * 操作 * &gt; * 删除 * 一次删除这些证书。</block>
  <block id="466a85945c71d2aab8239ec7c7fbece7" category="open-title">负载平衡器端点</block>
  <block id="b94535f36c74089255964d916fef7800" category="inline-xref">负载平衡器端点证书</block>
  <block id="5b63d90c76fabfbacbc3c6f1bfeb76b6" category="paragraph"><block ref="3863a3a10cf3c7b4b868ae4554e9cb06" category="inline-xref-macro-rx"></block>上载或生成的，用于保护 S3 和 Swift 客户端之间的连接以及网关节点和管理节点上的 StorageGRID 负载平衡器服务。</block>
  <block id="40e52ed751ae28e74ebf50e40f935df8" category="paragraph">负载平衡器端点表对每个已配置的负载平衡器端点都有一行，用于指示此端点是否使用全局 S3 和 Swift API 证书或自定义负载平衡器端点证书。此外，还会显示每个证书的到期日期。</block>
  <block id="ab4988580e1d3bbec955c216a4aa7686" category="inline-xref-macro">选择一个端点名称以打开一个浏览器选项卡，其中包含有关负载平衡器端点的信息，包括其证书详细信息。</block>
  <block id="8f8eaf9a3e11afdf33eec52b2b878511" category="list-text"><block ref="8f8eaf9a3e11afdf33eec52b2b878511" category="inline-xref-macro-rx"></block></block>
  <block id="070caa6a4bf38222c27868bf1e31a362" category="inline-xref-macro">为 FabricPool 指定负载平衡器端点证书。</block>
  <block id="e5744c81c9b1909a18dc11cf91b9ce54" category="list-text"><block ref="e5744c81c9b1909a18dc11cf91b9ce54" category="inline-xref-macro-rx"></block></block>
  <block id="439ca61338efe222ba5d4977644d9298" category="inline-xref-macro">使用全局 S3 和 Swift API 证书</block>
  <block id="0be162a34d5735a93adb00bfa275ccd9" category="list-text"><block ref="fbbb61e45dedd15a3af1402a9b87a852" category="inline-xref-macro-rx"></block> 而不是生成新的负载平衡器端点证书。</block>
  <block id="1fdc2d4868c6b1e3428e451adb97ade3" category="inline-xref">身份联合服务器证书</block>
  <block id="e1db7e4b23d7354590cb4f764183c512" category="inline-xref">平台服务端点证书</block>
  <block id="18ba9f209f517f2ed417d32b8961f236" category="paragraph">租户可以使用 <block ref="c37b7e18692057e7d153222451fe3fac" category="inline-xref-macro-rx"></block> 或 <block ref="862e6fca1430f9f078ac556184a73cd4" category="inline-xref-macro-rx"></block> 以确保其与 StorageGRID 的连接安全。</block>
  <block id="0f1be06912f3a34e77c990938f44ac59" category="paragraph">租户表中的每个租户都有一行，用于指示每个租户是否有权使用自己的身份源或平台服务。</block>
  <block id="cb14a96d5945252051ddbdcaee71ed8d" category="inline-xref-macro">选择一个租户名称以登录到租户管理器</block>
  <block id="ec9f98626a9d06ee8b3a81c1377a2366" category="list-text"><block ref="ec9f98626a9d06ee8b3a81c1377a2366" category="inline-xref-macro-rx"></block></block>
  <block id="7f5657d622c4d31984611040fd383d54" category="inline-xref-macro">选择租户名称以查看租户身份联合详细信息</block>
  <block id="f9d6ee6128f9148725291b113629aed2" category="list-text"><block ref="f9d6ee6128f9148725291b113629aed2" category="inline-xref-macro-rx"></block></block>
  <block id="02fe65233de9f4f6dbf39b6b2183d55c" category="inline-xref-macro">选择租户名称以查看租户平台服务详细信息</block>
  <block id="ace0e31ab4a7051afe82f19220cf0ae5" category="list-text"><block ref="ace0e31ab4a7051afe82f19220cf0ae5" category="inline-xref-macro-rx"></block></block>
  <block id="eb712b7de86de0881c30ed64b18fb933" category="inline-xref-macro">在创建端点期间指定平台服务端点证书</block>
  <block id="14a18375d4e811e23bd4b748d0d08700" category="list-text"><block ref="14a18375d4e811e23bd4b748d0d08700" category="inline-xref-macro-rx"></block></block>
  <block id="6311ae17c1ee52b36e68aaf4ad066387" category="open-title">其他</block>
  <block id="6e0430d641109b5304bb55eba2b20420" category="paragraph">StorageGRID 会将其他安全证书用于特定目的。这些证书按其功能名称列出。其他安全证书包括：</block>
  <block id="a9f3b7193e5b064b4a4b3f25c1f493b8" category="inline-xref">身份联合证书</block>
  <block id="899ae9b9a69cd928e12becf4d79d4205" category="list-text"><block ref="185cd41f9187373fbefa6bc182354121" category="inline-xref-macro-rx"></block></block>
  <block id="39aa3b77a28b989250c03c97a695adee" category="inline-xref">云存储池证书</block>
  <block id="e157b05fcac4ae80230411ece68edb2e" category="list-text"><block ref="4887d5a4c297fb07819bb695ab06d617" category="inline-xref-macro-rx"></block></block>
  <block id="a6f48db295a5124f09f37746655ebd01" category="inline-xref">密钥管理服务器（ KMS ）证书</block>
  <block id="88abac5589154d82e77e610f552da284" category="list-text"><block ref="341ee14f1da7b15061cdf3713dad8123" category="inline-xref-macro-rx"></block></block>
  <block id="cded8a8a1024579310ea7f6640edf4d4" category="inline-xref">单点登录证书</block>
  <block id="ad1008b12b63745fcee9de91f9057ae4" category="list-text"><block ref="f6422ae52e135a775caf4987361272be" category="inline-xref-macro-rx"></block></block>
  <block id="9203171cba331c848ecc1451bcaf16eb" category="inline-xref">通过电子邮件发送警报通知证书</block>
  <block id="e38adc27b6ddd8ee7cf40f33df7fb3d2" category="list-text"><block ref="dce1687d61614c088a9118df9062d444" category="inline-xref-macro-rx"></block></block>
  <block id="893d01553257ee35530cbb6a34bd7662" category="inline-xref">外部系统日志服务器证书</block>
  <block id="d69b6b697d0e28cca7ac30b6acd16a8f" category="list-text"><block ref="fdbdd72b623189be3915b00d3121ffeb" category="inline-xref-macro-rx"></block></block>
  <block id="bf3407833eb3b3d408f545f8742e541d" category="paragraph">信息指示函数使用的证书类型及其服务器和客户端证书的到期日期（如果适用）。选择功能名称将打开一个浏览器选项卡，您可以在此查看和编辑证书详细信息。</block>
  <block id="94190606b026791a273408a524750c80" category="admonition">只有在拥有相应权限的情况下，才能查看和访问其他证书的信息。</block>
  <block id="3205653ce35ea7b298347fcc59cba96a" category="inline-xref-macro">查看和编辑身份联合证书</block>
  <block id="5563820c0bb07d93302cc574b3cd1662" category="list-text"><block ref="5563820c0bb07d93302cc574b3cd1662" category="inline-xref-macro-rx"></block></block>
  <block id="22b36db96e6a57bba892aefbb0c47b71" category="inline-xref-macro">上传密钥管理服务器（ KMS ）服务器和客户端证书</block>
  <block id="189f39e3962b05cda87e027be588888e" category="list-text"><block ref="189f39e3962b05cda87e027be588888e" category="inline-xref-macro-rx"></block></block>
  <block id="4dbf0a7758946cf4096924f369e7e7d5" category="inline-xref-macro">为 S3 ， C2S S3 或 Azure 指定云存储池证书</block>
  <block id="c8a69e6b75572bc9f1e3200de8e037ee" category="list-text"><block ref="c8a69e6b75572bc9f1e3200de8e037ee" category="inline-xref-macro-rx"></block></block>
  <block id="5c7a2d39c75ca7545ffc37278cd4b718" category="inline-xref-macro">手动为依赖方信任指定 SSO 证书</block>
  <block id="7852d6cebf40714e70353f744400e0e0" category="list-text"><block ref="7852d6cebf40714e70353f744400e0e0" category="inline-xref-macro-rx"></block></block>
  <block id="769030e6adf37c64eefc0e4517f7f168" category="inline-xref-macro">指定警报电子邮件通知的证书</block>
  <block id="1b6eead70ccf79273f7e2d3ff8b88dcb" category="list-text"><block ref="1b6eead70ccf79273f7e2d3ff8b88dcb" category="inline-xref-macro-rx"></block></block>
  <block id="7b9c406e4212a8333835f0010808d154" category="inline-xref-macro">指定外部系统日志服务器证书</block>
  <block id="a61e632a6c6c1e72b01a2297ef41915e" category="list-text"><block ref="a61e632a6c6c1e72b01a2297ef41915e" category="inline-xref-macro-rx"></block></block>
  <block id="8aa0ebe33df9cb5be903c0df6e334d8c" category="section-title">安全证书详细信息</block>
  <block id="c9eb4f5a979fcb112653c12e8dae0370" category="paragraph">下面介绍了每种类型的安全证书，并提供了指向包含实施说明的文章的链接。</block>
  <block id="7204ebc628bd1455b3b5a3cc7e5a0271" category="section-title">管理接口证书</block>
  <block id="3b9ed143fa558cd0b735929fa0870071" category="cell">证书类型</block>
  <block id="97e29635141371d8adb49c7a98e5d92d" category="cell">导航位置</block>
  <block id="9aa1b03934893d7134a660af4204f2a9" category="paragraph">服务器</block>
  <block id="1c0b0b3741613e7a782980e4f6538b96" category="paragraph">对客户端 Web 浏览器和 StorageGRID 管理界面之间的连接进行身份验证，使用户能够访问网格管理器和租户管理器，而不会出现安全警告。</block>
  <block id="c65d95d01fbb3573bfa5d3bc6eaad275" category="paragraph">此证书还会对网格管理 API 和租户管理 API 连接进行身份验证。</block>
  <block id="24e6edf88f808f81abf99765012bd295" category="paragraph">您可以使用安装期间创建的默认证书，也可以上传自定义证书。</block>
  <block id="0495081fb08699702a2b9bd58d3092e9" category="paragraph">* 配置 * &gt; * 安全性 * &gt; * 证书 * ，选择 * 全局 * 选项卡，然后选择 * 管理接口证书 *</block>
  <block id="cd17208d1c18e32c7892a366bd39d6dc" category="paragraph"><block ref="cd17208d1c18e32c7892a366bd39d6dc" category="inline-xref-macro-rx"></block></block>
  <block id="b87705bfc85be03bc0ece8da36a2e4a4" category="paragraph">对与存储节点，网关节点上已弃用的连接负载平衡器（ CLB ）服务以及负载平衡器端点（可选）的安全 S3 或 Swift 客户端连接进行身份验证。</block>
  <block id="03f1b0ddfa22db0c4cf586c1d4793fc9" category="paragraph">* 配置 * &gt; * 安全性 * &gt; * 证书 * ，选择 * 全局 * 选项卡，然后选择 * S3 和 Swift API 证书 *</block>
  <block id="df77cb630fd63d34404aefb4a91e016b" category="inline-xref">默认网格 CA 证书问题描述</block>
  <block id="5be32cfb10e2998b3564c00fc430a248" category="paragraph">请参见 <block ref="f38841d13ee7153da1d9def5145d7ca3" category="inline-xref-macro-rx"></block>。</block>
  <block id="6479f6d5c725ac908d1bb54466860a7a" category="section-title">管理员客户端证书</block>
  <block id="f15c376d0d21fa1c0e0bf8ee4c046210" category="paragraph">安装在每个客户端上，使 StorageGRID 能够对外部客户端访问进行身份验证。</block>
  <block id="272e7552ef8534cbfe55c8937f5db633" category="list-text">允许授权的外部客户端访问 StorageGRID Prometheus 数据库。</block>
  <block id="62b8d482344c456633d68e54a4d826db" category="list-text">允许使用外部工具安全监控 StorageGRID 。</block>
  <block id="7026ec1f1f716ca4cf53819108b54389" category="paragraph">* 配置 * &gt; * 安全性 * &gt; * 证书 * ，然后选择 * 客户端 * 选项卡</block>
  <block id="08cee419d07242920a3a0613f1cc52a6" category="paragraph"><block ref="08cee419d07242920a3a0613f1cc52a6" category="inline-xref-macro-rx"></block></block>
  <block id="7f346a241e58fa393fabf9880bfea74e" category="section-title">负载平衡器端点证书</block>
  <block id="2afdd32c861c187b0cefe4c0df1c205e" category="paragraph">对 S3 或 Swift 客户端与网关节点和管理节点上的 StorageGRID 负载平衡器服务之间的连接进行身份验证。您可以在配置负载平衡器端点时上传或生成负载平衡器证书。客户端应用程序在连接到 StorageGRID 时使用负载平衡器证书来保存和检索对象数据。</block>
  <block id="206402fc80cf08b4a5f923ab01570692" category="paragraph">您也可以使用自定义版本的全局 <block ref="55e107653610698f9bf3dbc39400a1c6" category="inline-xref-macro-rx"></block> 用于对与负载平衡器服务的连接进行身份验证的证书。如果使用全局证书对负载平衡器连接进行身份验证，则无需为每个负载平衡器端点上传或生成单独的证书。</block>
  <block id="1d7e6f78b822c93523a410715bf4030a" category="paragraph">* 注意： * 用于负载平衡器身份验证的证书是正常 StorageGRID 操作期间使用量最多的证书。</block>
  <block id="f6025376d262da02837c5b7decbbad0c" category="paragraph">* 配置 * &gt; * 网络 * &gt; * 负载平衡器端点 *</block>
  <block id="159daa851aa7150890d2c4da69ab7cd6" category="list-text"><block ref="159daa851aa7150890d2c4da69ab7cd6" category="inline-xref-macro-rx"></block></block>
  <block id="79e40052f4289086fc3c9ee04a7952c6" category="section-title">身份联合证书</block>
  <block id="9c42a8ab55b5516c5e63a6dd1702da26" category="paragraph">对 StorageGRID 与外部身份提供程序（例如 Active Directory ， OpenLDAP 或 Oracle 目录服务器）之间的连接进行身份验证。用于身份联合，允许管理组和用户由外部系统管理。</block>
  <block id="184eba94996f89a82227979e628f8a6d" category="paragraph">* 配置 * &gt; * 访问控制 * &gt; * 身份联合 *</block>
  <block id="1961820a24c5324c9c8ef02a1730bf44" category="paragraph"><block ref="1961820a24c5324c9c8ef02a1730bf44" category="inline-xref-macro-rx"></block></block>
  <block id="effd3fe08d4be711b17edacbe155d3b2" category="section-title">平台服务端点证书</block>
  <block id="1a69cee9a5e71703a985cd29ccf11de4" category="paragraph">对从 StorageGRID 平台服务到 S3 存储资源的连接进行身份验证。</block>
  <block id="b7fccaddcd6e60cec08613caa7fe1b91" category="paragraph">* 租户管理器 * &gt; * 存储（ S3 ） * &gt; * 平台服务端点 *</block>
  <block id="7bc05b27d913f3aca6097fd09542e657" category="paragraph"><block ref="7bc05b27d913f3aca6097fd09542e657" category="inline-xref-macro-rx"></block></block>
  <block id="3007eba392aa66d8b7bab9950c95eaa6" category="paragraph"><block ref="3007eba392aa66d8b7bab9950c95eaa6" category="inline-xref-macro-rx"></block></block>
  <block id="1c69fdee7a8bafc476cd0f35b3cb06a3" category="section-title">云存储池端点证书</block>
  <block id="1f50b8bf1aab7b46802488dc8e9abe4d" category="paragraph">对从 StorageGRID 云存储池到外部存储位置（例如 S3 Glacier 或 Microsoft Azure Blob 存储）的连接进行身份验证。每种云提供商类型都需要一个不同的证书。</block>
  <block id="a7d1209fb7ac3b0d6cba299b1f029745" category="paragraph">* ILM * &gt; * 存储池 *</block>
  <block id="3f337a7f813650eb4d115504964c39f0" category="paragraph"><block ref="3f337a7f813650eb4d115504964c39f0" category="inline-xref-macro-rx"></block></block>
  <block id="0725de0bb0fc0f4df8032e1284ac01be" category="section-title">密钥管理服务器（ KMS ）证书</block>
  <block id="1a50970aa5f920b4f100ea05833ef01a" category="paragraph">服务器和客户端</block>
  <block id="1b61f75b43ee23917d5cfdec5e8a3ca2" category="paragraph">对 StorageGRID 与外部密钥管理服务器（ KMS ）之间的连接进行身份验证，该服务器可为 StorageGRID 设备节点提供加密密钥。</block>
  <block id="3f70c5d89826617d662f565c469d5e47" category="paragraph">* 配置 * &gt; * 安全性 * &gt; * 密钥管理服务器 *</block>
  <block id="bb228e14e077b4a5b81d5eb2ce628932" category="inline-xref-macro">添加密钥管理服务器（ KMS ）</block>
  <block id="f1b3df45ac44824b1c25d57d4bd5d4bb" category="paragraph"><block ref="f1b3df45ac44824b1c25d57d4bd5d4bb" category="inline-xref-macro-rx"></block></block>
  <block id="785589cf75e8f33fefe8658261575f69" category="section-title">单点登录（ SSO ）证书</block>
  <block id="b012eab3c44034aeb99ad8050c212c44" category="paragraph">对身份联合服务（例如 Active Directory 联合身份验证服务（ AD FS ））与用于单点登录（ SSO ）请求的 StorageGRID 之间的连接进行身份验证。</block>
  <block id="0c48dcb1c84062c848745a778582108a" category="paragraph">* 配置 * &gt; * 访问控制 * &gt; * 单点登录 *</block>
  <block id="fc226766362e3806d830b8b1afe9b50f" category="paragraph"><block ref="fc226766362e3806d830b8b1afe9b50f" category="inline-xref-macro-rx"></block></block>
  <block id="3fad9fce55d63f684c025c2b6ba362a2" category="section-title">通过电子邮件发送警报通知证书</block>
  <block id="120010590509b6568d8472d8b17507b7" category="paragraph">对 SMTP 电子邮件服务器与用于警报通知的 StorageGRID 之间的连接进行身份验证。</block>
  <block id="a80cc82da13bf57dd8811518e2f6da8c" category="list-text">如果与 SMTP 服务器的通信需要传输层安全（ Transport Layer Security ， TLS ），则必须指定电子邮件服务器 CA 证书。</block>
  <block id="7ca207277b0c6e4ac6a71b8152bf3c64" category="list-text">仅当 SMTP 电子邮件服务器需要客户端证书进行身份验证时，才指定客户端证书。</block>
  <block id="b23431046e36a75251fb94115a8836ef" category="paragraph">* 警报 * &gt; * 电子邮件设置 *</block>
  <block id="c83bc6259b74fec7db909957a651e26b" category="paragraph"><block ref="c83bc6259b74fec7db909957a651e26b" category="inline-xref-macro-rx"></block></block>
  <block id="46809804b577ccb7665719ccb024dfbd" category="section-title">外部系统日志服务器证书</block>
  <block id="5a6ea753be04e8471e7991c0f7348b8a" category="paragraph">对在 StorageGRID 中记录事件的外部系统日志服务器之间的 TLS 或 RELP/TLS 连接进行身份验证。</block>
  <block id="520cade1ac64458583e2b9f3adf1ab2c" category="paragraph">* 注： * 与外部系统日志服务器的 TCP ， RELP/TCP 和 UDP 连接不需要外部系统日志服务器证书。</block>
  <block id="95be1e8378a82e761438bc9317efc939" category="paragraph">* 配置 * &gt; * 监控 * &gt; * 审核和系统日志服务器 * ，然后选择 * 配置外部系统日志服务器 *</block>
  <block id="3db4a95bca5f820858bd49d741e1e279" category="section-title">证书示例</block>
  <block id="9bc81de61d89a291b04468cac60ea45f" category="section-title">示例 1 ：负载平衡器服务</block>
  <block id="871194bb2848e5aa356b7cea992a60ca" category="paragraph">在此示例中， StorageGRID 充当服务器。</block>
  <block id="472bc3a89d897fa9fb4a77b8a029d017" category="list-text">您可以在 StorageGRID 中配置负载平衡器端点并上传或生成服务器证书。</block>
  <block id="f8bbbfb9de0848124a753a2ac4bee97d" category="list-text">您可以配置与负载平衡器端点的 S3 或 Swift 客户端连接，并将同一证书上传到客户端。</block>
  <block id="81adf0ed49f1c4d506c7a314be6ee1ed" category="list-text">当客户端要保存或检索数据时，它会使用 HTTPS 连接到负载平衡器端点。</block>
  <block id="4030288f5dd5256b78ccfffa37542c87" category="list-text">StorageGRID 会使用包含公有 密钥的服务器证书进行响应，并使用基于私钥的签名进行响应。</block>
  <block id="cac30f2829e1f278ff0dc32b33888f99" category="list-text">客户端通过将服务器签名与其证书副本上的签名进行比较来验证此证书。如果签名匹配，客户端将使用相同的公有 密钥启动会话。</block>
  <block id="05294020f6896c3db2d2f476d72f200e" category="list-text">客户端将对象数据发送到 StorageGRID 。</block>
  <block id="ae878034a334907957066c2a21dd1ddd" category="section-title">示例 2 ：外部密钥管理服务器（ KMS ）</block>
  <block id="0e31c2914ab97605c495e78a3f451653" category="paragraph">在此示例中， StorageGRID 充当客户端。</block>
  <block id="a6bdeba2a0ed269a1e052f0e780962c3" category="list-text">您可以使用外部密钥管理服务器软件将 StorageGRID 配置为 KMS 客户端，并获取 CA 签名的服务器证书，公有 客户端证书以及客户端证书的专用密钥。</block>
  <block id="688a45bb6be539ba0ea0da5cadd30433" category="list-text">使用网格管理器，您可以配置 KMS 服务器并上传服务器和客户端证书以及客户端专用密钥。</block>
  <block id="05d80043138b1ea0a922246d0539b755" category="list-text">当 StorageGRID 节点需要加密密钥时，它会向 KMS 服务器发出请求，请求包含证书中的数据以及基于私钥的签名。</block>
  <block id="4fb2bc0399a6b8454b92bde5aca13af9" category="list-text">KMS 服务器会验证证书签名，并决定它可以信任 StorageGRID 。</block>
  <block id="ef19a018ef7c6c0262232cdaad20ec6b" category="list-text">KMS 服务器使用经过验证的连接进行响应。</block>
  <block id="d94c5bf5f3b9d74dbf84cce5b736a538" category="summary">您不能删除允许访问审核共享的最后一个用户或组。</block>
  <block id="6836c99531c133eca2fbe48181bac309" category="list-text">您已有 `passwords.txt` 文件以及根帐户密码（可在上述软件包中找到）。</block>
  <block id="387723bd21a5a1d2f418808ed5b60bb5" category="list-text">开始删除用户或组： `remove-user-from-share`</block>
  <block id="4d5b825e3322df280a8f2aaf309e0875" category="paragraph">此时将显示一个编号列表，其中列出了管理节点的可用审核共享。审核共享标记为 audit-export 。</block>
  <block id="8b223908fa588f648a11b2fe2e6f3814" category="list-text">当系统提示删除用户或组时： `user` 或 `group`</block>
  <block id="9574bbdda3f6c8f2ad0308c1d53c14c1" category="paragraph">此时将显示审核共享的用户或组的编号列表。</block>
  <block id="430a9569216a871adb87c54173842e4d" category="list-text">输入与要删除的用户或组对应的数字： ` _number_`</block>
  <block id="b0b6f1230e17e14c64d3bf3ce6bba9eb" category="paragraph">此时将更新审核共享，并且不再允许用户或组访问此审核共享。例如：</block>
  <block id="39df03296a3129528cd3c1b2d364cd6c" category="list-text">如果 StorageGRID 部署包括其他站点的管理节点，请根据需要在每个站点禁用审核共享。</block>
  <block id="4b868f8c40b4404797ba84fce058f9b4" category="list-text">配置完成后，从每个命令 Shell 中注销： `exit`</block>
  <block id="360d881ff59a19619840fe2610c571aa" category="summary">您可以创建管理组来管理一个或多个管理员用户的安全权限。用户必须属于要授予对 StorageGRID 系统访问权限的组。</block>
  <block id="770ffb0f1bec28b16cc9a1229cf9be20" category="section-title">创建管理组</block>
  <block id="ff380bf5f17380f316aa6206f25e225a" category="paragraph">通过管理组，您可以确定哪些用户可以访问网格管理器和网格管理 API 中的哪些功能和操作。</block>
  <block id="d47bdb6c3ba2afe9c16e487021096ec3" category="list-text">选择 * 配置 * &gt; * 访问控制 * &gt; * 管理组 * 。</block>
  <block id="6851a2a43ae1b8d0cf37cc186fbea589" category="section-title">选择组类型</block>
  <block id="e1554446f9f5670f99a4e0e5fa2dca52" category="paragraph">您可以创建本地组或导入联合组。</block>
  <block id="d3b12bb07ebd332e369c0dcc4ff38e65" category="list-text">如果要为本地用户分配权限，请创建本地组。</block>
  <block id="28cae3f9bfa198f91883e5cb773c005d" category="list-text">创建联合组以从身份源导入用户。</block>
  <block id="4e5984dcde0674633f943f4b2527a69a" category="open-title">本地组</block>
  <block id="bca2b3b899e1239367dd9d51dade16d6" category="list-text">选择 * 本地组 * 。</block>
  <block id="f0425e7d42c0873b49491016294f0569" category="list-text">输入组的显示名称，您可以稍后根据需要更新该名称。例如， " `M维护用户` " 或 "`ILM 管理员。`</block>
  <block id="60cc9eaf90e090afc5e89406526e37ad" category="list-text">输入组的唯一名称，您不能稍后更新。</block>
  <block id="5fb924e4cc7068a3070c44f217f93e06" category="open-title">联合组</block>
  <block id="68f94309e8576833f802e0c512b38239" category="list-text">选择 * 联合组 * 。</block>
  <block id="cbea06ede061110eaaef0113e37ae730" category="list-text">输入要导入的组的名称，与此名称在配置的身份源中显示的名称完全相同。</block>
  <block id="4451f90039b99916092eeda091bf8057" category="list-text">对于 Active Directory 和 Azure ，请使用 sAMAccountName 。</block>
  <block id="08348a84c57f872a52de9390471e0561" category="list-text">对于 OpenLDAP ，请使用 CN （公用名）。</block>
  <block id="5178767622874bc765d3491304675e61" category="list-text">对于另一个 LDAP ，请为 LDAP 服务器使用适当的唯一名称。</block>
  <block id="d51ac962d30cd0a581f585e5d79ad887" category="section-title">管理组权限</block>
  <block id="151d4c490b3aef668142516ffbbc1683" category="list-text">对于 * 访问模式 * ，选择组中的用户是否可以在网格管理器和网格管理 API 中更改设置并执行操作，或者选择他们是否只能查看设置和功能。</block>
  <block id="956756fa10bf8367498b1024138fb29d" category="list-text">* 读写 * （默认）：用户可以更改其管理权限允许的设置并执行这些操作。</block>
  <block id="e1b14bbb6723e5f5007f289709555bae" category="list-text">* 只读 * ：用户只能查看设置和功能。他们不能在网格管理器或网格管理 API 中进行任何更改或执行任何操作。本地只读用户可以更改自己的密码。</block>
  <block id="b1f47fca6cf85c3506fa3316964dea74" category="admonition">如果用户属于多个组，并且任何组设置为 * 只读 * ，则用户将对所有选定设置和功能具有只读访问权限。</block>
  <block id="b42c8ab19ce5524d39e6390b64152bc7" category="list-text">选择一个或多个 <block ref="7cf2b0c691c71e6f2ea21dcab7ba41f4" category="inline-xref-macro-rx"></block>。</block>
  <block id="5d3bc6f8a87ff6c3658e9a44c30d7bb0" category="paragraph">您必须为每个组至少分配一个权限；否则，属于该组的用户将无法登录到 StorageGRID 。</block>
  <block id="3357a7fe356debd261237c1464fbc0ae" category="list-text">如果要创建本地组，请选择 * 继续 * 。如果要创建联合组，请选择 * 创建组 * 和 * 完成 * 。</block>
  <block id="34cce1ed33e14c92d7d516c9dd415e86" category="section-title">添加用户（仅限本地组）</block>
  <block id="3d0b8ce585ca8e8a0fc714d85398ac12" category="list-text">或者，为此组选择一个或多个本地用户。</block>
  <block id="de5f2c677488efd8c0feb036153bb35d" category="paragraph">如果尚未创建本地用户，则可以保存此组，而无需添加用户。您可以在用户页面上将此组添加到用户。请参见<block ref="45f6334fb5b2eac27341bb3c83f30b88" category="inline-xref-macro-rx"></block> 了解详细信息。</block>
  <block id="cf0dbc855260ce925cad4f3bf64dddad" category="list-text">选择 * 创建组 * 和 * 完成 * 。</block>
  <block id="e76958e3e8c6809a3aff727764ab75a9" category="section-title">查看和编辑管理组</block>
  <block id="9b62715e45eaccd47d8ca05c577cc276" category="paragraph">您可以查看现有组的详细信息，修改组或复制组。</block>
  <block id="f667b1ba10f00d8a67732320beaa7b59" category="list-text">要查看所有组的基本信息，请查看组页面上的表。</block>
  <block id="acc182c14295a357357ec5ed679f20fa" category="list-text">要查看特定组的所有详细信息或编辑组，请使用 * 操作 * 菜单或详细信息页面。</block>
  <block id="46dcc4a5e242ce1bf8e5f1d9f4079a47" category="paragraph">查看组详细信息</block>
  <block id="6b7221c186272a9f97e8028b161593d9" category="list-text">选中组对应的复选框。</block>
  <block id="6842538bda2b4021acdf7f0ae16ffe0b" category="list-text">选择 * 操作 * &gt; * 查看组详细信息 * 。</block>
  <block id="deeffb265b15f70d429f6210944fd596" category="paragraph">在表中选择组名称。</block>
  <block id="7e96299ab78d74080c85601e7efc2592" category="paragraph">编辑显示名称（仅限本地组）</block>
  <block id="127b659de5150b7ac6f78072c5989b4b" category="list-text">选择组名称以显示详细信息。</block>
  <block id="000f94ef3165f58b680f48278e00f940" category="paragraph">编辑访问模式或权限</block>
  <block id="3ed1952352447f5c15b28359fd2f1b0e" category="list-text">也可以更改组的访问模式。</block>
  <block id="1f0e4ea7548fb58d076088b1aca0b0df" category="list-text">或者，也可以选择或取消选择 <block ref="7cf2b0c691c71e6f2ea21dcab7ba41f4" category="inline-xref-macro-rx"></block>。</block>
  <block id="4c947088c15c02a049dc35c13452d0ae" category="section-title">复制组</block>
  <block id="09c55eda05207a3c135f470b1a0a154c" category="list-text">选择 * 操作 * &gt; * 复制组 * 。</block>
  <block id="4191e2e1bc2f2d8f8aada37aa1bca376" category="list-text">完成复制组向导。</block>
  <block id="9e4f69c86fc5a1b1fa13007cbe938fce" category="section-title">删除组</block>
  <block id="cbf80ba4197cb309a2ae6b37f4005c65" category="paragraph">如果要从系统中删除某个管理组，则可以删除该组，并删除与该组关联的所有权限。删除管理员组会从组中删除任何用户，但不会删除这些用户。</block>
  <block id="76dd26ff27488ac9b825533a123c8293" category="list-text">在组页面中，选中要删除的每个组对应的复选框。</block>
  <block id="a678cdd6c4887e8b797e9227f3b6c988" category="list-text">选择 * 删除组 * 。</block>
  <block id="66423f29a0989217f574b5f155b5b20f" category="section-title">组权限</block>
  <block id="fd0a82475a81d1c4c26448a66126fdcf" category="paragraph">创建管理员用户组时，您可以选择一个或多个权限来控制对网格管理器特定功能的访问。然后，您可以将每个用户分配给一个或多个管理组，以确定用户可以执行的任务。</block>
  <block id="91501be253fdc3009f9c1db0010dca87" category="paragraph">您必须为每个组至少分配一个权限；否则，属于该组的用户将无法登录到网格管理器或网格管理 API 。</block>
  <block id="c3d1edb7150918868afedbb52cb7d091" category="paragraph">默认情况下，属于至少具有一个权限的组的任何用户均可执行以下任务：</block>
  <block id="a140e37075a8986ba4d553e8f1a1c2d9" category="list-text">查看节点页面</block>
  <block id="ef4b1744034ca9b619197857e4e77c15" category="list-text">监控网格拓扑</block>
  <block id="ffe33ad79d13d2407e1ee1320d3a1448" category="list-text">查看当前警报和已解决警报</block>
  <block id="2d0a53cf7354956a2af888ec00cc1b43" category="list-text">查看当前和历史警报（旧系统）</block>
  <block id="6defeef5e040f9cf2275c24257eade6e" category="list-text">更改自己的密码（仅限本地用户）</block>
  <block id="8fdd92088579c067e1aa12402a5266e0" category="list-text">在配置和维护页面上查看特定信息</block>
  <block id="8cbbb5fadd5ea47cd16dd9a2d0f045a0" category="section-title">权限与访问模式之间的交互</block>
  <block id="63d06a106c52baf117143c04be1ae274" category="paragraph">对于所有权限，组的 * 访问模式 * 设置将确定用户是否可以更改设置并执行操作，或者是否只能查看相关设置和功能。如果用户属于多个组，并且任何组设置为 * 只读 * ，则用户将对所有选定设置和功能具有只读访问权限。</block>
  <block id="0218da88215e1e161577b302e4ef02e0" category="paragraph">以下各节介绍了在创建或编辑管理组时可以分配的权限。未明确提及的任何功能都需要具有 * 根访问权限 * 。</block>
  <block id="e59e34676c1175da3492e293606eb2b7" category="section-title">root 访问权限</block>
  <block id="6c8dff1a34bc6211ca1899aef3ad6e18" category="paragraph">通过此权限，可以访问所有网格管理功能。</block>
  <block id="3bf2a387fe402686bfaf6718fdc63c89" category="section-title">确认警报（传统）</block>
  <block id="8b0977f3f519fb5af3937abfaa9fa910" category="paragraph">此权限可用于确认和响应警报（旧系统）。所有已登录用户均可查看当前和历史警报。</block>
  <block id="a7bd41051499797e6c278735985d37dd" category="paragraph">如果您希望用户仅监控网格拓扑并确认警报，则应分配此权限。</block>
  <block id="376dc44faeb38fd2f18ce20a5aa56af8" category="section-title">更改租户 root 密码</block>
  <block id="bed4333f07733e9d7f84925cbf9bf2ea" category="paragraph">通过此权限，您可以访问租户页面上的 * 更改 root 密码 * 选项，从而可以控制谁可以更改租户的本地 root 用户的密码。启用 S3 密钥导入功能后，此权限也用于迁移 S3 密钥。不具有此权限的用户无法看到 * 更改 root 密码 * 选项。</block>
  <block id="056ad20e093650415d014fc3b25d907f" category="admonition">要授予对包含 * 更改 root 密码 * 选项的租户页面的访问权限，还需要分配 * 租户帐户 * 权限。</block>
  <block id="3c0c765f5e8e848b652c8ffc2bc0739b" category="section-title">网格拓扑页面配置</block>
  <block id="f2fda7731730ad1506307d9c03291a21" category="paragraph">通过此权限，您可以访问 * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * 页面上的配置选项卡。</block>
  <block id="45a63ab8cbf11a8d14e5315e7199fcbd" category="section-title">ILM</block>
  <block id="7dd82dc8106e78ad21241dd4c6879046" category="paragraph">通过此权限，您可以访问以下 * ILM * 菜单选项：</block>
  <block id="1f4da964f8eab62e96e8cfe406e44364" category="list-text">rules</block>
  <block id="9e476387322a5c250893cf9c5c4ce78c" category="list-text">策略</block>
  <block id="3e0ffdae9ade6fb4ba3c7757872545dd" category="list-text">纠删编码</block>
  <block id="5948f3347ebc02ebc690227c059661e1" category="list-text">regions</block>
  <block id="209360388d2327cf0da8f0db9d83d822" category="list-text">存储池</block>
  <block id="9281cbb9e26a048de7ba8964d48209bc" category="admonition">用户必须具有 * 其他网格配置 * 和 * 网格拓扑页面配置 * 权限才能管理存储级别。</block>
  <block id="10d0de28911c5f66463b9c8783f8148a" category="section-title">维护</block>
  <block id="8146b837d4d59aae83c29e01f61f3bbc" category="paragraph">用户必须具有维护权限才能使用以下选项：</block>
  <block id="cf11acace5d4e862b793d63f4b04701c" category="list-text">* 配置 * &gt; * 访问控制 * ：</block>
  <block id="2abcb281e513a09f510bdbdb43982550" category="list-text">* 维护 * &gt; * 任务 * ：</block>
  <block id="3001eaf36212abf6ef6c8221f4d7933c" category="list-text">停用</block>
  <block id="47e8426faae2aa682c3096c3e32d3956" category="list-text">扩展</block>
  <block id="98b572ca6d52ef77885d6c97c0bd946c" category="list-text">对象存在检查</block>
  <block id="d8afbc541b39d23648c823057cffe3a5" category="list-text">恢复</block>
  <block id="90bd704d546eb737ce4272a80211857c" category="list-text">* 维护 * &gt; * 系统 * ：</block>
  <block id="cfe7dbc1f962271df7a19c1d13356741" category="list-text">恢复包</block>
  <block id="c329847c5a9eb54120dcc6a37e7688cd" category="list-text">软件更新</block>
  <block id="c3c1dfa77518305eb3ef97a023a4af08" category="list-text">* 支持 * &gt; * 工具 * ：</block>
  <block id="9d3c027ea9a079bc6d2f238bc9def523" category="paragraph">没有维护权限的用户可以查看但不能编辑以下页面：</block>
  <block id="52793756eb5cd3c7c3d0c8c761bc2930" category="list-text">* 维护 * &gt; * 网络 * ：</block>
  <block id="207f6ad73e74428fe412eb03fdaef7cc" category="list-text">NTP 服务器</block>
  <block id="94b119fdf1dddb52ab33b07d4445ea40" category="list-text">* 配置 * &gt; * 安全性 * ：</block>
  <block id="5a6c0d2579b31142130f20104fa58ea6" category="list-text">证书</block>
  <block id="0f32df1c2e0fe2476ea7b104a4ee29f9" category="list-text">域名</block>
  <block id="d53ef103d76bc398efd73ca80f680240" category="list-text">* 配置 * &gt; * 监控 * ：</block>
  <block id="88ffec64c9bbba37734d19ad43cc9ada" category="list-text">审核和系统日志服务器</block>
  <block id="a7c45af70d3840dc1cbc12fa5a836fa5" category="paragraph">通过此权限，您可以访问用于管理警报的选项。用户必须具有此权限才能管理静音，警报通知和警报规则。</block>
  <block id="9f9bf39a167ab739f9ff8fee34010966" category="section-title">指标查询</block>
  <block id="0b6a1a620b5c244fdc76ffa23a920d3d" category="paragraph">通过此权限，您可以访问 * 支持 * &gt; * 工具 * &gt; * 指标 * 页面。通过此权限，还可以使用网格管理 API 的 * 指标 * 部分访问自定义的 Prometheus 指标查询。</block>
  <block id="261186c2e7473dbb51a38db97c1294b6" category="section-title">对象元数据查找</block>
  <block id="a17b663bec0d1a5ebef56747929ddeb7" category="paragraph">通过此权限，您可以访问 * ILM * &gt; * 对象元数据查找 * 页面。</block>
  <block id="47014688cd392e16dcef8846266a0286" category="section-title">其他网格配置</block>
  <block id="f55ace268b396589ed05eff02f996f63" category="paragraph">通过此权限可以访问其他网格配置选项。</block>
  <block id="6b5f7fb46cbc3bc8346514e9c0da2d5b" category="admonition">要查看这些附加选项，用户还必须具有 * 网格拓扑页面配置 * 权限。</block>
  <block id="be8bbe5640d7f9d31a7361f3c04fcaf9" category="list-text">* ILM ：</block>
  <block id="b0e455bf19de0e824e377bf5e545bb9b" category="list-text">存储等级</block>
  <block id="592cb5f24e05f2a9af5a280f40f07dd4" category="list-text">* 配置 * &gt; * 网络 * ：</block>
  <block id="ba84182d43e6fecd9c9ac64ba4997d03" category="list-text">* 配置 * &gt; * 系统 * ：</block>
  <block id="d1109f3240d262e842e8f6ff5ea755d9" category="list-text">显示选项</block>
  <block id="5b0113f7e11ddd1b3eb68f74e3f802f9" category="list-text">网格选项</block>
  <block id="a74077e2e89fe826075fc1050da6c5ec" category="list-text">存储选项</block>
  <block id="ec9c1dfc652d045f33b6ef5674087677" category="list-text">* 支持 * &gt; * 警报（传统） * ：</block>
  <block id="3b469583d41c44a5e8768264f56b692f" category="list-text">自定义事件</block>
  <block id="9e90adfbd1f11e606cf1a0e61c83204b" category="list-text">全局警报</block>
  <block id="0499fc17e14cf1a5ef1981f3992c0128" category="list-text">传统电子邮件设置</block>
  <block id="75f849f0d8997e0679d923bbcd09022e" category="section-title">存储设备管理员</block>
  <block id="938b179d6bde93a8a21f8c42b17f417f" category="paragraph">通过此权限，您可以通过网格管理器访问存储设备上的 E 系列 SANtricity 系统管理器。</block>
  <block id="dbe90ed34507561592a23b3c86bae552" category="paragraph">通过此权限，您可以访问租户页面，在此可以创建，编辑和删除租户帐户。此权限还允许用户查看现有流量分类策略。</block>
  <block id="9626e0404084f4f05deffe252b44205c" category="summary">如果为 S3 租户帐户启用平台服务，则必须配置网格，以便租户可以访问使用这些服务所需的外部资源。</block>
  <block id="576820c1bb3ed6e65db506a22226bd92" category="paragraph">平台服务包括 CloudMirror 复制，事件通知和搜索集成服务。</block>
  <block id="af387fefd68f89ecbb3371332339d2f3" category="paragraph">这些服务允许租户对其 S3 分段使用以下功能：</block>
  <block id="d1e167b9158f17699df3d7a12d244064" category="list-text">* CloudMirror 复制 * ： StorageGRID CloudMirror 复制服务用于将特定对象从 StorageGRID 存储分段镜像到指定的外部目标。</block>
  <block id="1b96b7d3a1f25b37f20d7a77d2d77c3c" category="list-text">* 通知 * ：每个存储分段的事件通知用于向指定的外部 Amazon Simple Notification Service （ SNS ）发送有关对对象执行的特定操作的通知。</block>
  <block id="847e6dad49d046126c2fbed37d6b2d7b" category="list-text">* 搜索集成服务 * ：搜索集成服务用于将 S3 对象元数据发送到指定的 Elasticsearch 索引，在此索引中可以使用外部服务搜索或分析元数据。</block>
  <block id="191cc128b4509575415e3fdec8ffee28" category="paragraph">通过平台服务，租户可以对其数据使用外部存储资源，通知服务以及搜索或分析服务。由于平台服务的目标位置通常位于 StorageGRID 部署外部，因此您必须确定是否要允许租户使用这些服务。如果是，则必须在创建或编辑租户帐户时启用平台服务。您还必须配置网络，使租户生成的平台服务消息能够访问其目标。</block>
  <block id="b76e09efb209c3fdeb537679087c2b23" category="paragraph">在使用平台服务之前，请注意以下建议：</block>
  <block id="1bcb60d8182fe5d3145befcafcfd72a5" category="list-text">如果 StorageGRID 系统中的 S3 存储分段同时启用了版本控制和 CloudMirror 复制，则还应为目标端点启用 S3 存储分段版本控制。这样， CloudMirror 复制就可以在端点上生成类似的对象版本。</block>
  <block id="e6ce91d9b4f3f4e33d4a2e98bb97a2ad" category="list-text">如果 S3 请求需要进行 CloudMirror 复制，通知和搜索集成，则使用的活动租户不应超过 100 个。如果活动租户超过 100 个，则可能会导致 S3 客户端性能下降。</block>
  <block id="763acd0c29e6df34b055144c4e000b9f" category="list-text">对无法完成的端点的请求将排队，最多 500 ， 000 个请求。此限制在活动租户之间平均共享。新租户可以暂时超过这 500 ， 000 个上限，这样新创建的租户就不会受到不公正的处罚。</block>
  <block id="c64f8194c4c72529125e6b83812a360a" category="summary">如果您不想再使用此功能，可以禁用单点登录 \ （ sso\ ）。必须先禁用单点登录，然后才能禁用身份联合。</block>
  <block id="df2d4becb3b5d94b4a297a18f67e27dd" category="paragraph">如果您不再希望使用单点登录（ SSO ）功能，则可以禁用此功能。必须先禁用单点登录，然后才能禁用身份联合。</block>
  <block id="2879ad3a59345a666466885a2d29156b" category="paragraph">此时将显示 Single Sign-On 页面。</block>
  <block id="24bba5baa553673b73376a011c76083b" category="list-text">选择 * 已禁用 * 选项。</block>
  <block id="4116bc9d4f411a70fa131096b879639b" category="paragraph">此时将显示一条警告消息，指示本地用户现在可以登录。</block>
  <block id="306e91693c0dfa5219936453f6ff8d45" category="image-alt">SSO 已禁用警告</block>
  <block id="ac5a3f942fcb96d4c3dcdf339a3bd353" category="paragraph">下次登录到 StorageGRID 时，将显示 StorageGRID 登录页面，您必须输入本地或联合 StorageGRID 用户的用户名和密码。</block>
  <block id="7e53287b76de912af3ce58339c72d4bd" category="doc">管理 StorageGRID ：概述</block>
  <block id="2393577129de63a958cc8fb0004e32c6" category="summary">如果要按分段，租户， IP 子网或负载平衡器端点监控网络流量，并可选择限制此流量，则可以创建流量分类策略。您也可以根据带宽，并发请求数或请求率为策略设置限制。</block>
  <block id="4ff6ba066d86d0740dd1e3236d683e95" category="doc">创建流量分类策略</block>
  <block id="1dd38c21b1881ac355b34b3be95597e3" category="list-text">您已创建要匹配的任何负载平衡器端点。</block>
  <block id="fe03e1f0cde8e0acc44f83af71a0122e" category="list-text">您已创建要匹配的任何租户。</block>
  <block id="a042e2d92d64a8043342656e8733ac79" category="paragraph">此时将显示 " 流量分类策略 " 页面。</block>
  <block id="d87a9e21d4150d765056005c94a82738" category="image-alt">流量分类策略—主屏幕</block>
  <block id="ab743ce9e474b1e65cce464462644e14" category="paragraph">此时将显示创建流量分类策略对话框。</block>
  <block id="4fd4a8528f46c5f4e0d7e7283eab6b5c" category="image-alt">流量分类策略—创建</block>
  <block id="177777539dc0581b26a4c5f1330905e7" category="list-text">在 * 名称 * 字段中，输入策略的名称。</block>
  <block id="480027d369d50acdadf24b3a6d3c6062" category="paragraph">输入描述性名称，以便识别策略。</block>
  <block id="ced16d2b5dc429e30daa0f75e7154f1f" category="list-text">也可以在 * 问题描述 * 字段中为策略添加问题描述 。</block>
  <block id="ab46fd3cfb8094d0ccb4228f1a36c974" category="paragraph">例如，描述此流量分类策略适用场景 及其限制。</block>
  <block id="33887dfd47313d3ca4184629b1cd5852" category="list-text">为策略创建一个或多个匹配规则。</block>
  <block id="33e099dd543ea54d678b585ad81303c5" category="paragraph">匹配规则控制哪些实体将受此流量分类策略的影响。例如，如果要将此策略应用于特定租户的网络流量，请选择租户。或者，如果要将此策略应用于特定负载平衡器端点上的网络流量，请选择 Endpoint 。</block>
  <block id="b162eaafd62513c58fe294a7c6c1a21e" category="list-text">在 * 匹配规则 * 部分中选择 * 创建 * 。</block>
  <block id="9116efeee347a75a856765ecc3eea3f1" category="paragraph">此时将显示创建匹配规则对话框。</block>
  <block id="4e895575c0da2aa9e6430e7671e640e2" category="image-alt">创建匹配规则</block>
  <block id="498bb7da33dca871fa9036399f211738" category="list-text">从 * 类型 * 下拉列表中，选择要包含在匹配规则中的实体类型。</block>
  <block id="f62c8d8ff8fb96fd1991d8dcf2807422" category="list-text">在 * 匹配值 * 字段中，根据您选择的实体类型输入匹配值。</block>
  <block id="e85f294d3796d6cee7ba8cdbed529959" category="list-text">存储分段：输入存储分段名称。</block>
  <block id="f7299495ee6f994c8e7b642fe76b5773" category="list-text">Bucket Rex ：输入用于匹配一组存储分段名称的正则表达式。</block>
  <block id="d1ae231969d88df71381f86ccc51e143" category="paragraph">正则表达式已取消锁定。使用 ｛ caret ｝ 定位点在存储分段名称开头匹配，并使用 $ 定位点在存储分段名称末尾匹配。</block>
  <block id="314198531feb16ae3324a1b787d6341f" category="list-text">CIDR ：以 CIDR 表示法输入与所需子网匹配的 IPv4 子网。</block>
  <block id="33832ee2652bed8a662a4dd98614ccf0" category="list-text">Endpoint ：从现有端点列表中选择一个端点。这些是您在负载平衡器端点页面上定义的负载平衡器端点。请参见 <block ref="a9afb6c4aba5bb26c45f4aeccf93e957" category="inline-xref-macro-rx"></block>。</block>
  <block id="477e1a37eecfde8e0c07ce4f98c10e66" category="list-text">租户：从现有租户列表中选择一个租户。租户匹配取决于所访问的存储分段的所有权。对存储分段的匿名访问与拥有存储分段的租户匹配。</block>
  <block id="fc18d317154eece058820057e46fd332" category="list-text">如果要匹配与刚刚定义的类型和匹配值一致的所有网络流量 _except _ 流量，请选中 * 反向 * 复选框。否则，请取消选中此复选框。</block>
  <block id="2703bfd7e338ad5d16bd4222b1a965c3" category="paragraph">例如，如果要将此策略应用于除一个负载平衡器端点之外的所有其他端点，请指定要排除的负载平衡器端点，然后选择 * 反向 * 。</block>
  <block id="4247bfca13a3b88e2c2c2018f8eabd62" category="admonition">对于包含多个匹配器且至少有一个是反向匹配器的策略，请注意不要创建与所有请求匹配的策略。</block>
  <block id="ef37be2e41b0ef1f451101e515735ac1" category="paragraph">此时将创建此规则，并将其列在匹配规则表中。</block>
  <block id="596727020b5c9d3dac02d9234771941a" category="image-alt">流量策略匹配规则</block>
  <block id="0f56918ce3629dfd2c1ab3955e8a0e09" category="list-text">对要为策略创建的每个规则重复上述步骤。</block>
  <block id="827b382ee426c2abe6135a7f5a2e1b44" category="admonition">与任何规则匹配的流量由策略处理。</block>
  <block id="84a04bbe6419bf97a7d15860463ec6ef" category="list-text">也可以为策略创建限制。</block>
  <block id="0b63351266fabe4dbdfbaa21855f0aec" category="admonition">即使不创建限制， StorageGRID 也会收集指标，以便监控与策略匹配的网络流量。</block>
  <block id="cdbbdca94dc5b429f95d47bcb62a9ea5" category="list-text">在 * 限制 * 部分中选择 * 创建 * 。</block>
  <block id="8ca42db5732225d8eaa616d80da1ed55" category="paragraph">此时将显示创建限制对话框。</block>
  <block id="b61cc50c4b6359670cdc93078f39ca0a" category="image-alt">创建限制</block>
  <block id="ac9df1aae6638fa78b663dc62d8e799c" category="list-text">从 * 类型 * 下拉列表中，选择要应用于策略的限制类型。</block>
  <block id="83fdb37bb140ba7732096379560a3238" category="paragraph">在以下列表中， * 输入 * 是指从 S3 或 Swift 客户端到 StorageGRID 负载平衡器的流量， * 输出 * 是指从负载平衡器到 S3 或 Swift 客户端的流量。</block>
  <block id="9deac4a4b20b90d7a88ad08eb38b13dd" category="paragraph">对于带宽限制， StorageGRID 会应用与设置的限制类型最匹配的策略。例如，如果您的策略仅限制一个方向的流量，则相反方向的流量将是无限制的，即使存在与具有带宽限制的其他策略匹配的流量也是如此。StorageGRID 按以下顺序实施 "`最佳` " 匹配的带宽限制：</block>
  <block id="735aad86ba6d7970f6c70391f2f43039" category="list-text">确切的 IP 地址（ /32 掩码）</block>
  <block id="6999ca64def660099d12fd720502a185" category="list-text">确切的存储分段名称</block>
  <block id="8c117925f04a1f4aea88a9a00ca796eb" category="list-text">分段正则表达式</block>
  <block id="6252d0571760e3d285e2e41a2b1e7743" category="list-text">租户</block>
  <block id="2a6ba72e93aa7fa676d07973ed2716bb" category="list-text">端点</block>
  <block id="050e734c00e39f1314364191fbf453cb" category="list-text">非精确的 CIDR 匹配项（非 /32 ）</block>
  <block id="f67f44e1440809230310a380f88cdd8b" category="list-text">反向匹配</block>
  <block id="35fa3af4dd86adc7b734ec1bdeca6aab" category="list-text">在 * 值 * 字段中，输入所选限制类型的数值。</block>
  <block id="ba3a541012686af0cd4ef93ad4785f75" category="paragraph">选择限制时，系统将显示预期单位。</block>
  <block id="818a0f061d78e8780b176b12ead81d55" category="paragraph">此时将创建此限制，并将其列在限制表中。</block>
  <block id="868ecce445552c496ef131367d3aadf9" category="image-alt">流量策略限制</block>
  <block id="3a37dc058ad149757801155ca3460138" category="list-text">对要添加到策略中的每个限制重复上述步骤。</block>
  <block id="34ba13f7becbbfae64b37c00390366ef" category="paragraph">例如，如果要为 SLA 层创建 40 Gbps 带宽限制，请创建 " 聚合带宽限制 " 和 " 聚合带宽超限 " ，并将每个限制设置为 40 Gbps 。</block>
  <block id="5edfdb3915cf2e9928d19cef6dfe38b4" category="admonition">要将每秒兆字节数转换为每秒千兆位数，请乘以 8 。例如， 125 MB/ 秒相当于 1 ， 000 Mbps 或 1 Gbps 。</block>
  <block id="b390b9f12d7ee45307a2ca0ac3ed1465" category="list-text">创建完规则和限制后，请选择 * 保存 * 。</block>
  <block id="4bcb8f2dd4f32bbfc640e0c08d882e22" category="paragraph">此策略将保存并列出在 " 流量分类策略 " 表中。</block>
  <block id="cbd4d896f0932a504146bf3bea41393a" category="image-alt">流量策略示例</block>
  <block id="b77bf01d2e029a109030509a7ebf95ba" category="paragraph">现在， S3 和 Swift 客户端流量将根据流量分类策略进行处理。您可以查看流量图表并验证策略是否正在强制实施预期的流量限制。请参见 <block ref="a47b3cc9ae54ff6e6cc4213fb8d3e523" category="inline-xref-macro-rx"></block>。</block>
  <block id="5c5e0a2472a53b874eb72c3ebfd9534a" category="summary">网格管理 API 使用版本控制来支持无中断升级。</block>
  <block id="4a617027248bf15ebb0c111b131f3d2b" category="doc">网格管理 API 版本控制</block>
  <block id="2e695698651ab9d231e4137ce56a9a60" category="paragraph">`https://_hostname_or_ip_address_/api/v3/authorize`</block>
  <block id="df098cf898ba3c34cb602e9f5bc184b3" category="paragraph">首次安装 StorageGRID 软件时，仅会启用最新版本的网格管理 API 。但是，在升级到 StorageGRID 的新功能版本时，您仍可以访问至少一个 StorageGRID 功能版本的旧版 API 。</block>
  <block id="8f6292e0168fa775bd54d5c970022eb8" category="admonition">您可以使用网格管理 API 配置受支持的版本。有关详细信息，请参见 Swagger API 文档中的 "`config` " 一节。在更新所有网格管理 API 客户端以使用较新版本后，您应停用对较旧版本的支持。</block>
  <block id="29208f41751798610872918107907087" category="list-text">NMS.log 中会添加一个已弃用的警告。例如：</block>
  <block id="0f01e7e492bbccc13b47366e5c4a93b9" category="section-title">确定当前版本支持哪些 API 版本</block>
  <block id="075d37dd05ed1789d7c45710f4ceb7a9" category="section-title">指定请求的 API 版本</block>
  <block id="101acaa872f9f10da74e124a9ee3f161" category="summary">您可以更新数据中心站点之间的链路成本，以反映站点之间的延迟。</block>
  <block id="e772c6bd1a01caff121d5ead929ed675" category="list-text">您具有网格拓扑页面配置权限。</block>
  <block id="694eab9b770c417057841e2b6ec38e46" category="list-text">选择 * 配置 * &gt; * 网络 * &gt; * 链路成本 * 。</block>
  <block id="096bf038e531b14b89f2742470177e92" category="image-alt">链路成本</block>
  <block id="81f1e6e461c3a43ae3478c99ea40bdb7" category="list-text">在 * 链路源 * 下选择一个站点，然后在 * 链路目标 * 下输入一个介于 0 和 100 之间的成本值。</block>
  <block id="d8f6db893b5909ddbce19b4a3d88c4ba" category="paragraph">如果源与目标相同，则无法更改链路成本。</block>
  <block id="8704b7af5a2b93d3941c628849f397f7" category="inline-image-macro">撤消图标</block>
  <block id="af83c188917832d2c4c9c134609a01f7" category="paragraph">要取消更改，请选择 <block ref="4800630432b18a4547d73ebabd4c93f8" category="inline-image-macro-rx" type="image"></block>* 还原 * 。</block>
  <block id="a63350a2c63357ce30d90e2a8dc0bfaf" category="summary">您可以使用 StorageGRID 密钥管理服务器向导添加每个 KMS 或 KMS 集群。</block>
  <block id="fbc54eec4d722bb77694132040d54fe8" category="inline-xref-macro">已在 KMS 中将 StorageGRID 配置为客户端</block>
  <block id="facfcde6a9e3f13b9b03f1c1c06c795a" category="list-text">您已拥有 <block ref="533fe5c1d10d2c3c10a60da7d01d3beb" category="inline-xref-macro-rx"></block>和您具有每个 KMS 或 KMS 集群所需的信息。</block>
  <block id="43d6ac6e395e6d489fc8d97c65193d13" category="inline-xref-macro">更改站点的 KMS 的注意事项</block>
  <block id="a130209a1b8e7608a99d5b0614c14c90" category="paragraph">如果可能，请先配置任何站点特定的密钥管理服务器，然后再配置一个默认 KMS ，以便对所有不受另一个 KMS 管理的站点进行适用场景 。如果首先创建默认 KMS ，则网格中所有节点加密的设备都将使用默认 KMS 进行加密。如果要稍后创建站点专用的 KMS ，则必须先将当前版本的加密密钥从默认 KMS 复制到新的 KMS 。请参见 <block ref="6475c46a4fc7a54d1f76fa8eae989add" category="inline-xref-macro-rx"></block> 了解详细信息。</block>
  <block id="0c494b8d1db6a9e92e22b1c5829105b2" category="section-title">第 1 步：输入 KMS 详细信息</block>
  <block id="8891f577689839ce1edf6d18334fad8c" category="paragraph">在添加密钥管理服务器向导的步骤 1 （输入 KMS 详细信息）中，您可以提供有关 KMS 或 KMS 集群的详细信息。</block>
  <block id="71926df384e1a6443b9111d932ed35b7" category="paragraph">此时将显示密钥管理服务器页面，并选中配置详细信息选项卡。</block>
  <block id="55b8bde32092d6d168b6e2e649130d9c" category="image-alt">KMS 配置详细信息无 KMS</block>
  <block id="667925678330795adc9abd3d7008c916" category="paragraph">此时将显示添加密钥管理服务器向导的第 1 步（输入 KMS 详细信息）。</block>
  <block id="498142529dcfa2cef6fd4bb2923f1afd" category="image-alt">KMS 步骤 1 输入 KMS 详细信息</block>
  <block id="c86aa6f28d5d04f73bcad1ad7b73378b" category="list-text">为 KMS 和您在该 KMS 中配置的 StorageGRID 客户端输入以下信息。</block>
  <block id="fc1031fcd9ac38084f36226a79f3e670" category="paragraph">将与此 KMS 关联的 StorageGRID 站点。如果可能，您应先配置任何站点特定的密钥管理服务器，然后再配置一个默认 KMS ，以便对不受另一个 KMS 管理的所有站点进行适用场景 。</block>
  <block id="2c3c591eada27e35878e034a1d2bea41" category="list-text">如果此 KMS 将管理特定站点上设备节点的加密密钥，请选择一个站点。</block>
  <block id="1e350fd41038510b5d1a337684d15cab" category="list-text">选择 * 不受其他 KMS 管理的站点（默认 KMS ） * 可配置一个默认 KMS ，该 KMS 将应用于没有专用 KMS 的任何站点以及您在后续扩展中添加的任何站点。</block>
  <block id="de65408955a9654d287629e085787fb5" category="paragraph">* 注意： * 如果您选择的站点先前已被默认 KMS 加密，但未向新 KMS 提供当前版本的原始加密密钥，则保存 KMS 配置时将发生验证错误。</block>
  <block id="36d7addde14a5371afb8138d13c2dc56" category="list-text">如果您使用的是 KMS 集群，请选择加号 <block ref="67847d056b9d257a54be6156f859e5e1" category="inline-image-macro-rx" type="image"></block> 为集群中的每个服务器添加主机名。</block>
  <block id="43255c010fc4339fb5d49824ca49f28f" category="section-title">第 2 步：上传服务器证书</block>
  <block id="6baaf6361dda0f09bf04a6258901cf98" category="paragraph">在添加密钥管理服务器向导的第 2 步（上传服务器证书）中，您可以上传 KMS 的服务器证书（或证书包）。通过服务器证书，外部 KMS 可以向 StorageGRID 进行身份验证。</block>
  <block id="3d90d98b1f9c0a29ab38c202c11ae4a9" category="list-text">从 * 步骤 2 （上传服务器证书） * 中，浏览到保存的服务器证书或证书包的位置。</block>
  <block id="fbae1e31dac08653763a78ebe5da4c00" category="image-alt">Kms 步骤 2 上传服务器证书</block>
  <block id="2347476c3a01d0ab2a2dd837e6b9cabb" category="list-text">上传证书文件。</block>
  <block id="3a765779b4b38d99f3efa35489722c3a" category="paragraph">此时将显示服务器证书元数据。</block>
  <block id="77a06c19c70c8fd852c48558f3908829" category="image-alt">kms 步骤 2 服务器证书元数据</block>
  <block id="a5c4cd160e354187d263336dd464fc3a" category="admonition">如果您上传的是证书捆绑包，则每个证书的元数据将显示在其自己的选项卡上。</block>
  <block id="f40d89e5f651821d5629723d58717357" category="section-title">第 3 步：上传客户端证书</block>
  <block id="2de10bc3809c3b673b70f89b7275eecf" category="paragraph">在添加密钥管理服务器向导的第 3 步（上传客户端证书）中，您可以上传客户端证书和客户端证书专用密钥。客户端证书允许 StorageGRID 向 KMS 进行身份验证。</block>
  <block id="1bac6e8360e77f4f167e062e0491d092" category="list-text">从 * 步骤 3 （上传客户端证书） * 中，浏览到客户端证书的位置。</block>
  <block id="71ee2c485b809efca7c35b4aeecc9fc4" category="image-alt">Kms 步骤 3 上传客户端证书</block>
  <block id="0f45ed43a48e722f0e9a2763397ac7f7" category="list-text">上传客户端证书文件。</block>
  <block id="fe6f0f99173d3af8396984cfa2d74378" category="paragraph">此时将显示客户端证书元数据。</block>
  <block id="84c9df4d197b0137974093498325e65b" category="list-text">浏览到客户端证书的专用密钥位置。</block>
  <block id="9f26b6d8bbb14e5f9b4b9581856fe355" category="list-text">上传私钥文件。</block>
  <block id="c2675dd88a28c6562db0d2cc6224e032" category="paragraph">此时将显示客户端证书和客户端证书专用密钥的元数据。</block>
  <block id="9af83f486dcdbf9a43c2b4630edb63c8" category="image-alt">Kms 步骤 3 客户端证书元数据</block>
  <block id="6cdcb507c89fec480fb88190fc6ce8d0" category="paragraph">测试密钥管理服务器与设备节点之间的连接。如果所有连接均有效，并且在 KMS 上找到正确的密钥，则新的密钥管理服务器将添加到密钥管理服务器页面上的表中。</block>
  <block id="4bfd6e1ac8a3557e406f3ea3c44b1a20" category="admonition">添加 KMS 后，密钥管理服务器页面上的证书状态将立即显示为未知。StorageGRID 可能需要长达 30 分钟才能获取每个证书的实际状态。您必须刷新 Web 浏览器才能查看当前状态。</block>
  <block id="ee37c645c93ea6e6cdfdc35d63885f6a" category="list-text">如果选择 * 保存 * 时显示错误消息，请查看消息详细信息，然后选择 * 确定 * 。</block>
  <block id="28aa60758459c045e490a35d95ba8eb7" category="paragraph">例如，如果连接测试失败，您可能会收到 422 ： Unprocessable Entity 错误。</block>
  <block id="83345cff858ebf4ae47ee669c5ac0748" category="list-text">如果需要保存当前配置而不测试外部连接，请选择 * 强制保存 * 。</block>
  <block id="65afc3d82f1ba56ceb649edfe7302ac1" category="image-alt">Kms 强制保存</block>
  <block id="1a1d0442675cb5cfed80e28a2b0de026" category="summary">当 TSM 数据库或 TSM 服务器管理的归档介质存储即将达到容量时， TSM 服务器无法通知归档节点。可以通过主动监控 TSM 服务器来避免这种情况。</block>
  <block id="d537103009289361487b44b22e6c8ba9" category="doc">在 TSM 服务器达到容量时管理归档节点</block>
  <block id="577ed60dc98765814544e23349e21af5" category="paragraph">在 TSM 服务器停止接受新内容后，归档节点将继续接受要传输到 TSM 服务器的对象数据。此内容无法写入 TSM 服务器管理的介质。如果发生这种情况，将触发警报。</block>
  <block id="faa35ca35f88a16c34cf41dd04f09acc" category="section-title">阻止应用程序保护服务向 TSM 服务器发送内容</block>
  <block id="1aca6d078911e18bc7927f4558e45784" category="paragraph">为了防止此 ARC-Service 向 TSM 服务器发送更多内容，您可以使归档节点的 * ARC/ * 组件脱机，从而使其 * 存储 * 组件脱机。此操作步骤 还有助于防止在 TSM 服务器不可维护时发出警报。</block>
  <block id="2277ba9724d4af0e38c1f6dbbd78cd73" category="list-text">将 * 存储状态 * 更改为 `脱机` 。</block>
  <block id="dc9299da7d703252ac0f619113ccf1cc" category="list-text">选择 * 启动时已禁用归档存储 * 。</block>
  <block id="9df7384b58de548c0119dd8b562a49cf" category="section-title">如果 TSM 中间件达到容量，请将归档节点设置为只读</block>
  <block id="bbe5fcbfec48a261455616f46c463cea" category="paragraph">如果目标 TSM 中间件服务器达到容量，则可以对归档节点进行优化，使其仅执行检索。</block>
  <block id="84c85cd1c533063ac466167ec9a77b6f" category="list-text">将最大检索会话数更改为与会话数中列出的并发会话数相同。</block>
  <block id="1b621998a79b817ea20f4e61ce8aa038" category="list-text">将最大存储会话数更改为 0 。</block>
  <block id="1ae075797bd0ddea3c94ebe8d3aa8a6f" category="admonition">如果归档节点为只读，则无需将最大存储会话数更改为 0 。不会创建存储会话。</block>
  <block id="f5fafd17949aaa169821d131a715be89" category="summary">StorageGRID 在每个网格节点上最多支持三个网络接口，使您可以根据安全和访问要求为每个网格节点配置网络。</block>
  <block id="b9a1ab619809ecbfe9ebcbfdc8e69879" category="doc">StorageGRID 网络准则</block>
  <block id="508e41cb05219c407e812bfff92c485f" category="paragraph">您可以使用网格管理器配置和管理 StorageGRID 网络和连接。</block>
  <block id="8fb45982ddba30969046d04d2509f97c" category="inline-xref-macro">配置 S3 和 Swift 客户端连接</block>
  <block id="b1e34ca264e611d9847bf09a1220e326" category="paragraph">请参见 <block ref="d6594c7432dca27bdb3acb9e2454413a" category="inline-xref-macro-rx"></block> 了解如何连接 S3 或 Swift 客户端。</block>
  <block id="a3f66e895b8b2a2e794a938d27729014" category="section-title">默认 StorageGRID 网络</block>
  <block id="b1f0640066813a22537b06d656234094" category="paragraph">默认情况下， StorageGRID 支持每个网格节点使用三个网络接口，从而可以根据您的安全和访问要求为每个网格节点配置网络。</block>
  <block id="2e0845d98d53a555eb3654b98f6f9e45" category="paragraph">有关网络拓扑的详细信息，请参见 <block ref="e1bf2b8082914814aefb3dd546569f4d" category="inline-xref-macro-rx"></block>。</block>
  <block id="a5a7c9898fd9afd4bb12c52f98470c6f" category="paragraph">Required网格网络用于所有内部 StorageGRID 流量。它可以在网格中的所有节点之间以及所有站点和子网之间建立连接。</block>
  <block id="4d39b524513866d4e4f1b1878916cc9b" category="paragraph">可选。管理网络通常用于系统管理和维护。它也可用于客户端协议访问。管理网络通常是一个专用网络，不需要在站点之间进行路由。</block>
  <block id="50305f6e88dae36c3ef0e853a8d1714c" category="paragraph">可选。客户端网络是一种开放网络，通常用于提供对 S3 和 Swift 客户端应用程序的访问，因此网格网络可以进行隔离和保护。客户端网络可以与可通过本地网关访问的任何子网进行通信。</block>
  <block id="af68aec6a9ff864bb2ea1a13ec1ac66f" category="section-title">准则</block>
  <block id="86e5746bf0ff8be4638dad1edb3a50ed" category="list-text">每个 StorageGRID 网格节点都需要为其分配到的每个网络配置一个专用网络接口， IP 地址，子网掩码和网关。</block>
  <block id="b59c4acada236d07c44b8af9319284bb" category="list-text">一个网格节点在一个网络上不能有多个接口。</block>
  <block id="daed9952be69d502311b63b17fd3dc61" category="list-text">支持每个网格节点在每个网络上使用一个网关，并且该网关必须与节点位于同一子网中。如果需要，您可以在网关中实施更复杂的路由。</block>
  <block id="e09106a326f760c40c3f7ed6f365888d" category="list-text">在每个节点上，每个网络都映射到一个特定的网络接口。</block>
  <block id="3dc1969d68e73ccc0ff9c566e36a0889" category="paragraph">admin （可选）</block>
  <block id="ab91c2f1d09ef28a0851be5243886b92" category="paragraph">客户端（可选）</block>
  <block id="4f55d3d17f1dd4d07830007a0f3d2a42" category="list-text">如果节点连接到 StorageGRID 设备，则每个网络都使用特定端口。有关详细信息，请参见适用于您的设备的安装说明。</block>
  <block id="1b9d7a8a62ef84382138818c3bdeeacb" category="list-text">每个节点都会自动生成默认路由。如果启用了 eth2 ，则 0.0.0.0/0 将在 eth2 上使用客户端网络。如果未启用 eth2 ，则 0.0.0.0/0 将在 eth0 上使用网格网络。</block>
  <block id="11f357a03aef96c1e343e6aa4fb5b662" category="list-text">只有在网格节点加入网格后，客户端网络才会正常运行</block>
  <block id="49dfba7ec7f987693bf9945e7d67eb35" category="list-text">可以在网格节点部署期间配置管理网络，以便在网格完全安装之前能够访问安装用户界面。</block>
  <block id="3e8680ea2d21fae1121788ad9440e344" category="section-title">可选接口</block>
  <block id="7296f320280cd76169834b283b7a5d9f" category="inline-xref-macro">高可用性（ HA ）组</block>
  <block id="d81b88358937bc0eb79cb62041ced2ce" category="paragraph">您也可以向节点添加额外的接口。例如，您可能希望将中继接口添加到管理节点或网关节点，以便可以使用 <block ref="77ff60563980dc22397f061986359171" category="inline-xref-macro-rx"></block> 隔离属于不同应用程序或租户的流量。或者，您可能希望添加要在中使用的访问接口 <block ref="00838afb8e25618c426c518a874c957c" category="inline-xref-macro-rx"></block>。</block>
  <block id="f0217e2333c713087624fffa5c28294a" category="paragraph">要添加中继或访问接口，请参见以下内容：</block>
  <block id="18feeced4fad07a01b24ef58b682363d" category="summary">负载平衡器服务将传入的网络连接从客户端应用程序分发到存储节点。要启用负载平衡，必须使用网格管理器配置负载平衡器端点。</block>
  <block id="622acbeb8a574a5ec1f847fd85b9679a" category="paragraph">您只能为管理节点或网关节点配置负载平衡器端点，因为这些节点类型包含负载平衡器服务。您不能为存储节点或归档节点配置端点。</block>
  <block id="2500cc6d675380e874f632d480294932" category="paragraph">每个负载平衡器端点都指定一个端口，一个网络协议（ HTTP 或 HTTPS ），一个客户端类型（ S3 或 Swift ）和一个绑定模式。HTTPS 端点需要服务器证书。通过绑定模式，您可以将端点端口的可访问性限制为：</block>
  <block id="6f464de05db4ea294ead6f4accb1ddad" category="list-text">特定高可用性（ HA ）组的虚拟 IP 地址（ VIP ）</block>
  <block id="2431b39b5fb6d6ba4c817ee3a050fcce" category="list-text">特定管理节点和网关节点的特定网络接口</block>
  <block id="ad027e25d911a5c72e3a26fde68577d5" category="section-title">端口注意事项</block>
  <block id="720c8e44b1c04cd95a31f3e6eee04b31" category="paragraph">客户端可以访问您在运行负载平衡器服务的任何节点上配置的任何端点，但有两个例外：端口 80 和 443 在管理节点上保留，因此在这些端口上配置的端点仅支持网关节点上的负载平衡操作。</block>
  <block id="f30e61bdf7f0bccf35f2db81fe120dd4" category="section-title">CPU 可用性</block>
  <block id="a577a039c824d552326430a11cf4e49d" category="paragraph">在向存储节点转发 S3 或 Swift 流量时，每个管理节点和网关节点上的负载平衡器服务会独立运行。通过加权过程，负载平衡器服务会将更多请求路由到 CPU 可用性更高的存储节点。节点 CPU 负载信息每隔几分钟更新一次，但权重可能会更频繁地更新。即使节点报告利用率为 100% 或未能报告利用率，也会为所有存储节点分配最小基本权重值。</block>
  <block id="085964cac01dae1b2f59b035c4ee93e3" category="paragraph">在某些情况下，有关 CPU 可用性的信息仅限于负载平衡器服务所在的站点。</block>
  <block id="c5dd97ee2d7d4663106e84a6b895afe4" category="summary">客户端应用程序可以使用网格节点的 IP 地址以及该节点上服务的端口号连接到 StorageGRID 。如果配置了高可用性组（ HA ），则客户端应用程序可以使用 HA 组的虚拟 IP 地址进行连接。</block>
  <block id="e52161ba8bee1ccb0b2e6f2f30d888c9" category="paragraph">客户端应用程序可以使用网格节点的 IP 地址以及该节点上服务的端口号连接到 StorageGRID 。如果配置了高可用性（ HA ）组，则客户端应用程序可以使用 HA 组的虚拟 IP 地址进行连接。</block>
  <block id="5a21ba2df9210a91d66b12bc5b1150c0" category="paragraph">此表总结了客户端连接到 StorageGRID 的不同方式以及每种连接类型所使用的 IP 地址和端口。这些说明介绍了在已配置负载平衡器端点和高可用性（ HA ）组的情况下如何在网格管理器中查找此信息。</block>
  <block id="e2d825c0a7ac2c28877509aae7c848e5" category="list-text">HTTPS ： 8083</block>
  <block id="7900a278216cdca877653095e147e094" category="list-text">HTTP ： 8085</block>
  <block id="3350710a777f8d4eed7edc712389f9af" category="list-text">HTTP ： 18085</block>
  <block id="9b0c5c159530ad94680cacf9857cb610" category="list-text">` https://192.0.2.5:10443`</block>
  <block id="08b4c527f7ac78474f276e6995f6b2c6" category="list-text">要查找网格节点的 IP 地址，请执行以下操作：</block>
  <block id="75e3095e482951a6724f7205cc361b70" category="list-text">选择要连接到的管理节点，网关节点或存储节点。</block>
  <block id="2daabc6822724771970f17e8ae6a4cee" category="list-text">选择 * 概述 * 选项卡。</block>
  <block id="ec08c46b0889163cfe3bc12f2809d27d" category="list-text">在节点信息部分中，记下节点的 IP 地址。</block>
  <block id="de22a2cc25a68a2904d906e243485428" category="list-text">选择 * 显示更多 * 可查看 IPv6 地址和接口映射。</block>
  <block id="ecf17b79fb7bf68d069901b9240b118b" category="paragraph">您可以建立从客户端应用程序到列表中任何 IP 地址的连接：</block>
  <block id="868e96dc75181ddafc0b3cad0db85355" category="list-text">* eth0 ： * 网格网络</block>
  <block id="2c430771739bc89aff93f8d9a1971d35" category="list-text">* eth1 ： * 管理网络（可选）</block>
  <block id="84c6b5d3dc2212e129dec6514fcc45ec" category="list-text">* eth2 ： * 客户端网络（可选）</block>
  <block id="46cea81c0d254b9bb00cb46bf1433048" category="admonition">如果您正在查看管理节点或网关节点，并且该节点是高可用性组中的活动节点，则 eth2 上会显示 HA 组的虚拟 IP 地址。</block>
  <block id="287623e66a0f781d596dc88868a029e4" category="list-text">要查找高可用性组的虚拟 IP 地址，请执行以下操作：</block>
  <block id="f42028bcb792efd0cce067a9246e3e40" category="list-text">在表中，记下 HA 组的虚拟 IP 地址。</block>
  <block id="0e3630a1378d14cddbf40a0558b29e85" category="list-text">查找负载平衡器端点的端口号：</block>
  <block id="a41c8c83d22fcea64e1df56c36cda3f0" category="paragraph">此时将显示负载平衡器端点页面，其中显示了已配置的端点列表。</block>
  <block id="6a62cbc0941effe92146876cd5374087" category="list-text">选择一个端点，然后选择 * 编辑端点 * 。</block>
  <block id="f44db234dec0c1f99d26e3e342b844ac" category="paragraph">此时将打开编辑端点窗口，并显示有关此端点的其他详细信息。</block>
  <block id="7d28cdbba7c074b7f6c851f25457d882" category="list-text">确认已将选定端点配置为使用正确的协议（ S3 或 Swift ），然后选择 * 取消 * 。</block>
  <block id="b50ab193624d6c3dffccda439fc3e651" category="list-text">记下要用于客户端连接的端点的端点端口号。</block>
  <block id="e1451b0050739870e43baa2b9589986e" category="admonition">如果端口号为 80 或 443 ，则仅在网关节点上配置端点，因为这些端口是在管理节点上保留的。所有其他端口都在网关节点和管理节点上进行配置。</block>
  <block id="0e7f5480cf584043b0dd258eaf9ba529" category="summary">存储对象哈希选项指定用于验证对象完整性的哈希算法。</block>
  <block id="b5f064bfc6d1131e177fa54d386ad793" category="doc">配置存储的对象哈希</block>
  <block id="db479f2da9f3fcaf8f8b9c26824cdc6b" category="paragraph">默认情况下，对象数据使用 SHA-1 算法进行哈希。SHA-256 算法需要额外的 CPU 资源，通常不建议用于完整性验证。</block>
  <block id="e5b7c1caa8dd6a4cb8e318401950a579" category="list-text">在存储的对象选项部分中，将存储的对象哈希更改为 * SHA-1* （默认）或 * SHA-256* 。</block>
  <block id="37de22dd69ba3ea0fca6e9e70c9f0bfe" category="image-alt">存储对象哈希</block>
  <block id="19ce00b48a2f20225ea54bff571997fd" category="summary">如果归档节点连接到 TSM 中间件服务器，则可以将归档节点的归档存储状态配置为联机或脱机。您还可以在归档节点首次启动时禁用归档存储，或者重置为关联警报跟踪的故障计数。</block>
  <block id="57ee9c3300dc86977000a4abfb28b42f" category="doc">配置 TSM 的归档状态和计数器</block>
  <block id="317fc7f34133788620c769a400d9ca01" category="paragraph">如果归档节点连接到 TSM 中间件服务器，则可以将归档节点的归档存储状态配置为联机或脱机。您还可以在归档节点首次启动时禁用归档存储，或者重置为关联警报跟踪的故障计数。</block>
  <block id="7da0d051f556c97c468d867accb274d2" category="image-alt">为 TSM 中间件连接配置归档存储</block>
  <block id="fd9209d8db7fe7470684acd488f96cf9" category="list-text">存储状态：将组件状态设置为：</block>
  <block id="a0b6f192c5e8997a19feb50306c2ea2f" category="list-text">联机：归档节点可用于处理要存储到归档存储系统的对象数据。</block>
  <block id="8b3b263cebcc031a2408a1ed5a466196" category="list-text">脱机：归档节点不可用于将要存储的对象数据处理到归档存储系统。</block>
  <block id="99369e3ef6b0b44ccbbb3faf1b8fbe71" category="list-text">启动时禁用归档存储：选中后，重新启动时归档存储组件将保持只读状态。用于持久禁用目标归档存储系统的存储。当目标归档存储系统无法接受内容时，此功能非常有用。</block>
  <block id="48be49af0db7179f21052d437e3372b3" category="list-text">Reset Store Failure Count ：重置存储故障计数器。此选项可用于清除 ARVF （存储故障）警报。</block>
  <block id="d0ebcd33c7e3f986983709ff3053d631" category="paragraph"><block ref="d0ebcd33c7e3f986983709ff3053d631" category="inline-xref-macro-rx"></block></block>
  <block id="8fff69b96150bcff00dce293eb7b04d6" category="summary">一个 StorageGRID 系统可以包含多个管理节点，这样，即使一个管理节点出现故障，您也可以持续监控和配置 StorageGRID 系统。</block>
  <block id="1e68f720ef5957cd537e6eb5ebdf3cc0" category="doc">使用多个管理节点</block>
  <block id="ddbc0eeb3af9bbc47385bab9e115e0d0" category="paragraph">如果管理节点不可用，则属性处理将继续，警报和警报（旧系统）仍会触发，同时仍会发送电子邮件通知和 AutoSupport 消息。但是，拥有多个管理节点不会提供故障转移保护，但通知和 AutoSupport 消息除外。特别是，从一个管理节点发出的警报确认不会复制到其他管理节点。</block>
  <block id="2b4e39dd16d552e69c9ade2589afbb60" category="image-alt">管理节点冗余图</block>
  <block id="9d538fea24bdb1997f62c47cb6720c35" category="paragraph">如果管理节点出现故障，可以通过两种方法继续查看和配置 StorageGRID 系统：</block>
  <block id="e289c1042e516343fa926849dd305cbb" category="list-text">Web 客户端可以重新连接到任何其他可用的管理节点。</block>
  <block id="c755f02bfcfda16ecb2755914c59417e" category="list-text">如果系统管理员配置了高可用性管理节点组，则 Web 客户端可以继续使用 HA 组的虚拟 IP 地址访问网格管理器或租户管理器。请参见 <block ref="9c623feaa0dcb8f5af8b2367745f6e76" category="inline-xref-macro-rx"></block>。</block>
  <block id="77610385a321035db7c9dd8d80926ae2" category="admonition">使用 HA 组时，如果主管理节点出现故障，访问将中断。用户必须在 HA 组的虚拟 IP 地址故障转移到组中的另一个管理节点后重新登录。</block>
  <block id="be04e3028a0ee7df273f4832bfc2027c" category="paragraph">某些维护任务只能使用主管理节点执行。如果主管理节点出现故障，则必须先对其进行恢复，然后 StorageGRID 系统才能重新完全正常运行。</block>
  <block id="18cfdc5fe1fbac31b0d1ec4b29ebb46f" category="summary">管理节点可提供系统配置，监控和日志记录等管理服务。每个网格都必须有一个主管理节点，并且可能有任意数量的非主管理节点，以实现冗余。</block>
  <block id="eb44e977c3d7f27902be1cc9e010c9db" category="doc">什么是管理节点</block>
  <block id="35a9b3fad24b83e46ef879069b880c9a" category="paragraph">登录到网格管理器或租户管理器时，您正在连接到管理节点。您可以连接到任何管理节点，每个管理节点都会显示一个类似的 StorageGRID 系统视图。但是，必须使用主管理节点执行维护过程。</block>
  <block id="8ac8c62fcf8429abe2a09c353e7b288c" category="paragraph">管理节点还可用于对 S3 和 Swift 客户端流量进行负载平衡。</block>
  <block id="9ee8535f5061c982174f1e47633e6ce9" category="paragraph">管理节点托管以下服务：</block>
  <block id="606dd9fd670bd2d84227d64fd2592a50" category="list-text">AMS 服务</block>
  <block id="54c09edcebc8c77c9cf0ceeb86855468" category="list-text">CMN 服务</block>
  <block id="668ae60ef353fbecb89c3fa891e18f93" category="list-text">NMS 服务</block>
  <block id="d34766dd0a3d88edc904de6e4563757c" category="list-text">Prometheus 服务</block>
  <block id="73eab430b162b3d2ba4e34550e850af3" category="list-text">负载平衡器和高可用性服务（用于支持 S3 和 Swift 客户端流量）</block>
  <block id="a90faf1d25d4b47f9f9ab8d4ed625956" category="paragraph">管理节点还支持管理应用程序程序接口（ Management Application Program Interface ， mgmt-API ）处理来自网格管理 API 和租户管理 API 的请求。请参见 <block ref="fb20a87dd79ba23bb42ff8aceb1bc70f" category="inline-xref-macro-rx"></block>。</block>
  <block id="3e0afb38d2ee492db344d16b34f080a7" category="section-title">什么是 AMS 服务</block>
  <block id="83d880307fb32772e22cf504278f6985" category="paragraph">审核管理系统（ Audit Management System ， AMS ）服务可跟踪系统活动和事件。</block>
  <block id="de1788703a197041ff53e628532dff28" category="section-title">什么是 CMN 服务</block>
  <block id="a0c554aec0f9749b13ca0972c1681e73" category="paragraph">配置管理节点（ CMN ）服务负责管理所有服务所需的连接和协议功能的系统范围配置。此外， CMN 服务还用于运行和监控网格任务。每个 StorageGRID 部署只有一个 CMN 服务。托管 CMN 服务的管理节点称为主管理节点。</block>
  <block id="b4290768909df4b2f54e9d9fb463281a" category="section-title">什么是 NMS 服务</block>
  <block id="3949b9fba0bbf4ddbd57d761985f08c2" category="paragraph">网络管理系统（ Network Management System ， NMS ）服务为通过网格管理器（ StorageGRID 系统基于浏览器的界面）显示的监控，报告和配置选项提供支持。</block>
  <block id="80757c9ab152d2332a80a7dd61c5ece9" category="section-title">什么是 Prometheus 服务</block>
  <block id="643ebd494f4c4bab206498e2c887aaaa" category="paragraph">Prometheus 服务从所有节点上的服务收集时间序列指标。</block>
  <block id="c588de78e603723ee95a80b71f4cad8c" category="summary">使用完网格管理器后，您必须注销以确保未经授权的用户无法访问 StorageGRID 系统。根据浏览器 Cookie 设置，关闭浏览器可能无法将您从系统中注销。</block>
  <block id="1f83a6540191c15e43ae4fbb5ef75497" category="doc">注销 Grid Manager</block>
  <block id="0751bda0f5ba336e94279ee19f134b6e" category="list-text">在右上角选择您的用户名。</block>
  <block id="739a0ef73d41c9300f13e27d7b36c044" category="paragraph">SSO 未使用</block>
  <block id="cceefd280f8e3f99b5c71e15012e4328" category="paragraph">您已从管理节点注销。</block>
  <block id="3c8702b161176e0697da86e7db7e0f40" category="paragraph">此时将显示网格管理器登录页面。</block>
  <block id="b8b61025032eee183151c1455eea33fb" category="paragraph">* 注意： * 如果您已登录到多个管理节点，则必须从每个节点注销。</block>
  <block id="a4a7e3715ffc1cf52310dfee27fe5a5d" category="paragraph">您已从正在访问的所有管理节点中注销。此时将显示 StorageGRID 登录页面。* 网格管理器 * 在 * 近期帐户 * 下拉列表中列为默认值， * 帐户 ID* 字段显示 0 。</block>
  <block id="63b600b7bf8aaaf29b8adff7eb20e99e" category="paragraph">* 注意： * 如果启用了 SSO ，并且您还登录到租户管理器，则还必须注销租户帐户才能注销 SSO 。</block>
  <block id="9f455a222a78f03889b834a66e2a89b1" category="summary">审核共享为只读。日志文件可由计算机应用程序读取，验证不包括打开文件。我们认为，审核日志文件是否显示在 Windows 资源管理器窗口中已足够验证。验证连接后，关闭所有窗口。</block>
  <block id="66dcaf54aa77c17cb50acc8795ceece1" category="doc">验证 CIFS 审核集成</block>
  <block id="491cd7f2767c9c87f7628b2b0bcbf2a1" category="summary">在某些情况下，您可能需要删除密钥管理服务器。例如，如果您已停用站点，则可能需要删除站点专用的 KMS 。</block>
  <block id="29866dd19181c49b7ec49d9e605d0270" category="doc">删除密钥管理服务器（ KMS ）</block>
  <block id="89d02fc7d073c159e1d84cab615645e5" category="paragraph">在以下情况下，您可以删除 KMS ：</block>
  <block id="fca92544510d47adb443f5977db1f1e3" category="list-text">如果站点已停用，或者站点中没有启用节点加密的设备节点，则可以删除站点专用的 KMS 。</block>
  <block id="0df143c5ff040a98d61906c2fc143110" category="list-text">如果每个站点已存在站点专用的 KMS ，并且已启用设备节点加密，则可以删除默认 KMS 。</block>
  <block id="c71dddaed303d2bb8fa9c4ebb26cda19" category="list-text">选择要删除的 KMS 的单选按钮，然后选择 * 删除 * 。</block>
  <block id="0c883b07b43b8d31f7e088b0f243ed45" category="list-text">查看警告对话框中的注意事项。</block>
  <block id="0d5a699dea3363c6e661a66538168f17" category="image-alt">Kms 删除警告</block>
  <block id="e3d5444797afc31d5bf26c7a1ee585cf" category="paragraph">此时将删除 KMS 配置。</block>
  <block id="f8e53251cde1033d5cb214d4a9f29842" category="summary">如果您使用的是客户端网络，则可以指定每个节点的客户端网络是可信还是不可信。您还可以为扩展中添加的新节点指定默认设置。</block>
  <block id="66a89c3bbda185a91e0a307d7558fd32" category="doc">指定节点的客户端网络不可信</block>
  <block id="adb4897c59f35201fa58a493d4addf20" category="paragraph">如果您使用的是客户端网络，则可以指定每个节点的客户端网络是可信还是不可信。您还可以为扩展中添加的新节点指定默认设置。</block>
  <block id="735fe2d25532569a3ccf6d336c11fc1c" category="list-text">如果您希望管理节点或网关节点仅在显式配置的端点上接受入站流量，则已定义负载平衡器端点。</block>
  <block id="277fa2fd1e4d041ce5806101029e5357" category="admonition">如果尚未配置负载平衡器端点，现有客户端连接可能会失败。</block>
  <block id="de07fd33e66fc9e21b890814bc887ac5" category="list-text">选择 * 配置 * &gt; * 安全性 * &gt; * 不可信客户端网络 * 。</block>
  <block id="db70d84282b49f044679f2af00da2761" category="paragraph">不可信客户端网络页面列出了 StorageGRID 系统中的所有节点。如果节点上的客户端网络必须可信，则不可用原因列将包含一个条目。</block>
  <block id="8130262458a1e754a9f7d36fc4493f1a" category="image-alt">不可信的客户端网络</block>
  <block id="ff9591fc56fbb8526c22a73d61e9963a" category="list-text">在 * 设置新节点默认值 * 部分中，指定在扩展操作步骤 的网格中添加新节点时应采用的默认设置。</block>
  <block id="65c3fc447562dc9eb6ca135a2abb32ed" category="list-text">* 可信 * ：在扩展中添加节点时，其客户端网络是可信的。</block>
  <block id="1e73cb95b4348971cb5763c25e76598f" category="list-text">* 不可信 * ：在扩展中添加节点时，其客户端网络不可信。根据需要，您可以返回此页面以更改特定新节点的设置。</block>
  <block id="884e110d29b1aabb19b7ce9452f841a3" category="admonition">此设置不会影响 StorageGRID 系统中的现有节点。</block>
  <block id="587234f6ecea709304fc2c61c9b90151" category="list-text">在 * 选择不可信客户端网络节点 * 部分中，选择应仅允许在显式配置的负载平衡器端点上进行客户端连接的节点。</block>
  <block id="ef79434f3e67eedbed2b9948536096bb" category="paragraph">您可以选中或取消选中标题中的复选框以选择或取消选择所有节点。</block>
  <block id="d60fa37bdb8a0343acdee46c163e8bf8" category="paragraph">此时将立即添加并强制实施新的防火墙规则。如果尚未配置负载平衡器端点，现有客户端连接可能会失败。</block>
  <block id="91259d6093de5e6134754bff93a7cf72" category="summary">您可以通过在支持的 Web 浏览器的地址栏中输入管理节点的完全限定域名 \ （ FQDN\ ）或 IP 地址来访问网格管理器登录页面。</block>
  <block id="2643df34198bbb5b3edb94da0c34e249" category="paragraph">您可以通过在支持的 Web 浏览器的地址栏中输入管理节点的完全限定域名（ FQDN ）或 IP 地址来访问网格管理器登录页面。</block>
  <block id="4024ac931e0741cf9b01d3a2c883a100" category="list-text">您已拥有登录凭据。</block>
  <block id="6621ea9f840285a29dceb59b4bedcebf" category="list-text">您已获得网格管理器的 URL 。</block>
  <block id="6905b73d7758f233f4f5ebe41b531dc1" category="list-text">已在 Web 浏览器中启用 Cookie 。</block>
  <block id="c1e8d590825f45c1b55469616f68c2d9" category="paragraph">每个 StorageGRID 系统都包括一个主管理节点和任意数量的非主管理节点。您可以登录到任何管理节点上的网格管理器来管理 StorageGRID 系统。但是，管理节点不完全相同：</block>
  <block id="6f5d94934af37cb57e8323ce30edd742" category="list-text">在一个管理节点上进行的警报确认（原有系统）不会复制到其他管理节点。因此，为警报显示的信息在每个管理节点上可能不相同。</block>
  <block id="a3a6e2cdf8b222bf03a1fb5a963f33e5" category="list-text">某些维护过程只能从主管理节点执行。</block>
  <block id="916fa423cbb30fa047b4b1548735129b" category="paragraph">如果管理节点包含在高可用性（ HA ）组中，则可以使用 HA 组的虚拟 IP 地址或映射到虚拟 IP 地址的完全限定域名进行连接。应选择主管理节点作为组的主接口，以便在访问网格管理器时，您可以在主管理节点上访问它，除非主管理节点不可用。</block>
  <block id="abb7fdc03695ce5a2d0d52cfba8c3f91" category="list-text">启动受支持的 Web 浏览器。</block>
  <block id="1371e950b0504d1e40f77aae41033eb3" category="list-text">在浏览器的地址栏中，输入网格管理器的 URL ：</block>
  <block id="e847ce45e41c6b794541d0f2cc596aac" category="paragraph">`https://_FQDN_or_Admin_Node_IP_/`</block>
  <block id="34292ecedf8fbc3b97eee56cdbad36bb" category="paragraph">其中， ` fqdn_or_Admin_Node_IP_` 是完全限定域名或管理节点的 IP 地址，或者是管理节点 HA 组的虚拟 IP 地址。</block>
  <block id="001f9a58ae085445d350ae6cd1dbebbd" category="paragraph">如果您必须在 HTTPS 标准端口（ 443 ）以外的端口上访问网格管理器，请输入以下内容，其中 ` fqdn_or_Admin_Node_IP_` 是完全限定域名或 IP 地址， port 是端口号：</block>
  <block id="fc6167778b6c02df9f38b9e6599688bb" category="paragraph">`https://_FQDN_or_Admin_Node_IP:port_/`</block>
  <block id="e0f07d17d8d626bed8e82ead7db58b8d" category="list-text">如果系统提示您显示安全警报，请使用浏览器的安装向导安装证书（请参见 <block ref="2c278c918cf86dbf367be26468b5def7" category="inline-xref-macro-rx"></block>）。</block>
  <block id="0f84dc642bd00ac3b05baf1bc1d64607" category="list-text">登录到网格管理器：</block>
  <block id="dd8407dd1b4b49143ddea3f96908ea9b" category="list-text">如果 StorageGRID 系统未使用单点登录（ SSO ）：</block>
  <block id="7a47b2c1ce4ad06e0da09ca9b182b313" category="list-text">输入网格管理器的用户名和密码。</block>
  <block id="12a77c852659ea8dbc9abfd8c302780d" category="list-text">选择 * 登录 * 。</block>
  <block id="6eb059c8b21902bffb552e54990e1962" category="image-alt">登录页面</block>
  <block id="5e0c497fd0b7fc9690653caf0c138971" category="list-text">如果为 StorageGRID 系统启用了 SSO ，并且这是您首次在此浏览器上访问此 URL ：</block>
  <block id="d22c15d62300660a18bff10a5ce34eb8" category="list-text">选择 * 登录 * 。您可以将 "Account ID" 字段留空。</block>
  <block id="71be69c120cdc3828d6e594f25f4e098" category="image-alt">如果启用了 SSO 且没有 cookie ，请登录屏幕</block>
  <block id="b6e7deb33d8bf31554cf33578d30524d" category="list-text">在组织的 SSO 登录页面上输入标准 SSO 凭据。例如：</block>
  <block id="0708dd646c15173b6d45cd89c76e76c7" category="list-text">如果为 StorageGRID 系统启用了 SSO ，并且您先前已访问网格管理器或租户帐户：</block>
  <block id="4f8b848673e9d69305356b6c21e68279" category="list-text">执行以下任一操作：</block>
  <block id="fa853495b1d81c905457cd1b3fe69dfa" category="list-text">输入 * 。 0* （网格管理器的帐户 ID ），然后选择 * 登录 * 。</block>
  <block id="b90fb569fa75d12963d5ffc6308a9059" category="list-text">如果近期帐户列表中显示了 * 网格管理器 * ，请选择 * 登录 * 。</block>
  <block id="f29af64adf6cbda598f0c965103c96f5" category="image-alt">如果启用了 SSO ，请从近期帐户列表中选择 Grid Manager</block>
  <block id="b3434dcfac5ada4efbca3bf6220b46a9" category="list-text">在您组织的 SSO 登录页面上使用您的标准 SSO 凭据登录。登录后，将显示网格管理器的主页，其中包括信息板。要了解所提供的信息，请参见 <block ref="ffc058a938b75ff39379a188b208f57a" category="inline-xref-macro-rx"></block>。</block>
  <block id="2938c7f7e560ed972f8a4f68e80ff834" category="image-alt">信息板</block>
  <block id="5a8ebe7d42ec7d07ced36f6fb036dbad" category="list-text">如果要登录到另一个管理节点：</block>
  <block id="730b42a780b5773122e1d0ea627092c9" category="list-text">在浏览器的地址栏中，输入另一个管理节点的完全限定域名或 IP 地址。根据需要包括端口号。</block>
  <block id="f1207df957c22510fef8ad0d37448799" category="paragraph">在浏览器的地址栏中，输入另一个管理节点的完全限定域名或 IP 地址。</block>
  <block id="9a45514b80634bf53b065150d0c4eefa" category="paragraph">如果您已登录到一个管理节点，则无需重新登录即可访问其他管理节点。但是，如果您的 SSO 会话到期，系统会再次提示您输入凭据。</block>
  <block id="ce7b7cb1d3a6be0b5e8db7453a8ccd80" category="paragraph">* 注： * 受限网格管理器端口上不提供 SSO 。如果您希望用户通过单点登录进行身份验证，则必须使用默认 HTTPS 端口（ 443 ）。</block>
  <block id="9c623feaa0dcb8f5af8b2367745f6e76" category="list-text"><block ref="9c623feaa0dcb8f5af8b2367745f6e76" category="inline-xref-macro-rx"></block></block>
  <block id="337a048bd8553f18dd2c17d0b52b468a" category="summary">您可以使用 Azure AD 为系统中的每个管理节点创建企业级应用程序。</block>
  <block id="e75e8a60f9c21bea27aa59a5126e1228" category="list-text">您已开始为 StorageGRID 配置单点登录，并选择了 * Azure * 作为 SSO 类型。</block>
  <block id="c9a7ee7f67e6b5dc8293cef40eade7a8" category="list-text">系统中每个管理节点都有 * 企业级应用程序名称 * 。您可以从 StorageGRID 单点登录页面上的管理节点详细信息表复制这些值。</block>
  <block id="d4514c3270d2fb9a0ece1c690bd466d4" category="list-text">您有在 Azure Active Directory 中创建企业级应用程序的经验。</block>
  <block id="2981eaac03ee3eea0615db3971c04f26" category="list-text">您有一个 Azure 帐户且订阅有效。</block>
  <block id="038dc840fb87c581805b2e2d2164f16f" category="list-text">您在 Azure 帐户中具有以下角色之一：全局管理员，云应用程序管理员，应用程序管理员或服务主体的所有者。</block>
  <block id="2cb0ab131a8aa3e5ad46ad3f15c55e46" category="section-title">访问 Azure AD</block>
  <block id="440e11297e8634c052b1bfd29a90309c" category="inline-link">Azure 门户</block>
  <block id="165702b452674ce2b7f6ab4c408f0551" category="list-text">登录到<block ref="42cd3585af73c194e1684b98402775c3" category="inline-link-rx"></block>。</block>
  <block id="507f139de1fb5d97a392b81ad588154c" category="inline-link">Azure Active Directory</block>
  <block id="cedcbd764e6e3c1e62aea79f0104bcfb" category="list-text">导航到<block ref="36b6e78ae4d02017616fd0093f38bc42" category="inline-link-rx"></block>。</block>
  <block id="b0dae11b82e63781abdc8f893c41b3c0" category="inline-link">企业级应用程序</block>
  <block id="bce36d63e4e494e7711747454d4d6dbe" category="list-text">选择 ...<block ref="552ea407a2b246cadc5bd203f61b41cf" category="inline-link-rx"></block>。</block>
  <block id="2c9325509ac5d4e35270a8947ad3ae7a" category="section-title">创建企业级应用程序并保存 StorageGRID SSO 配置</block>
  <block id="533514c2666e9e715b57e1a533b11eba" category="paragraph">要在 StorageGRID 中保存 Azure 的 SSO 配置，您必须使用 Azure 为每个管理节点创建一个企业级应用程序。您将从 Azure 复制联合元数据 URL ，并将其粘贴到 StorageGRID Single Sign-On 页面上对应的 * 联合元数据 URL* 字段中。</block>
  <block id="479dccc17d663d3107011c915edf31af" category="list-text">对每个管理节点重复以下步骤。</block>
  <block id="347aba8d649c1395e2444873f5d61051" category="list-text">在 Azure Enterprise 应用程序窗格中，选择 * 新建应用程序 * 。</block>
  <block id="46003e10976423597403f7c0c1227230" category="list-text">选择 * 创建您自己的应用程序 * 。</block>
  <block id="d0d6e0a0b0043fa467a0b40e43145fa2" category="list-text">对于此名称，请输入您从 StorageGRID Single Sign-On 页面上的管理节点详细信息表中复制的 * 企业应用程序名称 * 。</block>
  <block id="6aa2860b84a5a32e42930135de39f5bb" category="list-text">保持选中 * 集成在库（非库）中找不到的任何其他应用程序 * 单选按钮。</block>
  <block id="d759b56e7f5dd9a235843c0e6c577fe9" category="list-text">选择 * 。 2.设置单点登录 * 框，或者选择左侧边距中的 * 单点登录 * 链接。</block>
  <block id="c4693dbf6dc8038aabb84bd3b897f03a" category="list-text">选择 * SAML * 框。</block>
  <block id="6ab53570f1461144e49b8a9472f1559b" category="list-text">复制 * 应用程序联合元数据 URL* ，该 URL 可在 * 步骤 3 SAML 签名证书 * 下找到。</block>
  <block id="3dd34fd034df0985dc8c826d9ebce614" category="list-text">转到 StorageGRID 单点登录页面，然后将 URL 粘贴到与您使用的 * 企业应用程序名称 * 对应的 * 联合元数据 URL* 字段中。</block>
  <block id="31b6519e4c15b39776dcea3f3bf815e4" category="list-text">为每个管理节点粘贴联合元数据 URL 并对 SSO 配置进行所有其他所需更改后，请在 StorageGRID Single Sign-On 页面上选择 * 保存 * 。</block>
  <block id="92b963fa37a051917c04d17eadf9c4d9" category="section-title">下载每个管理节点的 SAML 元数据</block>
  <block id="1b1188f7a7ece07b69a39535f19ec2cb" category="paragraph">保存 SSO 配置后，您可以为 StorageGRID 系统中的每个管理节点下载 SAML 元数据文件。</block>
  <block id="5e74d5ea608eb27977cece4a1375fd99" category="paragraph">对每个管理节点重复以下步骤：</block>
  <block id="95e98e151518a8c03f95a181720658ff" category="list-text">从管理节点登录到 StorageGRID 。</block>
  <block id="e658715bc2931df056e0139411ca54e4" category="list-text">选择按钮以下载此管理节点的 SAML 元数据。</block>
  <block id="e26db0d7a2928aba64b937d860e41b1e" category="list-text">保存要上传到 Azure AD 的文件。</block>
  <block id="c76a24ea5965a38e3db426a3ac59b330" category="section-title">将 SAML 元数据上传到每个企业级应用程序</block>
  <block id="0760ed3ad5e8c00a0434bf7a6632bfaf" category="paragraph">为每个 StorageGRID 管理节点下载 SAML 元数据文件后，在 Azure AD 中执行以下步骤：</block>
  <block id="1fd1b3ef6e5025c40de58abce4aa17ad" category="list-text">返回到 Azure 门户。</block>
  <block id="138ac33c63b317bade21cf186260db1d" category="list-text">对每个企业级应用程序重复以下步骤：</block>
  <block id="c3c7bd0d45c10ba6e5b96ae4f8da94a9" category="admonition">您可能需要刷新 " 企业应用程序 " 页面才能查看先前在列表中添加的应用程序。</block>
  <block id="2f2bcb314359abe27a60987d5efdbb8e" category="list-text">转到企业应用程序的属性页面。</block>
  <block id="3807b22786c53541e845558a2084e985" category="list-text">将 * 需要分配 * 设置为 * 否 * （除非您要单独配置分配）。</block>
  <block id="689c6c37f51e7dc54d4daa33f7a519a2" category="list-text">转到单点登录页面。</block>
  <block id="1c9f76d338614115faa1c8f13a7c497d" category="list-text">完成 SAML 配置。</block>
  <block id="243f8ae8a2808c58d6751a1b344980de" category="list-text">选择 * 上传元数据文件 * 按钮，然后选择为相应管理节点下载的 SAML 元数据文件。</block>
  <block id="8965ca0da3d3be7f5b359a725f9bd813" category="list-text">加载文件后，选择 * 保存 * ，然后选择 * X * 以关闭窗格。此时将返回到使用 SAML 设置单点登录页面。</block>
  <block id="508d44f98277529b6dd9b569fdafa5ba" category="list-text">按照中的步骤进行操作 <block ref="1bf5665c6fd7166fd4720a75bd10f707" category="inline-xref-macro-rx"></block> 测试每个应用程序。</block>
  <block id="3a21a6169e63dd3293cefc5f6c26ec96" category="summary">您可以通过配置归档节点的会话来优化连接到 Tivoli Server Manager （ TSM\ ）的归档节点的性能。</block>
  <block id="81eb8c118670547c267d7d12b544a16f" category="doc">针对 TSM 中间件会话优化归档节点</block>
  <block id="227412f47e4a00232eabbc65577c244d" category="paragraph">您可以通过配置归档节点的会话来优化连接到 Tivoli Server Manager （ TSM ）的归档节点的性能。</block>
  <block id="469b812c17f32afc893ddfafccae7886" category="paragraph">通常，归档节点向 TSM 中间件服务器打开的并发会话数会设置为 TSM 服务器专用于归档节点的磁带驱动器数。一个磁带驱动器分配给存储，而其余磁带驱动器分配给检索。但是，如果要从归档节点副本重建存储节点或归档节点以只读模式运行，则可以通过将最大检索会话数设置为与并发会话数相同来优化 TSM 服务器性能。这样，所有驱动器都可以同时用于检索，如果适用，这些驱动器中最多有一个也可以用于存储。</block>
  <block id="8d4b797ff5996d5d68ff088ac376b63f" category="list-text">将 * 最大检索会话数 * 更改为与 * 会话数 * 相同。</block>
  <block id="eed03b7cbaf56de67bc36b6c0f0cb768" category="image-alt">归档节点的配置页面</block>
  <block id="55bcc6476c504097f3311ad77ff02902" category="summary">每个密钥管理服务器（ KMS\ ）或 KMS 集群都为一个站点或一组站点上的所有设备节点提供一个加密密钥。如果需要更改站点使用的 KMS ，则可能需要将加密密钥从一个 KMS 复制到另一个 KMS 。</block>
  <block id="c958a905673d8e2be5e268f8fb102144" category="paragraph">每个密钥管理服务器（ Key Management Server ， KMS ）或 KMS 集群都会为单个站点或一组站点上的所有设备节点提供一个加密密钥。如果需要更改站点使用的 KMS ，则可能需要将加密密钥从一个 KMS 复制到另一个 KMS 。</block>
  <block id="43485406a01cbf849dd4827fe2908744" category="paragraph">如果更改站点使用的 KMS ，则必须确保可以使用存储在新 KMS 上的密钥对该站点上先前加密的设备节点进行解密。在某些情况下，您可能需要将当前版本的加密密钥从原始 KMS 复制到新 KMS 。您必须确保 KMS 具有正确的密钥，以便对站点上的加密设备节点进行解密。</block>
  <block id="4b734213eebba77fd8eb05c9bef63e96" category="list-text">您最初会配置一个默认 KMS ，以便对没有专用 KMS 的所有站点进行适用场景 。</block>
  <block id="a49f06943c4f6fa2f27a3ab1ba5a9753" category="list-text">保存 KMS 后，所有启用了 * 节点加密 * 设置的设备节点都会连接到 KMS 并请求加密密钥。此密钥用于对所有站点上的设备节点进行加密。此外，还必须使用此相同密钥对这些设备进行解密。</block>
  <block id="593a99d80b7905aed58d94f28fcf737f" category="image-alt">Kms 默认密钥</block>
  <block id="61dc150c04900fbd5c87f311dbe7b01f" category="list-text">您决定为一个站点（图中的数据中心 3 ）添加站点专用的 KMS 。但是，由于设备节点已加密，因此在尝试保存站点专用 KMS 的配置时会发生验证错误。之所以出现此错误，是因为站点特定的 KMS 没有正确的密钥来对该站点上的节点进行解密。</block>
  <block id="f64ade9a8098f245456a6a89ee263833" category="image-alt">Kms 错误密钥</block>
  <block id="fd4bebd36ef4bbc18882f4a6b9e10fe1" category="list-text">要解决问题描述 问题，请将当前版本的加密密钥从默认 KMS 复制到新的 KMS 。（从技术上讲，您可以将原始密钥复制到具有相同别名的新密钥。原始密钥将成为新密钥的先前版本。） 现在，站点特定的 KMS 具有用于对数据中心 3 上的设备节点进行解密的正确密钥，因此可以将其保存在 StorageGRID 中。</block>
  <block id="32180319e649e48cf122152c1d9ff7c4" category="image-alt">Kms 复制的密钥</block>
  <block id="9bc3f3739b30edd5913046480fd14e88" category="section-title">更改站点使用的 KMS 的用例</block>
  <block id="b3f03e6eb1007bf948e135352118ca10" category="paragraph">下表总结了更改站点 KMS 的最常见情况下所需的步骤。</block>
  <block id="80c3f48e48ac0c8fb0eaeb24f4ef2f2c" category="cell">更改站点 KMS 的用例</block>
  <block id="b1a045ca668911e65454390b867b53bb" category="cell">所需步骤</block>
  <block id="1f8b6d64cfed15a93edce83e112c972f" category="paragraph">您有一个或多个站点特定的 KMS 条目，并且希望使用其中一个条目作为默认 KMS 。</block>
  <block id="9bb499dbada4bbf1992a154bc971acbb" category="paragraph">编辑站点特定的 KMS 。在 * 管理密钥 * 字段中，选择 * 不受其他 KMS （默认 KMS ）管理的站点 * 。现在，站点专用的 KMS 将用作默认 KMS 。它将适用于没有专用 KMS 的任何站点。</block>
  <block id="fd9fd89cc41cbd4ac0027cc883fe05ca" category="paragraph"><block ref="fd9fd89cc41cbd4ac0027cc883fe05ca" category="inline-xref-macro-rx"></block></block>
  <block id="ab0672a3ec911200ebb32ead10297ada" category="paragraph">您有一个默认 KMS ，并且在扩展中添加了一个新站点。您不希望对新站点使用默认 KMS 。</block>
  <block id="576b64b201c68b235f4f66f4e629d3da" category="list-text">如果新站点上的设备节点已被默认 KMS 加密，请使用 KMS 软件将当前版本的加密密钥从默认 KMS 复制到新 KMS 。</block>
  <block id="3d6de198513f43d8150e42febaed1ae0" category="list-text">使用网格管理器添加新的 KMS 并选择站点。</block>
  <block id="ce99b936d008f046d62295164b50da49" category="paragraph">您希望站点的 KMS 使用其他服务器。</block>
  <block id="1d4fa404985a2314592249443f6e5af4" category="list-text">如果站点上的设备节点已由现有 KMS 加密，请使用 KMS 软件将当前版本的加密密钥从现有 KMS 复制到新 KMS 。</block>
  <block id="44bf2005dcef0e98db4cf1c8e335f93f" category="list-text">使用网格管理器编辑现有 KMS 配置并输入新的主机名或 IP 地址。</block>
  <block id="64440f04b9fb92f384a8680391c8ab13" category="summary">您必须在许可证条款发生更改时随时更新 StorageGRID 系统的许可证信息。例如，如果为网格购买了额外的存储容量，则必须更新许可证信息。</block>
  <block id="994b7088c3481918aa6382d016ca88e2" category="doc">更新 StorageGRID 许可证信息</block>
  <block id="07b9da4a264e502abe0d27b3d7493402" category="list-text">您有一个新的许可证文件可应用于 StorageGRID 系统。</block>
  <block id="14ab35fcc4673b01af6d9daf46d60d46" category="list-text">在打开对话框中，找到并选择新的许可证文件（` .txt` ），然后选择 * 打开 * 。</block>
  <block id="f9ae7e057a884af0f2073587d77ba0d1" category="paragraph">此时将验证并显示新许可证文件。</block>
  <block id="b6f48a50867398b9397bbe0343e01764" category="summary">如果要永久删除租户对系统的访问权限，可以删除租户帐户。</block>
  <block id="83e500e99009cb72d6120d8d5bff6e48" category="doc">删除租户帐户</block>
  <block id="5572939102b74402ad87df786a198bd3" category="paragraph">如果要永久删除租户对系统的访问权限，可以删除租户帐户。</block>
  <block id="8d6501e13d963bcc3238eadf18b18d2e" category="list-text">您必须已删除与租户帐户关联的所有分段（ S3 ），容器（ Swift ）和对象。</block>
  <block id="746eb1b2e420e078ec270b56b08a9706" category="list-text">选择要删除的租户帐户。</block>
  <block id="8d8ce0d24e61f7cbf532a976c7027d35" category="list-text">从 * 操作 * 下拉列表中，选择 * 删除 * 。</block>
  <block id="d962439b904956ead48e456c1fed404d" category="summary">您可以使用 PingFederate 为系统中的每个管理节点创建服务提供商（ SP ）连接。要加快此过程，您需要从 StorageGRID 导入 SAML 元数据。</block>
  <block id="df1265098c9f1e23e4ca91dc29e60fd9" category="doc">在 PingFederate 中创建服务提供商（ SP ）连接</block>
  <block id="f9869855d86340ca931503bcc313341b" category="paragraph">您可以使用 PingFederate 为系统中的每个管理节点创建服务提供商（ SP ）连接。要加快此过程，您需要从 StorageGRID 导入 SAML 元数据。</block>
  <block id="8a609db02ecb9c2e1acad1df457b767f" category="list-text">您已为 StorageGRID 配置单点登录，并选择了 * Ping 联邦 * 作为 SSO 类型。</block>
  <block id="487298652c8f57680f650e2addd55e43" category="list-text">您拥有系统中每个管理节点的 * SP 连接 ID* 。您可以在 StorageGRID 单点登录页面上的管理节点详细信息表中找到这些值。</block>
  <block id="65f52b48237f5a9792f284df4b2acfc2" category="list-text">您已为系统中的每个管理节点下载 * SAML 元数据 * 。</block>
  <block id="60e50bf352574c4b764babea8d0dec58" category="list-text">您在 PingFederate 服务器中创建 SP 连接的经验。</block>
  <block id="3d5e251dbb3767e2b0a044783d035660" category="inline-link">《管理员参考指南》</block>
  <block id="86670dcbf4e1e3eb6fc2cf6d6ef58087" category="list-text">您拥有<block ref="4cd1ca3c7095a9a27d6ff9992d8b6395" category="inline-link-rx"></block> PingFederate 服务器。PingFederate 文档提供了详细的分步说明和说明。</block>
  <block id="a31b14fbba2f5dc7f3c73cb2937135e7" category="list-text">您具有 PingFederate 服务器的管理员权限。</block>
  <block id="cc90d146485e33031ccc8c532130cc48" category="paragraph">以下说明总结了如何将 PingFederate 服务器 10.3 版配置为 StorageGRID 的 SSO 提供程序。如果您使用的是其他版本的 PingFederate ，则可能需要调整这些说明。有关您的版本的详细说明，请参见 PingFederate 服务器文档。</block>
  <block id="548f6f80ce0916cbeff0ea139f289818" category="section-title">完成 PingFederate 中的前提条件</block>
  <block id="d4040a9829baffd24df4222cbb8c5d3d" category="paragraph">在创建要用于 StorageGRID 的 SP 连接之前，必须先在 PingFederate 中完成前提条件任务。配置 SP 连接时，您将使用这些前提条件中的信息。</block>
  <block id="d81e891286c4088d1c9f2ccefe9ad6d9" category="section-title">创建数据存储</block>
  <block id="dd76b385b5ba1b1caa0f51d1915ad320" category="inline-xref-macro">配置身份联合</block>
  <block id="4d3ea267274e53e5f7b0c13f9dba9c4a" category="paragraph">如果尚未创建数据存储库，请将 PingFederate 连接到 AD FS LDAP 服务器。使用您在使用时使用的值 <block ref="9572763cea19a7b9400903c4aff8b0bd" category="inline-xref-macro-rx"></block> 在 StorageGRID 中。</block>
  <block id="8c10f8877bef40f106197a9cc6f81489" category="list-text">* 类型 * ：目录（ LDAP ）</block>
  <block id="8b60ef42bb0bd8191e51b887ea4373e5" category="list-text">* LDAP 类型 * ： Active Directory</block>
  <block id="4c0d5f71e32bb3bcffbcc2bbba5c226d" category="list-text">* 二进制属性名称 * ：在 "LDAP 二进制属性 " 选项卡上输入 * 对象 GUID* ，具体如图所示。</block>
  <block id="7aa9d11d2cd202a7545c38891517eba0" category="section-title">创建密码凭据验证程序</block>
  <block id="525e8ef059644547882837e281c874b9" category="paragraph">如果尚未创建密码凭据验证程序，请创建一个。</block>
  <block id="bd8035e0fc79c042ffc946bf52518266" category="list-text">* 类型 * ： LDAP 用户名密码凭据验证器</block>
  <block id="017b499d6cd7385a75d5c225bcf432f7" category="list-text">* 数据存储 * ：选择您创建的数据存储。</block>
  <block id="fcc623313c228ceb99825b7c3209e711" category="list-text">* 搜索基础 * ：输入 LDAP 中的信息（例如， DC=SAML ， DC=sgws ）。</block>
  <block id="53c6057307394b92b734813b7e4b4048" category="list-text">* 搜索筛选器 * ： sAMAccountName=$ ｛ username ｝</block>
  <block id="83ff4b86ffcd78b230a91bdd3f9bf2cd" category="list-text">* 范围 * ：子树</block>
  <block id="c14b6bc6202d07e68d006f67684a96b2" category="section-title">创建 IdP 适配器实例</block>
  <block id="187c2585aa6a9e509cfcf613f7827af1" category="paragraph">如果尚未创建 IdP 适配器实例，请创建此实例。</block>
  <block id="f738098978d4ccd1e70230607d19d609" category="list-text">转至 * 身份验证 * &gt; * 集成 * &gt; * IdP 适配器 * 。</block>
  <block id="aef157a9ef9f028ee0ecc96bf7a8436f" category="list-text">选择 * 创建新实例 * 。</block>
  <block id="5e6c8509a3157590070b6909d96044ea" category="list-text">在类型选项卡上，选择 * HTML 表单 IdP 适配器 * 。</block>
  <block id="8d01ee535a396d0c11ae5430a35d5467" category="list-text">在 IdP 适配器选项卡上，选择 * 向 " 凭据验证器 "* 添加新行。</block>
  <block id="aed4e3b0a95991113de15956b39674a5" category="inline-xref">密码凭据验证程序</block>
  <block id="0d8f108be3da002afa26d0816fcfe059" category="list-text">选择 <block ref="5136fd5e4afe6225cfe4ac43fd65cc22" category="inline-xref-macro-rx"></block> 您已创建。</block>
  <block id="5c604119861c0d92fa64306e91bff7a1" category="list-text">在适配器属性选项卡上，为 * 伪名称 * 选择 * 用户名 * 属性。</block>
  <block id="7c68bc2b25779b13c870a67aa92e899d" category="section-title">创建或导入签名证书</block>
  <block id="d49f45f079f6a2f246c59fac7f886cb3" category="paragraph">如果尚未创建，请创建或导入签名证书。</block>
  <block id="29f318c381c485770fa9dc5de8060ba4" category="list-text">转至 * 安全性 * &gt; * 签名和解密密钥和证书 * 。</block>
  <block id="eda927a139d820f9fc581d3b55cda355" category="list-text">创建或导入签名证书。</block>
  <block id="d1bcdf0debccdfaec88f8c50a4cac081" category="section-title">在 PingFederate 中创建 SP 连接</block>
  <block id="914857f52d7e166afdfaac161b053050" category="paragraph">在 PingFederate 中创建 SP 连接时，您可以导入从 StorageGRID 为管理节点下载的 SAML 元数据。元数据文件包含您需要的许多特定值。</block>
  <block id="0b3695cc062cae664ca49d29b6e0704b" category="admonition">您必须为 StorageGRID 系统中的每个管理节点创建一个 SP 连接，以便用户可以安全地登录和注销任何节点。按照以下说明创建第一个 SP 连接。然后，转到 <block ref="62ba34bf45d611722689cb9c169294d7" category="inline-xref-macro-rx"></block> 创建所需的任何其他连接。</block>
  <block id="cd3b0fe64c798b633a8ccee5a2197104" category="section-title">选择 SP 连接类型</block>
  <block id="8a13541e84e06fbe3dbf08021b3acabd" category="list-text">转至 * 应用程序 * &gt; * 集成 * &gt; * SP 连接 * 。</block>
  <block id="5f95961399d8bd675565375043a3ba50" category="list-text">选择 * 创建连接 * 。</block>
  <block id="ff7c6507951bfa29f693d4888134dfc4" category="list-text">选择 * 不对此连接使用模板 * 。</block>
  <block id="1993c5ee80cf0d3bb134653993c1a601" category="list-text">选择 * 浏览器 SSO 配置文件 * 和 * SAML 2.0* 作为协议。</block>
  <block id="fd717d4496c2fe0cb19d1a982edb87f3" category="section-title">导入 SP 元数据</block>
  <block id="fdc3905992292b9d6756eb53e49095a3" category="list-text">在导入元数据选项卡上，选择 * 文件 * 。</block>
  <block id="118e1a29e14539f47e39fa9704f53c4e" category="list-text">选择从管理节点的 StorageGRID 单点登录页面下载的 SAML 元数据文件。</block>
  <block id="bf6860e499b210bf49ad8ebc0d416680" category="list-text">查看元数据摘要以及常规信息选项卡上的信息。</block>
  <block id="aee7a92a3ea3811bbd2337d21256bf09" category="paragraph">合作伙伴的实体 ID 和连接名称设置为 StorageGRID SP 连接 ID 。（例如 10.96.105.200-DC1-ADM1-105-200 ）。基本 URL 是 StorageGRID 管理节点的 IP 。</block>
  <block id="0319052209116c0f2b555639ae8ffabe" category="section-title">配置 IdP 浏览器 SSO</block>
  <block id="b1415eb920e7134e6fb8234b1f1b9897" category="list-text">从浏览器 SSO 选项卡中，选择 * 配置浏览器 SSO* 。</block>
  <block id="d69b66ef0dc4d590682839239da604a0" category="list-text">在 SAML 配置文件选项卡上，选择 * SP 启动的 SSO* ， * SP 初始 SLO* ， * IdP-Initiated SSO* 和 * IdP-Initiated SLO* 选项。</block>
  <block id="f3e7758548bf10e174c520c3a8080767" category="list-text">在 Assertion Lifetime 选项卡上，不进行任何更改。</block>
  <block id="7da95030090a798e32d70415d1b4c1f8" category="list-text">在断言创建选项卡上，选择 * 配置断言创建 * 。</block>
  <block id="d49522e8e4aa9db9d63ec8961a9f3e3c" category="list-text">在身份映射选项卡上，选择 * 标准 * 。</block>
  <block id="bbd10260c1c05d83f8190e4d184dafc7" category="list-text">在属性合同选项卡上，使用 * SAML 主题 * 作为属性合同以及导入的未指定名称格式。</block>
  <block id="1c70a2eeb7b8666d848e96ab3486f6e3" category="list-text">对于扩展合同，请选择 * 删除 * 以删除未使用的 `urn ： OID` 。</block>
  <block id="106ebdaaca91491ada460280fa01ada1" category="section-title">映射适配器实例</block>
  <block id="33276c7eef03b6c3932efde1c8201b9a" category="list-text">在身份验证源映射选项卡上，选择 * 映射新适配器实例 * 。</block>
  <block id="b3945838411adb8af17b52474727980a" category="inline-xref">适配器实例</block>
  <block id="91cf591870f1d39c48101ea8cca9fc74" category="list-text">在适配器实例选项卡上，选择 <block ref="cc7a4a60fb4c98fa9fe3507d851407bb" category="inline-xref-macro-rx"></block> 您已创建。</block>
  <block id="c3115f7ac728226910fce2d9c8d507ba" category="list-text">在映射方法选项卡上，选择 * 从数据存储中检索其他属性 * 。</block>
  <block id="63a99529721d9a351798dee1660db2dc" category="list-text">在属性源和用户查找选项卡上，选择 * 添加属性源 * 。</block>
  <block id="1efc7e62e0048ea5a5533f8ea28d4d3f" category="inline-xref">数据存储</block>
  <block id="46ff29679d4b70b7f2db018b46adf713" category="list-text">在数据存储选项卡上，提供问题描述 并选择 <block ref="c8717ac32e21c39a04085f35fd2c40e3" category="inline-xref-macro-rx"></block> 您已添加。</block>
  <block id="2e09a900b28eefd81288ccd9f2546d19" category="list-text">在 LDAP 目录搜索选项卡上：</block>
  <block id="e39757ac086074508805b077c0262d03" category="list-text">输入 * 基本 DN* ，该 DN 应与您在 StorageGRID 中为 LDAP 服务器输入的值完全匹配。</block>
  <block id="ff98a272480515597d0eb360305b57b1" category="list-text">对于搜索范围，请选择 * 子树 * 。</block>
  <block id="c37cefa53a5ef1ca9f545c67f226b087" category="list-text">对于根对象类，搜索 * 对象 GUID* 属性并添加它。</block>
  <block id="71d38ba542641fa54dd2fb491f62b0d2" category="list-text">在 LDAP 二进制属性编码类型选项卡上，为 * 对象 GUID* 属性选择 * Base64* 。</block>
  <block id="94e1b77b28dcd8e8d6eb43c7a68f1467" category="list-text">在 LDAP 筛选器选项卡上，输入 * 。 sAMAccountName=$ ｛ username ｝ * 。</block>
  <block id="0cb5f8155caa459c0c65d3a6e585b0b9" category="list-text">在属性合同履行选项卡上，从源下拉列表中选择 * LDAP （ attribute ） * ，然后从值下拉列表中选择 * 对象 GUID* 。</block>
  <block id="c3a6d4d5560cb2fc46230921526d7a14" category="list-text">查看并保存属性源。</block>
  <block id="171073a81e6e5c60de9d6a1622fce9fb" category="list-text">在故障保存属性源选项卡上，选择 * 中止 SSO 事务 * 。</block>
  <block id="e9a4699092a759831443df5d7f2575e6" category="list-text">查看摘要并选择 * 完成 * 。</block>
  <block id="65aa0e52587b5f59eb26af06ddeef28a" category="list-text">选择 * 完成 * 。</block>
  <block id="9c08b12930ffd1407011e34b1b8f8ace" category="section-title">配置协议设置</block>
  <block id="75755d084b03bf817ea1cb3a8881008e" category="list-text">在 * SP Connection* &gt; * 浏览器 SSO* &gt; * 协议设置 * 选项卡上，选择 * 配置协议设置 * 。</block>
  <block id="02a28ddf6c993b3db6004d7120170a8e" category="list-text">在 Assertion Conset Service URL 选项卡上，接受从 StorageGRID SAML 元数据导入的默认值（对于绑定，为 * 后 * ；对于端点 URL ，为 ` /API/SAML 响应` ）。</block>
  <block id="802150af804b24808b65a0766584a57d" category="list-text">在 SLO 服务 URL 选项卡上，接受从 StorageGRID SAML 元数据导入的默认值（ * 重定向 * 表示绑定， ` /API/SAML 注销` 表示端点 URL 。</block>
  <block id="e981db1a2ef848ae4d4ee5bb6f4da80d" category="list-text">在允许的 SAML 绑定选项卡上，取消选择 * 项目 * 和 * SOAP * 。仅需要 * 发布 * 和 * 重定向 * 。</block>
  <block id="4d4ce89ba8730f709e3c2affceca3040" category="list-text">在签名策略选项卡上，保持选中 * 需要对 Authn 请求签名 * 和 * 始终对断言签名 * 复选框。</block>
  <block id="ed1698ded761f406a405a7a216230032" category="list-text">在加密策略选项卡上，选择 * 无 * 。</block>
  <block id="194dfe2d36ec1f0aea8dbe270c6ed5c4" category="list-text">查看摘要并选择 * 完成 * 以保存协议设置。</block>
  <block id="99a219356f65f4cf1bb45bba75c6bd00" category="list-text">查看摘要并选择 * 完成 * 以保存浏览器 SSO 设置。</block>
  <block id="ae17940bbe3e3deddc2359bd0de66596" category="section-title">配置凭据</block>
  <block id="16260f6f7b3c70d3fe1e90d2624eabc7" category="list-text">从 SP 连接选项卡中，选择 * 凭据 * 。</block>
  <block id="1a81e1a5d6040b59d6e09c2bbb1e4db5" category="list-text">从凭据选项卡中，选择 * 配置凭据 * 。</block>
  <block id="2d833f53b02df02a8042f23beb4299a0" category="inline-xref">正在签名证书</block>
  <block id="d74a923cc0f35d10c4cbceac6064b937" category="list-text">选择 <block ref="ad2879636c29bc1dabd74b1a8a184083" category="inline-xref-macro-rx"></block> 您已创建或导入。</block>
  <block id="7b4c6709eb9ca18ec9c82aab6a5c14aa" category="list-text">选择 * 下一步 * 转到 * 管理签名验证设置 * 。</block>
  <block id="288543d799e61df5fea785459bf9ed10" category="list-text">在信任模式选项卡上，选择 * 已取消锁定 * 。</block>
  <block id="9c4b22e0869a83f8f2f55c57b54e4f81" category="list-text">在签名验证证书选项卡上，查看从 StorageGRID SAML 元数据导入的签名证书信息。</block>
  <block id="5581dee43c0904002213c78d64444292" category="list-text">查看摘要屏幕并选择 * 保存 * 以保存 SP 连接。</block>
  <block id="0aa150684bceda1d956f00734a07e866" category="section-title">创建其他 SP 连接</block>
  <block id="afb83e2a76ac9885eec97569ee8db4dc" category="paragraph">您可以复制第一个 SP 连接，以便为网格中的每个管理节点创建所需的 SP 连接。您可以为每个副本上传新元数据。</block>
  <block id="f510cea0e4026b19f95431739626f976" category="admonition">不同管理节点的 SP 连接使用相同的设置，但合作伙伴的实体 ID ，基本 URL ，连接 ID ，连接名称，签名验证除外。 和 SLO 响应 URL 。</block>
  <block id="da9472825bbc01d4faa3d120c9b932b3" category="list-text">选择 * 操作 * &gt; * 复制 * 为每个附加管理节点创建初始 SP 连接的副本。</block>
  <block id="aacae4d0cc76200dc0ec37a9561e7b6f" category="list-text">输入副本的连接 ID 和连接名称，然后选择 * 保存 * 。</block>
  <block id="d8f59d09b7468e98522b18537ee17fcb" category="list-text">选择与管理节点对应的元数据文件：</block>
  <block id="70421e8551ba8b2e7f56a015d2975dd1" category="list-text">选择 * 操作 * &gt; * 使用元数据更新 * 。</block>
  <block id="6d8c733530b451c7f87c5832b8c4ea5f" category="list-text">选择 * 选择文件 * 并上传元数据。</block>
  <block id="8052fa3344ca77d35acecc091f8e98a7" category="list-text">解决由于属性未使用而导致的错误：</block>
  <block id="60fa5f5b0804adba3e1f09366cf07ba0" category="list-text">选择新连接。</block>
  <block id="f1d634241149072ca7c3163c1ca2c7be" category="list-text">选择 * 配置浏览器 SSO &gt; 配置断言创建 &gt; 属性合同 * 。</block>
  <block id="8211c462d6384b5d48ffa1c006d37643" category="list-text">删除 * urn ： oid* 的条目。</block>
  <block id="00ee3f0e3fce9ac9023eb6e4d01cd238" category="doc">为工作组配置审核客户端</block>
  <block id="617c1c0ecbfa1de4f1717a96024e84da" category="list-text">为 Windows 工作组设置身份验证：</block>
  <block id="1caefaab6227369f20cb6dfe45bf5a5c" category="paragraph">如果已设置身份验证，则会显示一条建议消息。如果已设置身份验证，请转至下一步。</block>
  <block id="1d947c185ee353d80ab502f37b283312" category="list-text">输入： `set-authentication`</block>
  <block id="0fae12ebc2fec2fbb45cf194f0b9e448" category="list-text">当系统提示您安装 Windows 工作组或 Active Directory 时，输入： `workgroup`</block>
  <block id="1469891f286ecefd1a333125f1fe93fe" category="list-text">出现提示时，输入工作组名称： ` _workgroup_name_`</block>
  <block id="981f4f8c378d7890f7e0cf87c810407b" category="list-text">出现提示时，创建有意义的 NetBIOS 名称： ` netbios_name_`</block>
  <block id="045411601d319d3efb06db75d472158d" category="paragraph">按 * 输入 * 以使用管理节点的主机名作为 NetBIOS 名称。</block>
  <block id="d7c368bf7266df9d3dc584765aba86a7" category="paragraph">此脚本将重新启动 Samba 服务器并应用更改。此操作需要不到一分钟的时间。设置身份验证后，添加审核客户端。</block>
  <block id="317bf0c1806a77ca6965c8f37da01e34" category="list-text">添加审核客户端：</block>
  <block id="a679b568172742f4436052c6e9241096" category="list-text">输入： `add-audit-share`</block>
  <block id="3f52fb100aec14fca2ba4f14eb102d81" category="admonition">共享将自动添加为只读。</block>
  <block id="1526ddf41701dd07bfb6eb6c619f36d3" category="list-text">出现提示时，添加用户或组： ` _user_`</block>
  <block id="1840a295d6244a3be2debd0c78a48d0d" category="list-text">出现提示时，输入审核用户名： ` _audit_user_name_`</block>
  <block id="08af00c7b4aa20ce436d63e07fd50faf" category="list-text">出现提示时，输入审核用户的密码： ` _password_`</block>
  <block id="fc321f48050ba53075f703ef8e28856d" category="list-text">出现提示时，重新输入相同的密码以进行确认： ` _password_`</block>
  <block id="e4421b63b6ac379924c24f3bfcd4d612" category="admonition">无需输入目录。已预定义审核目录名称。</block>
  <block id="8671486d4d758a9b4883486177adaff0" category="list-text">如果允许多个用户或组访问审核共享，请添加其他用户：</block>
  <block id="64284ed0e1d0e9b60f3a899045c763d0" category="list-text">输入： `add-user-on-share`</block>
  <block id="94ece95733ccd53e7e0b5543c7689637" category="list-text">出现提示时，输入审核导出共享的编号： ` _share_number_`</block>
  <block id="0d8325025f714677bfa147a584e0e7a5" category="list-text">出现提示时，添加用户或组： `user`</block>
  <block id="77a8dba0f6fc48737db0db18911a4ee8" category="paragraph">或 `group`</block>
  <block id="752b3a9fe11a27a68f543202cfe6f30b" category="list-text">出现提示时，输入审核用户或组的名称： ` _audit_user 或 audit_group_`</block>
  <block id="1083b9827b43397233bb2cb7db816c00" category="list-text">对有权访问审核共享的每个其他用户或组重复这些子步骤。</block>
  <block id="4a6d3d6cc2d4d6febdc95546e14a2759" category="paragraph">此时将显示审核客户端配置。</block>
  <block id="6f541f8d5a34ff86a92d7cafd3e696e7" category="list-text">启动 Samba 服务： `sservice smbd start`</block>
  <block id="23978bc8612ecd5eb394a9715475e283" category="paragraph">或者，如果 StorageGRID 部署包括其他站点的管理节点，则根据需要启用这些审核共享：</block>
  <block id="d12d73a4fad245885a0aa7f380299aae" category="list-text">重复上述步骤为每个附加管理节点配置审核共享。</block>
  <block id="8f0007328f39657a375afa464568b279" category="summary">作为网格管理员，您可以创建和管理 S3 和 Swift 客户端用来存储和检索对象，监控存储使用情况以及管理客户端使用 StorageGRID 系统能够执行的操作的租户帐户。</block>
  <block id="e4ee8d704ca58135eef25f64249901e1" category="doc">管理租户</block>
  <block id="0ca5b907506158c93ce087938cd754fa" category="section-title">什么是租户帐户？</block>
  <block id="80490104ac57c63e28a130c438b5743e" category="paragraph">租户帐户允许使用简单存储服务（ S3 ） REST API 或 Swift REST API 的客户端应用程序在 StorageGRID 上存储和检索对象。</block>
  <block id="0d2356912b03271d62be950f711550ac" category="paragraph">每个租户帐户都支持使用一个协议，您可以在创建帐户时指定该协议。要将对象存储和检索到使用这两种协议的 StorageGRID 系统，您必须创建两个租户帐户：一个用于 S3 分段和对象，一个用于 Swift 容器和对象。每个租户帐户都有自己的帐户 ID ，授权组和用户，分段或容器以及对象。</block>
  <block id="92b53d9e7f6934a400ab8f359153bc95" category="paragraph">或者，如果要将系统上存储的对象隔离为不同的实体，则可以创建其他租户帐户。例如，您可以在以下任一使用情形中设置多个租户帐户：</block>
  <block id="16fff265caf90d8894ceac89c2cb6254" category="list-text">* 企业用例： * 如果您在企业应用程序中管理 StorageGRID 系统，则可能需要按组织中的不同部门隔离网格的对象存储。在这种情况下，您可以为营销部门，客户支持部门，人力资源部门等创建租户帐户。</block>
  <block id="d1d2fb1cd1d87bdf75962fe2de027f6a" category="admonition">如果使用 S3 客户端协议，则只需使用 S3 分段和分段策略来隔离企业中各个部门之间的对象即可。您不需要使用租户帐户。有关详细信息，请参见实施 S3 客户端应用程序的说明。</block>
  <block id="c8fb89db3ac375e1dcef60c540371083" category="list-text">* 服务提供商用例： * 如果您将 StorageGRID 系统作为服务提供商进行管理，则可以按要在网格上租用存储的不同实体来隔离网格的对象存储。在这种情况下，您将为公司 A ，公司 B ，公司 C 等创建租户帐户。</block>
  <block id="747a434b546194d7629a3e73bf913d85" category="section-title">创建和配置租户帐户</block>
  <block id="49d6b938fe67d62a97aca397d2539d89" category="paragraph">创建租户帐户时，您可以指定以下信息：</block>
  <block id="314931667976fdc1897bec66074f0945" category="list-text">租户帐户的显示名称。</block>
  <block id="7423cc72460c4cca9c40f30a22043f2c" category="list-text">租户帐户（ S3 或 Swift ）将使用哪种客户端协议。</block>
  <block id="c7f391c8c34e64d19b9fc7388fb2944f" category="list-text">对于 S3 租户帐户：租户帐户是否有权对 S3 分段使用平台服务。如果您允许租户帐户使用平台服务，则必须确保已将网格配置为支持其使用。请 `M" 管理平台服务 " 。`</block>
  <block id="2e1b496db69e4a0941161fd34eca0cf1" category="list-text">（可选）租户帐户的存储配额—租户对象可用的最大 GB ， TB 或 PB 数。如果超过配额，租户将无法创建新对象。</block>
  <block id="fd59b4b7eea749ab3d592183626bd022" category="admonition">租户的存储配额表示逻辑容量（对象大小），而不是物理容量（磁盘大小）。</block>
  <block id="d489985924ffa2ae68736012ffc2f739" category="list-text">如果为 StorageGRID 系统启用了身份联合，则哪个联合组具有 root 访问权限来配置租户帐户。</block>
  <block id="ab003933268e7ca8253071f2d4a984f2" category="paragraph">创建租户帐户后，您可以执行以下任务：</block>
  <block id="5d28f644c98b79e88fcc826bda074138" category="list-text">* 管理网格的平台服务 * ：如果您为租户帐户启用平台服务，请确保您了解如何传送平台服务消息以及使用平台服务对 StorageGRID 部署的网络要求。</block>
  <block id="c02e40e68974e6cf92ddfb7ffab0cecf" category="list-text">* 监控租户帐户的存储使用情况 * ：租户开始使用其帐户后，您可以使用 Grid Manager 监控每个租户占用的存储容量。</block>
  <block id="28f1e9427da579b303ced1b677dcd84c" category="admonition">如果节点与网格中的其他节点隔离，则租户的存储使用量值可能会过时。恢复网络连接后，总数将更新。</block>
  <block id="467534119e5d70b91d0beed311f9869c" category="paragraph">如果已为租户设置配额，则可以启用 * 租户配额使用量高 * 警报以确定租户是否正在使用其配额。如果启用，则在租户已使用其配额的 90% 时触发此警报。有关详细信息，请参见 StorageGRID 监控和故障排除说明中的警报参考。</block>
  <block id="3c463743ae4173af8f5aaf772365dd54" category="list-text">* 配置客户端操作 * ：您可以配置是否禁止某些类型的客户端操作。</block>
  <block id="a3664640ac396fb776d6266d0e69f4c8" category="list-text">设置身份联合（除非身份源与网格共享）并创建本地组和用户</block>
  <block id="43fdb8c434256cfbb6e40aa9f2554f42" category="list-text">创建和管理 S3 存储分段</block>
  <block id="f3711207d728138d241be7d11e932a75" category="admonition">S3 租户用户可以使用租户管理器创建和管理 S3 访问密钥和存储分段，但必须使用 S3 客户端应用程序载入和管理对象。</block>
  <block id="30c02ba8b9c666379a540f9a3897e780" category="paragraph">创建 Swift 租户帐户后，租户的 root 用户可以访问租户管理器以执行如下任务：</block>
  <block id="9036103be04a85505623f6bb4e1645ea" category="admonition">Swift 用户必须具有 root 访问权限才能访问租户管理器。但是， " 根 " 访问权限不允许用户通过 Swift REST API 的身份验证来创建容器和载入对象。用户必须具有 Swift 管理员权限才能向 Swift REST API 进行身份验证。</block>
  <block id="ecf086d632e4440d29c04da6316c04ef" category="summary">您可以将多个管理节点和网关节点的网络接口分组到一个高可用性组中。如果 HA 组中的活动接口发生故障，则备份接口可以管理工作负载。</block>
  <block id="b6085286b06d596b32b57d65100238d1" category="doc">管理高可用性（ HA ）组：概述</block>
  <block id="6bc314f562d758e9865c7c6fe88bdabc" category="paragraph">您可以将多个管理节点和网关节点的网络接口分组到一个高可用性（ HA ）组中。如果 HA 组中的活动接口发生故障，则备份接口可以管理工作负载。</block>
  <block id="e475624a8136a96990fc8918f81d5b70" category="section-title">什么是 HA 组？</block>
  <block id="2bd4cd54eb5d9f4186a4a01198f6fde5" category="paragraph">您可以使用高可用性（ High Availability ， HA ）组为 S3 和 Swift 客户端提供高可用性数据连接，或者为 Grid Manager 和租户管理器提供高可用性连接。</block>
  <block id="d78135669af79d3a2cf5f6308653ec8d" category="paragraph">每个 HA 组均可访问选定节点上的共享服务。</block>
  <block id="15ce12269015ff944903c297a8012668" category="list-text">包括网关节点，管理节点或两者在内的 HA 组可为 S3 和 Swift 客户端提供高可用性数据连接。</block>
  <block id="6d61d35083f6f3cf58ed7f26ab13fdd8" category="list-text">仅包含管理节点的 HA 组可提供与网格管理器和租户管理器的高可用性连接。</block>
  <block id="7b3d111a92b1ea7fa6533a3a3ffab772" category="inline-xref-macro">使用 S3 Select 的 S3 租户</block>
  <block id="f3f12107c2ce7e8ff65331ca6abb6e06" category="list-text">如果 HA 组仅包含 SG100 或 SG1000 设备以及基于 VMware 的软件节点，则可以为提供高可用性连接 <block ref="158d86c6e1d0df90465ef041461dae91" category="inline-xref-macro-rx"></block>。建议在使用 S3 Select 时使用 HA 组，但不要求使用 HA 组。</block>
  <block id="23d033b4c1918f0047093d92622dcb2f" category="section-title">如何创建 HA 组？</block>
  <block id="29f362143fa21fbe0214e69b272720d2" category="list-text">您可以为一个或多个管理节点或网关节点选择一个网络接口。您可以使用网格网络（ eth0 ）接口，客户端网络（ eth2 ）接口， VLAN 接口或已添加到节点的访问接口。</block>
  <block id="3fc436cb3d4a085f3015fbaf67a3987e" category="admonition">如果 HA 组具有 DHCP 分配的 IP 地址，则不能将接口添加到该组中。</block>
  <block id="32fcefdd09a8ed1d7100abaf326444b9" category="list-text">您可以指定一个接口作为主接口。主接口是活动接口，除非发生故障。</block>
  <block id="46600af76bf2439a11704c891d8fec38" category="list-text">您可以确定任何备份接口的优先级顺序。</block>
  <block id="27cbf3bb92be457ff0171957524641b8" category="list-text">您可以为组分配 1 到 10 个虚拟 IP （ VIP ）地址。客户端应用程序可以使用其中任何 VIP 地址连接到 StorageGRID 。</block>
  <block id="c10223cf7762594dd98df1c06c9fcc4e" category="paragraph">有关说明，请参见 <block ref="8fdcd668e832ec9af2aff0f5079ab6dc" category="inline-xref-macro-rx"></block>。</block>
  <block id="765292d6681406284ad632878966248b" category="section-title">什么是活动接口？</block>
  <block id="c4e6e8ef1757f36db939795f8d260842" category="paragraph">在正常操作期间， HA 组的所有 VIP 地址都会添加到主接口，这是优先级顺序中的第一个接口。只要主接口保持可用，客户端就会连接到组的任何 VIP 地址。也就是说，在正常操作期间，主接口是组的 "`active` " 接口。</block>
  <block id="e7177d2079b7a5b7fdfad954b7501dff" category="paragraph">同样，在正常操作期间， HA 组的任何低优先级接口都充当 "`backup` " 接口。除非主（当前活动）接口不可用，否则不会使用这些备份接口。</block>
  <block id="7e23e73bee845707d570150fcc8780d7" category="section-title">查看节点的当前 HA 组状态</block>
  <block id="2c5269f8f3baffa78926eac32f930960" category="paragraph">要查看节点是否已分配给 HA 组并确定其当前状态，请选择 * 节点 * &gt; * 节点 _节点 _* 。</block>
  <block id="624392c0b6bad84aef5f54d3ceba3900" category="paragraph">如果 * 概述 * 选项卡包含 * HA 组 * 的条目，则节点将分配给列出的 HA 组。组名称后面的值是 HA 组中节点的当前状态：</block>
  <block id="3eb168af1cd1cd11f646e74f0fff2181" category="list-text">* 活动 * ： HA 组当前正在此节点上托管。</block>
  <block id="bd2d8de388ea600b9dfb760a67e0c5db" category="list-text">* 备份 * ： HA 组当前未使用此节点；这是一个备份接口。</block>
  <block id="14480394ece32c9dfa02078ed2d333c2" category="list-text">* 已停止 * ：无法在此节点上托管 HA 组，因为已手动停止高可用性（ keepalived ）服务。</block>
  <block id="a61f894b6b12d406c4d6b2b189f6fd6a" category="list-text">* 故障 * ：由于以下一项或多项原因，无法在此节点上托管 HA 组：</block>
  <block id="c69fe6c933f7334cd2804481ab49e1bb" category="list-text">此节点上未运行负载平衡器（ nginx -gw ）服务。</block>
  <block id="212fbdb3e6bdd1be16ee7cb0ef50b200" category="list-text">节点的 eth0 或 VIP 接口已关闭。</block>
  <block id="dfe2cfff2b4fe91049aa348ed55b4e80" category="list-text">节点已关闭。</block>
  <block id="1b4b70d388e392fd600ad9b59fc64158" category="paragraph">在此示例中，主管理节点已添加到两个 HA 组中。此节点当前是管理客户端组的活动接口，也是 FabricPool 客户端组的备份接口。</block>
  <block id="ad9d694b118d7ba3e651b67dd320cbae" category="image-alt">HA 组主接口</block>
  <block id="26ab352c7a7feb96bad49942f39f2a4e" category="section-title">活动接口发生故障时会发生什么情况？</block>
  <block id="aa7719dc98e2e7e59c419db9d321ba8e" category="paragraph">当前托管 VIP 地址的接口是活动接口。如果 HA 组包含多个接口且活动接口发生故障，则 VIP 地址将按优先级顺序移至第一个可用的备份接口。如果该接口发生故障， VIP 地址将移至下一个可用备份接口，依此类推。</block>
  <block id="3d9e496af9dbdcc72150f5fffa4329d7" category="paragraph">触发故障转移的原因如下：</block>
  <block id="3edb990b32b3b836344bac424a32c1c9" category="list-text">配置接口的节点将关闭。</block>
  <block id="eea4de0d86b233791f264cd1e817404a" category="list-text">配置了该接口的节点与所有其他节点的连接至少断开 2 分钟。</block>
  <block id="e5a67bc0c9678b6cdc102cdb0d906202" category="list-text">活动接口关闭。</block>
  <block id="497676918041dfff191fb42baa38fd62" category="list-text">负载平衡器服务将停止。</block>
  <block id="7b55a08f3bb1da1d9871c97057796f60" category="list-text">高可用性服务将停止。</block>
  <block id="0d4999b01d600b618468b1c90a2b1151" category="admonition">托管活动接口的节点外部的网络故障可能不会触发故障转移。同样， CLB 服务（已弃用）或网格管理器或租户管理器服务失败也不会触发故障转移。</block>
  <block id="97c143c7cf4bf55fd39d4987b7bdbda5" category="paragraph">故障转移过程通常只需几秒钟，并且速度足以使客户端应用程序不会受到任何影响，并且可以依靠正常的重试行为来继续运行。</block>
  <block id="29d85e89b3917027ed0da414de5f5fbc" category="paragraph">解决故障后，如果更高优先级的接口再次可用，则 VIP 地址会自动移至可用的最高优先级接口。</block>
  <block id="371be4310993b16b0b90f60c9a112b4b" category="summary">如果使用 HTTP 或 HTTPS 发送 AutoSupport 消息，则可以在管理节点和技术支持 \ （ AutoSupport ）之间配置非透明代理服务器。</block>
  <block id="a4e99ef591da4bfe411845c66047caaa" category="paragraph">如果使用 HTTP 或 HTTPS 发送 AutoSupport 消息（请参见 <block ref="50ca88613b0f0d71f84c481d449082c7" category="inline-xref-macro-rx"></block>），您可以在管理节点和技术支持（ AutoSupport ）之间配置非透明代理服务器。</block>
  <block id="a235da287d3e889d02012074bbc618f1" category="paragraph">您可以为单个管理员代理配置设置。</block>
  <block id="bd37bf703091259fb0c446ba3706c10c" category="paragraph">此时将显示 Admin Proxy Settings 页面。默认情况下，在边栏菜单中选择了 * 存储 * 。</block>
  <block id="cb408e03dd8f44fde3e8318336039d8f" category="list-text">从边栏菜单中选择 * 管理 * 。</block>
  <block id="fb75ead2ec8c34a2fdf6f71c859205ff" category="image-alt">代理设置菜单—管理员</block>
  <block id="b3aa3ddaaaf5d6f209ab7c346769f725" category="list-text">选中 * 启用管理代理 * 复选框。</block>
  <block id="b56868fd03dc80dd090e078362914c33" category="image-alt">Admin Proxy Settings 对话框的屏幕截图</block>
  <block id="8ec2fac660d2d7da1dee93e50b420905" category="list-text">输入用于连接到代理服务器的端口。</block>
  <block id="28c93a25dc451e37f45aea3238484989" category="list-text">（可选）输入代理用户名。</block>
  <block id="b36faac4322c873bb13d27985df891f0" category="paragraph">如果您的代理服务器不需要用户名，请将此字段留空。</block>
  <block id="150369b535f0f1efa0086ca45967869b" category="list-text">（可选）输入代理密码。</block>
  <block id="d28c3d6cf3f872e03e7307613f62d8c7" category="paragraph">如果您的代理服务器不需要密码，请将此字段留空。</block>
  <block id="047dbb4a4413cae4f228330b74cf34f1" category="paragraph">保存管理代理后，将在管理节点和技术支持之间配置代理服务器。</block>
  <block id="ab4b8e22c04f0ed2fa8d62da66ed26f1" category="list-text">如果需要禁用代理，请取消选中 * 启用管理代理 * 复选框，然后选择 * 保存 * 。</block>
  <block id="5bbbab6ec64bcc271ad7977e74a13164" category="summary">您可以查看本地用户和联合用户。您还可以创建本地用户并将其分配给本地管理组，以确定这些用户可以访问哪些网格管理器功能。</block>
  <block id="5ec49032b64657dd6da23d967e7ca1be" category="section-title">创建本地用户</block>
  <block id="8c99d4a8b6e34e161f880b5beee9cbb1" category="paragraph">您可以创建一个或多个本地用户，并将每个用户分配给一个或多个本地组。组的权限控制用户可以访问的网格管理器和网格管理 API 功能。</block>
  <block id="1183b558b32ab1860162314ea67fbcae" category="paragraph">您只能创建本地用户。使用外部身份源管理联合用户和组。</block>
  <block id="a85eddbe2700f94193c7c0570a3dd223" category="paragraph">网格管理器包括一个名为 "`root" 的预定义本地用户。` 您不能删除 root 用户。</block>
  <block id="5e5f494002921b3aee9bede4f2362f32" category="admonition">如果启用了单点登录（ SSO ），则本地用户将无法登录到 StorageGRID 。</block>
  <block id="fb3e8c644a1491ac694d73d9901402ee" category="list-text">选择 * 配置 * &gt; * 访问控制 * &gt; * 管理用户 * 。</block>
  <block id="ba145c942034e776578930556873460c" category="section-title">输入用户凭据</block>
  <block id="4b9c93ac413b92686be3cd2e768b9173" category="list-text">输入用户的全名，唯一用户名和密码。</block>
  <block id="210ab0e9763b6012c54ea9d450756d86" category="list-text">或者，如果此用户不应访问网格管理器或网格管理 API ，请选择 * 是 * 。</block>
  <block id="dd79504b0032107c0d4306a2c29bd648" category="section-title">分配给组</block>
  <block id="521474f6b2610f84591cc13fffad35b0" category="list-text">（可选）将用户分配给一个或多个组以确定用户的权限。</block>
  <block id="7638f4f051a959af77628a4b5b1e06da" category="paragraph">如果尚未创建组，则可以保存用户而不选择组。您可以在组页面上将此用户添加到组中。</block>
  <block id="646356dbc92f437bb250c51694f2c20e" category="paragraph">如果用户属于多个组，则权限是累积的。请参见<block ref="d40a142ac2e16df29d925a8206e27f27" category="inline-xref-macro-rx"></block> 了解详细信息。</block>
  <block id="8ad8101661d362b743cab3ace0b43645" category="list-text">选择 * 创建用户 * 并选择 * 完成 * 。</block>
  <block id="b2b41aa3e43d7e7a96cc54632028ac01" category="section-title">查看和编辑本地用户</block>
  <block id="26c36d547543bd4f90bc3d9c2f1c1b9d" category="paragraph">您可以查看现有本地用户和联合用户的详细信息。您可以修改本地用户以更改用户的全名，密码或组成员资格。您还可以暂时阻止用户访问网格管理器和网格管理 API 。</block>
  <block id="78e196517bb28f1a18c525aed621d9b4" category="paragraph">您只能编辑本地用户。使用外部身份源管理联合用户。</block>
  <block id="a4e5469727d14030c792decf8c4dbb33" category="list-text">要查看所有本地和联合用户的基本信息，请查看用户页面上的表。</block>
  <block id="93c0b1ce7d233af50d0e8568f5e4cd78" category="list-text">要查看特定用户的所有详细信息，编辑本地用户或更改本地用户的密码，请使用 * 操作 * 菜单或详细信息页面。</block>
  <block id="e302490aec6c0b3dc1d61ec19655de49" category="paragraph">用户下次注销后重新登录到网格管理器时，系统将应用任何编辑。</block>
  <block id="21e9163abe9e12909bb433bc4c3faf0c" category="admonition">本地用户可以使用网格管理器横幅中的 * 更改密码 * 选项更改自己的密码。</block>
  <block id="af00c4130b8e92783bf3cbe1064b48dc" category="paragraph">查看用户详细信息</block>
  <block id="229c4cb248e3308fe9b3b3aef5b03264" category="list-text">选中用户对应的复选框。</block>
  <block id="5be1c03261073a93bae059b0e0ef0c8e" category="list-text">选择 * 操作 * &gt; * 查看用户详细信息 * 。</block>
  <block id="c3b8339cc416f88f29c1267337473821" category="paragraph">在表中选择用户名。</block>
  <block id="ca7ab0a466a9e8f40bbeb2778ae31bb7" category="paragraph">编辑全名（仅限本地用户）</block>
  <block id="b32dc821e0d804cba4733f65f3a68088" category="list-text">选择 * 操作 * &gt; * 编辑全名 * 。</block>
  <block id="b496bf0fdab99ec95dd03bf1a7254250" category="list-text">选择用户的名称以显示详细信息。</block>
  <block id="755d4e39c09e7d36ca80d89de5fedd45" category="paragraph">拒绝或允许 StorageGRID 访问</block>
  <block id="69113c9244a76eb04515711a18f11691" category="list-text">选择访问选项卡。</block>
  <block id="f2d3e8e948064d27143a0b4a9ec17942" category="list-text">选择 * 是 * 以防止用户登录到网格管理器或网格管理 API ，或者选择 * 否 * 以允许用户登录。</block>
  <block id="3d7dec76388378cfa584fbee2ceb83b8" category="paragraph">更改密码（仅限本地用户）</block>
  <block id="2ba5eaf0c714fdd4f88f31e80ec4c2ce" category="list-text">选择密码选项卡。</block>
  <block id="efb018d5487bb2783d7784afa0260599" category="list-text">输入新密码。</block>
  <block id="84475185ef92257697c658d3b6f56677" category="list-text">选择 * 更改密码 * 。</block>
  <block id="41a659246f66474fc5cc8bd42152fedd" category="paragraph">更改组（仅限本地用户）</block>
  <block id="de7e3ec7e1cf09392ea94dfaa16f7904" category="list-text">选择组选项卡。</block>
  <block id="2dbe596f249761f802f8063ebc081d91" category="list-text">也可以选择组名称后面的链接，以便在新的浏览器选项卡中查看组的详细信息。</block>
  <block id="4135259646222397238cd69e489b28a4" category="list-text">选择 * 编辑组 * 以选择不同的组。</block>
  <block id="4ab1153e308bf331f9f4847b1606fb3f" category="section-title">复制用户</block>
  <block id="38299c619ec4f327f0690550ac16a9ba" category="paragraph">您可以复制现有用户以创建具有相同权限的新用户。</block>
  <block id="fd6517effa78f8332ee65faa45d2c338" category="list-text">选择 * 操作 * &gt; * 复制用户 * 。</block>
  <block id="0f3cee834ca7329c1c14635efdca15ab" category="list-text">完成复制用户向导。</block>
  <block id="6068ec93237c9fde567e8116ebc47449" category="section-title">删除用户</block>
  <block id="790c51f8afd3e5dc92116fafee66e26a" category="paragraph">您可以删除本地用户，以便从系统中永久删除该用户。</block>
  <block id="8b834f7153b3b9481e7a592bb67b7256" category="admonition">您不能删除 root 用户。</block>
  <block id="e978afcb80c42a290b2e79e615bb1f7f" category="list-text">在用户页面中，选中要删除的每个用户对应的复选框。</block>
  <block id="637df822a8ab2a10a238697ea1a6d314" category="list-text">选择 * 删除用户 * 。</block>
  <block id="fe75d232be8f895d0eaba735a64de636" category="summary">除了遵循 StorageGRID 网络和节点的强化准则之外，您还应遵循 StorageGRID 系统其他方面的强化准则。</block>
  <block id="415365826ecc2e470c76c1f83a9c592a" category="doc">其他强化准则</block>
  <block id="370ba5274e72eb9b150eac822e0f7614" category="section-title">日志和审核消息</block>
  <block id="9174ae92b3e0f6467510431aec5222c5" category="paragraph">始终以安全的方式保护 StorageGRID 日志和审核消息输出。从支持和系统可用性角度来看， StorageGRID 日志和审核消息可提供宝贵的信息。此外， StorageGRID 日志和审核消息输出中包含的信息和详细信息通常具有敏感性。</block>
  <block id="f7aa79731a32494a6430efe9957f276f" category="paragraph">将 StorageGRID 配置为向外部系统日志服务器发送安全事件。如果使用系统日志导出，请为传输协议选择 TLS 和 RELP/TLS 。</block>
  <block id="5aa82c0386edf96c5bf3ecbe9e0bc4c5" category="paragraph">有关 StorageGRID 日志的详细信息，请参见有关监控和故障排除的说明。有关 StorageGRID 审核消息的详细信息，请参见审核消息的说明。</block>
  <block id="a4d4a2ce01f92b20030c0f4e601e1469" category="section-title">NetApp AutoSupport</block>
  <block id="f79db7c70e113687c5947754f0dc6fe0" category="paragraph">通过 StorageGRID 的 AutoSupport 功能，您可以主动监控系统的运行状况，并自动向 NetApp 技术支持，贵组织的内部支持团队或支持合作伙伴发送消息和详细信息。默认情况下，首次配置 StorageGRID 时，会启用发送给 NetApp 技术支持的 AutoSupport 消息。</block>
  <block id="81e649103ac75dbc4816836e0c649246" category="paragraph">可以禁用 AutoSupport 功能。但是， NetApp 建议启用此功能，因为如果您的 StorageGRID 系统上出现问题描述 ， AutoSupport 有助于加快识别和解决问题的速度。</block>
  <block id="5b4b99885d6c41f784d4353df3954f85" category="paragraph">对于传输协议， AutoSupport 支持 HTTPS ， HTTP 和 SMTP 。由于 AutoSupport 消息的敏感性， NetApp 强烈建议使用 HTTPS 作为向 NetApp 支持部门发送 AutoSupport 消息的默认传输协议。</block>
  <block id="47f9ee5d5730540d77a8c4348a2734f7" category="paragraph">您也可以配置一个管理员代理，以便更好地控制从管理节点到 NetApp 技术支持的 AutoSupport 通信。请参见管理 StorageGRID 说明中的创建管理员代理的步骤。</block>
  <block id="6cc93ddda84b745b2f31b34b49f122f3" category="section-title">跨源资源共享（ CORS ）</block>
  <block id="3151394181cc2936e68eee84754841ce" category="paragraph">如果您希望 S3 存储分段中的存储分段和对象可供其他域中的 Web 应用程序访问，则可以为该存储分段配置跨源资源共享（ CORS ）。通常，除非需要，否则请勿启用 CORS 。如果需要 CORS ，请将其限制为可信源。</block>
  <block id="d0b0f23d8274c9e11ce30294d8a75933" category="paragraph">请参见使用租户帐户说明中的配置跨源资源共享（ CORS ）的步骤。</block>
  <block id="091aaa2b5acbd1a7a62fbdfb1402d16c" category="section-title">外部安全设备</block>
  <block id="6b1a44cf75b67e07362b08f4f2fa20bd" category="paragraph">全面强化的解决方案 必须解决 StorageGRID 之外的安全机制问题。使用其他基础架构设备筛选和限制对 StorageGRID 的访问是建立和保持严格安全防护的有效方法。这些外部安全设备包括防火墙，入侵防护系统（ IP ）和其他安全设备。</block>
  <block id="8c3e9bb8eaf9141a6b1c4a0042096f43" category="paragraph">对于不可信的客户端流量，建议使用第三方负载平衡器。第三方负载平衡可提供更多控制和更多保护层，防止受到攻击。</block>
  <block id="b41f9f1e67a83b8feef0e1fee2414deb" category="summary">StorageGRID 系统支持每个网格节点最多三个网络接口，使您可以根据安全和访问要求为每个网格节点配置网络。</block>
  <block id="336c9594daaec81747694900137fde56" category="doc">StorageGRID 网络强化准则</block>
  <block id="50f63fd766043fcdde39ea149608c407" category="section-title">网格网络准则</block>
  <block id="063ee7c9b66e4a2aafe7565d8193d43b" category="paragraph">您必须为所有内部 StorageGRID 流量配置网格网络。所有网格节点均位于网格网络上，它们必须能够与所有其他节点进行通信。</block>
  <block id="2a7aa087c5a263b1051ba48780146cd7" category="paragraph">配置网格网络时，请遵循以下准则：</block>
  <block id="8f902a87ddd30922486490622303126c" category="list-text">确保网络不受不可信客户端的保护，例如在开放式互联网上的客户端。</block>
  <block id="3757a2aa09ddd98d1db23006acca9bec" category="list-text">如果可能，请仅对内部流量使用网格网络。管理网络和客户端网络都具有其他防火墙限制，可阻止外部向内部服务发送流量。支持对外部客户端流量使用网格网络，但这种使用可提供更少的保护层。</block>
  <block id="0b6fcdedcd36ac17d2edefa421b441d8" category="list-text">如果 StorageGRID 部署跨越多个数据中心，请使用网格网络上的虚拟专用网络（ VPN ）或等效网络为内部流量提供额外保护。</block>
  <block id="c0ab2fb969c68248c9d48b58df585580" category="list-text">某些维护过程要求在主管理节点与所有其他网格节点之间的端口 22 上进行安全 Shell （ SSH ）访问。使用外部防火墙将 SSH 访问限制为受信任的客户端。</block>
  <block id="c0647aa4d77ce9ddd128ea514de1e53d" category="section-title">管理网络准则</block>
  <block id="93f39b2961c9772ce69edccee69e89b5" category="paragraph">管理网络通常用于执行管理任务（使用网格管理器或 SSH 的受信任员工）以及与 LDAP ， DNS ， NTP 或 KMS （或 KMIP 服务器）等其他受信任服务进行通信。但是， StorageGRID 不会在内部强制使用此用法。</block>
  <block id="2714bd9e52f4ba4cb16070cbe0748eb3" category="paragraph">如果您使用的是管理网络，请遵循以下准则：</block>
  <block id="6eb1213a6c30de074191d3448a0d384f" category="list-text">阻止管理网络上的所有内部流量端口。请参见适用于您的平台的安装指南中的内部端口列表。</block>
  <block id="e314f7ec4634a7877c3a30ab0e3b68a7" category="list-text">如果不可信的客户端可以访问管理网络，请使用外部防火墙阻止对管理网络上 StorageGRID 的访问。</block>
  <block id="27d772ede236a6c0d6957d627675e8b8" category="section-title">客户端网络准则</block>
  <block id="9734429749a9b3aed09e3369c5042c0a" category="paragraph">客户端网络通常用于租户以及与外部服务（例如 CloudMirror 复制服务或其他平台服务）进行通信。但是， StorageGRID 不会在内部强制使用此用法。</block>
  <block id="a17973b4a3657052602541ad03fe27b0" category="paragraph">如果您使用的是客户端网络，请遵循以下准则：</block>
  <block id="b4558a3f5ea403e6e0563dc8c2151581" category="list-text">阻止客户端网络上的所有内部流量端口。请参见适用于您的平台的安装指南中的内部端口列表。</block>
  <block id="1506cf1b6262b650311e14bb986df62b" category="list-text">仅接受显式配置的端点上的入站客户端流量。请参见有关管理 StorageGRID 的说明中有关管理不可信客户端网络的信息。</block>
  <block id="eaaa3a94f2b1a44077efe18a9406e5ec" category="summary">您应将安装期间创建的默认证书替换为您自己的自定义证书。</block>
  <block id="715af9b37d6cb49fd73348658861b86f" category="paragraph">对于许多组织来说，用于 StorageGRID Web 访问的自签名数字证书不符合其信息安全策略。在生产系统上，您应安装 CA 签名的数字证书以用于对 StorageGRID 进行身份验证。</block>
  <block id="4a03979ab06fd2042fe4b6a6bc182719" category="paragraph">具体而言，您应使用自定义服务器证书，而不是这些默认证书：</block>
  <block id="455684980845b7cab58d75450bf795d0" category="list-text">* 管理接口证书 * ：用于确保对网格管理器，租户管理器，网格管理 API 和租户管理 API 的访问安全。</block>
  <block id="5ce825bdd68b4426644e9815d0469fca" category="list-text">* S3 和 Swift API 证书 * ：用于保护对存储节点和网关节点的访问安全， S3 和 Swift 客户端应用程序使用这些节点上传和下载对象数据。</block>
  <block id="944d28ec2826bdb66e7afcb755f04d2b" category="admonition">StorageGRID 单独管理用于负载平衡器端点的证书。要配置负载平衡器证书，请参见管理 StorageGRID 的说明中配置负载平衡器端点的步骤。</block>
  <block id="b8ea5ccb7a2cf8c7a4e875abd3982632" category="paragraph">使用自定义服务器证书时，请遵循以下准则：</block>
  <block id="8884639191c588b8d922470494f05db4" category="inline-link">RFC 5280 ： PKIX 证书和 CRL 配置文件</block>
  <block id="94106e4cd3f8516173f920b8d9ba43a8" category="list-text">证书应具有与 StorageGRID 的 DNS 条目匹配的 ` _subjectAltName_` 。有关详细信息，请参见中的第 4.2.1.6 节 " `SSubject Alternative Name ，` "<block ref="0d60323af7308276d2b7e28fd9dc27db" category="inline-link-rx"></block>。</block>
  <block id="30f6afa5fd213c2ad9207c58df50081f" category="list-text">尽可能避免使用通配符证书。此准则的一个例外是 S3 虚拟托管模式端点的证书，如果事先不知道分段名称，则需要使用通配符。</block>
  <block id="f4b85dd747d70c6882e004fbc735d9aa" category="list-text">如果必须在证书中使用通配符，则应执行其他步骤以降低风险。请使用通配符模式，例如 ` * .s3.example.com` ，不要对其他应用程序使用 `s3.example.com` 后缀。此模式也适用于路径模式 S3 访问，例如 `dc1-s1.s3.example.com/mybucket` 。</block>
  <block id="fa157a9858c8d55737e849525ea6a185" category="list-text">将证书到期时间设置为较短（例如 2 个月），并使用网格管理 API 自动轮换证书。这对于通配符证书尤其重要。</block>
  <block id="c3696627274228059aa0853c8be461b7" category="paragraph">此外，客户端在与 StorageGRID 通信时应使用严格的主机名检查。</block>
  <block id="761614be45e969067354a62d6f2be2e3" category="summary">在安装和配置 StorageGRID 时，您可以使用这些准则来帮助您实现任何规定的安全目标，以确保信息系统的机密性，完整性和可用性。</block>
  <block id="991a3e9eb0afc3f352e997b43a978b3f" category="doc">系统强化准则</block>
  <block id="191e14abdde1e594be4b9662d2c1d0dd" category="summary">您必须使 StorageGRID 系统和相关服务保持最新，以抵御攻击。</block>
  <block id="849c75cfa24db9fc4ad13b2bfc680868" category="doc">软件升级的强化准则</block>
  <block id="5ae524cd5748c5e6105f10a1151e6957" category="section-title">升级到 StorageGRID 软件</block>
  <block id="ddc34e1e7d91f92fc77f2cb23b291025" category="paragraph">您应尽可能将 StorageGRID 软件升级到最新的主要版本或先前的主要版本。使 StorageGRID 保持最新有助于缩短已知漏洞处于活动状态的时间，并减少整体攻击面。此外， StorageGRID 的最新版本通常包含早期版本中不包括的安全强化功能。</block>
  <block id="fe5511b23a86da06fa4cb19e6a7f53ef" category="paragraph">如果需要修补程序， NetApp 会优先为最新版本创建更新。某些修补程序可能与早期版本不兼容。</block>
  <block id="3afe9acf5cda5289ef53b70450c87545" category="paragraph">要下载最新的 StorageGRID 版本和修补程序，请转到 StorageGRID 软件下载页面。有关升级 StorageGRID 软件的分步说明，请参见有关升级 StorageGRID 的说明。有关应用修补程序的说明，请参见恢复和维护说明。</block>
  <block id="d04fb3d825288dee588dff5c35cb53eb" category="section-title">升级到外部服务</block>
  <block id="11f93461f0e12aaa3ec85994a305bad7" category="paragraph">外部服务可能存在间接影响 StorageGRID 的漏洞。您应确保 StorageGRID 所依赖的服务保持最新。这些服务包括 LDAP ， KMS （或 KMIP 服务器）， DNS 和 NTP 。</block>
  <block id="07ccfc16bae7891ef9db76bc157d6164" category="paragraph">使用 NetApp 互操作性表工具可获取受支持版本的列表。</block>
  <block id="84c6cc29a05ad969bfb04af6c83cb02a" category="section-title">升级到虚拟机管理程序</block>
  <block id="d19cbd193e72f82fcd372552f06f0b34" category="paragraph">如果您的 StorageGRID 节点正在 VMware 或其他虚拟机管理程序上运行，则必须确保虚拟机管理程序软件和固件是最新的。</block>
  <block id="33ebcc47b5e5de9cc6affd2ab7603e66" category="section-title">升级到 Linux 节点</block>
  <block id="8366e06488479eb384cd7561d712f586" category="paragraph">如果 StorageGRID 节点使用的是 Linux 主机平台，则必须确保将安全更新和内核更新应用于主机操作系统。此外，如果存在固件更新，则必须将这些更新应用于容易受到影响的硬件。</block>
  <block id="7a6064d965bd7e22e6c91023cfef2482" category="summary">系统强化是指尽可能消除 StorageGRID 系统中的安全风险的过程。</block>
  <block id="937a07d31b0e6975b31abc3a9f7543ca" category="doc">系统强化：概述</block>
  <block id="893736f529e97f6a92ec7bd1801514e5" category="paragraph">本文档概述了特定于 StorageGRID 的强化准则。这些准则是对行业标准系统强化最佳实践的补充。例如，这些准则假定您对 StorageGRID 使用强密码，使用 HTTPS 而不是 HTTP ，并在可用时启用基于证书的身份验证。</block>
  <block id="f9ec2543ccfd2e191d42b54fbc82ad42" category="paragraph">StorageGRID 遵循 _NetApp 漏洞处理策略 _ 。报告的漏洞会根据产品安全意外事件响应流程进行验证和解决。</block>
  <block id="6e786298836392b8bc3784f628624002" category="section-title">强化 StorageGRID 系统的一般注意事项</block>
  <block id="7d486b2d24a614b77550bdc3156e0147" category="paragraph">在强化 StorageGRID 系统时，必须考虑以下几点：</block>
  <block id="5e6e0b6b8b1e4557634a185b7fe105e4" category="list-text">您实施了三个 StorageGRID 网络中的哪一个。所有 StorageGRID 系统都必须使用网格网络，但您也可以使用管理网络，客户端网络或这两者。每个网络都有不同的安全注意事项。</block>
  <block id="0c13b4d264e568d8ce85f76024339801" category="list-text">StorageGRID 系统中各个节点使用的平台类型。StorageGRID 节点可以部署在 VMware 虚拟机上， Linux 主机上的容器引擎中或作为专用硬件设备。每种类型的平台都有自己的一套强化最佳实践。</block>
  <block id="d86c72a661dbc36130bedd595a5b6e79" category="list-text">租户帐户的受信任程度。如果您是使用不可信租户帐户的服务提供商，则与仅使用可信的内部租户相比，您将面临不同的安全问题。</block>
  <block id="7b6e3e407bd66fe5ca499adde125b4e7" category="list-text">贵组织遵循哪些安全要求和约定。您可能需要遵守特定的法规或企业要求。</block>
  <block id="7804f18df8cb7b002b5c35f215a89605" category="inline-link">漏洞处理策略</block>
  <block id="7bc7d61bd26558960633b4e9d1cc6f8d" category="paragraph"><block ref="7bc7d61bd26558960633b4e9d1cc6f8d" category="inline-link-rx"></block></block>
  <block id="124ba6da565697d40ef35aa5b2af4dd7" category="summary">StorageGRID 节点可以部署在 VMware 虚拟机上， Linux 主机上的容器引擎中或作为专用硬件设备。每种类型的平台和每种类型的节点都有自己的一组强化最佳实践。</block>
  <block id="5cd9e7535cc5249b67a273e16bf5d27c" category="doc">StorageGRID 节点的强化准则</block>
  <block id="7b5ab8d4f5391ce5b1dfdc1f7332745e" category="section-title">防火墙配置</block>
  <block id="1e226987c07822f45a0de9c89be2957b" category="paragraph">在系统强化过程中，您必须查看外部防火墙配置并对其进行修改，以便仅接受来自 IP 地址和严格需要的端口的流量。</block>
  <block id="1a4d9415f27bf14c9f714a1420d2a322" category="paragraph">StorageGRID 使用自动管理的内部防火墙。虽然此内部防火墙可为应对某些常见威胁提供额外的保护层，但它不会消除对外部防火墙的需求。</block>
  <block id="ad69b612fb04b3f7d6fe9eab3b051bd4" category="paragraph">有关 StorageGRID 使用的所有内部和外部端口的列表，请参见适用于您的平台的安装指南。</block>
  <block id="67ee62c300ec5feed77e7b5ffe072d32" category="section-title">虚拟化，容器和共享硬件</block>
  <block id="791063310061dcb6579e766cf9472881" category="paragraph">对于所有 StorageGRID 节点，请避免在与不可信软件相同的物理硬件上运行 StorageGRID 。如果 StorageGRID 和恶意软件都位于同一物理硬件上，则不要假定虚拟机管理程序保护将防止恶意软件访问受 StorageGRID 保护的数据。例如， Meltdown 和 Spectre 攻击会利用现代处理器中的关键漏洞，并允许程序在同一台计算机的内存中窃取数据。</block>
  <block id="e8d9f8b851bcbfb0c97589732b625523" category="section-title">禁用未使用的服务</block>
  <block id="40987aebda1e5d67f3878426ff7b2016" category="paragraph">对于所有 StorageGRID 节点，您应禁用或阻止对未使用服务的访问。例如，如果您不打算配置客户端对 CIFS 或 NFS 的审核共享的访问权限，请阻止或禁用对这些服务的访问。</block>
  <block id="c78c752eea8f09db111cd06cdd853eaf" category="section-title">在安装期间保护节点</block>
  <block id="9fc71624563fe990426fbf46d0ef9bd6" category="paragraph">安装 StorageGRID 节点时，请勿允许不可信的用户通过网络访问这些节点。节点在加入网格之前不会完全安全。</block>
  <block id="67128aa10338140516394cb6ebe46eaa" category="section-title">管理节点准则</block>
  <block id="e2e44f920b4b119459e71cde41efd1ab" category="paragraph">管理节点可提供系统配置，监控和日志记录等管理服务。登录到网格管理器或租户管理器时，您正在连接到管理节点。</block>
  <block id="f4aaf1ec38b5118c6e1d5ea2126890cf" category="paragraph">请按照以下准则保护 StorageGRID 系统中的管理节点：</block>
  <block id="4b0a3bd28b162612eaa4e78a4ec3a968" category="list-text">保护所有管理节点不受不可信客户端的安全，例如在开放式 Internet 上的客户端。确保任何不可信的客户端都不能访问网格网络，管理网络或客户端网络上的任何管理节点。</block>
  <block id="0567d2b2226159bebff8c52b640dc255" category="list-text">StorageGRID 组控制对网格管理器和租户管理器功能的访问。为每个用户组授予其角色所需的最低权限，并使用只读访问模式防止用户更改配置。</block>
  <block id="6aa77177f777e945308a78ca1f33aa71" category="list-text">在使用 StorageGRID 负载平衡器端点时，请对不可信的客户端流量使用网关节点，而不是管理节点。</block>
  <block id="699b1e123a3bb8c0231184a1894df63b" category="list-text">如果您的租户不可信，请勿允许他们直接访问租户管理器或租户管理 API 。相反，让任何不可信的租户使用与租户管理 API 交互的租户门户或外部租户管理系统。</block>
  <block id="1588abc09aced7e69a67313b5f3673e0" category="list-text">或者，也可以使用管理员代理更好地控制从管理节点到 NetApp 支持的 AutoSupport 通信。请参见管理 StorageGRID 说明中的创建管理员代理的步骤。</block>
  <block id="860383d8d6aaff4304782f8041bf7dff" category="list-text">或者，也可以使用受限的 8443 和 9443 端口分隔 Grid Manager 和租户管理器通信。阻止共享端口 443 并将租户请求限制为端口 9443 以提供额外保护。</block>
  <block id="61a8f662b32620c29f0fdfad83f08ea0" category="list-text">也可以为网格管理员和租户用户使用单独的管理节点。</block>
  <block id="df9d8d02f71109f412e94415812f69e2" category="paragraph">有关详细信息，请参见有关管理 StorageGRID 的说明。</block>
  <block id="320f7a8238d6664d9ce1c4550d61fb60" category="section-title">存储节点准则</block>
  <block id="4e84701a74f075ea6371d58ef88b8fb0" category="paragraph">存储节点可管理和存储对象数据和元数据。请按照以下准则保护 StorageGRID 系统中的存储节点。</block>
  <block id="d68c4624034b85127698f96ce66480ee" category="list-text">请勿允许不可信的客户端直接连接到存储节点。使用由网关节点或第三方负载平衡器提供服务的负载平衡器端点。</block>
  <block id="3c271f0b3ece55ccc08cd5d9eb747aa2" category="list-text">请勿为不可信租户启用出站服务。例如，在为不可信租户创建帐户时，请勿允许租户使用自己的身份源，也不允许使用平台服务。请参见管理 StorageGRID 的说明中有关创建租户帐户的步骤。</block>
  <block id="542ef6eb6f33a9056fc005cb5044a95e" category="list-text">对不可信的客户端流量使用第三方负载平衡器。第三方负载平衡可提供更多控制和更多保护层，防止受到攻击。</block>
  <block id="9506eb5d7fe7e3bb8a1ad35350028689" category="list-text">或者，也可以使用存储代理更好地控制云存储池以及从存储节点到外部服务的平台服务通信。请参见管理 StorageGRID 的说明中有关创建存储代理的步骤。</block>
  <block id="fc71922f21cf0fd11379f1a46a5ef27a" category="list-text">也可以使用客户端网络连接到外部服务。然后，选择 * 配置 * &gt; * 网络 * &gt; * 不可信客户端网络 * ，并指示存储节点上的客户端网络不可信。存储节点不再接受客户端网络上的任何传入流量，但仍允许对平台服务发出出站请求。</block>
  <block id="6b2402ae01506646aa2583a3ef05d293" category="section-title">网关节点准则</block>
  <block id="17c4fc3c527192d4a53fa2b94fe43543" category="paragraph">网关节点提供了一个可选的负载平衡接口，客户端应用程序可以使用该接口连接到 StorageGRID 。请按照以下准则保护 StorageGRID 系统中的所有网关节点：</block>
  <block id="2f4b02b326e934cff11f6577989f0c07" category="list-text">在网关节点上配置和使用负载平衡器端点，而不是使用 CLB 服务。请参见管理 StorageGRID 说明中的负载平衡管理步骤。</block>
  <block id="0aaa0848e7dd882416d93050f413fdce" category="list-text">在客户端和网关节点或存储节点之间使用第三方负载平衡器处理不可信的客户端流量。第三方负载平衡可提供更多控制和更多保护层，防止受到攻击。如果您使用的是第三方负载平衡器，则仍然可以选择将网络流量配置为通过内部负载平衡器端点或直接发送到存储节点。</block>
  <block id="2fd4875b09d12c258909f79d10e63c9c" category="list-text">如果您使用的是负载平衡器端点，则可以选择让客户端通过客户端网络进行连接。然后，选择 * 配置 * &gt; * 网络 * &gt; * 不可信客户端网络 * ，并指示网关节点上的客户端网络不可信。网关节点仅接受显式配置为负载平衡器端点的端口上的入站流量。</block>
  <block id="fb25b482061fc01573440cee21144181" category="section-title">硬件设备节点准则</block>
  <block id="d6585d1685e710ddae9fdf23b7f02b62" category="paragraph">StorageGRID 硬件设备经过专门设计，可在 StorageGRID 系统中使用。某些设备可用作存储节点。其他设备可以用作管理节点或网关节点。您可以将设备节点与基于软件的节点结合使用，也可以部署经过全面设计的全设备网格。</block>
  <block id="b6e6676ec35c927425bad29d2354d40a" category="paragraph">请按照以下准则保护 StorageGRID 系统中的所有硬件设备节点：</block>
  <block id="90766bdcad3f67ccb57095a3c3540ad4" category="list-text">如果设备使用 SANtricity 系统管理器管理存储控制器，请防止不可信的客户端通过网络访问 SANtricity 系统管理器。</block>
  <block id="1ba4cc10212b6eea54966d091afd7cb8" category="list-text">如果设备具有基板管理控制器（ Baseboard Management Controller ， BMC ），请注意， BMC 管理端口允许低级别硬件访问。请仅将 BMC 管理端口连接到安全可信的内部管理网络。如果没有此类网络可用，请保持 BMC 管理端口未连接或被阻止，除非技术支持请求 BMC 连接。</block>
  <block id="0fd78dca6e1dfa222da03a88658b8c0e" category="list-text">如果设备支持使用智能平台管理接口（ Intelligent Platform Management Interface ， IPMI ）标准通过以太网远程管理控制器硬件，请阻止端口 623 上的不可信流量。</block>
  <block id="c5b27b482db0ac7fa993bc321405063f" category="list-text">如果设备中的存储控制器包含 FDE 或 FIPS 驱动器，并且已启用驱动器安全功能，请使用 SANtricity 配置驱动器安全密钥。</block>
  <block id="75155fed5222e3a05009bba511ebd574" category="list-text">对于没有 FDE 或 FIPS 驱动器的设备，请使用密钥管理服务器（ KMS ）启用节点加密。</block>
  <block id="c52fd9b1bf401c297660215d7b7e70e3" category="paragraph">请参见 StorageGRID 硬件设备的安装和维护说明。</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="summary">法律声明提供对版权声明、商标、专利等的访问。</block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">法律声明</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">版权</block>
  <block id="09e95b77ffe81fe465a83ba99efad5c8" category="paragraph"><block ref="09e95b77ffe81fe465a83ba99efad5c8" category="inline-link-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">商标</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp 、 NetApp 徽标和 NetApp 商标页面上列出的标记是 NetApp 、 Inc. 的商标。其他公司和产品名称可能是其各自所有者的商标。</block>
  <block id="7aa531e9acfe2b98e34d2c92fe9846ff" category="paragraph"><block ref="7aa531e9acfe2b98e34d2c92fe9846ff" category="inline-link-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">专利</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">有关 NetApp 拥有的专利的最新列表，请访问：</block>
  <block id="d7f1fbcf9ce4e42f705add574d262b2c" category="paragraph"><block ref="d7f1fbcf9ce4e42f705add574d262b2c" category="inline-link-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">隐私政策</block>
  <block id="fc248f74f5e36542f7f5627b8610e9a3" category="paragraph"><block ref="fc248f74f5e36542f7f5627b8610e9a3" category="inline-link-rx"></block></block>
  <block id="f64ee9fe707cbb3ba3c28f39fa2eb641" category="section-title">StorageGRID 11.6 的开源版本</block>
  <block id="21b17c7b7d71861473c6337e153ea6ea" category="paragraph"><block ref="21b17c7b7d71861473c6337e153ea6ea" category="inline-link-rx"></block></block>
  <block id="29007b92e2b6688072358d8f25529d24" category="paragraph"><block ref="29007b92e2b6688072358d8f25529d24" category="inline-link-rx"></block></block>
  <block id="83f36ae7c77d041e3d4f21db81ed5f74" category="summary">您可以从网格管理器配置各种安全设置，以帮助保护 StorageGRID 系统。</block>
  <block id="2bd0e3a490ccf2a391e03fe0f26c851d" category="doc">配置安全设置</block>
  <block id="1076501bd56d9264f0b9f41b57b26909" category="list-text">使用 HTTPS 连接时需要服务器证书。服务器证书用于在客户端和服务器之间建立安全连接，向客户端验证服务器的身份并为数据提供安全通信路径。服务器和客户端都有一个证书副本。</block>
  <block id="6c52ae3056550e986e460a705c686a63" category="list-text">客户端证书用于向服务器验证客户端或用户身份，从而提供比单独使用密码更安全的身份验证。客户端证书不会对数据进行加密。</block>
  <block id="c5765ced36e2144a34a413ac1f736b56" category="paragraph">您可以在 * 配置 * &gt; * 安全性 * &gt; * 证书 * 页面上查看所有 StorageGRID 证书。</block>
  <block id="d9df6ac0379e5a2c3542e0b2de18e718" category="section-title">密钥管理服务器</block>
  <block id="2c8f7bb66599f790523a7da91b3e7ca8" category="paragraph">您可以配置一个或多个外部密钥管理服务器（ KMS ），以便为 StorageGRID 服务和存储设备提供加密密钥。每个 KMS 或 KMS 集群都使用密钥管理互操作性协议（ Key Management Interoperability Protocol ， KMIP ）为关联 StorageGRID 站点上的设备节点提供一个加密密钥。使用密钥管理服务器可以保护 StorageGRID 数据，即使设备已从数据中心中删除也是如此。对设备卷进行加密后，除非节点可以与 KMS 通信，否则无法访问设备上的任何数据。</block>
  <block id="05c098498ebcf158ee8009f49e19ce7b" category="admonition">要使用加密密钥管理，必须在安装期间为每个设备启用 * 节点加密 * 设置，然后才能将该设备添加到网格中。</block>
  <block id="313cddf5bf0b2742447dc27f7c548cb6" category="section-title">代理设置</block>
  <block id="1dcccbc1cacd479a6e2fffb1066fc646" category="paragraph">如果您使用的是 S3 平台服务或云存储池，则可以在存储节点和外部 S3 端点之间配置非透明代理服务器。如果使用 HTTPS 或 HTTP 发送 AutoSupport 消息，则可以在管理节点和技术支持之间配置非透明代理服务器。</block>
  <block id="e054197fab97a39698fc9bc04f72a805" category="paragraph">如果您使用的是客户端网络，则可以通过指定每个节点上的客户端网络不可信来帮助保护 StorageGRID 免受恶意攻击。如果节点的客户端网络不可信，则节点仅接受显式配置为负载平衡器端点的端口上的入站连接。</block>
  <block id="b14f98082493dca2a386b19bbe3b4013" category="paragraph">例如，您可能希望网关节点拒绝客户端网络上除 HTTPS S3 请求之外的所有入站流量。或者，您可能希望启用来自存储节点的出站 S3 平台服务流量，同时防止客户端网络上与该存储节点的任何入站连接。</block>
  <block id="91ce2498163c1734bd7f8f989d0714c6" category="inline-xref-macro">管理租户和客户端连接</block>
  <block id="cdc153c280cf2d3b20d09f3d56e6691b" category="list-text"><block ref="cdc153c280cf2d3b20d09f3d56e6691b" category="inline-xref-macro-rx"></block></block>
  <block id="d53bc18e2f6b5414301e6a2bf0fce050" category="summary">您可以通过创建或导入组和用户并为每个组分配权限来控制谁可以访问 StorageGRID 以及用户可以执行哪些任务。您也可以选择启用单点登录 \ （ sso\ ），创建客户端证书和更改网格密码。</block>
  <block id="bc9233f931dc855a18053f5e4d5eaa84" category="doc">控制 StorageGRID 访问</block>
  <block id="c8de5e6ce631079ce7376fd8633e364d" category="paragraph">您可以通过创建或导入组和用户并为每个组分配权限来控制谁可以访问 StorageGRID 以及用户可以执行哪些任务。您也可以选择启用单点登录（ SSO ），创建客户端证书和更改网格密码。</block>
  <block id="437a66357f6258839c0eb2f1d447273c" category="section-title">控制对网格管理器的访问</block>
  <block id="612b97056b3302d454543006b17c743c" category="paragraph">您可以通过从身份联合服务导入组和用户或设置本地组和本地用户来确定谁可以访问网格管理器和网格管理 API 。</block>
  <block id="81512c1effb53c325d42a255e4be1f1b" category="paragraph">使用身份联合可以加快设置组和用户的速度，并允许用户使用熟悉的凭据登录到 StorageGRID 。如果使用 Active Directory ， OpenLDAP 或 Oracle Directory Server ，则可以配置身份联合。</block>
  <block id="3f3be6ea70f679b15688cfae8dece77f" category="admonition">如果要使用其他 LDAP v3 服务，请联系技术支持。</block>
  <block id="f8496bfe72a102f58f282cfbc8eefac1" category="paragraph">您可以通过为每个组分配不同的权限来确定每个用户可以执行的任务。例如，您可能希望一个组中的用户能够管理 ILM 规则，而另一个组中的用户可以执行维护任务。用户必须至少属于一个组才能访问系统。</block>
  <block id="81bb8a243d264e67ecca1aaa3061b0c4" category="paragraph">您也可以将组配置为只读。只读组中的用户只能查看设置和功能。他们不能在网格管理器或网格管理 API 中进行任何更改或执行任何操作。</block>
  <block id="62231eadd0bd2f69c057b04253395d03" category="paragraph">StorageGRID 系统支持使用安全断言标记语言 2.0 （ SAML 2.0 ）标准的单点登录（ SSO ）。启用 SSO 后，所有用户都必须经过外部身份提供程序的身份验证，然后才能访问网格管理器，租户管理器，网格管理 API 或租户管理 API 。本地用户无法登录到 StorageGRID 。</block>
  <block id="d10142fa2c9dda3959c80515e20bbfac" category="paragraph">启用 SSO 后，如果用户登录到 StorageGRID ，则会重定向到您组织的 SSO 页面以验证其凭据。当用户从一个管理节点注销时，他们将自动从所有管理节点中注销。</block>
  <block id="e65f308bc213c352ae3c3471e8bea038" category="section-title">更改网格密码</block>
  <block id="6bc4714d788d0aa5ccbc38d72758bc13" category="paragraph">许多安装和维护过程以及下载 StorageGRID 恢复软件包都需要配置密码短语。下载 StorageGRID 系统的网格拓扑信息和加密密钥备份时，也需要使用密码短语。您可以根据需要更改此密码短语。</block>
  <block id="80e24177546b4322810e9ed22db40903" category="paragraph">节点表列出了 StorageGRID 系统中的所有站点和节点。系统将显示每个节点的摘要信息。如果节点具有活动警报，则节点名称旁边会显示一个图标。如果节点已连接且没有活动警报，则不会显示任何图标。</block>
  <block id="1b7ec11903a2f25c53a130cb990f4614" category="section-title">系统，站点或节点的详细信息</block>
  <block id="6aed9afe129f4f3e39fc048daba0f411" category="list-text">选择网格名称可查看整个 StorageGRID 系统统计信息的聚合摘要。（屏幕截图显示了一个名为 StorageGRID 部署的系统。）</block>
  <block id="c3c0abdfd785175d23967fc50b684bcc" category="section-title">节点页面的选项卡</block>
  <block id="01290ff32d45fbceb4c4a9fe75c1bec1" category="paragraph">节点页面顶部的选项卡取决于您从左侧树中选择的内容。</block>
  <block id="8e753068ca410f0f695f0dd52a975c20" category="cell">选项卡名称</block>
  <block id="bb07bbc6c63d82fba3b2c0994098f7b5" category="cell">包括的</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="paragraph">概述</block>
  <block id="77ca8af9431b2f7dfa3069b4ccae5b97" category="list-text">提供有关每个节点的基本信息。</block>
  <block id="ec00a14a31128f46412325ec21730816" category="list-text">显示影响节点的所有活动警报。</block>
  <block id="3c02a379965ab0dfcd77b1c484450433" category="paragraph">硬件</block>
  <block id="794dbd3b2d766ae628651f876fb4ffa6" category="list-text">显示每个节点的 CPU 利用率和内存使用情况</block>
  <block id="c940dedfe91de0894a98b10b72beed17" category="list-text">对于设备节点，提供了其他硬件信息。</block>
  <block id="0beeb8c3985a82b48753f1a1aa0f5e83" category="paragraph">显示一个图形，其中显示了通过网络接口接收和发送的网络流量。单个节点的视图显示该节点的追加信息 。</block>
  <block id="ee582fa545d9c6e4a9feb7d466d14e0a" category="paragraph">所有节点，每个站点和整个网格</block>
  <block id="3d140ce952816761d56a8178b5dbed6b" category="list-text">提供每个节点上的磁盘设备和卷的详细信息。</block>
  <block id="7985d9aca61b0fae831276a7b4d3feaa" category="list-text">对于存储节点，每个站点和整个网格，均包含显示一段时间内使用的对象数据存储和元数据存储的图形。</block>
  <block id="c8308b1eba7ba926a61b8fd802194386" category="paragraph">对象</block>
  <block id="058bd903d8f8316a1025bcff2aebbb67" category="list-text">提供有关 S3 和 Swift 载入和检索速率的信息。</block>
  <block id="06792b2ad5b471c97c56012e3abb57cc" category="list-text">对于存储节点，提供对象计数以及有关元数据存储查询和后台验证的信息。</block>
  <block id="df3ad6b06eba45d1eb34f1ff0162f507" category="paragraph">存储节点，每个站点和整个网格</block>
  <block id="698305ff30537a607b7dd977c7a4810f" category="paragraph">提供有关信息生命周期管理（ ILM ）操作的信息。</block>
  <block id="6ea8a62dfb468cc91397f8b096881f5a" category="list-text">对于存储节点，提供有关纠删编码对象的 ILM 评估和后台验证的详细信息。</block>
  <block id="02eb8d36ed4e8a654ada8a07d4e93029" category="list-text">对于每个站点和整个网格，显示一个 ILM 队列随时间变化的图形。</block>
  <block id="27df7948cf72e7e56aeac3488f7badeb" category="list-text">对于整个网格，提供完成对所有对象的完整 ILM 扫描的估计时间。</block>
  <block id="7d361abb047884b8a99059e060849d09" category="paragraph">负载平衡器</block>
  <block id="c1b051c94c57b1e795d968fdfa7f634e" category="paragraph">包括与负载平衡器服务相关的性能和诊断图。</block>
  <block id="619e3e8a5e887fc0fdf8339fdc58b656" category="list-text">对于每个站点，提供该站点上所有节点的统计信息的聚合摘要。</block>
  <block id="dcefd8e0f0e07cc2c88d360ac229d2d6" category="list-text">对于整个网格，提供所有站点的统计信息的聚合摘要。</block>
  <block id="14faa8b302cc2e3efa14696d6d505ae6" category="paragraph">管理节点和网关节点，每个站点和整个网格</block>
  <block id="92e82fdcdded78777d379f2789e31ab8" category="paragraph">平台服务</block>
  <block id="c1325679a11e480fd85d084eba051e69" category="paragraph">提供有关站点上任何 S3 平台服务操作的信息。</block>
  <block id="5b58b8755a8d125a12a29f89aa81de45" category="paragraph">每个站点</block>
  <block id="0472921e1ddce2239a2bd92ea276d1c2" category="paragraph">SANtricity 系统管理器</block>
  <block id="f23aa6faf85900d086070fce67fdf77f" category="paragraph">提供对 SANtricity System Manager 的访问权限。在 SANtricity System Manager 中，您可以查看存储控制器的硬件诊断和环境信息以及与驱动器相关的问题。</block>
  <block id="7778e6dd2f24bafbee732a2f002cdfa7" category="paragraph">存储设备节点</block>
  <block id="06d7f2e4cfdb6c7ad1e5a798d56cb07a" category="paragraph">* 注 * ：如果存储设备上的控制器固件早于 8.70 ，则不会显示 SANtricity 系统管理器选项卡。</block>
  <block id="b423acbee70ba15b7aac2689d6dea6e8" category="section-title">Prometheus 指标</block>
  <block id="f7ed4adcbad78fed932af6b72f14a05a" category="paragraph">管理节点上的 Prometheus 服务从所有节点上的服务收集时间序列指标。</block>
  <block id="30c947e68de69ccc392fa299ce33e475" category="paragraph">Prometheus 收集的指标会在网格管理器的许多位置使用：</block>
  <block id="bc5fb184183ad5c3d5f8fb96085b958e" category="list-text">* 节点页面 * ：节点页面上提供的选项卡上的图形和图表使用 Grafana 可视化工具显示 Prometheus 收集的时间序列指标。Grafana 以图形和图表格式显示时间序列数据，而 Prometheus 用作后端数据源。</block>
  <block id="14280232d7fb6a332f4ae1b90f68c6c2" category="image-alt">Prometheus 图</block>
  <block id="019963ba9ea486a3ed03b2456310f9bf" category="list-text">* 警报 * ：如果使用 Prometheus 指标的警报规则条件评估为 true ，则会在特定严重性级别触发警报。</block>
  <block id="e23343a22b4601eb4f46b6483c640ac2" category="list-text">* 网格管理 APi* ：您可以在自定义警报规则中使用 Prometheus 指标，也可以使用外部自动化工具来监控 StorageGRID 系统。有关完整的 Prometheus 指标列表，请访问网格管理 API 。（从网格管理器的顶部，选择帮助图标并选择 * API Documentation* &gt; * 指标 * 。） 虽然有 1000 多个指标可用，但监控最关键的 StorageGRID 操作只需要相对较少的指标。</block>
  <block id="f7e44bb3f39fadeddfdedc24f9a7d712" category="list-text">* 支持 * &gt; * 工具 * &gt; * 诊断 * 页面和 * 支持 * &gt; * 工具 * &gt; * 指标 * 页面：这些页面主要供技术支持使用，提供了许多工具和图表，这些工具和图表使用了 Prometheus 指标的值。</block>
  <block id="e44b30ba8fba796bb86a092c051a3111" category="admonition">指标页面中的某些功能和菜单项有意不起作用，可能会发生更改。</block>
  <block id="6b12e40bb2012e3689aa3a4081dc2223" category="section-title">StorageGRID 属性</block>
  <block id="9aed769091ea7698bedf5b7ab4c81075" category="paragraph">属性可报告 StorageGRID 系统许多功能的值和状态。每个网格节点，每个站点和整个网格均可使用属性值。</block>
  <block id="a51c7b68bfa5cf5daec9427cd2e6de36" category="paragraph">StorageGRID 属性在网格管理器中的许多位置使用：</block>
  <block id="2e1e286ef89a7068929336ec601e3229" category="list-text">* 节点页面 * ：节点页面上显示的许多值都是 StorageGRID 属性。（ Prometheus 指标也显示在节点页面上。）</block>
  <block id="8b22814767efb8af72289c8bc7de17aa" category="list-text">* 警报 * ：当属性达到定义的阈值时， StorageGRID 警报（原有系统）将在特定严重性级别触发。</block>
  <block id="8dabba8376071b93b46dba822d8cdb07" category="list-text">* 网格拓扑树 * ：属性值显示在网格拓扑树中（ * 支持 * &gt; * 工具 * &gt; * 网格拓扑 * ）。</block>
  <block id="0b89c3db0bb6e0a2c64842331b1bbdd0" category="list-text">* 事件 * ：当某些属性记录节点的错误或故障情况时，发生系统事件，包括网络错误等错误。</block>
  <block id="6119bb24f6b4e3efcffc2bf252287507" category="section-title">属性值</block>
  <block id="a0b18080e355571fda580ff624c2baa8" category="paragraph">属性会尽力报告，并且大致正确。在某些情况下，属性更新可能会丢失，例如服务崩溃或网格节点故障和重建。</block>
  <block id="dbdfd5cb23f1ad4b30b6a00829f6aa58" category="paragraph">此外，传播延迟可能会减慢属性报告的速度。大多数属性的更新值会按固定间隔发送到 StorageGRID 系统。更新可能需要几分钟才能在系统中显示出来，并且可以在稍不同的时间报告同时更改的两个属性。</block>
  <block id="a9621cdd428f0f0369208438bef4db1a" category="inline-xref-macro">监控和管理警报</block>
  <block id="45cbdeb07f913989dddb4f394d3a17d7" category="list-text"><block ref="45cbdeb07f913989dddb4f394d3a17d7" category="inline-xref-macro-rx"></block></block>
  <block id="a8c1a32536ecba2f85a9a19afd97aead" category="inline-xref-macro">使用 StorageGRID 支持选项</block>
  <block id="b938a3bbbdf236c7d270817986d6190f" category="list-text"><block ref="b938a3bbbdf236c7d270817986d6190f" category="inline-xref-macro-rx"></block></block>
  <block id="7271f5cb12d2dda325b019197ed877ab" category="summary">您可以从网格管理器配置各种系统设置，以微调 StorageGRID 系统的运行。</block>
  <block id="19f15638fcd42e3d8cbd69fa4797e90e" category="doc">配置系统设置</block>
  <block id="a7c9ac2b74ade4f8285d74a6e0141db9" category="paragraph">通过显示选项，您可以指定用户会话的超时期限，并禁止对原有警报和事件触发的 AutoSupport 消息发送电子邮件通知。</block>
  <block id="9b226c7c01653e7e28ce58a4ddfcedf8" category="paragraph">您可以使用网格选项为存储在 StorageGRID 系统中的所有对象配置设置，包括存储的对象压缩和存储的对象加密。和存储的对象哈希。</block>
  <block id="72a67db57c979593af47989e82673fe0" category="paragraph">您还可以使用这些选项为 S3 和 Swift 客户端操作指定全局设置。</block>
  <block id="0946e55b3c87b085798341e597961c44" category="section-title">S3 对象锁定</block>
  <block id="20308792f75d127a1e85b07f03bb95ce" category="paragraph">StorageGRID S3 对象锁定功能是一种对象保护解决方案 ，相当于 Amazon Simple Storage Service （ Amazon S3 ）中的 S3 对象锁定。您可以为 StorageGRID 系统启用全局 S3 对象锁定设置，以允许 S3 租户帐户在启用了 S3 对象锁定的情况下创建分段。然后，租户可以使用 S3 客户端应用程序为这些分段中的对象指定保留设置（保留到日期，合法保留或同时指定这两者）。此外，启用了 S3 对象锁定的每个存储分段也可以选择具有默认保留模式和保留期限，如果在没有自身保留设置的情况下将对象添加到存储分段，则此模式和保留期限适用。</block>
  <block id="07be7ffc1bb36959badd0307071e58ed" category="paragraph">通过存储选项，您可以控制对象分段并覆盖存储卷水印设置，以管理存储节点的可用存储空间。</block>
  <block id="dcbf7c5d999e36580e68c91882c9a340" category="summary">网格管理器提供了一些选项，可帮助您在 StorageGRID 系统出现问题描述 时与技术支持联系。</block>
  <block id="54fdb30ee52b6aac7faa225fb461a29d" category="paragraph">通过 AutoSupport 功能， StorageGRID 系统可以向技术支持发送运行状况和状态消息。使用 AutoSupport 可以显著加快问题的确定和解决速度。技术支持还可以监控系统的存储需求，并帮助您确定是否需要添加新节点或站点。您也可以将 AutoSupport 消息配置为发送到另一个目标。</block>
  <block id="1fd5c771483cdf2a35fa13154978efc4" category="paragraph">您可以使用网格管理器配置 AutoSupport （ * 支持 * &gt; * 工具 * &gt; * AutoSupport * ）。* AutoSupport * 页面有两个选项卡： * 设置 * 和 * 结果 * 。</block>
  <block id="292c4057fb0b478dc0a93c39df91e1a1" category="image-alt">网格管理器中的 AutoSupport 页面</block>
  <block id="3903992d449534623e64de4fb24bc7bf" category="section-title">使用 Active IQ</block>
  <block id="9d941e6f5c8efa7c69b10e33749c6c6e" category="section-title">收集 StorageGRID 日志</block>
  <block id="f01463cd9c6e7ea4f96e2594bf701621" category="paragraph">为了帮助解决问题，您可能需要收集日志文件并将其转发给技术支持。</block>
  <block id="2d9d9df701904ab534ff6f87f3aa579a" category="paragraph">StorageGRID 使用日志文件捕获事件，诊断消息和错误情况。每个网格节点都会维护 bycast.log 文件，它是主要的故障排除文件。StorageGRID 还会为各个 StorageGRID 服务创建日志文件，与部署和维护活动相关的日志文件以及与第三方应用程序相关的日志文件。</block>
  <block id="48e47b56cacde74919014d6be46318b3" category="paragraph">拥有适当权限且知道 StorageGRID 系统配置密码短语的用户可以使用网格管理器中的日志页面收集日志文件，系统数据和配置数据。收集日志时，您可以选择一个或多个节点并指定时间段。数据会收集并归档在 ` .tar.gz` 文件中，您可以将该文件下载到本地计算机。在此文件中，每个网格节点都有一个日志文件归档。</block>
  <block id="79ef0d068ade763eb13397a8140323db" category="section-title">使用指标并运行诊断</block>
  <block id="dada7ee0ec321ecec66fd939446e1715" category="paragraph">对问题描述 进行故障排除时，您可以与技术支持人员一起查看 StorageGRID 系统的详细指标和图表。您还可以运行预构建的诊断查询，主动评估 StorageGRID 系统的关键值。</block>
  <block id="0fe6dc2feaf7257f2210d1742c437036" category="section-title">指标页面</block>
  <block id="cc2a9e150646c9ca485ffe9fe1fd4ff1" category="paragraph">您可以通过指标页面访问 Prometheus 和 Grafana 用户界面。Prometheus 是用于收集指标的开源软件。Grafana 是用于可视化指标的开源软件。</block>
  <block id="73eb084741a4ebf0a900a8b0d1692c3e" category="admonition">指标页面上提供的工具供技术支持使用。这些工具中的某些功能和菜单项有意不起作用，可能会发生更改。</block>
  <block id="12bc18f124171868c728bc543214963d" category="paragraph">您可以通过指标页面的 Prometheus 部分中的链接查询 StorageGRID 指标的当前值，并查看这些值随时间变化的图形。</block>
  <block id="891337f43dd32aa31f7f8f1f7b773ac7" category="paragraph">您可以通过指标页面的 Grafana 部分中的链接访问预构建的信息板，其中包含一段时间内的 StorageGRID 指标图形。</block>
  <block id="c7f8c7762a514cc1070646adc7d089ed" category="section-title">诊断页面</block>
  <block id="593862b3bf0443c4e9fec75884bff2a8" category="paragraph">" 诊断 " 页面会对网格的当前状态执行一组预先构建的诊断检查。在此示例中，所有诊断均处于正常状态。</block>
  <block id="2f17b95901fa6a7132c76e2122d49b94" category="paragraph">单击特定诊断可以查看有关诊断及其当前结果的详细信息。</block>
  <block id="ecd0b530043af95af0bde4c33bfca2a1" category="paragraph">在此示例中，显示了 StorageGRID 系统中每个节点的当前 CPU 利用率。所有节点值均低于警示和警示阈值，因此诊断的整体状态为正常。</block>
  <block id="e2a7e1b0e5f6f59b627d2fc40fab294f" category="inline-xref-macro">配置网络设置</block>
  <block id="855b70cc6fcc8530f324a5f554165898" category="list-text"><block ref="855b70cc6fcc8530f324a5f554165898" category="inline-xref-macro-rx"></block></block>
  <block id="a80720dc43ef2a152644e508fb3572a5" category="summary">恢复包是一个可下载的 .zip 文件，其中包含安装，扩展，升级和维护 StorageGRID 系统所需的部署专用文件和软件。</block>
  <block id="baea40b20a345b0a9ca47511e9900eb9" category="paragraph">恢复软件包文件还包含系统专用的配置和集成信息，包括服务器主机名和 IP 地址以及系统维护，升级和扩展期间所需的高度机密的密码。要从主管理节点的故障中恢复，需要使用恢复包。</block>
  <block id="a62ddba7357ed8e48965276561aa5135" category="paragraph">安装 StorageGRID 系统时，您需要下载恢复软件包文件并确认可以成功访问此文件的内容。每次由于维护或升级过程而更改 StorageGRID 系统的网格拓扑时，您还应下载此文件。</block>
  <block id="aba549060cad53166217ca18734e90d6" category="image-alt">恢复软件包页面</block>
  <block id="9cf7191e4e065f81c6a8cbaf9094deb5" category="paragraph">下载恢复软件包文件并确认可以提取其内容后，将恢复软件包文件复制到两个安全，安全和独立的位置。</block>
  <block id="02d92d600b3f53ea5285ead619ceb7bd" category="summary">检索操作由 StorageGRID 系统与客户端之间定义的数据流组成。系统使用属性跟踪从存储节点或云存储池或归档节点检索对象的情况（如有必要）。</block>
  <block id="8183605ea75c439970d297cc0cd81553" category="doc">检索数据流</block>
  <block id="28ef4363fd917fa9bbba3e4bb02ead00" category="paragraph">存储节点的 LDR 服务会在元数据存储中查询对象数据的位置，并从源 LDR 服务中检索这些数据。首选情况下，从存储节点检索。如果对象在存储节点上不可用，则检索请求将定向到云存储池或归档节点。</block>
  <block id="9210a7c12d9202a2c8d5d554435b0f7a" category="admonition">如果唯一的对象副本位于 AWS Glacier 存储或 Azure 归档层上，则客户端应用程序必须对 S3 后对象还原请求进行问题描述 ，才能将可检索的副本还原到云存储池。</block>
  <block id="2d67a16bc732d3b6a4a245d1a866996c" category="image-alt">检索</block>
  <block id="80aa99ddf8581368c11b25d56668b041" category="list-text">LDR 服务从客户端应用程序接收检索请求。</block>
  <block id="4055848d4d7ac66c1b1d9ad39bc68291" category="list-text">LDR 服务会在元数据存储库中查询对象数据位置和元数据。</block>
  <block id="c00ec3da3e2b33d6558485ebf3f0d14e" category="list-text">LDR 服务将检索请求转发到源 LDR 服务。</block>
  <block id="a231ab3e242dfe91140b963d0e36b90d" category="list-text">源 LDR 服务从查询的 LDR 服务返回对象数据，系统将对象返回给客户端应用程序。</block>
  <block id="3f925eaad17864e9cae4a197d04f13ef" category="summary">您可以使用信息生命周期管理 \ （ ILM ）来控制 StorageGRID 系统中所有对象的放置，持续时间和数据保护。ILM 规则可确定 StorageGRID 在一段时间内如何存储对象。您可以配置一个或多个 ILM 规则，然后将其添加到 ILM 策略中。</block>
  <block id="b411bf080a9f332b64c4b6cd89f43ca9" category="doc">使用信息生命周期管理</block>
  <block id="63a486a92392f49f86024fd180c88431" category="paragraph">您可以使用信息生命周期管理（ ILM ）来控制 StorageGRID 系统中所有对象的放置，持续时间和数据保护。ILM 规则可确定 StorageGRID 在一段时间内如何存储对象。您可以配置一个或多个 ILM 规则，然后将其添加到 ILM 策略中。</block>
  <block id="a919635d077daa2a324311314027e27f" category="paragraph">ILM 规则定义：</block>
  <block id="76e4be2ead7dd3606407492c5717d1af" category="list-text">应存储哪些对象。规则可以应用于所有对象，也可以指定筛选器来标识规则适用场景 中的对象。例如，规则只能应用于与特定租户帐户，特定 S3 分段或 Swift 容器或特定元数据值关联的对象。</block>
  <block id="d3a7bbe0c77b6037c07df2cc84a6457f" category="list-text">存储类型和位置。对象可以存储在存储节点，云存储池或归档节点上。</block>
  <block id="70600e08084a3769e07cffcd351af482" category="list-text">创建的对象副本的类型。可以复制副本或对副本进行纠删编码。</block>
  <block id="5e41619ac8901bc8adf0d43b3841f2e7" category="list-text">对于复制的副本，为创建的副本数。</block>
  <block id="c25d57b5b0238464b9976a09e5e4e9a3" category="list-text">对于纠删编码副本，使用纠删编码方案。</block>
  <block id="71a90782813d925edb8eac6a31af77ec" category="list-text">对象的存储位置和副本类型会随时间发生变化。</block>
  <block id="9c1e7e322b281a4bb29b5ec190967ca2" category="list-text">在将对象载入网格时如何保护对象数据（同步放置或双提交）。</block>
  <block id="50923d49c5dd04481864f360191fe880" category="paragraph">请注意，对象元数据不受 ILM 规则管理。而是将对象元数据存储在 Cassandra 数据库中，该数据库称为元数据存储。每个站点会自动维护三个对象元数据副本，以防止数据丢失。这些副本会均匀分布在所有存储节点上。</block>
  <block id="54a6fe2b10299dc2639e99743c1fb5fa" category="section-title">ILM 规则示例</block>
  <block id="57f0c3dc98f80fb7eb572082b270fbfe" category="paragraph">此示例 ILM 规则适用场景 属于租户 A 的对象它会为这些对象创建两个复制副本，并将每个副本存储在不同的站点上。这两个副本会保留 "`Forever ，` " ，这意味着 StorageGRID 不会自动删除它们。相反， StorageGRID 将保留这些对象，直到客户端删除请求或存储分段生命周期到期时将其删除为止。</block>
  <block id="56a6c1ac5d6af9ea5bc3082f93ed7b45" category="paragraph">此规则对载入行为使用平衡选项：租户 A 将对象保存到 StorageGRID 后，系统会立即应用双站点放置指令，除非无法立即创建所需的两个副本。例如，如果租户 A 保存对象时无法访问站点 2 ，则 StorageGRID 将在站点 1 的存储节点上创建两个临时副本。一旦站点 2 可用， StorageGRID 就会在该站点创建所需的副本。</block>
  <block id="2268599000a9415f175346372601d5ac" category="image-alt">示例 ILM 规则 2 复制租户 A</block>
  <block id="0abb8057e9e7c48da8a0bdee57a784bb" category="section-title">ILM 策略如何评估对象</block>
  <block id="42eb94894ef0d69319abc6171563c63e" category="paragraph">StorageGRID 系统的活动 ILM 策略控制所有对象的放置，持续时间和数据保护。</block>
  <block id="d2ef9ab3a6e9cabf6dd272ab35eaa818" category="paragraph">当客户端将对象保存到 StorageGRID 时，系统会根据活动策略中按顺序排列的一组 ILM 规则对这些对象进行评估，如下所示：</block>
  <block id="453fa9108f957301f9c276428ac5b835" category="list-text">如果策略中第一个规则的筛选器与某个对象匹配，则会根据该规则的载入行为载入该对象，并根据该规则的放置说明进行存储。</block>
  <block id="6cac645c4ca61e7c9517b05c20eb4445" category="list-text">如果第一个规则的筛选器与对象不匹配，则会根据策略中的每个后续规则对对象进行评估，直到匹配为止。</block>
  <block id="dbdd219c9befc89ae0d4b09fb2dbc52f" category="list-text">如果没有与对象匹配的规则，则会应用策略中默认规则的载入行为和放置说明。默认规则是策略中的最后一条规则，不能使用任何筛选器。它必须应用于所有租户，所有分段和所有对象版本。</block>
  <block id="8f725eadedd88e5aef423bd6453c4d9d" category="section-title">ILM 策略示例</block>
  <block id="c30c7a0add8c46a12440f72613c29faa" category="paragraph">此示例 ILM 策略使用三个 ILM 规则。</block>
  <block id="92eb68130051cf5a8b88393313825b5b" category="image-alt">两个租户的策略示例</block>
  <block id="681c5c4e69678a28620d91b5fd55bcd2" category="paragraph">在此示例中，规则 1 匹配属于租户 A 的所有对象这些对象会在三个站点上存储为三个复制副本。规则 1 不匹配属于其他租户的对象，因此会根据规则 2 对其进行评估。</block>
  <block id="16334a667d2c55fe50733bdf35654663" category="paragraph">规则 2 匹配其他租户的所有对象，但前提是它们大于 1 MB 。这些较大的对象在三个站点上使用 6+3 纠删编码进行存储。规则 2 与 1 MB 或更小的对象不匹配，因此会根据规则 3 评估这些对象。</block>
  <block id="0781503ca2063e738112406b1f1d9a11" category="paragraph">规则 3 是策略中的最后一条规则和默认规则，不使用筛选器。规则 3 为规则 1 或规则 2 不匹配的所有对象（不属于租户 A 且小于 1 MB 的对象）创建两个复制副本。</block>
  <block id="ce6d4eaa160de0a699469e728a22ee08" category="image-alt">ILM 策略和规则</block>
  <block id="dc4ec087cdf9592d1d600fbe8ca4978d" category="summary">作为网格管理员，您可以创建和管理 S3 和 Swift 客户端用于存储和检索对象的租户帐户，并管理控制客户端连接到 StorageGRID 系统的方式的配置选项。</block>
  <block id="ec08bccfa4be4d06e321dd572cb0a0a9" category="paragraph">租户帐户允许您指定谁可以使用 StorageGRID 系统存储和检索对象，以及他们可以使用哪些功能。租户帐户允许支持 S3 REST API 或 Swift REST API 的客户端应用程序在 StorageGRID 上存储和检索对象。每个租户帐户都使用 S3 客户端协议或 Swift 客户端协议。</block>
  <block id="cd076704b6743fbf818f42daf4db8cf0" category="paragraph">您必须为要用于在 StorageGRID 系统上存储对象的每个客户端协议至少创建一个租户帐户。或者，如果要将系统上存储的对象隔离为不同的实体，则可以创建其他租户帐户。每个租户帐户都有自己的联合或本地组和用户，以及自己的分段（用于 Swift 的容器）和对象。</block>
  <block id="493db9c36f38bd16bd7f2f04ce74f2fa" category="paragraph">您可以使用网格管理器或网格管理 API 创建租户帐户。创建租户帐户时，您可以指定以下信息：</block>
  <block id="059a0dafc64181b1c60ac2b93dc7b6e8" category="paragraph">如果 S3 租户帐户需要符合法规要求，网格管理员可以为 StorageGRID 系统启用全局 S3 对象锁定设置。如果为系统启用了 S3 对象锁定，则所有 S3 租户帐户都可以在启用了 S3 对象锁定的情况下创建存储分段，然后为该存储分段中的对象版本指定保留和合法保留设置。</block>
  <block id="5d6927d85eb77ea9c49c960cc19d9022" category="paragraph">创建租户帐户后，租户用户可以登录到租户管理器。</block>
  <block id="2c3735894e0dbf37ea23057db6c19e1e" category="section-title">客户端与 StorageGRID 节点的连接</block>
  <block id="4ca076d16bd8f32efc73605254ffc2d3" category="paragraph">租户用户必须先确定这些客户端如何连接到 StorageGRID 节点，然后才能使用 S3 或 Swift 客户端在 StorageGRID 中存储和检索数据。</block>
  <block id="4846bda505b4f63df6c5ff143f19f9c6" category="list-text">管理节点或网关节点上的负载平衡器服务。建议使用此连接。</block>
  <block id="ca6a45f13535752b877f806a79112dd4" category="list-text">网关节点上的 CLB 服务。</block>
  <block id="ba61fe33668bb170b937d29f57717a79" category="list-text">存储节点，具有或不具有外部负载平衡器。</block>
  <block id="fcbf85e12a4f5b712f5f9cdeec3c2cfd" category="paragraph">在配置 StorageGRID 以使客户端能够使用负载平衡器服务时，您需要执行以下步骤：</block>
  <block id="ce39281995be749ad9fe1b883481dc2f" category="list-text">也可以配置高可用性（ HA ）组。如果创建 HA 组，则多个管理节点和网关节点的接口将置于主动备份配置中。客户端连接使用 HA 组的虚拟 IP 地址进行。</block>
  <block id="6ef542ff3ca09cdc21c4f000be20a9c0" category="list-text">为负载平衡器服务配置端点。管理节点或网关节点上的负载平衡器服务会将传入的网络连接从客户端应用程序分发到存储节点。创建负载平衡器端点时，您可以指定端口号，端点是否接受 HTTP 或 HTTPS 连接，将使用此端点的客户端类型（ S3 或 Swift ）以及用于 HTTPS 连接的证书（如果适用）。</block>
  <block id="5d7f5d4e0675bf3d5509c6528f551153" category="list-text">（可选）指定节点的客户端网络不可信，以确保与节点的客户端网络的所有连接都发生在负载平衡器端点上。</block>
  <block id="7e041eb0a447c56d060682b024389812" category="inline-xref-macro">浏览租户管理器</block>
  <block id="5ddb723ab525cf25b78ebcf3b4c41a9a" category="list-text"><block ref="5ddb723ab525cf25b78ebcf3b4c41a9a" category="inline-xref-macro-rx"></block></block>
  <block id="04158bd5f48dc3743a9c7ac2fa255dbc" category="summary">当客户端执行删除操作或对象的生命周期到期时，系统会从 StorageGRID 系统中删除所有对象副本，从而触发自动删除操作。已定义用于删除对象的数据流。</block>
  <block id="041cc91922cad1db667ce2ec670d7158" category="doc">删除数据流</block>
  <block id="b674baad3af9c4eef76a2f99a9de0f8b" category="paragraph">当客户端执行删除操作或对象的生命周期到期时，所有对象副本都会从 StorageGRID 系统中删除，从而触发自动删除。已定义用于删除对象的数据流。</block>
  <block id="30b1b1ca64d89a17c3d31970d0b86133" category="section-title">删除层次结构</block>
  <block id="80f75a599593e7052db5b2a151f76944" category="paragraph">StorageGRID 提供了多种方法来控制何时保留或删除对象。可以根据客户端请求删除对象，也可以自动删除对象。StorageGRID 始终将任何 S3 对象锁定设置优先于客户端删除请求，而客户端删除请求优先于 S3 存储分段生命周期和 ILM 放置说明。</block>
  <block id="af191bd0f1a14e061a8377c7445ecad1" category="list-text">* S3 对象锁定 * ：如果为网格启用了全局 S3 对象锁定设置，则 S3 客户端可以在启用了 S3 对象锁定的情况下创建存储分段，然后使用 S3 REST API 为添加到存储分段的每个对象版本指定保留日期和合法保留设置。</block>
  <block id="9983aa94580de223fedc7f0582da35f0" category="list-text">任何方法都不能删除处于合法保留状态的对象版本。</block>
  <block id="3e9913390c772672934bc0d446983726" category="list-text">在达到对象版本的保留截止日期之前，无法通过任何方法删除该版本。</block>
  <block id="926aa956edd047f408426ae3db9cfcae" category="list-text">启用了 S3 对象锁定的存储分段中的对象由 ILM "`Forever` " 保留。但是，在达到保留截止日期后，可以通过客户端请求或存储分段生命周期到期来删除对象版本。</block>
  <block id="0044a3ec287e82bd4d2fcc29e31d0056" category="list-text">如果 S3 客户端对存储分段应用默认的 retain-until 日期，则无需为每个对象指定 retain-until 日期。</block>
  <block id="640aa748827e5ee753c858ee71ff7da7" category="list-text">* 客户端删除请求 * ： S3 或 Swift 客户端可以问题描述 删除对象请求。当客户端删除某个对象时，该对象的所有副本都会从 StorageGRID 系统中删除。</block>
  <block id="0df6a7ed05c31c5cd24b0290f65c6cd5" category="list-text">* S3 存储分段生命周期 * ： S3 客户端可以将生命周期配置添加到指定到期操作的存储分段中。如果存储分段生命周期存在，则在满足到期操作中指定的日期或天数时， StorageGRID 会自动删除对象的所有副本，除非客户端先删除该对象。</block>
  <block id="c19238812bc7e24a8191d53b2abff67f" category="list-text">* ILM 放置说明 * ：假设存储分段未启用 S3 对象锁定，并且没有存储分段生命周期，则 StorageGRID 会在 ILM 规则中的最后一个时间段结束且没有为此对象指定其他放置时自动删除对象。</block>
  <block id="d769ebb7ee955a01ecdcde8a3d8ce1c4" category="admonition">S3 存储分段生命周期中的到期操作始终会覆盖 ILM 设置。因此，即使有关放置对象的任何 ILM 指令已失效，该对象也可能会保留在网格中。</block>
  <block id="d1270b1b5a69c5f479f397491f833b7f" category="section-title">用于客户端删除的数据流</block>
  <block id="6566c04200eb76e2afd07957d3d4fc83" category="image-alt">客户端删除数据流</block>
  <block id="79cb91017c54b7e3d9501e4149b56b18" category="list-text">LDR 服务从客户端应用程序接收删除请求。</block>
  <block id="e03eb03b06f93eaa8e00e4333ef35d7f" category="list-text">LDR 服务会更新元数据存储，使对象在客户端请求时看起来已被删除，并指示 ILM 引擎删除对象数据的所有副本。</block>
  <block id="ee2933d28c94ee6c41c96c09b713772a" category="list-text">对象将从系统中删除。元数据存储已更新，以删除对象元数据。</block>
  <block id="27f72d3bf2c4cf4870c57faccd492b0f" category="section-title">用于 ILM 删除的数据流</block>
  <block id="c331f99fb397186b962d36131de41af7" category="image-alt">自动删除数据流</block>
  <block id="4d413752e4fd53ecaf04ec446129ed0d" category="list-text">ILM 引擎确定需要删除此对象。</block>
  <block id="99ad5c5dceffa7f11a7935b39dd2c163" category="list-text">ILM 引擎会通知元数据存储。元数据存储可更新对象元数据，以便在客户端请求中删除此对象。</block>
  <block id="0d935cfc7bc3bcae3a46214a2e56e21f" category="list-text">ILM 引擎会删除对象的所有副本。元数据存储已更新，以删除对象元数据。</block>
  <block id="17317e3d817c7e92548b91dc0073f675" category="summary">您可以在混合云配置中使用 StorageGRID ，方法包括实施策略驱动型数据管理将对象存储在云存储池中，利用 StorageGRID 平台服务以及使用 NetApp FabricPool 将数据迁移到 StorageGRID 。</block>
  <block id="c70db0e85bc4d050d7b59ab42205d3b1" category="doc">采用 StorageGRID 的混合云</block>
  <block id="8dcf5151d05bdc0d9714f58df324555e" category="section-title">云存储池</block>
  <block id="39ebee4ca2e5e4943f1bb9011c2aee13" category="paragraph">通过云存储池，您可以将对象存储在 StorageGRID 系统之外。例如，您可能希望将不常访问的对象移至成本较低的云存储，例如 Amazon S3 Glacier ， S3 Glacier Deep Archive 或 Microsoft Azure Blob 存储中的归档访问层。或者，您可能希望维护 StorageGRID 对象的云备份，该备份可用于恢复因存储卷或存储节点故障而丢失的数据。</block>
  <block id="81ed1971de0490c43e93c04312c3951a" category="section-title">S3 平台服务</block>
  <block id="f3224f2e10226d57d7acb4beae162d1d" category="paragraph">通过 S3 平台服务，您可以将远程服务用作对象复制，事件通知或搜索集成的端点。平台服务独立于网格的 ILM 规则运行，并可为各个 S3 存储分段启用。支持以下服务：</block>
  <block id="0df3f72d951d9b254d9ece0f05aec455" category="list-text">CloudMirror 复制服务会自动将指定对象镜像到目标 S3 存储分段，该存储分段可以位于 Amazon S3 或第二个 StorageGRID 系统上。</block>
  <block id="41def12082104d7b17e960cf9bf445b7" category="list-text">事件通知服务会将有关指定操作的消息发送到支持接收简单通知服务（ SNS ）事件的外部端点。</block>
  <block id="5cbd169e8de59979f203bcd60ba42ac1" category="list-text">搜索集成服务会将对象元数据发送到外部 Elasticsearch 服务，从而可以使用第三方工具搜索，可视化和分析元数据。</block>
  <block id="999d1996943afc63ade776c3672cb87d" category="section-title">使用 StorageGRID 进行 ONTAP 数据分层</block>
  <block id="4644e6cb942565f1b4d723acad263290" category="paragraph">您可以使用 FabricPool 将数据分层到 StorageGRID ，从而降低 ONTAP 存储的成本。FabricPool 是一项 NetApp Data Fabric 技术，可将数据自动分层到内部或外部的低成本对象存储层。</block>
  <block id="f93fb73ff02333264133346ace3aa910" category="paragraph">与手动分层解决方案不同， FabricPool 可通过自动化数据分层来降低存储成本，从而降低总拥有成本。它通过分层到公有 和包括 StorageGRID 在内的私有云，提供云经济的优势。</block>
  <block id="783d170609f2deeaa7e7d83e466d9d15" category="list-text"><block ref="783d170609f2deeaa7e7d83e466d9d15" category="inline-xref-macro-rx"></block></block>
  <block id="e97b5a73e11f6480525e01dc901a1084" category="summary">对象数据由活动 ILM 策略及其 ILM 规则管理。ILM 规则可创建复制的或经过纠删编码的副本，以防止对象数据丢失。</block>
  <block id="ddb9759665e6e0344ef1d2e7302fbec8" category="doc">副本管理</block>
  <block id="aeffd93373afe29886bc4924dabbe985" category="paragraph">在对象生命周期的不同时间，可能需要不同类型或位置的对象副本。系统会定期评估 ILM 规则，以确保根据需要放置对象。</block>
  <block id="1a5e0f23e6a113b0007aab49a869442e" category="paragraph">对象数据由 LDR 服务管理。</block>
  <block id="b7471e068162cc2d2cb384cf3bdc4df3" category="section-title">内容保护：复制</block>
  <block id="ea7bad99abfa35484eca7fd6c39511c3" category="paragraph">如果 ILM 规则的内容放置说明要求复制对象数据的副本，则构成已配置存储池的存储节点会创建副本并将其存储到磁盘中。</block>
  <block id="51e229527022b23ef548bfc016bfb0ac" category="section-title">数据流</block>
  <block id="876dc9e61f327403cca088012f77b1ef" category="paragraph">LDR 服务中的 ILM 引擎可控制复制，并确保将正确数量的副本存储在正确的位置和正确的时间内。</block>
  <block id="79332535a6f796a4834c3dfb15ca1532" category="image-alt">图中显示了周围文本中所述的过程</block>
  <block id="f16b6e83f831807ebedf4ab6a30728f4" category="list-text">ILM 引擎会查询此 ADC-LDR 服务，以确定 ILM 规则指定的存储池中的最佳目标 LDR 服务。然后，它会向该 LDR 服务发送一个命令以启动复制。</block>
  <block id="8f188c5d493b3758cd21fa2168a27f58" category="list-text">目标 LDR 服务会向此 ADC-Service 查询最佳源位置。然后，它会向源 LDR 服务发送复制请求。</block>
  <block id="737da191121afbef42a6db1b9d1cf0a1" category="list-text">源 LDR 服务会向目标 LDR 服务发送一份副本。</block>
  <block id="d39ed0b4dfa18e7b8fa690936747d3fc" category="list-text">目标 LDR 服务通知 ILM 引擎已存储对象数据。</block>
  <block id="c54a54028abae123f396be15b9adb524" category="list-text">ILM 引擎使用对象位置元数据更新元数据存储。</block>
  <block id="1ef43ab0c7feaa9881ba942817abec7b" category="section-title">内容保护：纠删编码</block>
  <block id="a37da89cb2fdf59181d02ada561e7eb2" category="paragraph">如果 ILM 规则包含为对象数据创建纠删编码副本的说明，则适用的纠删编码方案会将对象数据拆分为数据和奇偶校验片段，并将这些片段分布在 Erasure Coding 配置文件中配置的存储节点上。</block>
  <block id="cf3e55f315a4a0d328eabafb6e3e8d1c" category="paragraph">ILM 引擎是 LDR 服务的一个组件，用于控制纠删编码，并确保将纠删编码配置文件应用于对象数据。</block>
  <block id="89a8764337f5500c20f2c10b5f008765" category="image-alt">纠删编码数据流</block>
  <block id="75b039b1da3e5e8b4082e3e1d2c82ccc" category="list-text">ILM 引擎会查询此 ADC-Service ，以确定哪种 DDS 服务能够以最佳方式执行纠删编码操作。一旦确定， ILM 引擎就会向该服务发送 " 启动 " 请求。</block>
  <block id="c3d892d9afa7a1853310a39b606e9341" category="list-text">DDS 服务指示 LDR 对对象数据进行纠删编码。</block>
  <block id="6db38f04e1bcb76e03f5eaff653b2296" category="list-text">源 LDR 服务会向选定用于纠删编码的 LDR 服务发送一份副本。</block>
  <block id="a1596f4338b583816498778a886b038f" category="list-text">一旦细分为适当数量的奇偶校验和数据片段， LDR 服务会将这些片段分布在构成 Erasure 编码配置文件存储池的存储节点（区块服务）中。</block>
  <block id="42f1e007e74702ca7af1d1bc5a030fc7" category="list-text">LDR 服务通知 ILM 引擎，确认对象数据已成功分发。</block>
  <block id="1258e52af44fe5d1360e9c573b6259f3" category="section-title">内容保护：云存储池</block>
  <block id="fca042574f22cb26770d3a8b751579c6" category="paragraph">如果 ILM 规则的内容放置说明要求将对象数据的复制副本存储在云存储池中，则对象数据将复制到为云存储池指定的外部 S3 存储分段或 Azure Blob 存储容器。</block>
  <block id="602555019b0a47d14a46938048bd039e" category="paragraph">ILM 引擎是 LDR 服务的一个组件， Data Mover 服务可控制对象到云存储池的移动。</block>
  <block id="87636e31fa13e149604645dbcfa228d9" category="image-alt">云存储池数据流</block>
  <block id="35176b2a27775e121ef3fb84811078be" category="list-text">ILM 引擎选择要复制到云存储池的数据转换服务。</block>
  <block id="b7827ba01c981296bd86c699ac94e1e5" category="list-text">Data Mover 服务会将对象数据发送到云存储池。</block>
  <block id="48c90ba6a0b6381fab1693bf127dc734" category="list-text">Data Mover 服务会通知 ILM 引擎已存储对象数据。</block>
  <block id="97a8c431539ab89381ca273f663f6732" category="section-title">内容保护：归档</block>
  <block id="9106eb5d836fe2fd3e6e5f4ecd21e862" category="paragraph">归档操作由 StorageGRID 系统与客户端之间定义的数据流组成。</block>
  <block id="5f83308ba05f7a83e43a40c3c78dd3e9" category="paragraph">如果 ILM 策略要求归档对象数据的副本，则作为 LDR 服务的组件的 ILM 引擎会向归档节点发送请求，归档节点进而向目标归档存储系统发送对象数据的副本。</block>
  <block id="78bcc12f2f19f169b1434e2ef211dde8" category="list-text">ILM 引擎会向 ARC-Service 发送一个请求，要求将副本存储在归档介质上。</block>
  <block id="44e023246ba79aeb0e97a706527e3b43" category="list-text">此 ARR 服务会向此 ADC/ 服务查询最佳源位置，并向源 LDR 服务发送请求。</block>
  <block id="2cfef5ec804810591bd1412805f0e5d8" category="list-text">ARR 服务从 LDR 服务检索对象数据。</block>
  <block id="894f16a8837905f4f34699b3a2686611" category="list-text">此应用程序服务会将对象数据发送到归档介质目标。</block>
  <block id="0ba1ee200dace9002f938c95f40ff58e" category="list-text">归档介质会通知 ARC-Service 对象数据已存储。</block>
  <block id="34af9bd08065a1dfa415cbc24b5915aa" category="list-text">ARC-Service 会通知 ILM 引擎已存储对象数据。</block>
  <block id="d5943f975a4380ab4bd8610f307e4a30" category="summary">您可以执行各种维护过程来使 StorageGRID 系统保持最新并确保其高效运行。网格管理器提供了一些工具和选项，可帮助您加快执行维护任务的过程。</block>
  <block id="626ea2d4b87a219bc3dc496008308709" category="doc">执行维护</block>
  <block id="5009e1070e5138d1308165bc75e5706b" category="section-title">软件更新</block>
  <block id="5ad69313526a8b30bcb5f64a40598d9f" category="paragraph">您可以从网格管理器的软件更新页面执行三种类型的软件更新：</block>
  <block id="10a0ab2149706c8461286e64d8352851" category="list-text">StorageGRID 软件升级</block>
  <block id="d9e58c5d00f7bd9440fe425764e92023" category="list-text">StorageGRID 热修补程序</block>
  <block id="4780e356a8e04a8a6aadec3ed327d181" category="list-text">SANtricity 操作系统升级</block>
  <block id="8eab441715800ddfd7e4f3f7a4c4bac4" category="section-title">StorageGRID 软件升级</block>
  <block id="0a3a4fb80a1226d814c2ae9452340057" category="paragraph">如果有新的 StorageGRID 功能版本，软件升级页面将指导您完成上传所需文件和升级 StorageGRID 系统的过程。您必须从主管理节点升级所有数据中心站点的所有网格节点。</block>
  <block id="11157b66e14c23203d4d3bb09f975430" category="paragraph">在 StorageGRID 软件升级期间，客户端应用程序可以继续载入和检索对象数据。</block>
  <block id="0f413e47bf69d6dd85e783e2bfc60184" category="section-title">修补程序</block>
  <block id="298cd56a3334515da21f0d3b29e8358e" category="paragraph">如果在功能版本之间检测到并解决了软件问题，您可能需要在 StorageGRID 系统中应用修补程序。</block>
  <block id="9ef8527821d265b40cbf51aed8f9a902" category="paragraph">您可以通过下面所示的 StorageGRID 修复程序页面上传修复程序文件。</block>
  <block id="cb52ebe29f2399c8cb56528adcefae3c" category="image-alt">StorageGRID 的第一个修复程序页面</block>
  <block id="d117bd4772d721982b4cbe421ab86852" category="paragraph">此修补程序会首先应用于主管理节点。然后，您必须批准将此修补程序应用于其他网格节点，直到 StorageGRID 系统中的所有节点运行相同的软件版本为止。您可以通过选择批准单个网格节点，网格节点组或所有网格节点来自定义批准顺序。</block>
  <block id="d499d66f90cbc5869a0a7cea3a7ea557" category="admonition">虽然所有网格节点都会使用新的修补程序版本进行更新，但修补程序中的实际更改可能仅影响特定类型节点上的特定服务。例如，某个修补程序可能只会影响存储节点上的 LDR 服务。</block>
  <block id="81282694781da3aba8e9c13571a2f7d4" category="section-title">SANtricity 操作系统升级</block>
  <block id="166651eac4c8683dc67eba176f28b706" category="paragraph">如果存储设备的存储控制器运行不正常，您可能需要升级 SANtricity 操作系统软件。您可以将 SANtricity OS 文件上传到 StorageGRID 系统中的主管理节点，并从网格管理器应用升级。</block>
  <block id="5be8b27fab57546a4df74c7e4412152b" category="paragraph">您可以通过下面显示的 SANtricity 页面上传 SANtricity 操作系统升级文件。</block>
  <block id="bbe64644dd82675724ccebad6cfa0887" category="image-alt">StorageGRID 的第一个 SANtricity OS 页面</block>
  <block id="bad318b1eeb4e9bd3a103a59f0c499a8" category="paragraph">上传文件后，您可以在单个存储节点或所有节点上批准升级。通过有选择地批准节点，您可以更轻松地计划升级。批准升级某个节点后，系统将执行运行状况检查，如果此升级适用于此节点，则会安装此升级。</block>
  <block id="5d002a54c7122357d33f4d1439223ef8" category="section-title">扩展过程</block>
  <block id="88ab84c338977fde8cf5354ef9281ac9" category="paragraph">您可以通过以下方式扩展 StorageGRID 系统：向存储节点添加存储卷，向现有站点添加新的网格节点或添加新的数据中心站点。如果您的存储节点使用 SG6060 存储设备，则可以添加一个或两个扩展架，使此节点的存储容量增加一倍或三倍。</block>
  <block id="a76656c90618b2619a97731ca8223c94" category="paragraph">您可以在不中断当前系统运行的情况下执行扩展。添加节点或站点时，首先部署新节点，然后从网格扩展页面执行扩展操作步骤 。</block>
  <block id="8a44e1f2a2ee241d5be8b528c53266e9" category="section-title">节点恢复过程</block>
  <block id="4c3f2dfd3f6abdcb0889626b40931a80" category="paragraph">如果硬件，虚拟化，操作系统或软件故障导致节点无法运行或不可靠，则网格节点可能会发生故障。</block>
  <block id="145101d94250b6ae91219ce9b4ce9343" category="paragraph">恢复网格节点的步骤取决于托管网格节点的平台以及网格节点的类型。每种类型的网格节点都有一个特定的恢复操作步骤 ，您必须严格遵循该恢复。通常，您会尝试尽可能保留故障网格节点中的数据，修复或更换故障节点，使用 " 恢复 " 页面配置替代节点并还原节点的数据。</block>
  <block id="7fa633174b253ba863b343a43896fdb1" category="paragraph">例如，此流程图显示管理节点出现故障时的恢复操作步骤 。</block>
  <block id="888704c6c415982e0da0ba99a0d19a3d" category="image-alt">概述：管理节点恢复</block>
  <block id="93010c2d1fdf6fcd6fa7272d6bb8b1de" category="section-title">停用过程</block>
  <block id="ae59122f1cdffae25c63d55144ca80c6" category="paragraph">您可能需要从 StorageGRID 系统中永久删除网格节点或整个数据中心站点。</block>
  <block id="cb772e72b7cf02890a417db55656829f" category="paragraph">例如，在以下情况下，您可能需要停用一个或多个网格节点：</block>
  <block id="1c65c373a9bf9ce6682bbb47ecc1240a" category="list-text">您不再需要网关节点或非主管理节点。</block>
  <block id="dd0c66932a9ad87075a259a00e1dfc5b" category="paragraph">您可以使用网格管理器中的 " 取消配置节点 " 页面删除以下类型的网格节点：</block>
  <block id="d444fb492a52433cbfb0fc654ec2829b" category="list-text">存储节点，除非站点上保留的节点不足以满足某些要求</block>
  <block id="a02c5a31eeb6dd78d2e130fb7bfaae4b" category="image-alt">取消配置页面的屏幕截图</block>
  <block id="ac0c66a84fe617edc1f3dd685abadce0" category="paragraph">您可以使用网格管理器中的 " 弃用站点 " 页面删除站点。已连接站点停用会删除操作站点并保留数据。断开连接的站点停用会删除故障站点，但不会保留数据。" 取消配置站点 " 向导将指导您完成选择站点，查看站点详细信息，修改 ILM 策略，从 ILM 规则中删除站点引用以及解决任何节点冲突的过程。</block>
  <block id="51c8ea5c387545db2e0cac85e4e91eea" category="image-alt">停用站点步骤 1</block>
  <block id="46d717f762b40745dd63f81f31652d8f" category="section-title">网络维护过程</block>
  <block id="4eecb9507326449190e7ded617c334e0" category="paragraph">您可能需要执行的一些网络维护过程包括：</block>
  <block id="bdea72f4732d1787f3ba5745a92b89a2" category="list-text">更新网格网络上的子网</block>
  <block id="877de4645c9caf4cfa274f3ebf1dc7ed" category="list-text">使用更改 IP 工具更改网格部署期间最初设置的网络配置</block>
  <block id="3157a5a57322ca2357a4f8ee2c10361f" category="list-text">添加，删除或更新域名系统（ DNS ）服务器</block>
  <block id="a3c3e968db3396a8440bece3680b5793" category="list-text">添加，删除或更新网络时间协议（ NTP ）服务器，以确保在网格节点之间准确同步数据</block>
  <block id="4236e9b94225a259e4aaeab4b7ce4852" category="list-text">还原与可能已与网格其余部分隔离的节点的网络连接</block>
  <block id="7f27c22c10caa9ebc2c7e2fddec93359" category="paragraph">某些维护过程特定于在 Linux 或 VMware 上部署的 StorageGRID 节点，或者特定于 StorageGRID 解决方案 的其他组件。例如，您可能希望将网格节点迁移到其他 Linux 主机，或者对连接到 Tivoli Storage Manager （ TSM ）的归档节点执行维护。</block>
  <block id="85ee3d0c799e1a9533072cc921417b77" category="paragraph">通过设备节点克隆，您可以轻松地将网格中的现有设备节点替换为同一逻辑 StorageGRID 站点中具有较新设计或增强功能的设备。此过程会将所有数据传输到新设备，从而使其投入使用以更换旧设备节点，并使旧设备处于预安装状态。克隆提供了一个易于执行的硬件升级过程，并提供了替代设备的方法。</block>
  <block id="9af45aff9dc3fa0d12ad9838407b97b0" category="paragraph">您可能需要在特定网格节点上执行某些过程。例如，您可能需要重新启动网格节点或手动停止并重新启动特定网格节点服务。某些网格节点过程可以从网格管理器执行；另一些过程则要求您登录到网格节点并使用该节点的命令行。</block>
  <block id="6c71c3a54cc24ed58ac576c3f1a3bca1" category="paragraph">警报系统是用于监控 StorageGRID 系统中可能发生的任何问题的主要工具。</block>
  <block id="ee101a4047c93d03c8fd5052980ab0f0" category="list-text">" 当前警报 " 和 " 已解决警报 " 页面提供了一个便于用户查看当前和历史问题的界面。您可以按各个警报和警报组对列表进行排序。例如，您可能希望按节点 / 站点对所有警报进行排序，以查看哪些警报正在影响特定节点。或者，您可能希望按触发时间对组中的警报进行排序，以查找特定警报的最新实例。</block>
  <block id="6b3fe9699712830fe4f22c371437eeae" category="list-text">同一类型的多个警报会分组到一个电子邮件中，以减少通知数量。此外，在 " 当前警报 " 和 " 已解决警报 " 页面上，多个相同类型的警报将显示为一个组。您可以展开和折叠警报组以显示或隐藏各个警报。例如，如果多个节点报告 "* 无法与节点 * 通信 " 警报，则只会发送一封电子邮件，并且警报将在 " 当前警报 " 页面上显示为一个组。</block>
  <block id="81dcf8db04158f991f837ff18043b9db" category="image-alt">警报页面</block>
  <block id="53fbd49d2f822cd379bfd9bf30b37b8d" category="list-text">警报使用直观的名称和说明来帮助您更快地了解问题所在。警报通知包括有关受影响节点和站点的详细信息，警报严重性，触发警报规则的时间以及与警报相关的指标的当前值。</block>
  <block id="2e34e4b75ec2d57e1768eb9e76761f35" category="list-text">警报电子邮件通知以及 " 当前警报 " 和 " 已解决警报 " 页面上的警报列表提供了解决警报的建议操作。这些建议操作通常包括指向 StorageGRID 文档的直接链接，以便于查找和访问更详细的故障排除过程。</block>
  <block id="56afcdaf5f507ac9d0da168dadd184e7" category="admonition">旧警报系统已弃用。旧警报系统的用户界面和 API 将在未来版本中删除。警报系统具有显著优势，并且易于使用。</block>
  <block id="90ff3b6b9c1c888ee6ef2ef336518b40" category="paragraph">所有 StorageGRID 用户均可查看警报。如果您具有 root 访问权限或管理警报权限，则还可以按如下所示管理警报：</block>
  <block id="f7f7f912b067ec52095990dff1330d21" category="list-text">如果您需要在一个或多个严重性级别临时禁止警报通知，则可以轻松地在指定持续时间内将特定警报规则静默。您可以对整个网格，单个站点或单个节点静默警报规则。</block>
  <block id="73fdf266b69d019f4b4768132f59c8df" category="paragraph">例如，如果节点的已安装 RAM 量小于 24 ， 000 ， 000 ， 000 字节（ 24 GB ），则此表达式会触发警报。</block>
  <block id="e8b951e1c1d12ef60b4a85176d54c251" category="summary">您可以从网格管理器配置各种网络设置，以微调 StorageGRID 系统的运行。</block>
  <block id="5e8e0361d86fcbc36b8b3670e19c3c59" category="paragraph">如果您计划支持 S3 虚拟托管模式请求，则必须配置 S3 客户端连接到的端点域名列表。例如， `s3.example.com` ， `s3.example.co.uk` 和 `s3-east.example.com` 。</block>
  <block id="2283a2240f62be15f3350da4425c999d" category="paragraph">配置的服务器证书必须与端点域名匹配。</block>
  <block id="99a084f438f4b65c875e8230901b280f" category="paragraph">创建 HA 组时，您可以为一个或多个节点选择网络接口。每个 HA 组均可访问选定节点上的共享服务。</block>
  <block id="6d474d172c75be0330c60024f3ef7cb6" category="list-text">包括网关节点，管理节点或两者上的接口的 HA 组可为 S3 和 Swift 客户端提供高可用性数据连接。</block>
  <block id="d564ea40613f8580fcb1a4f55b4effef" category="list-text">管理节点上包含接口的 HA 组仅提供与网格管理器和租户管理器的高可用性连接。</block>
  <block id="e7ebca3f9f4281118f1254d5729bc9fd" category="paragraph">这些接口可以属于网格网络（ eth0 ），客户端网络（ eth2 ）或 VLAN 网络。</block>
  <block id="8b7cb2254d337930dba98b0c19172a1b" category="paragraph">您最多可以为每个 HA 组分配 10 个虚拟 IP （ VIP ）地址。您可以将一个接口指定为主接口，并按优先级顺序对任何其他接口进行排名。主接口是活动接口，除非发生故障。如果活动接口发生故障， VIP 地址将按优先级顺序移至第一个备份接口。如果该接口发生故障， VIP 地址将移至下一个备份接口，依此类推。</block>
  <block id="c515c52798b4b8e2b3e45128d94ea1fc" category="section-title">链路成本</block>
  <block id="10b5e9b55d6e0ed17d9056d1818ba5d7" category="paragraph">您可以调整链路成本以反映站点之间的延迟。如果存在两个或更多数据中心站点，则链路成本会优先考虑应由哪个数据中心站点提供请求的服务。</block>
  <block id="91a39d98c113b947232a7ee55d521c39" category="paragraph">您可以使用负载平衡器处理从 S3 和 Swift 客户端载入和检索工作负载。负载平衡通过在多个存储节点之间分布工作负载和连接来最大限度地提高速度和连接容量。</block>
  <block id="ea529d07a16d966549474420453859fa" category="paragraph">如果要使用管理节点和网关节点上包含的 StorageGRID 负载平衡器服务，则必须配置一个或多个负载平衡器端点。每个端点都为 S3 和 Swift 向存储节点发出的请求定义了一个网关节点或管理节点端口。</block>
  <block id="bb63222f01557c6263a6eaf75722d5fa" category="section-title">流量分类</block>
  <block id="4145d6ac2d9476380144dc1a936b59f5" category="paragraph">您可以创建流量分类策略来识别和处理不同类型的网络流量，包括与特定分段，租户，客户端子网或负载平衡器端点相关的流量。这些策略有助于限制和监控流量。</block>
  <block id="c6fe7e35d166816dd5b071ca8ff50dba" category="paragraph">您可以创建虚拟 LAN （ VLAN ）接口来隔离流量并对流量进行分区，以提高安全性，灵活性和性能。每个 VLAN 接口都与管理节点和网关节点上的一个或多个父接口相关联。您可以在 HA 组和负载平衡器端点中使用 VLAN 接口，按应用程序或租户隔离客户端或管理流量。</block>
  <block id="4c07a91ef0f403729ea0a4040b3fdbe7" category="paragraph">例如，您的网络可能使用 VLAN 100 传输 FabricPool 流量，而使用 VLAN 200 传输归档应用程序。</block>
  <block id="573fe066bb4b4292fbb1ba65ca49db5f" category="summary">对象的生命周期由多个阶段组成。每个阶段都表示对象发生的操作。</block>
  <block id="fad1da5374a87b038bad444e0e11593c" category="doc">对象的生命周期</block>
  <block id="7adf93324b9ea5a6cc6185b8fcbf8b89" category="paragraph">对象的生命周期由多个阶段组成。每个阶段都表示对象发生的操作。</block>
  <block id="8fc03e7ec26afd5a153d77b6a1f6dff2" category="paragraph">对象的生命周期包括载入，副本管理，检索和删除操作。</block>
  <block id="d51444d665f01b9a7b59484f268f97a7" category="list-text">* 载入 * ： S3 或 Swift 客户端应用程序通过 HTTP 将对象保存到 StorageGRID 系统的过程。在此阶段， StorageGRID 系统将开始管理此对象。</block>
  <block id="716a5508fe77d30fe70434b65da8e9e9" category="list-text">* 副本管理 * ：在 StorageGRID 中管理复制的副本和经过纠删编码的副本的过程，如活动 ILM 策略中的 ILM 规则所述。在副本管理阶段， StorageGRID 通过在存储节点，云存储池或归档节点上创建和维护指定数量和类型的对象副本来保护对象数据不会丢失。</block>
  <block id="06504c99f478ee7cab0e52d88bc13790" category="list-text">* 检索 * ：客户端应用程序访问 StorageGRID 系统存储的对象的过程。客户端读取从存储节点，云存储池或归档节点检索到的对象。</block>
  <block id="acb3f2476c3f1995fe0fd8cf84864226" category="list-text">* 删除 * ：从网格中删除所有对象副本的过程。如果客户端应用程序向 StorageGRID 系统发送删除请求，或者由于 StorageGRID 在对象的生命周期到期时自动执行过程，则可以删除对象。</block>
  <block id="cd35306ac79c17c6ed7f2309077dabe0" category="image-alt">显示对象生命周期的图</block>
  <block id="c523edcebdcf5187f8efc69307c55eda" category="list-text"><block ref="c523edcebdcf5187f8efc69307c55eda" category="inline-xref-macro-rx"></block></block>
  <block id="51a54c2be9cea7ecccb79eecf606d244" category="summary">使用这些简介可简要了解 StorageGRID 系统，并了解 StorageGRID 架构和网络拓扑，数据管理功能以及用户界面。</block>
  <block id="48cb1e2b51ddb677405003eedf7f05e8" category="doc">网格入门：概述</block>
  <block id="f85f412625f25d70040efb8a510c812e" category="paragraph">NetApp StorageGRID 是一款基于对象的软件定义存储解决方案 ，支持行业标准对象 API ，包括 Amazon Simple Storage Service （ S3 ） API 和 OpenStack Swift API 。</block>
  <block id="4103efcb405cc1121103531bf09c715d" category="paragraph">StorageGRID 可为大规模非结构化数据提供安全，持久的存储。元数据驱动的集成生命周期管理策略可优化数据在整个生命周期中的位置。将内容放置在合适的位置，合适的时间和合适的存储层上，以降低成本。</block>
  <block id="2ba3c537f55a653f682dcc17939b5db3" category="paragraph">StorageGRID 由分布在不同地理位置的冗余异构节点组成，这些节点可以与现有客户端应用程序和下一代客户端应用程序集成在一起。</block>
  <block id="a3c144d7c0c17a50fed1130a625da79f" category="image-alt">具有多个客户端的映像</block>
  <block id="71f7459e7e82312f4969ac698c7c0434" category="paragraph">StorageGRID 系统的优势包括：</block>
  <block id="9bcc6b6f2deb9d2acce755b03630840c" category="list-text">一个地理位置分散的非结构化数据存储库，具有大规模可扩展性和易用性。</block>
  <block id="39322af10cee574d442c861418cfc924" category="list-text">标准对象存储协议：</block>
  <block id="d52a99eed914565bebc4aa2e586fea04" category="list-text">Amazon Web Services Simple Storage Service （ S3 ）</block>
  <block id="9b6797727d342d8c857c1bd7066326f8" category="list-text">OpenStack Swift</block>
  <block id="4bf292ec47b1a0a2f20bd493ae425806" category="list-text">已启用混合云。基于策略的信息生命周期管理（ ILM ）可将对象存储到公有 云，包括 Amazon Web Services （ AWS ）和 Microsoft Azure 。StorageGRID 平台服务支持对存储到公有 云的对象进行内容复制，事件通知和元数据搜索。</block>
  <block id="84b564142dcdb248382f6f1fe90469d7" category="list-text">灵活的数据保护，可确保持久性和可用性。可以使用复制和分层纠删编码来保护数据。空闲和正在运行的数据验证可确保完整性，确保长期保留。</block>
  <block id="8346d9a5060b9475f0a0b94dd40e1506" category="list-text">动态数据生命周期管理，有助于管理存储成本。您可以创建在对象级别管理数据生命周期的 ILM 规则，并自定义数据位置，持久性，性能，成本和保留时间。磁带可用作集成归档层。</block>
  <block id="3d0aaecf6c69886c98a934f5e49f3aee" category="list-text">数据存储和某些管理功能的高可用性，以及集成的负载平衡功能，可优化 StorageGRID 资源中的数据负载。</block>
  <block id="9b0066a52d6f53e528fce2d8015f066d" category="list-text">支持多个存储租户帐户，以便按不同实体隔离系统上存储的对象。</block>
  <block id="df8042c3830b9439a1beebda75833c9e" category="list-text">用于监控 StorageGRID 系统运行状况的众多工具，包括全面的警报系统，图形信息板以及所有节点和站点的详细状态。</block>
  <block id="4461fae15f93d7f72cba9bb983bb2e76" category="list-text">支持基于软件或硬件的部署。您可以在以下任意位置部署 StorageGRID ：</block>
  <block id="fd1b7d8d664417ae1c96d195b510f2fa" category="list-text">在 VMware 中运行的虚拟机。</block>
  <block id="e154947a79b58797a4247b5e06dc6f4c" category="list-text">Linux 主机上的容器引擎。</block>
  <block id="81863930b2fb941308d892d4cfc05ad9" category="list-text">StorageGRID 工程设备。</block>
  <block id="ff7d8c2459b9fb9bc54977cc7e972341" category="list-text">存储设备提供对象存储。</block>
  <block id="54f698e9a60d165d4a08621f71cec95c" category="list-text">服务设备可提供网格管理和负载平衡服务。</block>
  <block id="a42eb347271e6ed1c2ac1d09aa48cd36" category="list-text">符合以下法规的相关存储要求：</block>
  <block id="6b8d5cabd694cc1228952d1a9e86217b" category="list-text">《证券和交易委员会（ SEC ）》，采用 17 § 240.17a-4 （ f ），用于监管交易所成员，代理或交易商。</block>
  <block id="e76583d116c000732e95998e3cd69d56" category="list-text">金融行业监管局（ FINRA ）规则 4511 （ c ），该规则符合 SEC 规则 17a-4 （ f ）的格式和介质要求。</block>
  <block id="14c8ef59a622fc7a7db7883604504c4d" category="list-text">商品期货交易委员会（ CFTC ）在监管商品期货交易的第 17 条 CFR § 1.31 （ c ） - （ d ）条中进行了规定。</block>
  <block id="b084a731794587a11af81afbc77326a5" category="list-text">无中断升级和维护操作。在升级，扩展，停用和维护过程中保持对内容的访问。</block>
  <block id="0efa1e4882326f4a16d4e2d9f490a268" category="list-text">联合身份管理。与 Active Directory ， OpenLDAP 或 Oracle Directory Service 集成以进行用户身份验证。支持使用安全断言标记语言 2.0 （ SAML 2.0 ）标准的单点登录（ SSO ），以便在 StorageGRID 和 Active Directory 联合身份验证服务（ AD FS ）之间交换身份验证和授权数据。</block>
  <block id="9a9857785b8bf37cb67dd2c35d7ee87c" category="summary">如果要使用简单网络管理协议（ SNMP\ ）监控 StorageGRID ，可以使用网格管理器配置 SNMP 代理。</block>
  <block id="f5257f943f0181af39b1176348ef7da0" category="paragraph">如果要使用简单网络管理协议（ Simple Network Management Protocol ， SNMP ）监控 StorageGRID ，可以使用网格管理器配置 SNMP 代理。</block>
  <block id="af7fdad37237a668abc82dc8f6ee93ba" category="paragraph">每个 StorageGRID 节点都运行一个 SNMP 代理或守护进程，该代理或守护进程可提供一个管理信息库（ Management Information Base ， MIB ）。StorageGRID MIB 包含警报和警报的表和通知定义。每个 StorageGRID 节点还支持一组 MIB-II 对象。</block>
  <block id="5bb1de7eec88554cb08dfa37444d85f7" category="paragraph">StorageGRID SNMP 代理支持所有三个版本的 SNMP 协议。该代理可为查询提供只读 MIB 访问权限，并可向管理系统发送两种类型的事件驱动型通知：</block>
  <block id="cd399486ee2230a5501ce9344bac28c2" category="list-text">* 陷阱 * 是 SNMP 代理发送的通知，不需要管理系统确认。陷阱用于通知管理系统 StorageGRID 中发生了某种情况，例如触发警报。所有三个版本的 SNMP 均支持陷阱。</block>
  <block id="caea2b52f38913e55c0e4b918fb673fd" category="list-text">* 通知 * 与陷阱类似，但它们需要管理系统确认。如果 SNMP 代理未在特定时间内收到确认，则会重新发送通知，直到收到确认或达到最大重试值为止。SNMPv2c 和 SNMPv3 支持 INFORM 。</block>
  <block id="394dabc1d6ef9f918c9ab1a439776cf9" category="summary">网格管理器是一个基于浏览器的图形界面，可用于配置，管理和监控 StorageGRID 系统。</block>
  <block id="2007cad868b9c74d8c278bd09cc2bf0f" category="doc">了解网格管理器</block>
  <block id="eac2300c8aa415bd3e01b5b624d6df0e" category="paragraph">登录到网格管理器后，您将连接到管理节点。每个 StorageGRID 系统都包括一个主管理节点和任意数量的非主管理节点。您可以连接到任何管理节点，每个管理节点都会显示一个类似的 StorageGRID 系统视图。</block>
  <block id="1435c7cca28c518fdd65aecbf7ba5970" category="paragraph">您可以使用访问网格管理器 <block ref="2477582b14a9652b1366e4b864bbc4ee" category="inline-xref-macro-rx"></block>。</block>
  <block id="7e38fdfc9a9e2735beaf7c195db9bf9d" category="paragraph">首次登录到网格管理器时，您可以使用信息板一目了然地监控系统活动。</block>
  <block id="e24eb4fc43496898eec9e88366ac368c" category="paragraph">信息板包含有关系统运行状况，存储使用情况， ILM 进程以及 S3 和 Swift 操作的摘要信息。</block>
  <block id="fc97d22c7cd6bfc8960faba77d858e99" category="image-alt">网格管理器中的信息板</block>
  <block id="339553906ec9f6922e2d801562a538dd" category="paragraph">有关每个面板上信息的说明，请单击帮助图标 <block ref="a92f00b6b3c97c9322a6a7f66a54b5d1" category="inline-image-macro-rx" type="image"></block> 。</block>
  <block id="9507ae3b27630a112bdfc1fda3cfca0d" category="paragraph">标题栏中的 * 搜索 * 字段可用于快速导航到网格管理器中的特定页面。例如，您可以输入 * 公里 * 以访问密钥管理服务器（ KMS ）页面。您可以使用 * 搜索 * 在网格管理器的边栏以及配置，维护和支持菜单中查找条目。</block>
  <block id="72f843d52bf6c1e1b670e3ebe598f03d" category="section-title">警报菜单</block>
  <block id="902ccea3fc5a19150e6d360a8a7720e9" category="paragraph">警报菜单提供了一个易于使用的界面，用于检测，评估和解决 StorageGRID 操作期间可能发生的问题。</block>
  <block id="d5d7f126c02377e0f706721f4bd892ee" category="image-alt">警报菜单</block>
  <block id="3df8f5c9f07b47e9b127bb1e574caa20" category="paragraph">在警报菜单中，您可以执行以下操作：</block>
  <block id="c091d06054321ddb0ad147b293c59eab" category="list-text">查看当前警报</block>
  <block id="b042a10e7b0f15bc4e92f6a95dc8abda" category="list-text">查看已解决的警报</block>
  <block id="9d50be4a811099eb68418baffd776697" category="list-text">配置静音以禁止警报通知</block>
  <block id="0b42f37813a516c0af45f06e532087c5" category="list-text">为触发警报的条件定义警报规则</block>
  <block id="6f5a22d3c23516195450d1905c981401" category="list-text">为警报通知配置电子邮件服务器</block>
  <block id="9ba42082c74078ae8c0307ed0420d766" category="section-title">节点页面</block>
  <block id="92f652c042377eab16f5d416b7e8ec05" category="paragraph">节点页面显示有关整个网格，网格中的每个站点以及站点上的每个节点的信息。</block>
  <block id="54e36b3a484636e852d03256881eada1" category="paragraph">节点主页显示整个网格的组合指标。要查看特定站点或节点的信息，请选择站点或节点。</block>
  <block id="c6d5323108d899f1e3161e2cf9f884f5" category="image-alt">节点页面主页</block>
  <block id="cba507f8a1d38d593c6d8e683986c879" category="section-title">租户页面</block>
  <block id="cfb3196142484b9ce257ceb321192dc0" category="paragraph">通过租户页面，您可以为 StorageGRID 系统创建和监控存储租户帐户。您必须至少创建一个租户帐户，以指定谁可以存储和检索对象以及这些对象可以使用哪些功能。</block>
  <block id="4a19f9fd88d90c58a7e774b04bf084f7" category="paragraph">" 租户 " 页面还提供每个租户的使用情况详细信息，包括已用存储容量和对象数量。如果在创建租户时设置了配额，则可以查看已使用的配额量。</block>
  <block id="8d586500772ae08bce66197eaa7d164a" category="image-alt">租户菜单和页面</block>
  <block id="c8102e1e3c8d22081b9695e218b495e4" category="section-title">ILM 菜单</block>
  <block id="15bbe08890a4195259c42264df01f479" category="paragraph">您可以通过 ILM 菜单配置信息生命周期管理（ ILM ）规则和策略，以控制数据的持久性和可用性。您还可以输入对象标识符以查看该对象的元数据。</block>
  <block id="39c74718ddeea45fc4d00d3acda05f97" category="image-alt">ILM 菜单和页面</block>
  <block id="959d8d434b882ec4967784b6d20f074f" category="section-title">配置菜单</block>
  <block id="60eda2093ed342f98f9047d8b12d752e" category="paragraph">通过配置菜单，您可以指定网络设置，安全设置，系统设置，监控选项和访问控制选项。</block>
  <block id="0852fd6dab5b546acb13ba5ace8b644f" category="image-alt">配置菜单</block>
  <block id="72f940d2277a187897c1702f5ab31ff5" category="list-text"><block ref="72f940d2277a187897c1702f5ab31ff5" category="inline-xref-macro-rx"></block></block>
  <block id="eed9a1c2077c463280fd16660cb459ab" category="section-title">维护菜单</block>
  <block id="662717e38d3f9eaa4a9ba9b05c42a14c" category="paragraph">通过维护菜单，您可以执行维护任务，系统维护和网络维护。</block>
  <block id="a3cc6193a3d662fb2c369da925c5b8b1" category="image-alt">维护菜单和页面</block>
  <block id="ef615563c8e8ea902c7fcac3cd2c4246" category="section-title">任务</block>
  <block id="fbbda4acd7316e159f60f3986a15dd44" category="paragraph">维护任务包括：</block>
  <block id="557cf044ed3444fd695efe28bd0b07e4" category="list-text">执行停用操作以删除未使用的网格节点和站点。</block>
  <block id="4c9f05e357e24177c3f34a307ed1a48e" category="list-text">用于添加新网格节点和站点的扩展操作。</block>
  <block id="21b156d676eef241159acb6a87768a56" category="list-text">用于更换故障节点和还原数据的恢复操作。</block>
  <block id="fd4490ae3bcde08d95c9868d80da99ef" category="list-text">对象存在检查以验证对象数据是否存在（尽管不是正确）。</block>
  <block id="f3e89fbd139b3e767294e9473a0e4667" category="paragraph">您可以执行的系统维护任务包括：</block>
  <block id="d6c7a4531abfee7cdc7cc592c37aca0e" category="list-text">查看当前 StorageGRID 许可证的详细信息或上传新许可证。</block>
  <block id="185e5d6975ae4d46fdd0226d71f22f2e" category="list-text">生成恢复包。</block>
  <block id="058a5eb7d924ed9e93b41e0a33dfe285" category="list-text">在选定设备上执行 StorageGRID 软件更新，包括软件升级，修补程序和 SANtricity OS 软件更新。</block>
  <block id="ac20c2309d4878287edf3b229de6c5f2" category="paragraph">您可以执行的网络维护任务包括：</block>
  <block id="cc27a0f2de28689bec37509b6095b41d" category="list-text">编辑有关 DNS 服务器的信息。</block>
  <block id="5c4326f48219e0c47f25669c1ce78d5d" category="list-text">配置网格网络上使用的子网。</block>
  <block id="45fb6fe795d6cfe0d6b101441d0d966b" category="list-text">编辑有关 NTP 服务器的信息。</block>
  <block id="e79f6f9bfb4e020c201eda9aa14a36b2" category="list-text"><block ref="e79f6f9bfb4e020c201eda9aa14a36b2" category="inline-xref-macro-rx"></block></block>
  <block id="a4512ac12e11f22981b2364a576a42af" category="section-title">支持菜单</block>
  <block id="7bbc0101a348cf7686c17ce0c3942794" category="paragraph">" 支持 " 菜单提供了一些选项，可帮助技术支持分析您的系统并对其进行故障排除。支持菜单分为两部分：工具和警报（旧版）。</block>
  <block id="8625e1de7be14c39b1d14dc03d822497" category="section-title">工具</block>
  <block id="a77b9b6cbfaae3dc66ebbbdc2b3869b0" category="paragraph">从支持菜单的工具部分，您可以：</block>
  <block id="57ead09e39b346af987215ae3a05bd62" category="list-text">启用 AutoSupport 。</block>
  <block id="4881061ae5e830d92b937253c6099e1a" category="list-text">对网格的当前状态执行一组诊断检查。</block>
  <block id="caf1dbd7befb4cf38b69afa42d34c807" category="list-text">访问网格拓扑树以查看有关网格节点，服务和属性的详细信息。</block>
  <block id="2727db80858f0e863dc2debdf332230c" category="list-text">检索日志文件和系统数据。</block>
  <block id="e5c1a117aad895cb98069c16075507ec" category="list-text">查看详细指标和图表。</block>
  <block id="5216d21a877a3e8a83c3f46ccab15cd8" category="admonition">* 指标 * 选项中提供的工具供技术支持使用。这些工具中的某些功能和菜单项会有意失效。</block>
  <block id="f31b379ba0ab5ab4f781296fd0d7df6e" category="section-title">警报（原有）</block>
  <block id="de5a3e4b317a524cff6bdd57fef798dd" category="paragraph">从支持菜单的警报（旧）部分，您可以查看当前，历史和全局警报，设置自定义事件以及为旧警报和 AutoSupport 设置电子邮件通知。</block>
  <block id="ef99c3a56db90b5919dc7f0abf5e6b7e" category="inline-xref-macro">StorageGRID 架构和网络拓扑</block>
  <block id="7637bc1a7a5be85afc0438ef6c33d4bb" category="list-text"><block ref="7637bc1a7a5be85afc0438ef6c33d4bb" category="inline-xref-macro-rx"></block></block>
  <block id="3a0c75e135fc6783b459754ce0d74fee" category="list-text"><block ref="3a0c75e135fc6783b459754ce0d74fee" category="inline-xref-macro-rx"></block></block>
  <block id="1fe690745f4328fb36b6dbdbe05a9b7b" category="section-title">帮助菜单</block>
  <block id="5c1dd63ecc54c107c75c6009c2e5bd0e" category="paragraph">通过 "Help" 选项，您可以访问当前版本的 StorageGRID 文档中心以及 API 文档。您还可以确定当前安装的 StorageGRID 版本。</block>
  <block id="eabbdd1ce82de85640a42aa7cfed9db7" category="summary">在开始使用 StorageGRID 系统时，了解 StorageGRID 系统如何管理数据非常有用。</block>
  <block id="4cee2365fba24bdda52a80b845d2bf0f" category="doc">StorageGRID 如何管理数据</block>
  <block id="5c7c2385d3fd18a39701cdc413101fd9" category="section-title">什么是对象</block>
  <block id="fb56e39711fbf97f3cff481cefe05b4f" category="paragraph">对于对象存储，存储单元是对象，而不是文件或块。与文件系统或块存储的树状层次结构不同，对象存储以非结构化的平面布局对数据进行组织。对象存储可将数据的物理位置与用于存储和检索数据的方法分离。</block>
  <block id="0f2657877abfd62c76270fc9fefa04e5" category="paragraph">基于对象的存储系统中的每个对象都有两部分：对象数据和对象元数据。</block>
  <block id="497031794414a552435f90151ac3b54b" category="image-alt">对象</block>
  <block id="00885dc5476defb75e6f8e036c3cfd84" category="paragraph">对象数据可以是任何内容；例如，照片，电影或病历。</block>
  <block id="375aa3c6abb5237e6949094de8d82576" category="section-title">对象元数据</block>
  <block id="63079dc7d4ba0f0950865fd53b883a11" category="paragraph">对象元数据包括以下信息：</block>
  <block id="0496a597cfc702cf44978bc275b7f601" category="list-text">每个对象副本或纠删编码片段的当前存储位置。</block>
  <block id="375f24677407df98801c8fbdcb2790d3" category="list-text">与对象关联的任何用户元数据。</block>
  <block id="a787b2b19b589aeceb864719ff7e3ee1" category="paragraph">对象元数据可自定义并可扩展，因此应用程序可以灵活地使用。</block>
  <block id="f6c6ab1ac388ff984ec839e10ad14807" category="paragraph">有关 StorageGRID 如何以及在何处存储对象元数据的详细信息，请转到 <block ref="c76c0decba50048c573d214e80846760" category="inline-xref-macro-rx"></block>。</block>
  <block id="328820d2b832831c5996fbac1eac3c9e" category="section-title">如何保护对象数据</block>
  <block id="bfd9c7e5975e5959b3484ba5e51a798f" category="paragraph">StorageGRID 系统提供了两种机制来防止对象数据丢失：复制和纠删编码。</block>
  <block id="2b0f1c39c5bb8d33b49e5077792b441e" category="paragraph">如果 StorageGRID 将对象与配置为创建复制副本的信息生命周期管理（ ILM ）规则匹配，则系统会创建对象数据的精确副本，并将其存储在存储节点，归档节点或云存储池中。ILM 规则规定了创建的副本数量，这些副本的存储位置以及系统保留这些副本的时间长度。例如，如果由于存储节点丢失而导致副本丢失，则如果 StorageGRID 系统中的其他位置存在该对象的副本，则该对象仍可用。</block>
  <block id="0be7b6872c4417da947760079bc93c68" category="paragraph">在以下示例中， make 2 copies 规则指定将每个对象的两个复制副本放置在包含三个存储节点的存储池中。</block>
  <block id="a000ebc87c6f71382cc78f19f11b6d5b" category="image-alt">创建 2 个副本规则</block>
  <block id="8df31074a0783f38b790950d4b577f67" category="paragraph">如果 StorageGRID 将对象与配置为创建纠删编码副本的 ILM 规则匹配，则会将对象数据分段为数据片段，计算额外的奇偶校验片段，并将每个片段存储在不同的存储节点上。访问某个对象时，系统会使用存储的片段重新组合该对象。如果数据或奇偶校验片段损坏或丢失，纠删编码算法可以使用剩余数据和奇偶校验片段的子集重新创建该片段。ILM 规则和纠删编码配置文件决定了所使用的纠删编码方案。</block>
  <block id="a89db057a519f5fa2638b003071530da" category="paragraph">以下示例说明了如何对对象数据使用纠删编码。在此示例中， ILM 规则使用 4+2 纠删编码方案。每个对象都会被划分为四个相等的数据片段，并根据对象数据计算两个奇偶校验片段。六个片段中的每个片段都存储在三个数据中心的不同存储节点上，以便为节点故障或站点丢失提供数据保护。</block>
  <block id="6254109684d650288b1c3bbea048e1e0" category="image-alt">对三个站点 4 加 2 进行了纠删编码</block>
  <block id="76725c79c3c6f7f9099031af8b37b40b" category="summary">载入或保存操作由客户端和 StorageGRID 系统之间定义的数据流组成。</block>
  <block id="fa53d9fe07f7988083bdea8d29cbff2d" category="doc">载入数据流</block>
  <block id="36297e996b801f553fc66237a7ebe95c" category="paragraph">当客户端将对象载入 StorageGRID 系统时，存储节点上的 LDR 服务将处理此请求并将元数据和数据存储到磁盘。</block>
  <block id="0dda1d14e31db085857605fba2dd64d2" category="image-alt">通过同步放置载入</block>
  <block id="a6993cf7c6572e17f17e9f03efb2b6b1" category="list-text">客户端应用程序将创建此对象，并通过 HTTP PUT 请求将其发送到 StorageGRID 系统。</block>
  <block id="9928664fadc2c4dbb155d658ceddc5b2" category="list-text">将根据系统的 ILM 策略评估对象。</block>
  <block id="ef39e2e82d16fcd15c8b49382c95c3d6" category="list-text">LDR 服务将对象数据保存为复制副本或纠删编码副本。（图中显示了将复制副本存储到磁盘的简化版本。）</block>
  <block id="c0b573749c46db4648be2ef92fd72a6f" category="list-text">LDR 服务将对象元数据发送到元数据存储。</block>
  <block id="78aefd5b3bd1795bdf69e6b938058335" category="list-text">元数据存储将对象元数据保存到磁盘。</block>
  <block id="d34c2583ab0aaf637ab7930ad0856fc5" category="list-text">元数据存储会将对象元数据的副本传播到其他存储节点。这些副本也会保存到磁盘中。</block>
  <block id="0dfa2ec108ad85decbcf58b5bfba9b90" category="list-text">LDR 服务向客户端返回 HTTP 200 OK 响应，以确认已载入对象。</block>
  <block id="44a8e2e9008d43b8cb52f26f31fc22d8" category="paragraph">每个管理节点都会将审核消息存储在文本文件中。审核共享包含活动文件（ audit.log ）以及前几天压缩的审核日志。此外，网格中的每个节点都会在本地日志文件（ localaudit.log ）中存储有限数量的审核消息。</block>
  <block id="d2df46805eab9f27e3ee260540284fdb" category="paragraph">您也可以将存储在管理节点和本地节点上的审核信息发送到外部系统日志服务器。使用外部系统日志服务器可以更轻松地管理审核信息并减少网络流量。请参见 <block ref="ae288695ae0d1fa43aff6e30548d4024" category="inline-xref-macro-rx"></block> 有关详细信息 ...</block>
  <block id="48383510d429fc2b6164d430d9bdc524" category="inline-xref-macro">审核消息说明</block>
  <block id="2dc3a463bac704e711795ca6e90747c7" category="paragraph">有关审核日志文件的详细信息，审核消息的格式，审核消息的类型以及可用于分析审核消息的工具，请参见 <block ref="e48bc242da9b9f4551476018a1717cdc" category="inline-xref-macro-rx"></block>。要了解如何配置审核客户端访问，请参见 <block ref="63f6db514ae7f29619503d206c503586" category="inline-xref-macro-rx"></block>。</block>
  <block id="f27e0f05b3b57795ba9276eeaa6c1b59" category="summary">租户管理器是一个基于浏览器的图形界面，租户用户可以访问它来配置，管理和监控其存储帐户。</block>
  <block id="b565147537765e639a0f316c0ef42646" category="paragraph">当租户用户登录到租户管理器时，他们将连接到管理节点。</block>
  <block id="934a5f748ac66cfccf1ef1dd70f8c78b" category="section-title">租户管理器信息板</block>
  <block id="a3adb944650a72dc78b03879a2d877e6" category="paragraph">网格管理员使用网格管理器或网格管理 API 创建租户帐户后，租户用户可以登录到租户管理器。</block>
  <block id="d75f832a73c085eef988d06d017b7fd0" category="paragraph">租户管理器信息板允许租户用户一目了然地监控存储使用情况。存储使用情况面板包含租户最大的分段（ S3 ）或容器（ Swift ）列表。已用空间值是分段或容器中的对象数据总量。条形图表示这些分段或容器的相对大小。</block>
  <block id="233ba3e20ff1ce9fd18c44ccead7ce10" category="paragraph">条形图上方显示的值是租户的所有分段或容器所用空间的总和。如果在创建帐户时指定了租户可用的最大 GB ， TB 或 PB 数，则还会显示已用配额量和剩余配额量。</block>
  <block id="65e090176fc2b8056970f4a7c1389f18" category="section-title">存储菜单（仅限 S3 租户）</block>
  <block id="5fc453f7c24182cd7ffa0b5058ce865a" category="paragraph">存储菜单仅适用于 S3 租户帐户。此菜单允许 S3 用户管理访问密钥，创建和删除存储分段以及管理平台服务端点。</block>
  <block id="3d15a037798111cc9d46fb8dfd2589b6" category="image-alt">S3 菜单</block>
  <block id="181079e88c27482cc55f2a49d9b03e10" category="section-title">我的访问密钥</block>
  <block id="795c7847785bfa26c744fbda1e0af00c" category="paragraph">S3 租户用户可以按如下方式管理访问密钥：</block>
  <block id="e25ab65c6b6045db9df5dc5d9a339149" category="list-text">拥有 " 管理自己的 S3 凭据 " 权限的用户可以创建或删除自己的 S3 访问密钥。</block>
  <block id="33202cdf512970fb6e800bd09c5d4613" category="list-text">具有 root 访问权限的用户可以管理 S3 root 帐户，自己的帐户以及所有其他用户的访问密钥。根访问密钥还可以提供对租户的分段和对象的完全访问权限，除非分段策略明确禁用此功能。</block>
  <block id="1be32f16b0bc248ce41322d92d43760f" category="admonition">可以从 " 访问管理 " 菜单管理其他用户的访问密钥。</block>
  <block id="bffebbb0c5fa6d1bcb42cd24f039cde3" category="paragraph">具有相应权限的 S3 租户用户可以执行以下与存储分段相关的任务：</block>
  <block id="eef1dd65c7ef3bc7a15380a8096b11f8" category="list-text">创建存储分段</block>
  <block id="4760a5d4b648ec8f60e610cb355fd56d" category="list-text">为新存储分段启用 S3 对象锁定（假设已为 StorageGRID 系统启用 S3 对象锁定）</block>
  <block id="87f463ae6ddc011b1c12fb5b489565e0" category="list-text">更新一致性级别设置</block>
  <block id="b6f917267324a05fa5d1b013061bb486" category="list-text">应用默认保留设置</block>
  <block id="c05b8e78421b373b35a72c111498bcf7" category="list-text">配置跨源资源共享（ CORS ）</block>
  <block id="8698968c5fd4d248b366d994ed9e6445" category="list-text">为属于租户的分段启用和禁用上次访问时间更新设置</block>
  <block id="797cc743ac8bed71378ef443934e97fa" category="inline-xref-macro">S3 控制台处于实验阶段</block>
  <block id="c063020ca3dcae5696fc656e1e476e95" category="list-text">使用管理存储分段中的对象 <block ref="c89e27895a4ce5e62ba667d798fb9464" category="inline-xref-macro-rx"></block></block>
  <block id="8289c73a4200ae6e56be19aeac42da5b" category="paragraph">如果网格管理员为租户帐户启用了平台服务，则具有适当权限的 S3 租户用户也可以执行以下任务：</block>
  <block id="38490e84910f2afc7541cbced6989816" category="list-text">配置 S3 事件通知，可将其发送到支持 AWS Simple Notification Service （ SNS ）的目标服务。</block>
  <block id="909dd0ba44e176a4eadb396618f0c9fc" category="list-text">配置 CloudMirror 复制，从而使租户能够自动将对象复制到外部 S3 存储分段。</block>
  <block id="4c6ddfa27341680d755bf133bc451a96" category="list-text">配置搜索集成，每当创建，删除对象或更新其元数据或标记时，此集成都会将对象元数据发送到目标搜索索引。</block>
  <block id="49dc11c674f152de1bf7bab1702a4263" category="section-title">平台服务端点</block>
  <block id="3a2c5d698a6091ea0eb946c3ea864549" category="paragraph">如果网格管理员为租户帐户启用了平台服务，则具有管理端点权限的 S3 租户用户可以为每个平台服务配置目标端点。</block>
  <block id="67303482ff7f7baed66ac4448984c624" category="section-title">访问管理菜单</block>
  <block id="9547bbaf7efe7d80e0986af7668491ab" category="paragraph">通过访问管理菜单， StorageGRID 租户可以从联合身份源导入用户组并分配管理权限。租户还可以管理本地租户组和用户，除非对整个 StorageGRID 系统实施单点登录（ Single Sign-On ， SSO ）。</block>
  <block id="86ab9db5e2c2fa970d308bf9116bae51" category="image-alt">访问管理菜单</block>
  <block id="39b15013d1d61825d31f5640842f2c62" category="list-text"><block ref="39b15013d1d61825d31f5640842f2c62" category="inline-xref-macro-rx"></block></block>
  <block id="f790058687cc600c981c64182f2c2104" category="summary">StorageGRID 系统由一个或多个数据中心站点上的多种类型的网格节点组成。</block>
  <block id="572b71893eba555764cedb23799ce5d4" category="paragraph">有关追加信息 关于 StorageGRID 网络拓扑，要求和网格通信的信息，请参见 <block ref="e1bf2b8082914814aefb3dd546569f4d" category="inline-xref-macro-rx"></block>。</block>
  <block id="c353efd1eeb04935ed04feacf40b4bda" category="section-title">部署拓扑</block>
  <block id="8ec083bd565fc28c9c59b75d40fc4220" category="paragraph">StorageGRID 系统可以部署到一个数据中心站点或多个数据中心站点。</block>
  <block id="93681f77c8cbeadd174504a13be92ea0" category="section-title">单个站点</block>
  <block id="8d0b5f566bab2ddc88d885fbcc53a951" category="paragraph">在使用单个站点的部署中， StorageGRID 系统的基础架构和操作会集中进行。</block>
  <block id="6f76750196339bf5e07bec2579bf1c2e" category="image-alt">单个数据中心站点</block>
  <block id="0ca80baaabc12b2ca734043fcb934339" category="section-title">多个站点</block>
  <block id="b982b92ee166fc0f253982d90a121f81" category="paragraph">在包含多个站点的部署中，可以在每个站点安装不同类型和数量的 StorageGRID 资源。例如，一个数据中心可能需要比另一个数据中心更多的存储。</block>
  <block id="dcbffa9b021f8fa89f9bc82977b5e544" category="paragraph">不同站点通常位于不同故障域中不同地理位置的不同位置，例如地震故障线或泛洪。数据共享和灾难恢复可通过自动将数据分发到其他站点来实现。</block>
  <block id="de6fa861440d4a8bee2b82c75740a1c9" category="image-alt">多个数据中心站点</block>
  <block id="0fd660e70b1f4d21fb064ac8a014e80d" category="paragraph">一个数据中心中也可以存在多个逻辑站点，以便使用分布式复制和纠删编码来提高可用性和故障恢复能力。</block>
  <block id="a00ec44505a01d1ffd602814cd9d30cb" category="section-title">网格节点冗余</block>
  <block id="ad8523d3bd037b0b057f2b2c80bf9da7" category="paragraph">在单站点或多站点部署中，您可以选择包含多个管理节点或网关节点以实现冗余。例如，您可以在一个站点或多个站点上安装多个管理节点。但是，每个 StorageGRID 系统只能有一个主管理节点。</block>
  <block id="ae52c2ef9192a6119bab352ac1aedd6d" category="section-title">系统架构</block>
  <block id="8220ab35a02429a76ddb9796f361cd1d" category="paragraph">此图显示了网格节点在 StorageGRID 系统中的排列方式。</block>
  <block id="9d05ef06ebdc67a101585178eed6a5d8" category="image-alt">周围文字所述的示意图</block>
  <block id="771acc2dbde3e537adf289486df41fe1" category="paragraph">S3 和 Swift 客户端在 StorageGRID 中存储和检索对象。其他客户端用于发送电子邮件通知，访问 StorageGRID 管理界面以及访问审核共享（可选）。</block>
  <block id="44f5e98b6ea6f16371793eb7e6671a9c" category="paragraph">S3 和 Swift 客户端可以连接到网关节点或管理节点，以使用存储节点的负载平衡接口。或者， S3 和 Swift 客户端也可以使用 HTTPS 直接连接到存储节点。</block>
  <block id="f8b3490eeac39aad302fdf948010b55b" category="paragraph">对象可以存储在 StorageGRID 中的软件或基于硬件的存储节点上，外部归档介质（如磁带）上或云存储池中（由外部 S3 存储分段或 Azure Blob 存储容器组成）。</block>
  <block id="cf46f18f258d4b70529ae1f8eb6b2506" category="section-title">网格节点和服务</block>
  <block id="29d93161c2e33da47553d646e4d18b75" category="paragraph">StorageGRID 系统的基本组件是网格节点。节点包含服务，这些服务是为网格节点提供一组功能的软件模块。</block>
  <block id="ffd8e67ae632c6b648223b222a3d1f9e" category="paragraph">StorageGRID 系统使用四种类型的网格节点：</block>
  <block id="751add2816defa8f411642f64ba096ec" category="list-text">* 管理节点 * 提供系统配置，监控和日志记录等管理服务。登录到网格管理器后，您将连接到管理节点。每个网格都必须有一个主管理节点，并且可能有额外的非主管理节点，以实现冗余。您可以连接到任何管理节点，每个管理节点都会显示一个类似的 StorageGRID 系统视图。但是，必须使用主管理节点执行维护过程。</block>
  <block id="96536e21dfc6983826c07ef9ecede55f" category="list-text">* 存储节点 * 用于管理和存储对象数据和元数据。每个 StorageGRID 系统必须至少具有三个存储节点。如果您有多个站点，则 StorageGRID 系统中的每个站点也必须有三个存储节点。</block>
  <block id="287d00ca79f887fbb6fbaaf044d1d32e" category="list-text">* 网关节点（可选） * 提供了一个负载平衡接口，客户端应用程序可以使用该接口连接到 StorageGRID 。负载平衡器可将客户端无缝定向到最佳存储节点，以便节点甚至整个站点的故障是透明的。您可以组合使用网关节点和管理节点进行负载平衡，也可以实施第三方 HTTP 负载平衡器。</block>
  <block id="e8b23a90f6e6257e2ee20359d0af8f90" category="list-text">* 归档节点（可选） * 提供了一个接口，可通过该接口将对象数据归档到磁带。</block>
  <block id="3e5effa6fe1c34bfe1eb37f1d33a07d9" category="paragraph">要了解更多信息，请参见 <block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block>。</block>
  <block id="5ce9f07003bddc4b0ca5ac1a42ab2389" category="paragraph">基于软件的网格节点可以通过以下方式进行部署：</block>
  <block id="3d97019b440a0692d172584fda9e3d52" category="list-text">作为 VMware vSphere 中的虚拟机（ VM ）</block>
  <block id="6e3aa9ef654d51d1f04a7c7e9c4e9b2c" category="list-text">在 Linux 主机上的容器引擎中。支持以下操作系统：</block>
  <block id="c73bbd3786350b0a8d3577d82afdf489" category="list-text">Red Hat Enterprise Linux</block>
  <block id="aa1fc3398e84bda331b47203c1e53ad5" category="list-text">CentOS</block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="list-text">Ubuntu</block>
  <block id="6fe8b98c53e8d099686936732785d471" category="list-text">Debian</block>
  <block id="fdcbe80776d50dca3083a6eb75899bdd" category="paragraph">有关详细信息，请参见以下内容：</block>
  <block id="07d08c3463698a0da247e78eb223aaad" category="paragraph">使用<block ref="0aaf04254af18646f3d246cd4a4b417d" category="inline-link-rx"></block> 以获取支持的版本列表。</block>
  <block id="cc83af04f24df411e94e8e1e91b71cd0" category="section-title">StorageGRID 设备节点</block>
  <block id="bd3155f4cf82271683c461e2ec2a988c" category="paragraph">StorageGRID 硬件设备经过专门设计，可在 StorageGRID 系统中使用。某些设备可用作存储节点。其他设备可以用作管理节点或网关节点。您可以将设备节点与基于软件的节点结合使用，也可以部署完全设计的全设备网格，这些网格不依赖于外部虚拟机管理程序，存储或计算硬件。</block>
  <block id="817d942529d9b73716690eb5c60addcd" category="paragraph">有四种类型的 StorageGRID 设备可用：</block>
  <block id="768c373974f59f37654f07631c4e5a02" category="list-text">* SG100 和 SG1000 服务设备 * 是一个单机架单元（ 1U ）服务器，每个服务器均可作为主管理节点，非主管理节点或网关节点运行。这两个设备可以同时作为网关节点和管理节点（主节点和非主节点）运行。</block>
  <block id="b6f330a0a168e9af14c42b12e6c70f9a" category="list-text">* SG6000 存储设备 * 作为存储节点运行，并将 1U SG6000-CN 计算控制器与 2U 或 4U 存储控制器架相结合。SG6000 有两种型号：</block>
  <block id="5bce9ad5c1eaf496d6bebca49a851dc4" category="list-text">* SGF6024* ：将 SG6000-CN 计算控制器与 2U 存储控制器架相结合，该存储控制器架包含 24 个固态驱动器（ SSD ）和冗余存储控制器。</block>
  <block id="f7fbd4de350b037847352d9326c168ac" category="list-text">* SG606060* ：将 SG6000-CN 计算控制器与 4U 机箱相结合，其中包括 58 个 NL-SAS 驱动器， 2 个 SSD 和冗余存储控制器。每个 SG6060 设备支持一个或两个 60 驱动器扩展架，最多可提供 178 个专用于对象存储的驱动器。</block>
  <block id="e63b5cd1a07f061bdee9a73c1ac1ccd5" category="list-text">* SG5700 存储设备 * 是一个作为存储节点运行的集成存储和计算平台。SG5700 有两种型号：</block>
  <block id="29c035c6e5d4d1484056f387fdb1e654" category="list-text">* SG5712* ：一个 2U 机箱，包含 12 个 NL-SAS 驱动器以及集成存储和计算控制器。</block>
  <block id="98df67f906246e4906a7bc85166b682c" category="list-text">* SG5760* ：一个 4U 机箱，包含 60 个 NL-SAS 驱动器以及集成存储和计算控制器。</block>
  <block id="7456db45a5d935d3838cebfd607fb286" category="list-text">* SG5600 存储设备 * 是一个作为存储节点运行的集成存储和计算平台。SG5600 有两种型号：</block>
  <block id="e22addbd53eef7f8914ef356c59a47ae" category="list-text">* SG5612* ：一个 2U 机箱，包含 12 个 NL-SAS 驱动器以及集成存储和计算控制器。</block>
  <block id="881890f94c6652b83dca96aae3944a96" category="list-text">* SG5660* ：一个 4U 机箱，包含 60 个 NL-SAS 驱动器以及集成存储和计算控制器。</block>
  <block id="520deda32bf2cfff9b48625d0c01c1f8" category="section-title">管理节点的主服务</block>
  <block id="1171e3eeb1085d1a921eecf9a0e58223" category="paragraph">下表显示了管理节点的主服务；但是，此表并未列出所有节点服务。</block>
  <block id="6b02dc2aed015b92a7ed88c1308d981e" category="cell">关键功能</block>
  <block id="20f3d213eb69453616e2da8c2ddf10de" category="paragraph">审核管理系统（ AMS ）</block>
  <block id="89e988121bcb5be10dd106bb3145282f" category="paragraph">跟踪系统活动。</block>
  <block id="4299bddf3fd84383045dd9d0bff3caad" category="paragraph">配置管理节点（ CMN ）</block>
  <block id="9e4b6dd62caf7bc461e0e8c36a0c4772" category="paragraph">管理系统范围的配置。仅限主管理节点。</block>
  <block id="3da3b489532a563afed5e7c3a34b2166" category="paragraph">管理应用程序程序接口（ mgmt-API ）</block>
  <block id="463a492a5750a17d5e052250567fa78d" category="paragraph">处理来自网格管理 API 和租户管理 API 的请求。</block>
  <block id="520b661a272c9e6f55f469cc9c24193d" category="paragraph">高可用性</block>
  <block id="38c4276758bb8a97f1360c44daff5365" category="paragraph">管理管理节点和网关节点组的高可用性虚拟 IP 地址。</block>
  <block id="da899fab416ee6b272e884697c34aaa8" category="paragraph">* 注： * 此服务也可在网关节点上找到。</block>
  <block id="e49807a77fb88e7edcdb6fc655748730" category="paragraph">为从客户端到存储节点的 S3 和 Swift 流量提供负载平衡。</block>
  <block id="4464f20e734213d1ecce561f3bd50375" category="paragraph">网络管理系统（ NMS ）</block>
  <block id="6657df5b84eedf92f74e8522e9f5e806" category="paragraph">提供网格管理器的功能。</block>
  <block id="e1723a08afd7bca35570fd31a7656f59" category="paragraph">Prometheus</block>
  <block id="b9cb0aee1bbac336944237d36c4ca434" category="paragraph">收集和存储指标。</block>
  <block id="a7295ec308b4281927a560620f6ac194" category="paragraph">服务器状态监控器（ SSM ）</block>
  <block id="cc237230d606d8b16b33085b62d45161" category="paragraph">监控操作系统和底层硬件。</block>
  <block id="621a5a2d9e501171938848989f08f326" category="section-title">存储节点的主服务</block>
  <block id="b4a6493aa500430375f94884baade43d" category="paragraph">下表显示了存储节点的主服务；但是，此表并未列出所有节点服务。</block>
  <block id="152576534cee6924f2823596bdca96fe" category="admonition">某些服务（例如，模块转换服务和 RSM 服务）通常仅存在于每个站点的三个存储节点上。</block>
  <block id="9a45e3ce4845adfa0cf9edc3cbb504e2" category="paragraph">帐户（访问）</block>
  <block id="3f34de353212c9cd5cd71817a3fdda31" category="paragraph">管理租户帐户。</block>
  <block id="a160bced420a4c163f79c39e3151d62b" category="paragraph">管理域控制器（ ADC-A ）</block>
  <block id="903ff81255ad10c1d75dcdbf3e29d5e3" category="paragraph">维护拓扑和网格范围的配置。</block>
  <block id="7bfcc746dd3ae3853c4f0ef95551e22e" category="paragraph">Cassandra</block>
  <block id="44536dcf2a07e2ee33491d65640d3969" category="paragraph">存储和保护对象元数据。</block>
  <block id="a56e689b620493de27b42de82badf260" category="paragraph">Cassandra Reaper</block>
  <block id="c658bd1d5358427b8a7f8fd841067f0f" category="paragraph">自动修复对象元数据。</block>
  <block id="88255d7e6104ae03101ff725ce36cbb6" category="paragraph">区块</block>
  <block id="a4cf6cdce0727959938cd34f557d9b66" category="paragraph">管理经过擦除编码的数据和奇偶校验片段。</block>
  <block id="fc618d683a5104ce0bdb8af1e897172e" category="paragraph">数据移动器（ DMV ）</block>
  <block id="b3883eb4df3282780e957eab6de4089b" category="paragraph">将数据移动到云存储池。</block>
  <block id="5b263bfa5a81b4b00158fab56049d2ff" category="paragraph">分布式数据存储（ DDS ）</block>
  <block id="60c71adb549379b02bab06c3e83d72b9" category="paragraph">监控对象元数据存储。</block>
  <block id="e818d23afc7c6787105660373188dbab" category="paragraph">身份（ idnt ）</block>
  <block id="ee96d56269a16ae852ce430930448291" category="paragraph">从 LDAP 和 Active Directory 联合用户身份。</block>
  <block id="45faab5bb3eea1a720a5a6d4c00ed4b7" category="paragraph">本地分发路由器（ LDR ）</block>
  <block id="5c1fdde2c16821da4786366fb1fd00cb" category="paragraph">处理对象存储协议请求并管理磁盘上的对象数据。</block>
  <block id="11eaaef6a7d07fff66e37fe995ee667f" category="paragraph">复制状态机（ RSM ）</block>
  <block id="8b1882cb894c808f6ff0fde5b1710b58" category="paragraph">确保 S3 平台服务请求发送到其各自的端点。</block>
  <block id="b2853d5f3bc1a307a85771e9c0966d14" category="section-title">网关节点的主要服务</block>
  <block id="8b63eb95a354eae8a5e9bb9d3479f8ff" category="paragraph">下表显示了网关节点的主服务；但是，此表并未列出所有节点服务。</block>
  <block id="8deea54ad4d8bbd5d30d9c11af8c9d07" category="paragraph">连接负载平衡器（ CLB ）</block>
  <block id="82b3d0ddb29efb54f0721f862391fc03" category="paragraph">为从客户端到存储节点的 S3 和 Swift 流量提供第 3 层和第 4 层负载平衡。传统负载平衡机制。</block>
  <block id="bfa8b87ea4e6561539ba326dcf406f6f" category="paragraph">* 注： * 此服务也可在管理节点上找到。</block>
  <block id="43e64e99ef7159f13a6f525f3032a469" category="paragraph">为从客户端到存储节点的 S3 和 Swift 流量提供第 7 层负载平衡。这是建议的负载平衡机制。</block>
  <block id="b9b8b5301bc0b0560172eee8434bf271" category="section-title">归档节点的主服务</block>
  <block id="d32708ccd0b6927d95733f55ee5eafdd" category="paragraph">下表显示了归档节点的主服务；但是，此表并未列出所有节点服务。</block>
  <block id="e267aa176c73e1e3450d7c4ae7c82bff" category="paragraph">归档（ ARC-）</block>
  <block id="c2f0c906834dffc0172098a4e7d09661" category="paragraph">与 Tivoli Storage Manager （ TSM ）外部磁带存储系统通信。</block>
  <block id="ec7d2f647f621e1dc7c31bf2e5a9a122" category="section-title">StorageGRID 服务</block>
  <block id="1c7127f569a1da173858b97e2144483d" category="paragraph">以下是 StorageGRID 服务的完整列表。</block>
  <block id="c05a5f6649d86d15975b609b66f9b3a4" category="list-text">* 客户服务转发器 *</block>
  <block id="8470a87fd9332166b44e6489d727c640" category="paragraph">为负载平衡器服务提供一个界面，用于查询远程主机上的帐户服务，并提供有关负载平衡器端点配置更改的通知。管理节点和网关节点上存在负载平衡器服务。</block>
  <block id="864c49d2375da5479ee1bf6bbb6754b0" category="list-text">* ADA 服务（管理域控制器） *</block>
  <block id="f54e84cf7fc103edf7a096cc27ff22ee" category="paragraph">维护拓扑信息，提供身份验证服务，并响应 LDR 和 CMN 服务的查询。在一个站点上安装的前三个存储节点中的每个节点上都存在此 ADC-Service 。</block>
  <block id="28e3a17804a4b45f7e6385b193ec44b6" category="list-text">* AMS 服务（审核管理系统） *</block>
  <block id="f5334b20f4bc03bd50435a82e2262913" category="paragraph">监控所有已审核的系统事件和事务并将其记录到文本日志文件中。管理节点上存在 AMS 服务。</block>
  <block id="302c388317e67c765fde06d28e8435e4" category="list-text">* 应用程序中心服务（归档） *</block>
  <block id="528a928809aa7f9756da45ae215d137d" category="paragraph">提供一个管理界面，用于配置与外部归档存储的连接，例如通过 S3 接口连接到云，或者通过 TSM 中间件连接到磁带。归档节点上存在此 ARC-Service 。</block>
  <block id="d20be9cc4ef0f5a8e48e2638d2f9684a" category="list-text">* Cassandra Reaper 服务 *</block>
  <block id="b401085755ec99334cd7308e52804a5e" category="paragraph">自动修复对象元数据。所有存储节点上都存在 Cassandra Reaper 服务。</block>
  <block id="b20ef9f8de2c0857ef2b363a2515e3b9" category="list-text">* 区块服务 *</block>
  <block id="3750904ca4168668c2f877368f3e3e7e" category="paragraph">管理经过擦除编码的数据和奇偶校验片段。存储节点上存在区块服务。</block>
  <block id="3c29b105fad960fc9c9c9752e96afcab" category="list-text">* CLB 服务（连接负载平衡器） *</block>
  <block id="aa909f7e4ae70a53c4da0929e31573e6" category="paragraph">为通过 HTTP 连接的客户端应用程序提供 StorageGRID 网关的已弃用服务。网关节点上存在 CLB 服务。CLB 服务已弃用，将在未来的 StorageGRID 版本中删除。</block>
  <block id="c0c4e930f4dcefa17d530af5a12a0aaa" category="list-text">* CMN 服务（配置管理节点） *</block>
  <block id="a4173f90c1fc65c6191f0893181c05f6" category="paragraph">管理系统范围的配置和网格任务。每个网格都有一个 CMN 服务，该服务位于主管理节点上。</block>
  <block id="f22bdb3f663275753ed84b0fe56d4a31" category="list-text">* DDS 服务（分布式数据存储） *</block>
  <block id="ee93442f1177aaed650e3c5f526cffbc" category="paragraph">与 Cassandra 数据库连接以管理对象元数据。存储节点上存在 DDS 服务。</block>
  <block id="65c0cf6ddff2d8dbbab707ae4932b256" category="list-text">* DMV 服务（数据移动） *</block>
  <block id="5fb0e99c65ad0261bc1f3912c3b80d39" category="paragraph">将数据移动到云端点。存储节点上存在 DMV 服务。</block>
  <block id="d7263f459abe3e8cb2adea14e2c57199" category="list-text">* 动态 IP 服务 *</block>
  <block id="f9171a2d1d7600f2e1ad774327eebda7" category="paragraph">监控网格中的动态 IP 更改并更新本地配置。所有节点上都存在动态 IP （ dynip ）服务。</block>
  <block id="6039a268bd7ffc917ef3a60f58e9a938" category="list-text">* Grafana 服务 *</block>
  <block id="417450caeebe9f403bb703080bc83625" category="paragraph">用于在网格管理器中可视化指标。管理节点上存在 Grafana 服务。</block>
  <block id="69937f0d76f3e8a20460d44efb629946" category="list-text">* 高可用性服务 *</block>
  <block id="2ee93c0a8231787031850c7920621e32" category="paragraph">管理在高可用性组页面上配置的节点上的高可用性虚拟 IP 。管理节点和网关节点上存在高可用性服务。此服务也称为 keepalived 服务。</block>
  <block id="cb38d8b225a9743ef335ff3ca4afb68d" category="list-text">* 身份（ idnt ）服务 *</block>
  <block id="fc0b43d13081c5c09e2ca43138c49055" category="paragraph">从 LDAP 和 Active Directory 联合用户身份。身份服务（ idnt ）位于每个站点的三个存储节点上。</block>
  <block id="0dddc3da281a6495ba9edf889739bffc" category="list-text">* Lambda 仲裁服务 *</block>
  <block id="3238865cc9501ec1d9b0c0e9a33da238" category="paragraph">管理 S3 Select SelectObjectContent 请求。</block>
  <block id="1d6524077f397fe829a8b4b57466484b" category="list-text">* 负载平衡器服务 *</block>
  <block id="02c170f3418f27cfb3fad77576d194a3" category="paragraph">为从客户端到存储节点的 S3 和 Swift 流量提供负载平衡。可以通过负载平衡器端点配置页面配置负载平衡器服务。管理节点和网关节点上存在负载平衡器服务。此服务也称为 nginx 网关服务。</block>
  <block id="b98ae757a4c9e57c43ad8053db9387b1" category="list-text">* LDR 服务（本地分发路由器） *</block>
  <block id="eb1bb4b30a5e67f68ae1cdcd34662bbd" category="paragraph">管理网格中内容的存储和传输。存储节点上存在 LDR 服务。</block>
  <block id="60abbcb0c28b9ef525d10b43fada23f8" category="list-text">* MIFSCd 信息服务控制守护进程服务 *</block>
  <block id="a0507014239ad31bb399e884a887cc6c" category="paragraph">提供一个界面，用于查询和管理其他节点上的服务以及管理节点上的环境配置，例如查询其他节点上运行的服务的状态。所有节点上都存在 MIFSCd 服务。</block>
  <block id="6f57df167d698df95e9979e4a84af0b0" category="list-text">* nginx 服务 *</block>
  <block id="1cbf47a178a96fdfa66a54b18de1fcfd" category="paragraph">充当各种网格服务（例如 Prometheus 和动态 IP ）的身份验证和安全通信机制，以便能够通过 HTTPS API 与其他节点上的服务进行通信。所有节点上都存在 nginx 服务。</block>
  <block id="8da8db83ba8880dff1d38e2af9ee53b5" category="list-text">* nginx 网关服务 *</block>
  <block id="7fad5bbede0c265cee2a60065e3c045f" category="paragraph">为负载平衡器服务供电。管理节点和网关节点上存在 nginx 网关服务。</block>
  <block id="eedfa1ef477ba5bbe21471fe41763628" category="list-text">* NMS 服务（网络管理系统） *</block>
  <block id="c088ab01cc540169083d0b7e48d5339d" category="paragraph">为通过网格管理器显示的监控，报告和配置选项提供电源。管理节点上存在 NMS 服务。</block>
  <block id="14d6490dee10409f6f6239256345c331" category="list-text">* 持久性服务 *</block>
  <block id="cc861114340d96d198b60cdc1debea71" category="paragraph">管理根磁盘上需要在重新启动后持续存在的文件。所有节点上都存在持久性服务。</block>
  <block id="10d9bdd2e529af04b462e7feac251d69" category="list-text">* Prometheus 服务 *</block>
  <block id="33984cbc11478690a1506e1f77c89962" category="paragraph">从所有节点上的服务收集时间序列指标。管理节点上存在 Prometheus 服务。</block>
  <block id="2300d5e12caa4ee19717375e98c3b9f8" category="list-text">* RSM 服务（复制状态计算机服务） *</block>
  <block id="04cd50dfb0b26111dd65d567f1f55895" category="paragraph">确保平台服务请求发送到其各自的端点。RSM 服务位于使用此 ADC 服务的存储节点上。</block>
  <block id="347d4df37e84693e60a07ff61db8679a" category="list-text">* SSM 服务（服务器状态监控器） *</block>
  <block id="498127f40e985a08719748877525a7d6" category="paragraph">监控硬件状况并向 NMS 服务报告。每个网格节点上都存在一个 SSM 服务实例。</block>
  <block id="035aae06e981afdfdad38b5dc63f8d91" category="list-text">* 跟踪收集器服务 *</block>
  <block id="d4c8c833aef233e73838f61103d59f2e" category="paragraph">执行跟踪收集以收集信息以供技术支持使用。跟踪收集器服务使用开源 Jaeger 软件，并位于管理节点上。</block>
  <block id="d1a6a7cbf58638d26d7a77860305bd54" category="summary">在定义 ILM 策略以满足启用了 S3 对象锁定的存储分段中对象的对象保护和保留要求时，您可以在此示例中使用 S3 存储分段， ILM 规则和 ILM 策略作为起点。</block>
  <block id="cb85e1df0df7f9bafd5ae981e2caae31" category="doc">示例 7 ： S3 对象锁定的兼容 ILM 策略</block>
  <block id="6e40407102fe88b78610529f0db5f616" category="admonition">如果您在先前的 StorageGRID 版本中使用了原有合规性功能，则也可以使用此示例来帮助管理启用了原有合规性功能的任何现有存储分段。</block>
  <block id="b53c13781817e81970821aea04dcf96e" category="admonition">以下 ILM 规则和策略仅为示例。配置 ILM 规则的方法有多种。在激活新策略之前，请模拟建议的策略，以确认它将按预期工作，以防止内容丢失。</block>
  <block id="730ca66c140387443b550e2cdd279107" category="inline-xref-macro">使用 S3 对象锁定管理对象</block>
  <block id="dea457261531ab77c66cede1eeb7d4ff" category="list-text"><block ref="dea457261531ab77c66cede1eeb7d4ff" category="inline-xref-macro-rx"></block></block>
  <block id="95dfdf1c47f354cb8bbb4dcf371ee665" category="inline-xref-macro">创建 ILM 策略</block>
  <block id="d947b7f5602b2fb4dae4a5dc9613f6f5" category="list-text"><block ref="d947b7f5602b2fb4dae4a5dc9613f6f5" category="inline-xref-macro-rx"></block></block>
  <block id="ef649e693fc9bb68bb01e821d0d5a601" category="section-title">S3 对象锁定的分段和对象示例</block>
  <block id="0249c7234a4993b25b0a7fafcaa57353" category="paragraph">在此示例中，名为 Bank of ABC 的 S3 租户帐户使用租户管理器创建了一个启用了 S3 对象锁定的存储分段，用于存储重要的银行记录。</block>
  <block id="e142249a8f5df91b84c84e2913851ef5" category="cell">存储分段定义</block>
  <block id="74982565edc3c17af553ff9caf2b8359" category="paragraph">租户帐户名称</block>
  <block id="5055cf279a4f1b86b42532793d8b2fc2" category="paragraph">ABC 银行</block>
  <block id="6c74a94303d9a09f1ffff62074715772" category="paragraph">银行记录</block>
  <block id="ae9c12e91e2a0262ff7df7e2b68e55f6" category="paragraph">存储分段区域</block>
  <block id="87f4256cb605d91c8d6814ecf093e604" category="paragraph">us-east-1 （默认）</block>
  <block id="83d67bb5277320df770a3038fb12735d" category="image-alt">兼容存储分段示例的屏幕截图</block>
  <block id="c865095277535e7805391c500e328242" category="paragraph">添加到银行记录分段的每个对象和对象版本将对 `redan-until date` 和 `legal hold` 设置使用以下值。</block>
  <block id="31280946db282a2775ed6301bb8e273f" category="cell">为每个对象设置</block>
  <block id="fb6bbb84a5808e9e2ee42db7f1a9fd18" category="paragraph">`redan-until date`</block>
  <block id="c96621378c97990be72a93783052cf70" category="paragraph">` "2030-12-30T23 ： 59 ： 59Z"` （ 2030 年 12 月 30 日）</block>
  <block id="dde23de116451bb90ca9b43fd64d66df" category="paragraph">每个对象版本都有自己的 `redy-until date` 设置。此设置可以增加，但不能减少。</block>
  <block id="bb7a8d40bd89cd43d22d9e4a76efa67b" category="paragraph">`法定保留`</block>
  <block id="dd09c8306593b154432f43c9c757db19" category="paragraph">` " 关闭 "` （未生效）</block>
  <block id="83ab667be6547e98f25df9d4e4f4fa95" category="paragraph">在保留期限内，可以随时对任何对象版本进行合法保留或取消合法保留。如果对象处于合法保留状态，则即使已达到 `redy-until 日期` ，也无法删除此对象。</block>
  <block id="2090fbb55cd72c4c664638ca59177589" category="section-title">适用于 S3 对象锁定的 ILM 规则 1 示例：使用存储分段匹配的纠删编码配置文件</block>
  <block id="182c0b68df527ac2b8bc76875297d97a" category="paragraph">此示例 ILM 规则仅适用于名为 ABC 银行的 S3 租户帐户。它与 `银行记录` 存储分段中的任何对象匹配，然后使用纠删编码，使用 6+3 擦除编码配置文件将对象存储在三个数据中心站点的存储节点上。此规则满足启用了 S3 对象锁定的存储分段的要求：从 0 天到永久，存储节点上会保留经过擦除编码的副本，并使用载入时间作为参考时间。</block>
  <block id="6fafe6f6ad27326e2e3fdc36aa748770" category="paragraph">合规规则：银行记录存储分段中的 EC 对象— ABC 银行</block>
  <block id="db1aeb61183f2676d643fa514589f611" category="paragraph">`银行记录`</block>
  <block id="36b6b0ebe2efc1c21595a276dca904f8" category="paragraph">高级筛选</block>
  <block id="e7e92d590feb6c96e8c02d59476500a9" category="paragraph">对象大小（ MB ）大于 1</block>
  <block id="044c80f06ddbed089f0170e25a961638" category="paragraph">* 注： * 此筛选器可确保擦除编码不会用于 1 MB 或更小的对象。</block>
  <block id="f1f1519d3a140b30a5f8344fac0ea6ba" category="image-alt">合规规则 EC 复制步骤 1 示例的屏幕截图</block>
  <block id="c8aad81d4c139527cadf1ad7ba71b372" category="paragraph">放置</block>
  <block id="8ccb18ebfadd6789b00d857560cb81e3" category="list-text">在三个数据中心站点的存储节点上创建经过擦除编码的副本</block>
  <block id="7a4c7af838978d4c7bc884cacb33ff0c" category="list-text">使用 6+3 纠删编码方案</block>
  <block id="affdbcea5546ce89c341ec08c70be250" category="image-alt">合规规则 EC 复制步骤 2 示例的屏幕截图</block>
  <block id="768c8368c1c7f49fc14302c10941a739" category="section-title">适用于 S3 对象锁定的 ILM 规则 2 示例：不合规规则</block>
  <block id="1b5a68b97c6b9846be96cb290a938e0b" category="paragraph">此示例 ILM 规则最初会将两个复制的对象副本存储在存储节点上。一年后，它会将一个副本永久存储在云存储池中。由于此规则使用云存储池，因此它不符合要求，并且不会应用于启用了 S3 对象锁定的分段中的对象。</block>
  <block id="c3093d3b7eb4ca8ea47c35f9f2d6db79" category="paragraph">不合规规则：使用云存储池</block>
  <block id="ed521c8c5520a00a114abab07ebba56d" category="paragraph">租户帐户</block>
  <block id="dd3195ced9c1810388e28ca2b4eb921f" category="paragraph">未指定</block>
  <block id="3f37abffe02f53187b56850dbdf131ea" category="paragraph">未指定，但仅适用于未启用 S3 对象锁定（或原有合规性功能）的分段。</block>
  <block id="0ff2abaefa0bad6bb233d9d6f830a9c1" category="image-alt">不合规规则步骤 1 示例</block>
  <block id="045e8faed0a8de5595cdad6554224f1e" category="list-text">在第 0 天，在数据中心 1 和数据中心 2 的存储节点上保留两个复制副本 365 天</block>
  <block id="6fe3482e77ccb069145257149417729d" category="list-text">1 年后，将一个复制副本永久保留在云存储池中</block>
  <block id="e1d2fc355bf10968e9fe6b0e1b2b1c85" category="section-title">适用于 S3 对象锁定的 ILM 规则 3 示例：默认规则</block>
  <block id="dc050e48adbad0966fa5bb9b79111c95" category="paragraph">此示例 ILM 规则会将对象数据复制到两个数据中心中的存储池。此合规规则是 ILM 策略中的默认规则。它不包括任何筛选器，不使用非当前参考时间，并满足启用了 S3 对象锁定的存储分段的要求：从 0 天到永久，存储节点上保留两个对象副本，并使用 Ingest 作为参考时间。</block>
  <block id="490a45777c583e9e8994256ba1d54ede" category="paragraph">默认合规规则：两个副本两个数据中心</block>
  <block id="d49cc5b36e0fd42b5cb86bda671ddd0b" category="image-alt">显示为合规性创建默认规则示例的步骤 1 的屏幕截图</block>
  <block id="ad0ba496f370552d41266a75f748b59a" category="paragraph">从 0 天到永久，请保留两个复制副本—一个在数据中心 1 的存储节点上，一个在数据中心 2 的存储节点上。</block>
  <block id="43421a9824e5a003b20ce842ec8b6039" category="image-alt">显示为合规性创建默认规则示例的步骤 2 的屏幕截图</block>
  <block id="10248c3b70420af2e989403d8cf07916" category="section-title">S3 对象锁定的兼容 ILM 策略示例</block>
  <block id="2a41238243782ffe9eb9dfaf818d7488" category="paragraph">要创建有效保护系统中所有对象的 ILM 策略，包括启用了 S3 对象锁定的分段中的对象，您必须选择满足所有对象存储要求的 ILM 规则。然后，您必须模拟并激活建议的策略。</block>
  <block id="7a177af976009e827449f2c8b64469e1" category="section-title">向策略中添加规则</block>
  <block id="cda269d7a0117a0254490762772cabdb" category="paragraph">在此示例中， ILM 策略包括三个 ILM 规则，其顺序如下：</block>
  <block id="078a4ba467cf028c21a530654b85a847" category="list-text">一种使用纠删编码保护启用了 S3 对象锁定的特定分段中大于 1 MB 的对象的合规规则。从 0 天到永久，对象存储在存储节点上。</block>
  <block id="45bad0a6d258541b2cff51ea85e84499" category="list-text">一种不合规的规则，在存储节点上创建两个复制的对象副本一年，然后将一个对象副本永久移动到云存储池。此规则不适用于启用了 S3 对象锁定的存储分段，因为它使用的是云存储池。</block>
  <block id="52cc7171d931440b9881872f6d9ce1b7" category="list-text">一种默认合规规则，用于在存储节点上创建从 0 天到永久的两个复制对象副本。</block>
  <block id="ee07b302ae0b524f026c99a1ff34aaba" category="image-alt">合规策略示例</block>
  <block id="8d8f17933f36473db1c127e4179df48e" category="section-title">模拟建议的策略</block>
  <block id="baa4e1ba398b698e673101ceb7e1ca34" category="paragraph">在建议的策略中添加规则，选择默认合规规则并排列其他规则后，您应通过测试启用了 S3 对象锁定的存储分段和其他存储分段中的对象来模拟此策略。例如，在模拟示例策略时，您希望按如下所示评估测试对象：</block>
  <block id="d7806e8e9355c0e2e7b7f852ba91e68b" category="list-text">第一个规则仅与 ABC 银行租户的存储分段记录中大于 1 MB 的测试对象匹配。</block>
  <block id="fa83dcac6ac8287161842df6898bde16" category="list-text">第二个规则将匹配所有其他租户帐户的所有不合规分段中的所有对象。</block>
  <block id="00ea2c5869c29e6a03acac16f2264898" category="list-text">默认规则将与以下对象匹配：</block>
  <block id="398d7083fc40b194d8add4269d640c5a" category="list-text">ABC 银行租户的存储分段库记录中的对象不小于 1 MB 。</block>
  <block id="9142e4c6c089dedd6ee34e588198f326" category="list-text">为所有其他租户帐户启用了 S3 对象锁定的任何其他分段中的对象。</block>
  <block id="ca2d274cee0a6423f058f69dcb0803c3" category="section-title">激活策略</block>
  <block id="acfe35d1a307238294769995ca45cb6f" category="paragraph">如果您完全确信新策略会按预期保护对象数据，则可以激活此策略。</block>
  <block id="8054ca333cfdc0627e2f66d6774648db" category="summary">如果 S3 租户帐户在保存对象数据时需要遵守法规要求，则必须为整个 StorageGRID 系统启用 S3 对象锁定。启用全局 S3 对象锁定设置后，任何 S3 租户用户都可以使用 S3 对象锁定创建和管理存储分段和对象。</block>
  <block id="42db03274de41d52f5e9dc8305cb9a38" category="doc">全局启用 S3 对象锁定</block>
  <block id="c0c585ce5471e45a83f0ac5736d5e2ca" category="list-text">您已查看 S3 对象锁定工作流，必须了解注意事项。</block>
  <block id="c4255b47094d5405df77a7fb72770a7b" category="list-text">活动 ILM 策略中的默认规则合规。</block>
  <block id="8e4f72766052e24fa5e7cc091d6491db" category="inline-xref-macro">创建默认 ILM 规则</block>
  <block id="eb3a79466822bf53010d24bcaac5f39c" category="list-text"><block ref="eb3a79466822bf53010d24bcaac5f39c" category="inline-xref-macro-rx"></block></block>
  <block id="e8567f1d8fd52a5d08c694cd31cdab65" category="paragraph">网格管理员必须启用全局 S3 对象锁定设置，以允许租户用户创建启用了 S3 对象锁定的新分段。启用此设置后，便无法将其禁用。</block>
  <block id="58f9a73739dfb42f01ec166b921735c0" category="admonition">如果您使用先前版本的 StorageGRID 启用了全局合规性设置，则 StorageGRID 11.6 中会启用 S3 对象锁定设置。您可以继续使用 StorageGRID 管理现有合规存储分段的设置；但是，您无法创建新的合规存储分段。请参见<block ref="85eabd87068191b8c9b351a04038c328" category="inline-link-rx"></block>。</block>
  <block id="6e9c7fe0885d18f7f23123a617712a99" category="list-text">选择 * 配置 * &gt; * 系统 * &gt; * S3 对象锁定 * 。</block>
  <block id="cb179829efe3d3bf2cfd5e6a0532d556" category="paragraph">此时将显示 "S3 Object Lock Settings" 页面。</block>
  <block id="352dedf508313d0553ab123b65281353" category="image-alt">S3 对象锁定全局设置</block>
  <block id="43e91f6649307099890fd8b052762bcb" category="paragraph">如果您已使用先前版本的 StorageGRID 启用了全局合规性设置，则此页面将包含以下注意事项：</block>
  <block id="69f9044e410035c62df2a75813b7ec43" category="image-alt">S3 对象锁定全局设置合规注</block>
  <block id="6262f941f5c633dfc954c27cdcc24132" category="list-text">选择 * 启用 S3 对象锁定 * 。</block>
  <block id="dbe0719975ad01935ff3d6f1c5a6fdaa" category="paragraph">此时将显示一个确认对话框，提醒您在启用 S3 对象锁定后无法禁用它。</block>
  <block id="ec3a5934b3bc0029ffd154a953b1e8f3" category="image-alt">S3 对象锁定全局设置确认</block>
  <block id="247e71992f413dee6db00543b7040fd4" category="list-text">如果确实要为整个系统永久启用 S3 对象锁定，请选择 * 确定 * 。</block>
  <block id="9e2799f2ec4e5d6c048dd42bd8745c52" category="paragraph">选择 * 确定 * 时：</block>
  <block id="1b71fc4b8b7055b1a3ab1c247dc60e82" category="list-text">如果活动 ILM 策略中的默认规则合规，则现在将为整个网格启用 S3 对象锁定，并且无法禁用。</block>
  <block id="ade99f17b0b19aa39c424891e12c7371" category="list-text">如果默认规则不符合要求，则会显示一个错误，指示您必须创建并激活一个新的 ILM 策略，其中包含一个合规规则作为其默认规则。选择 * 确定 * ，然后创建新的建议策略，对其进行模拟并激活。</block>
  <block id="fc755adb4ea5c5b9e3209893fa2468a8" category="image-alt">S3 对象锁定全局设置错误</block>
  <block id="8d676b7727ae7a4e27e33cf2ca5923ee" category="inline-xref-macro">创建默认规则</block>
  <block id="a89d3805e96c4bb872cd3a3417be7211" category="inline-xref-macro">创建 ILM 策略</block>
  <block id="30f5eb7d804fce8ad5d5220cdadf3be1" category="paragraph">启用全局 S3 对象锁定设置后，您可能需要执行此操作 <block ref="64353e7bbd77ab809fe726824ca414ed" category="inline-xref-macro-rx"></block> 合规和 <block ref="cc86b99b98ef83bbf93725d62f81e8df" category="inline-xref-macro-rx"></block> 合规。启用此设置后， ILM 策略可以选择同时包含合规的默认规则和不合规的默认规则。例如，您可能希望使用一个不合规规则，该规则不会筛选未启用 S3 对象锁定的分段中的对象。</block>
  <block id="e919877a2606124f237fedfa5553e3eb" category="inline-xref-macro">比较 S3 对象锁定与原有合规性</block>
  <block id="bc655af278485e9b71bb64db43d54e53" category="list-text"><block ref="bc655af278485e9b71bb64db43d54e53" category="inline-xref-macro-rx"></block></block>
  <block id="e6487874f433126de5f8d919130649a2" category="summary">您可以使用以下示例规则和策略作为起点来定义一个 ILM 策略，该策略按对象大小进行筛选以满足建议的 EC 要求。</block>
  <block id="d43f3415445bb379bfc319d21cd1c1e2" category="doc">示例 2 ：用于 EC 对象大小筛选的 ILM 规则和策略</block>
  <block id="4180d634496c8ccbeb2beef1f1fe3c3e" category="section-title">ILM 规则 1 示例 2 ：对大于 1 MB 的对象使用 EC</block>
  <block id="497515170da1b3cd604bdcd585d4177f" category="paragraph">此示例中的 ILM 规则擦除将对大于 1 MB 的对象进行编码。</block>
  <block id="8efc1239afbef1db50a126b0b5cd34c6" category="admonition">纠删编码最适合大于 1 MB 的对象。请勿对小于 200 KB 的对象使用纠删编码，以避免管理极小的纠删编码片段所产生的开销。</block>
  <block id="15a2f63375c29787b0c87945550dc064" category="paragraph">仅 EC 对象 &gt;1 MB</block>
  <block id="c47bcd670c591df1ebf5ffd3a5af57e6" category="paragraph">对对象大小进行高级筛选</block>
  <block id="ed2370a8e70bbc130ba8271f8a3a625e" category="paragraph">内容放置</block>
  <block id="8249c6e7d744e82e7b7e80d464a6fe22" category="paragraph">使用三个站点创建 2+1 纠删编码副本</block>
  <block id="ca9bbdc6cb2294c6f4a80509c719177e" category="image-alt">ILM 规则 1 示例 2 ：对大于 1 MB 的所有对象使用 EC</block>
  <block id="40a1662412119e7bcd25c58d892f1759" category="section-title">ILM 规则 2 示例 2 ：两个复制副本</block>
  <block id="e6b4ca2ad1642028eb18841cbd6014ec" category="paragraph">此示例 ILM 规则将创建两个复制副本，而不按对象大小进行筛选。此规则是策略的默认规则。由于第一个规则会筛选出大于 1 MB 的所有对象，因此此规则仅筛选 1 MB 或更小的适用场景 对象。</block>
  <block id="c7024d3ebdf2299b5972ecbe30f67e72" category="paragraph">两个复制副本</block>
  <block id="6adf97f83acf6453d4a6a4b1070f3754" category="paragraph">无</block>
  <block id="f795bd456aad81d2a9f5c37a8c368048" category="paragraph">创建两个复制副本并将其保存在两个数据中心 DC1 和 DC2 上</block>
  <block id="a7c8c278488b547d2e085810448b275e" category="section-title">示例 2 中的 ILM 策略：对大于 1 MB 的对象使用 EC</block>
  <block id="f6f3f82fe97d2414856e11c51fe7788a" category="paragraph">此示例 ILM 策略包括两个 ILM 规则：</block>
  <block id="bfe39de2d0cae170b92af1b132393f7b" category="list-text">第一个规则擦除将对大于 1 MB 的所有对象进行编码。</block>
  <block id="1b5d162f2fe8282e9ab96e032019d553" category="list-text">第二个（默认） ILM 规则会创建两个复制副本。由于规则 1 已筛选出大于 1 MB 的对象，因此规则 2 仅筛选 1 MB 或更小的适用场景 对象。</block>
  <block id="0062e470258e5aa07ef7af59511475fd" category="summary">创建云存储池时，您需要指定 StorageGRID 用于存储对象的外部存储分段或容器的名称和位置，云提供程序类型（ Amazon S3 或 Azure Blob Storage\ ）以及 StorageGRID 访问外部存储分段或容器所需的信息。</block>
  <block id="41566abe8df783e3e2bf8fdd6f452a2d" category="paragraph">创建云存储池时，您需要指定 StorageGRID 用于存储对象的外部存储分段或容器的名称和位置，云提供程序类型（ Amazon S3 或 Azure Blob Storage ）以及 StorageGRID 访问外部存储分段或容器所需的信息。</block>
  <block id="1fc580d201166bb84f1e849c550d50c2" category="list-text">您已查看配置云存储池的准则。</block>
  <block id="3cb6743ce157b448e6faa4b44c0e2d29" category="list-text">云存储池引用的外部存储分段或容器已存在。</block>
  <block id="80777bc0142046eadb21a9a5ec65e5e1" category="list-text">您拥有访问存储分段或容器所需的所有身份验证信息。</block>
  <block id="16bf2a51ae51c933c2f4907128109f52" category="paragraph">云存储池指定一个外部 S3 存储分段或 Azure Blob 存储容器。StorageGRID 会在您保存云存储池后立即对其进行验证，因此您必须确保云存储池中指定的存储分段或容器存在且可访问。</block>
  <block id="fe7fcfea7d8341dffe8fed28a84e4a90" category="paragraph">此时将显示存储池页面。此页面包含两个部分：存储池和云存储池。</block>
  <block id="d9adbd58b58b94268ecad807da25827f" category="image-alt">存储池页面云存储池</block>
  <block id="19ac403a0d6c78e78c0d289e7331185e" category="list-text">在页面的 Cloud Storage Pools 部分中，选择 * 创建 * 。</block>
  <block id="bfa9933e7f25f7966841f24616b89977" category="paragraph">此时将显示创建云存储池对话框。</block>
  <block id="87892064eb97b11be77a600b13f38df1" category="image-alt">创建云存储池</block>
  <block id="b48968e1c912da07df5e8d6d246291ec" category="paragraph">显示名称</block>
  <block id="a47ab0210ab23eb976bc8b4ae6f00b6f" category="paragraph">一个名称，用于简要说明云存储池及其用途。在配置 ILM 规则时，请使用易于识别的名称。</block>
  <block id="6e7eb0d16608bf5ecdab414380ca6996" category="paragraph">提供程序类型</block>
  <block id="faf742d752c275a615e7eb0deca38ffe" category="paragraph">您将在此云存储池中使用哪个云提供商：</block>
  <block id="26936576f3a3f40aa4faf407b3ad4fb9" category="list-text">* Amazon S3* ：为 S3 ， C2S S3 或 Google Cloud Platform （ GCP ）端点选择此选项。</block>
  <block id="fd224f34861360675d410a1fccfadde1" category="list-text">* Azure Blob 存储 *</block>
  <block id="f882de4bc9ec87da4e78dbba07c7af70" category="paragraph">* 注： * 选择提供程序类型时，页面底部将显示服务端点，身份验证和服务器验证部分。</block>
  <block id="994adf3b5869585051632990168d49a1" category="paragraph">存储分段或容器</block>
  <block id="a4d4efab699a6107be409eafd1f62a44" category="paragraph">为云存储池创建的外部 S3 存储分段或 Azure 容器的名称。此处指定的名称必须与存储分段或容器的名称完全匹配，否则创建云存储池将失败。保存云存储池后，您无法更改此值。</block>
  <block id="c25ef55e53f5bc9bc460501d8f56a61f" category="list-text">根据选定提供程序类型，完成页面的服务端点，身份验证和服务器验证部分。</block>
  <block id="bb5ef4850fd46ad92d43c1c7f6da17be" category="inline-xref-macro">S3 ：指定云存储池的身份验证详细信息</block>
  <block id="255e1d7f72a6b6616199005a750660b4" category="list-text"><block ref="255e1d7f72a6b6616199005a750660b4" category="inline-xref-macro-rx"></block></block>
  <block id="4400489677d5fda57ba9a44b7c87a2d9" category="inline-xref-macro">C2S S3 ：指定云存储池的身份验证详细信息</block>
  <block id="57f197b46064dec77f397026f03ecde9" category="list-text"><block ref="57f197b46064dec77f397026f03ecde9" category="inline-xref-macro-rx"></block></block>
  <block id="fabe9145ce6f047f463ab9f4af1491da" category="inline-xref-macro">Azure ：指定云存储池的身份验证详细信息</block>
  <block id="a262f96db28e03c36d29ff416eaffa48" category="list-text"><block ref="a262f96db28e03c36d29ff416eaffa48" category="inline-xref-macro-rx"></block></block>
  <block id="5e3695b516de1068ffa4679762806393" category="summary">StorageGRID 为网格管理员和单个租户用户提供了指定对象存储时间的选项。通常，租户用户提供的任何保留指令优先于网格管理员提供的保留指令。</block>
  <block id="d951ea57734aea2e13bbd4e1781c8ab7" category="section-title">租户用户如何控制对象保留</block>
  <block id="ad8f7ea731dfa440ec18c62983a41931" category="paragraph">租户用户可以通过三种主要方式控制其对象在 StorageGRID 中的存储时间：</block>
  <block id="d904ca7beb8e86f1d2f3af75fae985dc" category="list-text">如果为网格启用了全局 S3 对象锁定设置，则 S3 租户用户可以在启用了 S3 对象锁定的情况下创建分段，然后使用 S3 REST API 为添加到该分段的每个对象版本指定保留日期和合法保留设置。</block>
  <block id="1d2cec5f32c2d7711f7b06454543d52e" category="list-text">启用了 S3 对象锁定的存储分段中的对象由 ILM "`Forever 保留。` 但是，在达到保留截止日期后，可以通过客户端请求或存储分段生命周期到期来删除对象版本。请参见 <block ref="dea457261531ab77c66cede1eeb7d4ff" category="inline-xref-macro-rx"></block>。</block>
  <block id="8a4f79e7264aeac6c2d223bc72548e3c" category="list-text">S3 租户用户可以将生命周期配置添加到其分段中，以指定到期操作。如果存在分段生命周期，则 StorageGRID 会存储一个对象，直到满足到期操作中指定的日期或天数为止，除非客户端先删除该对象。请参见 <block ref="a143ede0c3af2128eb6f5328b95f180a" category="inline-xref-macro-rx"></block>。</block>
  <block id="fdc137c55582a70d2eefe81abfc886e8" category="list-text">S3 或 Swift 客户端可以对删除对象请求进行问题描述 处理。在确定是删除还是保留对象时， StorageGRID 始终会优先处理客户端删除请求，而不是 S3 存储分段生命周期或 ILM 。</block>
  <block id="f9216f5fd24307638b9d68b54ee910fb" category="section-title">网格管理员如何控制对象保留</block>
  <block id="163c89d9224009c9557ae46c9925432c" category="paragraph">网格管理员可以使用 ILM 放置说明来控制对象的存储时间。如果对象与 ILM 规则匹配，则 StorageGRID 会存储这些对象，直到 ILM 规则中的最后一个时间段结束为止。如果为放置说明指定了 "`forever` " ，则对象将无限期保留。</block>
  <block id="be0d884bb551cd8a185cf241c253f85e" category="paragraph">无论谁控制对象的保留时间， ILM 设置都可控制存储的对象副本类型（复制或擦除编码）以及副本所在位置（存储节点，云存储池或归档节点）。</block>
  <block id="f0c38f6735c069ba8b29b45b4e7b1551" category="section-title">S3 存储分段生命周期和 ILM 如何交互</block>
  <block id="115622c868a1403981af334943595425" category="section-title">对象保留示例</block>
  <block id="6c6ec977e9779a28ca4621e60cfffb0a" category="paragraph">要更好地了解 S3 对象锁定，存储分段生命周期设置，客户端删除请求和 ILM 之间的交互，请考虑以下示例。</block>
  <block id="bd69db73fc851889c841f5cb5f1660aa" category="section-title">示例 1 ： S3 存储分段生命周期将对象保留的时间超过 ILM</block>
  <block id="4743d11046f9ff97b19c44e8b6f8e713" category="list-text">将两个副本存储 1 年（ 365 天）</block>
  <block id="83cfba73ffc20bd3f46f291e9b1a1a0a" category="list-text">分段生命周期</block>
  <block id="3dd2e2715f2931aa78807b5728070261" category="list-text">对象在 2 年（ 730 天）后过期</block>
  <block id="10370f022be58853c54fe50b309fae35" category="list-text">StorageGRID 会将对象存储 730 天。StorageGRID 使用存储分段生命周期设置来确定是删除还是保留对象。</block>
  <block id="c0ee11e889031ad142b836fd55a81e80" category="admonition">如果存储分段生命周期指定对象的保留时间应超过 ILM 指定的时间，则 StorageGRID 在确定要存储的副本数量和类型时会继续使用 ILM 放置说明。在此示例中，从第 366 天到第 730 天，此对象的两个副本将继续存储在 StorageGRID 中。</block>
  <block id="2c9a7828c8a83e8f288d05571ec8bb9c" category="section-title">示例 2 ： S3 存储分段生命周期将对象在 ILM 之前过期</block>
  <block id="b7ab17508fc32ae28a7de286e8972285" category="list-text">将两个副本存储 2 年（ 730 天）</block>
  <block id="7c135ddf49698e51cc7a0ab62a4e8afb" category="list-text">对象在 1 年（ 365 天）后过期</block>
  <block id="21ef43832c586bb9310bc0a33a4db392" category="list-text">StorageGRID 将在 365 天后删除此对象的两个副本。</block>
  <block id="829a5725b19fe96ce09a8e79bd49c789" category="section-title">示例 3 ：客户端删除将覆盖存储分段生命周期和 ILM</block>
  <block id="cb8bd87af43b39b739cd65a36b6aa38c" category="list-text">在存储节点 "`Forever` " 上存储两个副本</block>
  <block id="a4c0e0379ffaafc8e2bb208f6d91b587" category="list-text">客户端删除请求</block>
  <block id="70ff21d0a0594c9e7fadfe2ce5f87aa7" category="list-text">发布日期：第 400 天</block>
  <block id="7e3953df7ac073f437ff8c32cd1b3c75" category="list-text">StorageGRID 会在第 400 天删除此对象的两个副本，以响应客户端删除请求。</block>
  <block id="ee576de4b7f309f1ea7aaf153ee8eb4f" category="section-title">示例 4 ： S3 对象锁定会覆盖客户端删除请求</block>
  <block id="a8ea0ed3e6b44f912182964c0aa50ee2" category="list-text">对象版本的保留截止日期为 2026-03-31 。合法保留无效。</block>
  <block id="212ef9e73f96d6fc6b2bb11b5861251b" category="list-text">符合 ILM 规则</block>
  <block id="da69f9bf92a5e631cdec750b0f6f25e2" category="list-text">在存储节点 "`Forever 上存储两个副本。`</block>
  <block id="3bfd464b183da67df44a8adc055b0af2" category="list-text">发布日期： 2024-03-31 。</block>
  <block id="73c96607289e49c7b19e527fb9de95ea" category="list-text">StorageGRID 不会删除此对象版本，因为保留截止日期仍在 2 年后。</block>
  <block id="a15e94c0d9717e7c3982382c9bc2d7c1" category="summary">通过云存储池，您可以使用 ILM 将对象数据移动到 StorageGRID 系统之外。例如，您可能希望将不常访问的对象移至成本较低的云存储，例如 Amazon S3 Glacier ， S3 Glacier Deep Archive 或 Microsoft Azure Blob 存储中的归档访问层。或者，您可能希望维护 StorageGRID 对象的云备份以增强灾难恢复能力。</block>
  <block id="e0cc81ba3fd145e1756b73d82b9e6946" category="paragraph">从 ILM 角度来看，云存储池与存储池类似。要将对象存储在任一位置，请在为 ILM 规则创建放置说明时选择池。但是，虽然存储池包含 StorageGRID 系统中的存储节点或归档节点，但云存储池包含外部存储分段（ S3 ）或容器（ Azure Blob 存储）。</block>
  <block id="10919fd61ab362e6d0fc4c41e5d2d56b" category="paragraph">下表对存储池与云存储池进行了比较，并显示了一些高级相似之处和不同之处。</block>
  <block id="40cf615dcacf5ec5faf6a3cdf1ff5a6e" category="cell">存储池</block>
  <block id="6aaf60e7f612a895fc3012c0edae0c88" category="cell">云存储池</block>
  <block id="21b982f4ad3df88f471ed56d35a40c68" category="paragraph">如何创建？</block>
  <block id="cf3ede887875ea9d7ccf4d659dc287df" category="paragraph">使用网格管理器中的 * ILM * &gt; * 存储池 * 选项。</block>
  <block id="8767d2e62e07d10ca2598ea418bb079f" category="paragraph">您必须先设置存储级别，然后才能创建存储池。</block>
  <block id="b5dada2f8328a61efd64b941d99d7f24" category="paragraph">您必须先设置外部存储分段或容器，然后才能创建云存储池。</block>
  <block id="1e828e329e8c4e94c9782e557db006ab" category="paragraph">您可以创建多少个池？</block>
  <block id="21eb5e908168126aa6505c7e3abf8ccc" category="paragraph">无限制。</block>
  <block id="ba488c9ddc6c39d44a1988eaf1c7f494" category="paragraph">最多 10 个。</block>
  <block id="4211aa15d727b13331e795b3e10c99c5" category="paragraph">对象存储在何处？</block>
  <block id="1b2bfe6260aeb2ec6080eef393f3a3a1" category="paragraph">在 StorageGRID 中的一个或多个存储节点或归档节点上。</block>
  <block id="62c19e7b9445b1224bc86d7a8b4c280b" category="paragraph">位于 StorageGRID 系统外部的 Amazon S3 存储分段或 Azure Blob 存储容器中。</block>
  <block id="1cbf1fa4b91988da6797f6d27154bb17" category="paragraph">如果云存储池是 Amazon S3 存储分段：</block>
  <block id="d5ef44330620f089c5113ee0b6644b92" category="list-text">您可以选择配置存储分段生命周期，以便将对象过渡到低成本的长期存储，例如 Amazon S3 Glacier 或 S3 Glacier Deep Archive 。外部存储系统必须支持 Glacier 存储类和 S3 POST 对象还原 API 。</block>
  <block id="c60fdea8b2ea159152162677259d45cc" category="list-text">您可以创建云存储池，以便与支持 AWS 机密区域的 AWS 商用云服务（ C2S ）结合使用。</block>
  <block id="58b9ddc5715ae6a3e8b45f104c1b5563" category="paragraph">如果云存储池是 Azure Blob 存储容器，则 StorageGRID 会将对象过渡到归档层。</block>
  <block id="635bf893e6fda3f8cfccde2d297b8e91" category="paragraph">* 注意： * 一般情况下，不要为用于云存储池的容器配置 Azure Blob Storage 生命周期管理。对云存储池中的对象执行的后对象还原操作可能会受所配置生命周期的影响。</block>
  <block id="231eeeff68aff6a872b3e19da90efbc6" category="paragraph">什么控制对象放置？</block>
  <block id="60aece198de92955164a268c642d6628" category="paragraph">活动 ILM 策略中的 ILM 规则。</block>
  <block id="24473cb049795633b2507a7f23cee670" category="paragraph">使用什么数据保护方法？</block>
  <block id="44f86639a3ac2bb34f3e4ffe02162c9b" category="paragraph">复制或纠删编码。</block>
  <block id="c1c2d18b605431599b9a9a429dcac831" category="paragraph">复制。</block>
  <block id="25e92a48ed697d4ec13b45c5cce8153e" category="paragraph">每个对象允许多少个副本？</block>
  <block id="4beb877bd9461918ba3ef3def123e94d" category="paragraph">多个。</block>
  <block id="266cb7150372c1827a58e839456ef34d" category="paragraph">一个副本位于云存储池中，一个或多个副本也位于 StorageGRID 中。</block>
  <block id="d36453aeb86c81150615d90329e9615e" category="paragraph">* 注意： * 在任何给定时间，不能将对象存储在多个云存储池中。</block>
  <block id="2273d5677fd234bb42baf947cddd903c" category="paragraph">有哪些优势？</block>
  <block id="09917ffc58a387e6455bec078467e508" category="paragraph">可以随时快速访问对象。</block>
  <block id="b9b8316515228b7874ae8af4a03c4ca6" category="paragraph">低成本存储。</block>
  <block id="66ea5405ab807458f0bba2945ecb9b59" category="summary">如果您不再计划使用擦除编码配置文件，并且此配置文件当前未在任何 ILM 规则中使用，则可以停用它。</block>
  <block id="9ce843f3bdb56bf2f040aa515269a7ac" category="doc">停用擦除编码配置文件</block>
  <block id="e555d87f220d513c439d5e9d6fdb5c7a" category="list-text">您已确认没有正在执行纠删编码的数据修复操作或停用过程。如果您尝试在其中任一操作正在进行时停用擦除编码配置文件，则会返回一条错误消息。</block>
  <block id="9da4313ef7e4247977dd7c4addabcb25" category="paragraph">停用擦除编码配置文件时，该配置文件仍会显示在 "Erasure Coding Profiles" 页面上，但其状态为 * 已停用 * 。</block>
  <block id="a922184703512a48c048adde65c671ea" category="image-alt">已停用 EC 配置文件</block>
  <block id="ab17d840afb8d5e9ac3d3c3fde02c9c3" category="paragraph">您不能再使用已停用的擦除编码配置文件。为 ILM 规则创建放置说明时，不会显示已停用的配置文件。您无法重新激活已停用的配置文件。</block>
  <block id="b45391a119a93cd49e24600281f444ff" category="paragraph">如果满足以下任一条件， StorageGRID 将阻止您停用擦除编码配置文件：</block>
  <block id="615ac4ec1af07e032d46d3d76c2cb49a" category="list-text">ILM 规则中当前使用擦除编码配置文件。</block>
  <block id="5f6f9691c4ad022b552466ff1ba6b34b" category="list-text">Erasure Coding 配置文件不再在任何 ILM 规则中使用，但该配置文件的对象数据和奇偶校验片段仍存在。</block>
  <block id="1df44ab1c60d81e0e958298c038220e4" category="list-text">选择 * ILM * &gt; * 擦除编码 * 。</block>
  <block id="284023a7c6ab5ea8bbef8fa6ee4700ca" category="paragraph">此时将显示擦除编码配置文件页面。* 重命名 * 和 * 停用 * 按钮均已禁用。</block>
  <block id="2563d3afedf8604902853f6bf5af8857" category="list-text">查看 * 状态 * 列，确认要停用的擦除编码配置文件未在任何 ILM 规则中使用。</block>
  <block id="bb94fe5ead23e88343bf97df8bc8d42a" category="paragraph">如果擦除编码配置文件在任何 ILM 规则中使用，则无法停用它。在此示例中，至少在一个 ILM 规则中使用了 *2_1 EC Profile* 。</block>
  <block id="8ed5dafa09467950e1f2fc19b2649f88" category="image-alt">ILM 规则中使用的 EC 配置文件</block>
  <block id="76d16f2295644c6aa7ce1f0db0b0bc02" category="list-text">如果在 ILM 规则中使用配置文件，请执行以下步骤：</block>
  <block id="9d1900dabdf1339587e1a20f14c80591" category="list-text">选择 * ILM * &gt; * 规则 * 。</block>
  <block id="ed7368715d3dcf3ce5a445691deb37c5" category="list-text">对于列出的每个规则，选择单选按钮并查看保留示意图以确定该规则是否使用要停用的擦除编码配置文件。</block>
  <block id="10efd9eadcccb43ecf5d345a6aeb6d8b" category="inline-image-macro">EC 配置文件图标</block>
  <block id="434e5afbec13b1e2021d3b7f522bbccc" category="paragraph">在此示例中， * 三个站点 EC for larger objects* 规则使用名为 * 所有 3 个站点 * 的存储池和 * 所有站点 6-3* 擦除编码配置文件。纠删编码配置文件由以下图标表示： <block ref="cfbe87447e7eb236f29d1c09035fcfb1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8f93f3eb18505c468437fa9c42ba6908" category="image-alt">使用的 ILM 规则 EC 配置文件</block>
  <block id="157cb3f97489756890990f4c76528080" category="list-text">如果 ILM 规则使用要停用的擦除编码配置文件，请确定该规则是在活动 ILM 策略中使用还是在建议的策略中使用。</block>
  <block id="187493078eb5f6d2889c145e45385026" category="paragraph">在此示例中，活动 ILM 策略使用了 * 三个站点 EC for larger objects* 规则。</block>
  <block id="76558eff3cc79220fcb2b76172d58da9" category="list-text">根据纠删编码配置文件的使用位置，完成表中的其他步骤。</block>
  <block id="6022a3a42954cf22fcbba74a5c7a1bfd" category="cell">此配置文件已在何处使用？</block>
  <block id="987c51fd60b59b1126a6b7b7df6ac1e1" category="cell">停用配置文件前要执行的其他步骤</block>
  <block id="1d3161f41f9d21c0c9084c2d2173ab3a" category="cell">请参见这些附加说明</block>
  <block id="22b75d8c26aea75b31cd42400885a276" category="paragraph">从不在任何 ILM 规则中使用</block>
  <block id="72f0868859c39badbcb7f73ee029686c" category="paragraph">无需执行其他步骤。继续执行此操作步骤。</block>
  <block id="5765904c48b558e1d4d6414e4656b701" category="paragraph">无 _</block>
  <block id="d97abf723191856d6009849a47a72d77" category="paragraph">在从未在任何 ILM 策略中使用过的 ILM 规则中</block>
  <block id="7d2bc0d30127d50484b19f6b56c2fdee" category="list-text">编辑或删除所有受影响的 ILM 规则。如果编辑此规则，请删除使用擦除编码配置文件的所有放置位置。</block>
  <block id="6a58d5f6ed9134ff245eb1172f368af9" category="list-text">继续执行此操作步骤。</block>
  <block id="c0e6481cad54bf65f5fa4ad63f8e31f5" category="inline-xref-macro">使用 ILM 规则和 ILM 策略</block>
  <block id="f96e84a8837db1c55b073d6c9f577220" category="paragraph"><block ref="f96e84a8837db1c55b073d6c9f577220" category="inline-xref-macro-rx"></block></block>
  <block id="c10729ba10fa0a061a3314cf7b321b7d" category="paragraph">当前处于活动 ILM 策略中的 ILM 规则中</block>
  <block id="db3786ada1f6c75d1e0da42835ba3c89" category="list-text">克隆活动策略。</block>
  <block id="0fb3899a25f092110a59ba3893802310" category="list-text">删除使用擦除编码配置文件的 ILM 规则。</block>
  <block id="4be9bc794ce4a9b6c47d463272785c7d" category="list-text">添加一个或多个新 ILM 规则以确保对象受到保护。</block>
  <block id="d1dd070aae896397d2e90206a1ad2412" category="list-text">保存，模拟和激活新策略。</block>
  <block id="2f34af4c6d9b994867d4a94194299615" category="list-text">等待应用新策略，并根据添加的新规则将现有对象移动到新位置。</block>
  <block id="ca4d875b10ba49ade05d33fad44f2571" category="paragraph">* 注意： * 根据对象数量和 StorageGRID 系统的大小， ILM 操作可能需要数周甚至数月才能根据新的 ILM 规则将对象移动到新位置。</block>
  <block id="23910971585d930771d7826ae99720b2" category="paragraph">虽然您可以安全地尝试停用擦除编码配置文件，但它仍与数据相关联，但停用操作将失败。如果配置文件尚未准备好停用，则会显示一条错误消息通知您。</block>
  <block id="e02245f385263e2f542b90459db59d5c" category="list-text">编辑或删除从策略中删除的规则。如果编辑此规则，请删除使用擦除编码配置文件的所有放置位置。</block>
  <block id="a8e416e23d65ed93ef1521591d39c674" category="paragraph">当前在建议的 ILM 策略中的 ILM 规则</block>
  <block id="a79ddf0fcdc5e5011c2a3aa86e096ed3" category="list-text">编辑建议的策略。</block>
  <block id="63abef1f1d7fbc1688dd9bf21c2770b3" category="list-text">添加一个或多个新的 ILM 规则以确保所有对象均受保护。</block>
  <block id="4c3d772059319602b72f29c513306696" category="paragraph">在历史 ILM 策略中的 ILM 规则中</block>
  <block id="14e447690290d172a5fe01a33ebe42ae" category="list-text">编辑或删除规则。如果编辑此规则，请删除使用擦除编码配置文件的所有放置位置。（此规则现在将在历史策略中显示为历史规则。）</block>
  <block id="11dba229b1f9b49a212efe3a27901b96" category="list-text">刷新擦除编码配置文件页面，以确保此配置文件未在 ILM 规则中使用。</block>
  <block id="65917599f41999cb0c52ce777180fe4a" category="list-text">如果在 ILM 规则中未使用该配置文件，请选择单选按钮并选择 * 停用 * 。</block>
  <block id="59c20c89fbe0119491687d668f785088" category="paragraph">此时将显示停用 EC 配置文件对话框。</block>
  <block id="bb22816b81e40a9c1ec33baefcc4ba27" category="image-alt">停用 EC 配置文件确认</block>
  <block id="4bb0339bf4a8cf8c4bda51a42bc72727" category="list-text">如果确实要停用此配置文件，请选择 * 停用 * 。</block>
  <block id="5559fc886fd9b15acfea208b0a24185c" category="list-text">如果 StorageGRID 能够停用擦除编码配置文件，则其状态为 * 已停用 * 。您不能再为任何 ILM 规则选择此配置文件。</block>
  <block id="7d6061ce3e4deff7f54eb59235b79805" category="list-text">如果 StorageGRID 无法停用此配置文件，则会显示一条错误消息。例如，如果对象数据仍与此配置文件关联，则会显示一条错误消息。您可能需要等待几周才能再次尝试停用过程。</block>
  <block id="104d4552bc5d0f16e17682f94d234b77" category="summary">您可以删除未使用的存储池。</block>
  <block id="17c45039bb58f6b15b95472e29ea8a3b" category="doc">删除存储池</block>
  <block id="c15360c4ae5fd73b9ed717281479a9c2" category="paragraph">此时将显示存储池页面。</block>
  <block id="1cc4ef0d67a49273766b543dd59884d1" category="list-text">查看表中的 "ILM Usage" 列，确定是否可以删除存储池。</block>
  <block id="615167cb3326e6f39b21f21d2855a430" category="paragraph">如果存储池正在 ILM 规则或纠删编码配置文件中使用，则不能将其删除。根据需要，选择 * 查看详细信息 * &gt; * ILM 使用情况 * 以确定存储池的使用位置。</block>
  <block id="6c7069ec65ee5b76ca3c292d10a07157" category="list-text">如果未使用要删除的存储池，请选择单选按钮。</block>
  <block id="aaa9dad83db88677c0a47f45b9319cd2" category="summary">要管理对象，您需要创建一组信息生命周期管理 \ （ ILM ）规则并将其组织到 ILM 策略中。系统中载入的每个对象都会根据活动策略进行评估。如果策略中的规则与对象的元数据匹配，则规则中的说明将确定 StorageGRID 复制和存储该对象所采取的操作。</block>
  <block id="ec0a86ea85cd82e30d1bc063d4eb2cb1" category="doc">什么是 ILM 规则</block>
  <block id="a463018723ff418ec1d767d2e8b03881" category="paragraph">要管理对象，您需要创建一组信息生命周期管理（ ILM ）规则，并将其组织到 ILM 策略中。系统中载入的每个对象都会根据活动策略进行评估。如果策略中的规则与对象的元数据匹配，则规则中的说明将确定 StorageGRID 复制和存储该对象所采取的操作。</block>
  <block id="a86873601ece081d8a17a26b055fc0b0" category="section-title">ILM 规则的要素</block>
  <block id="df516428e96619a26af8daebc9187176" category="paragraph">ILM 规则包含三个要素：</block>
  <block id="51fc5c49fbf1cd36d27c82d197838420" category="list-text">* 筛选条件 * ：规则的基本和高级筛选器用于定义规则适用场景 的对象。如果某个对象与所有筛选器匹配，则 StorageGRID 将应用此规则并创建在规则的放置说明中指定的对象副本。</block>
  <block id="e13a681578550dbb1be8fa9250955454" category="list-text">* 放置说明 * ：规则的放置说明用于定义对象副本的数量，类型和位置。每个规则都可以包含一系列放置说明，以便随着时间的推移更改对象副本的数量，类型和位置。一个放置的时间段到期后，下一个放置中的说明将自动应用于下一个 ILM 评估。</block>
  <block id="70f5552d1c475f2909052d69a0a91bf1" category="list-text">* 载入行为 * ：规则的载入行为定义了 S3 或 Swift 客户端将对象保存到网格时发生的情况。载入行为用于控制是否按照规则中的说明立即放置对象副本，或者是否创建了临时副本并稍后应用放置说明。</block>
  <block id="7372dc1ed4b666e63e9c83481b71de57" category="section-title">什么是 ILM 规则筛选</block>
  <block id="eebbc32da147c631185ed56bedbc510c" category="paragraph">创建 ILM 规则时，您可以指定筛选器来标识规则适用场景 的对象。</block>
  <block id="a926868cd6ca3cc1ffbbb12f854f60b0" category="paragraph">最简单的情况是，规则可能不使用任何筛选器。任何不使用筛选器适用场景 all 对象的规则，因此它必须是 ILM 策略中的最后一个（默认）规则。默认规则为与其他规则中的筛选器不匹配的对象提供存储说明。</block>
  <block id="99a3e5e4310ec14821fd477b95282861" category="paragraph">通过基本筛选器，您可以对不同的大型对象组应用不同的规则。通过创建 ILM 规则向导的定义基础知识页面上的基本筛选器，您可以将规则应用于特定租户帐户，特定 S3 分段或 Swift 容器，或者同时应用于这两者。</block>
  <block id="f7e846871c1edbf410212e3cb75c50e0" category="image-alt">ILM 向导：第 1 步，共 3 步</block>
  <block id="f209c3b3b8b8ebb2bf39a810cca16d5e" category="paragraph">通过这些基本筛选器，您可以轻松地将不同规则应用于大量对象。例如，您公司的财务记录可能需要存储以满足法规要求，而营销部门的数据则可能需要存储以方便日常运营。在为每个部门创建单独的租户帐户后，或者将不同部门的数据隔离到单独的 S3 存储分段后，您可以轻松创建适用场景 一个规则来记录所有财务记录，并创建另一个适用场景 规则来记录所有营销数据。</block>
  <block id="17d0b0b7f5fe67852f05bea44fa793ab" category="paragraph">创建 ILM 规则向导的 * 高级筛选 * 页面可提供精细控制。您可以创建筛选器，以便根据以下对象属性选择对象：</block>
  <block id="b15df629acab75440826663d778fb339" category="list-text">载入时间</block>
  <block id="556c060559ab4c841780980b4bbc82ad" category="list-text">上次访问时间</block>
  <block id="57870b10cebb12de4b1291ae31cb8ebc" category="list-text">全部或部分对象名称（密钥）</block>
  <block id="80d445c4fb93e5febffd4806c51d97b5" category="list-text">S3 存储分段区域（位置限制）</block>
  <block id="a9f7773f3592fb45c05b915423715b2b" category="list-text">S3 对象标记</block>
  <block id="3b19ca3602c366cf444457fa26e4bfa2" category="paragraph">您可以按非常具体的条件筛选对象。例如，医院成像部门存储的对象在使用不到 30 天时可能会频繁使用，而在使用之后则很少使用，而包含患者就诊信息的对象可能需要复制到健康网络总部的计费部门。您可以创建筛选器，根据对象名称，大小， S3 对象标记或任何其他相关标准来标识每种类型的对象，然后创建单独的规则以适当存储每组对象。</block>
  <block id="ab906a82cfa670b14ce18f6348b0d524" category="paragraph">您还可以根据需要在一个规则中组合使用基本筛选器和高级筛选器。例如，营销部门可能希望以不同于供应商记录的方式存储大型映像文件，而人力资源部门可能需要将人员记录集中存储在特定地理位置和策略信息中。在这种情况下，您可以创建规则，按租户帐户进行筛选以将记录与每个部门隔离，同时在每个规则中使用高级筛选器来标识规则适用场景 所使用的特定对象类型。</block>
  <block id="865efc41f4edf0928b8685f0b4a5ef52" category="section-title">什么是 ILM 规则放置说明</block>
  <block id="66fcffc1eef9b6e2aaafad250f28dca4" category="paragraph">放置说明用于确定对象数据的存储位置，存储时间和存储方式。一个 ILM 规则可以包含一个或多个放置指令。每个放置指令适用场景 都有一段时间。</block>
  <block id="391faf860875a2c55e9f2cf7b1f1a311" category="paragraph">创建放置说明时：</block>
  <block id="1fd62f5d4fd891af98c5f526cf6c5f5b" category="list-text">首先指定参考时间，该时间决定放置指令的开始时间。参考时间可能是：载入对象时，访问对象时，受版本控制的对象变为非当前状态时或用户定义的时间。</block>
  <block id="563cabc86cbd712bb8f8051c83769b31" category="list-text">接下来，您可以指定相对于参考时间应用放置的时间。例如，放置可能从第 0 天开始，并持续 365 天，与对象载入的时间相关。</block>
  <block id="d5c97701c0ee0dfe73e160058089ce8d" category="list-text">最后，您可以指定副本的类型（复制或纠删编码）以及副本的存储位置。例如，您可能希望将两个复制副本存储在两个不同的站点上。</block>
  <block id="90936461c3647d654c70711120700d17" category="paragraph">每个规则可以定义一个时间段内的多个放置位置，也可以定义不同时间段的不同放置位置。</block>
  <block id="736d27dc42be631f4c8fab2d2f237d6d" category="inline-image-macro">加号图标，黑色，白色</block>
  <block id="dca93fae06734329549a84738e240b38" category="list-text">要在一段时间内将对象放置在多个位置，请选择加号图标 <block ref="59fa227cf0e857b0a4166861a16787a4" category="inline-image-macro-rx" type="image"></block> 为该时间段添加多行。</block>
  <block id="9a138bbe7ae1ba625197ec3bfabd1185" category="list-text">要在不同时间段内将对象放置在不同位置，请选择 * 添加 * 按钮以添加下一个时间段。然后，指定时间段内的一个或多个行。</block>
  <block id="355b077b7de7f775161a58ef7c6a0ea2" category="paragraph">此示例显示了创建 ILM 规则向导的定义放置页面。</block>
  <block id="d9368a972084db7b44a972b00ca8a3c3" category="image-alt">网格管理器中的 ILM 放置屏幕</block>
  <block id="da4ea9e1090f8e7340e7849c6bfe034d" category="inline-image-macro">图标 1</block>
  <block id="de62fb1122e5b9f9e068d25ccd07599c" category="paragraph"><block ref="de62fb1122e5b9f9e068d25ccd07599c" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ef9a255e5e65a4bd973bbd7b62c1d836" category="paragraph">第一个放置指令在第一年有两行：</block>
  <block id="beb31697e368508fd620f97070642227" category="list-text">第一行会在两个数据中心站点创建两个复制的对象副本。</block>
  <block id="c91d8385aed9d0663b911a7b8d529003" category="list-text">第二行使用三个数据中心站点创建 6+3 纠删编码副本。</block>
  <block id="3e2f2165e370cb45abb8a149e98a2e2f" category="inline-image-macro">图标 2</block>
  <block id="d3391d56aba20e847fdce2d401daabae" category="paragraph"><block ref="d3391d56aba20e847fdce2d401daabae" category="inline-image-macro-rx" type="image"></block></block>
  <block id="caf379a4b5b9f291a378594fea302dba" category="paragraph">第二个放置指令会在一年后创建两个归档副本，并永久保留这些副本。</block>
  <block id="dd81f53b2bb98f842f98fd54864ddf23" category="paragraph">为规则定义一组放置指令时，必须确保至少有一个放置指令从第 0 天开始，并且定义的时间段之间没有空隙， 最终放置指令将永久持续，或者一直持续到您不再需要任何对象副本为止。</block>
  <block id="163b0d10bb3728c27754dc96c0eb82b3" category="paragraph">规则中的每个时间段到期后，将应用下一时间段的内容放置说明。此时将创建新的对象副本，并删除任何不需要的副本。</block>
  <block id="e208587259e8dfc64de923165a30449b" category="inline-xref-macro">用于载入的数据保护选项</block>
  <block id="a4bc7635c4f41e60137bf6f67d020208" category="list-text"><block ref="a4bc7635c4f41e60137bf6f67d020208" category="inline-xref-macro-rx"></block></block>
  <block id="27cc2a0d4abfb7ad4605b63dedbe3116" category="inline-xref-macro">什么是存储池</block>
  <block id="bf9e5a9f36a8a2ebf2ab704dde53a9ce" category="list-text"><block ref="bf9e5a9f36a8a2ebf2ab704dde53a9ce" category="inline-xref-macro-rx"></block></block>
  <block id="e8d6de471dc4ee30a89375ffd7c21ca2" category="list-text"><block ref="e8d6de471dc4ee30a89375ffd7c21ca2" category="inline-xref-macro-rx"></block></block>
  <block id="aed9b6c023d4d5d54a6583bc6da281ed" category="summary">通过高级筛选功能，您可以创建仅根据特定对象的元数据应用于特定对象的 ILM 规则。为规则设置高级筛选时，您可以选择要匹配的元数据类型，选择运算符并指定元数据值。评估对象时， ILM 规则仅应用于元数据与高级筛选器匹配的对象。</block>
  <block id="c6c899f96c69018de9ed57e9d0b622cd" category="doc">在 ILM 规则中使用高级筛选器</block>
  <block id="da872c55d77bfcf6960e65fd7a11b78e" category="paragraph">下表显示了您可以在高级筛选器中指定的元数据类型，可用于每种元数据类型的运算符以及预期的元数据值。</block>
  <block id="727b5a339e2de62f73e8d7201452c7cb" category="cell">元数据类型</block>
  <block id="ba0ba50f9e094e6622a38f93353da12f" category="cell">支持的运算符</block>
  <block id="a80c46c3764d53c844f49a5c4ec148fa" category="cell">元数据值</block>
  <block id="64c47d65b00bf49ed4168a1c416723de" category="paragraph">载入时间（微秒）</block>
  <block id="51c3f59625962b899c03595d6cdfb284" category="list-text">等于</block>
  <block id="217b812faa0d80cf2e6d0f6c427bfcf9" category="list-text">不等于</block>
  <block id="9df123296d4e8635f1d4ce4144b0edfa" category="list-text">小于</block>
  <block id="0902810e3d9d2174a1c757367a886bed" category="list-text">小于或等于</block>
  <block id="bde3207d6920ce65500670d7eaf77af9" category="list-text">大于</block>
  <block id="0b79fe882aaa358eb76a32e14b429554" category="list-text">大于或等于</block>
  <block id="79703120b3625ff05af8a237831687a7" category="paragraph">载入对象的时间和日期。</block>
  <block id="01abbd6369bde75d87aea5554992dac8" category="paragraph">* 注意： * 要在激活新 ILM 策略时避免资源问题，您可以在可能更改大量现有对象位置的任何规则中使用 " 载入时间 " 高级筛选器。将载入时间设置为大于或等于新策略生效的大致时间，以确保现有对象不会发生不必要的移动。</block>
  <block id="857af22f119fefbfa24769ed2ad6d5e7" category="list-text">包含</block>
  <block id="8d7e73dd080ef9034a50c7a7719de26b" category="list-text">不包含</block>
  <block id="0a7f4995e6820457caa233a0fe82bc64" category="list-text">开头为</block>
  <block id="e5ab3b154e26cf8342e532bbfc418f32" category="list-text">不以开头</block>
  <block id="feb972f0513d4da2670631692d44def9" category="list-text">结尾为</block>
  <block id="15a5aee8a02bc5c5ac80102ef399b6ae" category="list-text">结尾不为</block>
  <block id="5d541408120f82c52b1fb05b6511df8e" category="paragraph">唯一 S3 或 Swift 对象密钥的全部或部分内容。</block>
  <block id="4c45de3f39e675bd638b2e532d959897" category="paragraph">例如，您可能希望匹配以 ` .txt` 或以 `test-object/` 开头的对象。</block>
  <block id="010ac85f6645cca39e3102202d3330fd" category="paragraph">上次访问时间（微秒）</block>
  <block id="e087923eb5dd1310f5f25ddd5ae5b580" category="list-text">exists</block>
  <block id="9416a531e05cf18f1c26b97263e3c96b" category="list-text">不存在</block>
  <block id="4ba780ef8367439ccc2998c490c67bdc" category="paragraph">上次检索（读取或查看）对象的时间和日期。</block>
  <block id="9d86ef96d3f3f2d17c24c3d8093f0f62" category="paragraph">* 注意： * 如果您计划使用上次访问时间作为高级筛选器，则必须为 S3 存储分段或 Swift 容器启用上次访问时间更新。</block>
  <block id="b1586c73152cd7066b6c706b2ddcfbf3" category="inline-xref-macro">在 ILM 规则中使用上次访问时间</block>
  <block id="56e18126152fda8e4170527242cb2a05" category="paragraph"><block ref="56e18126152fda8e4170527242cb2a05" category="inline-xref-macro-rx"></block></block>
  <block id="a080e9b2b26a4e9e06c2e9e23546c7f9" category="paragraph">位置限制（仅限 S3 ）</block>
  <block id="ace10ea83c8f7b40f9421f1e67558d82" category="paragraph">创建 S3 存储分段的区域。使用 * ILM * &gt; * 区域 * 定义显示的区域。</block>
  <block id="7a0f0898961103a6c953f6be0237f3a5" category="paragraph">* 注： * 值 us-east-1 将匹配在 us-east-1 区域创建的分段中的对象以及未指定区域的分段中的对象。</block>
  <block id="8129081a42f9a177394007f379db0332" category="inline-xref-macro">配置区域（可选，仅 S3 ）</block>
  <block id="4bce0fd15f7f53211870deebfe17d111" category="paragraph"><block ref="4bce0fd15f7f53211870deebfe17d111" category="inline-xref-macro-rx"></block></block>
  <block id="710dee718f9d473c92ccc17d3af7c80c" category="paragraph">对象大小（ MB ）</block>
  <block id="62558f7b07c034e992ca179a1b9b7e68" category="list-text">不等于</block>
  <block id="c3c51b4fbbec96ef7da183b1c08af5fc" category="paragraph">对象的大小（以 MB 为单位）。</block>
  <block id="ddb226bdc76af72fb79b468a71a958f9" category="paragraph">* 注： * 要按小于 1 MB 的对象大小进行筛选，请键入一个小数值。您的浏览器类型和区域设置用于控制您是需要使用句点还是逗号作为小数分隔符。</block>
  <block id="ee708c806c76fd8acabd1eacc10515f8" category="paragraph">键值对，其中 * 用户元数据名称 * 是密钥， * 用户元数据值 * 是值。</block>
  <block id="b28526362af247d131a47be43e4049e9" category="paragraph">例如，要筛选用户元数据为 `color=blue` 的对象，请为 * 用户元数据名称 * 指定 `color` ，为运算符指定 `Equals` ，为 * 用户元数据值 * 指定 `blue` 。</block>
  <block id="4f7ec89d2304be9da6fa5af1d644f2f1" category="paragraph">* 注： * 用户元数据名称不区分大小写；用户元数据值区分大小写。</block>
  <block id="9f57ff7d1b0726344106eb68863f7c83" category="paragraph">对象标记（仅限 S3 ）</block>
  <block id="41ed981064d70f21ae6a19e36e4b01db" category="paragraph">键值对，其中 * 对象标记名称 * 是密钥， * 对象标记值 * 是值。</block>
  <block id="4953ccdf20cbe2cb9edd0d4343faf771" category="paragraph">例如，要筛选对象标记为 `Image=True` 的对象，请为 * 对象标记名称 * 指定 `Image` ，为运算符指定 `等于` ，为 * 对象标记值 * 指定 `True` 。</block>
  <block id="4a7211160644c9b4dbcc0e0997964ad8" category="paragraph">* 注： * 对象标记名称和对象标记值区分大小写。您必须严格按照为对象定义的方式输入这些项。</block>
  <block id="1e294ec8ba58e54aff28044599f128df" category="section-title">指定多个元数据类型和值</block>
  <block id="e21efff2864f8eae2946db984e236b31" category="paragraph">定义高级筛选时，您可以指定多种类型的元数据和多个元数据值。例如，如果您希望某个规则与大小介于 10 MB 到 100 MB 之间的对象匹配，则应选择 * 对象大小 * 元数据类型并指定两个元数据值。</block>
  <block id="3538eff8a991c28033df18dc655707e0" category="list-text">第一个元数据值用于指定大于或等于 10 MB 的对象。</block>
  <block id="e931d3956f573d13eb664faafd0e9e6f" category="list-text">第二个元数据值用于指定小于或等于 100 MB 的对象。</block>
  <block id="d87d32128ac369c94b338746c813dfbd" category="image-alt">对象大小的高级筛选示例</block>
  <block id="3bc429cfe09d44707b5784db7b4ff4b2" category="paragraph">使用多个条目可以精确控制匹配的对象。在以下示例中，规则适用场景 对象将品牌 A 或品牌 B 作为摄像机类型用户元数据的值。但是，规则仅对小于 10 MB 的品牌 B 对象执行适用场景 。</block>
  <block id="0e30f851855aa1a4ca9c28fdf4175b73" category="image-alt">用户元数据的高级筛选示例</block>
  <block id="f38d38b7fb54868617823e95c645ef6b" category="summary">您可以在 ILM 规则中使用上次访问时间作为参考时间。例如，您可能希望将过去三个月查看过的对象保留在本地存储节点上，同时将最近未查看过的对象移动到异地位置。如果您希望 ILM 规则仅应用于上次在特定日期访问的对象，则也可以使用上次访问时间作为高级筛选器。</block>
  <block id="cf2fd3f7fdafff9502e5606f65888012" category="paragraph">在 ILM 规则中使用上次访问时间之前，请查看以下注意事项：</block>
  <block id="51f0e62001c959a07223bc0eadfcf30d" category="list-text">使用上次访问时间作为参考时间时，请注意，更改对象的上次访问时间不会触发即时 ILM 评估。而是在后台 ILM 评估对象时评估对象的放置位置，并根据需要移动对象。访问对象后，此操作可能需要两周或更长时间。</block>
  <block id="95d48fcb0758d5a5d827f3602f71fdcb" category="paragraph">在根据上次访问时间创建 ILM 规则时，请考虑此延迟，并避免放置时间较短（不到一个月）。</block>
  <block id="67a6f71875dc6b33c43c0c4df783eb81" category="list-text">如果将上次访问时间用作高级筛选器或参考时间，则必须为 S3 存储分段启用上次访问时间更新。您可以使用租户管理器或租户管理 API 。</block>
  <block id="ebf9b4dc0601f50742b7f4b4b7bbb252" category="admonition">对于 Swift 容器，始终会启用上次访问时间更新，但对于 S3 存储分段，默认情况下会禁用上次访问时间更新。</block>
  <block id="f78b90ead8620dab1d1e27f55073e1d9" category="admonition">请注意，启用上次访问时间更新可能会降低性能，尤其是在对象较小的系统中。之所以会影响性能，是因为每次检索对象时， StorageGRID 都必须使用新的时间戳更新对象。</block>
  <block id="10abfcdedb5efa775c4af44b773b562d" category="paragraph">下表总结了对于不同类型的请求，是否为存储分段中的所有对象更新了上次访问时间。</block>
  <block id="2fd920f6881d0755a5a1543cb95d8dc0" category="cell">禁用上次访问时间更新时是否更新上次访问时间</block>
  <block id="9212cdd129dc42db8b4f074e893a20ea" category="cell">启用上次访问时间更新后是否更新上次访问时间</block>
  <block id="29a7f3181791ca96fbc580dd8c158c54" category="summary">如果需要更改数据保护或添加新站点，您可能需要创建并激活新的 ILM 策略。</block>
  <block id="22684474f773660088c865fab6df8ee9" category="doc">示例 6 ：更改 ILM 策略</block>
  <block id="0bc7c9f31bf6fc184733fc1c41cf440e" category="paragraph">在更改策略之前，您必须了解 ILM 放置的更改如何临时影响 StorageGRID 系统的整体性能。</block>
  <block id="21b4aa82a574ec44f25c992c0114deaa" category="paragraph">在此示例中，扩展中添加了一个新的 StorageGRID 站点，需要修改活动的 ILM 策略，以便将数据存储在新站点上。</block>
  <block id="1263bca53be789d345dca1ee2507f86c" category="section-title">更改 ILM 策略如何影响性能</block>
  <block id="4b580b47848c185476624f24e99f9fb6" category="paragraph">激活新的 ILM 策略时， StorageGRID 系统的性能可能会暂时受到影响，尤其是在新策略中的放置说明要求将许多现有对象移动到新位置时。</block>
  <block id="41d5147dcc9b0f2dc26d19c0825db3c6" category="paragraph">可能会暂时影响 StorageGRID 性能的 ILM 策略更改类型包括：</block>
  <block id="0d5f7b200ed75e273b1db397ea6f842c" category="list-text">将不同的擦除编码配置文件应用于现有擦除编码对象。</block>
  <block id="91f02f764a2ecf550a043718c05fc0c1" category="admonition">StorageGRID 认为每个擦除编码配置文件都是唯一的，使用新配置文件时不会重复使用擦除编码片段。</block>
  <block id="e75f721635da50d03d28b5626429be0b" category="list-text">更改现有对象所需的副本类型；例如，将大量复制对象转换为经过纠删编码的对象。</block>
  <block id="bda300d6972944bda0b6fdb6a7cd30da" category="list-text">将现有对象的副本移动到完全不同的位置；例如，将大量对象移入或移出云存储池，或者移动到远程站点或从远程站点移动。</block>
  <block id="dc9d1dfec7abf86793a3ec4a72b56e7a" category="section-title">示例 6 中的活动 ILM 策略：两个站点的数据保护</block>
  <block id="3d1178832b458685e37b4f66ea3793f2" category="paragraph">在此示例中，活动 ILM 策略最初是为双站点 StorageGRID 系统设计的，并使用两个 ILM 规则。</block>
  <block id="fdbb9b9c0932dd356bcf5c0877930a86" category="image-alt">ILM 策略 6 活动策略示例</block>
  <block id="4213035d5778e879300a4679340ac18c" category="paragraph">在此 ILM 策略中，属于租户 A 的对象在一个站点上通过 2+1 纠删编码进行保护，而属于所有其他租户的对象则通过双副本复制在两个站点之间进行保护。</block>
  <block id="180a989ddb58121da7774a088cc334bc" category="admonition">本示例中的第一个规则使用高级筛选器来确保纠删编码不会用于小型对象。如果租户 A 的任何对象小于 1 MB ，则会受第二个规则的保护，该规则使用复制。</block>
  <block id="0debc922e2ac334f91c00b6003038bf9" category="section-title">规则 1 ：租户 A 的单站点纠删编码</block>
  <block id="08b81ba58fcaf4f22335372eaa3e2333" category="paragraph">租户 A 的单站点擦除编码</block>
  <block id="ebebea8169be5ff435c67d36d284ee8d" category="paragraph">租户 A</block>
  <block id="e927cd7a6b142707e9ed0c5ddfe7b243" category="paragraph">存储池</block>
  <block id="1ba94cb918d4a5d82129fa4dfb1c9c0e" category="paragraph">数据中心 1.</block>
  <block id="88982609e59ee389f773a003bcd87d03" category="paragraph">从第 0 天到永久，在 Data Center 1 中执行 2+1 纠删编码</block>
  <block id="d2a8b08585d3b8adc7da8a0e48ef2737" category="section-title">规则 2 ：为其他租户进行双站点复制</block>
  <block id="4ddd4047e90b8cdc2f293b2863ff6789" category="paragraph">适用于其他租户的双站点复制</block>
  <block id="fd038fc7f319e48f3115d92bf5bdbef9" category="paragraph">忽略</block>
  <block id="3052d17347aa0231748580e06110ace9" category="paragraph">存储池</block>
  <block id="61382b6f454280d2827641d473a7dd49" category="paragraph">数据中心 1 和数据中心 2</block>
  <block id="b57a93c51b9b5958ec9274d1f7050b9d" category="paragraph">从第 0 天复制到永久的两个副本：一个副本位于数据中心 1 ，一个副本位于数据中心 2 。</block>
  <block id="a34a0b0de8f664e2931faaac64af914f" category="section-title">示例 6 的建议 ILM 策略：三个站点的数据保护</block>
  <block id="2ed319e8e2b927fd34c45c859cf8cf3d" category="paragraph">在此示例中，正在为三站点 StorageGRID 系统更新 ILM 策略。</block>
  <block id="ca4d1b72690426417943bd40cce08d97" category="paragraph">执行扩展以添加新站点后，网格管理员创建了两个新存储池：一个用于 Data Center 3 的存储池和一个包含所有三个站点的存储池（与所有存储节点默认存储池不同）。然后，管理员创建了两个新的 ILM 规则和一个新的建议 ILM 策略，该策略旨在保护所有三个站点的数据。</block>
  <block id="d4a32a33ff11fafb9b65f9b6abcc45a7" category="image-alt">ILM 策略 6 建议策略示例</block>
  <block id="e61999ae4951d7979078499e0e8a5762" category="paragraph">激活此新 ILM 策略后，属于租户 A 的对象将在三个站点上通过 2+1 纠删编码得到保护，而属于其他租户（以及属于租户 A 的较小对象）的对象将通过三个副本复制在三个站点上得到保护。</block>
  <block id="22e917f01a6e23737005437f83438171" category="section-title">规则 1 ：租户 A 的三站点纠删编码</block>
  <block id="07358c538ce348912e78c57feaf82079" category="paragraph">租户 A 的三站点擦除编码</block>
  <block id="3cc32af300a884e6dffb7aa6fe66ffce" category="paragraph">全部 3 个数据中心（包括数据中心 1 ，数据中心 2 和数据中心 3 ）</block>
  <block id="8647d70f797382aa87859a0ae265ea1c" category="paragraph">从第 0 天到永久，在所有 3 个数据中心进行 2+1 纠删编码</block>
  <block id="61278f2caa28d1890e41691025bfddd7" category="section-title">规则 2 ：对其他租户进行三站点复制</block>
  <block id="f2f9e60507b07de0e117e87fd22b0c0d" category="paragraph">适用于其他租户的三站点复制</block>
  <block id="c3e3fc004939a739620f37e8b4f0b9a6" category="paragraph">数据中心 1 ，数据中心 2 和数据中心 3</block>
  <block id="d8373194aa55b95e912510652318f1fd" category="paragraph">从第 0 天复制到永久的三个副本：在数据中心 1 复制一个副本，在数据中心 2 复制一个副本，在数据中心 3 复制一个副本。</block>
  <block id="07cd5eb2a6c498a57843c363c77cefb2" category="section-title">激活示例 6 的建议 ILM 策略</block>
  <block id="0970afb1c798dc1fddb468cbf8cb3d32" category="paragraph">激活新建议的 ILM 策略时，可能会根据任何新规则或更新的规则中的放置说明将现有对象移动到新位置，或者为现有对象创建新的对象副本。</block>
  <block id="e5636e58334ab4a22863f879bd6d3b01" category="section-title">擦除编码指令发生变化时会发生什么情况</block>
  <block id="1bd84add32b92592fc41faefc33e06e6" category="paragraph">在本示例的当前活动 ILM 策略中，属于租户 A 的对象将在数据中心 1 使用 2+1 纠删编码进行保护。在新建议的 ILM 策略中，属于租户 A 的对象将在数据中心 1 ， 2 和 3 使用 2+1 纠删编码进行保护。</block>
  <block id="f25657ec39fb57e0961dff20c9105faf" category="paragraph">激活新的 ILM 策略后，将执行以下 ILM 操作：</block>
  <block id="cbfb54e1bceabf590685ac718726bd02" category="list-text">租户 A 输入的新对象将拆分为两个数据片段，并添加一个奇偶校验片段。然后，这三个片段中的每一个都会存储在不同的数据中心。</block>
  <block id="b65cc1f63b7324e5d6a0ebba1cc539d9" category="list-text">属于租户 A 的现有对象将在进行 ILM 扫描过程中重新评估。由于 ILM 放置说明使用新的纠删编码配置文件，因此会创建全新的纠删编码片段并将其分发到三个数据中心。</block>
  <block id="90e55fa70d86d20c8898805f965d49ec" category="admonition">不会重复使用 Data Center 1 上的现有 2+1 片段。StorageGRID 认为每个擦除编码配置文件都是唯一的，使用新配置文件时不会重复使用擦除编码片段。</block>
  <block id="53d0040d1d81e7c411b13d3715916fc9" category="section-title">复制指令发生变化时会发生什么情况</block>
  <block id="5e5d574ae126a8ae72fc01ca933d9b25" category="paragraph">在此示例的当前活动 ILM 策略中，属于其他租户的对象将使用数据中心 1 和 2 的存储池中的两个复制副本进行保护。在新建议的 ILM 策略中，属于其他租户的对象将使用数据中心 1 ， 2 和 3 的存储池中的三个复制副本进行保护。</block>
  <block id="3a1286f48827aefdb228030b25d7e5c6" category="list-text">如果租户 A 以外的任何租户载入新对象， StorageGRID 将创建三个副本并在每个数据中心保存一个副本。</block>
  <block id="a952760d80fdd81a59d56c90edcf714f" category="list-text">属于这些其他租户的现有对象将在进行中的 ILM 扫描过程中重新评估。由于数据中心 1 和数据中心 2 上的现有对象副本仍然满足新 ILM 规则的复制要求，因此 StorageGRID 只需要为数据中心 3 创建一个新的对象副本。</block>
  <block id="bf54147b72e20d744da21de550501402" category="section-title">激活此策略对性能的影响</block>
  <block id="f09b02b0d661bf7838e96ea1c9a93141" category="paragraph">激活此示例中建议的 ILM 策略后，此 StorageGRID 系统的整体性能将暂时受到影响。要为租户 A 的现有对象创建新的纠删编码片段，并在数据中心 3 为其他租户的现有对象创建新的复制副本，需要的网格资源级别高于正常水平。</block>
  <block id="7ecae294ee33a90808d9840a926420a3" category="paragraph">由于 ILM 策略发生更改，客户端读取和写入请求可能会暂时出现比正常延迟高的情况。在整个网格中完全实施放置说明后，延迟将恢复到正常水平。</block>
  <block id="7cef57774b0fe441185fcc5cdd6b9574" category="paragraph">要在激活新 ILM 策略时避免资源问题，您可以在可能更改大量现有对象位置的任何规则中使用 " 载入时间 " 高级筛选器。将载入时间设置为大于或等于新策略生效的大致时间，以确保现有对象不会发生不必要的移动。</block>
  <block id="7b9d38ecd5d0d60443ca44429b61086a" category="admonition">如果在 ILM 策略更改后需要降低或提高对象的处理速度，请联系技术支持。</block>
  <block id="5c8e5d1b8c6e014aab49441a6d869f35" category="summary">在激活测试对象并将其应用于生产数据之前，您应先模拟建议的策略。模拟窗口提供了一个独立的环境，可在激活策略并将其应用于生产环境中的数据之前安全地对策略进行测试。</block>
  <block id="99e8d3b3797886201ae523062232d70a" category="doc">模拟 ILM 策略</block>
  <block id="6ab85c60eefbed02de04100f1e8481d4" category="list-text">您知道要测试的每个对象的 S3 存储分段 / 对象密钥或 Swift 容器 / 对象名称，并且您已输入这些对象。</block>
  <block id="4e81462f606a2c81c325902d9eab0e79" category="paragraph">您必须仔细选择要测试建议策略的对象。要全面模拟策略，您应至少为每个规则中的每个筛选器测试一个对象。</block>
  <block id="58ac20bd4c97c9d95cb7e1658a31a8d2" category="paragraph">例如，如果某个策略包含一个规则来匹配存储分段 A 中的对象，另一个规则来匹配存储分段 B 中的对象，则必须从存储分段 A 中至少选择一个对象，并从存储分段 B 中选择一个对象来全面测试该策略。您还必须从另一个存储分段中至少选择一个对象，以测试默认规则。</block>
  <block id="baa551a3984f740d267b85b2aa618d59" category="paragraph">模拟策略时，应考虑以下注意事项：</block>
  <block id="e943a683e4bc678fbacc8f0950b459d0" category="list-text">更改策略后，保存建议的策略。然后，模拟已保存的建议策略的行为。</block>
  <block id="6eb844c7e0b18763cec35eda27a1a927" category="list-text">模拟策略时，策略中的 ILM 规则会筛选测试对象，以便您可以查看对每个对象应用了哪个规则。但是，不会创建任何对象副本，也不会放置任何对象。运行模拟不会以任何方式修改数据，规则或策略。</block>
  <block id="94a18588293fa3b9e220b54c2e194e48" category="list-text">"Simulation" 页面会保留您测试的对象，直到您关闭，导航或刷新 "ILM Policies" 页面为止。</block>
  <block id="053e7a2fab96b1b148cc05308eff823e" category="inline-image-macro">更多详细信息图标</block>
  <block id="d4a9bb239f92d738dbb0a23a4baa796e" category="list-text">Simulation 将返回匹配规则的名称。要确定哪个存储池或擦除编码配置文件有效，您可以通过选择规则名称或更多详细信息图标来查看保留图 <block ref="52124302077bf955709b32abf28c8098" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="aa45eb825f185ba0359bbd46224f1114" category="list-text">如果启用了 S3 版本控制，则只会根据对象的当前版本模拟策略。</block>
  <block id="fe69dce3c6ef8c1e501b1da0395a30e3" category="list-text">选择并排列规则，然后保存建议的策略。</block>
  <block id="2c14f904c8e7715aee47c419122b145b" category="paragraph">此示例中的策略有三个规则：</block>
  <block id="d7778d0c64b6ba21494c97f77a66885a" category="cell">筛选器</block>
  <block id="14afb99031df532ee04cfbaba6ca6f6a" category="cell">副本类型</block>
  <block id="7f6d38d7d0f6e5ede0664468079dfb06" category="cell">Retention</block>
  <block id="447c25b8b7ea78890a2494cc3ef0cfed" category="paragraph">X-men</block>
  <block id="dd1fdbe44eab32cd4d57a0b255f010ea" category="list-text">用户元数据（系列 =x-men ）</block>
  <block id="cef71010cd6912e25652e6b952601ce3" category="paragraph">在两个数据中心创建 2 个副本</block>
  <block id="da7e60c600159e2ccabbfea4d6a2c242" category="paragraph">2 年</block>
  <block id="02635b673cf49433707cca859b012e59" category="paragraph">PNGs</block>
  <block id="463dd2378a62ac895bcd4def07bcd2c4" category="paragraph">密钥以 .png 结尾</block>
  <block id="5e5243c97d5165be4e9bcf22ce38545f" category="paragraph">5 年</block>
  <block id="aeb5c90b41ee728a30a1b8fd454122b4" category="paragraph">两个副本两个数据中心</block>
  <block id="97055d265770c78728090b115bd87fcd" category="paragraph">永久</block>
  <block id="e1161bd181a0b5f213008701310dab4b" category="image-alt">ILM 策略查看建议的</block>
  <block id="b4ecc1c3bb0b867533da749af90e76da" category="list-text">使用 S3 或 Swift 客户端或 <block ref="c89e27895a4ce5e62ba667d798fb9464" category="inline-xref-macro-rx"></block>（可在租户管理器中为每个租户提供），载入测试每个规则所需的对象。</block>
  <block id="9bacd08fd37607d1935d93f2b3a312b6" category="list-text">选择 * 模拟 * 。</block>
  <block id="67dd748d23a0db24c1c74e3288569184" category="paragraph">此时将显示模拟 ILM 策略对话框。</block>
  <block id="4536f619abd73e5f027be62eace08538" category="list-text">在 * 对象 * 字段中，输入测试对象的 S3 存储分段 / 对象密钥或 Swift 容器 / 对象名称，然后选择 * 模拟 * 。</block>
  <block id="692efedf25474032d8ebffa113536223" category="paragraph">如果指定的对象尚未被载入，则会显示一条消息。</block>
  <block id="e35a74cfcfbc517153c6c842b103c961" category="image-alt">指定缺少对象时的消息</block>
  <block id="db090e856713ee36a50f241ff4dc6a69" category="list-text">在 * 模拟结果 * 下，确认每个对象都符合正确的规则。</block>
  <block id="11679dde6696042b027eec58653c2a22" category="paragraph">在此示例中， X-men 规则正确匹配了 `Havok.png` 和 `Warpath.jpg` 对象。不包括 `series=x-men` 用户元数据的 `Fullsteap.png` 对象未与 X-men 规则匹配，但已通过 PNGs 规则正确匹配。未使用默认规则，因为这三个对象都与其他规则匹配。</block>
  <block id="33eda4387378acb6f08b2a66be5b68b9" category="image-alt">模拟结果</block>
  <block id="57502d69cd27553f852c6eb1f23e4ec9" category="section-title">示例 1 ：模拟建议的 ILM 策略时验证规则</block>
  <block id="9f7d26d7b3c139c89c34335604ec9cb2" category="paragraph">此示例显示了在模拟建议的策略时如何验证规则。</block>
  <block id="2ceb69102e4e7fdc4a66142312465883" category="paragraph">在此示例中，正在针对两个分段中的输入对象模拟 * 示例 ILM 策略 * 。此策略包括三个规则，如下所示：</block>
  <block id="cb376ae2ed6eca17480e8fbcc90d2e45" category="list-text">第一条规则 * 两个副本，即 bucket-A* 两年，仅适用于 bucket-a 中的对象</block>
  <block id="e3a13787401962467cfdf0b47cdebf4a" category="list-text">第二条规则 * EC 对象 &gt; 1 MB* ，适用场景 all b桶 but filters on objects 大于 1 MB 。</block>
  <block id="dfdc9be5fd89ca1bf5dc06fc73945098" category="list-text">第三条规则为 * 两个副本，两个数据中心 * 。它不包含任何筛选器，也不使用非当前参考时间。</block>
  <block id="6a95ec2bb9adc6a8d6addd08d63b3b2a" category="image-alt">已保存模拟策略</block>
  <block id="01261da95df61995f7b92c0b71b7e9bb" category="list-text">添加规则并保存策略后，选择 * 模拟 * 。</block>
  <block id="80f08fc80a8dd0981e83edb07b898686" category="paragraph">此时将显示模拟 ILM 策略对话框。</block>
  <block id="c343fad50fd40e8821efc9e56be9832e" category="paragraph">此时将显示模拟结果，其中显示了策略中与您测试的每个对象匹配的规则。</block>
  <block id="f73d18b9e66410e8ef4952878eefc6f3" category="image-alt">模拟策略屏幕</block>
  <block id="4a28e4aebf86a2cf9fd8daf85cc60868" category="list-text">确认每个对象均已使用正确的规则进行匹配。</block>
  <block id="253311bb9297fba5dd74c739949360f6" category="list-text">`bucket-A/bucket-a object.pdf` 与第一个规则正确匹配，该规则会对 `bucket-A` 中的对象进行筛选。</block>
  <block id="6cb7bc74e2efc2b326f51564314703a2" category="list-text">`bucket-b/test 对象大于 1 mb.pdf` 位于 `bucket-b` 中，因此与第一条规则不匹配。而是通过第二条规则正确匹配，该规则会对大于 1 MB 的对象进行筛选。</block>
  <block id="4014184d886eb873b9232839ee2a126a" category="list-text">`bucket-b/test 对象小于 1 mB.pdf` 与前两个规则中的筛选器不匹配，因此它将由默认规则放置，该规则不包含任何筛选器。</block>
  <block id="2f5554530d8de8e732117c29f43925d8" category="section-title">示例 2 ：模拟建议的 ILM 策略时重新排列规则</block>
  <block id="f96e65a452ffd5bf326d12367b3d0313" category="paragraph">此示例显示了在模拟策略时如何重新排列规则以更改结果。</block>
  <block id="31debd964bb20bc4280c067ce64c7d04" category="paragraph">在此示例中，正在模拟 * 演示 * 策略。此策略用于查找具有 series=x-men 用户元数据的对象，它包含以下三个规则：</block>
  <block id="389e01574f8f8d5284edc00217e66ca0" category="list-text">第一个规则 * PNGs* 会筛选以 ` .png` 结尾的密钥名称。</block>
  <block id="90d321107c37b3701821fe810d12a099" category="list-text">第二条规则 * X-men* 仅适用于租户 A 的对象以及 `series=x-men` 用户元数据的筛选器。</block>
  <block id="8ee2b40797491c6c3489aed930b21b59" category="list-text">最后一条规则 * 两个副本两个数据中心 * 是默认规则，它匹配与前两个规则不匹配的任何对象。</block>
  <block id="681291c897a81411e80e3024fd9f4b43" category="image-alt">示例 2 ：模拟建议的 ILM 策略时对规则重新排序</block>
  <block id="ee48b18f5d5384d8ed8371d8fb750146" category="paragraph">此时将显示模拟结果，其中显示 `Havok.png` 对象与 * PNGs* 规则匹配。</block>
  <block id="fa3b92e487d269626f6ae433b35390f6" category="paragraph">但是， `Havok.png` 对象用于测试的规则是 * X-men* 规则。</block>
  <block id="91a43641b6489d97e3d00ec9688c06a2" category="list-text">要解析问题描述 ，请对规则重新排序。</block>
  <block id="feb6509feb89bcb9ababf7bc11b9d17b" category="list-text">选择 * 完成 * 以关闭模拟 ILM 策略页面。</block>
  <block id="b262058a05d9a5c1db5cd7a9fefa76fe" category="list-text">选择 * 编辑 * 以编辑策略。</block>
  <block id="81a0f7a9722014949101df58c71cdf8a" category="list-text">将 *X-men* 规则拖动到列表顶部。</block>
  <block id="a955eb7091ae63dc3b9e227f1b387114" category="image-alt">模拟 - 重新排列规则 - 更正规则</block>
  <block id="5f926f473e6d72475aca83b14653dcae" category="paragraph">系统会根据更新后的策略重新评估先前测试的对象，并显示新的模拟结果。在此示例中， Rule matched 列显示 `Havok.png` 对象现在与 X-men 元数据规则匹配，如预期。上一个匹配列显示 PNGs 规则与上一个模拟中的对象匹配。</block>
  <block id="1530bdc72bb66a02b3111a6bdab6fe93" category="admonition">如果您停留在配置策略页面上，则可以在进行更改后重新模拟策略，而无需重新输入测试对象的名称。</block>
  <block id="aab8902b188108c694b0da501ec41f3d" category="section-title">示例 3 ：模拟建议的 ILM 策略时更正规则</block>
  <block id="dfc743b75d09d0c8c6a2e5b83cd55323" category="paragraph">此示例显示了如何模拟策略，更正策略中的规则以及继续模拟。</block>
  <block id="de99568747948410efcfbfafd09672ea" category="paragraph">在此示例中，正在模拟 * 演示 * 策略。此策略用于查找具有 `series=x-men` 用户元数据的对象。但是，在针对 `Beast.jpg` 对象模拟此策略时，会出现意外结果。该对象与默认规则匹配，而不是与 X-men 元数据规则匹配，而是复制两个数据中心。</block>
  <block id="a8a99c3f66a114288ed18024ac045ad2" category="image-alt">示例 3 ：模拟建议的 ILM 策略时更正规则</block>
  <block id="3096d0084837dba006b5704e84a9b5b9" category="paragraph">如果测试对象与策略中的预期规则不匹配，则必须检查策略中的每个规则并更正任何错误。</block>
  <block id="5e97fd72aeebc51180ba1e2c6ca969bc" category="list-text">对于策略中的每个规则，选择规则名称或更多详细信息图标以查看规则设置 <block ref="52124302077bf955709b32abf28c8098" category="inline-image-macro-rx" type="image"></block> 显示规则的任何对话框上。</block>
  <block id="dd68e88c2b677249ca54d79ccc88eb2b" category="list-text">查看规则的租户帐户，参考时间和筛选条件。</block>
  <block id="de098a3472ec3315d5ff800ee03e3fa8" category="paragraph">在此示例中， X-men 规则的元数据包含错误。元数据值输入为 "`x-men1` " ，而不是 "`x-men.` "</block>
  <block id="1e62a14e25d94babfbd380150a3dde12" category="list-text">要解决此错误，请按如下所示更正此规则：</block>
  <block id="6ba34fc163d15e76cb0fb4d61fefc046" category="list-text">如果规则是建议策略的一部分，则可以克隆此规则，也可以从策略中删除此规则，然后对其进行编辑。</block>
  <block id="49962b770639ee600e303e221ab788f0" category="list-text">如果规则是活动策略的一部分，则必须克隆此规则。您不能编辑活动策略中的规则或将其从活动策略中删除。</block>
  <block id="67ab44dce5219bf2c26c0c581f89b3a5" category="paragraph">克隆规则</block>
  <block id="a8902a7acc3e3019f922c51195a24ec3" category="list-text">选择不正确的规则，然后选择 * 克隆 * 。</block>
  <block id="35a8e399be759ef133520e36f7d28d70" category="list-text">更改不正确的信息，然后选择 * 保存 * 。</block>
  <block id="952b3cb6392c836b3b0eb9018293808b" category="list-text">选择 * ILM * &gt; * 策略 * 。</block>
  <block id="c1dc70ce8e51607091194b36bede7004" category="list-text">选择建议的策略，然后选择 * 编辑 * 。</block>
  <block id="3f2208ffc09af26a1a8be94ddd5a3684" category="list-text">选择 * 选择规则 * 。</block>
  <block id="8e57a8f6c9ed149b72e23b06ac27d030" category="list-text">选中新规则的复选框，取消选中原始规则的复选框，然后选择 * 应用 * 。</block>
  <block id="2087f197c984a5841b78f236fc8ca9f4" category="paragraph">编辑规则</block>
  <block id="de5a6d323012551690dfb67fc9028ba7" category="list-text">选择删除图标 <block ref="ae4b0d0edca14814d378e9b1121d1fb3" category="inline-image-macro-rx" type="image"></block> 要删除不正确的规则，请选择 * 保存 * 。</block>
  <block id="b5132eb7cab6360f69ad334535ed9ede" category="list-text">选择不正确的规则，然后选择 * 编辑 * 。</block>
  <block id="cc4625cd368ac81ec0bafdaf49892326" category="list-text">选择更正后的规则，选择 * 应用 * ，然后选择 * 保存 * 。</block>
  <block id="856cdcbcc21e6e12cd0f4eff293f6c7a" category="list-text">再次执行模拟。</block>
  <block id="3993bfce13459e0756303a47f96a9425" category="admonition">由于您导航出 "ILM Policies" 页面以编辑此规则，因此先前为模拟输入的对象将不再显示。您必须重新输入对象的名称。</block>
  <block id="d124b48f42e71b0d6dd0dcdf21a89ed5" category="paragraph">在本示例中，更正后的 X-men 规则现在会根据 `series=x-men` 用户元数据与 `Beast.jpg` 对象匹配，如预期。</block>
  <block id="e762d0c762bcc87678d0e3a9d50a075b" category="summary">StorageGRID 可以直接响应客户端请求删除对象，也可以因 S3 存储分段生命周期到期或 ILM 策略要求而自动删除对象。了解可删除对象的不同方式以及 StorageGRID 如何处理删除请求有助于您更有效地管理对象。</block>
  <block id="845b70f5faea6e7a442ad3e8773a0945" category="doc">如何删除对象</block>
  <block id="0367de356ced721f2c1e92da9aa98298" category="paragraph">StorageGRID 可以使用以下两种方法之一删除对象：</block>
  <block id="6f00aba503e9e326ea41856448a65dc9" category="list-text">同步删除：当 StorageGRID 收到客户端删除请求时，将立即删除所有对象副本。删除副本后，系统会通知客户端删除操作成功。</block>
  <block id="d91ada0ac5ceb626a2debf0e4929549c" category="list-text">对象将排队等待删除：当 StorageGRID 收到删除请求时，该对象将排队等待删除，并且系统会立即通知客户端删除已成功。对象副本稍后将通过后台 ILM 处理进行删除。</block>
  <block id="eb572e30af6b1fdabc805c4e06bc0284" category="paragraph">删除对象时， StorageGRID 会使用方法来优化删除性能，最大限度地减少潜在的删除积压并以最快的速度释放空间。</block>
  <block id="628f5cf2550c98225e641bacab6db515" category="paragraph">下表总结了 StorageGRID 何时使用每种方法。</block>
  <block id="40c3012bb973e62ccc546e8afd3d8c69" category="cell">执行删除的方法</block>
  <block id="6eb41a5158360001c1c3220e5b835719" category="cell">使用时</block>
  <block id="fe75df0872d47b22dc2b39ef5f11051a" category="paragraph">对象已排队等待删除</block>
  <block id="be3960aa9de1cfd2255d08b69b94ce0f" category="paragraph">当满足以下条件中的 * 任意 * 时：</block>
  <block id="a0daf13f90e9e4c841ae855a62b0c021" category="list-text">以下事件之一已触发自动对象删除：</block>
  <block id="a2d3679c70e026ffae43ace2b4963adc" category="list-text">已达到 S3 存储分段的生命周期配置中的到期日期或天数。</block>
  <block id="53e329dc52d865c47906551819b10435" category="list-text">ILM 规则中指定的最后一个时间段已过。</block>
  <block id="69af5ff402663cce73258adac397e83a" category="paragraph">* 注意： * 如果已启用 S3 对象锁定的存储分段中的对象处于合法保留状态，或者已指定保留日期但尚未满足，则无法删除这些对象。</block>
  <block id="72e82bd58b8ecfac113eef2c0ee550f4" category="list-text">S3 或 Swift 客户端请求删除，但其中一个或多个条件为 true ：</block>
  <block id="7285571bf0c57841238774a2e2a337da" category="list-text">无法在 30 秒内删除副本，因为对象位置暂时不可用。</block>
  <block id="0e5cb77614b01a66a3f814bfb693091a" category="list-text">后台删除队列处于空闲状态。</block>
  <block id="4cbaef4edae88cbcc55cad388bf8da01" category="paragraph">立即删除对象（同步删除）</block>
  <block id="4f0611eea0d97c6b819496dd6f5eb322" category="paragraph">当 S3 或 Swift 客户端发出删除请求且满足以下 * 所有 * 条件时：</block>
  <block id="5abbec97c024d97e054dc1a1f3aadf22" category="list-text">可以在 30 秒内删除所有副本。</block>
  <block id="798cf94d282a32775392d6be1efe8bdc" category="list-text">后台删除队列包含要处理的对象。</block>
  <block id="7e65b67c6a0dfe5d94f723f5105cde09" category="paragraph">当 S3 或 Swift 客户端发出删除请求时， StorageGRID 首先会向删除队列添加多个对象。然后，它会切换到执行同步删除。确保后台删除队列包含要处理的对象，这样 StorageGRID 可以更高效地处理删除，尤其是对于低并发性客户端，同时有助于防止客户端删除积压。</block>
  <block id="b42ff66450812e6b75aa0acef07ff48d" category="section-title">删除对象需要多长时间</block>
  <block id="19707cde186b769c190acbf5fd50fae1" category="paragraph">StorageGRID 删除对象的方式可能会影响系统的执行方式：</block>
  <block id="72fc6e1c2910be716e711df0d5c0c89f" category="list-text">当 StorageGRID 执行同步删除时， StorageGRID 可能需要长达 30 秒才能将结果返回给客户端。这意味着删除的速度可能会更慢，即使副本的实际删除速度比 StorageGRID 将对象排队等待删除时要快。</block>
  <block id="b80340911db12cb9d77a599dc9d21b6a" category="list-text">如果您在批量删除期间密切监控删除性能，则可能会注意到删除了一定数量的对象后，删除率似乎会变慢。当 StorageGRID 从对要删除的对象进行排队转移到执行同步删除时，会发生此更改。删除率明显降低并不意味着删除对象副本的速度较慢。相反，它表明平均而言，空间释放速度更快。</block>
  <block id="d8b8d112bac24065453ac064bd623603" category="paragraph">如果要删除大量对象，并且您的优先级是快速释放空间，请考虑使用客户端请求删除对象，而不是使用 ILM 或其他方法删除这些对象。通常，当客户端执行删除时，空间释放速度会更快，因为 StorageGRID 可以使用同步删除。</block>
  <block id="073dc52a145f42ef08ba9285e7f27325" category="paragraph">请注意，删除对象后释放空间所需的时间取决于多种因素：</block>
  <block id="a95eb5d5d9592b739c0ecff82499088a" category="list-text">对象副本是同步删除还是稍后排队等待删除（对于客户端删除请求）。</block>
  <block id="c5b250104c750db51af328cda91fa0af" category="list-text">其他因素包括网格中的对象数或对象副本排队等待删除时网格资源的可用性（对于客户端删除和其他方法）。</block>
  <block id="e226403172953bd7e5c34989260a72a8" category="section-title">如何删除受版本控制的 S3 对象</block>
  <block id="fa388bd70730f2af9a6646fb1b2c8838" category="paragraph">如果为 S3 存储分段启用了版本控制，则无论这些请求来自 S3 客户端， S3 存储分段生命周期到期还是 ILM 策略要求， StorageGRID 都会在响应删除请求时遵循 Amazon S3 的行为。</block>
  <block id="ed82ad80a1048b900e7f76503e977d9f" category="paragraph">对对象进行版本控制时，对象删除请求不会删除对象的当前版本，也不会释放空间。相反，对象删除请求只会创建一个删除标记作为对象的当前版本，从而使先前版本的对象 "`noncurrent.` " 成为非最新版本。</block>
  <block id="de38396684e8fc60e4bfc2d5ed53d106" category="paragraph">即使尚未删除此对象， StorageGRID 的行为仍会使当前版本的对象不再可用。对该对象的请求将返回 404 NotFound 。但是，由于未删除非当前对象数据，因此指定非当前对象版本的请求可能会成功。</block>
  <block id="50d34d20d341954f9a36467501c869bb" category="paragraph">要在删除受版本控制的对象时释放空间，必须执行以下操作之一：</block>
  <block id="433d046c176a5dd8f2b6f55b40bdb035" category="list-text">* S3 客户端请求 * ：在 S3 删除对象请求中指定对象版本号（ `Delete /object ？ versionId=ID` ）。请注意，此请求仅删除指定版本的对象副本（其他版本仍占用空间）。</block>
  <block id="ed0747785af3eb0c1b8978e132d0f732" category="list-text">* 分段生命周期 * ：在分段生命周期配置中使用 `NoncurrentVersionExpiration` 操作。满足指定的非当前磁盘数后， StorageGRID 将永久删除非当前对象版本的所有副本。无法恢复这些对象版本。</block>
  <block id="08d2f9b396364c550456c41a27a36119" category="list-text">* ILM ：向 ILM 策略添加两个 ILM 规则。在第一个规则中使用 * 非当前时间 * 作为参考时间，以匹配对象的非当前版本。在第二个规则中使用 * 载入时间 * 以匹配当前版本。必须在 * 载入时间 * 规则上方的策略中显示 * 非当前时间 * 规则。</block>
  <block id="360a38e13e811ec4e398461f647a3531" category="inline-xref-macro">示例 4 ： S3 版本对象的 ILM 规则和策略</block>
  <block id="964fe564973801d86fd491b856e02daf" category="list-text"><block ref="964fe564973801d86fd491b856e02daf" category="inline-xref-macro-rx"></block></block>
  <block id="d3959f9aa2d0836b78012fc7a1c7432d" category="summary">将 ILM 规则添加到建议的 ILM 策略，模拟该策略并确认其行为符合预期后，您便可激活建议的策略。</block>
  <block id="e04972830fabac6c8aa9b3b873d41a80" category="doc">激活 ILM 策略</block>
  <block id="06598c0d73979b5a51a3d1f9d69ed31c" category="list-text">您已保存并模拟建议的 ILM 策略。</block>
  <block id="5e8e3c0fb6cd4616eb41268c7d8cf79c" category="paragraph">激活 ILM 策略时，系统会将新策略分发到所有节点。但是，只有在所有网格节点均可接收新策略之后，新的活动策略才会实际生效。在某些情况下，系统会等待实施新的活动策略，以确保不会意外删除网格对象。</block>
  <block id="004aa1e85c96174debee1301160f93fe" category="list-text">如果进行策略更改以提高数据冗余或持久性，则这些更改将立即实施。例如，如果您激活包含三个副本规则而不是双个副本规则的新策略，则该策略将立即实施，因为它会增加数据冗余。</block>
  <block id="b848f15bd549be61bbcac7724171da1f" category="list-text">如果进行的策略更改可能会降低数据冗余或持久性，则只有在所有网格节点均可用后，这些更改才会实施。例如，如果您激活的新策略使用的是双副本规则，而不是三副本规则，则新策略将标记为 "`Active ，` " ，但只有在所有节点联机且可用后，它才会生效。</block>
  <block id="96d7721467c3ecdee5ad34862f39e49e" category="list-text">准备好激活建议的策略后，请在 "ILM Policies" 页面上选择该策略并选择 * 激活 * 。</block>
  <block id="33d176ccf2d5cbfddf0a210223241372" category="paragraph">此时将显示一条警告消息，提示您确认是否要激活建议的策略。</block>
  <block id="eebdc8136c591948a6fe6c7241517cac" category="image-alt">激活策略之前显示警告</block>
  <block id="b8c4a97d7bbe767a47f2a5b53699a2b3" category="paragraph">如果策略的默认规则不会永久保留对象，则警告消息中会显示一条提示。在此示例中，保留示意图显示默认规则将在 2 年后删除对象。您必须在文本框中键入 *2* ，以确认策略中未与其他规则匹配的任何对象将在 2 年后从 StorageGRID 中删除。</block>
  <block id="1c7bd87e553711528838b78be0dd462a" category="image-alt">ILM Policy Default Rule not forever 提示符</block>
  <block id="c2380c1db41a6d9080012c7f696772dc" category="paragraph">激活新的 ILM 策略后：</block>
  <block id="cbb0640d2bfc02cfa5df26a01f1f0a2f" category="list-text">此策略在 "ILM Policies" 页面上的表中显示为 "Policy State Active" 。" 开始日期 " 条目指示策略的激活日期和时间。</block>
  <block id="fc74070873e57af1176405c9b0d62767" category="image-alt">ILM 策略—活动和历史</block>
  <block id="4a384cf720a728473bc6bd334c3922f8" category="list-text">此时将显示先前活动的策略，并且策略状态为 " 历史 " 。" 开始日期 " 和 " 结束日期 " 条目用于指示策略何时处于活动状态以及何时不再有效。</block>
  <block id="519dfe3348a4c9f05cd9b7b2c4e0f66b" category="paragraph"><block ref="519dfe3348a4c9f05cd9b7b2c4e0f66b" category="inline-xref-macro-rx"></block></block>
  <block id="2640b7b7428ac8a781c73c16c20b2549" category="summary">通过创建 ILM 规则向导的第 3 步 \ （定义载入行为 \ ），您可以选择在载入时如何保护按此规则筛选的对象。</block>
  <block id="3abc5f824bfd447cf22f1dfe8e00af11" category="doc">第 3 步，共 3 步：定义载入行为</block>
  <block id="4ed77fd94d278b77d7357eade6c731ac" category="paragraph">通过创建 ILM 规则向导的第 3 步（定义载入行为），您可以选择在载入时如何保护按此规则筛选的对象。</block>
  <block id="d40787885c9359b9b497350211614aef" category="paragraph">StorageGRID 可以创建临时副本并将对象排入队列，以便稍后进行 ILM 评估，也可以立即创建副本以满足规则的放置说明。</block>
  <block id="3835606ab5640a64f957381b80f1f888" category="image-alt">创建 ILM 规则第 3 步，共 3 步</block>
  <block id="957e7bc1e33ef875cbf7358c634bc957" category="list-text">选择要在载入对象时使用的数据保护选项：</block>
  <block id="2e979835dd62324f5bfe217449ba4974" category="paragraph">严格</block>
  <block id="996d8cbda2a738afffc6940f0205ad37" category="paragraph">在载入时始终使用此规则的放置位置。如果无法放置此规则，则载入将失败。</block>
  <block id="6a3ddf0edb92319edd995e6d0298a924" category="paragraph">最佳 ILM 效率。尝试在载入时放置此规则。如果无法创建中间副本，请创建此副本。</block>
  <block id="b098b2bd3c1457d9a9ace7192514892e" category="paragraph">双提交</block>
  <block id="82941b2b6e89e14836ce100faee67a45" category="paragraph">在载入时创建中间副本，并稍后应用此规则的放置位置。</block>
  <block id="8ceb9c7aa911c0ba175e10095bc3fc75" category="paragraph">Balanced 结合了数据安全性和效率，在大多数情况下都适用。" 严格 " 或 " 双重提交 " 通常用于满足特定要求。</block>
  <block id="c8f54c2450c4b13d3fd48e975c664c28" category="inline-xref-macro">数据保护选项的优势，劣势和限制</block>
  <block id="a7cd49dc2149818e183123549e8ddb9e" category="paragraph">请参见 <block ref="a4bc7635c4f41e60137bf6f67d020208" category="inline-xref-macro-rx"></block> 和 <block ref="26a039b23b7571b6e075db8f207eaca8" category="inline-xref-macro-rx"></block> 有关详细信息 ...</block>
  <block id="61b22e50baff732bc793f14598298396" category="paragraph">如果选择 " 严格 " 或 " 平衡 " 选项，并且规则使用以下放置之一，则会显示一条错误消息：</block>
  <block id="caa441e170a555d7fb91a29951e2562e" category="list-text">第 0 天的云存储池</block>
  <block id="9581a45c29bec1a238217acf0db97fd5" category="list-text">日期为 0 的归档节点</block>
  <block id="069747883dbb61b8696a0921112a0a3e" category="list-text">当规则使用用户定义的创建时间作为参考时间时，则为云存储池或归档节点</block>
  <block id="e393ff0f9a63228b9ddae91a54923776" category="paragraph">此时将保存 ILM 规则。在将规则添加到 ILM 策略并激活该策略之前，该规则不会变为活动状态。</block>
  <block id="f8d4e8ff20436c0069dea3a041c2270d" category="inline-xref-macro">示例 5 ：用于严格载入行为的 ILM 规则和策略</block>
  <block id="1f8a4356777bd32b245f8a45289fb42d" category="list-text"><block ref="1f8a4356777bd32b245f8a45289fb42d" category="inline-xref-macro-rx"></block></block>
  <block id="914dfd73a35aac1864042c4312f31a4a" category="summary">您可以删除未在 ILM 规则中使用且不包含对象数据的云存储池。</block>
  <block id="b5528ea1dfeb36e261092a64d71cb824" category="doc">删除云存储池</block>
  <block id="ddce561e33ffde44c7699f27da03aef0" category="inline-xref-macro">对云存储池进行故障排除</block>
  <block id="f17fafe018ba57c9d28a5d712845f516" category="list-text">您已确认 S3 存储分段或 Azure 容器不包含任何对象。如果您尝试删除包含对象的云存储池，则会发生错误。请参见 <block ref="bb5aefcce9975fdd0e1f5f9a5d870ffc" category="inline-xref-macro-rx"></block>。</block>
  <block id="fb22caad9ce1ce7df60b254e9843ea68" category="admonition">创建云存储池时， StorageGRID 会将标记文件写入存储分段或容器，以将其标识为云存储池。请勿删除名为 `x-ntap-sgws-cloud pool-uuid` 的文件。</block>
  <block id="40b769f56068ef212802711ac55f94d1" category="list-text">您已删除可能已使用此池的任何 ILM 规则。</block>
  <block id="a09fe5751ee26ac66a4afeedf81f8d74" category="list-text">选择 ILM 规则中当前未使用的云存储池的单选按钮。</block>
  <block id="31f03fb72b93281c5bff615a13ccd857" category="paragraph">如果在 ILM 规则中使用云存储池，则无法将其删除。已禁用 * 删除 * 按钮。</block>
  <block id="940ea6c5b19f2cd1ae98ffc6073dbdd7" category="image-alt">ILM 规则中使用的云存储池</block>
  <block id="67cb4b86458591b1fb3171d8c7e60494" category="paragraph">此时将显示确认警告。</block>
  <block id="6ab086bb87be077e0ab4f22d46732038" category="image-alt">删除云存储池</block>
  <block id="4fb1f7bd6499562889e9ac23921543fb" category="paragraph">此时将删除云存储池。</block>
  <block id="468d9f025fb0cbf51c545b247fdbd266" category="summary">在创建 ILM 策略之前，您必须创建一个默认规则，以便将其他规则不匹配的任何对象放置在此策略中。默认规则不能使用任何筛选器。它必须应用于所有租户，所有分段和所有对象版本。</block>
  <block id="065c94aa7b5cbcd9550c5a3285d65966" category="paragraph">在创建 ILM 策略之前，您必须创建一个默认规则，以便将其他规则不匹配的任何对象放置在此策略中。默认规则不能使用任何筛选器。它必须应用于所有租户，所有分段和所有对象版本。</block>
  <block id="bb3b8a0ecfec4b8e77b57799f2730f50" category="paragraph">默认规则是 ILM 策略中最后评估的规则，因此它不能使用任何筛选器或非当前参考时间。默认规则的放置说明将应用于策略中其他规则不匹配的任何对象。</block>
  <block id="aaa812de5659b363b969b68227be9360" category="paragraph">在此示例策略中，第一个规则仅适用于属于租户 A 的对象默认规则，即属于所有其他租户帐户的适用场景 对象的最后一个规则。</block>
  <block id="30b045f6265e435f0dc91fef6dddb6b2" category="image-alt">ILM 策略页面默认规则</block>
  <block id="2ea8f93644ba8cbb23a8a6bcf4613246" category="paragraph">创建默认规则时，请记住以下要求：</block>
  <block id="af4a04c9384ebde6ca7abd474011de05" category="list-text">默认规则会自动作为策略中的最后一条规则放置。</block>
  <block id="6121f538a9fd2a3114b1b192eea36e1e" category="list-text">默认规则不能使用任何基本或高级筛选器。</block>
  <block id="ec8c09ec6969149a984c8c93cc808a42" category="list-text">默认规则必须应用于所有对象版本，因此不能使用非当前时间参考时间。</block>
  <block id="44abec39568ebc0dcaf427a2e1f5e660" category="list-text">默认规则应创建复制的副本。</block>
  <block id="5f7be4fd0cc0da3d4169c22725a0926e" category="admonition">请勿使用创建纠删编码副本的规则作为策略的默认规则。纠删编码规则应使用高级筛选器，以防止对较小的对象进行纠删编码。</block>
  <block id="f73884dc6e486f1a2f6fb6705e7db65c" category="list-text">通常，默认规则应永久保留对象。</block>
  <block id="177379e735cb99dceb8a0adf6d7bdd95" category="list-text">如果您正在使用（或计划启用）全局 S3 对象锁定设置，则活动策略或建议策略的默认规则必须合规。</block>
  <block id="a3dfa54153ccf2586129778866a7fc30" category="paragraph">此时将显示 "ILM Rules" 页面。</block>
  <block id="099b004707bfd06bf2cf13f4d02ba610" category="paragraph">此时将显示创建 ILM 规则向导的第 1 步（定义基础知识）。</block>
  <block id="2e9f6aebf7971aaa5ed011f56029be26" category="list-text">在 * 名称 * 字段中输入规则的唯一名称。</block>
  <block id="4f768d493ca8b4476768175305e0c0ed" category="list-text">或者，也可以在 * 问题描述 * 字段中为此规则输入一个短问题描述 。</block>
  <block id="b40516c878c67c13594fc75b3b5a8af3" category="list-text">将 * 租户帐户 * 字段留空。</block>
  <block id="6bb782f5efdd4da685e10d0495aa2718" category="paragraph">默认规则必须应用于所有租户帐户。</block>
  <block id="83dc345742d6e9207e149872d7200a9f" category="list-text">将 * 分段名称 * 字段留空。</block>
  <block id="d96135b20d90b1d0f29dce5946763d81" category="paragraph">默认规则必须应用于所有 S3 分段和 Swift 容器。</block>
  <block id="147738a46cad942cba6e4720cd478731" category="list-text">请勿选择 * 高级筛选 *</block>
  <block id="4f07ed10491d3e6fc5aa8189e1ef8b20" category="paragraph">默认规则不能指定任何筛选器。</block>
  <block id="2e0ac00e81afae220ae8eb4afb6ab38f" category="paragraph">此时将显示第 2 步（定义放置位置）。</block>
  <block id="9b6242a6a3aa5ac76ba2344dcda06e26" category="list-text">对于 Reference Time ，请选择除 * 非当前时间 * 以外的任何选项。</block>
  <block id="80fea057ccd1d6a95a9a87a48de2954e" category="paragraph">默认规则必须应用所有对象版本。</block>
  <block id="28d8b1bdabcb98ce5e3b84ff3f6c9d2c" category="list-text">指定默认规则的放置说明。</block>
  <block id="dde470ae795e4d1998296eae31301ca4" category="list-text">默认规则应永久保留对象。如果默认规则不会永久保留对象，则在激活新策略时会显示警告。您必须确认这是您期望的行为。</block>
  <block id="900b0731549c6d6de716f0e8eed0eef9" category="admonition">请勿使用创建纠删编码副本的规则作为策略的默认规则。纠删编码规则应包含大于 0.2 * 的 * 对象大小（ MB ）高级筛选器，以防止对较小的对象进行纠删编码。</block>
  <block id="e3d2f1b3114975d10ec67336bf414373" category="list-text">如果您正在使用（或计划启用）全局 S3 对象锁定设置，则默认规则必须符合：</block>
  <block id="3ce18e37771bfd16e6c2cf466f375365" category="list-text">它必须至少创建两个复制的对象副本或一个经过纠删编码的副本。</block>
  <block id="54e6cfee2c104eec09228185af8ef87b" category="list-text">这些副本必须在放置说明中每行的整个持续时间内存在于存储节点上。</block>
  <block id="2b0046f589de9322c0865ecf981e4ac0" category="list-text">对象副本无法保存在云存储池中。</block>
  <block id="62dec935ed0678c85bd83f4df735d63d" category="list-text">无法将对象副本保存在归档节点上。</block>
  <block id="1c5fe06d91aa2f0eda12a4ec9e327939" category="list-text">放置说明中至少有一行必须从第 0 天开始，并使用载入时间作为参考时间。</block>
  <block id="b10017bca2d82d565af57c9405bc3f72" category="list-text">放置说明中至少一行必须为 "`forever 。` "</block>
  <block id="752706386237ecc6ab416172f526bd56" category="list-text">选择 * 刷新 * 以更新保留示意图并确认放置说明。</block>
  <block id="ee36d67d0ddab3fa7d92344f26097d57" category="paragraph">此时将显示第 3 步（定义载入行为）。</block>
  <block id="d63a08e13ab1c6effe276057bca25ede" category="list-text">选择要在载入对象时使用的数据保护选项，然后选择 * 保存 * 。</block>
  <block id="3c9921150d05868676ef5af55da3c027" category="summary">存储池是指存储节点或归档节点的逻辑分组。您可以配置存储池以确定 StorageGRID 系统存储对象数据的位置以及使用的存储类型。</block>
  <block id="df581fdea1ff8e894eb21f92cb0136d9" category="paragraph">存储池具有两个属性：</block>
  <block id="e9d050fffe074a25547c4050be295fb2" category="list-text">* 存储级别 * ：对于存储节点，是指后备存储的相对性能。</block>
  <block id="3b29d4e32c988a7cdfb9178d510f2f27" category="list-text">* 站点 * ：要存储对象的数据中心。</block>
  <block id="18196515872067d00d81bf83a702cd50" category="paragraph">存储池用于在 ILM 规则中确定对象数据的存储位置。在为复制配置 ILM 规则时，您可以选择一个或多个包含存储节点或归档节点的存储池。在创建擦除编码配置文件时，您可以选择一个包含存储节点的存储池。</block>
  <block id="b453c74c14c3319c236dae171e1059cd" category="summary">激活 ILM 策略后，应将代表性测试对象载入 StorageGRID 系统。然后，您应执行对象元数据查找，以确认副本是按预期创建的，并放置在正确的位置。</block>
  <block id="5eef71ccf71aa09d40fcf35c74b2695d" category="doc">使用对象元数据查找验证 ILM 策略</block>
  <block id="ed26fc78adad5783891839463243350f" category="list-text">您有一个对象标识符，可以是以下项之一：</block>
  <block id="c08b30563def7c4cacdf1290a8acc1fd" category="list-text">* CBID* ： StorageGRID 中对象的唯一标识符。您可以从审核日志中获取对象的 CBID 。输入全部大写的 CBID 。</block>
  <block id="f6e0b376d62136e806f2ae7b00201e79" category="list-text">* S3 存储分段和对象密钥 * ：通过 S3 接口载入对象时，客户端应用程序使用存储和标识对象的分段和对象密钥组合。如果 S3 存储分段已版本控制，并且您希望使用存储分段和对象密钥查找特定版本的 S3 对象，则您具有 * 版本 ID* 。</block>
  <block id="fa46df3e63cca067413b8887edcd40f1" category="list-text">正在载入对象。</block>
  <block id="2105b1575cddae247f9b13649df20b07" category="list-text">在 * 标识符 * 字段中键入对象的标识符。您可以输入 UUID ， CBID ， S3 存储分段 / 对象密钥或 Swift 容器 / 对象名称。</block>
  <block id="7f57124f86f46333ee0e0968d7a25eac" category="list-text">或者，输入对象的版本 ID （仅限 S3 ）。</block>
  <block id="bd14746836c01ff5205a1e49b3b711d9" category="list-text">系统元数据，包括对象 ID （ UUID ），对象名称，容器名称，租户帐户名称或 ID ，对象的逻辑大小，首次创建对象的日期和时间以及上次修改对象的日期和时间。</block>
  <block id="afad5b47a27b5e0c8a68f100f9db3a1d" category="list-text">确认对象存储在正确的位置，并且是正确的副本类型。</block>
  <block id="c44bfedec765cdb88acedf74578a0795" category="admonition">如果启用了 Audit 选项，则还可以监控审核日志中是否显示了 "ORLM Object Rules" 消息。ORLM 审核消息可以为您提供有关 ILM 评估过程状态的详细信息，但不能为您提供有关对象数据放置是否正确或 ILM 策略是否完整的信息。您必须自己进行评估。有关详细信息，请参见 <block ref="6678ff9ab033a73c5956a0530afa2bed" category="inline-xref-macro-rx"></block>。</block>
  <block id="4c02bf0622f5ef94582cb102063240d2" category="summary">通过创建 ILM 规则向导的第 2 步 \ （定义放置位置 \ ），您可以定义放置说明，以确定对象的存储时间，副本类型（复制或擦除编码 \ ），存储位置以及副本数量。</block>
  <block id="f96e97b3fa21b1ab16490de02e77ba26" category="doc">第 2 步，共 3 步：定义放置位置</block>
  <block id="f418104bea033c057856d3576e3f1533" category="paragraph">通过创建 ILM 规则向导的第 2 步（定义放置位置），您可以定义放置说明，以确定对象的存储时间，副本的类型（复制或擦除编码），存储位置以及副本数量。</block>
  <block id="46dbfb1e8c23d87e20a07e02d0cf6c7d" category="paragraph">一个 ILM 规则可以包含一个或多个放置指令。每个放置指令适用场景 都有一段时间。如果使用多个指令，则时间段必须是连续的，并且至少有一个指令必须从第 0 天开始。这些说明可以永久继续，也可以一直持续到不再需要任何对象副本为止。</block>
  <block id="847bcb7c0a911d7bb8c15216680bbd32" category="paragraph">如果要在该时间段内创建不同类型的副本或使用不同的位置，则每个放置指令可以包含多行。</block>
  <block id="2083a2e47421f8c82609ba3ae16dd981" category="paragraph">此示例 ILM 规则会为第一年创建两个复制副本。每个副本都保存在不同站点的存储池中。一年后，将创建 2+1 纠删编码副本，并仅保存在一个站点上。</block>
  <block id="6633b043724bdc4d5b0630f44d57e531" category="image-alt">创建 ILM 规则向导第 2 页</block>
  <block id="27a8c9bf227ab95a42e3572fe202d3af" category="list-text">对于 * 参考时间 * ，选择计算放置指令的开始时间时要使用的时间类型。</block>
  <block id="c522599e78ec5db491d2bf67b9ed9992" category="paragraph">对象的载入时间。</block>
  <block id="9247edf2b1c4ceeaaac455d65b104a26" category="paragraph">上次检索（读取或查看）对象的时间。</block>
  <block id="c785b05b54accc2644f8bbdac56175cb" category="paragraph">* 注意： * 要使用此选项，必须为 S3 存储分段或 Swift 容器启用上次访问时间更新。请参见 <block ref="56e18126152fda8e4170527242cb2a05" category="inline-xref-macro-rx"></block>。</block>
  <block id="2951bdffd1f5fb55766ec2d39e9c57ae" category="paragraph">非当前时间</block>
  <block id="547445ff58782057c6794e89db217d47" category="paragraph">对象版本因载入新版本并替换为当前版本而变为非最新的时间。</block>
  <block id="c0623dde08cbe8d142dd1bdc1ecda1d8" category="paragraph">* 注： * 非当前时间仅适用于已启用版本控制的存储分段中的 S3 对象。</block>
  <block id="b90a40b5312ccea90e3721e430e07b48" category="paragraph">您可以使用此选项通过筛选非当前对象版本来减少受版本控制的对象的存储影响。请参见 <block ref="964fe564973801d86fd491b856e02daf" category="inline-xref-macro-rx"></block>。</block>
  <block id="c025e2580f131ea5617922b286bc07b6" category="paragraph">用户定义的创建时间</block>
  <block id="e0a61851782b7fc8b145d510eeedc736" category="paragraph">在用户定义的元数据中指定的时间。</block>
  <block id="3f2e70181f5fca8c07ea86434d3dcc09" category="admonition">如果要创建合规规则，必须选择 * 载入时间 * 。</block>
  <block id="5084e9a151ad60e4a75e4e387793f79d" category="list-text">在 * 放置位置 * 部分中，选择第一个时间段的开始时间和持续时间。</block>
  <block id="0cf53586597d23d15e307819aa879975" category="paragraph">例如，您可能需要指定第一年对象的存储位置（ " `day 0 for 365 days` " ）。至少有一个指令必须从第 0 天开始。</block>
  <block id="c64a678a227b34d5cab838e896aa5780" category="list-text">如果要创建复制的副本：</block>
  <block id="7acc15059a122056093b4bc68227e5f0" category="list-text">从 * 类型 * 下拉列表中，选择 * 已复制 * 。</block>
  <block id="dde017b10ae5293794541baef6985a61" category="list-text">在 * 位置 * 字段中，为要添加的每个存储池选择 * 添加池 * 。</block>
  <block id="fe899f032a1eeb13fbb5c29cdb3bf07b" category="paragraph">* 如果仅指定一个存储池 * ，请注意， StorageGRID 只能在任何给定存储节点上存储一个对象的一个复制副本。如果网格包含三个存储节点，并且您选择 4 作为副本数，则只会创建三个副本—每个存储节点一个副本。</block>
  <block id="f985d83beae75fa91f5858617e193c2a" category="admonition">系统将触发 * 无法实现 ILM 放置 * 警报，以指示无法完全应用 ILM 规则。</block>
  <block id="2628cfff7f9755905b7a4dc78afb5cdc" category="paragraph">* 如果指定多个存储池 * ，请记住以下规则：</block>
  <block id="1448646dd8afb054c66119726b1e4d66" category="list-text">副本数量不能大于存储池数量。</block>
  <block id="76ec602aa81ea15eb7362ffbec031262" category="list-text">如果副本数等于存储池数，则每个存储池中将存储一个对象副本。</block>
  <block id="f5b6d27020ecf45c7b5f718dfdc722c6" category="list-text">如果副本数小于存储池数，则系统会分发这些副本，以便在池之间保持磁盘使用量的平衡，同时确保任何站点都不会获得一个对象的多个副本。</block>
  <block id="cb9104171491bf41506dea76de3a78a7" category="list-text">如果存储池重叠（包含相同的存储节点），则对象的所有副本可能只保存在一个站点上。因此，请勿指定默认的所有存储节点存储池和另一个存储池。</block>
  <block id="02218d7d97908d17a7339864c5d714e9" category="image-alt">多个存储池的放置说明</block>
  <block id="55112766b2b0add5bf937465befe6537" category="list-text">选择要创建的副本数。</block>
  <block id="45adab60158c43b3f425158dad303976" category="inline-xref-macro">为什么不应使用单副本复制</block>
  <block id="9c2b8bfbb6a166e90097c6006859439b" category="paragraph">如果将副本数更改为 1 ，则会显示一条警告。如果 ILM 规则在任何时间段内仅创建一个复制副本，则会使数据面临永久丢失的风险。请参见 <block ref="68b4cf302d0c5954e542baa0f1eab2dc" category="inline-xref-macro-rx"></block>。</block>
  <block id="2585d6beeaf48fbfb4b9671ae4068654" category="image-alt">为 1 个副本创建 ILM 规则第 2 页警告</block>
  <block id="7d51ccf9d8f378447f2807f3c832426f" category="paragraph">要避免这些风险，请执行以下一项或多项操作：</block>
  <block id="c21687428b0db59c44e0da07d9183297" category="list-text">增加时间段内的副本数。</block>
  <block id="dd3e7d89006bbcb0dce0150ccfc6d93c" category="inline-image-macro">加号为黑色，呈白色显示</block>
  <block id="aa1749da29409a3e61217d2f98d9cdfc" category="list-text">选择加号图标 <block ref="8ce4d3bfcb4a0e152226fb8eba818498" category="inline-image-macro-rx" type="image"></block> 在此时间段内创建其他副本。然后，选择其他存储池或云存储池。</block>
  <block id="440a934cc9c5de5d4969499f0c668647" category="list-text">选择 "Erasure Coded* " 作为 "Type" ，而不是 "* 已复制 * 。如果此规则已在所有时间段创建多个副本，则可以安全地忽略此警告。</block>
  <block id="e8ad694953f91bf7dc080a7655f8c051" category="list-text">如果仅指定一个存储池，请忽略 * 临时位置 * 字段。</block>
  <block id="b544891e268b622d7c30d86d41abca5a" category="inline-xref-macro">使用存储池作为临时位置（已弃用）</block>
  <block id="614b0f12665ab9544b0584fc4f3d4335" category="admonition">临时位置已弃用，将在未来版本中删除。请参见 <block ref="f45b8d6d020a47b9b3ca16a2e301161c" category="inline-xref-macro-rx"></block>。</block>
  <block id="e9da39ca234c021ece3fd7043eb33afa" category="list-text">如果要创建经过纠删编码的副本：</block>
  <block id="c27061a81e4233664fc3381fa58dbbd0" category="list-text">从 * 类型 * 下拉列表中，选择 * 纠删编码 * 。</block>
  <block id="825947f8b0e32b54dc5278e44cf2de6b" category="paragraph">副本数将更改为 1 。如果规则没有高级筛选器来忽略 200 KB 或更小的对象，则会显示警告。</block>
  <block id="ca7db9e52723b030a2b329317305389d" category="image-alt">针对 EC 大小的 ILM 规则警告</block>
  <block id="ec9dd96026f7889eb73d714fa947a389" category="list-text">如果出现对象大小警告，请选择 * 返回 * 以返回到步骤 1 。然后，选择 * 高级筛选 * 并将对象大小（ MB ）筛选器设置为大于 0.2 的任何值。</block>
  <block id="496a6ec6c104241003b1878776b159ae" category="list-text">选择存储位置。</block>
  <block id="5314051520e5c9312da5c10103c5f614" category="paragraph">擦除编码副本的存储位置包括存储池的名称，后跟擦除编码配置文件的名称。</block>
  <block id="5f8d6fbb122c096bf03bc72f236fc890" category="image-alt">存储池和 EC 配置文件名称</block>
  <block id="bca13de82ffd8d51fb684883ac180bd7" category="list-text">或者，也可以在不同位置添加不同的时间段或创建其他副本：</block>
  <block id="7a78acf7749953fd99f2ae8115ad1633" category="list-text">选择加号图标可在同一时间段内在其他位置创建其他副本。</block>
  <block id="565feba0677c7e9d2578aeabda480c55" category="list-text">选择 * 添加 * 可为放置说明添加不同的时间段。</block>
  <block id="1d196053a3365590c9a129d074296021" category="admonition">除非最后一个时间段以 * 永久 * 结束，否则对象将在最后一个时间段结束时自动删除。</block>
  <block id="da2aab5dc60267fe14f146a19b47eb51" category="list-text">如果要将对象存储在云存储池中：</block>
  <block id="b80261bbe1cca3099aaf68997e7043d6" category="list-text">在 * 位置 * 字段中，选择 * 添加池 * 。然后，选择一个云存储池。</block>
  <block id="33d806176e7ca964f1a656a16cd0785f" category="image-alt">将云存储池添加到放置说明</block>
  <block id="05b2b9a1a0f72bab17fcad0738f1e9ad" category="paragraph">使用云存储池时，请记住以下规则：</block>
  <block id="17dbc6f4b2fa67b9563c0c763458429f" category="list-text">您不能在一个放置指令中选择多个云存储池。同样，您也不能在同一放置指令中选择云存储池和存储池。</block>
  <block id="36a960da240c35956189f128eb000bb9" category="image-alt">ILM 规则 &gt; 云存储池错误</block>
  <block id="85e5a893987879fdf4d9e859038b8a18" category="list-text">您只能在任何给定的云存储池中存储一个对象的一个副本。如果将 * 副本 * 设置为 2 或更多，则会显示一条错误消息。</block>
  <block id="660748b5e060aa7b76e140f92c3f3004" category="image-alt">ILM 规则：如果有多个副本，则显示云存储池错误</block>
  <block id="a4428492e64009b974f28ff33e5e3fbb" category="list-text">不能同时在任何云存储池中存储多个对象副本。如果使用云存储池的多个放置位置的日期重叠，或者同一放置中的多个行使用云存储池，则会显示错误消息。</block>
  <block id="ae2277e6ab7e8822327c02723c897c2e" category="image-alt">ILM 规则云存储池错误日期重叠</block>
  <block id="ed1fef669383f9705153bdc1274b6414" category="list-text">您可以将对象存储在云存储池中，同时将该对象存储为 StorageGRID 中的复制副本或纠删编码副本。但是，如本示例所示，您必须在时间段的放置说明中包含多行内容，以便为每个位置指定副本的数量和类型。</block>
  <block id="541922dca57c14fbfd7b2c3d01879be5" category="image-alt">ILM 规则 &gt; 云存储池和其他位置</block>
  <block id="ed948ff4fc36aebace83fd1beb1a6d68" category="paragraph">图中的每一行都显示了对象副本放置的位置和时间。副本类型由以下图标之一表示：</block>
  <block id="34170057d1a7b404670e5f0b8a953c38" category="inline-image-macro">复制副本图标</block>
  <block id="5b5e62b04bc2e509464039bb68e575f1" category="paragraph"><block ref="5b5e62b04bc2e509464039bb68e575f1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="f46535384f7287677b15a6c4f86ccd3d" category="paragraph">复制的副本</block>
  <block id="2a6afc6969ce8dbd3eb1784ab8d9b39b" category="inline-image-macro">擦除编码副本图标</block>
  <block id="4d3ab5f0f27e2ad2dfb88f28534b6d66" category="paragraph"><block ref="4d3ab5f0f27e2ad2dfb88f28534b6d66" category="inline-image-macro-rx" type="image"></block></block>
  <block id="ab71a6687183b61e72d35542e35f6c40" category="paragraph">经过纠删编码的副本</block>
  <block id="e2cdfe303cd0e65e6903fab813d327df" category="inline-image-macro">Cloud Storage Pool 图标</block>
  <block id="1817ef73b8b4ec840be52f936b291957" category="paragraph"><block ref="1817ef73b8b4ec840be52f936b291957" category="inline-image-macro-rx" type="image"></block></block>
  <block id="eae6d015801ab8fdc2d7f9449f32c3a8" category="paragraph">云存储池副本</block>
  <block id="dec6b1fef77a528febbcd28dd262db9e" category="paragraph">在此示例中，两个复制副本将保存到两个存储池（ DC1 和 DC2 ）中一年。然后，在三个站点上使用 6+3 纠删编码方案，再将经过纠删编码的副本保存 10 年。11 年后，这些对象将从 StorageGRID 中删除。</block>
  <block id="dc4f4c88f03b175e4b79814f7e906791" category="image-alt">ILM 规则保留图</block>
  <block id="98ab658ab9899c42dad04939ede20e15" category="list-text"><block ref="98ab658ab9899c42dad04939ede20e15" category="inline-xref-macro-rx"></block></block>
  <block id="702a426a4924093b1e0044b009573b85" category="list-text"><block ref="702a426a4924093b1e0044b009573b85" category="inline-xref-macro-rx"></block></block>
  <block id="5dbd92d7c845c407177e5a143de07493" category="summary">为 Azure Blob 存储创建云存储池时，必须为 StorageGRID 用于存储对象的外部容器指定帐户名称和帐户密钥。</block>
  <block id="88598d01df2bd31575162a048289a84b" category="list-text">您已输入云存储池的基本信息并指定 * Azure Blob Storage* 作为提供程序类型。* 共享密钥 * 显示在 * 身份验证类型 * 字段中。</block>
  <block id="e343881deeb4e7d4e5dd25e6084ecd00" category="image-alt">云存储池创建 Azure</block>
  <block id="07ad2d60e04c7976afc266e2e199c337" category="list-text">您知道用于访问用于云存储池的 Blob 存储容器的统一资源标识符（ Uniform Resource Identifier ， URI ）。</block>
  <block id="4e904a413a6dd1abfbc349afccea5aad" category="list-text">您知道存储帐户的名称和机密密钥。您可以使用 Azure 门户查找这些值。</block>
  <block id="fc6d1a4b6b27e654be0deb5b6fbd8c78" category="list-text">在 * 服务端点 * 部分中，输入用于访问用于云存储池的 Blob 存储容器的统一资源标识符（ Uniform Resource Identifier ， URI ）。</block>
  <block id="827afcd978378bf4c5cf686dfd4f884b" category="paragraph">使用以下格式之一指定 URI ：</block>
  <block id="a133654a664a9282d4995511311f1f0a" category="list-text">` + https://host:port+`</block>
  <block id="c3b1f4c514e8a270cf230b1750a35f1e" category="list-text">` + http://host:port+`</block>
  <block id="1be1f521c8ecafc3d5d02f616eb5048b" category="paragraph">如果未指定端口，则默认情况下，端口 443 用于 HTTPS URI ，端口 80 用于 HTTP URI 。+ + * Azure Blob 存储容器的示例 URI * ： + `https://_myaccount_.blob.core.windows.net`</block>
  <block id="05694332fbbaaecf661f39a9c1b1f531" category="list-text">在 * 身份验证 * 部分中，提供以下信息：</block>
  <block id="01005ae083e2ff9e888a29442e8777e5" category="list-text">对于 * 帐户名称 * ，输入拥有外部服务容器的 Blob 存储帐户的名称。</block>
  <block id="a7dd317dbfd7eb3b535309f826e605b3" category="list-text">对于 * 帐户密钥 * ，输入 Blob 存储帐户的机密密钥。</block>
  <block id="f499a4f55a9f69dc87479e17c01b9922" category="admonition">对于 Azure 端点，您必须使用共享密钥身份验证。</block>
  <block id="4246a028c7fc49b544d4037b9ffaa080" category="list-text">在 * 服务器验证 * 部分中，选择应使用哪种方法验证与云存储池的 TLS 连接的证书：</block>
  <block id="16dc205f2b9bf29b44d028b5788100bc" category="paragraph">使用操作系统上安装的网格 CA 证书确保连接安全。</block>
  <block id="4896c3543cb2b82a181e6ddccc7dac56" category="paragraph">使用自定义 CA 证书。选择 * 选择新 * ，然后上传 PEM 编码的证书。</block>
  <block id="e053ad69727e62bd4bd8d325670df02c" category="paragraph">未验证用于 TLS 连接的证书。</block>
  <block id="2cf70b62c5cc248d9c21b0a138dfafa1" category="paragraph">保存云存储池时， StorageGRID 将执行以下操作：</block>
  <block id="62b80fbff4d0fe9d3ccc1068d98d4c64" category="list-text">验证容器和 URI 是否存在，以及是否可以使用您指定的凭据访问它们。</block>
  <block id="f6a02721e1741e6c182e722a80f638b1" category="list-text">将标记文件写入容器，以将其标识为云存储池。切勿删除名为 `x-ntap-sgws-cloud pool-uuid` 的文件。</block>
  <block id="d6e0dc9e8541019e2b47067c2f93d3e4" category="paragraph">如果云存储池验证失败，您将收到一条错误消息，说明验证失败的原因。例如，如果存在证书错误或您指定的容器不存在，则可能会报告错误。</block>
  <block id="6720e6193622ae65f7558961b760d6f9" category="inline-xref-macro">对云存储池进行故障排除</block>
  <block id="70a598b1f3b051a5b34d5bfa8ab18832" category="paragraph">请参见的说明 <block ref="341bea7f6102b3434dda71a071c78505" category="inline-xref-macro-rx"></block>，解析问题描述 ，然后再次尝试保存云存储池。</block>
  <block id="59f556aee14dc39f95a903c52378f662" category="summary">如果您计划使用云存储池将对象移出 StorageGRID 系统，则必须查看配置和使用云存储池的注意事项。</block>
  <block id="38da50e368db69b541d838e1ff01e238" category="doc">云存储池注意事项</block>
  <block id="3516c8ba7b35045de92853ce609c11f7" category="section-title">General considerations</block>
  <block id="f67bb1b8db2baceb386a3a920a5d8466" category="list-text">通常，云归档存储（例如 Amazon S3 Glacier 或 Azure Blob 存储）是一个存储对象数据的廉价位置。但是，从云归档存储检索数据的成本相对较高。要实现最低的整体成本，您必须考虑何时以及多久访问一次云存储池中的对象。建议仅对预期不常访问的内容使用云存储池。</block>
  <block id="6df2426adeb56ef3abfbfc4c2bfb3fb3" category="list-text">不要对 Swift 客户端已载入的对象使用云存储池。Swift 不支持后对象还原请求，因此 StorageGRID 将无法检索已过渡到 S3 Glacier 存储或 Azure Blob 存储归档层的任何 Swift 对象。发出 Swift GET 对象请求以检索这些对象将失败（ 403 已禁用）。</block>
  <block id="97a86ec42ccc8b368bc7842263432e28" category="section-title">创建云存储池所需的信息</block>
  <block id="d68258dbc18ab2298a23374e6382b410" category="paragraph">在创建云存储池之前，您必须先创建要用于云存储池的外部 S3 存储分段或外部 Azure Blob 存储容器。然后，在 StorageGRID 中创建云存储池时，必须指定以下信息：</block>
  <block id="31b6206d9d3ac017c7721813a96e3293" category="list-text">提供程序类型： Amazon S3 或 Azure Blob Storage 。</block>
  <block id="9a0840af89bec89ff5178976bb44a968" category="list-text">如果选择 Amazon S3 ，则说明云存储池是否要与 AWS 机密区域（ * CAP （ C2S 访问门户） * ）结合使用。</block>
  <block id="14ceca2b0dfcb8c6e54f388ae9cb890e" category="list-text">分段或容器的确切名称。</block>
  <block id="d289551bf92f814bb5bbae996a629550" category="list-text">访问存储分段或容器所需的服务端点。</block>
  <block id="0c00aca8d13d944c22b4f04c7b0c6dc3" category="list-text">访问存储分段或容器所需的身份验证：</block>
  <block id="d08e2b4ec56e8469a1800df376f02f7a" category="list-text">* S3 ：可选，访问密钥 ID 和机密访问密钥。</block>
  <block id="b71d12e6860db1cba90fcbf31d8f7612" category="list-text">* C2S* ：用于从 CAP 服务器获取临时凭据的完整 URL ；服务器 CA 证书，客户端证书，客户端证书的专用密钥；如果私钥已加密，则用于对其进行解密的密码短语。</block>
  <block id="8f2e2f757582ca9d24857c6740a3c15c" category="list-text">* Azure Blob Storage* ：帐户名称和帐户密钥。这些凭据必须具有容器的完全权限。</block>
  <block id="8b2d2c69164ac7025effee0434aee6d5" category="list-text">（可选）自定义 CA 证书，用于验证与存储分段或容器的 TLS 连接。</block>
  <block id="ddcaaa0ba94b855c82fb29e8bd962b07" category="section-title">用于云存储池的端口的注意事项</block>
  <block id="b7aff1cc60cf29ecc02509a543faca3f" category="paragraph">要确保 ILM 规则可以将对象移入和移出指定的云存储池，您必须配置包含系统存储节点的一个或多个网络。您必须确保以下端口可以与云存储池进行通信。</block>
  <block id="1e84cdcfdb13d54be280bbe942b50cc8" category="paragraph">默认情况下，云存储池使用以下端口：</block>
  <block id="7852319cffab4d7e8f91187da029ec54" category="paragraph">您可以在创建或编辑云存储池时指定其他端口。</block>
  <block id="c9fc060dc4861e2093ae467428ddaad7" category="inline-xref-macro">配置存储代理</block>
  <block id="fcd563e5e1b2fe7049d39ff88387b65c" category="paragraph">如果使用非透明代理服务器，则还必须使用 <block ref="5cbf768bd05914fc812327f3fe4c627c" category="inline-xref-macro-rx"></block> 允许将消息发送到外部端点，例如 Internet 上的端点。</block>
  <block id="7056c8ba50a7ea1ddde187b86480b79a" category="section-title">成本注意事项</block>
  <block id="9d7bdfd46d01b675e47d069d8e3d187f" category="paragraph">使用云存储池访问云中的存储需要通过网络连接到云。您必须根据希望使用云存储池在 StorageGRID 和云之间移动的数据量，考虑用于访问云并适当配置云的网络基础架构的成本。</block>
  <block id="b5b0d494030949a9e3231894b304f5c1" category="paragraph">当 StorageGRID 连接到外部云存储池端点时，它会发出各种请求来监控连接并确保它可以执行所需的操作。虽然这些请求会产生一些额外成本，但监控云存储池的成本只能是在 S3 或 Azure 中存储对象的总成本的一小部分。</block>
  <block id="08fed0a375927780cff47e361c57987b" category="paragraph">如果您需要将对象从外部云存储池端点移回 StorageGRID ，可能会产生更显著的成本。在以下任一情况下，对象可能会移回 StorageGRID ：</block>
  <block id="3ae4e6a8676d1847226a54c3a8dbe94a" category="list-text">此对象的唯一副本位于云存储池中，您决定将此对象存储在 StorageGRID 中。在这种情况下，您只需重新配置 ILM 规则和策略即可。进行 ILM 评估时， StorageGRID 会发出多个请求，以便从云存储池中检索对象。然后， StorageGRID 会在本地创建指定数量的复制副本或经过纠删编码的副本。将对象移回 StorageGRID 后，云存储池中的副本将被删除。</block>
  <block id="f9b8cd7735cff407ec019e53d3b64925" category="list-text">由于存储节点故障，对象丢失。如果某个对象的唯一剩余副本位于云存储池中，则 StorageGRID 会临时还原该对象，并在已恢复的存储节点上创建一个新副本。</block>
  <block id="100b7bc575a8b7bda7add7811ca62670" category="admonition">当对象从云存储池移回 StorageGRID 时， StorageGRID 会为每个对象向云存储池端点发出多个请求。在移动大量对象之前，请联系技术支持以帮助估算时间范围和相关成本。</block>
  <block id="6cb3cfbdf70e818e89f762eb84de0af5" category="section-title">S3 ：云存储池存储分段所需的权限</block>
  <block id="051a039f37a3c7313b5532e1dad64f7b" category="paragraph">用于云存储池的外部 S3 存储分段的分段策略必须授予 StorageGRID 将对象移动到分段，获取对象状态，根据需要从 Glacier 存储还原对象等的权限。理想情况下， StorageGRID 应对存储分段具有完全控制访问权限（ `s 3 ： *` ）；但是，如果无法访问，存储分段策略必须向 StorageGRID 授予以下 S3 权限：</block>
  <block id="9ba767f0be9f0bee0980958cc583e14c" category="list-text">`s 3 ： AbortMultipartUpload`</block>
  <block id="abd3980be6419b43c4ada2fde9c93bd1" category="list-text">`s 3 ： DeleteObject`</block>
  <block id="94ab3733a115c1db662684796c5e5f70" category="list-text">`s 3 ： GetObject`</block>
  <block id="c51afd34d09e8287bb3c293b4c19f57a" category="list-text">`s 3 ： ListBucket`</block>
  <block id="f4f5a5034e34b12200aaca19a2871aea" category="list-text">`s 3 ： ListBucketMultipartUploads`</block>
  <block id="80ce9d537bd04197e7c7cc4227525715" category="list-text">`s 3 ： ListMultipartUploadPart`</block>
  <block id="4014cba1d3679d7444ccb96338d9ee36" category="list-text">`s 3 ： PutObject`</block>
  <block id="139e90f4554bdc4681ca70203e695cd5" category="list-text">`s 3 ： RestoreObject`</block>
  <block id="3098c91e71139a736a4a45a4dd06eea9" category="section-title">S3 ：外部存储分段的生命周期注意事项</block>
  <block id="bf4b7976489d1cd3975d749b03f87a8b" category="paragraph">StorageGRID 与云存储池中指定的外部 S3 存储分段之间的对象移动由 StorageGRID 中的 ILM 规则和活动 ILM 策略控制。相比之下，对象从云存储池中指定的外部 S3 存储分段过渡到 Amazon S3 Glacier 或 S3 Glacier 深度归档（或过渡到实施 Glacier 存储类的存储解决方案 ）则由该分段的生命周期配置控制。</block>
  <block id="e0dcc20971eab7bc03e808c9b6994a72" category="paragraph">如果要从云存储池过渡对象，必须在外部 S3 存储分段上创建适当的生命周期配置，并且必须使用实施 Glacier 存储类并支持 S3 后对象还原 API 的存储解决方案 。</block>
  <block id="35c0502b252edcba62e760b24e30b597" category="paragraph">例如，假设您希望将从 StorageGRID 移动到云存储池的所有对象立即过渡到 Amazon S3 Glacier 存储。您应在外部 S3 存储分段上创建一个生命周期配置，用于指定单个操作（ * 过渡 * ），如下所示：</block>
  <block id="fcdd03c4f56a2d6830226fb08ef6ee25" category="paragraph">此规则会在创建所有存储分段对象的日期（即从 StorageGRID 迁移到云存储池的日期）将这些对象过渡到 Amazon S3 Glacier 。</block>
  <block id="8a0ea4027aea27da6387de6f1b527cc0" category="admonition">配置外部存储分段的生命周期时，切勿使用 * 到期 * 操作来定义对象何时过期。到期操作发生原因 外部存储系统以删除已过期的对象。如果稍后尝试从 StorageGRID 访问已过期的对象，则无法找到已删除的对象。</block>
  <block id="61ab7fa8f7d4cf8fd73d66864221fe0d" category="paragraph">如果要将云存储池中的对象过渡到 S3 Glacier 深度归档（而不是 Amazon S3 Glacier ），请在存储分段生命周期中指定 ` &lt;StorageClass&gt;Deep_archive&lt;/StorageClass&gt;` 。但是，请注意，您不能使用 `Expedited` 层从 S3 Glacier Deep Archive 还原对象。</block>
  <block id="0dc6f73514ca3b65e3bbc2990e0a0975" category="section-title">Azure ：访问层注意事项</block>
  <block id="348215120457405d6d4da1d76c5e161c" category="paragraph">配置 Azure 存储帐户时，您可以将默认访问层设置为热或冷。创建用于云存储池的存储帐户时，应使用热层作为默认层。即使 StorageGRID 在将对象移动到云存储池时会立即将层设置为归档，但使用默认设置 " 热 " 可确保在至少 30 天之前从冷层中删除的对象不会收到提前删除费用。</block>
  <block id="c0464d379d7b43f89d6eaec16c570e40" category="section-title">Azure ：不支持生命周期管理</block>
  <block id="dfef9347fb2798f35decc6952d479fa2" category="paragraph">请勿对与云存储池一起使用的容器使用 Azure Blob Storage 生命周期管理。生命周期操作可能会干扰云存储池操作。</block>
  <block id="4dc6ef99b125fd6ca762145710a9ffa7" category="list-text"><block ref="4dc6ef99b125fd6ca762145710a9ffa7" category="inline-xref-macro-rx"></block></block>
  <block id="c76187bffd6291364bae3b4a828043b7" category="summary">在实施云存储池之前，请查看存储在每种类型的云存储池中的对象的生命周期。</block>
  <block id="c3b4ba584ac4aaad554223efd75ca885" category="doc">云存储池对象的生命周期</block>
  <block id="c51160dfb2788c1d3de6e55e92403087" category="list-text"><block ref="fd04177b61eccae182d789389f452897" category="inline-xref-macro-rx"></block></block>
  <block id="3a2c0a7f05f5cc4a5f392dd09a1f184e" category="list-text"><block ref="0c7918b542ddb2818b88964b84e7efcc" category="inline-xref-macro-rx"></block></block>
  <block id="f2db50687762e46d44affdb9a6f34394" category="section-title">S3 ：云存储池对象的生命周期</block>
  <block id="9a261193af196336445902ccebb5518b" category="paragraph">此图显示了存储在 S3 云存储池中的对象的生命周期阶段。</block>
  <block id="9e27f652826bbef2d135ae8c2f539f46" category="admonition">在图和说明中， "`Glacier` " 是指 Glacier 存储类和 Glacier 深度归档存储类，但有一个例外： Glacier 深度归档存储类不支持加急还原层。仅支持批量或标准检索。</block>
  <block id="1b13af1772ec3cb96407d52aea99e246" category="admonition">Google Cloud Platform （ GCP ）支持从长期存储中检索对象，而无需执行还原后操作。</block>
  <block id="cf3b838c872c1617c51346b482232b0e" category="image-alt">云存储池对象的生命周期</block>
  <block id="65d4d19726ec510ce65cf3dfd71a730e" category="list-text">* 存储在 StorageGRID 中的对象 *</block>
  <block id="fd07e4ba573ba64676f57b6057382fb7" category="paragraph">要开始生命周期，客户端应用程序会将对象存储在 StorageGRID 中。</block>
  <block id="41eb0ebc2f9022c51c2b02a3a68b373c" category="list-text">* 对象已移至 S3 云存储池 *</block>
  <block id="8d263c9e7adafb0b902079ee90874c00" category="list-text">如果对象与使用 S3 云存储池作为其放置位置的 ILM 规则匹配，则 StorageGRID 会将此对象移动到云存储池指定的外部 S3 存储分段。</block>
  <block id="207bd49b8f403746f25ea70d06ac6aa5" category="list-text">将对象移动到 S3 云存储池后，客户端应用程序可以使用来自 StorageGRID 的 S3 GET 对象请求来检索该对象，除非该对象已过渡到 Glacier 存储。</block>
  <block id="774e34012f2c19224d42a17d8ad8743d" category="list-text">* 已过渡到 Glacier 的对象（无法检索状态） *</block>
  <block id="f12b36985b7d6d4e1d9355930f3017ad" category="list-text">也可以将对象过渡到 Glacier 存储。例如，外部 S3 存储分段可能会使用生命周期配置立即或在一定天数后将对象过渡到 Glacier 存储。</block>
  <block id="2a5551134da2bf94ff1ab7523604c61c" category="admonition">如果要过渡对象，必须为外部 S3 存储分段创建生命周期配置，并且必须使用实施 Glacier 存储类并支持 S3 后对象还原 API 的存储解决方案 。</block>
  <block id="26b4152c0bd348ffc8e0669f7f2d618b" category="admonition">不要对 Swift 客户端已载入的对象使用云存储池。Swift 不支持后对象还原请求，因此 StorageGRID 将无法检索已过渡到 S3 Glacier 存储的任何 Swift 对象。发出 Swift GET 对象请求以检索这些对象将失败（ 403 已禁用）。</block>
  <block id="039e7c1f25611f16422ee2751e822fb1" category="list-text">过渡期间，客户端应用程序可以使用 S3 head Object 请求来监控对象的状态。</block>
  <block id="1e80a775696bdf32c9bad831800dccb3" category="list-text">* 对象已从 Glacier 存储还原 *</block>
  <block id="d95ba957b1ffff3903ea588b21147406" category="paragraph">如果对象已过渡到 Glacier 存储，则客户端应用程序可以通过问题描述 处理 S3 后对象还原请求，将可检索的副本还原到 S3 云存储池。此请求指定在云存储池和数据访问层中应使用多少天的副本来执行还原操作（加急，标准或批量）。达到可检索副本的到期日期后，该副本将自动恢复为无法检索的状态。</block>
  <block id="15ea993261941dcbcf7f7759f857bffd" category="admonition">如果 StorageGRID 中的存储节点上也存在对象的一个或多个副本，则无需发出 POST 对象还原请求来从 Glacier 中还原对象。相反，可以使用 GET 对象请求直接检索本地副本。</block>
  <block id="29d469988cf5380e6787b9dba2897f80" category="list-text">* 已检索对象 *</block>
  <block id="60bef0d2fad18738f71a0d6071f9c539" category="paragraph">还原对象后，客户端应用程序可以通过问题描述 获取对象请求来检索还原的对象。</block>
  <block id="70cc178f31ad22dd1907c6acbfd79977" category="section-title">Azure ： Cloud Storage Pool 对象的生命周期</block>
  <block id="a68dd3e7a13fec125d9273ffff24985f" category="paragraph">此图显示了存储在 Azure 云存储池中的对象的生命周期阶段。</block>
  <block id="0e4eb8c25b5771e390a3b66bcc623b20" category="image-alt">Azure Cloud Storage Pool 对象的生命周期</block>
  <block id="a9f8fccabb2ab868e3d36f83918fa642" category="list-text">* 对象已移至 Azure Cloud Storage Pool*</block>
  <block id="1d63efbbff881cc71c725acfcb64b8bc" category="paragraph">如果对象与使用 Azure 云存储池作为其放置位置的 ILM 规则匹配，则 StorageGRID 会将此对象移动到云存储池指定的外部 Azure Blob 存储容器</block>
  <block id="096a947d9804a4c144c21e88450d82b5" category="admonition">不要对 Swift 客户端已载入的对象使用云存储池。Swift 不支持后对象还原请求，因此 StorageGRID 将无法检索已过渡到 Azure Blob 存储归档层的任何 Swift 对象。发出 Swift GET 对象请求以检索这些对象将失败（ 403 已禁用）。</block>
  <block id="021168f95192373c0a6db3f7f348dad1" category="list-text">* 已过渡到归档层的对象（无法检索状态） *</block>
  <block id="bdbc5d7d29bb6904ce3be8cfce878aa3" category="paragraph">将对象移动到 Azure 云存储池后， StorageGRID 会立即自动将对象过渡到 Azure Blob 存储归档层。</block>
  <block id="a58717483390c1c7e583229fb1f7cb05" category="list-text">* 对象已从归档层还原 *</block>
  <block id="98c3aa12403d5099b4b622382dbdccbb" category="paragraph">如果某个对象已过渡到归档层，则客户端应用程序可以通过问题描述 处理 S3 后对象还原请求将可检索的副本还原到 Azure 云存储池。</block>
  <block id="3551398eae078c8c90cfc5c66d6b89da" category="paragraph">当 StorageGRID 收到后对象还原时，它会暂时将对象过渡到 Azure Blob 存储冷却层。一旦达到 POST 对象还原请求中的到期日期， StorageGRID 就会将该对象过渡回归档层。</block>
  <block id="18b4a7030c8a7ee2902680d54807b28d" category="admonition">如果 StorageGRID 中的存储节点上也存在对象的一个或多个副本，则无需通过发出 POST 对象还原请求从归档访问层还原对象。相反，可以使用 GET 对象请求直接检索本地副本。</block>
  <block id="3df42cfe39bf794a639ed7bf6f4428df" category="paragraph">将对象还原到 Azure 云存储池后，客户端应用程序可以通过问题描述 获取对象请求来检索还原的对象。</block>
  <block id="02e136cacf68e95e912dc46a25714583" category="summary">存储级别用于确定存储节点使用的存储类型。如果希望 ILM 规则将某些对象放置在特定存储节点上，而不是站点中的所有节点上，则可以创建存储级别。例如，您可能希望某些对象存储在速度最快的存储节点上，例如 StorageGRID 全闪存存储设备。</block>
  <block id="ebf9e5486d23a3b944fcea72208632d2" category="doc">创建和分配存储级别</block>
  <block id="0a60de37cae09eb4c52878dd76498ecc" category="paragraph">如果您使用多种类型的存储，则可以选择创建一个存储级别来标识每种类型。通过创建存储级别，您可以在配置存储池时选择特定类型的存储节点。</block>
  <block id="b783511add83db61d9da2f68962de26f" category="paragraph">如果不考虑存储级别（例如，所有存储节点都相同），则可以跳过此操作步骤 ，并在配置存储池时使用所有存储节点的默认存储级别。</block>
  <block id="0b98e9ef8645f50dd7190b4dcc97a4fa" category="paragraph">在扩展中添加新存储节点时，该节点将添加到所有存储节点的默认存储级别。因此：</block>
  <block id="ddff8e308b506b2f3c0becf38fb7cfc1" category="list-text">如果 ILM 规则使用具有所有存储节点级别的存储池，则可以在扩展完成后立即使用新节点。</block>
  <block id="de078b904a628d5889cb16dfbffa5816" category="list-text">如果 ILM 规则使用具有自定义存储级别的存储池，则在手动为节点分配自定义存储级别之前，不会使用此新节点，如下所述。</block>
  <block id="f14dbd198d7f40d745b16d6f2eb29a65" category="admonition">创建存储级别时，创建的存储级别不要超过所需数量。例如，不要为每个存储节点创建一个存储级别。而是将每个存储级别分配给两个或更多节点。如果仅分配给一个节点的存储级别不可用，则发生原因 ILM 会回退日志。</block>
  <block id="377e36f9f6166b27066e38332ca5f447" category="list-text">选择 * ILM * &gt; * 存储级别 * 。</block>
  <block id="8e3473ab5489e6e3536d926b79753679" category="list-text">创建存储级别：</block>
  <block id="4aa8993cbb0e76e10226ec063c9f52ff" category="list-text">对于需要定义的每个存储级别，选择 * 插入 * <block ref="dfb08760b64381661b6ad5fb07ea4ec1" category="inline-image-macro-rx" type="image"></block> 要添加一行并输入存储级别的标签，请执行以下操作：</block>
  <block id="807ad7e34ff2b735bb89c69beeadd23e" category="paragraph">无法修改默认存储级别。它是为在 StorageGRID 系统扩展期间添加的新存储节点预留的。</block>
  <block id="8db46e44720002b9905d8722431c89b8" category="image-alt">存储等级页面</block>
  <block id="f84bb0603dfb1be99ad2fe4be36f4029" category="list-text">要编辑现有存储级别，请选择 * 编辑 * <block ref="e35d994e85aefde09ee638754a178187" category="inline-image-macro-rx" type="image"></block> 并根据需要修改标签。</block>
  <block id="38fa3f182a994f7fa6248d160b8e3bdc" category="admonition">您不能删除存储级别。</block>
  <block id="19f0b45f59abf7967a3f50c898e528bb" category="paragraph">这些存储级别现在可分配给存储节点。</block>
  <block id="7bf5661a4042f7917a5de44e996b4f72" category="list-text">为存储节点分配存储级别：</block>
  <block id="0bc931c57abefccff65b73e67752ab29" category="list-text">对于每个存储节点的 LDR 服务，选择 * 编辑 * <block ref="e35d994e85aefde09ee638754a178187" category="inline-image-macro-rx" type="image"></block> 并从列表中选择一个存储级别。</block>
  <block id="9ecc8a7c5c3e4de3a82c66f9b81df115" category="admonition">只需为给定存储节点分配一次存储级别。从故障中恢复的存储节点将保持先前分配的存储级别。激活 ILM 策略后，请勿更改此分配。如果分配发生更改，则会根据新的存储级别存储数据。</block>
  <block id="054ca23c8e19ae3b43ac712ca80c1827" category="summary">如果启用了全局 S3 对象锁定设置，则创建策略的步骤略有不同。您必须确保 ILM 策略符合已启用 S3 对象锁定的分段的要求。</block>
  <block id="0ad75cf6405cb37a39ad97f0475a9595" category="doc">启用 S3 对象锁定后创建 ILM 策略</block>
  <block id="96c96b432ea2d184d334ba23e28bb935" category="list-text">已为 StorageGRID 系统启用全局 S3 对象锁定设置。</block>
  <block id="5dbbedfa314845a2bf89dcc25ca7e06c" category="inline-xref-macro">创建建议的 ILM 策略</block>
  <block id="bfad6d200537404e67f5c07135db45cb" category="admonition">如果尚未启用全局 S3 对象锁定设置，请按照的常规说明进行操作 <block ref="719175bcce35468f06799c1348e599cb" category="inline-xref-macro-rx"></block>。</block>
  <block id="a4f01bccd6ee594890dc812665036585" category="list-text">您已创建要添加到建议策略的合规和不合规 ILM 规则。您可以根据需要保存建议的策略，创建其他规则，然后编辑建议的策略以添加新规则。请参见<block ref="535250ebde4641da7785bbb995be0907" category="inline-xref-macro-rx"></block>。</block>
  <block id="34a28175468d063352a42435c1aa8ab4" category="inline-xref-macro">已创建默认 ILM 规则</block>
  <block id="141cb3a96107747c6908fc1bdfa3cf1e" category="list-text">您已拥有 <block ref="f0665a4a0e015a00296864c3543f3b04" category="inline-xref-macro-rx"></block> 合规策略。</block>
  <block id="55eaf502936c476501c8f21c9e5f30ab" category="inline-link">视频： StorageGRID ILM 策略</block>
  <block id="24c16a32f5ef2a78325cdf190625a7f2" category="list-text">您也可以观看以下视频：<block ref="16114e12e698f9ac08e180339166252a" category="inline-link-rx"></block></block>
  <block id="b3e491b89cef2c330f01e5cc9daf498e" category="paragraph">此时将显示 "ILM Policies" 页面。如果启用了全局 S3 对象锁定设置，则 "ILM Policies" 页面将指示符合哪些 ILM 规则。</block>
  <block id="e3b141af8703d7630dfd89555f1f501e" category="image-alt">符合 ILM 策略页面要求</block>
  <block id="8ae9047dfda3683fc18035eac6155026" category="list-text">在 * 名称 * 字段中为建议的策略输入一个唯一名称。</block>
  <block id="c823c92cfc34e12b9787873239cfd955" category="paragraph">您必须输入至少 1 个字符，并且不能超过 64 个字符。</block>
  <block id="f579f712feb741b6680107fd91d25595" category="list-text">在 * 更改原因 * 字段中输入创建新建议策略的原因。</block>
  <block id="79aaf45e2f7a590a0364425fa9e79dd0" category="paragraph">您必须输入至少 1 个字符，并且不能超过 128 个字符。</block>
  <block id="a8b96a1577561e02879f550c542c54db" category="list-text">要向策略中添加规则，请选择 * 选择规则 * 。</block>
  <block id="36852051f26a3c52d0004d74cb7ebfdd" category="paragraph">此时将显示为策略选择规则对话框，其中列出了所有已定义的规则。</block>
  <block id="5a9d3ce81871d23e68d4cf31530d2cc2" category="list-text">" 选择默认规则 " 部分列出了可作为合规策略的默认规则。它包括不使用筛选器或非当前参考时间的合规规则。</block>
  <block id="33aaf00c7782f18d75813236e713580a" category="list-text">" 选择其他规则 " 部分列出了可为此策略选择的其他合规和不合规规则。</block>
  <block id="2da0184ba6bc766bc385b27d7c314ea5" category="image-alt">ILM 策略为合规策略选择规则</block>
  <block id="d6f9840a879968aef1e265ecff335c50" category="list-text">选择规则名称或更多详细信息图标 <block ref="52124302077bf955709b32abf28c8098" category="inline-image-macro-rx" type="image"></block> 以查看该规则的设置。</block>
  <block id="59e76b096cacff1102811e58a33aad91" category="list-text">在 * 选择默认规则 * 部分中，为建议的策略选择一个默认规则。</block>
  <block id="83107b9173d92177b1cbf5166f430811" category="paragraph">本节中的表仅列出了合规的规则，不使用任何筛选器。</block>
  <block id="e3a888eb7d50c68b157f189b7c8ccb5b" category="inline-xref-macro">创建默认 ILM 规则</block>
  <block id="2edacaec23d5c4cf4315de1621c809a7" category="admonition">如果 " 选择默认规则 " 部分未列出任何规则，则必须退出 ILM 策略页面和 <block ref="93e672a0cb92cd79d36c731445f1cc9f" category="inline-xref-macro-rx"></block> 合规。</block>
  <block id="ddf50dc6ecb1b52ae5b9e9a7b30c6d78" category="admonition">请勿使用 Make 2 copies 常用规则作为策略的默认规则。" 创建 2 个副本 " 规则使用一个存储池 " 所有存储节点 " ，其中包含所有站点。如果使用此规则，则一个对象的多个副本可能会放置在同一站点上。</block>
  <block id="1da66822e9e57b150f5123761953fb63" category="list-text">在 * 选择其他规则 * 部分中，选择要包含在策略中的任何其他规则。</block>
  <block id="9bae002fc0a18b15726c588e464dc439" category="list-text">如果您需要对不合规 S3 存储分段中的对象使用不同的 " 默认 `d` " 规则，则也可以选择一个不使用筛选器的不合规规则。</block>
  <block id="aa4c60de13841dbc1189402bf335674a" category="paragraph">例如，您可能希望使用云存储池或归档节点将对象存储在未启用 S3 对象锁定的存储分段中。</block>
  <block id="5c3803c254353af581f329b39cb2358d" category="admonition">您只能选择一个不使用筛选器的不合规规则。选择一个规则后，对于不带筛选器的任何其他不合规规则， * 是可选 * 列将显示 * 否 * 。</block>
  <block id="28c059af9727257968879e1114ce153e" category="list-text">选择要在策略中使用的任何其他合规或不合规规则。</block>
  <block id="b0623dc5ac54fe5e3c47788b9cd2c9b0" category="paragraph">其他规则必须至少使用一个筛选器（租户帐户，分段名称或高级筛选器，例如对象大小）。</block>
  <block id="3c790774f8c45e69f9c2232f97adc885" category="list-text">选择完规则后，请选择 * 应用 * 。</block>
  <block id="52fb15fde28e325ae6e33f444e015b70" category="paragraph">此时将列出您选择的规则。默认规则位于末尾，上面有其他规则。如果您还选择了一个不合规的 " `default` " 规则，则该规则将添加为策略中的倒数第二规则。</block>
  <block id="45b590661d6d396292969d92e363d9a7" category="paragraph">在此示例中，最后一条规则 2 copies 2 Data Center 是默认规则：它合规且不具有筛选器。第二个到最后一个规则 Cloud Storage Pool 也没有筛选器，但它不合规。</block>
  <block id="ee76ccb3201b9c78ac886489835af398" category="image-alt">ILM 策略选定规则合规</block>
  <block id="9b99f32939ff1796cd5a0e68035d6a6c" category="list-text">拖放非默认规则的行以确定评估这些规则的顺序。</block>
  <block id="e850b567b60e71a42cf397d48d45058c" category="paragraph">您不能移动默认规则或不合规的 " `default` " 规则。</block>
  <block id="09a7c0af826971457f825dbeb57f9318" category="list-text">根据需要选择删除图标 <block ref="ae4b0d0edca14814d378e9b1121d1fb3" category="inline-image-macro-rx" type="image"></block> 删除策略中不需要的任何规则，或者 * 选择规则 * 添加更多规则。</block>
  <block id="3a00eb3807404ffcd880392b91027fec" category="list-text">完成后，选择 * 保存 * 。</block>
  <block id="d70955a51072d4dfe60f677585d58f0e" category="paragraph">此时将更新 "ILM Policies" 页面：</block>
  <block id="05af19aedb13d915c8a1db6ae2f2b66f" category="list-text">您保存的策略将显示为建议的策略。建议的策略没有开始日期和结束日期。</block>
  <block id="61663bd3d207fd53e93dd36f1b491bb3" category="list-text">此时将启用 * 模拟 * 和 * 激活 * 按钮。</block>
  <block id="4f3b7a07ab4fa5cd67c03d3713379833" category="image-alt">ILM 策略建议的策略 S3 对象锁定</block>
  <block id="01e70ab325d9be6b1003c43a5c1c6069" category="list-text">转至 <block ref="eb6ed8ff9f9405dbe7e09e41d0b067f7" category="inline-xref-macro-rx"></block>。</block>
  <block id="8380d90454e6044a9ca1a2ef7f9bd8a7" category="summary">作为网格管理员，您可以为 StorageGRID 系统启用 S3 对象锁定，并实施合规的 ILM 策略，以确保特定 S3 存储分段中的对象在指定时间内不会被删除或覆盖。</block>
  <block id="eb7a1c09b60a8e0b21173a5c8b27e6ae" category="paragraph">如图所示，如果为 StorageGRID 系统启用了全局 S3 对象锁定设置，则 S3 租户帐户可以在启用或不启用 S3 对象锁定的情况下创建存储分段。如果某个存储分段启用了 S3 对象锁定，则 S3 客户端应用程序可以选择为该存储分段中的任何对象版本指定保留设置。对象版本必须具有指定的保留设置，以受 S3 对象锁定的保护。此外，启用了 S3 对象锁定的每个存储分段也可以选择具有默认保留模式和保留期限，如果在没有自身保留设置的情况下将对象添加到存储分段，则此模式和保留期限适用。</block>
  <block id="481e14d7901676071c76af0c9894da0c" category="paragraph">有关对象保留设置的详细信息，请转到 <block ref="50accd69a547c5300024d857f9d8e09c" category="inline-xref-macro-rx"></block>。</block>
  <block id="3228d314847f133e39d3592b75c8a1b4" category="paragraph">有关默认存储分段保留设置的详细信息，请转至 <block ref="197165ec8ea585a56a26e15e0feb11be" category="inline-xref-macro-rx"></block>。</block>
  <block id="4944e0a52dd7ec6951b9c27307a0b7db" category="section-title">比较 S3 对象锁定与原有合规性</block>
  <block id="82bc657fd7c3546a9cfa4dd35c50f502" category="paragraph">S3 对象锁定取代了早期 StorageGRID 版本中提供的合规性功能。由于 S3 对象锁定功能符合 Amazon S3 要求，因此它会弃用专有的 StorageGRID 合规性功能，现在称为 "`原有合规性 " 。`</block>
  <block id="694a293c63f900c783f464d382ff9b7c" category="paragraph">如果您之前启用了全局合规性设置，则会自动启用全局 S3 对象锁定设置。租户用户无法再在启用了合规性的情况下创建新的分段；但是，根据需要，租户用户可以继续使用和管理任何现有的旧合规分段，其中包括执行以下任务：</block>
  <block id="2f4e5f3e15235dee737d56c82a3f2361" category="list-text">将新对象载入已启用旧合规性的现有存储分段。</block>
  <block id="6188437fe771c850d144c81c61105763" category="list-text">增加启用了旧合规性的现有存储分段的保留期限。</block>
  <block id="b867fbd8898d23048eb5c7e0bdbcabd5" category="list-text">更改已启用旧合规性的现有存储分段的自动删除设置。</block>
  <block id="1159e6d0f07d7748ea4b1ef0ccdf0447" category="list-text">对已启用旧合规性的现有存储分段置于合法保留状态。</block>
  <block id="38b8f3ba239c10f3ec90b58126d4deca" category="list-text">取消合法保留。</block>
  <block id="5b16b2ae08fd064d6cf9b7233d60448a" category="paragraph">请参见<block ref="85eabd87068191b8c9b351a04038c328" category="inline-link-rx"></block> 有关说明，请参见。</block>
  <block id="692fc63a3d2b547eedc438d48c032a8f" category="paragraph">如果您在先前版本的 StorageGRID 中使用了原有的合规性功能，请参见下表，了解它与 StorageGRID 中的 S3 对象锁定功能的比较情况。</block>
  <block id="3c491379c2d0bfcfbf7f051b9f9bb77b" category="cell">S3 对象锁定（新增）</block>
  <block id="f7684ed43351385125beae456c36748a" category="cell">合规性（原有）</block>
  <block id="b08c05e34a0f1d0bfe4b7ea5c5ffcb69" category="paragraph">如何全局启用此功能？</block>
  <block id="46af985792898aa9cf2795696f9d7f72" category="paragraph">在网格管理器中，选择 * 配置 * &gt; * 系统 * &gt; * S3 对象锁定 * 。</block>
  <block id="57ab9f98af6b281d702c9c76a858aa58" category="paragraph">不再支持。</block>
  <block id="faee8e8009b5e126ae23d563c8b012fa" category="paragraph">* 注意： * 如果您使用早期版本的 StorageGRID 启用了全局合规性设置，则在 StorageGRID 11.6 中将启用 S3 对象锁定设置。您可以继续使用 StorageGRID 管理现有合规存储分段的设置；但是，您无法创建新的合规存储分段。</block>
  <block id="7cd1e3a4b6b5bc0d0d3ada308d298578" category="paragraph">如何为存储分段启用此功能？</block>
  <block id="940298a166621e430a032dc20d041882" category="paragraph">在使用租户管理器，租户管理 API 或 S3 REST API 创建新存储分段时，用户必须启用 S3 对象锁定。</block>
  <block id="2e2f98074a9a8b160441f365db4b8edb" category="paragraph">用户无法再在启用了合规性的情况下创建新的存储分段；但是，他们可以继续向现有合规存储分段添加新对象。</block>
  <block id="527d45ab12eee8b7382a6b6a90fccc1f" category="paragraph">是否支持存储分版本控制？</block>
  <block id="9656489ca6ec5661d3fd173457a02cff" category="paragraph">是的。需要分段版本控制，并且在为分段启用 S3 对象锁定时会自动启用分段版本控制。</block>
  <block id="98cb352aa784e071a3d0122d02ee12ac" category="paragraph">否原有的合规性功能不允许分段版本控制。</block>
  <block id="68e1e5012e62436b506e5cf41a18c17a" category="paragraph">如何设置对象保留？</block>
  <block id="34cb4416fc4fab7c739a4644c633ad3c" category="paragraph">用户可以为每个对象版本设置保留截止日期。</block>
  <block id="b19a75a6888e551ffceeb976251393c0" category="paragraph">用户必须为整个存储分段设置一个保留期限。保留期限适用场景 存储分段中的所有对象。</block>
  <block id="2193d1065f31156313dbbe321f17cfba" category="paragraph">存储分段是否具有保留和合法保留的默认设置？</block>
  <block id="84307e9864ec42a00046078391c3c099" category="paragraph">是的。启用了 S3 对象锁定的 StorageGRID 存储分段可以具有一个默认保留期限，此保留期限将应用于在载入期间未指定其自己保留设置的对象版本。</block>
  <block id="0dc39f4354de3e95371eda05605cf860" category="paragraph">是否可以更改保留期限？</block>
  <block id="b2c6e5e49af04be0290bdaa6afd45ef2" category="paragraph">对象版本的保留日期可以增加，但不能减少。</block>
  <block id="c70c9b24a0f373244dd0900cfc9eb435" category="paragraph">存储分段的保留期限可以增加，但不能缩短。</block>
  <block id="f516852af1407277158e3a9d44c9a5db" category="paragraph">合法保留在何处？</block>
  <block id="cffec382c4418e3556f6f9232f4155fd" category="paragraph">用户可以对存储分段中的任何对象版本进行合法保留或取消合法保留。</block>
  <block id="7b77d87ddb3182026e2827ba3b521513" category="paragraph">合法保留放置在存储分段上，并影响存储分段中的所有对象。</block>
  <block id="fd750cd2487d09d9514aa0ce660ba655" category="paragraph">何时可以删除对象？</block>
  <block id="f14a7997f93a6195dcec1f7377ee281b" category="paragraph">如果对象未处于合法保留状态，则可以在达到保留截止日期后删除该对象版本。</block>
  <block id="5769228aa6f7dd26b4f6d5cde0ee658e" category="paragraph">可以在保留期限到期后删除对象，前提是存储分段未处于合法保留状态。可以自动或手动删除对象。</block>
  <block id="843d6e0ac65895888d67a14f06572ce1" category="paragraph">是否支持存储分段生命周期配置？</block>
  <block id="31ce21f5453813e0b3e89a37b4b77bac" category="summary">ILM 规则可以根据创建 S3 存储分段的区域筛选对象，从而可以将不同区域的对象存储在不同存储位置。如果要在规则中使用 S3 分段区域作为筛选器，则必须先创建可由系统中的分段使用的区域。</block>
  <block id="86b912620b630f23a392efdbe5304d27" category="paragraph">创建 S3 存储分段时，您可以指定在特定区域创建存储分段。通过指定区域，存储分段可以在地理位置上靠近用户，从而有助于优化延迟，最大限度地降低成本并满足法规要求。</block>
  <block id="ccc020536e8907b4690e36f51c8e2e26" category="paragraph">创建 ILM 规则时，您可能需要使用与 S3 存储分段关联的区域作为高级筛选器。例如，您可以设计一个仅适用于在 us-west-2 区域中创建的 S3 存储分段中的对象的规则。然后，您可以指定将这些对象的副本放置在该区域内数据中心站点的存储节点上，以优化延迟。</block>
  <block id="241e3382f9b67fab95feadbc84724cf5" category="paragraph">配置区域时，请遵循以下准则：</block>
  <block id="468a835fadf2438b943bd301e7856eb1" category="list-text">默认情况下，所有分段均视为属于 us-east-1 区域。</block>
  <block id="feafe48dae39d03cb3af55d22feedf04" category="list-text">在使用租户管理器或租户管理 API 创建存储分段时，或者在使用 LocationConstrcont Request 元素为 S3 PUT 存储分段 API 请求创建存储分段时，您必须先使用网格管理器创建区域，然后才能指定非默认区域。如果 PUT 存储分段请求使用的区域尚未在 StorageGRID 中定义，则会发生错误。</block>
  <block id="586d6d3b1cefdf124fbe7384615379d0" category="list-text">创建 S3 存储分段时，必须使用确切的区域名称。区域名称区分大小写，并且必须至少包含 2 个字符，并且不超过 32 个字符。有效字符包括数字，字母和连字符。</block>
  <block id="0310e10111ae73900c09d8df75ffbe6c" category="admonition">EU-west-1 不视为别名。如果要使用欧盟或 EU-west-1 地区，则必须使用确切的名称。</block>
  <block id="effbf16964e5424696bdfeb3bd3e7352" category="list-text">如果某个区域当前在活动 ILM 策略或建议的 ILM 策略中使用，则不能删除或修改该区域。</block>
  <block id="41223958475f58eb97540326b5eaa7e9" category="list-text">如果在 ILM 规则中用作高级筛选器的区域无效，仍可将该规则添加到建议的策略中。但是，如果您尝试保存或激活建议的策略，则会发生错误。（如果您在 ILM 规则中使用某个区域作为高级筛选器，但稍后删除该区域，或者使用网格管理 API 创建规则并指定尚未定义的区域，则可能会导致区域无效。）</block>
  <block id="ebfe641144bcc7866355e2f7d7cc29be" category="list-text">如果在使用某个区域创建 S3 存储分段后将其删除，则如果您要使用位置限制高级筛选器查找该存储分段中的对象，则需要重新添加该区域。</block>
  <block id="e96756131fc04054f8e91f9e00004eb7" category="list-text">选择 * ILM * &gt; * 区域 * 。</block>
  <block id="1e633825bfa448cfbdb83f4969807c17" category="paragraph">此时将显示区域页面，其中列出了当前定义的区域。* 区域 1* 显示默认区域 `us-east-1` ，无法修改或删除。</block>
  <block id="d1abc23a4a76daabbdb8643daa7414a1" category="image-alt">区域页面</block>
  <block id="2b85565512a165adc262a22d437fdb7d" category="list-text">要添加区域，请执行以下操作：</block>
  <block id="06c5ebaaa4451071d637cb1aa7274f78" category="list-text">选择插入图标 <block ref="0e4a78bb3476d4c9221dc56813d32390" category="inline-image-macro-rx" type="image"></block> 最后一个条目右侧。</block>
  <block id="ac4fe0e251007f8357b77913ac0d5970" category="list-text">输入要在创建 S3 存储分段时使用的区域名称。</block>
  <block id="181804874769384ea301854e21f3f63e" category="paragraph">在创建相应的 S3 存储分段时，您必须使用此确切的区域名称作为 LocationConstraint 请求元素。</block>
  <block id="732f99250697eb8719df0b3eefb69ba7" category="list-text">要删除未使用的区域，请选择删除图标 <block ref="ae4b0d0edca14814d378e9b1121d1fb3" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="86ab94647387c9cfd2c687f443c395a1" category="paragraph">如果尝试删除活动策略或建议策略中当前使用的区域，则会显示一条错误消息。</block>
  <block id="2c14eea2c1339b765527f0b1d43cd3e7" category="image-alt">无法删除区域时显示的消息</block>
  <block id="7e32dba734f9dc01735c1104556a8c23" category="list-text">完成更改后，选择 * 保存 * 。</block>
  <block id="38aa44bd4cb1770ae9878dc50c5c6c34" category="paragraph">现在，您可以从创建 ILM 规则向导的 " 高级筛选 " 页面上的 * 位置约束 * 列表中选择这些区域。请参见<block ref="dba8c8b4481bd716d49d24db2ef451b1" category="inline-xref-macro-rx"></block>。</block>
  <block id="497a616b4a9c19b8e4e2bafc9b417ee8" category="summary">云存储池可以在多种使用情形下提供显著优势。</block>
  <block id="88e46e06dde6e230a80730574323f5a7" category="doc">何时使用云存储池</block>
  <block id="1dd1d3de1671f04a4ab61276cdad8584" category="section-title">在外部位置备份 StorageGRID 数据</block>
  <block id="13b8d8ca259b99ffbf9ce279ec4131c5" category="paragraph">您可以使用云存储池将 StorageGRID 对象备份到外部位置。</block>
  <block id="958be356b99708355255bcbbe1ae0d8c" category="paragraph">如果无法访问 StorageGRID 中的副本，则可以使用云存储池中的对象数据来处理客户端请求。但是，要访问云存储池中的备份对象副本，您可能需要发出问题描述 S3 后对象还原请求。</block>
  <block id="275c49f0824f96483b1f5977d4bead0e" category="paragraph">云存储池中的对象数据也可用于恢复因存储卷或存储节点故障而从 StorageGRID 丢失的数据。如果某个对象的唯一剩余副本位于云存储池中，则 StorageGRID 会临时还原该对象，并在已恢复的存储节点上创建一个新副本。</block>
  <block id="5f9f8dec8b7607477271d69f30d8ed13" category="paragraph">要实施备份解决方案 ，请执行以下操作：</block>
  <block id="bd4ceccc657f83e0e10d3c66b879c005" category="list-text">创建一个云存储池。</block>
  <block id="b922943c3c18f8fa2dcdd3ce836d8422" category="list-text">配置一个 ILM 规则，以便在存储节点上同时存储对象副本（以复制或擦除编码的副本的形式），并在云存储池中存储单个对象副本。</block>
  <block id="43164f4a97deb180108801a385705bc8" category="list-text">将规则添加到 ILM 策略中。然后，模拟并激活策略。</block>
  <block id="1aff0b7ed83d2691468c6ebfb1ed9e50" category="section-title">将数据从 StorageGRID 分层到外部位置</block>
  <block id="8f463227691870e8b4defda4fee9281d" category="paragraph">您可以使用云存储池将对象存储在 StorageGRID 系统之外。例如，假设您需要保留大量对象，但您希望很少访问这些对象（如果有）。您可以使用云存储池将对象分层以降低存储成本并释放 StorageGRID 中的空间。</block>
  <block id="b84d61c4777b882b5aac928a86cee516" category="paragraph">要实施分层解决方案 ，请执行以下操作：</block>
  <block id="d562061c34fc77f089762e6880988763" category="list-text">配置一个 ILM 规则，以便将很少使用的对象从存储节点移动到云存储池。</block>
  <block id="e02e215913ab6424e786cf91d430f8e5" category="section-title">维护多个云端点</block>
  <block id="c1ed8784b39ba7d8992e5154af30092d" category="paragraph">如果要将对象数据分层或备份到多个云，则可以配置多个云存储池。您可以通过 ILM 规则中的筛选器指定存储在每个云存储池中的对象。例如，您可能希望将 Amazon S3 Glacier 中某些租户或分段中的对象以及 Azure Blob 存储中其他租户或分段中的对象存储起来。或者，您可能希望在 Amazon S3 Glacier 和 Azure Blob 存储之间移动数据。使用多个云存储池时，请注意，一个对象一次只能存储在一个云存储池中。</block>
  <block id="1601da327ee28f350c0ed933f73c969d" category="paragraph">实施多个云端点：</block>
  <block id="f2d9412ffab1fcf93ef004b38abf874c" category="list-text">最多创建 10 个云存储池。</block>
  <block id="c4b625acecab7449d4bcda355be7c4bb" category="list-text">配置 ILM 规则，以便在每个云存储池中的适当时间存储相应的对象数据。例如，将存储在云存储池 A 中的存储分段 A 中的对象，并将存储在云存储池 B 中的分段 B 中的对象存储在云存储池 B 中或者，将对象存储在云存储池 A 中一段时间，然后将其移动到云存储池 B</block>
  <block id="95e36b0c98d5322be9933a44dee82442" category="list-text">将规则添加到 ILM 策略中。然后，模拟并激活策略。</block>
  <block id="7343c3cc0e85222ccbd24d0128aaeebd" category="summary">您可以创建存储池来确定 StorageGRID 系统存储对象数据的位置以及使用的存储类型。每个存储池包括一个或多个站点以及一个或多个存储级别。</block>
  <block id="694bb5d3641d16eb91812f8515d06f39" category="doc">创建存储池</block>
  <block id="b1b3a7fb64fe2ca9340c3740572c35d2" category="list-text">您已查看创建存储池的准则。</block>
  <block id="1b6189be2aa41f7b834e3f6db150b183" category="paragraph">存储池用于确定对象数据的存储位置。所需的存储池数量取决于网格中的站点数量以及所需的副本类型：复制副本或经过纠删编码的副本。</block>
  <block id="c6c77b7a1ece629c7cad651b3e93c615" category="list-text">对于复制和单站点纠删编码，请为每个站点创建一个存储池。例如，如果要将复制的对象副本存储在三个站点上，请创建三个存储池。</block>
  <block id="1ec6e1706694290d45eb1d559a716a4b" category="list-text">要在三个或更多站点上进行纠删编码，请创建一个存储池，其中包含每个站点的条目。例如，如果要跨三个站点擦除代码对象，请创建一个存储池。选择加号图标 <block ref="0e4a78bb3476d4c9221dc56813d32390" category="inline-image-macro-rx" type="image"></block> 为每个站点添加一个条目。</block>
  <block id="e503dc53786fffae2d8cc940c9a56eec" category="inline-xref">此步骤</block>
  <block id="cdc1c12cb7b7c303006aee37a93da685" category="admonition">请勿将默认的所有站点站点站点包含在要在擦除编码配置文件中使用的存储池中。而是在存储池中为要存储纠删编码数据的每个站点添加一个单独的条目。请参见 <block ref="04ee92215086a5d263eb70f54f272a24" category="inline-xref-macro-rx"></block> 例如。</block>
  <block id="d3c99c26e350515bb08866527692ffcf" category="inline-xref-macro">创建存储池的准则</block>
  <block id="d05aca40f01eaa53d16710156a3bdd6f" category="list-text">如果您有多个存储级别，请勿在一个站点上创建包含不同存储级别的存储池。请参见 <block ref="000990b86a3adec623e2e46bf5da8ccc" category="inline-xref-macro-rx"></block>。</block>
  <block id="5382f567917c5949d946043ab7c8ed61" category="paragraph">此时将显示存储池页面，其中列出了所有已定义的存储池。</block>
  <block id="f67d6e70bc8c5f3838cb1a67db74bdb2" category="image-alt">存储池页面</block>
  <block id="f01369dabf8495cb0fa246ec524ffce1" category="paragraph">此列表包括系统默认存储池，使用系统默认站点的所有存储节点，所有站点以及默认存储级别的所有存储节点。</block>
  <block id="70293165378a53558613bfd68dfc6c57" category="admonition">由于每当添加新的数据中心站点时，所有存储节点存储池都会自动更新，因此不建议在 ILM 规则中使用此存储池。</block>
  <block id="103cf82ff0dae3d3f0e5964edda72d86" category="list-text">要创建新存储池，请选择 * 创建 * 。</block>
  <block id="908dcfa0bd9ecf0eaaa714575df7b239" category="paragraph">此时将显示创建存储池对话框。</block>
  <block id="4b6755c74487ce56fd8f90654fb93935" category="image-alt">创建存储池</block>
  <block id="63de1eaab7e866e0025cfc0fffa84dc0" category="list-text">输入存储池的唯一名称。</block>
  <block id="85901ffd2bbe661d3bb924f819259799" category="paragraph">在配置纠删编码配置文件和 ILM 规则时，请使用易于识别的名称。</block>
  <block id="cc6c40e27b13f3d40c7ffa1be213bc26" category="list-text">从 * 站点 * 下拉列表中，为此存储池选择一个站点。</block>
  <block id="76519fc1c24d2b22b300da3a355ef62c" category="paragraph">选择站点时，此表中的存储节点和归档节点数将自动更新。</block>
  <block id="a674dd9f3ce7200c8f86e4dfebf45c4b" category="paragraph">通常，不要在任何存储池中使用默认的所有站点站点站点。使用所有站点存储池的 ILM 规则会将对象放置在任何可用站点上，从而减少对对象放置的控制。此外，所有站点存储池会立即使用新站点上的存储节点，这可能不是您所期望的行为。</block>
  <block id="ad0449792493cb2cd10a850ce05df408" category="list-text">从 * 存储级别 * 下拉列表中，选择 ILM 规则使用此存储池时要使用的存储类型。</block>
  <block id="52c7341e3aa9a5c388b7ec63a20c256b" category="paragraph">默认的所有存储节点存储级别包括选定站点上的所有存储节点。默认归档节点存储级别包括选定站点上的所有归档节点。如果您为网格中的存储节点创建了其他存储级别，则这些存储级别将在下拉列表中列出。</block>
  <block id="8b72c5e92071ec1cc0d7c3a4c9189b9e" category="list-text">【条目】如果要在多站点擦除编码配置文件中使用存储池，请选择 <block ref="0e4a78bb3476d4c9221dc56813d32390" category="inline-image-macro-rx" type="image"></block> 将每个站点的条目添加到存储池中。</block>
  <block id="4cf6f56872086f5953cce2e742576cf5" category="image-alt">存储池为 EC 配置所有 3 个站点</block>
  <block id="cd37cc2a7fad9ab0641e52609b584d78" category="paragraph">您不能创建重复条目，也不能创建既包含 * 归档节点 * 存储级别又包含存储节点的任何存储级别的存储池。</block>
  <block id="72714f20239a46b78f59e3667a9b70a6" category="paragraph">如果您为一个站点添加多个条目，但存储级别不同，则系统会向您发出警告。</block>
  <block id="c7bf9e9c969b9aaa1ef36a8e44d86b7f" category="paragraph">要删除条目，请选择 <block ref="ae4b0d0edca14814d378e9b1121d1fb3" category="inline-image-macro-rx" type="image"></block>。</block>
  <block id="32a5ea5bc6033357dcb9f4a659d4fa6d" category="list-text">如果您对所做的选择感到满意，请选择 * 保存 * 。</block>
  <block id="9757e1fa8d444a86c4f9863375a8fbe0" category="paragraph">此时，新存储池将添加到此列表中。</block>
  <block id="a6afbd28a42aa3519e8022b1865d2cb1" category="summary">您可以在规则中使用位置筛选器和严格的载入行为来防止对象保存在特定数据中心位置。</block>
  <block id="bf6557283cb4070b698d402c11a12f98" category="paragraph">在本示例中，基于巴黎的租户出于监管方面的考虑，不希望在欧盟以外存储某些对象。其他对象，包括来自其他租户帐户的所有对象，可以存储在巴黎数据中心或美国数据中心。</block>
  <block id="6c5626a78d5628848c63758ac04f57bb" category="section-title">ILM 规则 1 示例 5 ：严格载入以保证巴黎数据中心</block>
  <block id="0ab214eaebaf5e0b034d2b2a0a300ab1" category="paragraph">此示例 ILM 规则使用严格的载入行为来保证，在将区域设置为 EU-west-3 区域（巴黎）的情况下，基于巴黎的租户保存到 S3 分段的对象永远不会存储在美国数据中心。</block>
  <block id="cb0060a2c4f74c37000cd7dbe4628eef" category="paragraph">此规则属于巴黎租户且 S3 分段区域设置为 EU-west-3 （巴黎）的适用场景 对象。</block>
  <block id="dd8f19558184a5dba578be2d9094d95f" category="paragraph">巴黎租户</block>
  <block id="dc4ff28fb87a6869bd9e0cc6fe3b55b7" category="paragraph">位置约束等于 EU-west-3</block>
  <block id="1619214edbd5b950df79b3695f66ff0c" category="paragraph">DC1 （巴黎）</block>
  <block id="fad724ecb9ff8cc8fed5f87578111299" category="paragraph">严格载入以保证巴黎数据中心的安全</block>
  <block id="9773b5e1db97cfcff01b47124e829198" category="paragraph">在第 0 天，在 DC1 （巴黎）中永久保留两个复制副本</block>
  <block id="80efbc7b8c5118c9e409d145eba0d770" category="paragraph">严格。请始终在载入时使用此规则的放置位置。如果无法在巴黎数据中心存储对象的两个副本，则载入将失败。</block>
  <block id="337a4c811dd647fa06dcb313dddd85b1" category="image-alt">ILM 规则 1 示例 5 严格载入</block>
  <block id="1f77a7060b4deee33a78f402082dfc91" category="section-title">ILM 规则 2 示例 5 ：平衡其他对象的载入</block>
  <block id="60f4eec05229bf1fc43d8e482b18facc" category="paragraph">此示例 ILM 规则使用平衡载入行为为第一个规则不匹配的任何对象提供最佳 ILM 效率。将存储与此规则匹配的所有对象的两个副本—一个在美国数据中心，一个在巴黎数据中心。如果无法立即满足此规则，则会将临时副本存储在任何可用位置。</block>
  <block id="d7335e6701b402ce7eec94589c57d023" category="paragraph">此规则适用于属于任何租户和任何区域的适用场景 对象。</block>
  <block id="7901d086d9757bba45011d42b76330ba" category="paragraph">未指定 _</block>
  <block id="ae8a23a08d12a2c7f3dff469011af63f" category="paragraph">DC1 （巴黎）和 DC2 （美国）</block>
  <block id="9292a277f3894b0130d904fd568860d5" category="paragraph">2 个副本 2 个数据中心</block>
  <block id="431e87d6632e47e3100d6ab0c2adbe9b" category="paragraph">在第 0 天，将两个复制副本永久保留在两个数据中心</block>
  <block id="7a94bbbf6df49189bc6a7f3afb89d257" category="paragraph">平衡。如果可能，与此规则匹配的对象将根据规则的放置说明进行放置。否则，会在任何可用位置创建临时副本。</block>
  <block id="231eeabc61fe969d8219acda824eefcc" category="image-alt">例如， ILM 规则 2 中的 5-2 复制 2 个数据中心</block>
  <block id="bff160d7597e212b38e1fb4069a75803" category="section-title">ILM 策略示例 5 ：结合载入行为</block>
  <block id="6470bc5eba6fc7be5e424e69dae79b4f" category="paragraph">示例 ILM 策略包括两个具有不同载入行为的规则。</block>
  <block id="483acc07a6b28ec5532d041cf552734e" category="paragraph">使用两种不同载入行为的 ILM 策略可能包括以下 ILM 规则：</block>
  <block id="5f39f10f009046556360bd41e0d220ed" category="list-text">仅在巴黎数据中心存储属于 PARIS 租户且 S3 存储分段区域设置为 EU-west-3 （ PARIS ）的对象。如果 PARIS 数据中心不可用，则无法载入。</block>
  <block id="687b7cb441a4d937b9a646f21a25dd77" category="list-text">将所有其他对象（包括属于巴黎租户但具有不同分段区域的对象）存储在美国数据中心和巴黎数据中心。如果无法满足放置指令，请在任何可用位置创建临时副本。</block>
  <block id="829cb4e6b5a5d969d41a98fe91593554" category="image-alt">ILM 策略 5 载入选项示例</block>
  <block id="481095bafb9c455dc85a310ece6a8521" category="paragraph">模拟示例策略时，您希望按如下所示评估测试对象：</block>
  <block id="f0359d9b67608285c2bcadbd230fcccc" category="list-text">属于 PARIS 租户且 S3 存储分段区域设置为 EU-west-3 的任何对象均按第一个规则匹配，并存储在 PARIS 数据中心。由于第一个规则使用严格的载入，因此这些对象永远不会存储在美国数据中心。如果 PARIS 数据中心的存储节点不可用，则载入将失败。</block>
  <block id="b86dccbda63ae35a0032d0a4fe41aa90" category="list-text">所有其他对象均按第二条规则匹配，其中包括属于 PARIS 租户且 S3 分段区域未设置为 EU-west-3 的对象。每个对象的一份副本保存在每个数据中心。但是，由于第二条规则使用平衡载入，因此，如果一个数据中心不可用，则会在任何可用位置保存两个临时副本。</block>
  <block id="ebcb9cb6b612a3b3e83e44ce3a3efab9" category="summary">如果在创建，编辑或删除云存储池时遇到错误，请使用以下故障排除步骤帮助解决问题描述 。</block>
  <block id="db86ff70c0323bc67ac5cb1481323590" category="paragraph">StorageGRID 每分钟对每个云存储池执行一次简单的运行状况检查，以确保云存储池可以访问并正常运行。如果运行状况检查检测到问题描述 ，则存储池页面上的云存储池表的最后一个错误列将显示一条消息。</block>
  <block id="4e41a743c6529602c1e90f869b8b0983" category="paragraph">此表显示了为每个云存储池检测到的最新错误，并指示错误发生的时间。</block>
  <block id="71a283b5b8a19d871ca3c17d17f43ffb" category="image-alt">云存储池错误</block>
  <block id="08c6e82667dcaa9dcebc8bf51b6679a4" category="paragraph">此外，如果运行状况检查检测到在过去 5 分钟内发生了一个或多个新的 Cloud Storage Pool 错误，则会触发 * 云存储池连接错误 * 警报。如果收到有关此警报的电子邮件通知，请转到存储池页面（选择 * ILM * &gt; * 存储池 * ），查看上次错误列中的错误消息，并参考以下故障排除准则。</block>
  <block id="3dc1a615476e5b77ab79e669dde781df" category="section-title">检查错误是否已解决</block>
  <block id="1a82f3dc906cf439561d777786ee1ac9" category="paragraph">解决任何底层问题后，您可以确定错误是否已解决。从云存储池页面中，选择端点的单选按钮，然后选择 * 清除错误 * 。确认消息指示 StorageGRID 已清除云存储池的错误。</block>
  <block id="7e60de51dd143daab01ee0e06ac8b1d7" category="image-alt">Cloud Storage Pool Clear 错误消息</block>
  <block id="0fd0ffbdb717b214f6254a0b62d99c18" category="paragraph">如果根本问题已解决，则不再显示此错误消息。但是，如果根本问题尚未修复（或者遇到了不同的错误），则错误消息将在几分钟内显示在 Last Error 列中。</block>
  <block id="6c36c71748824b732f89338478d0c812" category="section-title">错误：此云存储池包含意外内容</block>
  <block id="4c32cc30b2c0b18ae65e131603861e1d" category="paragraph">尝试创建，编辑或删除云存储池时，可能会遇到此错误。如果存储分段或容器包含 `x-ntap-sgws-cloud pool-uuid` 标记文件，但该文件没有预期的 UUID ，则会发生此错误。</block>
  <block id="3427e82447d636e44bf8b66d558973cc" category="paragraph">通常，只有在创建新的云存储池且另一个 StorageGRID 实例已使用同一个云存储池时，您才会看到此错误。</block>
  <block id="5c73aa491a47730f7386a8e266cdd4ce" category="paragraph">请尝试以下步骤以更正问题描述 ：</block>
  <block id="20564729782b8141c7a04e9c5a585b24" category="list-text">请检查以确保您的组织中没有人也在使用此云存储池。</block>
  <block id="c721ffb9c3c4e5eea934c79d9a18e53d" category="list-text">删除 `x-ntap-sgws-cloud pool-uuid` 文件，然后尝试重新配置云存储池。</block>
  <block id="6b7f55690053b8f4ddb5fc043ef8356c" category="section-title">错误：无法创建或更新云存储池。端点出错</block>
  <block id="9d0d6b1ac3fc3f0c9090b022bafeca13" category="paragraph">在尝试创建或编辑云存储池时，您可能会遇到此错误。此错误表示某种类型的连接或配置问题描述 正在阻止 StorageGRID 写入云存储池。</block>
  <block id="56c8c142a1da2115dd1055f55c7aafba" category="paragraph">要更正问题描述 ，请查看来自端点的错误消息。</block>
  <block id="f91b71098ec302e7da201c8ecac5da95" category="list-text">如果错误消息包含 `GET _URL_ ： eOF` ，请检查用于云存储池的服务端点是否不对需要 HTTPS 的容器或分段使用 HTTP 协议。</block>
  <block id="0130580644ee6e97e6838d716c207a1c" category="list-text">如果错误消息包含 `GET _URL_ ： net/http ： Request cancelled while waiting for connection` ，请验证网络配置是否允许存储节点访问用于云存储池的服务端点。</block>
  <block id="f312efb07122cbc460a55eb86844b58a" category="list-text">对于所有其他端点错误消息，请尝试以下一项或多项操作：</block>
  <block id="dab5808a0ed0aa5d8975b98f3a99fcb5" category="list-text">创建一个与您为云存储池输入的名称相同的外部容器或存储分段，然后再次尝试保存新的云存储池。</block>
  <block id="b6c63728b9f32100c3f6760a8dc624ea" category="list-text">更正为云存储池指定的容器或存储分段名称，然后重新尝试保存新的云存储池。</block>
  <block id="e33a3f7684a0856ab6fa3e5b0eb4797f" category="section-title">错误：无法解析 CA 证书</block>
  <block id="ed5e5a25f5bc0a86bb62bf241009ba7f" category="paragraph">在尝试创建或编辑云存储池时，您可能会遇到此错误。如果 StorageGRID 无法解析您在配置云存储池时输入的证书，则会发生此错误。</block>
  <block id="c3f538ee8bffca9e48caa2e916665516" category="paragraph">要更正问题描述 ，请检查您提供的 CA 证书是否存在问题。</block>
  <block id="10f978b5de117dd48d9c8ab49025865a" category="section-title">错误：未找到具有此 ID 的云存储池</block>
  <block id="c92f61bd0ace995bef5e360e6a12c837" category="paragraph">尝试编辑或删除云存储池时，可能会遇到此错误。如果端点返回 404 响应，则会发生此错误，这可能表示以下任一项：</block>
  <block id="d5fef5aa683f5712ae249715f20aa03e" category="list-text">用于云存储池的凭据不具有此存储分段的读取权限。</block>
  <block id="947c2f2e18dbb1c8a6a90df7a67f8613" category="list-text">用于云存储池的存储分段不包括 `x-ntax-sgws-cloud -pool-uuid` 标记文件。</block>
  <block id="58d6325e32a10968230a3d05235af59d" category="paragraph">尝试以下一个或多个步骤以更正问题描述 ：</block>
  <block id="0d8f2f3d471d612b1787c208df21f524" category="list-text">检查与配置的访问密钥关联的用户是否具有所需权限。</block>
  <block id="31a7979c1e811d2918bf8b392821134a" category="list-text">使用具有所需权限的凭据编辑云存储池。</block>
  <block id="bd7a4f712ffcb495e2056de1745587ee" category="list-text">如果权限正确，请联系支持部门。</block>
  <block id="26a313719be01ef8fea2d2120abe7ddc" category="section-title">错误：无法检查云存储池的内容。端点出错</block>
  <block id="3ed990003e4792f738b365dc14b68c78" category="paragraph">在尝试删除云存储池时，您可能会遇到此错误。此错误表示某种类型的连接或配置问题描述 正在阻止 StorageGRID 读取云存储池存储分段的内容。</block>
  <block id="850ce941e70942e124fda893fb3420fc" category="section-title">错误：对象已放置在此存储分段中</block>
  <block id="2b7d3c73c277055f52d45735a5bf92a1" category="paragraph">在尝试删除云存储池时，您可能会遇到此错误。如果某个云存储池包含通过 ILM 移动到该存储池的数据，在配置云存储池之前存储在存储分段中的数据或在创建云存储池之后某些其他源放置在存储分段中的数据，则不能删除该存储池。</block>
  <block id="bd7ddc669cdb2ae8379d7e1657a0d790" category="list-text">按照 "`云存储池对象的生命周期 " 中的说明将对象移回 StorageGRID 。`</block>
  <block id="e129be18853504c2de92d8ad89a8acb5" category="list-text">如果您确定其余对象未被 ILM 放置在云存储池中，请手动从存储分段中删除这些对象。</block>
  <block id="9ee622baabcb59292d38a56bf4522e19" category="admonition">切勿手动删除云存储池中可能已由 ILM 放置的对象。如果稍后尝试从 StorageGRID 访问手动删除的对象，则找不到已删除的对象。</block>
  <block id="824ceefd3b21cca4f714ccfd09656176" category="section-title">错误：代理尝试访问云存储池时遇到外部错误</block>
  <block id="14329285e97380c7974e3cddbadaca9b" category="paragraph">如果您在存储节点与用于云存储池的外部 S3 端点之间配置了非透明存储代理，则可能会遇到此错误。如果外部代理服务器无法访问云存储池端点，则会发生此错误。例如， DNS 服务器可能无法解析主机名，或者可能存在外部网络问题描述 。</block>
  <block id="255fd0918b74383d741908d06aadad06" category="list-text">检查云存储池（ * ILM * &gt; * 存储池 * ）的设置。</block>
  <block id="37578b4294e3af48589eaf3d6f6f4406" category="list-text">检查存储代理服务器的网络配置。</block>
  <block id="42db65c0de225241868f1db36a20215d" category="paragraph"><block ref="42db65c0de225241868f1db36a20215d" category="inline-xref-macro-rx"></block></block>
  <block id="51aad5d9b0d64cb461d8399bbb14080f" category="summary">配置和使用存储池时，请遵循以下准则。</block>
  <block id="9dd373bb073941dd034271c3554f4fb3" category="section-title">所有存储池的准则</block>
  <block id="b338269eb03ad7c9cabca15a8ec4585c" category="list-text">StorageGRID 包括一个默认存储池 " 所有存储节点 " ，该存储池使用默认站点，所有站点以及默认存储级别 " 所有存储节点 " 。每当您添加新的数据中心站点时，系统都会自动更新所有存储节点存储池。</block>
  <block id="24d06d6f33ae7d982f8df2dcc8777618" category="admonition">建议不要使用所有存储节点存储池或所有站点站点站点，因为这些项目会自动更新，以包括您在扩展中添加的任何新站点，而这可能不是您希望的行为。在使用所有存储节点存储池或默认站点之前，请仔细阅读有关复制的副本和经过纠删编码的副本的准则。</block>
  <block id="4e5f5b48f9d929ff63a1b2123674e1ce" category="list-text">尽可能简化存储池配置。创建的存储池不要超过所需数量。</block>
  <block id="a551d15f83c85eea79829d29131fc346" category="list-text">创建具有尽可能多节点的存储池。每个存储池应包含两个或更多节点。如果节点不可用，则节点不足的存储池可以对发生原因 ILM 进行回退。</block>
  <block id="962f539dfb6dc1c14cc35e28b4af233d" category="list-text">避免创建或使用重叠的存储池（包含一个或多个相同节点）。如果存储池重叠，则可能会在同一节点上保存多个对象数据副本。</block>
  <block id="ece0b065b8c3eb5c40e8edff227a24e5" category="section-title">用于复制副本的存储池准则</block>
  <block id="128d55444fbd6b92c2a3e507113d3da6" category="list-text">为每个站点创建不同的存储池。然后，在每个规则的放置说明中指定一个或多个特定于站点的存储池。对每个站点使用存储池可确保复制的对象副本准确放置在所需位置（例如，每个站点上的每个对象一个副本，以实现站点丢失保护）。</block>
  <block id="4d27d878339173b04d75f7d9493f28e0" category="list-text">如果在扩展中添加站点，请为新站点创建一个新存储池。然后，更新 ILM 规则以控制新站点上存储的对象。</block>
  <block id="21fea2e9bf0c1cf92ce62d73fba20e96" category="list-text">通常，不要使用默认存储池，所有存储节点或包含默认站点的任何存储池，即所有站点。</block>
  <block id="fcef7ed3401e17de6f7b9fc4ead391eb" category="section-title">用于擦除编码副本的存储池准则</block>
  <block id="1810d3316a9267df27a622c86fac5781" category="list-text">您不能对纠删编码的数据使用归档节点。</block>
  <block id="50da9dccfc2a494e4a2122d71ab100ae" category="list-text">存储池中包含的存储节点和站点数量决定了可用的纠删编码方案。</block>
  <block id="5d8cc77c98fd140360afff7cea47f320" category="list-text">如果存储池仅包含两个站点，则不能使用该存储池进行纠删编码。对于具有两个站点的存储池，没有可用的纠删编码方案。</block>
  <block id="b9c6015e848e47426a719a327e2f5d87" category="list-text">通常，不要使用默认存储池，所有存储节点或包含默认站点的任何存储池，也不要使用任何擦除编码配置文件中的所有站点。</block>
  <block id="f79f273da392725f48a76dfa126b8665" category="admonition">如果您的网格仅包含一个站点，则系统将阻止您使用擦除编码配置文件中的所有存储节点存储池或所有站点默认站点。此行为可防止添加第二个站点时擦除编码配置文件变得无效。</block>
  <block id="8d9fc9d74b41fa0604d3ce03c565de4a" category="list-text">如果您的吞吐量要求较高，则在站点之间的网络延迟超过 100 毫秒时，建议不要创建包含多个站点的存储池。随着延迟增加， StorageGRID 创建，放置和检索对象片段的速率会因 TCP 网络吞吐量降低而大幅下降。吞吐量的下降会影响对象载入和检索的最大可实现速率（如果选择 " 严格 " 或 " 平衡 " 作为 " 载入 " 行为），或者可能导致 ILM 队列回退（如果选择 " 双提交 " 作为 " 载入 " 行为）。</block>
  <block id="559ef664f33859013ede0936ff7e13fd" category="list-text">如果可能，存储池中的存储节点数应超过您选择的纠删编码方案所需的最小存储节点数。例如，如果您使用 6+3 纠删编码方案，则必须至少有九个存储节点。但是，建议每个站点至少另外配置一个存储节点。</block>
  <block id="d557eabd22710981e9061da0a0896094" category="list-text">尽可能均匀地在各个站点之间分布存储节点。例如，要支持 6+3 纠删编码方案，请配置一个存储池，使其在三个站点中至少包含三个存储节点。</block>
  <block id="22d0717194a8272f5b27c56e2c3e3c76" category="section-title">用于归档副本的存储池准则</block>
  <block id="e16cebfd355533907fc0c79dfd3ba58d" category="list-text">您不能创建同时包含存储节点和归档节点的存储池。归档副本需要一个仅包含归档节点的存储池。</block>
  <block id="b3aba2ae8fccae871969feb3259408b7" category="list-text">如果使用的存储池包含归档节点，则还应在包含存储节点的存储池上至少维护一个已复制或经过纠删编码的副本。</block>
  <block id="5b205f9cd390ecf491ef73d1016735f6" category="list-text">如果启用了全局 S3 对象锁定设置，并且您要创建合规的 ILM 规则，则不能使用包含归档节点的存储池。请参见有关使用 S3 对象锁定管理对象的说明。</block>
  <block id="cac83f9b409ed55494853eea6b45074f" category="list-text">如果归档节点的目标类型为 Cloud Tiering - Simple Storage Service （ S3 ），则归档节点必须位于其自己的存储池中。请参见 <block ref="17ca69142de7a1be9c13ab3a575873bc" category="inline-xref-macro-rx"></block>。</block>
  <block id="c2673af4fb3fa9c84c46de0696c3c009" category="inline-xref-macro">什么是复制</block>
  <block id="780072d1966126dcfbc7ca4577beaa97" category="list-text"><block ref="780072d1966126dcfbc7ca4577beaa97" category="inline-xref-macro-rx"></block></block>
  <block id="8e0512604fa187e7000c4faa9822b03b" category="inline-xref-macro">什么是纠删编码</block>
  <block id="3ef1dc4f457c376874611cb4dd1233b8" category="list-text"><block ref="3ef1dc4f457c376874611cb4dd1233b8" category="inline-xref-macro-rx"></block></block>
  <block id="cc2b09500fd91937edf1ae823d88d21b" category="inline-xref-macro">什么是纠删编码方案</block>
  <block id="d445a6d2d7f977efbc1c6722dfc8d59c" category="list-text"><block ref="d445a6d2d7f977efbc1c6722dfc8d59c" category="inline-xref-macro-rx"></block></block>
  <block id="880102fb9082113dc4d3472ef26599b3" category="inline-xref-macro">使用多个存储池进行跨站点复制</block>
  <block id="050ad88f592d8c1790fd41b2fb843da9" category="list-text"><block ref="050ad88f592d8c1790fd41b2fb843da9" category="inline-xref-macro-rx"></block></block>
  <block id="a8fbb963c60f039c1802755757c90141" category="summary">您可以使用创建 ILM 规则向导创建 ILM 规则。</block>
  <block id="e349087a304ded235efa9a89f7ce7775" category="doc">访问创建 ILM 规则向导</block>
  <block id="27dfb87310561623f8ccb557b1d01061" category="paragraph">您可以通过 ILM 规则管理对象数据随时间的放置。要创建 ILM 规则，请使用创建 ILM 规则向导。</block>
  <block id="244d8ae2c501013e602d4eb269101ae5" category="admonition">如果要为策略创建默认 ILM 规则，请改用此操作步骤 ： <block ref="eb3a79466822bf53010d24bcaac5f39c" category="inline-xref-macro-rx"></block>。</block>
  <block id="66b02ba63aed16d66a3c7e58e54e73e1" category="list-text">如果要指定此规则适用场景 中的租户帐户，您拥有 " 租户帐户 " 权限或知道每个帐户的帐户 ID 。</block>
  <block id="d6d39876fa152aa5bf026036905b791d" category="list-text">如果您希望规则按上次访问时间元数据筛选对象，则必须通过 S3 的存储分段或 Swift 的容器启用上次访问时间更新。</block>
  <block id="b2525385d8e45990d362ed7340fb602a" category="inline-xref-macro">创建存储池</block>
  <block id="e1a2a5956be28a72665869a0d4d0bd21" category="inline-xref-macro">创建云存储池</block>
  <block id="e05384342e82b318666e8f8b9fd38b58" category="list-text">如果要创建复制的副本，则已配置计划使用的任何存储池或云存储池。请参见 <block ref="dfdf0ae80ec1a4fae2a248f19af881f3" category="inline-xref-macro-rx"></block> 和 <block ref="0c39968818362b1dedc7451f76fd8bb2" category="inline-xref-macro-rx"></block>。</block>
  <block id="e93f7962716ffae90eaf42f6d4f21bc5" category="inline-xref-macro">创建擦除编码配置文件</block>
  <block id="44dcd6e017bb1f0353bdfee9a5b7363d" category="list-text">如果要创建纠删编码副本，则已配置纠删编码配置文件。请参见 <block ref="ee8cdc875fd9a806b8363b89b27098b8" category="inline-xref-macro-rx"></block>。</block>
  <block id="24bf94fd0320348d4fc63844e3089a0f" category="inline-xref-macro">用于载入的数据保护选项</block>
  <block id="41cbbbb9559853ae81a194ae715ca0f6" category="list-text">您熟悉 <block ref="15e026db0f9a6c37c74202aa9270bc29" category="inline-xref-macro-rx"></block>。</block>
  <block id="68621a18102b70621cdeec731a13f580" category="inline-xref-macro">S3 对象锁定的要求</block>
  <block id="60d0aba51859a3522fbef0af31c38578" category="list-text">如果您需要创建一个用于 S3 对象锁定的合规规则，您将熟悉 <block ref="25d691182927598510a73950ed99b613" category="inline-xref-macro-rx"></block>。</block>
  <block id="ec7410b0a33d0e9c2cf4a59f365dfa84" category="inline-link">视频： StorageGRID ILM 规则：入门</block>
  <block id="80ce898b4609bab3d30eda89d72bc257" category="list-text">您也可以观看以下视频：<block ref="dde6988d0f65232e0ea1d06ef24e4b88" category="inline-link-rx"></block>。</block>
  <block id="0e362b3f8b165a90640c864707240b78" category="paragraph">创建 ILM 规则时：</block>
  <block id="5f803be29106f6c8dc005ce72279437b" category="list-text">请考虑 StorageGRID 系统的拓扑和存储配置。</block>
  <block id="c83ccbd99ab428240a1823cfb24b9805" category="list-text">请考虑要创建的对象副本类型（复制或擦除编码）以及所需的每个对象的副本数量。</block>
  <block id="2248c658ec531137c72d82affbe59e9c" category="list-text">确定连接到 StorageGRID 系统的应用程序中使用的对象元数据类型。ILM 规则根据对象的元数据筛选对象。</block>
  <block id="3e7dd96a5482e23ebf15a058f8bbb4e9" category="list-text">请考虑随时间推移对象副本的放置位置。</block>
  <block id="08bd73f5a8f810008dad16e44683f5f7" category="list-text">确定在载入时使用哪种数据保护选项（均衡，严格或双提交）。</block>
  <block id="69941571d5316bf29627b3008651cfe7" category="paragraph">此时将显示 "ILM Rules" 页面，其中选中了 "Make 2 copies" 规则。</block>
  <block id="fddc34497e488e97a7ba18a57bc2a139" category="image-alt">ILM 规则页面</block>
  <block id="358b372ec80d10649188c1f9ef14627d" category="admonition">如果已为 StorageGRID 系统启用全局 S3 对象锁定设置，则 "ILM 规则 " 页面看起来略有不同。摘要表包含一个 * 符合 * 列，选定规则的详细信息包含一个 * 符合 * 字段。</block>
  <block id="3de05a3c4d40e3821b53d362c985e47e" category="paragraph">此时将显示创建 ILM 规则向导的第 1 步（定义基础知识）。您可以使用 " 定义基础知识 " 页面定义规则适用场景 的对象。</block>
  <block id="32b8f579606f9af7497aeea62d9c5693" category="summary">信息生命周期管理 \ （ ILM ）策略是一组有序的 ILM 规则，用于确定 StorageGRID 系统如何在一段时间内管理对象数据。</block>
  <block id="cc0029a6567682f80b80c2182988e66c" category="doc">什么是 ILM 策略</block>
  <block id="eaf1f38ffad5f3c3703030d4272a9bd2" category="paragraph">信息生命周期管理（ ILM ）策略是一组有序的 ILM 规则，用于确定 StorageGRID 系统如何在一段时间内管理对象数据。</block>
  <block id="f5b4ffa0e96ac1f1a4a072dc51cbdec7" category="section-title">ILM 策略如何评估对象？</block>
  <block id="3bcfff309e4d9f637b5938cdd80fc6bf" category="list-text">如果没有与对象匹配的规则，则会应用策略中默认规则的载入行为和放置说明。默认规则是策略中的最后一个规则。默认规则必须应用于所有租户，所有分段和所有对象版本，并且不能使用任何高级筛选器。</block>
  <block id="8333863c61aa7cef3e56ed02f49a52ab" category="section-title">建议的策略，活动策略和历史策略是什么？</block>
  <block id="dff3b510ddc73cb12faeadfd3ec9d163" category="paragraph">每个 StorageGRID 系统都必须有一个活动的 ILM 策略。StorageGRID 系统可能还具有一个建议的 ILM 策略和任意数量的历史策略。</block>
  <block id="d0618a0a9bcc3d1af889dfa46487e308" category="paragraph">首次创建 ILM 策略时，您可以通过选择一个或多个 ILM 规则并按特定顺序对其进行排列来创建建议的策略。模拟建议的策略以确认其行为后，您可以激活它以创建活动策略。</block>
  <block id="81fbc890f347bf877232a6da5cf03ed2" category="paragraph">激活新的 ILM 策略时， StorageGRID 会使用该策略管理所有对象，包括现有对象和新载入的对象。实施新策略中的 ILM 规则后，现有对象可能会移至新位置。</block>
  <block id="5b6713ef4ecedd462aa5d6de637376ae" category="paragraph">激活建议的策略将导致先前处于活动状态的策略成为历史策略。无法删除历史 ILM 策略。</block>
  <block id="6127b18288288ef9b16dbf61177f8c20" category="image-alt">ILM 策略的概念映像</block>
  <block id="70f8913af8aaa5673fe801c992d32eb5" category="summary">在创建 ILM 规则以创建复制副本时，您应始终在放置说明中指定至少两个副本，以便在任意时间段内使用。</block>
  <block id="df8dabc67fd5f8194ecabf69cc70cccd" category="admonition">请勿使用仅在任意时间段创建一个复制副本的 ILM 规则。如果某个对象只存在一个复制副本，则在存储节点出现故障或出现严重错误时，该对象将丢失。在升级等维护过程中，您还会暂时失去对对象的访问权限。</block>
  <block id="459256a0d7b9f2d782c8697b95a2fcbd" category="paragraph">在以下示例中， Make 1 Copy ILM 规则指定将对象的一个复制副本放置在包含三个存储节点的存储池中。如果载入的对象与此规则匹配，则 StorageGRID 仅会在一个存储节点上放置一个副本。</block>
  <block id="a31ca16b466a62393ab4c2946f2177c7" category="image-alt">ILM 复制制作 1 个副本</block>
  <block id="bccf04d86420dd612240b572055e4545" category="paragraph">如果 ILM 规则仅创建一个对象的一个复制副本，则在存储节点不可用时，此对象将无法访问。在此示例中，只要存储节点 2 脱机，例如在升级或其他维护操作步骤 期间，您将暂时无法访问对象 AAA 。如果存储节点 2 发生故障，您将完全丢失对象 AAA 。</block>
  <block id="60c32a10e5449b95729c23e11465b32f" category="image-alt">ILM 复制 Make 1 副本 SN 失败</block>
  <block id="8464a6ee0799588d3e4e1b30eebe7678" category="paragraph">为了避免丢失对象数据，您应始终为要通过复制保护的所有对象创建至少两个副本。如果存在两个或更多副本，则在一个存储节点出现故障或脱机时，您仍可以访问此对象。</block>
  <block id="3798a83f77abc6e3e66729a39db199a8" category="image-alt">ILM 复制创建 2 个副本 SN 失败</block>
  <block id="4f96216995f1d461594d5ff50af69f12" category="summary">要创建擦除编码配置文件，请将包含存储节点的存储池与擦除编码方案关联。此关联可确定创建的数据和奇偶校验片段的数量，以及系统将这些片段分布在何处。</block>
  <block id="3bc7190cc2b74cb98f6c6c86361dc378" category="list-text">您已创建一个仅包含一个站点的存储池，或者创建了一个包含三个或更多站点的存储池。对于只有两个站点的存储池，没有可用的纠删编码方案。</block>
  <block id="a696116dc42f4afc3398b3f8579c56e6" category="paragraph">擦除编码配置文件中使用的存储池必须仅包含一个站点或三个或更多站点。如果要提供站点冗余，则存储池必须至少具有三个站点。</block>
  <block id="7eba431c0e769d0c8e8bfb3070b2c32e" category="admonition">您必须选择包含存储节点的存储池。您不能对纠删编码的数据使用归档节点。</block>
  <block id="8164e67dca5d288cb19f31a335afe467" category="list-text">选择 * ILM * &gt; * 擦除编码 * 。</block>
  <block id="8ea194e5a00bb320d2f9cddec2dcb37c" category="paragraph">此时将显示擦除编码配置文件页面。</block>
  <block id="09b43dd3e82f3a0dad6090046b58d212" category="image-alt">纠删编码配置文件页面</block>
  <block id="7af93e010d658aef4961c4d371884834" category="paragraph">此时将显示创建 EC 配置文件对话框。</block>
  <block id="62b51d5847b098c3abb446ed4c64560f" category="image-alt">创建 EC 配置文件页面</block>
  <block id="762ebc18a4db7f70fb031207d3db9ff9" category="list-text">为擦除编码配置文件输入一个唯一名称。</block>
  <block id="773dd4a6ac1bbb0f371cfa593d1d1399" category="paragraph">纠删编码配置文件名称必须是唯一的。如果您使用现有配置文件的名称，则会发生验证错误，即使该配置文件已停用也是如此。</block>
  <block id="f39c77e9614ec7dde46c203b103718de" category="admonition">Erasure Coding 配置文件名称会附加到 ILM 规则放置说明中的存储池名称中。</block>
  <block id="cd1166b2d3d25083fd3b0b4f5d15cbd4" category="list-text">选择为此擦除编码配置文件创建的存储池。</block>
  <block id="9eff31d31bf3df18990825131e4fe721" category="admonition">如果网格当前仅包含一个站点，则系统将阻止您使用默认存储池，所有存储节点或任何包含默认站点的存储池，所有站点。此行为可防止添加第二个站点时擦除编码配置文件变得无效。</block>
  <block id="d23c04a2b0a6a6da3608a568d7f8312e" category="admonition">如果存储池仅包含两个站点，则不能使用该存储池进行纠删编码。对于具有两个站点的存储池，没有可用的纠删编码方案。</block>
  <block id="4e96c41c8842353c7dc7d299f379428e" category="paragraph">选择存储池时，将根据池中的存储节点和站点数量显示可用纠删编码方案的列表。</block>
  <block id="fee49fa4b2a7629b77d01528a7af5d5f" category="image-alt">创建 EC 配置文件三个站点</block>
  <block id="4a0e14f971795875c21dbede8482327f" category="paragraph">列出了每个可用纠删编码方案的以下信息：</block>
  <block id="86b715969b10762ce13607ddd8aff740" category="list-text">* 擦除代码 * ：擦除编码方案的名称，格式如下：数据片段 + 奇偶校验片段。</block>
  <block id="7f7d65fd61ffb3f4f9629468e8c7a4da" category="list-text">* 存储开销（ % ） * ：相对于对象的数据大小，奇偶校验片段所需的额外存储。存储开销 = 奇偶校验片段的总数 / 数据片段的总数。</block>
  <block id="c8e87b0260343d02b640749521794895" category="list-text">* 存储节点冗余 * ：在保持检索对象数据的能力的情况下可能丢失的存储节点数。</block>
  <block id="70a6a50ee253b8431e5fedc91f7342ff" category="list-text">* 站点冗余 * ：选定纠删代码是否允许在站点丢失时检索对象数据。</block>
  <block id="73d4ebc0f909e368798f264ff8a0b782" category="paragraph">要支持站点冗余，选定存储池必须包含多个站点，每个站点都具有足够的存储节点，以允许任何站点丢失。例如，要使用 6+3 纠删编码方案支持站点冗余，选定存储池必须至少包含三个站点，每个站点至少包含三个存储节点。</block>
  <block id="772fc36bc8318f2e251f66e244b83c28" category="paragraph">在以下情况下会显示消息：</block>
  <block id="faf57aeca959d505b7e68e10d89a60d9" category="list-text">您选择的存储池不提供站点冗余。如果选定存储池仅包含一个站点，则会显示以下消息。您可以在 ILM 规则中使用此擦除编码配置文件来防止节点故障。</block>
  <block id="05231c9a793469c48bf4a9182ed3d042" category="image-alt">创建 EC 配置文件无站点冗余</block>
  <block id="60346b78bed37c75c43ed39653267555" category="list-text">您选择的存储池不满足任何纠删编码方案的要求。例如，如果选定存储池仅包含两个站点，则会显示以下消息。如果要使用纠删编码来保护对象数据，则必须选择一个存储池（仅包含一个站点）或一个存储池（包含三个或更多站点）。</block>
  <block id="74dd14e96e88f0961a9443a0184736a8" category="image-alt">擦除编码配置文件错误</block>
  <block id="68fbb0ed82339a8442e159e0548b4c1b" category="list-text">您的网格仅包含一个站点，并且您选择了默认存储池，所有存储节点或任何包含默认站点的存储池，所有站点。</block>
  <block id="a57a21d2a805b2c87ab585245019d8af" category="image-alt">ILM EC 配置文件所有存储节点警告</block>
  <block id="997e2b700458f0fd8e37e004d62cb283" category="list-text">您选择的纠删编码方案和存储池与另一个纠删编码配置文件重叠。</block>
  <block id="4167e0057fd671669d43a05884ebbf6b" category="image-alt">ILM EC 配置文件擦除编码方案警告</block>
  <block id="e89210fde86031f3ffc13c1c0a3f0e8f" category="paragraph">在此示例中，将显示一条警告消息，因为另一个纠删编码配置文件正在使用 2+1 方案，而另一个配置文件的存储池也使用全部 3 个站点存储池中的一个站点。</block>
  <block id="63a7fabe7914fdced6e6d1ee3b16b251" category="paragraph">虽然不会阻止您创建此新配置文件，但在 ILM 策略中开始使用此配置文件时必须非常小心。如果将此新配置文件应用于已受另一个配置文件保护的现有纠删编码对象，则 StorageGRID 将创建一组全新的对象片段。它不会重复使用现有 2+1 片段。从一个纠删编码配置文件迁移到另一个纠删编码配置文件时，可能会出现资源问题，即使纠删编码方案相同也是如此。</block>
  <block id="666922255c75a159e989d249dc5475c4" category="list-text">如果列出了多个纠删编码方案，请选择要使用的方案。</block>
  <block id="8894e4df6c7e74a907071077ea392a08" category="paragraph">在确定要使用的纠删编码方案时，您应根据修复所需的网络流量要求（碎片越多，网络流量越多）平衡容错（通过具有更多奇偶校验分段来实现）。例如，在选择 4+2 方案和 6+3 方案时，如果需要额外的奇偶校验和容错功能，请选择 6+3 方案。如果在节点修复期间网络资源受到限制，从而减少了网络使用量，请选择 4+2 方案。</block>
  <block id="478e7b0587cc86d4539d07a0b983f45c" category="summary">如果您的 StorageGRID 部署包含多个站点，则可以通过为每个站点创建一个存储池并在规则的放置说明中指定这两个存储池来启用站点丢失保护。例如，如果您将 ILM 规则配置为创建两个复制副本并指定两个站点上的存储池，则每个对象的一个副本将放置在每个站点上。如果您将规则配置为创建两个副本并指定三个存储池，则会分发这些副本以平衡存储池之间的磁盘使用量，同时确保这两个副本存储在不同的站点上。</block>
  <block id="f3dd2ae52aae18d61b6eb4efbe8fe66c" category="paragraph">如果您的 StorageGRID 部署包含多个站点，则可以通过为每个站点创建一个存储池并在规则的放置说明中指定这两个存储池来启用站点丢失保护。例如，如果您将 ILM 规则配置为创建两个复制副本并指定两个站点上的存储池，则每个对象的一个副本将放置在每个站点上。如果您将规则配置为创建两个副本并指定三个存储池，则会分发这些副本以平衡存储池之间的磁盘使用量，同时确保这两个副本存储在不同的站点上。</block>
  <block id="e011efec556e797c8a13fcd1eca12ef4" category="paragraph">以下示例说明了在 ILM 规则将复制的对象副本放置到包含两个站点中的存储节点的单个存储池时可能会发生的情况。由于系统在放置复制的副本时会使用存储池中的任何可用节点，因此可能只会将某些对象的所有副本放置在其中一个站点中。在此示例中，系统会在站点 1 的存储节点上存储两个对象 AAA 副本，并在站点 2 的存储节点上存储两个对象 ccc 副本。只有当某个站点发生故障或无法访问时，对象 BBB 才会受到保护。</block>
  <block id="c561d31344687c6a2bcb11972558d971" category="image-alt">在两个站点上创建 2 个副本规则，但仅在一个存储池中创建</block>
  <block id="6bb056769a7c18a81f5953562abd2c39" category="paragraph">相比之下，此示例说明了使用多个存储池时对象的存储方式。在此示例中， ILM 规则指定为每个对象创建两个复制副本，并将这些副本分发到两个存储池。每个存储池都包含一个站点上的所有存储节点。由于每个对象的副本存储在每个站点上，因此，可以防止对象数据出现站点故障或无法访问。</block>
  <block id="f816c697b4502ec82f768516bb293e74" category="image-alt">在两个站点和两个存储池上创建 2 个副本规则</block>
  <block id="7294b2ed56e44a9fb0881c4bb08c85d6" category="paragraph">使用多个存储池时，请记住以下规则：</block>
  <block id="149e6e0247f169fea412871997890bf7" category="list-text">如果要创建 n 个副本，则必须添加 n 个或更多存储池。例如，如果将规则配置为创建三个副本，则必须指定三个或更多存储池。</block>
  <block id="7f16675d354221424f5b8865559dd980" category="list-text">如果副本数小于存储池数，则系统会分发这些副本，以便在池之间保持磁盘使用量的平衡，并确保两个或更多副本不会存储在同一个存储池中。</block>
  <block id="54020d0cbf7ea97c5b5518e370f29873" category="list-text">如果存储池重叠（包含相同的存储节点），则对象的所有副本可能只保存在一个站点上。您必须确保选定存储池不包含相同的存储节点。</block>
  <block id="c90c57311619634df200de33c58d258c" category="summary">在开始使用云存储池时，了解云存储池与 StorageGRID CloudMirror 复制服务之间的相似之处和不同之处可能会很有帮助。</block>
  <block id="550694202ce37ca6e91f203d5ada1b40" category="doc">比较云存储池和 CloudMirror 复制</block>
  <block id="e291af34a1b613151c8c8abac62b2855" category="paragraph">主要目的是什么？</block>
  <block id="17021f844c17ed974055bf3226b2b49b" category="paragraph">云存储池充当归档目标。云存储池中的对象副本可以是对象的唯一副本，也可以是其他副本。也就是说，您只能在 StorageGRID 中保留一个副本并将一个副本发送到云存储池，而不是在内部保留两个副本。</block>
  <block id="f35f95795627d89998e0336cce90b240" category="paragraph">通过 CloudMirror 复制服务，租户可以自动将对象从 StorageGRID （源）中的存储分段复制到外部 S3 存储分段（目标）。CloudMirror 复制会在独立的 S3 基础架构中为对象创建一个独立副本。</block>
  <block id="cdf65de26d391f542096e1fbec3d93a9" category="paragraph">如何设置？</block>
  <block id="b63342a83e1562dc968220d04530b170" category="paragraph">云存储池的定义方式与存储池相同，可使用网格管理器或网格管理 API 。可以在 ILM 规则中选择云存储池作为放置位置。虽然存储池包含一组存储节点，但云存储池是使用远程 S3 或 Azure 端点（ IP 地址，凭据等）定义的。</block>
  <block id="b00b0f870eb2742156e892d23dbff2bf" category="inline-xref-macro">配置 CloudMirror 复制</block>
  <block id="930b07fd5695b8309c945fc49e24c381" category="paragraph">租户用户 <block ref="31cd09f70dcebc39e0a6681276c74fd9" category="inline-xref-macro-rx"></block> 通过使用租户管理器或 S3 API 定义 CloudMirror 端点（ IP 地址，凭据等）。设置 CloudMirror 端点后，可以将该租户帐户拥有的任何分段配置为指向 CloudMirror 端点。</block>
  <block id="6e7e8cf9dec9266d13034b395a1f30d2" category="paragraph">谁负责设置？</block>
  <block id="f37c1181610d650f625cc26c5fa967f3" category="paragraph">通常是网格管理员</block>
  <block id="76a42b008b05b4526d540acc6ec26a7b" category="paragraph">通常是租户用户</block>
  <block id="2e26822042b33e5a4d4455c2bde89cb2" category="paragraph">目标是什么？</block>
  <block id="c0182d7ceb9d6a1e1278794bdb79045d" category="list-text">任何兼容的 S3 基础架构（包括 Amazon S3 ）</block>
  <block id="2ccbbc0ad278dbfece85049860b4be61" category="list-text">Azure Blob 归档层</block>
  <block id="f71dd97f0f6f2caecff0012172d32557" category="paragraph">将对象移动到目标的原因是什么？</block>
  <block id="ee6bdbc3e506302cc9220eff07576bdc" category="paragraph">活动 ILM 策略中的一个或多个 ILM 规则。ILM 规则定义 StorageGRID 将哪些对象移动到云存储池以及何时移动这些对象。</block>
  <block id="d252a80040e4f4dfa36dea268baedb92" category="paragraph">将新对象载入已配置 CloudMirror 端点的源分段的操作。在使用 CloudMirror 端点配置分段之前，源分段中存在的对象不会复制，除非已进行修改。</block>
  <block id="67eb4f68c5f0f1888bb9d31520333e6d" category="paragraph">如何检索对象？</block>
  <block id="61842902a4090b1fa8dc48564ff60c14" category="paragraph">应用程序必须向 StorageGRID 发出请求，以检索已移动到云存储池的对象。如果某个对象的唯一副本已过渡到归档存储，则 StorageGRID 会管理还原该对象的过程，以便可以检索该对象。</block>
  <block id="bf35657c2d3258fc591085515877d291" category="paragraph">由于目标存储分段中的镜像副本是一个独立的副本，因此应用程序可以通过向 StorageGRID 或 S3 目标发出请求来检索对象。例如，假设您使用 CloudMirror 复制将对象镜像到合作伙伴组织。配对节点可以使用自己的应用程序直接从 S3 目标读取或更新对象。不需要使用 StorageGRID 。</block>
  <block id="2f16c95aa197b43f7314f6dfddbed2e9" category="paragraph">是否可以直接从目标读取？</block>
  <block id="731577e540d7b93d1fd8d5a40894a100" category="paragraph">否移动到云存储池的对象由 StorageGRID 管理。读取请求必须定向到 StorageGRID （ StorageGRID 将负责从云存储池中检索）。</block>
  <block id="3b3ed01caa8f71be32cf5572d99fa13c" category="paragraph">可以，因为镜像副本是一个独立副本。</block>
  <block id="c9b2af0e48e2ccc04485287314ea6c5a" category="paragraph">如果从源中删除对象，会发生什么情况？</block>
  <block id="8a56103f9d11a3f81a68c9fbc0abc3bb" category="paragraph">此对象也会在云存储池中删除。</block>
  <block id="ea72fad617462d249864af84f511c7cf" category="paragraph">不会复制删除操作。已删除的对象不再位于 StorageGRID 存储分段中，但它仍位于目标存储分段中。同样，可以删除目标分段中的对象而不影响源。</block>
  <block id="f134b7a8f46d3bfbe2df6da159677d62" category="paragraph">发生灾难后如何访问对象（ StorageGRID 系统无法运行）？</block>
  <block id="f3612f8d25331c0a5426dec700d6ba38" category="paragraph">必须恢复发生故障的 StorageGRID 节点。在此过程中，复制对象的副本可能会使用云存储池中的副本进行还原。</block>
  <block id="eb234ba4f6e3add833e43535c32cbe86" category="paragraph">CloudMirror 目标中的对象副本独立于 StorageGRID ，因此可以在恢复 StorageGRID 节点之前直接访问这些副本。</block>
  <block id="35c70fe4af53d9a5a3bd6c555554069b" category="summary">创建 ILM 策略时，首先要选择并排列 ILM 规则。然后，您可以根据先前载入的对象模拟建议的策略，以验证其行为。如果您对建议的策略按预期运行感到满意，则可以激活此策略以创建活动策略。</block>
  <block id="5a1f3b5e6b2d120c14cfbc10d5bd5997" category="doc">创建 ILM 策略：概述</block>
  <block id="e8c723f7168875735d8d19e27279f135" category="admonition">配置不正确的 ILM 策略可能导致无法恢复的数据丢失。激活 ILM 策略之前，请仔细查看 ILM 策略及其 ILM 规则，然后模拟 ILM 策略。请始终确认 ILM 策略将按预期运行。</block>
  <block id="366c2a150a90a4f92ce8118842b37688" category="section-title">创建 ILM 策略的注意事项</block>
  <block id="144ae1ffa7984fcbae7e022bc201086e" category="list-text">仅在测试系统中使用系统的内置策略基线 2 副本策略。此策略中的 Make 2 Copies 规则使用包含所有站点的所有存储节点存储池。如果 StorageGRID 系统具有多个站点，则一个对象的两个副本可能会放置在同一站点上。</block>
  <block id="c0e8c259f95b79655fd28e8d71923569" category="list-text">在设计新策略时，请考虑可能会输入到网格中的所有不同类型的对象。确保此策略包含与这些对象匹配并根据需要放置这些对象的规则。</block>
  <block id="68041034d51d8fe97d7021d1af21f22f" category="list-text">尽量使 ILM 策略简单。这样可以避免在随时间推移对 StorageGRID 系统进行更改时，对象数据无法按预期得到保护的潜在危险情况。</block>
  <block id="16bf1bc74a34a0feec16df6dbef12fdb" category="list-text">确保策略中的规则顺序正确。激活策略后，新对象和现有对象将按列出的顺序从顶部开始进行评估。例如，如果策略中的第一个规则与某个对象匹配，则任何其他规则都不会评估该规则。</block>
  <block id="3aa7337a9a1ae2d00de0a426c5a0b0c4" category="list-text">每个 ILM 策略中的最后一个规则是默认 ILM 规则，它不能使用任何筛选器。如果某个对象未被其他规则匹配，则默认规则将控制该对象的放置位置以及保留时间。</block>
  <block id="92bb80fa0a19ead93ae30380e9dc8f8a" category="list-text">在激活新策略之前，请查看此策略对现有对象的放置所做的任何更改。在评估和实施新放置时，更改现有对象的位置可能会导致临时资源问题。</block>
  <block id="430e220f3044a348f18a275f0a4b80d5" category="summary">在决定是使用复制还是纠删编码来保护对象数据不会丢失之前，您应了解纠删编码的优点，缺点和要求。</block>
  <block id="9c650d97cb02efb964195d0e2fd2d71b" category="doc">纠删编码的优势，劣势和要求</block>
  <block id="c9656344ad12401d9858f9ef9ec4b9e8" category="section-title">纠删编码的优势</block>
  <block id="e2ea4e880924a7b2b35dfd0116a775f8" category="paragraph">与复制相比，纠删编码可提高可靠性，可用性和存储效率。</block>
  <block id="7dea7a16e475df7fa0d74163e6f86dfd" category="list-text">* 可靠性 * ：可靠性通过容错来衡量—即，在不丢失数据的情况下可以同时发生的故障数量。通过复制，多个相同的副本会存储在不同的节点上以及不同的站点上。通过纠删编码，对象会编码为数据和奇偶校验片段，并分布在多个节点和站点上。这种分散方式可同时提供站点和节点故障保护。与复制相比，纠删编码可提高可靠性，而存储成本相当。</block>
  <block id="2e9065dfca54ecd3f43b9cee0498b60d" category="list-text">* 可用性 * ：可用性可定义为在存储节点出现故障或无法访问时检索对象的功能。与复制相比，纠删编码可以以相当的存储成本提高可用性。</block>
  <block id="a9f9b5a504325a32d8ff3fb342dbbbeb" category="list-text">* 存储效率 * ：对于相似级别的可用性和可靠性，通过纠删编码保护的对象比通过复制保护的相同对象占用的磁盘空间更少。例如，复制到两个站点的 10 MB 对象会占用 20 MB 的磁盘空间（两个副本），而采用 6+3 纠删编码方案在三个站点之间进行纠删编码的对象只会占用 15 MB 的磁盘空间。</block>
  <block id="2aeda9391f47fb3cb22a05fa7b5aafbd" category="admonition">擦除编码对象的磁盘空间计算为对象大小加上存储开销。存储开销百分比是奇偶校验片段数除以数据片段数。</block>
  <block id="fc6c6db574ae8d09b333cf8aeab8cc25" category="section-title">纠删编码的缺点</block>
  <block id="66cb3dc435057e25999657ba1ea9a2fd" category="paragraph">与复制相比，纠删编码具有以下缺点：</block>
  <block id="d6c80908404b00660558514b30dcd4a4" category="list-text">需要增加存储节点和站点的数量。例如，如果使用纠删编码方案 6+3 ，则必须在三个不同站点至少有三个存储节点。相比之下，如果只复制对象数据，则每个副本只需要一个存储节点。</block>
  <block id="2728280df0a09986ef5066f2269b89e7" category="list-text">存储扩展的成本和复杂性增加。要扩展使用复制的部署，只需在创建对象副本的每个位置添加存储容量即可。要扩展使用纠删编码的部署，您必须同时考虑使用的纠删编码方案以及现有存储节点的容量。例如，如果您等待现有节点达到 100% 全满，则必须至少添加 _k+m_ 存储节点，但如果在现有节点达到 70% 全满时进行扩展，则可以为每个站点添加两个节点，同时仍可最大程度地提高可用存储容量。有关详细信息，请参见 <block ref="92cf4a43c40412de1b7183f9fe07de3a" category="inline-xref-macro-rx"></block>。</block>
  <block id="770ca0777ba56038e48899a6616cd9a1" category="list-text">在分布在不同地理位置的站点之间使用纠删编码时，检索延迟会增加。与在本地复制并提供的对象（客户端连接的同一站点）相比，通过 WAN 连接检索经过纠删编码并分布在远程站点上的对象的对象片段所需时间更长。</block>
  <block id="26dc14027b54b52868bcec24fc4eb48c" category="list-text">在地理位置分散的站点之间使用纠删编码时，检索和修复的 WAN 网络流量使用率较高，尤其是频繁检索的对象或通过 WAN 网络连接进行对象修复。</block>
  <block id="1304d9096266b27a12a02ead3fbf9e65" category="list-text">当您在站点间使用纠删编码时，最大对象吞吐量会随着站点间网络延迟的增加而急剧下降。这一减少是由于 TCP 网络吞吐量相应减少，从而影响 StorageGRID 系统存储和检索对象片段的速度。</block>
  <block id="1319b578de7babbfe640bb3db15bdb77" category="list-text">提高计算资源的利用率。</block>
  <block id="60cd26e10f576f7b86b80546021dbf5e" category="section-title">何时使用纠删编码</block>
  <block id="bbbe3c1fb9a064262f15a3e678c467b1" category="paragraph">纠删编码最适合以下要求：</block>
  <block id="fc370ea35ee6cd6aa96134fa1366ddca" category="list-text">大于 1 MB 的对象。</block>
  <block id="873c91ffecbc3f9d876814aa6d3b7084" category="list-text">长期或冷存储，用于存储不经常检索的内容。</block>
  <block id="6bc3db8fbf960112747d8e79ea99bf63" category="list-text">高数据可用性和可靠性。</block>
  <block id="04972cfaa8f6378c51565e18ed5db889" category="list-text">防止发生完整的站点和节点故障。</block>
  <block id="c1409a0e897e34a11fdc483bd40c9f2e" category="list-text">存储效率。</block>
  <block id="b1d3c4aef0d73caa261fddf283d367f2" category="list-text">需要高效数据保护的单站点部署，只需一个纠删编码副本，而不是多个复制副本。</block>
  <block id="49ad338894ab83d6834e0ab50d5c4af9" category="list-text">站点间延迟小于 100 毫秒的多站点部署。</block>
  <block id="de78d2baa77455b3b84d5abdc7e49786" category="summary">纠删编码是 StorageGRID 存储对象数据的第二种方法。如果 StorageGRID 将对象与配置为创建纠删编码副本的 ILM 规则匹配，则会将对象数据分段为数据片段，计算额外的奇偶校验片段，并将每个片段存储在不同的存储节点上。访问某个对象时，系统会使用存储的片段重新组合该对象。如果数据或奇偶校验片段损坏或丢失，则纠删编码算法可以使用剩余数据和奇偶校验片段的子集重新创建该片段。</block>
  <block id="e77e3eda5011a00ef3297e88c01d826f" category="paragraph">以下示例说明了如何对对象数据使用纠删编码算法。在此示例中， ILM 规则使用 4+2 纠删编码方案。每个对象都会被划分为四个相等的数据片段，并根据对象数据计算两个奇偶校验片段。六个片段中的每个片段都存储在三个数据中心站点的不同节点上，以便为节点故障或站点丢失提供数据保护。</block>
  <block id="e09df24f539a30d71ca37b35ef7ad167" category="image-alt">对三个站点 4 加 2 进行纠删编码</block>
  <block id="7ba37eb4b14e0ef432f10b58a15addde" category="paragraph">4+2 纠删编码方案至少需要九个存储节点，三个不同站点中的每个站点各有三个存储节点。只要六个片段中的任意四个（数据或奇偶校验）仍然可用，就可以检索对象。最多可以丢失两个片段，而不会丢失对象数据。如果整个数据中心站点丢失，只要所有其他片段仍可访问，仍可检索或修复对象。</block>
  <block id="466a9a663d8759ebba76b46cd2daa1b9" category="image-alt">纠删编码可恢复 4 加 2</block>
  <block id="ebc35e8baff3d63b85861eace85a17d5" category="paragraph">如果丢失两个以上的存储节点，则无法检索此对象。</block>
  <block id="f4fbaef031033842193988c2aa101433" category="image-alt">纠删编码不可恢复 4 加 2</block>
  <block id="ee8cdc875fd9a806b8363b89b27098b8" category="list-text"><block ref="ee8cdc875fd9a806b8363b89b27098b8" category="inline-xref-macro-rx"></block></block>
  <block id="66d3fbdccd5c3ac4a2d1cfc40580c2c9" category="summary">您可以查看存储池的详细信息以确定存储池的使用位置，并查看包含哪些节点和存储级别。</block>
  <block id="29b46b6ed737fd12bb7bde77bdb52638" category="doc">查看存储池详细信息</block>
  <block id="df488c190e71bace6f0cda0fa13b14e9" category="paragraph">此时将显示存储池页面。此页面将列出所有已定义的存储池。</block>
  <block id="0ae1984c5e4fe2e840e0a9220d981fd1" category="image-alt">包含 Pools.png 的存储池页面</block>
  <block id="e9b88ec7017b3996a6faf4b909f439a2" category="paragraph">此表包含包含存储节点的每个存储池的以下信息：</block>
  <block id="4b2eb3f7c0bb8160c5bb3dc37876a146" category="list-text">* 名称 * ：存储池的唯一显示名称。</block>
  <block id="5338d6e12fa866d5bcf80e9626db2bc5" category="list-text">* 已用空间 * ：当前用于在存储池中存储对象的空间量。</block>
  <block id="732566a239c3a6732c6baebff33069fc" category="list-text">* 可用空间 * ：存储池中仍可用于存储对象的空间量。</block>
  <block id="c969538226acfff57f3ae3dab140190d" category="list-text">* 总容量 * ：存储池的大小，等于存储池中所有节点的对象数据的总可用空间量。</block>
  <block id="3fdf5bb87207ed8d24ffc76ace8441c1" category="list-text">* ILM 使用情况 * ：当前如何使用存储池。存储池可能未使用，也可能在一个或多个 ILM 规则，擦除编码配置文件或这两者中使用。</block>
  <block id="f52e117e1b5e858170675277c8768cdc" category="admonition">如果正在使用某个存储池，则无法将其删除。</block>
  <block id="e676d7e1ffb61e68002d1dffd403a22e" category="list-text">要查看有关特定存储池的详细信息，请选择其单选按钮并选择 * 查看详细信息 * 。</block>
  <block id="c393fe35e225a4a11bbbf24956c5bf2f" category="paragraph">此时将显示存储池详细信息模式。</block>
  <block id="713dc6afcb9eeb5f5620e07b1b0d9eb9" category="list-text">查看 * 包含的节点 * 选项卡，了解存储池中包含的存储节点或归档节点。</block>
  <block id="d7e9c73597ac40b5af0d52bbdc7172bd" category="image-alt">存储池详细信息节点</block>
  <block id="eed26cfeaebd7e56e365deb0ae01e8e0" category="paragraph">此表包含每个节点的以下信息：</block>
  <block id="668445f09da337d276dc852bb6a0dbb3" category="list-text">站点名称</block>
  <block id="a50820aea8f01efd9761bd0074e05f3e" category="list-text">已用（ % ）：对于存储节点，已用对象数据总可用空间的百分比。此值不包括对象元数据。</block>
  <block id="2ff0db65b78f4c410b8118aba012fc99" category="admonition">每个存储节点的 " 已用存储 - 对象数据 " 图表也显示了相同的已用（ % ）值（选择 * 节点 * &gt; * 存储节点 _* &gt; * 存储 * ）。</block>
  <block id="7b1b84016ab5f13d7cb76c973e4cb4d5" category="list-text">选择 * ILM Usage* 选项卡以确定存储池当前是否正在任何 ILM 规则或擦除编码配置文件中使用。</block>
  <block id="a3e98946f89c52b549f33f597f2f8d9e" category="paragraph">在此示例中， DC1 存储池用于三个 ILM 规则：两个规则位于活动 ILM 策略中，一个规则不在活动策略中。</block>
  <block id="fa12f9ef511dddc77b7249fc4890cc73" category="image-alt">存储池详细信息 ILM</block>
  <block id="1df0d0b83d4f7af22349ce900546b5d8" category="admonition">如果存储池在 ILM 规则中使用，则不能将其删除。</block>
  <block id="0749771f87949b51fbfd9206512f6ab0" category="paragraph">在此示例中，所有 3 个站点的存储池均用于擦除编码配置文件。反过来，活动 ILM 策略中的一个 ILM 规则也会使用该擦除编码配置文件。</block>
  <block id="648a46600cbe82bb6011b9c77bb133dc" category="image-alt">存储池详细信息 ILM EC</block>
  <block id="5fe40dcd2f37b0416346fb9caf17bfdf" category="admonition">如果存储池在擦除编码配置文件中使用，则无法将其删除。</block>
  <block id="86b3eaab5bf00560d2befb0d36a66c43" category="list-text">或者，也可以转到 * ILM 规则页面 * ，了解并管理使用存储池的任何规则。</block>
  <block id="dbff3a556e7343c9033b9377b49af6c3" category="paragraph">请参见有关使用 ILM 规则的说明。</block>
  <block id="2a966a526863c0ee3ef5dbf736610c9f" category="list-text">查看完存储池详细信息后，选择 * 关闭 * 。</block>
  <block id="97d6b37478e706e934118dfc4b628005" category="summary">要使用商用云服务 \ （ C2S ） S3 服务作为云存储池，您必须将 C2S 访问门户 \ （ CAP\ ）配置为身份验证类型，以便 StorageGRID 可以请求临时凭据来访问 C2S 帐户中的 S3 存储分段。</block>
  <block id="fd545420ea6567e53abe46a9ed0e361d" category="paragraph">要将商用云服务（ C2S ） S3 服务用作云存储池，您必须将 C2S 访问门户（ CAP ）配置为身份验证类型，以便 StorageGRID 可以请求临时凭据来访问 C2S 帐户中的 S3 存储分段。</block>
  <block id="e87c9ea2d5af413c5affe4701c470992" category="list-text">您已输入 Amazon S3 云存储池的基本信息，包括服务端点。</block>
  <block id="27ebc8f89fb0299bf4b798be6d660880" category="list-text">您知道 StorageGRID 用于从 CAP 服务器获取临时凭据的完整 URL ，包括分配给 C2S 帐户的所有必需和可选 API 参数。</block>
  <block id="f8ac332d2fb9d27e0e403bdf951af2b8" category="list-text">您拥有一个由适当的政府证书颁发机构（ CA ）颁发的服务器 CA 证书。StorageGRID 使用此证书来验证 CAP 服务器的身份。服务器 CA 证书必须使用 PEM 编码。</block>
  <block id="957e7c74746d1232cec8c4bbccb0b0c2" category="list-text">您拥有一个由适当的政府证书颁发机构（ CA ）颁发的客户端证书。StorageGRID 使用此证书向 CAP 服务器标识自身。客户端证书必须使用 PEM 编码，并且必须已授予对 C2S 帐户的访问权限。</block>
  <block id="0f2963eab03883c30a97763dc54a3d7c" category="list-text">您已为客户端证书使用 PEM 编码的专用密钥。</block>
  <block id="4e5425372027fbec0ef8cd895413f16c" category="list-text">如果客户端证书的专用密钥已加密，则您可以使用密码短语对其进行解密。</block>
  <block id="1f67664f00354f6b4983b029d404dfbb" category="list-text">在 * 身份验证 * 部分中，从 * 身份验证类型 * 下拉列表中选择 * CAP （ C2S Access Portal ） * 。</block>
  <block id="9ca65597e1f14641b0174b0c2eed55be" category="paragraph">此时将显示 CAP C2S 身份验证字段。</block>
  <block id="5a1595d3822a11c7f45eb8221ee20ca7" category="image-alt">创建云存储池 C2S</block>
  <block id="13c1455885d16af64f1bb96c4e48680a" category="list-text">请提供以下信息：</block>
  <block id="a20f188273f93371edb0d5906290087a" category="list-text">对于 * 临时凭据 URL* ，输入 StorageGRID 从 CAP 服务器获取临时凭据所使用的完整 URL ，包括分配给 C2S 帐户的所有必需和可选 API 参数。</block>
  <block id="6a51a44de0a7f15b097e216194345b24" category="list-text">对于 * 服务器 CA 证书 * ，选择 * 选择新 * ，然后上传 PEM 编码的 CA 证书， StorageGRID 将使用该证书来验证 CAP 服务器。</block>
  <block id="ca4231f30c40c8825b88e1f173c59c01" category="list-text">对于 * 客户端证书 * ，选择 * 选择新 * ，然后将 StorageGRID 用于标识自身的 PEM 编码证书上传到 CAP 服务器。</block>
  <block id="7585b1efc3cf6990cd34e29c89fef58b" category="list-text">对于 * 客户端专用密钥 * ，选择 * 选择新 * ，然后为客户端证书上传 PEM 编码的专用密钥。</block>
  <block id="61ce43e052b00ff9d74e9ae3e969d9dc" category="paragraph">如果私钥已加密，则必须使用传统格式。（不支持 PKCS 8 加密格式。）</block>
  <block id="efe5ceffec692dd3bd5a2839702a9aec" category="list-text">如果客户端专用密钥已加密，请输入用于对客户端专用密钥进行解密的密码短语。否则，请将 * 客户端专用密钥密码短语 * 字段留空。</block>
  <block id="c9fd48be430a10c9e6021433fa8b39b9" category="list-text">在服务器验证部分中，提供以下信息：</block>
  <block id="50cc78285878fdff5e228e32057d2582" category="list-text">对于 * 证书验证 * ，选择 * 使用自定义 CA 证书 * 。</block>
  <block id="da2f7141bed6c66de557ece0c918dd91" category="list-text">选择 * 选择新 * ，然后上传 PEM 编码的 CA 证书。</block>
  <block id="d0596b4a3037e7d28cf793c86da25e7f" category="list-text">验证存储分段和服务端点是否存在，以及是否可以使用您指定的凭据访问它们。</block>
  <block id="c678d9df52c4be108cc27bd6cc26b780" category="list-text">将标记文件写入存储分段，以将存储分段标识为云存储池。切勿删除名为 `x-ntap-sgws-cloud pool-uuid` 的文件。</block>
  <block id="38fad93b085db4d2514656e1e344f2d6" category="paragraph">如果云存储池验证失败，您将收到一条错误消息，说明验证失败的原因。例如，如果存在证书错误或您指定的存储分段不存在，则可能会报告错误。</block>
  <block id="9e42a438629d9e84cffe70dca3238595" category="image-alt">云存储池创建错误</block>
  <block id="adfb40f0977cd81bff7d8a4b69c40f10" category="summary">如果您的 S3 存储分段已启用版本控制，则可以通过在 ILM 策略中包含使用非当前时间作为参考时间的规则来管理非当前对象版本。</block>
  <block id="72bab440241f3c805a54619c412ff482" category="paragraph">如果您的 S3 存储分段已启用版本控制，则可以通过在 ILM 策略中包含使用 * 非当前时间 * 作为参考时间的规则来管理非当前对象版本。</block>
  <block id="3d59bea6f4a99dadb58d606c88a0a18e" category="paragraph">如本示例所示，您可以通过对非当前对象版本使用不同的放置说明来控制受版本控制的对象使用的存储量。</block>
  <block id="710c9ba76d070ccb6822073c419ca1cf" category="admonition">如果要创建 ILM 策略来管理非当前对象版本，请注意，要模拟此策略，您必须知道对象版本的 UUID 或 CBID 。要查找对象的 UUID 和 CBID ，请在对象仍为最新状态时使用对象元数据查找。请参见 <block ref="f29f99236344f10cdab5bce810d527a7" category="inline-xref-macro-rx"></block>。</block>
  <block id="b63ba9d0c22de171bbbbc63963a7a446" category="list-text"><block ref="b63ba9d0c22de171bbbbc63963a7a446" category="inline-xref-macro-rx"></block></block>
  <block id="ae167593713a343332b84d51febeeb53" category="section-title">ILM 规则 1 示例 4 ：保存三个副本 10 年</block>
  <block id="8ceac150cc7efccb06964a73f4dc3b8d" category="paragraph">此示例 ILM 规则会将每个对象的一个副本存储在三个数据中心，持续 10 年。</block>
  <block id="a1e90d0abe3d2d24c7872fe3142c9e59" category="paragraph">此规则将适用场景 所有对象，无论它们是否已受版本控制。</block>
  <block id="97c462b263e206d131c0a377c40c6b75" category="paragraph">三个存储池，分别位于不同的数据中心，分别名为 DC1 ， DC2 和 DC3 。</block>
  <block id="c334ba01cb7e9552fa2ed0bda32199ea" category="paragraph">三个副本十年</block>
  <block id="dfb8991eab9c03c2c0207a0afcb0b5ad" category="paragraph">在第 0 天，保留三个复制副本 10 年（ 3 ， 652 天），一个在 DC1 ，一个在 DC2 ，一个在 DC3 。10 年后，删除对象的所有副本。</block>
  <block id="40e97242b0c6fed0db70ab6b67a84d08" category="image-alt">ILM 规则 1 示例 4 ：保存三个副本并保留 5 年</block>
  <block id="53d18635a44e587258d7baae72880129" category="section-title">ILM 规则 2 示例 4 ：将两个非最新版本副本保存 2 年</block>
  <block id="5fb9bdbd0bb51f8cc024abc3b31b8a40" category="paragraph">此示例 ILM 规则会将 S3 版本对象的两个非最新版本副本存储 2 年。</block>
  <block id="281b85d13bfa7cdcf7e5f11a06f8ce06" category="paragraph">由于 ILM 规则 1 会对对象的所有版本进行适用场景 处理，因此您必须创建另一个规则来筛选出任何非最新版本。此规则对参考时间使用 * 非当前时间 * 选项。</block>
  <block id="ba126edf9a683bb5d56703a1dfa16033" category="paragraph">在此示例中，仅存储两个非最新版本副本，这些副本将存储两年。</block>
  <block id="70aead1e19128590d8ad5bf852746702" category="paragraph">两个存储池，分别位于不同的数据中心，分别名为 DC1 和 DC2 。</block>
  <block id="9bfa8e60aee1ba34f2181cf3d298e831" category="paragraph">非最新版本：两个副本，两年</block>
  <block id="627d9d7a9f3386a2374b6d517d209531" category="paragraph">在相对于非当前时间（即从对象版本成为非当前版本之日开始）的第 0 天，将两个非当前对象版本的复制副本保留 2 年（ 730 天），一个在 DC1 中，一个在 DC2 中。2 年后，删除非最新版本。</block>
  <block id="3ce911560f0b4da9e2cd7aecd221cdee" category="image-alt">ILM 规则 2 示例 4 ：将非最新对象版本保留 2 年</block>
  <block id="83a317cce9c26719e3a27139308a174f" category="section-title">ILM 策略示例 4 ： S3 版本对象</block>
  <block id="5f0ab8ec4160316ac95a9d89d4b352cf" category="paragraph">如果要以与当前版本不同的方式管理对象的旧版本，则使用 * 非当前时间 * 作为参考时间的规则必须先显示在 ILM 策略中，然后再显示适用于当前对象版本的规则。</block>
  <block id="bcf9a068137e0375add55270cfc29518" category="paragraph">S3 版本对象的 ILM 策略可能包括以下 ILM 规则：</block>
  <block id="eaa9e2b32cb76feb841826d55bf61937" category="list-text">从每个对象的任何较旧（非最新）版本变为非最新版本之日起，保留两年。</block>
  <block id="7dbddfebf1ffe5b3bf6e7b4144ebf3c0" category="admonition">在应用于当前对象版本的规则之前，非当前时间规则必须显示在策略中。否则，非当前对象版本将永远不会与非当前时间规则匹配。</block>
  <block id="e691ccc6ff61634a04c9a3d4b561f50e" category="list-text">载入时，创建三个复制副本，并在三个数据中心中的每个数据中心存储一个副本。将当前对象版本的副本保留 10 年。</block>
  <block id="af83b5c2ff918591af0f7c4728d0ff47" category="image-alt">ILM 策略示例 4.</block>
  <block id="7ae6b52d02ac8e2d466e4c55a148d293" category="paragraph">模拟此示例策略时，您希望按如下所示评估测试对象：</block>
  <block id="c6a145fc79cf4fef2593527b5a736f27" category="list-text">第一个规则将匹配任何非最新的对象版本。如果非当前对象版本超过 2 年，则 ILM 会将其永久删除（非当前版本的所有副本都会从网格中删除）。</block>
  <block id="2e9360bda64264afbe2b09ffbe41c4d3" category="admonition">要模拟非当前对象版本，必须使用该版本的 UUID 或 CBID 。虽然对象仍为最新对象，但您可以使用对象元数据查找来查找其 UUID 和 CBID 。</block>
  <block id="f5de8673b982c193ffd6eddb52ab8898" category="list-text">当前对象版本将与第二个规则匹配。当前对象版本存储 10 年后， ILM 过程会添加一个删除标记作为对象的当前版本，并使先前的对象版本 "`` noncurrent." 下次进行 ILM 评估时，此非最新版本将与第一个规则匹配。因此， DC3 上的副本将被清除， DC1 和 DC2 上的两个副本将再存储 2 年。</block>
  <block id="d383c77afc105b98f070456aff44fe56" category="summary">了解 StorageGRID 如何在对象生命周期的每个阶段使用 ILM 管理对象，有助于您设计更有效的策略。</block>
  <block id="6f02eeef8bac8a338b42a291f74f0ed8" category="doc">ILM 如何在对象的整个生命周期内运行</block>
  <block id="6e4b1bdfbe8e4fb0f0221154ed56c539" category="list-text">* 载入 * ：当 S3 或 Swift 客户端应用程序建立连接以将对象保存到 StorageGRID 系统时，载入开始；当 StorageGRID 向客户端返回 "`ingest successful` " 消息时，载入完成。根据 ILM 要求的指定方式，在载入期间通过立即应用 ILM 指令（同步放置）或创建临时副本并稍后应用 ILM （双提交）来保护对象数据。</block>
  <block id="1dac0ee59363cecd9f52ec558d2e09f9" category="list-text">* 副本管理 * ：创建 ILM 放置说明中指定的对象副本数量和类型后， StorageGRID 可管理对象位置并防止对象丢失。</block>
  <block id="6902cd7899ae38478db7e361b4b90788" category="list-text">ILM 扫描和评估： StorageGRID 会持续扫描网格中存储的对象列表，并检查当前副本是否符合 ILM 要求。如果需要不同类型，数字或位置的对象副本， StorageGRID 会根据需要创建，删除或移动副本。</block>
  <block id="913272ff291baa9657a368f749706b83" category="list-text">后台验证： StorageGRID 持续执行后台验证以检查对象数据的完整性。如果发现问题， StorageGRID 会自动在满足当前 ILM 要求的位置创建一个新的对象副本或替换的擦除编码对象片段。请参见的说明 <block ref="b9419b8aeaaca1ed05948ee5b33838b9" category="inline-xref-macro-rx"></block>。</block>
  <block id="bf64754cb231d1fbf151ee2d0e9993ab" category="list-text">* 对象删除 * ：从 StorageGRID 系统中删除所有副本后，对象管理将结束。可以根据客户端的删除请求删除对象，也可以通过 ILM 删除对象或因 S3 存储分段生命周期到期而删除对象。</block>
  <block id="4ad16a523df1a1b943f9ae3adf8d71f4" category="admonition">如果已启用 S3 对象锁定的存储分段中的对象处于合法保留状态，或者已指定保留日期但尚未满足，则无法删除这些对象。</block>
  <block id="4ce831379da5743e102de25d6cad5c71" category="paragraph">该图总结了 ILM 在对象的整个生命周期中的运行方式。</block>
  <block id="93a8538eaf65233a006e11e13d34b109" category="image-alt">对象生命周期概述</block>
  <block id="c4d76bcbe27bc5ab7268d0b82a352516" category="summary">创建对象放置包含单个存储池的 ILM 规则时，系统会提示您指定要用作临时位置的第二个存储池。</block>
  <block id="c59957fa8e5f5960b4cfbaa1bda5a31e" category="paragraph">临时位置已弃用，将在未来版本中删除。您不应选择存储池作为新 ILM 规则的临时位置。</block>
  <block id="4714588e8f7d15c1c5cfda144337277c" category="admonition">如果选择严格的载入行为（创建 ILM 规则向导的第 3 步），则会忽略临时位置。</block>
  <block id="0b0b508876eee5dacfb275b7a49a3dfa" category="summary">您可能需要重命名纠删编码配置文件，以使其更明显地显示该配置文件的功能。</block>
  <block id="ac6941fbda7e810647805f4f971314e3" category="doc">重命名擦除编码配置文件</block>
  <block id="0adb8451c2290a14c49257154f5de4cd" category="image-alt">已禁用擦除编码配置文件重命名停用</block>
  <block id="edf81a156bf444266ad3e0213450fc01" category="list-text">选择要重命名的配置文件。</block>
  <block id="a3622c9a1c0e74fa0106de2537b7fbe3" category="paragraph">* 重命名 * 和 * 停用 * 按钮将变为启用状态。</block>
  <block id="6f8614f1580cf2c6afb8b45a067936bf" category="list-text">选择 * 重命名 * 。</block>
  <block id="f28bdf3d7f9dc4aba3db6cd5bb090614" category="paragraph">此时将显示重命名 EC 配置文件对话框。</block>
  <block id="815f890587751df0db85c62f94cea2f2" category="image-alt">擦除编码配置文件重命名</block>
  <block id="46dd5ebc13fa6bdb65157a26d11fa557" category="summary">作为网格管理员，您必须与租户用户密切协调，以确保对象受到保护，并满足其保留要求。</block>
  <block id="b47a8af038cae65137289c20196b3182" category="doc">S3 对象锁定的工作流</block>
  <block id="f66fd4bda28828034441e33191344ae8" category="paragraph">工作流图显示了使用 S3 对象锁定的高级步骤。这些步骤由网格管理员和租户用户执行。</block>
  <block id="60d100d3d42ea85a113eb5bdd5c7924f" category="section-title">网格管理任务</block>
  <block id="e9a6f88cad3440d2f9e65894a2f63bb4" category="paragraph">如工作流图所示，网格管理员必须执行两项高级任务， S3 租户用户才能使用 S3 对象锁定：</block>
  <block id="ced88a6438ffd75c6f64f1a6df02a954" category="list-text">至少创建一个合规的 ILM 规则，并将该规则设置为活动 ILM 策略中的默认规则。</block>
  <block id="4eb1c97fb54e6053d9996c1dc9f0f9f5" category="list-text">为整个 StorageGRID 系统启用全局 S3 对象锁定设置。</block>
  <block id="730544da01f0cc3e91c0b43d6a4003a9" category="section-title">租户用户任务</block>
  <block id="41f4abf93e1cda016e533aa9721f8efe" category="paragraph">启用全局 S3 对象锁定设置后，租户可以执行以下任务：</block>
  <block id="6d72da098fb6f381997699756cf055d1" category="list-text">创建已启用 S3 对象锁定的分段。</block>
  <block id="4b2d317067d5d18f332ce107575f362c" category="list-text">指定存储分段的默认保留设置，这些设置将应用于添加到存储分段中但未指定其自身保留设置的对象。</block>
  <block id="8868a47c0b6de47608bc8d3bf38ae7db" category="list-text">向这些存储分段添加对象，并指定对象级别的保留期限和合法保留设置。</block>
  <block id="f5b7437455c03145f56ac5123f486e07" category="list-text">根据需要更新单个对象的保留期限或更改合法保留设置。</block>
  <block id="51db2faf376ce0847c5a2773ca51aaf5" category="list-text"><block ref="51db2faf376ce0847c5a2773ca51aaf5" category="inline-xref-macro-rx"></block></block>
  <block id="9a4fe5be4202782787f2883bb6173f14" category="summary">您可以使用以下示例规则和策略来确保对大于 1 MB 的映像进行纠删编码，并使用较小的映像创建两个副本。</block>
  <block id="b5bdb58120ae54e0dc4759f8f1bdb34a" category="doc">示例 3 ：用于更好地保护映像文件的 ILM 规则和策略</block>
  <block id="18b695f83a13aac5434f9427be434038" category="section-title">ILM 规则 1 ，例如 3 ：对大于 1 MB 的映像文件使用 EC</block>
  <block id="c3ac13093b4f238e05e616acd8dc4c81" category="paragraph">此示例 ILM 规则使用高级筛选功能对大于 1 MB 的所有映像文件进行擦除代码。</block>
  <block id="5b71ff8e6ba2796a6f5c58fd82049c16" category="paragraph">EC 映像文件 &gt; 1 MB</block>
  <block id="b431583d2f4acd246e04f3bca866d28c" category="paragraph">对象大小（ MB ）大于 1.0</block>
  <block id="3e12c8c7069ee658c36d704396f6369b" category="paragraph">用户元数据的高级筛选</block>
  <block id="178d711a5a8e4a8239d7c130f412e0bb" category="paragraph">用户元数据类型等于映像</block>
  <block id="8adf54b4a153e17b5ce707984c45de78" category="paragraph">由于此规则已配置为策略中的第一条规则，因此纠删编码放置指令仅会对大于 1 MB 的适用场景 映像执行。</block>
  <block id="06c276ea5889102f3d8d1bfbbb1f3aa1" category="section-title">ILM 规则 2 示例 3 ：为其余所有映像文件创建 2 个复制副本</block>
  <block id="3f1e8fda59648af8a84244ed3c58dfd4" category="paragraph">此示例 ILM 规则使用高级筛选来指定复制较小的映像文件。由于策略中的第一个规则已与大于 1 MB 的映像文件匹配，因此此规则会对 1 MB 或更小的适用场景 映像文件进行匹配。</block>
  <block id="89777cbbb9be7f109eccb6f6a8dedbef" category="paragraph">2 个映像文件副本</block>
  <block id="dfcc2cc197751ac34f389c7eeedfeac7" category="paragraph">用户元数据类型等于映像文件</block>
  <block id="cb26bd88b93189bb59ae1bef242dc7ae" category="paragraph">在两个存储池中创建 2 个复制副本</block>
  <block id="34491a822dbc38993c1afa24da586934" category="section-title">示例 3 中的 ILM 策略：更好地保护映像文件</block>
  <block id="fbd0079a85a77d1746f25704b2e758a9" category="paragraph">此示例 ILM 策略包括三个规则：</block>
  <block id="b1f6718493bc55f29e75ffece2e2a2cb" category="list-text">第一个规则擦除会对大于 1 MB 的所有映像文件进行编码。</block>
  <block id="9cb721406173d02f1e0cb2b807edbee9" category="list-text">第二条规则会为任何剩余映像文件（即 1 MB 或更小的映像）创建两个副本。</block>
  <block id="031f13bf98a63b52025bc2264f6a7f4c" category="list-text">默认规则适用场景 所有剩余对象（即任何非映像文件）。</block>
  <block id="2c67e952529710175ee9e785fffe410f" category="summary">了解在载入时保护数据的三个选项中每一个选项（平衡，严格或双提交）的优缺点有助于您确定要为 ILM 规则选择哪个选项。</block>
  <block id="186b0c4f403d34cb966c7813705568a4" category="paragraph">了解在载入时保护数据的三个选项（平衡，严格或双重提交）中每一个选项的优缺点有助于您确定要为 ILM 规则选择哪个选项。</block>
  <block id="645803f3ace9d792018d5bddb93a7071" category="section-title">平衡而严格的选项的优势</block>
  <block id="00755ec091586723d7f1f54d29dc29fe" category="paragraph">与在载入期间创建临时副本的双提交相比，这两个同步放置选项具有以下优势：</block>
  <block id="adeffb97d80f965bd0c24c222342a733" category="list-text">* 更好的数据安全性 * ：对象数据会按照 ILM 规则放置说明中的说明立即受到保护，可以对其进行配置，以防止出现多种故障情况，包括多个存储位置发生故障。双提交只能防止丢失一个本地副本。</block>
  <block id="b9881bffc07ad39712cb934f65403bce" category="list-text">* 更高效的网格操作 * ：每个对象仅在载入时进行一次处理。由于 StorageGRID 系统不需要跟踪或删除中间副本，因此处理负载较低，数据库空间占用较少。</block>
  <block id="50ec017e8a71df196bdfe3057a7c5be4" category="list-text">* （平衡）建议 * ：平衡选项可提供最佳 ILM 效率。除非需要严格的载入行为或网格满足用于双提交的所有标准，否则建议使用 balancired 选项。</block>
  <block id="6ab925733005a53a6545b0c5848a85c4" category="list-text">* （严格）对象位置的确定性 * ： strict 选项可确保根据 ILM 规则中的放置说明立即存储对象。</block>
  <block id="ec74f933020b6c428f5bed2d65c167b3" category="section-title">平衡而严格的选项的缺点</block>
  <block id="cabdcbe74d71271fac06373d2d9e0aa3" category="paragraph">与双提交相比，平衡和严格选项存在一些缺点：</block>
  <block id="ecdc9de1de710224cd9838b55ef8a308" category="list-text">* 客户端载入时间更长 * ：客户端载入延迟可能更长。使用平衡和严格的选项时，在创建和存储所有纠删编码的片段或复制的副本之前，不会向客户端返回 "`ingest successful` " 消息。但是，对象数据很可能会更快地到达最终放置位置。</block>
  <block id="64cca53b33d887f17a47bae172ab8d12" category="list-text">* （严格）更高的载入失败率 * ：使用 strict 选项时，只要 StorageGRID 无法立即创建 ILM 规则中指定的所有副本，载入就会失败。如果所需存储位置暂时脱机或网络问题发生原因 在站点之间复制对象时出现延迟，则可能会出现较高的载入失败率。</block>
  <block id="fd73b42980afc1185d46606f38342a1d" category="list-text">在某些情况下 * （严格） S3 多部分上传放置可能与预期不同 * ：严格地说，您希望对象按照 ILM 规则的说明放置，或者载入操作失败。但是，如果使用 S3 多部分上传，则会在载入对象时对 ILM 的每个部分进行评估，并在多部分上传完成后对整个对象进行评估。在以下情况下，这可能会导致放置方式与您预期不同：</block>
  <block id="d48284cacf9252e17feb33c12f39f594" category="list-text">* 如果在 S3 多部件上传过程中 ILM 发生变化 * ：由于每个部件都是根据在载入部件时处于活动状态的规则放置的，因此在多部件上传完成后，对象的某些部分可能不符合当前的 ILM 要求。在这些情况下，对象的载入不会失败。相反，未正确放置的任何部件将排队等待 ILM 重新评估，并稍后移动到正确的位置。</block>
  <block id="ee5248a7fc2af0679df39fae77dbd589" category="list-text">* 当 ILM 规则按大小筛选时 * ：在评估某个部件的 ILM 时， StorageGRID 会按部件的大小进行筛选，而不是按对象的大小进行筛选。这意味着，对象的某些部分可以存储在不满足整个对象的 ILM 要求的位置。例如，如果规则指定所有 10 GB 或更大的对象都存储在 DC1 中，而所有较小的对象存储在 DC2 中，则在载入时， 10 部分多部分上传的每个 1 GB 部分都存储在 DC2 中。评估对象的 ILM 时，对象的所有部分都会移至 DC1 。</block>
  <block id="897992e8a943fca410af31bd19467b86" category="list-text">* （严格）更新对象标记或元数据后，如果无法进行新要求的放置，则载入不会失败 * ：严格地说，您希望按照 ILM 规则的说明放置对象，或者使载入失败。但是，在更新网格中已存储的对象的元数据或标记时，不会重新载入该对象。这意味着，更新触发的任何对象放置更改都不会立即进行。如果通过正常后台 ILM 流程重新评估 ILM ，则会进行放置更改。如果无法进行所需的放置更改（例如，由于新需要的位置不可用），则更新后的对象将保留其当前放置位置，直到可以进行放置更改为止。</block>
  <block id="987bd2499fb16262f87cf03c4436ba76" category="section-title">具有平衡或严格选项的对象放置限制</block>
  <block id="0421df79427e8d069430601dffc9808f" category="paragraph">对于具有以下任一放置说明的 ILM 规则，不能使用平衡或严格选项：</block>
  <block id="c9c60bebd4d80b781f04c7689c664f64" category="list-text">第 0 天放置在云存储池中。</block>
  <block id="c8143f63df0bcac9ad1f3ecea47a5800" category="list-text">在第 0 天放置在归档节点中。</block>
  <block id="b7c3dcb156d695445533786ffb6b4e3e" category="list-text">当规则将用户定义的创建时间作为参考时间时，将放置在云存储池或归档节点中。</block>
  <block id="0a8ef6954a217720f2f38ae98d518c77" category="paragraph">之所以存在这些限制，是因为 StorageGRID 无法同步向云存储池或归档节点创建副本，并且用户定义的创建时间可以解决为当前问题。</block>
  <block id="5c40ac611ae2a1fa79cd0f3857c9e1af" category="section-title">ILM 规则和一致性控制如何交互以影响数据保护</block>
  <block id="23cffc3736c8be6e9cfc436f5ea30efa" category="paragraph">ILM 规则和一致性控制选项都会影响对象的保护方式。这些设置可以进行交互。</block>
  <block id="e5bdbad2aff49233084de2dee8c6e8d0" category="paragraph">例如，为 ILM 规则选择的载入行为会影响对象副本的初始放置，而存储对象时使用的一致性控制则会影响对象元数据的初始放置。由于 StorageGRID 需要访问对象的元数据及其数据来满足客户端请求，因此为一致性级别和载入行为选择匹配的保护级别可以提供更好的初始数据保护和更可预测的系统响应。</block>
  <block id="2ed4c4cecb084e6248aebe11f12b8c3c" category="paragraph">下面简要总结了 StorageGRID 中提供的一致性控制：</block>
  <block id="594be5867bee678a2b1599c05d0f07dd" category="list-text">* 全部 * ：所有节点均立即接收对象元数据，否则请求将失败。</block>
  <block id="6bc4083acdec5bb0c74fb3a8fb5bb751" category="list-text">* 强 - 全局 * ：对象元数据会立即分发到所有站点。保证所有站点中所有客户端请求的写入后读一致性。</block>
  <block id="4a9bb990d757e19a9bd0d4a5d9e0a777" category="list-text">* 强站点 * ：对象元数据会立即分发到站点上的其他节点。保证站点内所有客户端请求的写入后读一致性。</block>
  <block id="5bc25253260a2a5b1fdaaa2df455a771" category="list-text">* 可用 * （机头操作的最终一致性）：与 `read-after-new-write` 一致性级别相同，但仅为机头操作提供最终一致性。</block>
  <block id="dd7114e99f3122f328d1e99a8aa588b5" category="admonition">在选择一致性级别之前，请阅读的说明中的完整一致性控制问题描述 <block ref="88a19849abec1ec3b25d71a4a5f84122" category="inline-xref-macro-rx"></block> 或 <block ref="5bd117afa603b38f545bb680d86c5433" category="inline-xref-macro-rx"></block> 客户端应用程序。在更改默认值之前，您应了解其优势和限制。</block>
  <block id="d97c137431a8bd72029f9d85e1b60383" category="summary">您可以编辑云存储池以更改其名称，服务端点或其他详细信息；但是，您不能更改云存储池的 S3 存储分段或 Azure 容器。</block>
  <block id="5430041ae2f4cb9087dae938b48b6b58" category="doc">编辑云存储池</block>
  <block id="0213707bb53e6ffebc21923ed07617a9" category="inline-xref-macro">云存储池注意事项</block>
  <block id="8461269b49c85d1aba637159f0d22e5a" category="list-text">您已查看 <block ref="b37c167149f96fcd0f6b10da7483bcb8" category="inline-xref-macro-rx"></block>。</block>
  <block id="898ce9e9b21f551ddf71f4b299c8a349" category="paragraph">此时将显示存储池页面。" 云存储池 " 表列出了现有的云存储池。</block>
  <block id="1695764101259fb6660867776e43ffb9" category="image-alt">Cloud Storage Pools 页面。</block>
  <block id="bb30faa54146b07f7565a8e5e2657bea" category="list-text">选择要编辑的云存储池的单选按钮。</block>
  <block id="72c5b50e453024e34261b2da6e204e2f" category="list-text">根据需要更改显示名称，服务端点，身份验证凭据或证书验证方法。</block>
  <block id="ed53a78e11e1dce6a3cff498b6d39d0f" category="admonition">您不能更改云存储池的提供程序类型或 S3 存储分段或 Azure 容器。</block>
  <block id="6a56223aca8a64d52fa8acc3c5e784af" category="paragraph">如果您先前上传了服务器或客户端证书，则可以选择 * 查看当前 * 来查看当前正在使用的证书。</block>
  <block id="b618772335b71808bfd5e55da93bb0dd" category="paragraph">保存云存储池时， StorageGRID 会验证存储分段或容器以及服务端点是否存在，以及是否可以使用您指定的凭据访问它们。</block>
  <block id="266dcaa992c5c9967330dd3a0011a39b" category="paragraph">如果云存储池验证失败，则会显示一条错误消息。例如，如果存在证书错误，则可能会报告错误。</block>
  <block id="448b02a268179dc987cc07368fd91735" category="summary">通过创建 ILM 规则向导的第 1 步 \ （定义基础知识 \ ），您可以定义规则的基本和高级筛选器。</block>
  <block id="403f0b52eaf988f645d253aeeaa02941" category="doc">第 1 步，共 3 步：定义基础知识</block>
  <block id="91abf3ce23f819539550ddbfde9920e5" category="paragraph">使用创建 ILM 规则向导的第 1 步（定义基本信息），您可以定义规则的基本和高级筛选器。</block>
  <block id="6d7c97f8b590a723234663efd7b8713e" category="paragraph">根据 ILM 规则评估对象时， StorageGRID 会将对象元数据与规则的筛选器进行比较。如果对象元数据与所有筛选器匹配， StorageGRID 将使用规则放置对象。您可以设计一个规则以应用于所有对象，也可以指定基本筛选器，例如一个或多个租户帐户或分段名称，或者指定高级筛选器，例如对象的大小或用户元数据。</block>
  <block id="dc131d1044e14a7de1210ccc3ec0580f" category="image-alt">创建 ILM 规则第 1 步，共 3 步</block>
  <block id="1688552f8d06778bc41e4d8500c5eb1a" category="paragraph">必须输入 1 到 64 个字符。</block>
  <block id="1ed2da0880209428538e91f4bb0786a5" category="paragraph">您应说明此规则的目的或功能，以便稍后识别此规则。</block>
  <block id="c6c59345a2b6e3f8c51e6b99ab04d18e" category="image-alt">规则名称和问题描述</block>
  <block id="da2f4502271c0342e98fecf88cbf572c" category="list-text">或者，也可以选择一个或多个适用此规则的 S3 或 Swift 租户帐户。如果此规则为所有租户添加适用场景 ，请将此字段留空。</block>
  <block id="de3f65c0b580604b07a86a340ae7283a" category="paragraph">如果您没有 root 访问权限或租户帐户权限，则无法从列表中选择租户。而是输入租户 ID 或输入多个 ID 作为逗号分隔的字符串。</block>
  <block id="2c22ca3df71d0479de03faa1ab21fc36" category="list-text">或者，指定此规则适用的 S3 分段或 Swift 容器。</block>
  <block id="d82734c0007c89a06c6c8373b80b167f" category="paragraph">如果选择了 * 匹配全部 * （默认），则规则适用场景 all S3 b桶 或 Swift 容器。</block>
  <block id="c3f9123a28ac0e07ebfa0e8dac87fa68" category="list-text">或者，选择 * 高级筛选 * 以指定其他筛选器。</block>
  <block id="4a531fc9b569e5761bf71e612470475a" category="paragraph">如果不配置高级筛选，则规则适用场景 与基本筛选器匹配的所有对象。</block>
  <block id="2b58ba6c14c3c174c4f9c9ee1e647679" category="paragraph">如果此规则将创建经过擦除编码的副本，请添加 * 对象大小（ MB ） * 高级筛选器并将其设置为 * 大于 1* 。大小筛选器可确保 1 MB 或更小的对象不会进行纠删编码。</block>
  <block id="dba8c8b4481bd716d49d24db2ef451b1" category="list-text"><block ref="dba8c8b4481bd716d49d24db2ef451b1" category="inline-xref-macro-rx"></block></block>
  <block id="5746c2a331086d017a83f5468702d744" category="list-text"><block ref="5746c2a331086d017a83f5468702d744" category="inline-xref-macro-rx"></block></block>
  <block id="6b7a392230f49b2eda33f0289294aaaf" category="summary">您可以编辑存储池以更改其名称或更新站点和存储级别。</block>
  <block id="ec989c21ec2e48ec4754b09118bc5197" category="doc">编辑存储池</block>
  <block id="ad37290d8e6eb78aa56d80d856e72c14" category="list-text">您已查看创建存储池的准则。</block>
  <block id="bf15018f98f013d0586eb4cb91fd354b" category="list-text">如果您计划编辑由活动 ILM 策略中的规则使用的存储池，则已考虑所做的更改将如何影响对象数据放置。</block>
  <block id="e567ec6ab4d4fb7b055f1e1e96008894" category="paragraph">如果要向活动 ILM 策略中使用的存储池添加新的存储级别，请注意，不会自动使用新存储级别中的存储节点。要强制 StorageGRID 使用新的存储级别，您必须在保存编辑后的存储池后激活新的 ILM 策略。</block>
  <block id="dc32ae27843f685cb12ab206232ebd41" category="list-text">选择要编辑的存储池对应的单选按钮。</block>
  <block id="ba75c20fb3f71be12e63fa0ed2d11d42" category="paragraph">您不能编辑所有存储节点存储池。</block>
  <block id="0ebc91eaff39e04e3207efad10e49777" category="list-text">根据需要更改存储池名称。</block>
  <block id="f8513bec3e117b00e2c738c19a2829d7" category="list-text">根据需要选择其他站点和存储级别。</block>
  <block id="410ad1615e8bd5d7b90ed8332004ccaf" category="admonition">如果在擦除编码配置文件中使用存储池，并且此更改会发生原因 使擦除编码方案无效，则您无法更改站点或存储级别。例如，如果在擦除编码配置文件中使用的存储池当前仅包含一个站点的存储级别，则系统会阻止您对两个站点使用存储级别，因为更改会使擦除编码方案无效。</block>
  <block id="acb68ca968833e5b16b9aa8e3173c7e8" category="paragraph">如果您向活动 ILM 策略中使用的存储池添加了新的存储级别，请激活新的 ILM 策略以强制 StorageGRID 使用新的存储级别。例如，克隆现有 ILM 策略，然后激活此克隆。</block>
  <block id="7a7b5f8b9ec7eba4176b41d30096fb4c" category="summary">您可以通过配置信息生命周期管理（ ILM ）规则和策略来管理 StorageGRID 系统中的对象。ILM 规则和策略指示 StorageGRID 如何创建和分发对象数据的副本，以及如何随着时间的推移管理这些副本。</block>
  <block id="b20e6518b71f1f960ddff6165b7e667b" category="doc">使用 ILM 管理对象：概述</block>
  <block id="52f417e14c33e41d2b85336fade34d7c" category="paragraph">设计和实施 ILM 规则和 ILM 策略需要仔细规划。您必须了解操作要求， StorageGRID 系统的拓扑结构，对象保护需求以及可用存储类型。然后，您必须确定希望如何复制，分发和存储不同类型的对象。</block>
  <block id="f5e1da95bf071e6131f2fc5d855c7454" category="list-text">了解 StorageGRID ILM ，包括 ILM 如何在对象的整个生命周期内运行以及 ILM 策略和规则是什么。</block>
  <block id="7f6c641921732564ab374c4c578e4bfb" category="list-text">了解如何配置存储池，擦除编码配置文件和 ILM 规则。</block>
  <block id="295c6101155a2a8716abcce365dd0efb" category="list-text">了解如何创建和激活 ILM 策略以保护一个或多个站点上的对象数据。</block>
  <block id="cd36498465596c4c2cf8edf7598d532b" category="list-text">了解如何使用 S3 对象锁定管理对象，这有助于确保特定 S3 分段中的对象在指定时间内不会被删除或覆盖。</block>
  <block id="7be834ee3c9e293020bd5322c93e7b1a" category="list-text"><block ref="7be834ee3c9e293020bd5322c93e7b1a" category="inline-link-rx"></block></block>
  <block id="5662b5d474c4e546339a86ae7e5188cc" category="list-text"><block ref="5662b5d474c4e546339a86ae7e5188cc" category="inline-link-rx"></block></block>
  <block id="526b147053bdc1e0de71add343fed19e" category="summary">在为 S3 创建云存储池时，必须选择云存储池端点所需的身份验证类型。您可以指定匿名或输入访问密钥 ID 和机密访问密钥。</block>
  <block id="4ddfd3c37ad6d472e123cd074b832897" category="doc">S3 ：指定云存储池的身份验证详细信息</block>
  <block id="c9a8829fc9b9aad0747fd0e7187c2f39" category="list-text">您已输入云存储池的基本信息并指定 * Amazon S3* 作为提供程序类型。</block>
  <block id="94074f4e02010ac220424dc8dd518e81" category="image-alt">云存储池创建 S3</block>
  <block id="da937af566a9d9dc3c2d18ca749615e8" category="list-text">如果您使用的是访问密钥身份验证，则知道外部 S3 存储分段的访问密钥 ID 和机密访问密钥。</block>
  <block id="840018865641e1fcaa0e76c2e35cf6af" category="list-text">在 * 服务端点 * 部分中，提供以下信息：</block>
  <block id="d740179b7c9391c63ea3dc265ebce4ab" category="list-text">选择要在连接到云存储池时使用的协议。</block>
  <block id="17808c3c20ed4971781a0d676fbec121" category="paragraph">默认协议为 HTTPS 。</block>
  <block id="6c34e3a43f69f1bb04436c77cc50ee83" category="list-text">输入云存储池的服务器主机名或 IP 地址。</block>
  <block id="6ecc1127e56c0a57d6a60eaef8fbb053" category="paragraph">`s3-_aws-region_.amazonaws.com`</block>
  <block id="f5df9b088064f8f444cf4093bc0d65fb" category="admonition">请勿在此字段中包含存储分段名称。您可以在 * 分段或容器 * 字段中包含分段名称。</block>
  <block id="ed0cba5dd918f760a4be9fb211312b6b" category="list-text">（可选）指定在连接到云存储池时应使用的端口。</block>
  <block id="2720aed5a815eaff64dc13eb4882afab" category="paragraph">将此字段留空可使用默认端口：端口 443 用于 HTTPS ，端口 80 用于 HTTP 。</block>
  <block id="e93ef9c3a2663d99e15cf4faea50f449" category="list-text">选择 Cloud Storage Pool 存储分段的 URL 模式：</block>
  <block id="b3f1b973de9ecaa83b02755675f22ec2" category="paragraph">虚拟托管模式</block>
  <block id="c87817e8bde7c6eae265fdac9ce2a807" category="paragraph">使用虚拟托管模式 URL 访问存储分段。虚拟托管模式 URL 会将存储分段名称包含在域名中，例如 ` + https://bucket-name.s3.company.com/key-name+` 。</block>
  <block id="0bf64f4598df33199a9eb92f23168287" category="paragraph">路径模式</block>
  <block id="a66fa1d186c43a975f44717400a7613c" category="paragraph">使用路径模式 URL 访问存储分段。路径模式 URL 的末尾包含分段名称，例如 ` +https://s3.company.com/bucket-name/key-name+` 。</block>
  <block id="bd17ea9cdc2a8fa1ea9a3c0a04303c42" category="paragraph">* 注： * 路径模式 URL 已弃用。</block>
  <block id="e67731741de13a0fcd235ea7630e8ebc" category="paragraph">自动检测</block>
  <block id="0c9e5f2ab422a1c1760a91e0a33af161" category="paragraph">尝试根据提供的信息自动检测要使用的 URL 模式。例如，如果指定 IP 地址， StorageGRID 将使用路径模式的 URL 。仅当您不知道要使用哪种特定模式时，才选择此选项。</block>
  <block id="e6e2f82e5d79cccd67fc41c4f55d1053" category="list-text">在 * 身份验证 * 部分中，选择云存储池端点所需的身份验证类型。</block>
  <block id="fd39585e20ff353b75651523354835da" category="paragraph">要访问云存储池存储分段，需要访问密钥 ID 和机密访问密钥。</block>
  <block id="eed4657b44cfc9d10d98d9a5b0160920" category="paragraph">每个人都有权访问云存储池存储分段。不需要访问密钥 ID 和机密访问密钥。</block>
  <block id="39a09e0eb3884c3ec666783cd074624f" category="inline-xref-macro">C2S S3 ：指定云存储池的身份验证详细信息</block>
  <block id="83087af520904c909a50aa50dafa942d" category="paragraph">仅用于 C2S S3 。转至 <block ref="e4f7dc9dcdd91fb96c34c91b024d8ebc" category="inline-xref-macro-rx"></block>。</block>
  <block id="9033f3dd58bdf6e79a1e5daabb77d1b8" category="list-text">如果选择了访问密钥，请输入以下信息：</block>
  <block id="4356e9a17ebe7a998ccdd7941ded0b31" category="paragraph">访问密钥 ID</block>
  <block id="d257dd01f0fe62725b0b6a963c7136ce" category="paragraph">拥有外部存储分段的帐户的访问密钥 ID 。</block>
  <block id="dd3e3ce4a46ce581c8a9c659187f78ba" category="paragraph">机密访问密钥</block>
  <block id="1e9de479e27f9fc03d1eb12966367409" category="paragraph">关联的机密访问密钥。</block>
  <block id="e504d941e13199f9f42a0f4af1d81603" category="list-text">在服务器验证部分中，选择应使用哪种方法验证与云存储池的 TLS 连接的证书：</block>
  <block id="73c7abfab5997adf00f316c9532972f1" category="paragraph">使用操作系统上安装的默认网格 CA 证书来保护连接。</block>
  <block id="dc14e1b2b77d19b3ce4f86b6ebf0fec5" category="paragraph">使用自定义 CA 证书。选择 * 选择新 * ，然后上传 PEM 编码的 CA 证书。</block>
  <block id="8535dbd8d1d3d229ff8ec6c0321e93e1" category="summary">您可以从头开始创建建议的 ILM 策略，也可以克隆当前活动策略（如果要从同一组规则开始）。</block>
  <block id="784add686348a2a9ddfabe7f20b34f86" category="doc">创建建议的 ILM 策略</block>
  <block id="7ebfd1eec73d376717f9ad0a3bc9747a" category="admonition">如果已启用全局 S3 对象锁定设置，请改用此操作步骤 ： <block ref="90aa49e708207e2b96f166c3802f963d" category="inline-xref-macro-rx"></block>。</block>
  <block id="32859d3138dbd45b9e0265c5a7dddf1f" category="list-text">您已创建要添加到建议策略的 ILM 规则。您可以根据需要保存建议的策略，创建其他规则，然后编辑建议的策略以添加新规则。</block>
  <block id="3684709bcf29cb79598dfd9e4c9983aa" category="list-text">您已拥有 <block ref="f0665a4a0e015a00296864c3543f3b04" category="inline-xref-macro-rx"></block> 不包含任何筛选器的策略。</block>
  <block id="c935a4ec411db346cc57eba7bca7477a" category="paragraph">创建建议 ILM 策略的典型原因包括：</block>
  <block id="eaf7160fcd1127d97c2922d038a28013" category="list-text">您添加了一个新站点，需要使用新的 ILM 规则在该站点上放置对象。</block>
  <block id="7492871324c59814cdcece5c85544f0b" category="list-text">您正在停用某个站点，并且需要删除引用此站点的所有规则。</block>
  <block id="698f5440c1995b87e7d8f0dae1afd4dc" category="list-text">您添加了一个具有特殊数据保护要求的新租户。</block>
  <block id="e1427c8aa6ae2267c205ad5f9ac4c4c9" category="list-text">您已开始使用云存储池。</block>
  <block id="a6331e04143bcc38c5663f93f2a9099c" category="paragraph">此时将显示 "ILM Policies" 页面。在此页面中，您可以查看建议的策略，活动策略和历史策略列表；创建，编辑， 或删除建议的策略；克隆活动策略；或查看任何策略的详细信息。</block>
  <block id="5327eee445c1f0e49aa69cd24b54a6ea" category="image-alt">ILM 策略页面</block>
  <block id="0f068059482e0761c2adccda6db7e9cf" category="list-text">确定要如何创建建议的 ILM 策略。</block>
  <block id="beb28302352c0d08509b6d91e71513ef" category="paragraph">创建尚未选择任何规则的新建议策略</block>
  <block id="9f71afefccfd8453f24f82bdaa40a912" category="list-text">如果当前存在建议的 ILM 策略，请选择该策略，然后选择 * 删除 * 。</block>
  <block id="7bce17ffb525735a44f507e16df5dda8" category="paragraph">如果已存在建议的策略，则无法创建新的建议策略。</block>
  <block id="d00bc85e3d532fbf3e47a7c012b9ba52" category="list-text">选择 * 创建建议策略 * 。</block>
  <block id="6b740a575cad37ba61a2d185243e259b" category="paragraph">根据活动策略创建建议的策略</block>
  <block id="101979e652a23d78cdf3d6023a8dddb6" category="paragraph">如果已存在建议的策略，则无法克隆活动策略。</block>
  <block id="61b7cd1da01c1e2fae216a470afe8c55" category="list-text">从表中选择活动策略。</block>
  <block id="9de0e2b17d7e1e2da6c0ce7e9dc6e377" category="list-text">选择 * 克隆 * 。</block>
  <block id="3b993c4653889e784d9c7971831916ff" category="paragraph">编辑现有建议的策略</block>
  <block id="a629692c11a5fc8941dcb4a637550c79" category="list-text">从表中选择建议的策略。</block>
  <block id="bf6e1322cc44c257f09bf98dbc6c89c1" category="paragraph">此时将显示配置 ILM 策略对话框。</block>
  <block id="8b6e6a6d13e8efe5f96ef884918708d4" category="paragraph">如果要创建新的建议策略，则所有字段均为空，不会选择任何规则。</block>
  <block id="018e9d4cdff0e2d82e0af7d255b5d766" category="image-alt">ILM 策略配置 ILM 策略</block>
  <block id="34891633c0587a17ad6ff95a845ffa30" category="paragraph">如果要克隆活动策略，则 * 名称 * 字段将显示活动策略的名称，并附加一个版本号（在示例中为 "`v2` " ）。活动策略中使用的规则将按其当前顺序进行选择和显示。</block>
  <block id="332b7d62c7102f27d6bbc2dee5cc7e23" category="image-alt">ILM 策略版本</block>
  <block id="5ae1a9542983cfb338627aa242f723fb" category="paragraph">您必须输入至少 1 个字符，并且不能超过 64 个字符。如果要克隆活动策略，可以使用当前名称并附加版本号，也可以输入新名称。</block>
  <block id="226ba1ce299f6c7b183b2d6bc554d3fd" category="paragraph">此时将显示为策略选择规则对话框，其中列出了所有已定义的规则。如果要克隆策略：</block>
  <block id="d1970b3527567cc0d2b7858ca0a3293a" category="list-text">此时将选择要克隆的策略使用的规则。</block>
  <block id="2cbad56e04bdc9ff4128f303218d50d7" category="list-text">如果要克隆的策略使用了任何不含筛选器的规则，而这些规则不是默认规则，则系统会提示您删除除其中一个规则之外的所有规则。</block>
  <block id="443edc7c23be520f11d9de89669da972" category="list-text">如果默认规则使用筛选器或非当前参考时间，系统将提示您选择新的默认规则。</block>
  <block id="ccd441e6277342bf62ab13c6b941f67c" category="list-text">如果默认规则不是最后一条规则，则可以使用按钮将该规则移动到新策略的末尾。</block>
  <block id="35a78afd9aea180e147ef29810c240f8" category="image-alt">ILM 策略选择策略规则</block>
  <block id="517731144237e000ff4c0e98ef87a4af" category="paragraph">此示例显示了在两个站点创建两个复制副本的 ILM 规则的详细信息。</block>
  <block id="a56c2ec0abd158cb4dbe5ca3b117c738" category="image-alt">ILM 规则摘要页面</block>
  <block id="fd4f2da522ea86d126ca826894c2c76b" category="paragraph">默认规则适用场景 与策略中的其他规则不匹配的任何对象。默认规则不能使用任何筛选器，并且始终会在最后进行评估。</block>
  <block id="76d3998ec72fa9d357918a47df4cd225" category="admonition">如果 " 选择默认规则 " 部分未列出任何规则，则必须退出 ILM 策略页面和 <block ref="93e672a0cb92cd79d36c731445f1cc9f" category="inline-xref-macro-rx"></block>。</block>
  <block id="939461f19ab0f2016d1b971e7009348a" category="admonition">请勿使用 Make 2 copies 常用规则作为策略的默认规则。" 创建 2 个副本 " 规则使用一个存储池 " 所有存储节点 " ，其中包含所有站点。如果 StorageGRID 系统具有多个站点，则一个对象的两个副本可能会放置在同一站点上。</block>
  <block id="c7cc5f5a0f3b0968012f50fca3fa5db9" category="paragraph">其他规则会在默认规则之前进行评估，并且必须至少使用一个筛选器（租户帐户，分段名称，高级筛选器或非当前参考时间）。</block>
  <block id="06a8e91a4a75823a3b232aac68a63157" category="list-text">选择完规则后，请选择 * 应用 * 。</block>
  <block id="76f93fd041596c1a527593cd444acbe2" category="paragraph">此时将列出您选择的规则。默认规则位于末尾，上面有其他规则。</block>
  <block id="07a83badc49aa3cc9e3ae4fd27c56dde" category="image-alt">ILM 策略选定规则</block>
  <block id="970184f00fe47175a114e8f0d9750e73" category="paragraph">如果默认规则不会永久保留对象，则会显示警告。激活此策略时，您必须确认希望 StorageGRID 在默认规则的放置说明过后删除对象（除非分段生命周期将对象保留较长时间）。</block>
  <block id="faa78616c80c43caa6791355d0fc9e60" category="image-alt">ILM 策略默认规则不会永久存在</block>
  <block id="f7312c29c140835e479e59e9f274ae78" category="list-text">根据需要选择删除图标 <block ref="ae4b0d0edca14814d378e9b1121d1fb3" category="inline-image-macro-rx" type="image"></block> 要删除策略中不需要的任何规则，请选择 * 选择规则 * 以添加更多规则。</block>
  <block id="bc69ea028c5834efe5268753963d7455" category="image-alt">已保存 ILM 策略建议策略</block>
  <block id="b862705d12dbf40aaff6d46a55ee4712" category="list-text"><block ref="b862705d12dbf40aaff6d46a55ee4712" category="inline-xref-macro-rx"></block></block>
  <block id="0dd61e9b769e89e85e2e79c27cde7dcd" category="summary">创建 ILM 规则时，您可以指定以下三个选项之一来在载入时保护对象：双提交，平衡或严格。根据您的选择， StorageGRID 会创建临时副本并将对象排队，以便稍后进行 ILM 评估，或者使用同步放置并立即创建副本以满足 ILM 要求。</block>
  <block id="00c016ccd03b822d79f94dd2afc93104" category="section-title">三个载入选项的流程图</block>
  <block id="38b2ab62becaafb57c2e6d6c9a6ef764" category="paragraph">此流程图显示了在对象与 ILM 规则匹配时会发生的情况，该规则使用三个载入选项中的每一个选项。</block>
  <block id="e16a29ce28661fbe6c58f83e0f01ad00" category="image-alt">该图显示了每个数据保护选项的对象载入情况</block>
  <block id="5241b328a0dafb89aab78fe2ac385dd8" category="paragraph">选择双提交选项后， StorageGRID 会立即在两个不同的存储节点上创建临时对象副本，并向客户端返回 "`ingest successful` " 消息。对象将排队等待 ILM 评估，满足规则放置说明的副本将在稍后创建。</block>
  <block id="6e4533cec1cf379f1c934a01a63d6f88" category="section-title">何时使用双提交选项</block>
  <block id="aaa80ed7d20bec3e834e1e3a3dbe0c79" category="paragraph">在以下任一情况下，请使用双提交选项：</block>
  <block id="00f6cce7b73b5ead095faebe454683c9" category="list-text">您正在使用多站点 ILM 规则，客户端载入延迟是您的主要考虑因素。使用双提交时，您必须确保网格可以在不满足 ILM 要求的情况下执行创建和删除双提交副本的额外工作。具体而言：</block>
  <block id="0e33b7d8e3de18c9b107a5a847e00045" category="list-text">网格上的负载必须足够低，以防止 ILM 积压。</block>
  <block id="f7589e33a43fac7becd8906f33318303" category="list-text">网格必须具有多余的硬件资源（ IOPS ， CPU ，内存，网络带宽等）。</block>
  <block id="3a58cc63422dab91cb99fc7814a5a644" category="list-text">您正在使用多站点 ILM 规则，并且站点之间的 WAN 连接通常具有较高的延迟或有限的带宽。在这种情况下，使用双提交选项有助于防止客户端超时。在选择双提交选项之前，您应使用实际工作负载测试客户端应用程序。</block>
  <block id="c6d89967f67810b53026a1b3205841e7" category="paragraph">如果选择 strict 选项，则 StorageGRID 会在载入时使用同步放置，并立即创建规则放置说明中指定的所有对象副本。如果 StorageGRID 无法创建所有副本，则载入将失败，例如，因为所需存储位置暂时不可用。客户端必须重试此操作。</block>
  <block id="11c8abdd5d22e14af3c4d0c3ea7d181d" category="section-title">何时使用 strict 选项</block>
  <block id="88e32b15aaebc1633913490420e9a480" category="paragraph">如果您在操作或法规要求中要求仅将对象立即存储在 ILM 规则中所述的位置，请使用 strict 选项。例如，要满足法规要求，您可能需要使用 strict 选项和 Location Constrict 高级筛选器来保证对象永远不会存储在特定数据中心。</block>
  <block id="d44b3f0e8be795c82f7b9a09fa67fc70" category="paragraph">选择 Balified 选项时， StorageGRID 还会在载入时使用同步放置，并立即创建规则放置说明中指定的所有副本。与 strict 选项不同，如果 StorageGRID 无法立即创建所有副本，则会改用双提交。</block>
  <block id="a07681aad313b693158014f6b827a2f2" category="section-title">何时使用平衡选项</block>
  <block id="5d474456968b867d41b4965dddbcd8c3" category="paragraph">使用平衡选项可实现数据保护，网格性能和载入成功的最佳组合。平衡是 ILM 规则向导中的默认选项。</block>
  <block id="0267cfc66e0f5ef99770546a5cea3ab3" category="summary">如果一个站点上的一个数据中心站点或多个存储节点不可用，您可能需要帮助 S3 租户用户对 S3 对象锁定或原有合规性配置进行更改。</block>
  <block id="7bb893c94b067306059c4deb18c2222e" category="doc">解决更新 S3 对象锁定或原有合规性配置时出现的一致性错误</block>
  <block id="dd84f19e97717783903e53c6806ac44e" category="paragraph">启用了 S3 对象锁定（或原有合规性）的存储分段的租户用户可以更改某些设置。例如，使用 S3 对象锁定的租户用户可能需要将对象版本置于合法保留状态。</block>
  <block id="dbc2a057b5c7f27cc3735eedb6d6f6a4" category="paragraph">当租户用户更新 S3 存储分段或对象版本的设置时， StorageGRID 会尝试立即更新整个网格中的存储分段或对象元数据。如果系统由于数据中心站点或多个存储节点不可用而无法更新元数据，则会显示一条错误消息。具体而言：</block>
  <block id="cc36a0c1a6acdc271cab8022727560d4" category="list-text">租户管理器用户会看到以下错误消息：</block>
  <block id="c3275d4035f1d07f7b00a0ae8df7f748" category="image-alt">更改存储分段合规性设置时服务关闭时警告消息的屏幕截图</block>
  <block id="ec96169e0197eba5163a7d92307e3326" category="list-text">租户管理 API 用户和 S3 API 用户收到响应代码 `503 Service unavailable` 并显示类似的消息文本。</block>
  <block id="fb87634d305d47015e4b4e30e8639cc3" category="paragraph">要解决此错误，请执行以下步骤：</block>
  <block id="2314f1fc99732d604cc3a7fb0eac5e81" category="list-text">尝试尽快使所有存储节点或站点重新可用。</block>
  <block id="4938d332b36cced2493976d1a43c5fa0" category="list-text">如果您无法在每个站点提供足够的存储节点，请联系技术支持，他们可以帮助您恢复节点并确保在网格中一致地应用更改。</block>
  <block id="cee3e7cf42fc6d6a219260779540547f" category="list-text">解决底层问题描述 后，提醒租户用户重试其配置更改。</block>
  <block id="e827ac3434709af1a1ffd71c052ae079" category="summary">在定义 ILM 策略以满足对象保护和保留要求时，您可以使用以下示例规则和策略作为起点。</block>
  <block id="d85778a242750597a07869f9cc82c4d5" category="doc">示例 1 ：对象存储的 ILM 规则和策略</block>
  <block id="be9710b8d61d6fe8fd3d2bd795c893cf" category="section-title">ILM 规则 1 示例 1 ：将对象数据复制到两个数据中心</block>
  <block id="e4f5e49d17e06faed443d5ec9162a55d" category="paragraph">此示例 ILM 规则会将对象数据复制到两个数据中心中的存储池。</block>
  <block id="30ed2bf4f6319e59b2e89705bf7a19e6" category="paragraph">两个存储池，分别位于不同的数据中心，分别名为存储池 DC1 和存储池 DC2 。</block>
  <block id="2d287c083769dd8a3eb5323b52bf69ee" category="paragraph">在第 0 天，永久保留两个复制副本—一个在存储池 DC1 中，一个在存储池 DC2 中。</block>
  <block id="70b35f546264bab5fef8710eb91049f2" category="section-title">ILM 规则 2 示例 1 ：使用存储分段匹配的纠删编码配置文件</block>
  <block id="a989b7854bff9cb880c68f4279a2caf2" category="paragraph">此示例 ILM 规则使用擦除编码配置文件和 S3 存储分段来确定对象的存储位置和存储时间。</block>
  <block id="fc4fc1bc08d57c8265c4d9465a66674a" category="list-text">在三个数据中心（全部 3 个站点）之间配置一个存储池</block>
  <block id="400e997ee8fdde9b6628a191c57e5bab" category="list-text">使用 6+3 纠删编码方案</block>
  <block id="fd8505fb0988f90854dd28f4440dc6c3" category="paragraph">用于 S3 存储分段财务记录的 EC</block>
  <block id="8149e77bed73a95a7599d648dd7e7536" category="paragraph">对于名为 finance-records 的 S3 存储分段中的对象，请在 Erasure Coding 配置文件指定的池中创建一个经过纠删编码的副本。请永久保留此副本。</block>
  <block id="b3d2bfaecc39a40ef8fe1e8841a71ed6" category="paragraph"><block ref="b3d2bfaecc39a40ef8fe1e8841a71ed6" category="inline-image-macro-rx" type="image"></block></block>
  <block id="c628b1a097027f41012e659d3a9cd6fd" category="section-title">ILM 策略示例 1</block>
  <block id="a5ac4df3b2efac336c5847eb4d337f9b" category="paragraph">您可以通过 StorageGRID 系统设计复杂而复杂的 ILM 策略；但实际上，大多数 ILM 策略都很简单。</block>
  <block id="105411ffc284e782e15c0a577a8caaf2" category="paragraph">多站点拓扑的典型 ILM 策略可能包括以下 ILM 规则：</block>
  <block id="08298ccfd4daac559b599dbd33a1b1e8" category="list-text">在载入时，使用 6+3 纠删编码将属于名为 `finance-records` 的 S3 存储分段的所有对象存储在三个数据中心中。</block>
  <block id="e34390ff299271c0f620267c72258ff2" category="list-text">如果某个对象与第一个 ILM 规则不匹配，请使用该策略的默认 ILM 规则 " 复制两个数据中心 " ，以便将该对象的副本存储在两个数据中心 DC1 和 DC2 中。</block>
  <block id="71d83aea7b5a4fbf12ba4103962071af" category="summary">复制是 StorageGRID 用于存储对象数据的两种方法之一。当对象与使用复制的 ILM 规则匹配时，系统会为对象数据创建精确副本，并将这些副本存储在存储节点或归档节点上。</block>
  <block id="d9138f44d81ff3f00ba90ac14a719d98" category="paragraph">在配置创建复制副本的 ILM 规则时，您可以指定应创建多少个副本，这些副本应放置在何处以及应将这些副本存储在每个位置的时间长度。</block>
  <block id="99b4704fada9aa3b0ac4dd8042aa6913" category="paragraph">在以下示例中， ILM 规则指定将每个对象的两个复制副本放置在包含三个存储节点的存储池中。</block>
  <block id="89e7438d55f6fe833217834754f4841c" category="paragraph">当 StorageGRID 将对象与此规则匹配时，它会为该对象创建两个副本，并将每个副本放置在存储池中的不同存储节点上。这两个副本可以放置在三个可用存储节点中的任意两个上。在这种情况下，规则会将对象副本放置在存储节点 2 和 3 上。由于有两个副本，因此，如果存储池中的任何节点出现故障，可以检索此对象。</block>
  <block id="a5e0eee4f9da74a1f60715b49bee42ec" category="admonition">StorageGRID 只能在任何给定存储节点上存储一个对象的一个复制副本。如果您的网格包含三个存储节点，并且您创建了一个 4 副本 ILM 规则，则只会创建三个副本—每个存储节点一个副本。系统将触发 * 无法实现 ILM 放置 * 警报，以指示无法完全应用 ILM 规则。</block>
  <block id="8f396b3da2c23e4402dd8ce39a74ecf9" category="summary">为 ILM 规则配置纠删编码配置文件时，您可以根据计划使用的存储池中的存储节点和站点数量选择可用的纠删编码方案。纠删编码方案可控制为每个对象创建的数据片段数量和奇偶校验片段数量。</block>
  <block id="2b54f22ff80ceaff02253c38254186f8" category="paragraph">StorageGRID 系统使用 Reed-Solomon 纠删编码算法。该算法会将对象分段为 k 数据片段，并计算 m 奇偶校验片段。k + m = n 个片段分布在 n 个存储节点上，以提供数据保护。一个对象最多可承受丢失或损坏的碎片。检索或修复对象需要 K 个片段。</block>
  <block id="638ce6a6f8f03efe2caeffe0229205c0" category="paragraph">在配置擦除编码配置文件时，请对存储池遵循以下准则：</block>
  <block id="22dfa0c9e33f849e67152eb1620bc42d" category="list-text">存储池必须包含三个或更多站点，或者只包含一个站点。</block>
  <block id="23d3a74f92cd672a1709a05a022c3fb8" category="admonition">如果存储池包含两个站点，则无法配置擦除编码配置文件。</block>
  <block id="6fc69e8181a19c1b1f2c3384816e8876" category="inline-xref">包含三个或更多站点的存储池的纠删编码方案</block>
  <block id="c4a0a49f9ab4892bc36ba916d95a6f29" category="list-text"><block ref="970ee66028730a43f61147c19e9eac7d" category="inline-xref-macro-rx"></block></block>
  <block id="849df68ca9d47626e7c25a0ee6ab1ec9" category="inline-xref">单站点存储池的纠删编码方案</block>
  <block id="292f4f942cb39e354cbfdcb7cfbc27fa" category="list-text"><block ref="fa55ca6c189eb4ad95a1c45538c38dcb" category="inline-xref-macro-rx"></block></block>
  <block id="76564f578c2e1618e64915fa222cca95" category="list-text">请勿使用默认存储池，所有存储节点或包含默认站点的存储池所有站点。</block>
  <block id="948d0dd6d007c9ccf1dfb97fd0226986" category="list-text">存储池应至少包含 _k+m_+1 个存储节点。</block>
  <block id="1347d07cbe91fe4c4b62208aca7a6b61" category="paragraph">所需的最小存储节点数为 _k+m_ 。但是，如果所需的存储节点暂时不可用，则至少添加一个存储节点有助于防止载入失败或 ILM 回退。</block>
  <block id="f1a22313c1113ae989178456f4eb6e3b" category="paragraph">擦除编码方案的存储开销是通过将奇偶校验片段数（ _m_ ）除以数据片段数（ _k_ ）计算得出的。您可以使用存储开销计算每个擦除编码对象所需的磁盘空间量：</block>
  <block id="2a7a63cfb8861d2775404d2ea4f75d84" category="paragraph">` 磁盘空间 _ = _object size_ + （ _object size_ * _storage over开销 _ ）`</block>
  <block id="6b52282f33d9e5673780791abfe9be8b" category="paragraph">例如，如果使用 4+2 方案存储一个 10 MB 的对象（存储开销为 50% ），则该对象将占用 15 MB 的网格存储。如果使用 6+2 方案存储同一个 10 MB 对象（存储开销为 33% ），则该对象将占用大约 13.3 MB 的空间。</block>
  <block id="1421258409d2297067188c7e30a13a1c" category="paragraph">选择总值最低的纠删编码方案 _k+m_ ，以满足您的需求。碎片数量较少的纠删编码方案在计算方面总体上效率更高，因为每个对象创建和分布（或检索）的碎片数量较少，由于碎片大小较大，性能可能会更高，并且在需要更多存储时，扩展中添加的节点可能会更少。（有关规划存储扩展的信息，请参见有关扩展 StorageGRID 的说明。）</block>
  <block id="479d1f140ea180783898add0b9fc4daf" category="paragraph">下表介绍了 StorageGRID 当前支持的纠删编码方案，该方案适用于包含三个或更多站点的存储池。所有这些方案均可提供站点丢失保护。一个站点可能会丢失，但对象仍可访问。</block>
  <block id="0d8b68486a5a70556238eb636ac9b539" category="paragraph">对于提供站点丢失保护的纠删编码方案，存储池中的建议存储节点数超过 _k+m_+1 ，因为每个站点至少需要三个存储节点。</block>
  <block id="d27f482f3e2e1cd27728437fd7138a71" category="cell">纠删编码方案（ _k+m_ ）</block>
  <block id="0ac294a704d2581f83febee41e527624" category="cell">已部署站点的最小数量</block>
  <block id="5ef41f31179c9ed7233416dc004d0034" category="cell">每个站点的建议存储节点数</block>
  <block id="713cd2eda5303276e8e36e9b2700c4e6" category="cell">建议的存储节点总数</block>
  <block id="9769fb1d84744d86fc7bcc67072cb30d" category="cell">站点丢失保护？</block>
  <block id="57beaf1c2a067a9dc00b3ca850172c6a" category="cell">存储开销</block>
  <block id="ebd3e13dedacad37c974be11d108d243" category="paragraph">4+2</block>
  <block id="2496af30b64c3a4ff21e8505ea439a73" category="paragraph">50%</block>
  <block id="06421b554a72d817739e1fda771f2324" category="paragraph">6+2</block>
  <block id="65d1d3247a22efbd07d3d09feb131d31" category="paragraph">33%</block>
  <block id="15d3a3463c3cdaa626f321fdbae60c94" category="paragraph">8+2</block>
  <block id="ae0ce64fc49cd0aa826b50099f869922" category="paragraph">25%</block>
  <block id="b47b699ebc962443633522396a3a6027" category="paragraph">6+3.</block>
  <block id="03b0f3af6cdb35a150cf07e1db9408aa" category="paragraph">9+3.</block>
  <block id="5c93e584b106c9b9ceb339d8ca8395cc" category="paragraph">2+1</block>
  <block id="5236666843bddead60ad1ebf5ac7cf55" category="paragraph">4+1</block>
  <block id="6a0fff2e2421de348632ffd7a52292d5" category="paragraph">6+1</block>
  <block id="1e0db9f0a02e0cca48bd2002c0d3395b" category="paragraph">17%</block>
  <block id="62959fad88eaf690c4d209a6608bc5cd" category="paragraph">7+5.</block>
  <block id="0ba1fdded030c26dcf6bab8c50f73a1c" category="paragraph">71%</block>
  <block id="3e9d8649bdf0642205731eef316fd013" category="admonition">StorageGRID 要求每个站点至少有三个存储节点。要使用 7+5 方案，每个站点至少需要四个存储节点。建议每个站点使用五个存储节点。</block>
  <block id="5945d12e8c5e019ce406144f7557bd0b" category="paragraph">在选择提供站点保护的纠删编码方案时，请平衡以下因素的相对重要性：</block>
  <block id="cad2d7271d028f58674eed733cae16cb" category="list-text">* 碎片数量 * ：当碎片总数减少时，性能和扩展灵活性通常会提高。</block>
  <block id="8cb8ccffc845809aab5704647f63b9ff" category="list-text">* 容错 * ：容错可通过包含更多奇偶校验分段来提高（即，当 _m_ 的值较高时）。</block>
  <block id="08a351765ac39e6fad8fa232d35f5f4f" category="list-text">* 网络流量 * ：从故障中恢复时，使用包含更多片段的方案（即 _k+m_ 的总数更高）会创建更多网络流量。</block>
  <block id="ade8b9023f7de53170446fd63cae4f3a" category="list-text">* 存储开销 * ：开销较高的方案需要每个对象更多的存储空间。</block>
  <block id="414e488e81d689910caa1c8da47bcb84" category="paragraph">例如，在选择 4+2 方案和 6+3 方案（两者都有 50% 的存储开销）时，如果需要额外的容错功能，请选择 6+3 方案。如果网络资源受限，请选择 4+2 方案。如果所有其他因素相等，请选择 4+2 ，因为其碎片总数较低。</block>
  <block id="eb14e4a0566dfec1d94e4c833ed4cfc6" category="admonition">如果您不确定要使用的方案，请选择 4+2 或 6+3 ，或者联系技术支持。</block>
  <block id="67599903c3d21d8cb5ee88728dd93301" category="paragraph">单站点存储池支持为三个或更多站点定义的所有纠删编码方案，但前提是该站点具有足够的存储节点。</block>
  <block id="45a6deba8b706114070b019da9cc12ee" category="paragraph">所需的最小存储节点数为 _k+m_ ，但建议使用具有 _k+m_+1 存储节点的存储池。例如， 2+1 纠删编码方案要求一个存储池至少包含三个存储节点，但建议使用四个存储节点。</block>
  <block id="df6fe926d057e3f35b97b1089367873c" category="cell">存储节点的最小数量</block>
  <block id="aec69f464bd195a3d4661d35c5930572" category="cell">建议的存储节点数</block>
  <block id="7c256133b10326a888bc5981b6a11905" category="summary">创建 ILM 规则和 ILM 策略后，您可以继续使用它们，并随存储需求的变化修改其配置。</block>
  <block id="31dc759e2716466f6f0f6086a358775c" category="paragraph">创建 ILM 规则和 ILM 策略后，您可以继续使用它们，并随存储需求的变化修改其配置。</block>
  <block id="08eca0995eb728778bd6bd66a14c05d8" category="section-title">删除 ILM 规则</block>
  <block id="c9027034cc74bb191290645d68b49ad6" category="paragraph">要使当前 ILM 规则列表易于管理，请删除不可能使用的任何 ILM 规则。</block>
  <block id="3b7b184ff6aaadad479d4a5277f7fc7a" category="paragraph">如果某个 ILM 规则当前已在活动策略或建议的策略中使用，则不能将其删除。如果需要删除使用策略的 ILM 规则，必须先执行以下步骤：</block>
  <block id="bdd756fe280687aa0b179a46cd3ea8a1" category="list-text">克隆活动策略或编辑建议的策略。</block>
  <block id="d659136857efdfe51e098f5285d5b5f2" category="list-text">从策略中删除 ILM 规则。</block>
  <block id="65be05906820c30acabae30b08f6bfc4" category="list-text">保存，模拟和激活新策略，以确保对象按预期受到保护。</block>
  <block id="fc924200f24a86808dafb04ec05de4cd" category="list-text">查看要删除的规则的表条目。</block>
  <block id="346d9011bfadbdc9832f5d811076e978" category="paragraph">确认此规则未在活动 ILM 策略或建议的 ILM 策略中使用。</block>
  <block id="7042a11e1c431811e3e2674fbfe8e731" category="list-text">如果要删除的规则未在使用中，请选择单选按钮并选择 * 删除 * 。</block>
  <block id="7f39cbc3214900ba546394404ed9613f" category="list-text">选择 * 确定 * 确认要删除 ILM 规则。</block>
  <block id="46e7d70c8b28f19d81de1c4b41202aa0" category="paragraph">此时将删除 ILM 规则。</block>
  <block id="f0f2476a1724f497426fd170f0fd92b7" category="inline-image-macro">图标 ILM 规则历史记录</block>
  <block id="206510e2497b222011bde68951e9b4ba" category="paragraph">如果删除历史策略中使用的规则，则会显示 <block ref="bfacc48d5c0e7078b0b71c09366e92df" category="inline-image-macro-rx" type="image"></block> 查看策略时会显示规则图标，表示此规则已成为历史规则。</block>
  <block id="05eb7f69c64410ad1b80a01e0241fe74" category="image-alt">ILM 规则历史记录</block>
  <block id="352ed5a25490ce43c7a1e0eeca9c25c9" category="section-title">编辑 ILM 规则</block>
  <block id="cea41cae75d770006a9aa3ceeaf230b0" category="paragraph">要更改筛选器或放置指令，您可能需要编辑 ILM 规则。</block>
  <block id="5925e4df8afeaa0485921018c1bce94f" category="paragraph">如果某个规则正在建议的 ILM 策略或活动 ILM 策略中使用，则无法编辑该规则。而是可以克隆这些规则并对克隆的副本进行任何必要的更改。您也不能编辑在 StorageGRID 10.3 之前创建的常用 ILM 规则（创建 2 个副本）或 ILM 规则。</block>
  <block id="9a21e00f63beee08147e5203ee6fba08" category="admonition">在将已编辑的规则添加到活动 ILM 策略发生原因 之前，请注意，更改对象的放置指令可能会导致系统负载增加。</block>
  <block id="3ee44bfe68060259a8df8715da8f842c" category="paragraph">此时将显示 "ILM Rules" 页面。此页面显示所有可用规则，并指示活动策略或建议策略中正在使用哪些规则。</block>
  <block id="596457db4d1f381cf5b526aa734c4d17" category="list-text">选择未使用的规则，然后选择 * 编辑 * 。</block>
  <block id="123a366fe92fe66f4a238ca0236dc034" category="paragraph">此时将打开编辑 ILM 规则向导。</block>
  <block id="f38cd04f6722d345c9dbf87c37f8d04f" category="image-alt">编辑 ILM 规则页面</block>
  <block id="be3cd9183fb80a35f4a7e3d528f6628b" category="inline-xref-macro">创建 ILM 规则</block>
  <block id="cd8066686a376804099f2bedfe38c8c6" category="inline-xref-macro">使用高级筛选器</block>
  <block id="c6e6c5611412f030dcee127ff514890f" category="list-text">按照的步骤完成编辑 ILM 规则向导中的各个页面 <block ref="aabaa9a302a420e5d3497ca774fe33ea" category="inline-xref-macro-rx"></block> 和 <block ref="40415c3a9e8021237f8d70c9abf60afb" category="inline-xref-macro-rx"></block>根据需要。</block>
  <block id="a811a278c9e1945d5d29776a27518972" category="paragraph">编辑 ILM 规则时，不能更改其名称。</block>
  <block id="8bbd1fb5abd526a0b5f8709af51e4fee" category="paragraph">如果编辑历史策略中使用的规则，则可以使用 <block ref="bfacc48d5c0e7078b0b71c09366e92df" category="inline-image-macro-rx" type="image"></block> 查看策略时会显示规则图标，表示此规则已成为历史规则。</block>
  <block id="7b4df048f7774a05697f8db49ffce994" category="section-title">克隆 ILM 规则</block>
  <block id="73abe761eef8cbad0a64265452d66eb1" category="paragraph">如果某个规则正在建议的 ILM 策略或活动 ILM 策略中使用，则无法编辑该规则。而是可以克隆规则并对克隆的副本进行任何必要的更改。然后，如果需要，您可以从建议的策略中删除原始规则，并将其替换为修改后的版本。如果 ILM 规则是使用 StorageGRID 10.2 或更早版本创建的，则无法克隆该规则。</block>
  <block id="8a3c414a69f1c4ef98680ceb56ce15ef" category="paragraph">在将克隆规则添加到活动 ILM 策略发生原因 之前，请注意，更改对象的放置指令可能会导致系统负载增加。</block>
  <block id="f993e624d6a70c281a53b600f8679960" category="image-alt">ILM 规则页面</block>
  <block id="2655c59777cc9b48f057bc355fc56246" category="list-text">选择要克隆的 ILM 规则，然后选择 * 克隆 * 。</block>
  <block id="121606ead977ad7e7a43425fef31c73c" category="paragraph">此时将打开创建 ILM 规则向导。</block>
  <block id="7366f7a79b9dd0e9b05695536122f110" category="list-text">按照编辑 ILM 规则和使用高级筛选器的步骤更新克隆的规则。</block>
  <block id="20a1bd14b209b35283b6824d58bb62ac" category="paragraph">克隆 ILM 规则时，必须输入新名称。</block>
  <block id="18e2443b10648092e75d2fd471e10922" category="paragraph">此时将创建新的 ILM 规则。</block>
  <block id="192879be05fd685237d8c55522d39f9b" category="section-title">查看 ILM 策略活动队列</block>
  <block id="0130420b6ae4d8be21fd7b31fe21a8ec" category="paragraph">您可以随时查看队列中要根据 ILM 策略进行评估的对象数量。您可能需要监控 ILM 处理队列以确定系统性能。队列较大可能表示系统无法跟上载入速率的增长，客户端应用程序的负载过大或存在异常情况。</block>
  <block id="1f0a0e6e906b5e6a7a68c97a9d224de0" category="image-alt">网格管理界面中的信息板</block>
  <block id="de6e0b43a407fd8e1abcc3ff30da85a4" category="list-text">监控信息生命周期管理（ ILM ）部分。</block>
  <block id="196a91f821f1b1b86dc4bab45caa4b90" category="paragraph">您可以选择问号 <block ref="a92f00b6b3c97c9322a6a7f66a54b5d1" category="inline-image-macro-rx" type="image"></block> 以查看本节中各项的问题描述 。</block>
  <block id="e17414ea2bb3634493dd3b8697632ab3" category="summary">您必须查看启用全局 S3 对象锁定设置的要求，创建合规 ILM 规则和 ILM 策略的要求以及 StorageGRID 对使用 S3 对象锁定的分段和对象所施加的限制。</block>
  <block id="4aecdb329f6cf2d65129a9583ebd033b" category="section-title">使用全局 S3 对象锁定设置的要求</block>
  <block id="9ca9bf1e48ea5516991ec94d857c84f1" category="list-text">您必须先使用网格管理器或网格管理 API 启用全局 S3 对象锁定设置，然后任何 S3 租户才能创建启用了 S3 对象锁定的分段。</block>
  <block id="3e15c83e5e8511e479a623dcb504000f" category="list-text">启用全局 S3 对象锁定设置后，所有 S3 租户帐户都可以在启用了 S3 对象锁定的情况下创建存储分段。</block>
  <block id="34bf4830efc1713c3faf3b4c0e0855d8" category="list-text">启用全局 S3 对象锁定设置后，您将无法禁用此设置。</block>
  <block id="e3cd2a360244c683e675ccc3e87a5cd1" category="list-text">除非活动 ILM 策略中的默认规则为 _compliant_ （即，默认规则必须符合启用了 S3 对象锁定的分段的要求），否则无法启用全局 S3 对象锁定。</block>
  <block id="97b7b3585f8a4b60b4731d7d79be27e5" category="list-text">启用全局 S3 对象锁定设置后，除非策略中的默认规则合规，否则您无法创建新的建议 ILM 策略或激活现有建议的 ILM 策略。启用全局 S3 对象锁定设置后， "ILM 规则 " 和 "ILM 策略 " 页面将指示符合哪些 ILM 规则。</block>
  <block id="4c688ef9a778a9dcb7d837414329578d" category="paragraph">在以下示例中， "ILM 规则 " 页面列出了与启用了 S3 对象锁定的存储分段兼容的三个规则。</block>
  <block id="9ab3ebbfe367568beac1cfac8bf26ef5" category="image-alt">ILM 规则页面上的合规性字段</block>
  <block id="50c4c3e51744c8c7be564e6e82ae4136" category="section-title">符合 ILM 规则的要求</block>
  <block id="eef7b76e3fe8012587de480cd36f29c7" category="paragraph">如果要启用全局 S3 对象锁定设置，必须确保活动 ILM 策略中的默认规则合规。合规规则可满足启用了 S3 对象锁定的两个存储分段以及启用了旧合规性的任何现有存储分段的要求：</block>
  <block id="9359b3adfc05a5fbc68de362b4ae221d" category="list-text">放置说明中至少有一行必须从第 0 天开始，并使用 * 载入时间 * 作为参考时间。</block>
  <block id="e29684a2eb13766403981f302b9db686" category="paragraph">例如，此规则满足启用了 S3 对象锁定的分段的要求。它会存储从载入时间（第 0 天）到 "`Forever " 的两个复制对象副本。` 这些对象将存储在两个数据中心的存储节点上。</block>
  <block id="0c651a3e0868a895c3fb375af9328b8c" category="image-alt">示例符合规则两个永久副本</block>
  <block id="58dc2d3c230c685a56053ca22d5b42f1" category="section-title">活动的和建议的 ILM 策略的要求</block>
  <block id="935d122efbed2b840092c5ce1c3648e1" category="paragraph">启用全局 S3 对象锁定设置后，活动和建议的 ILM 策略可以同时包含合规和不合规的规则。</block>
  <block id="bded00f55dfea6cb53888e513a2af631" category="list-text">活动 ILM 策略或任何建议 ILM 策略中的默认规则必须合规。</block>
  <block id="a7acef6d5ea2e634f1a3637013c35f8f" category="list-text">不合规规则仅适用于未启用 S3 对象锁定或未启用原有合规功能的分段中的对象。</block>
  <block id="00165c8391bf8b18215ddab9c6baff7c" category="list-text">合规规则可以应用于任何存储分段中的对象；不需要为此存储分段启用 S3 对象锁定或原有合规性。</block>
  <block id="a7a180290cbbd92cf6673c310dcaa8dd" category="paragraph">合规的 ILM 策略可能包括以下三个规则：</block>
  <block id="46b4eb7606893a5a1f3144ae31ccb28c" category="list-text">一种在启用了 S3 对象锁定的情况下为特定分段中的对象创建经过擦除编码的副本的合规规则。EC 副本从第 0 天一直存储在存储节点上。</block>
  <block id="746ca6866ee64458b2fb85d23811b511" category="list-text">一种不合规的规则，在存储节点上创建两个复制的对象副本一年，然后将一个对象副本移动到归档节点并永久存储该副本。此规则仅适用于未启用 S3 对象锁定或原有合规性的适用场景 分段，因为它仅永久存储一个对象副本，并且使用归档节点。</block>
  <block id="dfbf8aee3b249d3275c1b7119e3fca2a" category="list-text">一种默认的合规规则，用于在存储节点上创建从 0 天到永久的两个复制对象副本。此规则适用场景 任何分段中未被前两个规则筛选出的任何对象。</block>
  <block id="19a5af8e43ff0991e97b9b8b62b70f9e" category="list-text">在启用了 S3 对象锁定的情况下向存储分段添加对象版本时， S3 客户端应用程序可以使用默认存储分段保留设置，也可以指定对象的保留设置（保留至日期，合法保留或两者）。然后， StorageGRID 会为此对象生成元数据，其中包括唯一对象标识符（ UUID ）以及载入日期和时间。</block>
  <block id="1620d27b42c5e03eb048fd4952187334" category="list-text"><block ref="1620d27b42c5e03eb048fd4952187334" category="inline-xref-macro-rx"></block></block>
  <block id="535250ebde4641da7785bbb995be0907" category="list-text"><block ref="535250ebde4641da7785bbb995be0907" category="inline-xref-macro-rx"></block></block>
  <block id="a58256386215c9d08302eed28bf339f2" category="list-text"><block ref="51db2faf376ce0847c5a2773ca51aaf5" category="inline-xref-macro-rx"></block>。</block>
  <block id="3ef6f39a0898d57a8373862c13abf39b" category="list-text">检查两根 SAS 互连缆线的完整性，并确认它们已牢固连接。</block>
  <block id="b55730017a32c9d2e48bb5be439d2c12" category="list-text">根据需要更换一根或两根缆线，然后重试。</block>
  <block id="3d063ad665dd3261f382cc3806d14285" category="list-text">安装驱动器（仅限 SG5660 ）</block>
  <block id="d3efe39fa64063e201e3f1da15f5bf21" category="list-text">访问 SANtricity 存储管理器，为 E2700 控制器上的管理端口 1 设置静态 IP 地址以及配置 SANtricity 存储管理器设置</block>
  <block id="e4ba36742b549ba477008d1263f801f2" category="inline-xref-macro">准备安装（ SG5600 ）</block>
  <block id="e7516776e2e1ec783cc1ebe37de6aabd" category="paragraph"><block ref="e7516776e2e1ec783cc1ebe37de6aabd" category="inline-xref-macro-rx"></block></block>
  <block id="c24844285748b79e2ca12130bc4d1495" category="inline-xref-macro">安装硬件（ SG5600 ）</block>
  <block id="17b81e7b573a8ae536889d9aac67d9d9" category="paragraph"><block ref="17b81e7b573a8ae536889d9aac67d9d9" category="inline-xref-macro-rx"></block></block>
  <block id="d56738bdd1d521902f24b847a718575f" category="paragraph"><block ref="d56738bdd1d521902f24b847a718575f" category="inline-xref-macro-rx"></block></block>
  <block id="046dcd8d6a5f9d5d00e8927d52d3a326" category="summary">SANtricity 存储管理器可以在设备或其某个组件的状态发生变化时向您发出通知。这称为警报通知。您可以通过两种不同的方法接收警报通知：电子邮件和 SNMP 陷阱。您必须配置要接收的警报通知。</block>
  <block id="f8ae7b679c1097acfeaece8a779814e8" category="doc">配置电子邮件和 SNMP 陷阱警报通知</block>
  <block id="da874608fad6d245bb999e08fcf41ab3" category="list-text">在 SANtricity 存储管理器的企业管理窗口中，选择 * 设备 * 选项卡，然后选择一个节点。</block>
  <block id="ca5112fa31ef43b1c345b5ca1af43396" category="list-text">选择 * 编辑 * &gt; * 配置警报 * 。</block>
  <block id="7b210a01a6d203ee0b4ffb18f07cd27e" category="list-text">选择 * 电子邮件 * 选项卡以配置电子邮件警报通知。</block>
  <block id="63abeeeb625308fa00731df0b9c731f4" category="list-text">选择 * SNMP * 选项卡以配置 SNMP 陷阱警报通知。</block>
  <block id="562084a7cd9e1b61220744dedb1dfae6" category="list-text">如果需要，请使用 SANtricity 存储管理器联机帮助完成此任务。</block>
  <block id="3519c0d63796679bfd2dcb77b0d274cd" category="summary">您可以更改 E5600SG 控制器的以太网链路配置。您可以更改端口绑定模式，网络绑定模式和链路速度。</block>
  <block id="07ffd18d48da9695182d53997eebaeda" category="doc">更改 E5600SG 控制器的链路配置</block>
  <block id="927eba115b0f1cbca045e7a6ca833391" category="inline-xref-macro">将 E5600SG 控制器置于维护模式</block>
  <block id="6e2484b3263dae436a1a20d111a5b4ba" category="paragraph"><block ref="321cca5bb125167da95742d853252eca" category="inline-xref-macro-rx"></block>。</block>
  <block id="e05b3df4ea327d0b8fbed55d5efe3e72" category="paragraph">更改 E5600SG 控制器的以太网链路配置的选项包括：</block>
  <block id="1c6621d2059e7e71eefb870dec3c5224" category="list-text">【 change_link_configuration_sg5600 ， start=2]] 对链路配置进行所需的更改。</block>
  <block id="ed524e38a75cf07f090e24761bfdc308" category="admonition">如果更改了所连接的网络或链路，则可能会断开连接。如果 1 分钟内未重新连接，请使用分配给 StorageGRID 设备的其他 IP 地址之一重新输入此设备安装程序的 URL ： + ` * https://_E5600SG_Controller_IP_:8443*`</block>
  <block id="47c03e18a57c465f84fdf8a547e6b8b4" category="paragraph">如果更改了 VLAN 设置，则设备的子网可能已更改。如果需要更改设备的 IP 地址，请按照执行操作 <block ref="c3d57bb2002e9688d767a7bc45b3e4fb" category="inline-xref-macro-rx"></block> 说明。</block>
  <block id="979c3830de81b2cc16d83536021ae619" category="list-text">使用 Ping 测试工具检查可能受您在中所做的链路配置更改影响的任何网络上的 IP 地址连接 <block ref="7ae3c654b85a42d264c20fd0f2a3b69b" category="inline-xref-macro-rx"></block> 步骤。</block>
  <block id="07a608c24997e9735f9bc24c7a1a5ec1" category="inline-xref-macro">配置网络链路（ SG5600 ）</block>
  <block id="a6cba8bdcbaeb59f344829c40a6bb65e" category="paragraph"><block ref="a6cba8bdcbaeb59f344829c40a6bb65e" category="inline-xref-macro-rx"></block></block>
  <block id="71dce4e9093474f40e16e754a6fac68d" category="summary">您可能需要更换 StorageGRID 设备中的驱动器，风扇，电源或电池。</block>
  <block id="00d8f1487e3a22be2d4b3dd60c5571fd" category="inline-xref-macro">置于维护模式</block>
  <block id="15d37c4668213010ecfb1d59d67f6714" category="list-text">此设备已运行 <block ref="a35298eb710e7e7b86d006a912022ecc" category="inline-xref-macro-rx"></block> 如果组件更换操作步骤 要求您关闭设备。</block>
  <block id="6a36e2079aaf3a40a9544c2328f89a3f" category="paragraph">更换驱动器，电源风扇箱，风扇箱，电源箱，电池 或驱动器抽盒，请参见 E2700 和 E5600 存储阵列的标准过程。重点介绍有关拆卸和更换硬件本身的分步说明；许多 SANtricity 存储管理器过程不适用于设备。</block>
  <block id="e746896e1ad4b6bf291570238ef4f37f" category="section-title">SG5612 组件更换说明</block>
  <block id="9cca789d70aabad8f940e6912c780ca6" category="paragraph">按照 E 系列说明中的步骤更换 E2600 ， E2700 ， E5400 ， E5500 ， E5600 或 12 驱动器或 24 驱动器托盘中的驱动器。</block>
  <block id="4842c08e60f6ca5427520a514abb968d" category="paragraph">按照 E 系列说明中的步骤更换 E5612 或 E5624 控制器驱动器托盘中发生故障的电源风扇箱</block>
  <block id="656564d602089a39be4c1086c3ebd3b9" category="paragraph">E2700 控制器中的电池（需要卸下控制器）</block>
  <block id="093fb94cc1392b7be6474289b39a9dd5" category="inline-xref-macro">更换 E2700 控制器</block>
  <block id="e3b4cad8be9063aad7b9dbd31614e941" category="paragraph">按照中的步骤进行操作 <block ref="bb610c23f8795f322552a2502c195bce" category="inline-xref-macro-rx"></block>，但请在现有控制器中安装新电池。</block>
  <block id="6bd14a830a3676bfd7a4770e41b3b131" category="section-title">SG5660 组件更换说明</block>
  <block id="ebbf50c01f10f317451860ea992c1b4d" category="paragraph">按照 E 系列说明中的步骤更换 E2660 ， E2760 ， E5460 ， E5560 或 E5660 托盘中的驱动器。</block>
  <block id="0d38197a9847bb7292afe15a7170a3df" category="paragraph">按照 E 系列说明中的步骤更换 E5660 控制器驱动器托盘中发生故障的电源箱</block>
  <block id="b72e4e75278a9598e7b45310e11a5d01" category="paragraph">按照 E 系列说明中的步骤更换 E5660 控制器驱动器托盘中发生故障的风扇箱</block>
  <block id="5c2b22eab327ddcb806b947d94a0f067" category="inline-link">NetApp E 系列和 EF 系列硬件更换过程</block>
  <block id="d4775dbcab09b60612058ea6e748fc9e" category="paragraph"><block ref="d4775dbcab09b60612058ea6e748fc9e" category="inline-link-rx"></block></block>
  <block id="819613c6919efa0b517ca66004b88418" category="inline-link">NetApp 文档： E2700 系列</block>
  <block id="ca1f87f9d168f4c7dad438c2cd76b2b2" category="paragraph"><block ref="ca1f87f9d168f4c7dad438c2cd76b2b2" category="inline-link-rx"></block></block>
  <block id="ed098fafa95f7f2b2615a64e5aec7209" category="inline-link">NetApp 文档： E5600 系列</block>
  <block id="0eaf0f4ec87c2a2c613eb1af6cda8d0c" category="paragraph"><block ref="0eaf0f4ec87c2a2c613eb1af6cda8d0c" category="inline-link-rx"></block></block>
  <block id="b4f63ae26c4545aaef562b7f98d1c381" category="summary">在为 E5600SG 控制器端口配置网络链路时，您可以对连接到网格网络和可选客户端网络的 10-GbE 端口以及连接到可选管理网络的 1-GbE 管理端口使用端口绑定。端口绑定可在 StorageGRID 网络和设备之间提供冗余路径，从而有助于保护数据。</block>
  <block id="4a641d3399d90d45d1f22f299c382bd1" category="doc">E5600SG 控制器端口的端口绑定模式</block>
  <block id="103eaf9c7732e83952cfbbb6de7500d1" category="summary">在安装 StorageGRID 设备硬件之前，您应检查服务笔记本电脑是否具有所需的最低资源。</block>
  <block id="e1c0a695efe9b208f27f16e9e9aae5d4" category="doc">服务笔记本电脑要求</block>
  <block id="ded90390a53d6ca3c21938d8a06fbed8" category="paragraph">硬件安装所需的服务笔记本电脑必须满足以下要求：</block>
  <block id="15f1a517d4338ecf6939bcb301ff1fb4" category="list-text">Microsoft Windows 操作系统</block>
  <block id="0bc90f382ddab8f5281e43e82646e128" category="list-text">NetApp SANtricity Storage Manager 11.40 或更高版本</block>
  <block id="c71c999625358ff6a485f5c7fd17500a" category="inline-link">NetApp 文档： SANtricity 存储管理器</block>
  <block id="b2e8af98dfcb60447d1ab8adf31103d6" category="paragraph"><block ref="b2e8af98dfcb60447d1ab8adf31103d6" category="inline-link-rx"></block></block>
  <block id="3bc2bd0a9a56f55bab5481185d22a697" category="summary">您可以在 SANtricity 存储管理器中设置设备使用的密码。设置密码可保持系统安全性。</block>
  <block id="723e870328edc72f1b0fe3df79becf23" category="doc">设置 SANtricity 存储管理器的密码</block>
  <block id="dc4a142bc02178560eb24889614e652c" category="list-text">在 SANtricity 存储管理器的企业管理窗口中，双击控制器。</block>
  <block id="da6eb0a89610465195ef7b1fb9d871b2" category="list-text">从阵列管理窗口中，选择 * 存储阵列 * 菜单，然后选择 * 安全性 * &gt; * 设置密码 * 。</block>
  <block id="871febde00385a92579e30b09fcc68ec" category="list-text">配置密码。</block>
  <block id="038cc273f6db8a0e077ff08d4c8ff014" category="summary">StorageGRID SG5600 设备提供了一个集成的存储解决方案 ，用于创建新的 StorageGRID 系统或扩展现有系统的容量。</block>
  <block id="1458af581f61c575db3ef81960e01f00" category="doc">StorageGRID 设备功能</block>
  <block id="51a1a996dd49089749d3155d64478c99" category="paragraph">StorageGRID 设备可提供以下功能：</block>
  <block id="cae80c077362057dcd882aea63b8a094" category="list-text">将 StorageGRID 存储节点计算和存储要素组合为一个高效的集成解决方案</block>
  <block id="4bb0f2c558a07d69e9f1c14a3b50adbf" category="list-text">简化存储节点的安装和配置，自动执行所需的大部分流程</block>
  <block id="c8fbfb676295cfec16a725764091e3f3" category="list-text">提供具有两个机箱选项的高密度存储解决方案 ：一个是 2U ，一个是 4U</block>
  <block id="81d858965922ff62019de19dfddea5b5" category="list-text">直接使用连接到存储节点的 10-GbE IP 接口，而无需使用 FC 或 iSCSI 等中间存储接口</block>
  <block id="2e967422654b488c7590cfcd117ae18a" category="list-text">可以在使用 StorageGRID 设备和虚拟（基于软件）存储节点的混合网格环境中使用</block>
  <block id="a94ed09b20f719d0c971c6e83a5ac825" category="list-text">包括预配置的存储，并预加载了 StorageGRID 设备安装程序（在 E5600SG 控制器上），用于现场部署和集成软件</block>
  <block id="b75aebee3ae9b4f076fe079351d51f52" category="summary">每个控制器上的七段显示会显示设备启动时，硬件初始化时以及硬件出现故障且必须退出初始化时的状态和错误代码。如果您要监控进度或进行故障排除，则应查看显示的代码顺序。</block>
  <block id="d28b2a5cd89fca7a1464da8b912b3320" category="doc">查看 SG5600 控制器的启动状态并查看错误代码</block>
  <block id="55d57db187fd708c658c68faf3ec7df9" category="paragraph">E5600SG 控制器的状态和错误代码与 E2700 控制器的状态和错误代码不同。</block>
  <block id="0594462f2d3505556bc38cfc76aa91d9" category="list-text">在启动期间，查看七段显示器上显示的代码以监控进度。</block>
  <block id="badcfe7d7bc987202a82c2aee115cb40" category="list-text">要查看 E5600SG 控制器的错误代码，请参见七段显示状态和错误代码信息。</block>
  <block id="1302c00bc59e2d97ab937a86dd871e55" category="list-text">要查看 E2700 控制器的错误代码，请参见支持站点上的 E2700 控制器文档。</block>
  <block id="88092f3107c57f0c0ef31658254c988c" category="inline-xref-macro">E5600SG 控制器七段显示代码</block>
  <block id="f3829cf3dd715525b94af8e5b372e148" category="paragraph"><block ref="f3829cf3dd715525b94af8e5b372e148" category="inline-xref-macro-rx"></block></block>
  <block id="017be2e2972597886f39395a121676ac" category="doc">收集安装信息（ SG5600 ）</block>
  <block id="a34796f82ec6f7cf5887cd98a447cc24" category="paragraph">您可以使用下表记录连接到设备的每个网络的信息。安装和配置硬件需要这些值。</block>
  <block id="ea94dbd77bcb575a1f6ebc42225b3526" category="section-title">将 E2700 控制器连接到 SANtricity 存储管理器所需的信息</block>
  <block id="d6c3410ed4cc9c90673482f4cc373935" category="paragraph">您必须将 E2700 控制器连接到要用于 SANtricity 存储管理器的管理网络。</block>
  <block id="13024048f530b92bf9b5bca575bd9939" category="paragraph">* 注： * 如果要连接到 E2700 控制器的网络包含 DHCP 服务器，则网络管理员可以使用 MAC 地址确定 DHCP 服务器分配的 IP 地址。</block>
  <block id="e8b8bc84a8f6a4a628fb4ca335938ab6" category="paragraph">* 注： * 您必须确保 SANtricity 存储管理器管理网络的以太网交换机设置为自动协商。</block>
  <block id="ff8997929239caf275ef9bf5cdd81f5d" category="list-text">E2700 控制器路由器 IP 地址：</block>
  <block id="7343d14202310fe84e4e2090fb2c5405" category="section-title">将 E5600SG 控制器连接到管理网络所需的信息</block>
  <block id="c62a8ee5dab206975250835c94516972" category="paragraph">StorageGRID 管理网络是一个可选网络，用于系统管理和维护。此设备使用 E5600SG 控制器上的 1-GbE 管理端口连接到管理网络。</block>
  <block id="dc1738884ea2290ec9e45bb773ada192" category="paragraph">管理端口 1 （ P1 ）的交换机端口</block>
  <block id="91b56574a1999d58882f140a13e8ee73" category="paragraph">管理端口 2 的交换机端口（ P2 ；仅限主动备份网络绑定模式）</block>
  <block id="940804326b2d822b33de9939049689bb" category="paragraph">* 注： * 如果管理网络包含 DHCP 服务器，则 E5600SG 控制器会在启动后在其七段显示器上显示 DHCP 分配的 IP 地址。您还可以使用 MAC 地址查找分配的 IP ，从而确定 DHCP 分配的 IP 地址。</block>
  <block id="c1a6caa5680c490e8a93f139c4fef2a0" category="section-title">在 E5600SG 控制器上连接和配置 10-GbE 端口所需的信息</block>
  <block id="c1ee77bf66c5508ad4570420b1b6dee0" category="paragraph">E5600SG 控制器上的四个 10-GbE 端口连接到 StorageGRID 网格网络和客户端网络。</block>
  <block id="af78ae0f3b4a466c5158866089c428e9" category="admonition">有关这些端口选项的详细信息，请参见 "E5600SG 控制器的 10-GbE 端口连接 " 。</block>
  <block id="021bebe85afe9cfceba825bac9c8d2bd" category="section-title">将 E5600SG 控制器连接到网格网络所需的信息</block>
  <block id="79f747a6d82a8087b7656053bd88efb2" category="paragraph">适用于 StorageGRID 的网格网络是一个必需的网络，用于所有内部 StorageGRID 流量。此设备使用 E5600SG 控制器上的 10-GbE 端口连接到网格网络。</block>
  <block id="789a7022e6d3a281a7011fc158d65873" category="paragraph">* 注： * 如果网格网络包含 DHCP 服务器，则 E5600SG 控制器会在启动后在其七段显示屏上显示为网格网络分配的 DHCP IP 地址。</block>
  <block id="5294cfdf7187eca31281595665b7b41a" category="section-title">将 E5600SG 控制器连接到客户端网络所需的信息</block>
  <block id="a1de9fcc3b5f8353e7bba888a28d9cc2" category="paragraph">适用于 StorageGRID 的客户端网络是一个可选网络，用于提供对网格的客户端协议访问。此设备使用 E5600SG 控制器上的 10-GbE 端口连接到客户端网络。</block>
  <block id="e1b591dbdad8ae254656e2dc70f8ab25" category="inline-xref-macro">查看设备网络连接（ SG5600 ）</block>
  <block id="a3b0d83c82d023a055b5a718f9f85c35" category="paragraph"><block ref="a3b0d83c82d023a055b5a718f9f85c35" category="inline-xref-macro-rx"></block></block>
  <block id="59285379f6091aabe459f5a9da98e330" category="inline-xref-macro">E5600SG 控制器端口的端口绑定模式</block>
  <block id="af20bf7972522f646907a7f3d688eb4a" category="paragraph"><block ref="af20bf7972522f646907a7f3d688eb4a" category="inline-xref-macro-rx"></block></block>
  <block id="978071b14c48f91b643cf25d65bbd8e2" category="summary">您可能需要升级 E2700 控制器上的 SANtricity 操作系统软件，更换 E2700 控制器或 E5600SG 控制器或更换特定组件。本节中的过程假定设备已部署为 StorageGRID 系统中的存储节点。</block>
  <block id="6df5db2beb11b54d5d52c10ce6792046" category="doc">维护 SG5600 设备</block>
  <block id="61e7c2da05fac4b60e65107bc43ed118" category="doc">使用 SANtricity 存储管理器升级驱动器固件</block>
  <block id="e04f890491138b21c04eeac2d4e58cc0" category="list-text">您已安装与您的 SANtricity 版本兼容的最新版本 StorageGRID 存储管理器。</block>
  <block id="b7e789e4fd9f67b236be5d924c7fab97" category="paragraph"><block ref="b7e789e4fd9f67b236be5d924c7fab97" category="inline-xref-macro-rx"></block></block>
  <block id="6d1b0abf41dd82208a668ac42586fb0e" category="inline-xref-macro">使用维护模式升级 E2700 控制器上的 SANtricity 操作系统</block>
  <block id="0a8200f68136559f1b09983b5b1e32d2" category="paragraph"><block ref="0a8200f68136559f1b09983b5b1e32d2" category="inline-xref-macro-rx"></block></block>
  <block id="2ba768282bcfdf8c44429b066aafd17f" category="list-text">打开 Web 浏览器，然后输入 IP 地址作为 SANtricity 存储管理器的 URL ： + ` * https://_E2700_Controller_IP_*`</block>
  <block id="66a4a7bb940f052c599b642767a40ac0" category="list-text">如果需要，输入 SANtricity Storage Manager 管理员用户名和密码。</block>
  <block id="a39d8f069a4ab6d4ca4c53f71adbb379" category="list-text">在 SANtricity 企业管理中，选择 * 设备 * 选项卡。</block>
  <block id="4e7d83023eef6ea435d619fd766ce7e3" category="paragraph">此时将打开 SANtricity 阵列管理窗口。</block>
  <block id="d6b569a0251530a8721b5495c3c98c1a" category="list-text">在 SANtricity 阵列管理中，双击包含要升级的驱动器的存储阵列。</block>
  <block id="5aee82fbde52c1e259a8f988fa3719a3" category="list-text">验证存储阵列和驱动器是否均处于最佳状态。</block>
  <block id="02bf5da9395b43e28fac382de2325869" category="list-text">在 SANtricity 企业管理中，选择 * 升级 * &gt; * 驱动器固件 * 。</block>
  <block id="2de00a509ac1da4b65dff355aa36c3f9" category="paragraph">Download Drive Firmware - Add Packages 窗口将显示当前正在使用的驱动器固件文件。</block>
  <block id="646e44204dbcb53d35f2dce3f611a693" category="list-text">记下当前驱动器固件版本以及当前固件包下的驱动器标识符。</block>
  <block id="61f2fc28eca8b664d80055935a9a7df1" category="list-text">驱动器固件修订版为 * 。 NE00* 。</block>
  <block id="1d5c437600e4023c4222beea90caab8e" category="list-text">驱动器标识符为 * 。 HUH728080AL5204* 。</block>
  <block id="af56a155ba5fb3434367b94b1f114a7b" category="paragraph">选择 * 查看关联驱动器 * 可显示这些驱动器在存储设备中的安装位置。</block>
  <block id="5670cdab53e34f3e38f9dd2d5f5c31fb" category="list-text">打开 Web 浏览器，导航到 NetApp 支持网站，然后使用您的 ID 和密码登录。</block>
  <block id="b11583eaa66ec31ee30afd4772390654" category="paragraph"><block ref="b11583eaa66ec31ee30afd4772390654" category="inline-link-rx"></block></block>
  <block id="7d30d7035bef2862e8b2ddd3427b898c" category="list-text">从 SANtricity 存储管理器下载驱动器固件 - 添加软件包窗口中，选择 * 添加 * 。</block>
  <block id="ead8b0a3fe2868d25c1f76cd1385ccec" category="list-text">导航到包含固件文件的目录，并最多选择四个固件文件。</block>
  <block id="e36ead0b4140cd424a639815dd6a896d" category="paragraph">驱动器固件文件的文件名类似于 + `D HUC101212CS600_30602291_MS01_2800_0002.DLP`</block>
  <block id="0eb282105a495449ab42d7bda0ef875a" category="paragraph">选择多个固件文件以升级同一驱动器的固件可能会导致文件冲突错误。如果发生文件冲突错误，则会显示一个错误对话框。要解决此错误，请选择 * 确定 * 并删除除要用于升级驱动器固件的固件之外的所有其他固件文件。要删除固件文件，请在要传输的软件包信息区域中选择固件文件，然后选择 * 删除 * 。此外，一次最多只能选择四个驱动器固件包。</block>
  <block id="5229e4339d3188a4f0c87dfa73dcb4e1" category="paragraph">系统将使用您选择的固件文件更新要传输的软件包信息区域。</block>
  <block id="e2b83ee372ba653bde5d15902ab7da6f" category="paragraph">此时将打开 Download Drive Firmware - Select Drives 窗口。</block>
  <block id="ef1a59b18846b6c26f9ef7a29e9e1a15" category="list-text">系统会扫描设备中的所有驱动器以获取配置信息和升级资格。</block>
  <block id="983bf969c5fffd421cb4a3b3000172d4" category="list-text">您可以根据存储阵列中的驱动器种类选择使用所选固件升级的兼容驱动器。默认情况下，系统会显示能够作为联机操作进行升级的驱动器。</block>
  <block id="3ec6d1981883f49e20b9d1e2b8335a2e" category="list-text">为驱动器选择的固件将显示在建议的固件信息区域中。如果必须更改固件，请选择 * 返回 * 以返回上一个对话框。</block>
  <block id="01bd4903e39eb5ac4ea45d034d0add85" category="list-text">从驱动器升级功能中，选择 * 并行 * 下载操作或 * 全部 * 。</block>
  <block id="ef20383af06e7148ab25a701c8024d36" category="paragraph">由于设备处于维护模式，所有驱动器和所有卷的 I/O 活动都将停止，因此您可以使用上述任一升级方法。</block>
  <block id="1d20ae51336f3e46defe798b9ffeb10c" category="list-text">在兼容驱动器中，选择要升级选定固件文件的驱动器。</block>
  <block id="40f59b2bd13b12240be5c3e2320b4008" category="list-text">对于一个或多个驱动器，选择要升级的每个驱动器。</block>
  <block id="5758873996d0c2d8b900e71937b9d9af" category="list-text">对于所有兼容驱动器，请选择 * 全选 * 。</block>
  <block id="efb4d08e96389a5e09d8241b5d00320d" category="list-text">选择 * 完成 * ；然后键入 `yes` 并选择 * 确定 * 。</block>
  <block id="1298e117bcbba176fc9e1b28c362d1b9" category="list-text">驱动器固件下载和升级将开始， Download Drive Firmware - progress 用于指示所有驱动器的固件传输状态。</block>
  <block id="1054069827f7fe8a8bc5f8f1d37861fe" category="list-text">参与升级的每个驱动器的状态将显示在 "Devices updateed" （已更新设备）的 "Transfer Progress" （传输进度）列中。</block>
  <block id="b2dc7c69e762c82cd55bddb7779a06bf" category="paragraph">如果在 24 驱动器系统上升级所有驱动器，则并行驱动器固件升级操作可能需要多达 90 秒才能完成。在较大的系统上，执行时间会稍长。</block>
  <block id="6c4887130abd0276615de5a0da44706b" category="list-text">在固件升级过程中，您可以： +</block>
  <block id="fbb9ac39ea2eaaebb48c5e8e6923e507" category="list-text">选择 * 停止 * 以停止正在进行的固件升级。当前正在进行的任何固件升级均已完成。任何已尝试固件升级的驱动器都会显示其各自的状态。列出的所有剩余驱动器的状态均为 "Not Attemped" 。</block>
  <block id="c790058ed09f19fb7112491b09211f3b" category="admonition">停止驱动器固件升级过程可能会导致数据丢失或驱动器不可用。</block>
  <block id="b011ea377d1fe39f1a7e08f80fecaa6b" category="list-text">选择 * 另存为 * 以保存固件升级进度摘要的文本报告。此报告将使用默认的 .log 文件扩展名进行保存。如果要更改文件扩展名或目录，请更改保存驱动器下载日志中的参数。</block>
  <block id="dbdf3348a1e31f9dd4e69a27333a1ee8" category="list-text">使用 Download Drive Firmware - 进度监控驱动器固件升级的进度。驱动器更新区域包含计划进行固件升级的驱动器列表以及每个驱动器的下载和升级传输状态。</block>
  <block id="970a71152b843dac51a451f6c241d3e9" category="paragraph">参与升级的每个驱动器的进度和状态将显示在传输进度列中。如果在升级期间发生任何错误，请采取适当的建议操作。</block>
  <block id="a0ce1d255c635a5336538a318d7dea99" category="list-text">* 待定 *</block>
  <block id="b103ecd30bbfc1a449554bf0dedfa364" category="paragraph">对于已计划但尚未启动的联机固件下载操作，将显示此状态。</block>
  <block id="d72b3a6ed933cd9772fd6193d1462309" category="list-text">正在进行 *</block>
  <block id="876b6f22a8185ed6d84b80c289b20cec" category="paragraph">正在将固件传输到驱动器。</block>
  <block id="da8e1145ca55db96acfd3d2ef084fbfe" category="list-text">* 正在进行重建 *</block>
  <block id="a8a271bfffd3f6eb9385fcc861669be5" category="paragraph">如果在快速重建驱动器期间发生卷传输，则会显示此状态。这通常是由于控制器重置或故障以及控制器所有者传输卷造成的。</block>
  <block id="9fe1084ba3925322543dc0c758094838" category="paragraph">系统将启动驱动器的完整重建。</block>
  <block id="962472a554262cea7e10d5033a749a31" category="list-text">* 失败 - 部分 *</block>
  <block id="394a77b459d74d7f8ea7949c39eddd30" category="paragraph">在出现问题之前，固件仅部分传输到驱动器，从而无法传输其余文件。</block>
  <block id="7b239b9ac54bde285e995667a048cf3e" category="list-text">* 失败 - 状态无效 *</block>
  <block id="a89f2723a00d16d0c6cce02f63caedff" category="paragraph">此固件无效。</block>
  <block id="7aaa9c8d647ad975fc5436675da73271" category="list-text">* 失败 - 其他 *</block>
  <block id="4392f83c7373f73878ac1baed38ae5d8" category="paragraph">无法下载固件，可能是因为驱动器出现物理问题。</block>
  <block id="a9dbcea1958f56181995b927c03943bd" category="list-text">* 未尝试 *</block>
  <block id="36c009650c70f7cd0517925fd3dc1be3" category="paragraph">未下载固件，原因可能有多种，例如下载在可能发生之前已停止，驱动器不符合升级条件或下载因错误而无法进行。</block>
  <block id="acc5d86f4d7d1d67744961f4c95c7914" category="list-text">* 成功 *</block>
  <block id="7d2f8da24ca2dcc389e4d52086e5bb73" category="paragraph">已成功下载此固件。</block>
  <block id="3c946d7ddbd903d96168e40c2707dfce" category="list-text">驱动器固件升级完成后：</block>
  <block id="d2a697827ac3757884b111c3b09df286" category="list-text">要关闭驱动器固件下载向导，请选择 * 关闭 * 。</block>
  <block id="28a7e8b4fe2dcd56f0f0456c71671849" category="list-text">要重新启动向导，请选择 * 传输更多 * 。</block>
  <block id="39d407fdc53dff9129e5609d175facc5" category="inline-xref-macro">使用维护模式升级 E2700 控制器上的 SANtricity 操作系统</block>
  <block id="a52438806454e57f6cfb9ad27450948d" category="paragraph"><block ref="a52438806454e57f6cfb9ad27450948d" category="inline-xref-macro-rx"></block></block>
  <block id="ca6481096f09db9429bf8e5d9b6c5545" category="summary">对于 E5600SG 控制器上的两个 1-GbE 管理端口，您可以选择独立网络绑定模式或主动备份网络绑定模式来连接到可选的管理网络。</block>
  <block id="2826ed842bcda61f4f49c9401bee0be8" category="admonition">如果在将 1-GbE 管理端口配置为主动备份模式后需要临时本地连接到 E5600SG 控制器，请从两个管理端口拔下缆线，将临时缆线插入管理端口 2 ，然后使用 IP 地址 169.254.0.1 访问此设备。</block>
  <block id="d0cd079be68a338089477d999f9a1fb9" category="image-alt">已绑定 E5600SG 聚合端口</block>
  <block id="bc194a99fe6bc6952a3a713dff3a5dfb" category="doc">打开包装箱（ SG5600 ）</block>
  <block id="303cbf05709e3aab46e9da13b558b7d7" category="list-text">* SG5660 机箱，一个 4U 机箱，含 60 个驱动器 *</block>
  <block id="3701cf937f5792da37e1e9477b96867a" category="image-alt">4U 机箱</block>
  <block id="5dd241e335223d60ec8ee503191ac185" category="list-text">* SG5612 机箱，一个 2U 机箱，含 12 个驱动器 *</block>
  <block id="a928e63ce99364ba8d15e37043f43d78" category="image-alt">DE1600 2U 机箱</block>
  <block id="ccbb8034839b870d9e3b902a1d2aeb09" category="list-text">* 4U 挡板或 2U 端盖 *</block>
  <block id="2fbd653ec2cbc36f9058e03bde6486a0" category="inline-image-macro">4U 挡板</block>
  <block id="b7b02d9210d1a4607f25c9e6477c8775" category="inline-image-macro">2U 端盖</block>
  <block id="3f3106f6008c33cc5b19a1be5b7ac8d6" category="paragraph"><block ref="83c0000423e575547bd7683da411bcb6" category="inline-image-macro-rx" type="image"></block> <block ref="7c7a3f9c7294306215fe819ed2d9d7c5" category="inline-image-macro-rx" type="image"></block></block>
  <block id="568d2a69396ba2028d6a28bd0b106168" category="list-text">* NL-SAS 驱动器 *</block>
  <block id="d91a456fb1ae4e0d652593ea571c7440" category="paragraph">驱动器预装在 2U SG5612 中，但不安装在 4U SG5660 中，以确保运输安全。</block>
  <block id="171cba3410c4491821256a16db4686f0" category="list-text">* E5600SG 控制器 *</block>
  <block id="026889b189c260fa66297a0377f40110" category="image-alt">E5600 控制器</block>
  <block id="84afdf4f4389d85ef281af34fb9ec545" category="list-text">* E2700 控制器 *</block>
  <block id="d27c6ea614ce9b5373b309118e4d3dc3" category="image-alt">E2700 控制器</block>
  <block id="00aa9a2d968d1cbf325023cbeda76414" category="list-text">* 安装导轨和螺钉 *</block>
  <block id="6f60d46c7282828e3a15cfc1ff6d8763" category="image-alt">安装导轨套件</block>
  <block id="cb7b0bee226863fcd59e607c87fde61f" category="list-text">* 机箱手柄（仅限 4U 机箱） *</block>
  <block id="b42852e0b1dcdd676d6d29799ad839a2" category="image-alt">机箱手柄</block>
  <block id="68480cd470a955b8937cd0dcdcf818e3" category="list-text">* 您所在国家或地区的电源线 *</block>
  <block id="0fbdae1fc78846266a1e83487e34b7e3" category="paragraph">设备随附两根交流电源线，用于连接到外部电源，例如墙上插座。您的机柜可能使用专用电源线，而不是设备随附的电源线。</block>
  <block id="3fd2b75392236b8ddd5cd29ece147a94" category="list-text">* SAS 互连缆线 *</block>
  <block id="e8f02db62a3ac4aac14d865b66d52e68" category="image-alt">迷你 SAS 缆线</block>
  <block id="32386c6b5239012bf6f3bafb294c57af" category="paragraph">两根 0.5 米 SAS 互连缆线，带迷你 SAS HD 和迷你 SAS 连接器。</block>
  <block id="e0647f56e131b5e6cbe04895f3e7eec6" category="paragraph">方形连接器插入 E2700 控制器，而方形连接器插入 E5600SG 控制器。</block>
  <block id="e9778d6044bfadf1cd6bcbcf970527de" category="doc">准备站点（ SG5600 ）</block>
  <block id="c3e256300442c9e6d5fe20f547caef3c" category="paragraph">SG5612</block>
  <block id="604f91d238f2e26e5b6e7c1f35c3fd37" category="paragraph">3.40 英寸</block>
  <block id="a251eb89858352625664e331fd9aafdc" category="paragraph">（ 8.64 厘米）</block>
  <block id="c3eb947344f67195eff10b080eb09d25" category="paragraph">19.0 英寸</block>
  <block id="9167cdf75a2cfb1ba2dc92d67d4ae389" category="paragraph">21.75 英寸</block>
  <block id="8916668f204cb0a33b0681b0d0ae7421" category="paragraph">（ 55.25 厘米）</block>
  <block id="8dcb8e2aa86b552f685ee6b0d0b43522" category="paragraph">59.5 磅</block>
  <block id="388b45e3d0825384bdc17912a6f072ec" category="paragraph">（ 27 千克）</block>
  <block id="0a9694b69bb2f04d5e70997b09381a2c" category="paragraph">SG5660</block>
  <block id="db80da74fd9ce2685f41d8f7646bc984" category="paragraph">7.00 英寸</block>
  <block id="20086bf2c816297199b42554891ae91b" category="paragraph">（ 17.78 厘米）</block>
  <block id="6ffb4e0742470e76b067103c26cb5002" category="paragraph">17.75 英寸</block>
  <block id="9eaa1f30035497e60e1db4bac466b0e4" category="paragraph">（ 45.08 厘米）</block>
  <block id="48c7ef2fa59e492be7e93b846e612dd5" category="paragraph">32.50 英寸</block>
  <block id="15bb1c56588d124ae481796388d94100" category="paragraph">（ 82.55 厘米）</block>
  <block id="16872fa66703536bbe76b6384dc7b83b" category="paragraph">236.2 磅</block>
  <block id="d96fbb0bd8f7b6dc04ff36fb58469532" category="paragraph">（ 107.1 千克）</block>
  <block id="10f02f59043b28fac9ff50a9e24e6044" category="inline-link">NetApp 互操作性</block>
  <block id="a6702405516cc4f3febd7b7a43af757f" category="paragraph"><block ref="a6702405516cc4f3febd7b7a43af757f" category="inline-link-rx"></block></block>
  <block id="668d42a03cac72e662fcbb7e53870bb4" category="summary">E5600SG 控制器上的七段显示在设备启动和硬件初始化期间显示状态和错误代码。您可以使用这些代码确定状态并对错误进行故障排除。</block>
  <block id="2b62efe50a9d08193c6a0f3c5839845c" category="paragraph">查看 E5600SG 控制器上的状态和错误代码时，您应查看以下类型的代码：</block>
  <block id="f2a1b5e9dc260dd1ae638ce6294319c4" category="list-text">* 常规启动代码 *</block>
  <block id="3f8a6c719db23c9217a1febaeceaa912" category="paragraph">表示标准启动事件。</block>
  <block id="a0f9026d723b4759c8516504a47f81a8" category="list-text">* 正常启动代码 *</block>
  <block id="5747af187346e5f0349f4add98d42cd4" category="paragraph">表示设备中发生的正常启动事件。</block>
  <block id="61aff0204781ca99035b9f9bc9075b29" category="list-text">* 错误代码 *</block>
  <block id="e4b65ad66cb70f6267e4aff921d38b6d" category="paragraph">指示启动事件期间的问题。</block>
  <block id="a9a5527ea0d9576a6465ca0940d8caa1" category="paragraph">StorageGRID 仅控制 E5600SG 控制器上的以下 LED ，并且仅在 StorageGRID 设备安装程序启动后才控制此 LED ：</block>
  <block id="d54c8ef6dd71c01664c2c493907a2012" category="list-text">允许服务操作 LED</block>
  <block id="582b04ea187d8018229819668da99892" category="list-text">需要执行服务操作 LED</block>
  <block id="2dd0327f0b9b1d02ee92e7647158c6b7" category="image-alt">E5600SG 控制器上的 LED 和七段显示</block>
  <block id="21829650d3a4fb542df621b3fe89e93c" category="paragraph">StorageGRID 设备不会使用七段显示中的小数点：</block>
  <block id="ac1c31edd699907919580ce23e89f60c" category="list-text">与最小有效位数相邻的小数点上限为平台诊断 LED 。</block>
  <block id="67708c3ff8624440c36759894af411fe" category="paragraph">在重置和初始硬件配置期间会启用此功能。否则，它将关闭。</block>
  <block id="1e8cde91429eba5f095bf390c4e24255" category="list-text">与最重要数字相邻的小数点下限将关闭。</block>
  <block id="753d7bae936aa537f921a522cc0f211c" category="paragraph">要诊断其他问题，您可能需要查看以下资源：</block>
  <block id="5f4a4b58c08e6cf5362baf97d3fb8440" category="list-text">要查看所有其他硬件和环境诊断信息，请参见 E 系列操作系统硬件诊断。</block>
  <block id="e4bffc9b2c6cc4e9ea499a75bb71fb64" category="paragraph">其中包括查找电源，温度和磁盘驱动器等硬件问题。该设备依靠 E 系列操作系统监控所有平台环境状态。</block>
  <block id="3b4be1e2437ed0e980e0cbe6a9b850a2" category="list-text">要确定固件和驱动程序问题，请查看 SAS 和网络端口上的链路指示灯。</block>
  <block id="bf3e96e9793416c9d87cfdf9e42f8982" category="paragraph">有关详细信息，请参见 E 系列 E5600 文档。</block>
  <block id="85e748817ab014bef7a3ef78eed330ed" category="paragraph">在启动期间或硬件硬重置后，硬件初始化期间，允许服务操作和需要服务操作 LED 亮起。七段显示屏显示一系列代码，这些代码对于 E 系列硬件是相同的，而不是特定于 E5600SG 控制器的。</block>
  <block id="7b2387a0f0863c154c3036e4e32c358a" category="paragraph">在启动期间，现场可编程门阵列（ Field Programmable Gate Array ， FPGA ）可控制硬件的功能和初始化。</block>
  <block id="1b15837728c0cb4d4b7ca285bda606b9" category="cell">指示</block>
  <block id="ba996da4930cf970826a99984fbfff1f" category="paragraph">FPGA 初始化。</block>
  <block id="2f43b42fd833d1e77420a8dae7419000" category="paragraph">...</block>
  <block id="e0c1e499850fd80ca74d4ae8c6bd4b9b" category="paragraph">FPGA 初始化。这是一个快速连续的代码。</block>
  <block id="3b98e2dffc6cb06a89dcb0d5c60a0206" category="paragraph">AA.</block>
  <block id="167c4422f1a18de7b3670953f4f36412" category="paragraph">平台 BIOS 启动。</block>
  <block id="1fd406685cbdee605d0a7bebed56fdb0" category="paragraph">FF</block>
  <block id="4e49d40068741ed12f4b19a0d9df43ad" category="paragraph">BIOS 启动完成。这是 E5600SG 控制器初始化和管理 LED 以指示状态之前的中间状态。</block>
  <block id="a90ac760535397b20f5a615fd058bbeb" category="paragraph">出现 AA 和 FF 代码后，将显示正常启动代码或错误代码。此外，允许服务操作和需要服务操作 LED 也会关闭。</block>
  <block id="8c6c2b00d350a47cc2fb57e67a9fd72e" category="section-title">正常启动代码</block>
  <block id="f00cb502d3e7634a8e7b736263808f90" category="paragraph">这些代码按时间顺序表示设备中发生的正常启动事件。</block>
  <block id="dd822e1955947d1e849b1479a699b829" category="paragraph">平台 FPGA 固件正在检查更新。</block>
  <block id="1f5281e99b6169507bf51b2db5aee8b9" category="paragraph">主机接口卡（ HIC ）正在检查更新。</block>
  <block id="153336a93001d5a2dbe86bd268dbb298" category="paragraph">固件更新后，系统将根据需要重新启动。</block>
  <block id="a8bf19b84fbbb64c9557d10a00d87e20" category="paragraph">固件更新检查已完成。启动与 E2700 控制器进行通信和管理的进程（ utmagent ）。此过程有利于设备配置。</block>
  <block id="29cd2668dce80fe578f20b4d4d2a5cca" category="paragraph">系统正在与 E 系列操作系统同步。</block>
  <block id="98781e9f4c0c089a0ef8f44fa49caab1" category="paragraph">正在检查 StorageGRID 安装。</block>
  <block id="e74162d05326c3c082fc9be750419200" category="paragraph">正在进行安装管理和主动连接。</block>
  <block id="9ae94fa551509fa9a9b36595c5cb563e" category="paragraph">Linux 操作系统和 StorageGRID 正在运行。</block>
  <block id="bbb88724f6f87cca2bf4424eec232e52" category="section-title">E5600SG 控制器错误代码</block>
  <block id="83a50d1dc17a1a50e7b505a0faec0fc7" category="paragraph">这些代码表示设备启动时 E5600SG 控制器上可能显示的错误情况。如果发生特定的低级硬件错误，则会显示其他两位十六进制代码。如果其中任何一个代码持续一两秒以上，或者您无法通过执行规定的故障排除过程之一来解决此错误，请联系技术支持。</block>
  <block id="d33fbbf9a2ef3852c4b4bef80a20f343" category="paragraph">未安装 SATA 驱动器。</block>
  <block id="1875672903fb3c16a4c7c31ad2b03d99" category="paragraph">DDR3 培训失败。</block>
  <block id="ab748f5d98fac3efc71ea1747ff8a1ce" category="paragraph">"ManagementSGa" 代码指示与 E2700 控制器的 pregrid 通信失败。</block>
  <block id="95291ec253458f8633f9b4af01b27d7e" category="inline-xref-macro">硬件安装故障排除（ SG5600 ）</block>
  <block id="14f35d38521761356450d6dc2795be1d" category="paragraph"><block ref="14f35d38521761356450d6dc2795be1d" category="inline-xref-macro-rx"></block></block>
  <block id="869ba390801873c24b27c6eff4a2acd8" category="summary">如果 E2700 控制器运行不正常或出现故障，您可能需要更换它。</block>
  <block id="9433d1c7e34131e7151e2112d04ce143" category="list-text">您已获得防静电保护。</block>
  <block id="a650c8dbd9030dedc69bc3fa782bda51" category="list-text">您必须具有维护或根访问权限。有关详细信息，请参见有关管理 StorageGRID 的说明。</block>
  <block id="ca39be15af174a692a8eefb271ea515e" category="paragraph">您可以通过检查控制器上的琥珀色 "Service Action Required LED （需要执行维修操作） " （如图中的 1 所示）来确定控制器是否出现故障。如果此 LED 亮起，则应更换控制器。</block>
  <block id="f1407fc0ad4f1a73ab41d0e8d4badd0c" category="image-alt">E2700 控制器上的 "Service Action Required" LED</block>
  <block id="2ee2a77575dbc6329f838e2eba94320b" category="paragraph">更换控制器后，无法访问设备存储节点。如果 E2700 控制器运行正常，您可以将 E5600SG 控制器置于维护模式。</block>
  <block id="ba85fd89daaa24626921e65427a2959e" category="paragraph">您可以使用 SANtricity 存储管理器执行这些步骤。</block>
  <block id="4d14d110b9e1208cd6a867a346c8f021" category="inline-xref-macro">将 E5600SG 控制器置于维护模式</block>
  <block id="a9c8dda4770000de6c966f229adf83a6" category="list-text">如果 StorageGRID 设备正在 StorageGRID 系统中运行， <block ref="c5c0e2837d1717de59a9abdc3315edf4" category="inline-xref-macro-rx"></block>。</block>
  <block id="431973109acdaeed5385a93f386d5abb" category="list-text">如果 E2700 控制器运行充分，可以进行可控的关闭，请确认所有操作均已完成。</block>
  <block id="bc5a82dfc32dde6345df95764d1b3ede" category="list-text">从阵列管理窗口的标题栏中，选择 * 监控 * &gt; * 报告 * &gt; * 正在执行的操作 * 。</block>
  <block id="b459abeba8a67d177c0e40677c96b16f" category="list-text">按照单工 E2700 控制器的替代操作步骤 中的说明完成以下步骤：</block>
  <block id="c46460197336abf13e601d709cf75164" category="list-text">为缆线贴上标签，然后断开缆线。</block>
  <block id="73c449311895c44cdc2cb9f82f1d86a8" category="list-text">从设备中删除故障控制器。</block>
  <block id="9fda9138a860a97bdee867ffefaff9bc" category="list-text">卸下控制器盖板。</block>
  <block id="1bac53822abe7ab77e3045f7269607fb" category="list-text">拧下翼形螺钉并从故障控制器中取出电池。</block>
  <block id="1af142ee91f5e567376e69e5593b7b54" category="list-text">将电池安装到更换用的控制器中，然后更换控制器盖板。</block>
  <block id="85caa39a88f7091fb2db841ad6b83ffd" category="list-text">更换缆线。</block>
  <block id="e1e82fdc31c7e956ffd6696a5063f00d" category="list-text">等待 E2700 控制器重新启动。验证七段显示屏是否显示状态 `99` 。</block>
  <block id="5872407deaa0cbc321ffcc6f69ef8acc" category="list-text">如果设备使用安全驱动器，请导入驱动器安全密钥。</block>
  <block id="cfc281386127ac9ca0894202efc38591" category="list-text">在 SANtricity 存储管理器中，确认新控制器处于最佳状态，然后收集支持数据。</block>
  <block id="f8bcb42d59d20d261ba374d1d4d7b01a" category="summary">如果无法使用网格管理器升级 SANtricity 操作系统软件，请使用维护模式操作步骤 应用升级。</block>
  <block id="7ded131705e8a2b65cada4fc1f234bc2" category="list-text">如果不使用网格管理器，则必须将 E5600SG 控制器置于维护模式。将控制器置于维护模式会中断与 E2700 控制器的连接。在更改链路配置之前，您必须先执行此操作 <block ref="c5c0e2837d1717de59a9abdc3315edf4" category="inline-xref-macro-rx"></block>。</block>
  <block id="f4d4f95226c755a258cd5d5593a96ade" category="list-text">从服务笔记本电脑访问 SANtricity 存储管理器并登录。</block>
  <block id="187acdfe7b9b0aba9bb2eb5618255fb3" category="list-text">按照 _E2700 和 E5600 SANtricity 软件和固件升级说明 _ 或 SANtricity 存储管理器联机帮助中的说明进行操作，升级 E2700 控制器的固件 NVSRAM 或两者。</block>
  <block id="ce3c4d1e65a827e31a2924c68ef63461" category="admonition">如果您需要升级 E2700 控制器中的 NVSRAM ，则必须确认您下载的 SANtricity 操作系统文件已指定与 StorageGRID 设备兼容。</block>
  <block id="f7f3b1f0999a22d4f2be5d57c32138af" category="summary">您可能需要更换 E5600SG 控制器。</block>
  <block id="e3ace2ce918a3563477859bebde96c91" category="doc">更换 E5600SG 控制器</block>
  <block id="961384e4385235ebb7ce58d9d0156eb4" category="paragraph">您必须有权访问以下资源：</block>
  <block id="2cb0662b9d2a437de2576e19c7408b06" category="list-text">NetApp 支持站点上的 E 系列硬件更换信息，网址为 +<block ref="4729966d1b42f799e14eba4dd6dedbdb" category="inline-link-rx"></block></block>
  <block id="5c00d47c18b12c5920e82e0825144cb0" category="list-text">支持站点上的 E5600 文档</block>
  <block id="969c60896fb1304eda4984b548c47486" category="paragraph">如果这两个控制器都运行充分，可以进行可控的关闭，则可以先关闭 E5600SG 控制器，以中断与 E2700 控制器的连接。</block>
  <block id="50739b5a979112aa6860b5a22b3bf452" category="list-text">请使用防静电保护。</block>
  <block id="8edf2ef9db24fc8493de3acecc9fd90c" category="list-text">为连接到 E5600SG 控制器的每个缆线贴上标签，以便可以正确重新连接这些缆线。</block>
  <block id="a54da219f27fcd640ff23e1cb6e1b6ac" category="admonition">To prevent degraded performance, do not twist, fold, pinch, or step on the cables.请勿将缆线弯曲到半径小于 5 厘米（ 2 英寸）的位置。</block>
  <block id="86b8bb27cfffa4f91a1237ad9a4361b1" category="list-text">将设备置于维护模式后，关闭 E5600SG 控制器。</block>
  <block id="7586ea93f9c40ab530263b6bc2dcdccc" category="list-text">关闭 E5600SG 控制器： + ` * shutdown -h now*`</block>
  <block id="3cbdb21ac98093f9df3460fae10e1e18" category="list-text">关闭机箱电源，然后等待控制器背面的所有 LED 和七段显示活动停止。</block>
  <block id="4904d887ad2776ce24f14850b208fe39" category="list-text">拔下缆线。</block>
  <block id="489089fc3fe97f977afe8e0fe5991395" category="list-text">按照 E5600SG 控制器文档中的说明删除控制器。</block>
  <block id="35b4ca0f3b6f087be71b0e3dc75cf47d" category="list-text">按照 E5600SG 控制器文档中的说明插入新控制器。</block>
  <block id="fd229117b55947c68a01a8bb4fe715b5" category="list-text">更换所有缆线。</block>
  <block id="894f634726406f02d6ab221123f9a733" category="list-text">重新打开磁盘机箱的电源。</block>
  <block id="266c85de946b11e4e24b5376874a1fc4" category="list-text">监控七段代码。</block>
  <block id="1ede7f78df3d9aa5cfca3f725ad41951" category="list-text">E2700 控制器：</block>
  <block id="154baa515973191400fd690daa8e2280" category="paragraph">最终 LED 状态为 `99` 。</block>
  <block id="829045ad9b1c86fc472030c228f29fc3" category="list-text">E5600SG 控制器：</block>
  <block id="e8e127a25fc262e37b822963a97d5bac" category="paragraph">最终 LED 状态为 `HA` 。</block>
  <block id="b1569c2eabb3b780ffe2774ed174741c" category="list-text">在网格管理器中监控设备存储节点的状态。</block>
  <block id="6e6f6e8c912cdf7650d08e2a74452eaa" category="paragraph">验证设备存储节点是否返回到预期状态。</block>
  <block id="52e6666b06e60602edb0fc211e53eaf8" category="summary">您必须在机柜或机架中安装导轨，然后将设备滑入导轨。如果您使用的是 SG5660 ，则还必须在安装设备后安装驱动器。</block>
  <block id="14828bec950a0a08e599e4352584f1e9" category="doc">在机柜或机架中安装设备（ SG5600 ）</block>
  <block id="be421a196fc6e8374b285475dad3f3de" category="list-text">您已获得硬件的 E 系列安装说明。</block>
  <block id="a2f0a8b3b2f2ff43669189c3248ac0b2" category="admonition">在装满驱动器后， SG5612 重约 60 磅（ 27 千克）。要安全移动 SG5612 ，需要两个人或一台机械升降机。</block>
  <block id="fb04917d65e59edd43c2487e3820f955" category="admonition">SG5660 重约 132 磅（ 60 千克），未安装驱动器。要安全移动空的 SG5660 ，需要四个人或一台机械升降机。</block>
  <block id="4af14158741fe6cc8b187e48b1658d69" category="admonition">为避免损坏硬件，如果安装了驱动器，请勿移动 SG5660 。在移动设备之前，您必须删除所有驱动器。</block>
  <block id="0d30d218ed1127ee0be3797c0fe83ac3" category="paragraph">要在机柜或机架中安装 SG5660 设备，请完成以下任务。</block>
  <block id="87145e154c3c04681fb799a405639d5a" category="list-text">* 安装安装导轨 *</block>
  <block id="f875c5fc5d6a7f66a932e5aa2b8daf6e" category="paragraph">将安装导轨安装在机柜或机架中。</block>
  <block id="4f2dff7259b6a597394ee8f0f6f1a335" category="paragraph">请参见 E2700 或 E5600 的 E 系列安装说明。</block>
  <block id="a11a64280ea52364707280fe1ae80d77" category="list-text">* 将设备安装在机柜或机架中 *</block>
  <block id="950def47b0f111fbd7952131baf732de" category="paragraph">将设备滑入机柜或机架，然后将其固定。</block>
  <block id="e5f6f31407b3fd988144fea7e23e4c49" category="admonition">如果您要用手提起 SG5660 ，请将四个手柄连接到机箱两侧。将设备滑入导轨时，请取下这些手柄。</block>
  <block id="a89d26fef19f61e0d97dff7ab83f26a7" category="list-text">* 安装驱动器 *</block>
  <block id="519d5598bc3460fd3509cd000bcf0cf5" category="paragraph">如果您使用的是 SG5660 ，请在 5 个驱动器抽盒中的每个抽盒中安装 12 个驱动器。</block>
  <block id="2de9464c130c5fad3953f53cbafd44ed" category="image-alt">驱动器插入</block>
  <block id="ff48c219a0eb6f23bbd85c78f0fe8498" category="list-text">* 连接前挡板 *</block>
  <block id="674f10dec8b7b5d48d983e5b680a9675" category="paragraph">* SG5612* ：将左端和右端盖连接到正面。</block>
  <block id="904a1571c9d5b174f968472637f38f8c" category="paragraph">* SG5660* ：将挡板连接到正面。</block>
  <block id="7c0534d74fb315d78710cb121920ed78" category="inline-link">《 E2700 控制器驱动器托盘和相关驱动器托盘安装指南》</block>
  <block id="1479419bc8eb13bc1ad33482f97d0783" category="paragraph"><block ref="1479419bc8eb13bc1ad33482f97d0783" category="inline-link-rx"></block></block>
  <block id="a5d1389a3a588029bff56e77b3e89c63" category="inline-link">《 E5600 控制器驱动器托盘和相关驱动器托盘安装指南》</block>
  <block id="ecfdc3c91439610d59afa4cff7c2a56b" category="paragraph"><block ref="ecfdc3c91439610d59afa4cff7c2a56b" category="inline-link-rx"></block></block>
  <block id="e426a1a8c3704c31bdd9cca42cadbc28" category="list-text">将管理端口 1 的 MAC 地址提供给网络管理员，以便他们可以在管理网络上查找此端口的 DHCP 地址。MAC 地址印在 E5600SG 控制器上端口旁边的标签上。</block>
  <block id="06f9e643b5cfa3bc1f4d75e24e7d9722" category="list-text">查看 E5600SG 控制器上的七段显示器。如果 E5600SG 控制器上的管理端口 1 和 10-GbE 端口 2 和 4 连接到使用 DHCP 服务器的网络，则控制器会在打开机箱电源时尝试获取动态分配的 IP 地址。控制器完成启动过程后，其七段显示屏将显示 * HO* ，然后是两个数字的重复序列。</block>
  <block id="4573492c55ba5fc8a4af3523574cd9cc" category="list-text">第一组数字是管理网络上设备存储节点的 DHCP 地址（如果已连接）。此 IP 地址将分配给 E5600SG 控制器上的管理端口 1 。</block>
  <block id="9ddbf45a1ffa738a68770b8062d8f4d1" category="list-text">第二组数字是网格网络上设备存储节点的 DHCP 地址。首次为设备通电时，此 IP 地址将分配给 10-GbE 端口 2 和 4 。</block>
  <block id="2d1b33534df2777548183b3e0c57efab" category="list-text">输入 StorageGRID 设备安装程序的 URL ： + ` * https://_E5600SG_Controller_IP_:8443*`</block>
  <block id="b7a7504d468bdbb7c74015f6f9a94e84" category="paragraph">对于 ` _E5600SG_Controller_IP_` ，请使用控制器的 DHCP 地址（如果有，请使用管理网络的 IP 地址）。</block>
  <block id="249bcfb18a9f17e64ad941d8a710338d" category="list-text">如果 E5600SG 控制器无法使用 DHCP 获取 IP 地址：</block>
  <block id="ea6d64e4bba00bfb21d000d81750275d" category="list-text">使用以太网缆线将服务笔记本电脑连接到 E5600SG 控制器上的管理端口 2 。</block>
  <block id="4e0a409291a862dd6813a8e9f20f00a6" category="image-alt">管理端口 2 在 E5600SG 控制器上的位置</block>
  <block id="bfa7f28c506d5649281187e4787133cc" category="doc">对连接问题进行故障排除（ SG5600 ）</block>
  <block id="011e832da277729f0725d0d92b2c7af7" category="section-title">无法通过网络连接到 StorageGRID 设备</block>
  <block id="9ff702207c5c34d0a659bd2093b21d08" category="list-text">* 问题描述 *</block>
  <block id="decadc6e3605693d2f94b678e4f41235" category="paragraph">您无法连接到设备。</block>
  <block id="3bef6104c92bf17bdfdf66c9a257bbfc" category="list-text">* 发生原因 *</block>
  <block id="fa002e573c34ddeda1dbfaac26cbba3e" category="paragraph">如果存在网络问题描述 或硬件安装未成功完成，则可能会发生这种情况。</block>
  <block id="9bcbf7a68cf7f81d5bf448a2e12ab26a" category="list-text">* 更正操作 *</block>
  <block id="f8017f237e60a26b2196ba8478a473aa" category="list-text">对设备执行 Ping 操作： + ` * ping _E5600_controller_IP_*`</block>
  <block id="9883ae6b184b37913ba503b3e0d347d8" category="list-text">打开浏览器并输入以下命令来访问 StorageGRID 设备安装程序： + ` * https://_Management_Port_IP_:8443*`</block>
  <block id="82033865662b54eae91ad150c9aeaa3c" category="paragraph">对于 Management_Port_IP ，输入 E5600SG 控制器上管理端口 1 的 IP 地址（在物理安装期间配置）。</block>
  <block id="8d77a64ae82da8b7d086509b53413ff4" category="list-text">单击 * 配置管理网络 * ，然后检查 IP 。</block>
  <block id="7419a171c674f99850a226ce78b58f63" category="list-text">如果您收到 ping 响应，请检查防火墙中的端口 8443 是否已打开。</block>
  <block id="6e420282545bd241fb5eb81e220885ab" category="list-text">重新启动设备。</block>
  <block id="c5edddf3fb4ea513692341279d402b5d" category="list-text">刷新安装网页。</block>
  <block id="3ee9b93a3e356cf82e139f7029c456ed" category="list-text">如果此操作无法解决连接问题描述 ，请从 NetApp 支持站点联系技术支持，网址为<block ref="28649c93049a329043d206ec7fa0c6f8" category="inline-link-rx"></block>。</block>
  <block id="2eac7f07a6f67665bfd4f3198686ad6a" category="summary">您必须将交流电源线连接到外部电源和每个控制器上的交流电源连接器。连接电源线后，您可以打开电源。</block>
  <block id="38b159029fcc67f8220776d563a545d7" category="doc">连接交流电源线（ SG5600 ）</block>
  <block id="5b0a2d9d92c743a537aa19c414fa105f" category="list-text">每个电源都应使用单独的电源。</block>
  <block id="3c5b8641195f58ec21ad4d68f5ceb84e" category="paragraph">连接到独立电源可保持电源冗余。</block>
  <block id="a8aeb8c8b14bfe538eace54b51afb26d" category="list-text">您可以使用控制器随附的电源线以及目标国家或地区使用的典型插座，例如无中断电源（ UPS ）的墙上插座。</block>
  <block id="0d8d178dbf57bac71b6499b214cf4567" category="paragraph">但是，这些电源线不适用于大多数符合环境影响评估的机柜。</block>
  <block id="5bbf1f1388a1f2d1ff44733637601fb8" category="list-text">关闭机箱或机箱中的电源开关。</block>
  <block id="85d2ebdca89f32fe91fd2e08566dbf30" category="list-text">关闭控制器上的电源开关。</block>
  <block id="66092e076249999e9f44060a49174f3d" category="list-text">将机柜中的主电源线连接到外部电源。</block>
  <block id="cd50eb27a661fa1e2c1512c58d9566e3" category="list-text">将电源线连接到每个控制器上的交流电源连接器。</block>
  <block id="2e2e4c4a481b495dad4eae0fc804e219" category="summary">如果硬件故障或布线错误导致 E5600SG 控制器无法完成启动处理，则 StorageGRID 设备安装程序可能不可用。</block>
  <block id="f0a012d970e51424872301bb6e1865a1" category="doc">硬件设置似乎挂起（ SG5600 ）</block>
  <block id="e612b2987eba18817af4c0e4714cbd8d" category="list-text">检查任一控制器上的 "Need Attention LED" ，并查找是否存在闪烁的错误代码。</block>
  <block id="a6b1055eec611ede55e6d0e19617621e" category="paragraph">在启动期间，硬件初始化期间，允许服务操作和需要服务操作 LED 会亮起。较低位数的小数点上限（称为 _diagnostic LED_ ）也会亮起。七段式显示会显示两个控制器共有的一系列代码。这是正常的，并不表示出现错误。硬件成功启动后，服务操作 LED 将关闭，而显示内容将由固件驱动。</block>
  <block id="cd069e3a86da233dabe53c513a1c3495" category="list-text">查看 E5600SG 控制器的七段显示屏上的代码。</block>
  <block id="87cec5ce6d6b481dfdfc83414c089149" category="paragraph">E5600SG 控制器</block>
  <block id="58a19c7ff81421ab4447819057ed32c5" category="list-text">"`E5600SG 控制器七段显示代码` "</block>
  <block id="5f93f381aa8df330451fa5b834f54def" category="paragraph">E 系列文档</block>
  <block id="b26708ccc5f3be6497a70768b41a8652" category="paragraph">* 注： * 为 E 系列 E5600 控制器描述的代码不适用于设备中的 E5600SG 控制器。</block>
  <block id="cf58110a168c7f9d55e630636911ad3c" category="summary">StorageGRID 设备的 SG5612 和 SG5660 型号都包括一个 E2700 控制器和一个 E5600SG 控制器。您应查看这些示意图，了解型号与控制器之间的差异。</block>
  <block id="a4a56a51d0a80f98241de6e269e43938" category="doc">硬件示意图</block>
  <block id="f56889add0b3cb045f6e98848c9e6c1d" category="section-title">SG5612 2U 型号： E2700 控制器和 E5600SG 控制器背面图</block>
  <block id="50cff516b27dc324cf6e0b83f1602246" category="image-alt">带有两个控制器的 SG5612 的背面图</block>
  <block id="6af143397d0af6c2b8ed538d94832e79" category="section-title">SG5660 4U 型号： E2700 控制器和 E5600SG 控制器背面图</block>
  <block id="709b408f89b6ddac80459a1941fe1b62" category="paragraph">E2700 控制器位于 E5600SG 控制器之上。</block>
  <block id="f0e6e6a302a8ac1d5b0b062e41860971" category="image-alt">带有两个控制器的 SG5660 背面图</block>
  <block id="f38cb55ea0cb422fb88bb210236ae0b9" category="section-title">E2700 控制器背面图</block>
  <block id="5a34af3f443901db8229f200ed875236" category="image-alt">E2700 图</block>
  <block id="d123d840446c643ba5c9a03c3b0e883b" category="paragraph">管理端口 1 （连接到安装 SANtricity 存储管理器的网络。）</block>
  <block id="bde0a529231eb3148b4f9b163b44f3dd" category="paragraph">管理端口 2 （在安装期间用于连接到笔记本电脑。）</block>
  <block id="f36d98b93f6aa74f3313717f55199ea7" category="paragraph">SAS 互连端口 1</block>
  <block id="98b1c6f788d2a1ef5918a978228d5327" category="paragraph">SAS 互连端口 2</block>
  <block id="b1a49f9b6afe6fe931eb97387deddcd0" category="paragraph">串行连接端口</block>
  <block id="41b5be1c4ed685f37aebc0ed69e6e50b" category="admonition">不使用 E2700 控制器背面标记为驱动器扩展（绿色）的两个 SAS 端口。StorageGRID 设备不支持扩展驱动器架。</block>
  <block id="7792f2811d9237d331e19c0fad11acdf" category="section-title">E5600SG 控制器背面图</block>
  <block id="cb71996c07f1d1ca61a0bafa0092a759" category="image-alt">E5600 示意图</block>
  <block id="4e011e12205db3c1a3061927e233245a" category="paragraph">管理端口 1 连接到 StorageGRID 的管理网络。</block>
  <block id="293fd1cd62e14157481ed871bf99cc8f" category="paragraph">管理端口 2 选项：</block>
  <block id="36aa1a5ade58b10eaeac3b4b868fe35b" category="list-text">在安装期间，如果 DHCP 分配的 IP 地址不可用，请使用进行 IP 配置。</block>
  <block id="1c61edb440b6cb474bea057af5b2494f" category="paragraph">10-GbE 网络端口 1 的故障和活动 LED</block>
  <block id="e348d627cbb21b67d32629804bcd017a" category="paragraph">10-GbE 网络端口 2 的故障和活动 LED</block>
  <block id="a7bb7279b26012492ef10774df7dad24" category="paragraph">10-GbE 网络端口 3 的故障和活动 LED</block>
  <block id="34363b9fc20d0670094b32e8d18841e1" category="paragraph">10-GbE 网络端口 4 的故障和活动 LED</block>
  <block id="4b29d83b71d0ade8bdb1c34cfd757288" category="paragraph">需要引起注意的 LED</block>
  <block id="736a2cc44d9298af6ff241ebdd3969cf" category="paragraph">10-GbE 网络端口 1</block>
  <block id="7c826d4ab658886f2b01445726b4b90f" category="paragraph">10-GbE 网络端口 2</block>
  <block id="33d09ddf275300b102bbd15a550318c2" category="paragraph">10-GbE 网络端口 3</block>
  <block id="2592839e8eb26bd2193abeb16d713c0b" category="paragraph">10-GbE 网络端口 4</block>
  <block id="b309403591af63baa0d07a9fd26441fa" category="admonition">StorageGRID 设备 E5600SG 控制器上的主机接口卡（ HIC ）仅支持 10-Gb 以太网连接。不能用于 iSCSI 连接。</block>
  <block id="12718d965f76973565c6ffe0a89851fd" category="summary">您应验证技术支持是否正在接收您的 AutoSupport 消息。您可以在 Active IQ 门户上找到系统的 AutoSupport 状态。验证是否收到这些消息可确保技术支持在您需要帮助时获取您的信息。</block>
  <block id="e017ec5240d848bdd43d79ef7cb1257d" category="doc">验证是否收到 AutoSupport</block>
  <block id="01edc6c1e033ab5e4a88ae571829207c" category="paragraph">AutoSupport 可以显示以下状态之一：</block>
  <block id="54803c283ddda03804f0dd801cc7e058" category="list-text">* 开 *</block>
  <block id="c6c68848b60f5f0cbd6ddd8902495917" category="paragraph">"On" 状态表示技术支持当前正在从系统接收 AutoSupport 消息。</block>
  <block id="7b4e688cf3cfa283b3f5c5914378fbdf" category="list-text">* 关闭 *</block>
  <block id="3f03e2404b125a216d6348c1d6c9c268" category="paragraph">关闭状态表示您可能已禁用 AutoSupport ，因为技术支持在过去 15 个日历日内未收到系统的每周日志，或者您的环境或配置可能发生了更改（例如）。</block>
  <block id="d22abf9de6a3b456f76fa078df68e931" category="list-text">* 拒绝 *</block>
  <block id="c867fa87f5bb90fd568d1c7df6c302af" category="paragraph">拒绝状态表示您已通知技术支持您不会启用 AutoSupport 。</block>
  <block id="0f72330448accd2514a6da594d604c63" category="paragraph">技术支持从系统收到每周日志后， AutoSupport 状态将更改为 on 。</block>
  <block id="d0210be643bccf6f10c535a36ddc6949" category="list-text">访问 NetApp 支持站点，网址为<block ref="28649c93049a329043d206ec7fa0c6f8" category="inline-link-rx"></block>，然后登录到 Active IQ 门户。</block>
  <block id="7ee0ae22c7d23753e8b993090ee1d673" category="list-text">如果 AutoSupport 状态为 off ，并且您认为不正确，请完成以下操作：</block>
  <block id="9c43a3d6de7ead7cbcf8d13f1dd71507" category="list-text">检查系统配置，确保已打开 AutoSupport 。</block>
  <block id="3aa7b01e2a63dd253b31a84bb945424d" category="list-text">请检查您的网络环境和配置，以确保系统可以向技术支持发送消息。</block>
  <block id="f0952329eeaabf33893d3f7be20eaaf5" category="summary">打开机箱电源可为两个控制器供电。</block>
  <block id="c847cf7289d0d51c4c2ea94795b6647f" category="doc">打开电源（ SG5600 ）</block>
  <block id="b893b622ba241b5e2666831cae78933d" category="list-text">打开机箱背面的两个电源开关。</block>
  <block id="673487fc42a44aca013d320720ff8b71" category="paragraph">通电时，控制器上的 LED 会间歇性亮起和熄灭。</block>
  <block id="e56b656f972ea0fde11401764d0b13f3" category="paragraph">启动过程可能需要长达十分钟才能完成。在初始启动序列期间，控制器会多次重新启动，从而导致风扇上升和下降，并且 LED 会闪烁。</block>
  <block id="05f7e1d90dfd3af531c9b89aa57b18be" category="list-text">检查每个控制器上的电源 LED 和主机链路活动 LED ，确认电源已打开。</block>
  <block id="eaa2c6522d8cfca835e71447a4d269a8" category="list-text">等待所有驱动器显示持久绿色 LED ，指示它们已联机。</block>
  <block id="6d3f2803c6f1fd76c6d9cac1b52ced96" category="list-text">检查机箱正面和背面是否有绿色 LED 。</block>
  <block id="92b933d8a1928a703f509f5306fce4f9" category="paragraph">如果您看到任何琥珀色 LED ，请记下其位置。</block>
  <block id="1cdb46ab15d5c3bf3ce9470597f35550" category="list-text">查看 E5600SG 控制器的七段显示屏。</block>
  <block id="20fbf5a599ed3cbe22f88c84003805dd" category="paragraph">此显示内容将显示 * 。 HO* ，后跟两位数的重复序列。</block>
  <block id="94364d97999e516f45a25da647286efe" category="admonition">如果您需要一次部署多个设备存储节点，则可以使用 `configure-sGa.py` appliance 安装脚本自动执行安装过程。</block>
  <block id="5ff8f041c27b2f90f434ded0b67072df" category="list-text">您已将设备上的 10-GbE 端口连接到可支持 VLAN 和 LACP 的交换机。</block>
  <block id="bb882509a035abfba0d41c28a5071dd6" category="paragraph">此图显示了四个 10-GbE 端口在固定端口绑定模式下的绑定方式（默认配置）。</block>
  <block id="19d4f1f04397b310b48c0c3bed11a557" category="image-alt">图中显示了 E5600SG 控制器上的 10-GbE 端口如何在固定模式下绑定</block>
  <block id="16df4519c8a92e46b730b16d6c1e276c" category="paragraph">此图显示了四个 10-GbE 端口在聚合端口绑定模式下的绑定方式。</block>
  <block id="a570d7031ba2fc4c9296d89ad6cffeea" category="image-alt">图中显示了 E5600SG 控制器上的 10-GbE 端口如何在聚合模式下绑定</block>
  <block id="208e6b9d3a39ab8d7f0db885b4ec4b20" category="paragraph">下表总结了用于配置四个 10-GbE 端口的选项。只有在要使用非默认设置时，才需要在链路配置页面上配置设置。</block>
  <block id="cae8f51b06ddaf3497189a0daf994199" category="paragraph">有关端口绑定和网络绑定模式的详细信息，请参见 "`10-GbE port connections for the E5600SG controller` " 。</block>
  <block id="f1c72c63e6563c46407864834618135c" category="paragraph">此图显示了 E5600SG 控制器上的两个 1-GbE 管理端口如何在管理网络的主动备份网络绑定模式下绑定。</block>
  <block id="f382c02b7a0780809aed62bcc6b93be9" category="image-alt">已绑定管理端口</block>
  <block id="7bca8e6e45773ae5010a740c7854787b" category="image-alt">SG5612 网络和管理端口</block>
  <block id="8262ac45c46c73cad9c3447e735deb06" category="image-alt">5612 链路状态</block>
  <block id="dc74b0e002011f765956e9cdf09cc7bd" category="list-text">* 链路速度 * 设置为 * 10GbE 。这是 E5600SG 控制器唯一可用的链路速度。</block>
  <block id="38461bbeda4a335536947530039b3412" category="image-alt">已修复网络链路配置</block>
  <block id="2d8db5502cd196b5dd56f085028f28b7" category="paragraph">此时将显示 10-GbE 端口的客户端网络设置。</block>
  <block id="c1ce58e0d0aa32ea3493601cf4541411" category="paragraph"><block ref="c1ce58e0d0aa32ea3493601cf4541411" category="inline-xref-macro-rx"></block></block>
  <block id="cdd697f20b3c214fc01a7d38b0ecc83f" category="summary">为设备接通电源后，您必须配置 SANtricity 存储管理器，该软件将用于监控硬件。您还必须配置 StorageGRID 要使用的网络连接。</block>
  <block id="64dd6b836318903e434af61ac9946d44" category="paragraph"><block ref="64dd6b836318903e434af61ac9946d44" category="inline-xref-macro-rx"></block></block>
  <block id="bb05ca8b4a6c84592896edbb116b2000" category="summary">在将 StorageGRID 设备部署为 StorageGRID 网格中的存储节点之前，必须先配置设备与计划使用的网络之间的连接。您可以通过浏览到 StorageGRID 设备安装程序来配置网络连接，该安装程序包含在 E5600SG 控制器 \ （设备中的计算控制器 \ ）中。</block>
  <block id="ed9a0b39387a19f81347350965d5daca" category="doc">配置 StorageGRID 连接（ SG5600 ）</block>
  <block id="bda011f314e7f58d0fbae5d63d8e1005" category="paragraph">在将 StorageGRID 设备部署为 StorageGRID 网格中的存储节点之前，必须先配置设备与计划使用的网络之间的连接。您可以通过浏览到 StorageGRID 设备安装程序来配置网络连接，该安装程序包含在 E5600SG 控制器（设备中的计算控制器）上。</block>
  <block id="45243a3abfeb29bcb256e2d45def354a" category="doc">在维护模式下监控节点加密（ SG5600 ）</block>
  <block id="8da895746f780d7efdf744ada299da88" category="summary">AutoSupport 工具会从设备收集客户支持包中的数据，并自动将数据发送给技术支持。配置 AutoSupport 有助于技术支持进行远程故障排除和问题分析。</block>
  <block id="c3a60609a3d301ee860ce46ee6e9b3ea" category="list-text">必须在设备上启用并激活 AutoSupport 功能。</block>
  <block id="c6bf6070707df5673dee9d9291412c80" category="paragraph">AutoSupport 功能会在存储管理工作站上全局激活和停用。</block>
  <block id="58633aaac61423fbdb04855a9b8b976d" category="list-text">Storage Manager 事件监控器必须至少在一台能够访问设备的计算机上运行，并且最好在不超过一台计算机上运行。</block>
  <block id="d3facbe727221aecd421f91c14b15ba1" category="paragraph">所有数据都会在指定位置压缩为一个压缩归档文件格式（ .7z ）。</block>
  <block id="4033adf6608cd38e748ffe545ed829f7" category="paragraph">AutoSupport 提供以下类型的消息：</block>
  <block id="2808ae7cc398199e869f4af5a8eb9b7b" category="cell">消息类型</block>
  <block id="ca66e7fe495e52dcf26d76a0e3fd3cd8" category="paragraph">事件消息</block>
  <block id="9a605bcea002de66424d8fd0dc43d350" category="list-text">受管设备上发生支持事件时发送</block>
  <block id="1015ddc48e3fa74e0a7ae34032bba3e0" category="list-text">包括系统配置和诊断信息</block>
  <block id="b2d0cce4f8059239e3e2957e1d0a3aec" category="paragraph">每日消息</block>
  <block id="97d7fc50b5433c9fd6ff01681f819cbc" category="list-text">在设备的本地时间内，用户可配置的时间间隔内，每天发送一次</block>
  <block id="44bc995a9b21bfadd0065c2f5030bf21" category="list-text">包括当前系统事件日志和性能数据</block>
  <block id="6765da078a0e0174da6a220520c314ff" category="paragraph">每周消息</block>
  <block id="9bc26c28179fecbf0f8ca02bd7f341d3" category="list-text">在用户可配置的时间间隔内，在设备的本地时间内每周发送一次</block>
  <block id="8daa8797afb57b1a238c448ea893aa06" category="list-text">包括配置和系统状态信息</block>
  <block id="945d38eef0d09fa2c440768b5e980599" category="list-text">在 SANtricity 存储管理器的企业管理窗口中，选择 * 设备 * 选项卡，然后选择 * 已发现的存储阵列 * 。</block>
  <block id="da4642d650cc2121572753cb27d3778d" category="list-text">选择 * 工具 * &gt; * AutoSupport * &gt; * 配置 * 。</block>
  <block id="fe70f81990a3429ec518f7c8a16c9000" category="summary">在安装 SG5600 设备之前，请确认您拥有所需的所有附加设备和工具。</block>
  <block id="900fcb068139f221db60560158279046" category="doc">获取其他设备和工具（ SG5600 ）</block>
  <block id="38f660e6ca83fb9ff32471cc6626bd23" category="image-alt">螺丝刀</block>
  <block id="2f9c65f1b52389a8c022203e84a51c72" category="paragraph">中型平口螺丝刀</block>
  <block id="617252334386130d6ea9544f5e97e70e" category="list-text">* 以太网交换机 *</block>
  <block id="08432ebede8c9113b5ddaeddb6d47cb9" category="image-alt">以太网集线器</block>
  <block id="87a1fb3bb4c13a62c12e53049e67752c" category="list-text">* 服务笔记本电脑 *<block ref="dce1c7f3a5458930d9286753365f351d" category="inline-xref-macro-rx"></block></block>
  <block id="4ed1921e85c41ce32043884c8f28c48a" category="image-alt">管理工作站</block>
  <block id="37152e12a89224935316b34140b48922" category="summary">E2700 控制器上的管理端口 1 用于将设备连接到 SANtricity 存储管理器的管理网络。您必须为 E2700 控制器设置静态 IP 地址，以确保不会丢失与 StorageGRID 设备中硬件和控制器固件的管理连接。</block>
  <block id="9689fde2b31431555e38d78944c0c4bc" category="doc">设置 E2700 控制器的 IP 地址</block>
  <block id="957b079b95f46b8aa11f03728a1e8036" category="paragraph">DHCP 分配的地址可能随时更改。为控制器分配一个静态 IP 地址，以确保可访问性一致。</block>
  <block id="7fdbde0c71fa0930cf468ac957ad7003" category="list-text">在客户端中，输入 StorageGRID 设备安装程序的 URL ： + ` * https://_E5600SG_Controller_IP_:8443*`</block>
  <block id="b75337a285bd5d57590f328d40e6565e" category="paragraph">对于 ` _E5600SG_Controller_IP_` ，请在任何 StorageGRID 网络上使用设备的 IP 地址。</block>
  <block id="cd86c353e978140ae541773359e8c03f" category="list-text">选择 * 硬件配置 * &gt; * 存储控制器网络配置 * 。</block>
  <block id="13414ef57de443b715a0d5c84c24dcec" category="list-text">（可选）为 E2700 控制器管理端口设置静态 IP 地址。</block>
  <block id="5af3b2cb0abd20525518a77fcfeb28cb" category="paragraph">连接到 SANtricity 存储管理器时，您将使用新的静态 IP 地址作为 URL ： + ` * https://_E2700_Controller_IP_*`</block>
  <block id="6c3b6e0ef0881506936051f37bf3267d" category="summary">您必须使用 SAS 互连缆线将两个控制器彼此连接，将管理端口连接到相应的管理网络，并将 E5600SG 控制器上的 10 GbE 端口连接到网格网络和适用于 StorageGRID 的可选客户端网络。</block>
  <block id="df98ccce56de10eb41ab5f9d28ed8921" category="doc">缆线设备（ SG5600 ）</block>
  <block id="2eb5fb677c3a8b18a1720f6efe82f61c" category="list-text">您有用于连接管理端口的以太网缆线。</block>
  <block id="b2d6e43c18de1150c608af4fab045bca" category="list-text">您可以使用光缆连接四个 10-GbE 端口（设备不提供这些端口）。</block>
  <block id="84823434234351ca7f0644a0f23d81c7" category="paragraph">连接缆线时，请参见下图，其中显示了顶部的 E2700 控制器和底部的 E5600SG 控制器。此图显示的是 SG5660 型号； SG5612 型号中的控制器是并排控制的，而不是堆栈控制。</block>
  <block id="7bf8b8fb7215854cab41b713f85b63f8" category="image-alt">缆线图</block>
  <block id="f32e87ff07522df01eef447a1358d81e" category="paragraph">E2700 控制器上的管理端口 1</block>
  <block id="bbab45fbf34053c63d0924f48a95bf7c" category="paragraph">将 E2700 控制器连接到安装 SANtricity 存储管理器的网络。</block>
  <block id="d8d3283cbcb093ef472575758ad9aeb2" category="paragraph">E2700 控制器上的管理端口 2</block>
  <block id="dc602a255e422a2fb9719220664e6040" category="paragraph">在安装期间将 E2700 控制器连接到服务笔记本电脑。</block>
  <block id="957b3b6fadc28dff397f9937545a1e12" category="paragraph">每个控制器上有两个 SAS 互连端口，分别标记为通道 1 和通道 2</block>
  <block id="e6e0d5af55f8ec5a5dee1d35657c5260" category="paragraph">E2700 控制器： mini-SAS-HD</block>
  <block id="695e71defa09859177de08df3c490940" category="paragraph">E5600SG 控制器：迷你 SAS</block>
  <block id="c941d6ed82700f7207946855a58c0d9c" category="paragraph">E5600SG 控制器上的管理端口 1</block>
  <block id="d66453793f273b965fdcb05e10b9bd93" category="paragraph">将 E5600SG 控制器连接到 StorageGRID 管理网络。</block>
  <block id="3bc350db90aef5f11aeb9b4b23f79e39" category="paragraph">E5600SG 控制器上的管理端口 2</block>
  <block id="0d41404a735d48318399a69a05521c16" category="list-text">如果 DHCP 分配的 IP 地址不可用，则可以在安装期间使用此端口将 E5600SG 控制器连接到服务笔记本电脑。</block>
  <block id="216bb2d8b769d415fe5e2e7dcee2da54" category="paragraph">E5600SG 控制器上的四个网络端口</block>
  <block id="37c93389b43818a51db280f780608171" category="paragraph">10-GbE （光纤）</block>
  <block id="9eebc85000006252b8fae1a29146cec2" category="paragraph">将 E5600SG 控制器连接到网格网络和 StorageGRID 的客户端网络（如果使用）。这些端口可以绑定在一起，以便为控制器提供冗余路径。</block>
  <block id="285eacecc7a98000e0c69da7bcbec4fd" category="list-text">使用两根 SAS 互连缆线将 E2700 控制器连接到 E5600SG 控制器。</block>
  <block id="82389901f5edbf08f76ae883a55d7531" category="paragraph">E2700 控制器上的 SAS 互连端口 1 （标记为通道 1 ）</block>
  <block id="cce812f62cdfbe36d33e6ac619d9307a" category="paragraph">E5600SG 控制器上的 SAS 互连端口 1 （标记为通道 1 ）</block>
  <block id="6b328ab3e1669d01242df8fd367e1b3c" category="paragraph">E2700 控制器上的 SAS 互连端口 2 （标记为通道 2 ）</block>
  <block id="aaf886a43c026da49e68b83774a27f9b" category="paragraph">E5600SG 控制器上的 SAS 互连端口 2 （标记为通道 2 ）</block>
  <block id="fae3f7e92a5ffa20f4dd84d9dbac3ffa" category="paragraph">对于 E2700 控制器，使用方形连接器（ mini-SAS HD ）；对于 E5600SG 控制器，使用方形连接器（ mini-SAS ）。</block>
  <block id="f7db78f5ce9a6df5aafe81882af8c2d8" category="admonition">确保 SAS 连接器上的拉片位于底部，然后小心地插入每个连接器，直到其卡入到位。如果存在任何电阻，请勿推动连接器。继续操作前，请验证拉片的位置。</block>
  <block id="c5e3eb63039371178200e0e4550e6199" category="list-text">使用以太网缆线将 E2700 控制器连接到安装了 SANtricity 存储管理器软件的管理网络。</block>
  <block id="3ac2bf709df3645fb5e66ea41ffc9bd6" category="paragraph">E2700 控制器上的端口 1 （左侧的 RJ-45 端口）</block>
  <block id="4f4cc60ce0f50a3ac545a0a77b230db8" category="paragraph">用于 SANtricity 存储管理器的管理网络上的交换机端口</block>
  <block id="f77ec2849c0c23ea47765011302314ee" category="paragraph">E2700 控制器上的端口 2</block>
  <block id="32df68d6fa5c892773649498348d85f1" category="paragraph">服务笔记本电脑（如果不使用 DHCP ）</block>
  <block id="453dc7f8c620e55d299a1d841aa80a26" category="list-text">如果您计划使用 StorageGRID 管理网络，请使用以太网缆线连接 E5600SG 控制器。</block>
  <block id="122886fc77ea065da5c17ed016bcfdca" category="paragraph">E5600SG 控制器上的端口 1 （左侧的 RJ-45 端口）</block>
  <block id="1f7481841e6180be9a0a6fb25784513e" category="paragraph">StorageGRID 管理网络上的交换机端口</block>
  <block id="50f6bf508ad53a619482ecc09b3976f4" category="paragraph">E5600SG 控制器上的端口 2</block>
  <block id="96e917a2b643fd84326eb3c67f88981c" category="list-text">使用光缆和 SFP+ 收发器将 E5600SG 控制器上的 10-GbE 端口连接到相应的网络交换机。</block>
  <block id="d8b8f1c019d70ad19d811bd37b011805" category="paragraph"><block ref="d8b8f1c019d70ad19d811bd37b011805" category="inline-xref-macro-rx"></block></block>
  <block id="697ce79fc4982c558d9d2f9e438a2d6f" category="summary">硬件安装包括几项主要任务，包括安装硬件组件，为这些组件布线以及配置端口。</block>
  <block id="7741178a62a67a3905c54fd9727fc612" category="summary">StorageGRID SG5600 设备是一个集成的存储和计算平台，作为 StorageGRID 网格中的存储节点运行。</block>
  <block id="d13f1a3e176966713d6a0c5c3d9faf3c" category="doc">SG5600 设备：概述</block>
  <block id="577f7bb29ab461f3075cb6f7833f2685" category="paragraph">StorageGRID SG5600 设备包括以下组件：</block>
  <block id="f39a9d1e14c3108a241e999e3e713979" category="paragraph">计算服务器 E5600SG 控制器运行 Linux 操作系统和 StorageGRID 软件。</block>
  <block id="d7b4524d685103f861cc19bf2918a8eb" category="paragraph">此控制器连接到以下项：</block>
  <block id="c058232b55a64398117b914ac2476c52" category="list-text">StorageGRID 系统的管理网络，网格网络和客户端网络</block>
  <block id="c29f2ef0862f5c531be036f3ab641c76" category="list-text">E2700 控制器，使用双 SAS 路径（主动 / 主动），并将 E5600SG 控制器用作启动程序</block>
  <block id="6f01437673780ef5e8f85f40f2db0811" category="paragraph">存储控制器 E2700 控制器在单工模式下作为标准 E 系列存储阵列运行，并运行 SANtricity 操作系统（控制器固件）。</block>
  <block id="34dd0a53195aaacda32ff34a292ccccd" category="list-text">安装 SANtricity 存储管理器的管理网络</block>
  <block id="93c1e74e1573023a8bcbb2612ffdbdc6" category="list-text">E5600SG 控制器，使用双 SAS 路径（主动 / 主动），以 E2700 控制器作为目标</block>
  <block id="8b258f0d53884ac3e6308da5c842c270" category="paragraph">SG5600 设备还包括以下组件，具体取决于型号：</block>
  <block id="d234d2f1f4ad04b0d63662b9c5d9db6d" category="cell">型号 SG5612</block>
  <block id="a86d263a4e62e70475f9948fc7303246" category="cell">型号 SG5660</block>
  <block id="503da18cfeae85bcd0e7881852da4166" category="paragraph">12 个 NL-SAS 驱动器</block>
  <block id="effe5c4dd00d908ade367b79e7b44464" category="paragraph">60 个 NL-SAS 驱动器</block>
  <block id="e7113d910e70a9382bdcdd2370770375" category="paragraph">机箱</block>
  <block id="bc4d241816aa27b3625f831abe3ff921" category="paragraph">DE1600 机箱，一种双机架单元（ 2U ）机箱，用于容纳驱动器和控制器</block>
  <block id="3e869cd5a05ebc6549e0b8fe28fb5457" category="paragraph">DE6600 机箱，一种四机架单元（ 4U ）机箱，用于容纳驱动器和控制器</block>
  <block id="b4fe9343a894f9de453a068b8822a4dc" category="paragraph">电源和风扇</block>
  <block id="88219d666e4176f0432d4e5e47101bd8" category="paragraph">两个电源和两个风扇</block>
  <block id="7bc4f0a621b279dc0ba5cf0bb82f595c" category="admonition">E5600SG 控制器经过高度自定义，可在 StorageGRID 设备中使用。所有其他组件均按照 E 系列文档中所述的方式运行，除非这些说明中另有说明。</block>
  <block id="d85f34b7b9e522a56b6ec72ee5547e22" category="paragraph">每个 StorageGRID 设备存储节点上可用的最大原始存储空间是固定的，具体取决于设备型号和配置。您不能通过添加具有额外驱动器的磁盘架来扩展可用存储。</block>
  <block id="936a9bd08772d7069d4a9729a48c5994" category="paragraph">将 StorageGRID 设备部署为存储节点时，您可以将其连接到以下网络：</block>
  <block id="1e96a78ac163c412a37dba0d5be0afaf" category="list-text">* 适用于 StorageGRID 的客户端网络 * ：客户端网络是一种开放网络，用于访问客户端应用程序，包括 S3 和 Swift 。客户端网络可提供对网格的客户端协议访问，从而可以隔离和保护网格网络。客户端网络是可选的。</block>
  <block id="5d76a7203669abf215317eef1a6a84f4" category="list-text">* 适用于 SANtricity 存储管理器的管理网络 * （可选）： E2700 控制器连接到安装了 SANtricity 存储管理器的管理网络，可用于监控和管理设备中的硬件组件。此管理网络可以与 StorageGRID 的管理网络相同，也可以是一个独立的管理网络。</block>
  <block id="3a0a0edfb8f622763f4315900175a647" category="paragraph">如果未连接可选的 SANtricity 存储管理器网络，则可能无法使用某些 SANtricity 功能。</block>
  <block id="c98505addd007aaae2f7ab52608a36a4" category="paragraph">安装 StorageGRID 设备时，必须将两个控制器彼此连接并连接到所需的网络。此图显示了 SG5660 中的两个控制器，其中 E2700 控制器位于顶部， E5600SG 控制器位于底部。在 SG5612 中， E2700 控制器位于 E5600SG 控制器的左侧。</block>
  <block id="889e8733fdb4b176b69a3f6b327de909" category="image-alt">显示连接的 SG5660 背面图</block>
  <block id="d586d7740c9de76f0c6118e87f384506" category="list-text">如果 DHCP 分配的 IP 地址不可用，则可以在安装期间使用此 IP 地址将 E5600SG 控制器连接到服务笔记本电脑。</block>
  <block id="b48674d3dc64572ea491f0788cc43717" category="paragraph">连接到网格网络和 StorageGRID 客户端网络。请参见 "`E5600SG 控制器的 10-GbE 端口连接 " 。`</block>
  <block id="9d589913b7fb2732aa6343157cffdd83" category="paragraph"><block ref="9d589913b7fb2732aa6343157cffdd83" category="inline-xref-macro-rx"></block></block>
  <block id="56c7d85b0e87102da44a2219bf5fc30d" category="paragraph"><block ref="56c7d85b0e87102da44a2219bf5fc30d" category="inline-xref-macro-rx"></block></block>
  <block id="e458618215b5fd75204e5efb2136f8f3" category="doc">自动化设备安装和配置（ SG5600 ）</block>
  <block id="e434359fb92b1c7070cfcebfcb1f09d1" category="summary">如果您的 SG5660 包含 60 个驱动器，则可以将卷配置从其默认和建议设置动态磁盘池（ DDP\ ）更改为 RAID6 。您只能在部署 StorageGRID 设备存储节点之前更改此模式。</block>
  <block id="9c37b65a83035e82c74824200af1928c" category="doc">可选：更改为 RAID6 模式（仅限 SG5660 ）</block>
  <block id="897751c7143de592f8c35424650be9fb" category="paragraph">如果您的 SG5660 包含 60 个驱动器，则可以将卷配置从其默认和建议设置动态磁盘池（ Dynamic Disk Pool ， DDP ）更改为 RAID6 。您只能在部署 StorageGRID 设备存储节点之前更改此模式。</block>
  <block id="dc45e1d97aa93ada54f9689e4278562a" category="list-text">您已安装 SG5660 。SG5612 不支持 RAID6 。如果您使用的是 SG5612 ，则必须使用 DDP 模式。</block>
  <block id="86d05d2fb1165d67b221af27854bb2b3" category="paragraph">在部署 StorageGRID 设备存储节点之前，您可以从两个卷配置选项中进行选择：</block>
  <block id="ad16fae2561df6b6390fc12fd163d32a" category="list-text">* 动态磁盘池（ DDP ） * —这是默认设置和建议设置。DDP 是一种增强型硬件数据保护方案，可提高系统性能，缩短驱动器发生故障后的重建时间以及简化管理。</block>
  <block id="d23115d3ae1533b2275cbc79d9a35c1b" category="list-text">*RAID6* —这是一种硬件保护方案，它在每个磁盘上使用奇偶校验条带，并允许在 RAID 集内发生两个磁盘故障，以免任何数据丢失。</block>
  <block id="667fcf607c1de98293d12d4174254d87" category="admonition">建议不要在大多数 StorageGRID 环境中使用 RAID6 。虽然 RAID6 可以将存储效率提高到 88% （而 DDP 为 80% ），但 DDP 模式可以更高效地从驱动器故障中恢复。</block>
  <block id="c44c46ac55e12efabd502885e8da92d1" category="list-text">使用服务笔记本电脑打开 Web 浏览器并访问 StorageGRID 设备安装程序： + ` * https://_E5600SG_Controller_IP_:8443*`</block>
  <block id="03089db3b9301d959d20ccf17e7d6292" category="paragraph">其中， ` _E5600SG_Controller_IP_` 是 E5600SG 控制器的任何 IP 地址。</block>
  <block id="43be92bb7dc62ce7f78315a186e96e6c" category="list-text">从菜单栏中，选择 * 高级 * &gt; * RAID 模式 * 。</block>
  <block id="9f680b5a26c329c7c281620bdb06dca9" category="list-text">在 * 配置 RAID 模式 * 页面上，从模式下拉列表中选择 * RAID6* 。</block>
  <block id="25ca3c523948eb122c7f3ce2955a3281" category="summary">将设备中的 E2700 控制器连接到 SANtricity 存储管理器，然后将设备添加为存储阵列。</block>
  <block id="5b4b10ba404d7f69b005aec7621a5f02" category="doc">将设备添加到 SANtricity 存储管理器</block>
  <block id="8e30dda3f47131a79d7e04eadb941d0a" category="paragraph">有关详细说明，请参见 SANtricity 存储管理器文档。</block>
  <block id="c421dee65577542f88e895b502e9dec1" category="paragraph">此时将显示 SANtricity 存储管理器的登录页面。</block>
  <block id="68609f829089187b1a0a97f42c8c1704" category="list-text">在 * 选择添加方法 * 页面上，选择 * 手动 * ，然后单击 * 确定 * 。</block>
  <block id="41bfa90082514755b18885c2d4954588" category="list-text">选择 * 编辑 * &gt; * 添加存储阵列 * 。</block>
  <block id="1ce8bb7c10fce6b5ee4b54803293606d" category="paragraph">此时将显示 "Add New Storage Array - Manual" 页面。</block>
  <block id="e3263a6319d3e84c710e451185a3f6a3" category="image-alt">SANtricity 添加新存储阵列页面</block>
  <block id="02af3f9738010c154f102c012e9e4548" category="list-text">在 * 带外管理 * 框中，输入以下值之一：</block>
  <block id="4a7ca7c5980e45bc96dbc2a31b207f9f" category="list-text">* 使用 DHCP ： * DHCP 服务器分配给 E2700 控制器上管理端口 1 的 IP 地址</block>
  <block id="3f47ba57f566bccf45b7ea13c740c3ff" category="list-text">* 未使用 DHCP ： * `192.168.128.101`</block>
  <block id="a1d77e051db479e587c2a1250eb55ea7" category="admonition">只有一个设备的控制器连接到 SANtricity 存储管理器，因此您只需要输入一个 IP 地址。</block>
  <block id="7dee7e783d13b6d5d415926ce0bfc306" category="list-text">单击 * 添加 * 。</block>
  <block id="9a9952194a5cbdf08d77d376565ff205" category="summary">访问 SANtricity 存储管理器后，您可以使用它配置硬件设置。通常，在将设备部署为 StorageGRID 系统中的存储节点之前，您需要配置这些设置。</block>
  <block id="5a330ee07575c55dad212cc7584240cc" category="doc">设置 SANtricity 存储管理器</block>
  <block id="81af3b250d59b126468e3d9897971a16" category="doc">StorageGRID SG5600 设备概述</block>
  <block id="f1dbaff2259b19da41c7fe95beeedd29" category="paragraph">如果要更改链路配置，请参见有关更改 E5600SG 控制器的链路配置的说明。</block>
  <block id="6b8257118b76d54bd4e08772a4f02a52" category="inline-xref-macro">更改 E5600SG 控制器的链路配置</block>
  <block id="64e99b9deb7524fd9b9f0812201e9781" category="paragraph"><block ref="64e99b9deb7524fd9b9f0812201e9781" category="inline-xref-macro-rx"></block></block>
  <block id="4605b1a0643d4a6760c0d1b29218f78c" category="summary">E5600SG 控制器上的 10-GbE 网络端口支持网格网络和客户端网络连接的固定端口绑定模式或聚合端口绑定模式。</block>
  <block id="857b68c52590d010e01bf1b12ae3eeae" category="doc">10-GbE 端口的网络绑定模式</block>
  <block id="dfefcb1b08c338d6c64e5370a13b56d6" category="paragraph">固定模式是 10-GbE 网络端口的默认配置。</block>
  <block id="93e76c4e84e467db0fb16396e94c5e6d" category="paragraph">如果您不想使用全部四个 10-GbE 端口，则可以使用一个，两个或三个端口。如果使用多个端口，则在其中一个 10-GbE 端口发生故障时，某些网络连接将保持可用的可能性最大。</block>
  <block id="a3ca5994238a92c1f0a5ed64c5e3cc67" category="summary">您可以使用 SANtricity 存储管理器监控 StorageGRID 设备中存储磁盘和硬件组件的状态。要访问此软件，您必须知道 E2700 控制器 \ （设备中的存储控制器 \ ）上管理端口 1 的 IP 地址。</block>
  <block id="dce054235f5a7896fa7397418a664ddf" category="doc">配置 SANtricity 存储管理器</block>
  <block id="d32024e606bb344f7013e2dd39986ebc" category="paragraph">您可以使用 SANtricity 存储管理器监控 StorageGRID 设备中存储磁盘和硬件组件的状态。要访问此软件，您必须知道 E2700 控制器（设备中的存储控制器）上管理端口 1 的 IP 地址。</block>
  <block id="92e1e98feedce2b338788748508b9ca8" category="sidebar">StorageGRID 11.6 文档</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="sidebar">入门</block>
  <block id="d71a1f887169c2c11e2b6bffa992be4f" category="sidebar">安装和维护设备硬件</block>
  <block id="aafdc9161d2cf7611b7ed428e4ce182f" category="sidebar">安装和升级软件</block>
  <block id="2103cf54a27e7842c0219a84adda2972" category="sidebar">执行系统管理</block>
  <block id="9c51b1457c3cb82285d70cf1703e6509" category="sidebar">使用 StorageGRID</block>
  <block id="50ea5d10f34337173209333090686506" category="sidebar">监控和维护 StorageGRID</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">早期版本</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">新增功能</block>
  <block id="01064f33f360eefba819bf9542c0486b" category="sidebar">安装维护硬件</block>
  <block id="fed12fe7277171dd13f542857835b150" category="sidebar">安装升级软件</block>
  <block id="24e7347c66907702180a40d3107bb61c" category="sidebar">配置网格</block>
  <block id="ff9bcd7d1c24195aa5b564cfb8342371" category="sidebar">管理对象</block>
  <block id="582a98d043815084db0d130fa173eab8" category="sidebar">监控维护</block>
  <block id="af01a64a6077f46ca99b93a0c4c3f4d0" category="sidebar">监控器故障排除</block>
  <block id="20e530ce8052ec2023f32f35a5b0eb5a" category="sidebar">恢复保持</block>
  <block id="81a123ccab93cd947289b672b0e50348" category="sidebar">演示教程</block>
  <block id="37a22f48989cdc6e7e3429f09be3fc5c" category="sidebar">StorageGRID 视频库</block>
  <block id="f8e43c2f779dd11ddf192ae101019ea1" category="sidebar">NetApp 学习服务</block>
  <block id="dfcc398099d6a64026e51ab282e16253" category="sidebar">更多资源</block>
  <block id="5c8fba8e6a4b1c808cb6fcd601dd89ce" category="sidebar">StorageGRID 支持页面</block>
  <block id="8ef596bf4eb7277f78ad1d7ad4cc04de" category="sidebar">StorageGRID 知识库</block>
  <block id="c2d388654878e1108f99fdeaa465fcac" category="sidebar">NetApp 博客</block>
  <block id="a310588c148d934b9b30c31802d4a30b" category="sidebar">NetApp 社区</block>
  <block id="6d307701f8a2621afa3c68f86b66b9f7" category="sidebar">StorageGRID 11.5 文档</block>
  <block id="9ccd79e77976b22b2105fd27f98d48e7" category="sidebar">StorageGRID 11.4 文档</block>
  <block id="8c7a26ec02e66f37e540ca0eca6fd970" category="sidebar">StorageGRID 11.3 文档</block>
  <block id="6944c8247f8c38ca693211d8bafb8a4e" category="sidebar">StorageGRID 11.2 文档</block>
  <block id="cbc61a2fa793d619a946f6517d06bb49" category="sidebar">StorageGRID SG5700 存储设备</block>
  <block id="7a8ca24ce3a0e5513321b84835f1dace" category="sidebar">网络拓扑示例</block>
  <block id="7488d5949bc586f34652e420a80f7049" category="sidebar">部署特定的网络注意事项</block>
  <block id="81c57fb41b83d9ce9fbb0be21b5a7236" category="sidebar">升级 StorageGRID 软件</block>
  <block id="1f5e1a94c2bd2882d6872e672f99cd39" category="sidebar">升级 StorageGRID 软件</block>
  <block id="b1c6393658e5439dce5bb6215005e019" category="sidebar">对网格管理 API 进行的更改</block>
  <block id="b97fea9000441cd4cc2f21c589b3b186" category="sidebar">对租户管理 API 进行的更改</block>
  <block id="48918682a3af4122b5019391353307ee" category="sidebar">规划和准备升级</block>
  <block id="bc108aeb1ee219f9cec70c55d37583c1" category="sidebar">完成升级的估计时间</block>
  <block id="572241a66ed5d14f6516e0fd4065d78e" category="sidebar">升级期间对系统的影响</block>
  <block id="1312ac655ee47bf62baffbb1b1de9924" category="sidebar">升级对组和用户帐户的影响</block>
  <block id="560c354df6232ad70f0ba58c9e9aebb1" category="sidebar">验证已安装的 StorageGRID 版本</block>
  <block id="2922cd2aeff9b3dacb695262e29c55ef" category="sidebar">获取所需材料</block>
  <block id="7b873f3e2d53fbd90808684794da8248" category="sidebar">请检查系统</block>
  <block id="2c44d73d1bc99e02e4d7c401581f7fb2" category="sidebar">Linux 在所有主机上安装 RPM 或 Deb 软件包</block>
  <block id="82716c406e53eb61022ea446465bdfa6" category="sidebar">执行升级</block>
  <block id="78681f15c170b0854c0fdeae71cf21b4" category="sidebar">对升级问题进行故障排除</block>
  <block id="72d6558b4c0e68a801d38e1ad6028e72" category="sidebar">用户界面问题</block>
  <block id="01cae7cbd5eca4058475dd2c0b6fb559" category="sidebar">Docker 映像可用性检查错误消息</block>
  <block id="ca4c7e144d9c7e2ddeb6d72284df8c39" category="sidebar">扩展 StorageGRID</block>
  <block id="1e457a35700bbcc73d0f435962627d65" category="sidebar">规划 StorageGRID 扩展</block>
  <block id="36ba8d44f59ba6f6841e013a4c2dfcbd" category="sidebar">添加存储容量</block>
  <block id="0bef4f34d9c762a032e7a9e0aa61ebb7" category="sidebar">添加网格节点或站点</block>
  <block id="c7bd4660cee75e951017a29e033c9544" category="sidebar">配置扩展系统</block>
  <block id="798b968b2f1f135e9cc62e534941771d" category="sidebar">配置步骤</block>
  <block id="b6b9a08b259d8a63868b6e6dd0eb3aac" category="sidebar">安装适用于 StorageGRID 的 VMware</block>
  <block id="6e01a29517872bc16926ecf64065ac37" category="sidebar">规划并准备 VMware 安装</block>
  <block id="9341019b55764d5f593cd0200c56103f" category="sidebar">部署虚拟机网格节点（ VMware ）</block>
  <block id="0f6d5554b15490c07bc95913e7162eb3" category="sidebar">配置网格并完成安装（ VMware ）</block>
  <block id="f5feea39999747fee527e356d37c2786" category="sidebar">将 S3 与 StorageGRID 结合使用</block>
  <block id="212f20159b6e4667239d7aa9c1968f2f" category="sidebar">使用服务器端加密</block>
  <block id="061ee01e8a038c888802869734bb90a1" category="sidebar">监控 StorageGRID 并对其进行故障排除</block>
  <block id="7e462ca41b24fd5ba52517d6925a9cf7" category="sidebar">查看平台服务选项卡</block>
  <block id="9f509d509c4fa86a142251b6cd100fc3" category="sidebar">管理警报和警报</block>
  <block id="742e48dacb7947c6855c64b876f1f7fd" category="sidebar">管理警报通知</block>
  <block id="63527eddc1caa8f589f7ba0947f2dddc" category="sidebar">设置 SNMP 通知</block>
  <block id="f1ddfd50d289ca1496b137a55f34fd6d" category="sidebar">设置电子邮件通知</block>
  <block id="febb22648757685343cf5020df0069f5" category="sidebar">收集其他 StorageGRID 数据</block>
  <block id="402dad70606353148fdc961e74b3020f" category="sidebar">故障排除概述</block>
  <block id="8db5787234ec12f50c2309a00c8ef28a" category="sidebar">对对象和存储问题进行故障排除</block>
  <block id="8cd4cf9a1bc8b7088a5713a564fbf94c" category="sidebar">对象存储故障</block>
  <block id="464342dac5f6545486894ccc7cf24e16" category="sidebar">对外部系统日志服务器进行故障排除</block>
  <block id="2e580fa443d4f4356d072f415e0408e5" category="sidebar">安装适用于 StorageGRID 的 Ubuntu 或 Debian</block>
  <block id="e5a962a751544cf8323036c3137c2e48" category="sidebar">规划并准备安装 Ubuntu 或 Debian</block>
  <block id="5b793b3e00e7cbedf6bb65cc0ce907fd" category="sidebar">准备主机（ Ubuntu 或 Debian ）</block>
  <block id="e6faa50de1c9567948b33eeb2029822d" category="sidebar">安装 AppArmore.</block>
  <block id="453ee544430081c595d9b4a678f64727" category="sidebar">部署虚拟网格节点（ Ubuntu 或 Debian ）</block>
  <block id="66d6f0d4c924d0a1cd016d198a134dfb" category="sidebar">配置网格并完成安装（ Ubuntu 或 Debian ）</block>
  <block id="868685d95f98b12cd63b97cf87e9acb1" category="sidebar">StorageGRID SG6000 存储设备</block>
  <block id="cd59ac8e9fe6c6adcc8c3161da28f16a" category="sidebar">SG6060 ：使用缆线连接可选扩展架</block>
  <block id="1fe1d40f46ae7259d063f4e527bc2dc5" category="sidebar">设置和访问 SANtricity 系统管理器</block>
  <block id="989ca6e88c0dd5fb7f3a11169b7e0a5b" category="sidebar">硬件设置似乎挂起</block>
  <block id="6a917ac3c4ad1cc61d8259a608f2ae4e" category="sidebar">配置 FabricPool</block>
  <block id="64f58b825f030af1ade87986ca586e8b" category="sidebar">将 StorageGRID 附加为云层</block>
  <block id="bade42d23dccad83b7ffd49f6f0a3159" category="sidebar">HA 组的最佳实践</block>
  <block id="87072806a2df1339b9ed4e85ee2b522d" category="sidebar">配置 DNS 服务器</block>
  <block id="21c5dc34207617a065dea2625e94d2e5" category="sidebar">创建 HA 组</block>
  <block id="f6aa178ae35681a609683edceb775e58" category="sidebar">创建负载平衡器端点</block>
  <block id="3c27e31cc0f093cb762013cf67e430ee" category="sidebar">创建 S3 存储分段并获取访问密钥</block>
  <block id="a55679a8961f4932b19e6b3c883eeeea" category="sidebar">将 ILM 与 FabricPool 数据结合使用</block>
  <block id="b502dabad48662354f2527e47864cd58" category="sidebar">创建流量分类策略</block>
  <block id="d850e10943aae345c4357b6f98bb3e4b" category="sidebar">其他最佳实践</block>
  <block id="7e03a2c49a8bdb2bd46f7b0b2c6286a9" category="sidebar">查看 StorageGRID 审核日志</block>
  <block id="afc29737a400dada15106eef4528477c" category="sidebar">审核消息参考</block>
  <block id="a33bdf6dfe0897d8c5ef06900c6e582b" category="sidebar">恢复和维护 StorageGRID</block>
  <block id="071f9267dd9fe157d7d4f7bceddc04cf" category="sidebar">在应用修补程序之前，请检查系统的状况</block>
  <block id="4813bc38d1d5720ea0e7b49d434110cf" category="sidebar">重新挂载并重新格式化设备存储卷（ " 手动步骤 " ）</block>
  <block id="008a86244fd3245695bf3486e910c87f" category="sidebar">重新挂载并重新格式化存储卷（ " 手动步骤 " ）</block>
  <block id="aa5539028c9b3d011d3d7e8668161465" category="sidebar">下一步操作：如果需要，执行其他恢复步骤</block>
  <block id="328d15b40bb4f73a4c9c50f9dbccc975" category="sidebar">注意事项管理节点或网关节点停用</block>
  <block id="4b65685745aaba93e6f66ea7074fc2bb" category="sidebar">更改所有节点的 IP 地址</block>
  <block id="7b12db718f66b9977ef6fc0fbd168064" category="sidebar">向现有节点添加接口</block>
  <block id="70bc1047604f4522fcc8fb5244549806" category="sidebar">Linux ：将管理员或客户端接口添加到节点</block>
  <block id="85211b473d93099fd45ba65716f0f114" category="sidebar">Linux ：向节点添加中继或访问接口</block>
  <block id="7b7a8c931acdc9c9767671dd936a7c42" category="sidebar">VMware ：向节点添加中继或访问接口</block>
  <block id="61041c13c1d03b2ffc76e24c92d585b4" category="sidebar">对 Server Manager 进行故障排除</block>
  <block id="f6246fc56792ecd40070dd0cfa236913" category="sidebar">使用 StorageGRID 租户帐户</block>
  <block id="9f0b42049c0e4bb283c04ceca4343700" category="sidebar">如何登录和注销</block>
  <block id="5be791fb432b2f1ec735e4ea0a934539" category="sidebar">管理系统访问</block>
  <block id="7a264e1f0d241024ddabb62abef089ca" category="sidebar">将用户添加到本地组</block>
  <block id="57a10162b34296815dd2c2ff065a5e31" category="sidebar">管理 S3 租户帐户</block>
  <block id="cbcab49051c9d9db41d1c8ac6a3b5dfc" category="sidebar">创建其他用户的 S3 访问密钥</block>
  <block id="19eef91b23d68fcb0f128b28ec294283" category="sidebar">查看其他用户的 S3 访问密钥</block>
  <block id="c673295a757acd8c71d093a750d062d7" category="sidebar">删除其他用户的 S3 访问密钥</block>
  <block id="fd1c68085eeae378471bac9bc817b052" category="sidebar">管理 S3 存储分段</block>
  <block id="8d36be7080fb5fc670112822eb0f1cac" category="sidebar">更改一致性级别</block>
  <block id="e96e0422b521ae39adcea1c653f17273" category="sidebar">管理 S3 平台服务</block>
  <block id="f96dbf5e7ac84a54e0a3b1bf3b14c2a3" category="sidebar">存储分段通知</block>
  <block id="eb36286aa125c88bc6328bb31e8a5a86" category="sidebar">搜索集成服务</block>
  <block id="eb0017f8a64f8c8bf87123e27972cadb" category="sidebar">配置 XML 以进行搜索集成</block>
  <block id="91df6da731e2d8537a84b5b64b12471b" category="sidebar">StorageGRID SG100 和 SG1000 服务设备</block>
  <block id="2d3bc13b5a353eb48a130527d844cfb4" category="sidebar">SG100 和 SG1000 设备的端口绑定模式</block>
  <block id="2a195303c9bd4fd253dd1b2fd9a37ea6" category="sidebar">将设备安装到机柜或机架中（ SG100 和 SG1000 ）</block>
  <block id="68e5e0aa72078ce7cf67d638f1de5a3a" category="sidebar">缆线设备（ SG100 和 SG1000 ）</block>
  <block id="baf410e5836c49ae35640d8eb6fff1c3" category="sidebar">更换服务设备</block>
  <block id="4664cc04b2c7ec6ad2bd0f7e0edebaf3" category="sidebar">安装适用于 StorageGRID 的 Red Hat Enterprise Linux 或 CentOS</block>
  <block id="96fbd40b1d0239cebdebf3749bcfe62d" category="sidebar">规划并准备安装 Red Hat 或 CentOS</block>
  <block id="d5e0297b6d8de2ed97b7cb3fb71af183" category="sidebar">准备主机（ Red Hat 或 CentOS ）</block>
  <block id="da2612dc5c27ee088e7513b72c5a0c21" category="sidebar">配置主机网络（ Red Hat 或 CentOS ）</block>
  <block id="f2395490e68da1f9758e5facf1329fb1" category="sidebar">部署虚拟网格节点（ Red Hat 或 CentOS ）</block>
  <block id="4fce394423c2b3e0edce22cbcabafe23" category="sidebar">为 Red Hat 或 CentOS 部署创建节点配置文件</block>
  <block id="283e3e4cb6bb3fa2781b8dc8f14d1505" category="sidebar">配置网格并完成安装（ Red Hat 或 CentOS ）</block>
  <block id="c709d72bf35f6e783eae2c2d8c92cfe0" category="sidebar">自动安装（ Red Hat 或 CentOS ）</block>
  <block id="104f4b27e807107248c7f68e30a403ce" category="sidebar">将 Swift 与 StorageGRID 结合使用</block>
  <block id="f22d9b50726ef611f609b5f82d3e445a" category="sidebar">管理 StorageGRID 系统</block>
  <block id="2e3ad94cb913512836eebb8ff52c8fc1" category="sidebar">开始使用 StorageGRID</block>
  <block id="15d50a7a5cf4c032d2ff3358f8c40506" category="sidebar">使用 API</block>
  <block id="d665fc9cd387f1c3109c57749f94dc8e" category="sidebar">如果启用了单点登录，请使用 API</block>
  <block id="4b0cf458ef35425ce2e8ce9bc4a30b73" category="sidebar">控制对 StorageGRID 的访问</block>
  <block id="ed76b89f4a82a75ceec8ccf31d796a3a" category="sidebar">使用单点登录（ SSO ）</block>
  <block id="10c56c2b95c28fe773fe6d60b1a0b05a" category="sidebar">在 Azure 中创建企业级应用程序</block>
  <block id="671acfeb23b874283fb7d6cb00f23d5a" category="sidebar">在 PingFederate 中创建 SP 连接</block>
  <block id="af5262fc449f88bafe55fbd027cb7234" category="sidebar">管理安全设置</block>
  <block id="951d3fc54a28f9f46798897467d96a5b" category="sidebar">管理证书</block>
  <block id="d15b751110e6d44ac630e0dc463cc63d" category="sidebar">配置服务器证书</block>
  <block id="91fba6642e220c9d6b627c272ca1f4b0" category="sidebar">配置密钥管理服务器</block>
  <block id="e8d54bce5376751d49aba18b42484d2e" category="sidebar">配置密钥管理服务器概述</block>
  <block id="55b6bb7a4d6aa68b6099512e53c316cd" category="sidebar">管理代理设置</block>
  <block id="f42afd1fc9b4c8282673a7efbddf2d92" category="sidebar">指定节点的客户端网络不可信</block>
  <block id="cf28ac47a47dee66e9c1620d270efe93" category="sidebar">更改租户的本地 root 用户的密码</block>
  <block id="4a3df4b57c437bb874242a5538d0982b" category="sidebar">管理平台服务</block>
  <block id="fde295810208dbffe67af0179ed7345b" category="sidebar">管理高可用性（ HA ）组概述</block>
  <block id="a26052d98fc7162c7dc1effd73b46fdf" category="sidebar">如何使用 HA 组</block>
  <block id="22c9a5f47b1c4dda540440b99f8efc3f" category="sidebar">配置 HA 组</block>
  <block id="4b78c647b2f30938e559c9392e58ce70" category="sidebar">管理负载平衡</block>
  <block id="9bfbf499ee96c2f7728deaa1799acb64" category="sidebar">管理负载平衡概述</block>
  <block id="7f93c34e8eb36bab99ef5cf026d4b926" category="sidebar">管理网络和连接</block>
  <block id="fea922a0192ad3cc3b4770255ffb160c" category="sidebar">管理链路成本</block>
  <block id="ced03c4408f7266567aaad2d848994d3" category="sidebar">使用 AutoSupport</block>
  <block id="0f39f4240371d8ece7d1695a2c16fc9b" category="sidebar">什么是 AutoSupport</block>
  <block id="7a5d1e8cac72aada2971d65cffdd378f" category="sidebar">什么是存储节点</block>
  <block id="7e846f2f3f57633c0ee24b5ca781db5c" category="sidebar">什么是对象分段</block>
  <block id="191d30a931a608fb5a22b674a73ff548" category="sidebar">配置已存储对象的全局设置</block>
  <block id="9bc69b63f95529be3701a14d4239acd4" category="sidebar">管理管理节点</block>
  <block id="ce818f5fdcf5e70abca508f5a0f9866e" category="sidebar">更改 CIFS 审核共享用户或组名称</block>
  <block id="10887c8b816345980ff09e6d340e9092" category="sidebar">将 NFS 审核客户端添加到审核共享</block>
  <block id="2ff32713cdcfc02bd9ffef7075cc3e56" category="sidebar">从审核共享中删除 NFS 审核客户端</block>
  <block id="d3c4e7f989c0152b2d798f46f7bf25a1" category="sidebar">更改 NFS 审核客户端的 IP 地址</block>
  <block id="c9979aefd20a6db16360ca9a2444d00a" category="sidebar">管理归档节点</block>
  <block id="610046914433f8492cdad154d6970b0b" category="sidebar">通过 S3 API 归档到云</block>
  <block id="c5ddc570b3eba2826c65c9fea95656cc" category="sidebar">配置 S3 API 的连接设置</block>
  <block id="6d67f0bfef182890ad744719abc642e1" category="sidebar">修改 Cloud Tiering Service 状态</block>
  <block id="671a0fba8bdcab309390dcc616611e3d" category="sidebar">重置 S3 API 连接的存储故障计数</block>
  <block id="5ccf3fed9f64effd87bf8e9c93b85c8a" category="sidebar">将对象从 Cloud Tiering - S3 迁移到 Cloud Storage Pool</block>
  <block id="b44c2285e5ebf627a2dbc3bab009054d" category="sidebar">针对 TSM 中间件会话优化归档节点</block>
  <block id="6af1f8245c563e15ee9a29639717a954" category="sidebar">配置 TSM 的归档状态和计数器</block>
  <block id="434546780abd857402e09294f5bfe5c7" category="sidebar">在 TSM 服务器达到容量时管理归档节点</block>
  <block id="10b05f09cf8e809689be1acdcde62aa8" category="sidebar">集成 Tivoli Storage Manager</block>
  <block id="e2baec93d07244e883aa2092274a4e37" category="sidebar">完成归档节点设置</block>
  <block id="264eb23a588b6f090fb4102de1768d4d" category="sidebar">安装新的 TSM 服务器</block>
  <block id="5d43d39a733b208ce2159a898b76e0fd" category="sidebar">配置 TSM 服务器</block>
  <block id="0827b9b3e11e116fe77975612f63f6a9" category="sidebar">定义域策略并注册节点</block>
  <block id="e8ef7c345aa3a5e06261902298b2e238" category="sidebar">StorageGRID 系统强化</block>
  <block id="0f044e1335ffcee5f15270567f66b797" category="sidebar">StorageGRID 网格入门</block>
  <block id="ee1fc4136f0ec7086a150413afae3552" category="sidebar">架构和网络拓扑</block>
  <block id="bee21349c0ba44c713aae2c254a4afd3" category="sidebar">对象管理</block>
  <block id="44434237006cfe916bd99f6db898d8a2" category="sidebar">对象生命周期</block>
  <block id="5acf155b880f7315a853595fde70b454" category="sidebar">如何使用 StorageGRID</block>
  <block id="5a60851e1a6f9503495da717e9cfc0a9" category="sidebar">了解 Grid Manager</block>
  <block id="d5f89f7f853f44a391e942cbca0a8c48" category="sidebar">了解租户管理器</block>
  <block id="00ae0cd12340f0b4bbba6b466e757a65" category="sidebar">监控操作</block>
  <block id="a4286f2d62f542de9f671dd66b3afdea" category="sidebar">查看节点页面</block>
  <block id="1ea63b4eb920e5647b8a4ceaf5bcc218" category="sidebar">使用支持选项</block>
  <block id="2bb4147687bba0ddb6bcdb8e1ea8b4ee" category="sidebar">使用 ILM 管理 StorageGRID 对象</block>
  <block id="7cd69965bd73428bfea425dd433f605a" category="sidebar">ILM 和对象生命周期</block>
  <block id="161c3c7528cacfd104202fbfa88b151b" category="sidebar">如何载入对象</block>
  <block id="454d40cdda101a555ad79698bea85645" category="sidebar">数据保护选项的优势，劣势和限制</block>
  <block id="1d30537dcabf08e96a11483b9226c559" category="sidebar">对象的存储方式（复制或纠删编码）</block>
  <block id="c1d6122ea38f73460f871d9973bcc6b6" category="sidebar">创建存储级别，存储池， EC 配置文件和区域</block>
  <block id="a3ce1cc875c9b2843264443129771ee2" category="sidebar">配置存储池</block>
  <block id="28b8b0d87ad3d64922325060257057f7" category="sidebar">使用存储池作为临时位置（已弃用）</block>
  <block id="00f09c554f9b80134e8aa2f20e820840" category="sidebar">删除存储池</block>
  <block id="74ca586c69930b450ab8f4cba8017abd" category="sidebar">使用云存储池</block>
  <block id="215f71ee3a9385e8d09af1cd05499875" category="sidebar">Cloud Storage Pool 对象的生命周期</block>
  <block id="9d359145202fceee0a0930ee3c8ad12d" category="sidebar">比较云存储池和 CloudMirror 复制</block>
  <block id="8ccfea9e25865441b736e3f931b5d943" category="sidebar">S3 ：指定云存储池的身份验证详细信息</block>
  <block id="eb3c05171c001eca6a78eb412c33da0c" category="sidebar">C2S S3 ：指定云存储池的身份验证详细信息</block>
  <block id="8c635407837a7eb85f76cf97c842d136" category="sidebar">Azure ：指定云存储池的身份验证详细信息</block>
  <block id="0f9a4da5935be65d5ef0d0f84e6f0fc4" category="sidebar">编辑云存储池</block>
  <block id="b5ef5aa2239a4ed863353060e1ca7244" category="sidebar">删除云存储池</block>
  <block id="657ec393142e39520244b84fa337ea5b" category="sidebar">配置擦除编码配置文件</block>
  <block id="17c2d17314356145a28dd219ea0e3e7a" category="sidebar">创建擦除编码配置文件</block>
  <block id="cf9fe9327f81098b7245cd4458a44302" category="sidebar">重命名擦除编码配置文件</block>
  <block id="317307eb65cd6f8e23b77d3b4be95caa" category="sidebar">停用擦除编码配置文件</block>
  <block id="eb512f89bcbc65d2bb85787669034b4d" category="sidebar">创建 ILM 规则</block>
  <block id="579d5091b5bde67ed8d5915dcbeea294" category="sidebar">访问创建 ILM 规则向导</block>
  <block id="b09cbaacbcadf6803921f70ea8b805a5" category="sidebar">创建默认 ILM 规则</block>
  <block id="0be885ea0f8c8f470e84b9439bd8c0a6" category="sidebar">创建 ILM 策略</block>
  <block id="6d0ffc4bdeccb22d6d46482c0c8c434e" category="sidebar">创建建议的 ILM 策略</block>
  <block id="21917f2e6ccf57dd09e19e0a5e276c38" category="sidebar">启用 S3 对象锁定后创建 ILM 策略</block>
  <block id="785001dd43a2cba9f4a3dfbc619ec791" category="sidebar">模拟 ILM 策略</block>
  <block id="a8a0506f8bf8fcbe8f51ba4eccf538d2" category="sidebar">激活 ILM 策略</block>
  <block id="ed6fb61d15600511cea54347da4745c4" category="sidebar">使用对象元数据查找验证 ILM 策略</block>
  <block id="4732245eb16e589d4f0d991282989dc6" category="sidebar">将 S3 对象锁定与 ILM 结合使用</block>
  <block id="d2d77c76e335b5a4df0926be419274fc" category="sidebar">解决更新 S3 对象锁定或原有合规性配置时出现的一致性错误</block>
  <block id="0768f3463d68242301579b01a8b29bce" category="sidebar">ILM 规则和策略示例</block>
  <block id="f80d145b43af41006d62b44cf7ab6292" category="sidebar">示例 6 ：更改 ILM 策略</block>
  <block id="6b958225bb88c2ebf664c0143b485aaf" category="sidebar">StorageGRID SG5600 存储设备</block>
  <block id="816f16f326a2a08af8538bc7883a65c0" category="sidebar">查看 SG5600 控制器的启动状态并查看错误代码</block>
</blocks>
