---
permalink: primer/performing-maintenance-procedures.html 
sidebar: sidebar 
keywords: software upgrade, hotfix, santricity 
summary: 您可以执行各种维护过程来使 StorageGRID 系统保持最新并确保其高效运行。网格管理器提供了一些工具和选项，可帮助您加快执行维护任务的过程。 
---
= 执行维护
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以执行各种维护过程来使 StorageGRID 系统保持最新并确保其高效运行。网格管理器提供了一些工具和选项，可帮助您加快执行维护任务的过程。



== 软件更新

您可以从网格管理器的软件更新页面执行三种类型的软件更新：

* StorageGRID 软件升级
* StorageGRID 热修补程序
* SANtricity 操作系统升级




== StorageGRID 软件升级

如果有新的 StorageGRID 功能版本，软件升级页面将指导您完成上传所需文件和升级 StorageGRID 系统的过程。您必须从主管理节点升级所有数据中心站点的所有网格节点。

在 StorageGRID 软件升级期间，客户端应用程序可以继续载入和检索对象数据。



== 修补程序

如果在功能版本之间检测到并解决了软件问题，您可能需要在 StorageGRID 系统中应用修补程序。

StorageGRID 修补程序包含在功能或修补程序版本之外进行的软件更改。未来版本也会进行同样的更改。

您可以通过下面所示的 StorageGRID 修复程序页面上传修复程序文件。

image::../media/hotfix_choose_file.png[StorageGRID 的第一个修复程序页面]

此修补程序会首先应用于主管理节点。然后，您必须批准将此修补程序应用于其他网格节点，直到 StorageGRID 系统中的所有节点运行相同的软件版本为止。您可以通过选择批准单个网格节点，网格节点组或所有网格节点来自定义批准顺序。


NOTE: 虽然所有网格节点都会使用新的修补程序版本进行更新，但修补程序中的实际更改可能仅影响特定类型节点上的特定服务。例如，某个修补程序可能只会影响存储节点上的 LDR 服务。



== SANtricity 操作系统升级

如果存储设备的存储控制器运行不正常，您可能需要升级 SANtricity 操作系统软件。您可以将 SANtricity OS 文件上传到 StorageGRID 系统中的主管理节点，并从网格管理器应用升级。

您可以通过下面显示的 SANtricity 页面上传 SANtricity 操作系统升级文件。

image::../media/santricity_os_upgrade_first.png[StorageGRID 的第一个 SANtricity OS 页面]

上传文件后，您可以在单个存储节点或所有节点上批准升级。通过有选择地批准节点，您可以更轻松地计划升级。批准升级某个节点后，系统将执行运行状况检查，如果此升级适用于此节点，则会安装此升级。



== 扩展过程

您可以通过以下方式扩展 StorageGRID 系统：向存储节点添加存储卷，向现有站点添加新的网格节点或添加新的数据中心站点。如果您的存储节点使用 SG6060 存储设备，则可以添加一个或两个扩展架，使此节点的存储容量增加一倍或三倍。

您可以在不中断当前系统运行的情况下执行扩展。添加节点或站点时，首先部署新节点，然后从网格扩展页面执行扩展操作步骤 。

image::../media/grid_expansion_progress.png[此图通过周围的文本进行了说明。]



== 节点恢复过程

如果硬件，虚拟化，操作系统或软件故障导致节点无法运行或不可靠，则网格节点可能会发生故障。

恢复网格节点的步骤取决于托管网格节点的平台以及网格节点的类型。每种类型的网格节点都有一个特定的恢复操作步骤 ，您必须严格遵循该恢复。通常，您会尝试尽可能保留故障网格节点中的数据，修复或更换故障节点，使用 " 恢复 " 页面配置替代节点并还原节点的数据。

例如，此流程图显示管理节点出现故障时的恢复操作步骤 。

image::../media/overview_admin_node_recovery.png[概述：管理节点恢复]



== 停用过程

您可能需要从 StorageGRID 系统中永久删除网格节点或整个数据中心站点。

例如，在以下情况下，您可能需要停用一个或多个网格节点：

* 您已向系统中添加较大的存储节点，并希望删除一个或多个较小的存储节点，同时保留对象。
* 您所需的总存储较少。
* 您不再需要网关节点或非主管理节点。
* 您的网格包含一个断开连接的节点，您无法恢复此节点或使其恢复联机。


您可以使用网格管理器中的 " 取消配置节点 " 页面删除以下类型的网格节点：

* 存储节点，除非站点上保留的节点不足以满足某些要求
* 网关节点
* 非主管理节点


image::../media/decommission_nodes_page_all_connected.png[取消配置页面的屏幕截图]

您可以使用网格管理器中的 " 弃用站点 " 页面删除站点。已连接站点停用会删除操作站点并保留数据。断开连接的站点停用会删除故障站点，但不会保留数据。" 取消配置站点 " 向导将指导您完成选择站点，查看站点详细信息，修改 ILM 策略，从 ILM 规则中删除站点引用以及解决任何节点冲突的过程。

image::../media/decommission_site_step_select_site.png[停用站点步骤 1]



== 网络维护过程

您可能需要执行的一些网络维护过程包括：

* 更新网格网络上的子网
* 使用更改 IP 工具更改网格部署期间最初设置的网络配置
* 添加，删除或更新域名系统（ DNS ）服务器
* 添加，删除或更新网络时间协议（ NTP ）服务器，以确保在网格节点之间准确同步数据
* 还原与可能已与网格其余部分隔离的节点的网络连接




== 主机级别和中间件过程

某些维护过程特定于在 Linux 或 VMware 上部署的 StorageGRID 节点，或者特定于 StorageGRID 解决方案 的其他组件。例如，您可能希望将网格节点迁移到其他 Linux 主机，或者对连接到 Tivoli Storage Manager （ TSM ）的归档节点执行维护。



== 设备节点克隆

通过设备节点克隆，您可以轻松地将网格中的现有设备节点替换为同一逻辑 StorageGRID 站点中具有较新设计或增强功能的设备。此过程会将所有数据传输到新设备，从而使其投入使用以更换旧设备节点，并使旧设备处于预安装状态。克隆提供了一个易于执行的硬件升级过程，并提供了替代设备的方法。



== 网格节点过程

您可能需要在特定网格节点上执行某些过程。例如，您可能需要重新启动网格节点或手动停止并重新启动特定网格节点服务。某些网格节点过程可以从网格管理器执行；另一些过程则要求您登录到网格节点并使用该节点的命令行。

.相关信息
* xref:../admin/index.adoc[管理 StorageGRID]
* xref:../upgrade/index.adoc[升级软件]
* xref:../expand/index.adoc[扩展网格]
* xref:../maintain/index.adoc[恢复和维护]

